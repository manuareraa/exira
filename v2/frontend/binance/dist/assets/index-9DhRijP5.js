import{aT as e,aW as t,aR as r,aS as n,aU as s,aX as i,aY as o,aZ as a,aV as c}from"./index-Dn4U-enM.js";import{j as l}from"./js-DHYcR_25.js";var u={},d={},h={};Object.defineProperty(h,"__esModule",{value:!0}),h.walletLogo=void 0;h.walletLogo=(e,t)=>{let r;switch(e){case"standard":default:return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`}};var p={};Object.defineProperty(p,"__esModule",{value:!0}),p.LINK_API_URL=void 0,p.LINK_API_URL="https://www.walletlink.org";var f={},g={},m={};Object.defineProperty(m,"__esModule",{value:!0}),m.errorValues=m.standardErrorCodes=void 0,m.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},m.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var _={},v={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=e.getErrorCode=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=m,r="Unspecified error message.";function n(n,s=r){if(n&&Number.isInteger(n)){const r=n.toString();if(a(t.errorValues,r))return t.errorValues[r].message;if(i(n))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return s}function s(e){if(!Number.isInteger(e))return!1;const r=e.toString();return!!t.errorValues[r]||!!i(e)}function i(e){return e>=-32099&&e<=-32e3}function o(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return"object"==typeof e&&null!==e&&t in e&&"string"==typeof e[t]}e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",e.getMessageFromCode=n,e.isValidCode=s,e.getErrorCode=function(e){var t;return"number"==typeof e?e:function(e){return"object"==typeof e&&null!==e&&("number"==typeof e.code||"number"==typeof e.errorCode)}(e)?null!==(t=e.code)&&void 0!==t?t:e.errorCode:void 0},e.serialize=function(e,{shouldIncludeStack:i=!1}={}){const l={};if(e&&"object"==typeof e&&!Array.isArray(e)&&a(e,"code")&&s(e.code)){const t=e;l.code=t.code,t.message&&"string"==typeof t.message?(l.message=t.message,a(t,"data")&&(l.data=t.data)):(l.message=n(l.code),l.data={originalError:o(e)})}else l.code=t.standardErrorCodes.rpc.internal,l.message=c(e,"message")?e.message:r,l.data={originalError:o(e)};return i&&(l.stack=c(e,"stack")?e.stack:void 0),l}}(v),Object.defineProperty(_,"__esModule",{value:!0}),_.standardErrors=void 0;const b=m,y=v;function w(e,t){const[r,n]=k(t);return new C(e,r||(0,y.getMessageFromCode)(e),n)}function E(e,t){const[r,n]=k(t);return new S(e,r||(0,y.getMessageFromCode)(e),n)}function k(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}_.standardErrors={rpc:{parse:e=>w(b.standardErrorCodes.rpc.parse,e),invalidRequest:e=>w(b.standardErrorCodes.rpc.invalidRequest,e),invalidParams:e=>w(b.standardErrorCodes.rpc.invalidParams,e),methodNotFound:e=>w(b.standardErrorCodes.rpc.methodNotFound,e),internal:e=>w(b.standardErrorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return w(t,e)},invalidInput:e=>w(b.standardErrorCodes.rpc.invalidInput,e),resourceNotFound:e=>w(b.standardErrorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>w(b.standardErrorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>w(b.standardErrorCodes.rpc.transactionRejected,e),methodNotSupported:e=>w(b.standardErrorCodes.rpc.methodNotSupported,e),limitExceeded:e=>w(b.standardErrorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>E(b.standardErrorCodes.provider.userRejectedRequest,e),unauthorized:e=>E(b.standardErrorCodes.provider.unauthorized,e),unsupportedMethod:e=>E(b.standardErrorCodes.provider.unsupportedMethod,e),disconnected:e=>E(b.standardErrorCodes.provider.disconnected,e),chainDisconnected:e=>E(b.standardErrorCodes.provider.chainDisconnected,e),unsupportedChain:e=>E(b.standardErrorCodes.provider.unsupportedChain,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new S(t,r,n)}}};let C=class extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}},S=class extends C{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}};var I={},R={};Object.defineProperty(R,"__esModule",{value:!0}),R.isErrorResponse=void 0,R.isErrorResponse=function(e){return void 0!==e.errorMessage};var x={};Object.defineProperty(x,"__esModule",{value:!0}),x.LIB_VERSION=void 0,x.LIB_VERSION="3.9.3",Object.defineProperty(I,"__esModule",{value:!0}),I.serializeError=void 0;const A=R,M=x,N=m,L=v;I.serializeError=function(e,t){const r=(0,L.serialize)(function(e){if("string"==typeof e)return{message:e,code:N.standardErrorCodes.rpc.internal};if((0,A.isErrorResponse)(e))return Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method}});return e}(e),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");n.searchParams.set("version",M.LIB_VERSION),n.searchParams.set("code",r.code.toString());const s=function(e,t){const r=null==e?void 0:e.method;if(r)return r;if(void 0===t)return;if("string"==typeof t)return t;if(!Array.isArray(t))return t.method;if(t.length>0)return t[0].method;return}(r.data,t);return s&&n.searchParams.set("method",s),n.searchParams.set("message",r.message),Object.assign(Object.assign({},r),{docUrl:n.href})},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.standardErrors=e.standardErrorCodes=e.serializeError=e.getMessageFromCode=e.getErrorCode=void 0;const t=m;Object.defineProperty(e,"standardErrorCodes",{enumerable:!0,get:function(){return t.standardErrorCodes}});const r=_;Object.defineProperty(e,"standardErrors",{enumerable:!0,get:function(){return r.standardErrors}});const n=I;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return n.serializeError}});const s=v;Object.defineProperty(e,"getErrorCode",{enumerable:!0,get:function(){return s.getErrorCode}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return s.getMessageFromCode}})}(g);var P,O,T={};function j(){return e=>e}Object.defineProperty(T,"__esModule",{value:!0}),T.ProviderType=T.RegExpString=T.IntNumber=T.BigIntString=T.AddressString=T.HexString=T.OpaqueType=void 0,T.OpaqueType=j,T.HexString=e=>e,T.AddressString=e=>e,T.BigIntString=e=>e,T.IntNumber=function(e){return Math.floor(e)},T.RegExpString=e=>e,(O=P||(T.ProviderType=P={})).CoinbaseWallet="CoinbaseWallet",O.MetaMask="MetaMask",O.Unselected="";var B=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(f,"__esModule",{value:!0}),f.isMobileWeb=f.getLocation=f.isInIFrame=f.createQrUrl=f.getFavicon=f.range=f.isBigNumber=f.ensureParsedJSONObject=f.ensureBN=f.ensureRegExpString=f.ensureIntNumber=f.ensureBuffer=f.ensureAddressString=f.ensureEvenLengthHexString=f.ensureHexString=f.isHexString=f.prepend0x=f.strip0x=f.has0xPrefix=f.hexStringFromIntNumber=f.intNumberFromHexString=f.bigIntStringFromBN=f.hexStringFromBuffer=f.hexStringToUint8Array=f.uint8ArrayToHex=f.randomBytesHex=void 0;const F=B(t),D=g,$=T,U=/^[0-9]*$/,H=/^[a-f0-9]*$/;function V(e){return[...e].map((e=>e.toString(16).padStart(2,"0"))).join("")}function W(e){return e.startsWith("0x")||e.startsWith("0X")}function q(e){return W(e)?e.slice(2):e}function z(e){return W(e)?`0x${e.slice(2)}`:`0x${e}`}function J(e){if("string"!=typeof e)return!1;const t=q(e).toLowerCase();return H.test(t)}function G(e,t=!1){if("string"==typeof e){const r=q(e).toLowerCase();if(H.test(r))return(0,$.HexString)(t?`0x${r}`:r)}throw D.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}function Z(e,t=!1){let r=G(e,!1);return r.length%2==1&&(r=(0,$.HexString)(`0${r}`)),t?(0,$.HexString)(`0x${r}`):r}function Q(e){if("number"==typeof e&&Number.isInteger(e))return(0,$.IntNumber)(e);if("string"==typeof e){if(U.test(e))return(0,$.IntNumber)(Number(e));if(J(e))return(0,$.IntNumber)(new F.default(Z(e,!1),16).toNumber())}throw D.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}function Y(e){if(null==e||"function"!=typeof e.constructor)return!1;const{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}function X(){try{return null!==window.frameElement}catch(e){return!1}}f.randomBytesHex=function(e){return V(crypto.getRandomValues(new Uint8Array(e)))},f.uint8ArrayToHex=V,f.hexStringToUint8Array=function(e){return new Uint8Array(e.match(/.{1,2}/g).map((e=>parseInt(e,16))))},f.hexStringFromBuffer=function(e,t=!1){const r=e.toString("hex");return(0,$.HexString)(t?`0x${r}`:r)},f.bigIntStringFromBN=function(e){return(0,$.BigIntString)(e.toString(10))},f.intNumberFromHexString=function(e){return(0,$.IntNumber)(new F.default(Z(e,!1),16).toNumber())},f.hexStringFromIntNumber=function(e){return(0,$.HexString)(`0x${new F.default(e).toString(16)}`)},f.has0xPrefix=W,f.strip0x=q,f.prepend0x=z,f.isHexString=J,f.ensureHexString=G,f.ensureEvenLengthHexString=Z,f.ensureAddressString=function(e){if("string"==typeof e){const t=q(e).toLowerCase();if(J(t)&&40===t.length)return(0,$.AddressString)(z(t))}throw D.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)},f.ensureBuffer=function(e){if(r.isBuffer(e))return e;if("string"==typeof e){if(J(e)){const t=Z(e,!1);return r.from(t,"hex")}return r.from(e,"utf8")}throw D.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)},f.ensureIntNumber=Q,f.ensureRegExpString=function(e){if(e instanceof RegExp)return(0,$.RegExpString)(e.toString());throw D.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)},f.ensureBN=function(e){if(null!==e&&(F.default.isBN(e)||Y(e)))return new F.default(e.toString(10),10);if("number"==typeof e)return new F.default(Q(e));if("string"==typeof e){if(U.test(e))return new F.default(e,10);if(J(e))return new F.default(Z(e,!1),16)}throw D.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)},f.ensureParsedJSONObject=function(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw D.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)},f.isBigNumber=Y,f.range=function(e,t){return Array.from({length:t-e},((t,r)=>e+r))},f.getFavicon=function(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")||n.startsWith("vbscript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`},f.createQrUrl=function(e,t,r,n,s,i){const o=n?"parent-id":"id";return`${r}/#/link?${new URLSearchParams({[o]:e,secret:t,server:r,v:s,chainId:i.toString()}).toString()}`},f.isInIFrame=X,f.getLocation=function(){try{return X()&&window.top?window.top.location:window.location}catch(e){return window.location}},f.isMobileWeb=function(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)};var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.ScopedLocalStorage=void 0;K.ScopedLocalStorage=class{constructor(e){this.scope=e}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),t=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);"string"==typeof n&&n.startsWith(e)&&t.push(n)}t.forEach((e=>localStorage.removeItem(e)))}scopedKey(e){return`${this.scope}:${e}`}};var ee={},te={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new s(n,i||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,s=[];if(0===this._eventsCount)return s;for(n in e=this._events)t.call(e,n)&&s.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var s=0,i=n.length,o=new Array(i);s<i;s++)o[s]=n[s].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,s,i,o){var a=r?r+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,s),!0;case 5:return u.fn.call(u.context,t,n,s,i),!0;case 6:return u.fn.call(u.context,t,n,s,i,o),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,p=u.length;for(l=0;l<p;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,s);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,s){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||s&&!a.once||n&&a.context!==n||o(this,i);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||s&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[i]=1===l.length?l[0]:l:o(this,i)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a}(te);var re=te.exports,ne={},se={},ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.EVENTS=void 0,ie.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var oe={};Object.defineProperty(oe,"__esModule",{value:!0}),oe.RelayAbstract=oe.APP_VERSION_KEY=oe.LOCAL_STORAGE_ADDRESSES_KEY=oe.WALLET_USER_NAME_KEY=void 0;const ae=g;oe.WALLET_USER_NAME_KEY="walletUsername",oe.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",oe.APP_VERSION_KEY="AppVersion";oe.RelayAbstract=class{async makeEthereumJSONRPCRequest(e,t){if(!t)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(t,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{if(!t)throw ae.standardErrors.rpc.parse({});const r=t,{error:n}=r;if(n)throw(0,ae.serializeError)(n,e.method);return r}))}};var ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.Session=void 0;const le=n,ue=f,de="session:id",he="session:secret",pe="session:linked";class fe{constructor(e,t,r,n){this._storage=e,this._id=t||(0,ue.randomBytesHex)(16),this._secret=r||(0,ue.randomBytesHex)(32),this._key=(new le.sha256).update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!n}static load(e){const t=e.getItem(de),r=e.getItem(pe),n=e.getItem(he);return t&&n?new fe(e,t,n,"1"===r):null}static hash(e){return(new le.sha256).update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(de,this._id),this._storage.setItem(he,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(pe,this._linked?"1":"0")}}ce.Session=fe;var ge={},me={};Object.defineProperty(me,"__esModule",{value:!0}),me.Cipher=void 0;const _e=f;me.Cipher=class{constructor(e){this.secret=e}async encrypt(e){const t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,_e.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,i=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,s.encode(e)),o=i.slice(i.byteLength-16),a=i.slice(0,i.byteLength-16),c=new Uint8Array(o),l=new Uint8Array(a),u=new Uint8Array([...r,...c,...l]);return(0,_e.uint8ArrayToHex)(u)}async decrypt(e){const t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");return new Promise(((r,n)=>{!async function(){const s=await crypto.subtle.importKey("raw",(0,_e.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,_e.hexStringToUint8Array)(e),o=i.slice(0,12),a=i.slice(12,28),c=i.slice(28),l=new Uint8Array([...c,...a]),u={name:"AES-GCM",iv:new Uint8Array(o)};try{const e=await window.crypto.subtle.decrypt(u,s,l),t=new TextDecoder;r(t.decode(e))}catch(d){n(d)}}()}))}};var ve={};Object.defineProperty(ve,"__esModule",{value:!0}),ve.WalletLinkHTTP=void 0;ve.WalletLinkHTTP=class{constructor(e,t,r){this.linkAPIUrl=e,this.sessionId=t;const n=`${t}:${r}`;this.auth=`Basic ${btoa(n)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map((e=>fetch(`${this.linkAPIUrl}/events/${e.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}})))).catch((e=>{}))}async fetchUnseenEvents(){var e;const t=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(t.ok){const{events:r,error:n}=await t.json();if(n)throw new Error(`Check unseen events failed: ${n}`);const s=null!==(e=null==r?void 0:r.filter((e=>"Web3Response"===e.event)).map((e=>({type:"Event",sessionId:this.sessionId,eventId:e.id,event:e.event,data:e.data}))))&&void 0!==e?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${t.status}`)}};var be,ye,we={};Object.defineProperty(we,"__esModule",{value:!0}),we.WalletLinkWebSocket=we.ConnectionState=void 0,(ye=be||(we.ConnectionState=be={}))[ye.DISCONNECTED=0]="DISCONNECTED",ye[ye.CONNECTING=1]="CONNECTING",ye[ye.CONNECTED=2]="CONNECTED";we.WalletLinkWebSocket=class{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,t=WebSocket){this.WebSocketClass=t,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise(((e,t)=>{var r;let n;try{this.webSocket=n=new this.WebSocketClass(this.url)}catch(s){return void t(s)}null===(r=this.connectionStateListener)||void 0===r||r.call(this,be.CONNECTING),n.onclose=e=>{var r;this.clearWebSocket(),t(new Error(`websocket error ${e.code}: ${e.reason}`)),null===(r=this.connectionStateListener)||void 0===r||r.call(this,be.DISCONNECTED)},n.onopen=t=>{var r;if(e(),null===(r=this.connectionStateListener)||void 0===r||r.call(this,be.CONNECTED),this.pendingData.length>0){[...this.pendingData].forEach((e=>this.sendData(e))),this.pendingData=[]}},n.onmessage=e=>{var t,r;if("h"===e.data)null===(t=this.incomingDataListener)||void 0===t||t.call(this,{type:"Heartbeat"});else try{const t=JSON.parse(e.data);null===(r=this.incomingDataListener)||void 0===r||r.call(this,t)}catch(n){}}}))}disconnect(){var e;const{webSocket:t}=this;if(t){this.clearWebSocket(),null===(e=this.connectionStateListener)||void 0===e||e.call(this,be.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{t.close()}catch(r){}}}sendData(e){const{webSocket:t}=this;if(!t)return this.pendingData.push(e),void this.connect();t.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}},Object.defineProperty(ge,"__esModule",{value:!0}),ge.WalletLinkConnection=void 0;const Ee=T,ke=me,Ce=ie,Se=oe,Ie=ce,Re=ve,xe=we;ge.WalletLinkConnection=class{constructor({session:e,linkAPIUrl:t,listener:r,diagnostic:n,WebSocketClass:s=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Ee.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=e=>{if(!e)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",t=>e.JsonRpcUrl&&this.handleChainUpdated(t,e.JsonRpcUrl)]]).forEach(((t,r)=>{const n=e[r];void 0!==n&&t(n)}))},this.handleDestroyed=e=>{var t,r;"1"===e&&(null===(t=this.listener)||void 0===t||t.resetAndReload(),null===(r=this.diagnostic)||void 0===r||r.log(Ce.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:Ie.Session.hash(this.session.id)}))},this.handleAccountUpdated=async e=>{var t,r;try{const r=await this.cipher.decrypt(e);null===(t=this.listener)||void 0===t||t.accountUpdated(r)}catch(n){null===(r=this.diagnostic)||void 0===r||r.log(Ce.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(e,t)=>{var r,n;try{const n=await this.cipher.decrypt(t);null===(r=this.listener)||void 0===r||r.metadataUpdated(e,n)}catch(s){null===(n=this.diagnostic)||void 0===n||n.log(Ce.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:e})}},this.handleWalletUsernameUpdated=async e=>{this.handleMetadataUpdated(Se.WALLET_USER_NAME_KEY,e)},this.handleAppVersionUpdated=async e=>{this.handleMetadataUpdated(Se.APP_VERSION_KEY,e)},this.handleChainUpdated=async(e,t)=>{var r,n;try{const n=await this.cipher.decrypt(e),s=await this.cipher.decrypt(t);null===(r=this.listener)||void 0===r||r.chainUpdated(n,s)}catch(s){null===(n=this.diagnostic)||void 0===n||n.log(Ce.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=e,this.cipher=new ke.Cipher(e.secret),this.diagnostic=n,this.listener=r;const i=new xe.WalletLinkWebSocket(`${t}/rpc`,s);i.setConnectionStateListener((async t=>{var r;null===(r=this.diagnostic)||void 0===r||r.log(Ce.EVENTS.CONNECTED_STATE_CHANGE,{state:t,sessionIdHash:Ie.Session.hash(e.id)});let n=!1;switch(t){case xe.ConnectionState.DISCONNECTED:if(!this.destroyed){const e=async()=>{await new Promise((e=>setTimeout(e,5e3))),this.destroyed||i.connect().catch((()=>{e()}))};e()}break;case xe.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),n=!0}catch(s){}this.updateLastHeartbeat(),setInterval((()=>{this.heartbeat()}),1e4),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();case xe.ConnectionState.CONNECTING:}this.connected!==n&&(this.connected=n)})),i.setIncomingDataListener((t=>{var r,n,s;switch(t.type){case"Heartbeat":return void this.updateLastHeartbeat();case"IsLinkedOK":case"Linked":{const n="IsLinkedOK"===t.type?t.linked:void 0;null===(r=this.diagnostic)||void 0===r||r.log(Ce.EVENTS.LINKED,{sessionIdHash:Ie.Session.hash(e.id),linked:n,type:t.type,onlineGuests:t.onlineGuests}),this.linked=n||t.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":null===(n=this.diagnostic)||void 0===n||n.log(Ce.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Ie.Session.hash(e.id),metadata_keys:t&&t.metadata?Object.keys(t.metadata):void 0}),this.handleSessionMetadataUpdated(t.metadata);break;case"Event":this.handleIncomingEvent(t)}void 0!==t.id&&(null===(s=this.requestResolutions.get(t.id))||void 0===s||s(t))})),this.ws=i,this.http=new Re.WalletLinkHTTP(t,e.id,e.key)}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");null===(e=this.diagnostic)||void 0===e||e.log(Ce.EVENTS.STARTED_CONNECTING,{sessionIdHash:Ie.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var e;this.destroyed=!0,this.ws.disconnect(),null===(e=this.diagnostic)||void 0===e||e.log(Ce.EVENTS.DISCONNECTED,{sessionIdHash:Ie.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(e){var t,r;this._connected=e,e&&(null===(t=this.onceConnected)||void 0===t||t.call(this)),null===(r=this.listener)||void 0===r||r.connectedUpdated(e)}setOnceConnected(e){return new Promise((t=>{this.connected?e().then(t):this.onceConnected=()=>{e().then(t),this.onceConnected=void 0}}))}get linked(){return this._linked}set linked(e){var t,r;this._linked=e,e&&(null===(t=this.onceLinked)||void 0===t||t.call(this)),null===(r=this.listener)||void 0===r||r.linkedUpdated(e)}setOnceLinked(e){return new Promise((t=>{this.linked?e().then(t):this.onceLinked=()=>{e().then(t),this.onceLinked=void 0}}))}async handleIncomingEvent(e){var t,r;if("Event"===e.type&&"Web3Response"===e.event)try{const r=await this.cipher.decrypt(e.data),n=JSON.parse(r);if("WEB3_RESPONSE"!==n.type)return;null===(t=this.listener)||void 0===t||t.handleWeb3ResponseMessage(n)}catch(n){null===(r=this.diagnostic)||void 0===r||r.log(Ce.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(this.connected){await new Promise((e=>setTimeout(e,250)));try{await this.fetchUnseenEventsAPI()}catch(e){}}else this.shouldFetchUnseenEventsOnConnect=!0}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1;(await this.http.fetchUnseenEvents()).forEach((e=>this.handleIncomingEvent(e)))}async setSessionMetadata(e,t){const r={type:"SetSessionConfig",id:(0,Ee.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[e]:t}};return this.setOnceConnected((async()=>{const e=await this.makeRequest(r);if("Fail"===e.type)throw new Error(e.error||"failed to set session metadata")}))}async publishEvent(e,t,r=!1){const n=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:(0,Ee.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:e,data:n,callWebhook:r};return this.setOnceLinked((async()=>{const e=await this.makeRequest(s);if("Fail"===e.type)throw new Error(e.error||"failed to publish event");return e.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2e4)this.ws.disconnect();else try{this.ws.sendData("h")}catch(e){}}async makeRequest(e,t=6e4){const r=e.id;let n;return this.sendData(e),Promise.race([new Promise(((e,s)=>{n=window.setTimeout((()=>{s(new Error(`request ${r} timed out`))}),t)})),new Promise((e=>{this.requestResolutions.set(r,(t=>{clearTimeout(n),e(t),this.requestResolutions.delete(r)}))}))])}async authenticate(){const e={type:"HostSession",id:(0,Ee.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},t=await this.makeRequest(e);if("Fail"===t.type)throw new Error(t.error||"failed to authentcate")}sendIsLinked(){const e={type:"IsLinked",id:(0,Ee.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}sendGetSessionConfig(){const e={type:"GetSessionConfig",id:(0,Ee.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}};var Ae={},Me={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=(()=>'@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}')();var Le=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Me,"__esModule",{value:!0}),Me.injectCssReset=void 0;const Pe=Le(Ne);Me.injectCssReset=function(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(Pe.default)),document.documentElement.appendChild(e)};var Oe,Te,je,Be,Fe,De,$e,Ue,He,Ve,We,qe,ze={},Je={},Ge=[],Ze=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Qe=Array.isArray;function Ye(e,t){for(var r in t)e[r]=t[r];return e}function Xe(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ke(e,t,r){var n,s,i,o={};for(i in t)"key"==i?n=t[i]:"ref"==i?s=t[i]:o[i]=t[i];if(arguments.length>2&&(o.children=arguments.length>3?Oe.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===o[i]&&(o[i]=e.defaultProps[i]);return et(e,o,n,s,null)}function et(e,t,r,n,s){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==s?++je:s,__i:-1,__u:0};return null==s&&null!=Te.vnode&&Te.vnode(i),i}function tt(e){return e.children}function rt(e,t){this.props=e,this.context=t}function nt(e,t){if(null==t)return e.__?nt(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?nt(e):null}function st(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return st(e)}}function it(e){(!e.__d&&(e.__d=!0)&&Fe.push(e)&&!ot.__r++||De!==Te.debounceRendering)&&((De=Te.debounceRendering)||$e)(ot)}function ot(){var e,t,r,n,s,i,o,a;for(Fe.sort(Ue);e=Fe.shift();)e.__d&&(t=Fe.length,n=void 0,i=(s=(r=e).__v).__e,o=[],a=[],r.__P&&((n=Ye({},s)).__v=s.__v+1,Te.vnode&&Te.vnode(n),pt(r.__P,n,s,r.__n,r.__P.namespaceURI,32&s.__u?[i]:null,o,null==i?nt(s):i,!!(32&s.__u),a),n.__v=s.__v,n.__.__k[n.__i]=n,ft(o,n,a),n.__e!=i&&st(n)),Fe.length>t&&Fe.sort(Ue));ot.__r=0}function at(e,t,r,n,s,i,o,a,c,l,u){var d,h,p,f,g,m=n&&n.__k||Ge,_=t.length;for(r.__d=c,function(e,t,r){var n,s,i,o,a,c=t.length,l=r.length,u=l,d=0;for(e.__k=[],n=0;n<c;n++)null!=(s=t[n])&&"boolean"!=typeof s&&"function"!=typeof s?(o=n+d,(s=e.__k[n]="string"==typeof s||"number"==typeof s||"bigint"==typeof s||s.constructor==String?et(null,s,null,null,null):Qe(s)?et(tt,{children:s},null,null,null):void 0===s.constructor&&s.__b>0?et(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,i=null,-1!==(a=s.__i=lt(s,r,o,u))&&(u--,(i=r[a])&&(i.__u|=131072)),null==i||null===i.__v?(-1==a&&d--,"function"!=typeof s.type&&(s.__u|=65536)):a!==o&&(a==o-1?d--:a==o+1?d++:(a>o?d--:d++,s.__u|=65536))):s=e.__k[n]=null;if(u)for(n=0;n<l;n++)null!=(i=r[n])&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=nt(i)),mt(i,i))}(r,t,m),c=r.__d,d=0;d<_;d++)null!=(p=r.__k[d])&&(h=-1===p.__i?Je:m[p.__i]||Je,p.__i=d,pt(e,p,h,s,i,o,a,c,l,u),f=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&gt(h.ref,null,p),u.push(p.ref,p.__c||f,p)),null==g&&null!=f&&(g=f),65536&p.__u||h.__k===p.__k?c=ct(p,c,e):"function"==typeof p.type&&void 0!==p.__d?c=p.__d:f&&(c=f.nextSibling),p.__d=void 0,p.__u&=-196609);r.__d=c,r.__e=g}function ct(e,t,r){var n,s;if("function"==typeof e.type){for(n=e.__k,s=0;n&&s<n.length;s++)n[s]&&(n[s].__=e,t=ct(n[s],t,r));return t}e.__e!=t&&(t&&e.type&&!r.contains(t)&&(t=nt(e)),r.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function lt(e,t,r,n){var s=e.key,i=e.type,o=r-1,a=r+1,c=t[r];if(null===c||c&&s==c.key&&i===c.type&&!(131072&c.__u))return r;if(n>(null==c||131072&c.__u?0:1))for(;o>=0||a<t.length;){if(o>=0){if((c=t[o])&&!(131072&c.__u)&&s==c.key&&i===c.type)return o;o--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&s==c.key&&i===c.type)return a;a++}}return-1}function ut(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||Ze.test(t)?r:r+"px"}function dt(e,t,r,n,s){var i;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||ut(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||ut(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=r,r?n?r.u=n.u:(r.u=He,e.addEventListener(t,i?We:Ve,i)):e.removeEventListener(t,i?We:Ve,i);else{if("http://www.w3.org/2000/svg"==s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(o){}"function"==typeof r||(null==r||!1===r&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function ht(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.t)t.t=He++;else if(t.t<r.u)return;return r(Te.event?Te.event(t):t)}}}function pt(e,t,r,n,s,i,o,a,c,l){var u,d,h,p,f,g,m,_,v,b,y,w,E,k,C,S,I=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(c=!!(32&r.__u),i=[a=t.__e=r.__e]),(u=Te.__b)&&u(t);e:if("function"==typeof I)try{if(_=t.props,v="prototype"in I&&I.prototype.render,b=(u=I.contextType)&&n[u.__c],y=u?b?b.props.value:u.__:n,r.__c?m=(d=t.__c=r.__c).__=d.__E:(v?t.__c=d=new I(_,y):(t.__c=d=new rt(_,y),d.constructor=I,d.render=_t),b&&b.sub(d),d.props=_,d.state||(d.state={}),d.context=y,d.__n=n,h=d.__d=!0,d.__h=[],d._sb=[]),v&&null==d.__s&&(d.__s=d.state),v&&null!=I.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=Ye({},d.__s)),Ye(d.__s,I.getDerivedStateFromProps(_,d.__s))),p=d.props,f=d.state,d.__v=t,h)v&&null==I.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),v&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(v&&null==I.getDerivedStateFromProps&&_!==p&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(_,y),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(_,d.__s,y)||t.__v===r.__v)){for(t.__v!==r.__v&&(d.props=_,d.state=d.__s,d.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some((function(e){e&&(e.__=t)})),w=0;w<d._sb.length;w++)d.__h.push(d._sb[w]);d._sb=[],d.__h.length&&o.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(_,d.__s,y),v&&null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(p,f,g)}))}if(d.context=y,d.props=_,d.__P=e,d.__e=!1,E=Te.__r,k=0,v){for(d.state=d.__s,d.__d=!1,E&&E(t),u=d.render(d.props,d.state,d.context),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[]}else do{d.__d=!1,E&&E(t),u=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++k<25);d.state=d.__s,null!=d.getChildContext&&(n=Ye(Ye({},n),d.getChildContext())),v&&!h&&null!=d.getSnapshotBeforeUpdate&&(g=d.getSnapshotBeforeUpdate(p,f)),at(e,Qe(S=null!=u&&u.type===tt&&null==u.key?u.props.children:u)?S:[S],t,r,n,s,i,o,a,c,l),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),m&&(d.__E=d.__=null)}catch(R){if(t.__v=null,c||null!=i){for(t.__u|=c?160:32;a&&8===a.nodeType&&a.nextSibling;)a=a.nextSibling;i[i.indexOf(a)]=null,t.__e=a}else t.__e=r.__e,t.__k=r.__k;Te.__e(R,t,r)}else null==i&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,s,i,o,a,c){var l,u,d,h,p,f,g,m=r.props,_=t.props,v=t.type;if("svg"===v?s="http://www.w3.org/2000/svg":"math"===v?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),null!=i)for(l=0;l<i.length;l++)if((p=i[l])&&"setAttribute"in p==!!v&&(v?p.localName===v:3===p.nodeType)){e=p,i[l]=null;break}if(null==e){if(null===v)return document.createTextNode(_);e=document.createElementNS(s,v,_.is&&_),a&&(Te.__m&&Te.__m(t,i),a=!1),i=null}if(null===v)m===_||a&&e.data===_||(e.data=_);else{if(i=i&&Oe.call(e.childNodes),m=r.props||Je,!a&&null!=i)for(m={},l=0;l<e.attributes.length;l++)m[(p=e.attributes[l]).name]=p.value;for(l in m)if(p=m[l],"children"==l);else if("dangerouslySetInnerHTML"==l)d=p;else if(!(l in _)){if("value"==l&&"defaultValue"in _||"checked"==l&&"defaultChecked"in _)continue;dt(e,l,null,p,s)}for(l in _)p=_[l],"children"==l?h=p:"dangerouslySetInnerHTML"==l?u=p:"value"==l?f=p:"checked"==l?g=p:a&&"function"!=typeof p||m[l]===p||dt(e,l,p,m[l],s);if(u)a||d&&(u.__html===d.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(d&&(e.innerHTML=""),at(e,Qe(h)?h:[h],t,r,n,"foreignObject"===v?"http://www.w3.org/1999/xhtml":s,i,o,i?i[0]:r.__k&&nt(r,0),a,c),null!=i)for(l=i.length;l--;)Xe(i[l]);a||(l="value","progress"===v&&null==f?e.removeAttribute("value"):void 0!==f&&(f!==e[l]||"progress"===v&&!f||"option"===v&&f!==m[l])&&dt(e,l,f,m[l],s),l="checked",void 0!==g&&g!==e[l]&&dt(e,l,g,m[l],s))}return e}(r.__e,t,r,n,s,i,o,c,l);(u=Te.diffed)&&u(t)}function ft(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)gt(r[n],r[++n],r[++n]);Te.__c&&Te.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(r){Te.__e(r,t.__v)}}))}function gt(e,t,r){try{if("function"==typeof e){var n="function"==typeof e.__u;n&&e.__u(),n&&null==t||(e.__u=e(t))}else e.current=t}catch(s){Te.__e(s,r)}}function mt(e,t,r){var n,s;if(Te.unmount&&Te.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||gt(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){Te.__e(i,t)}n.base=n.__P=null}if(n=e.__k)for(s=0;s<n.length;s++)n[s]&&mt(n[s],t,r||"function"!=typeof e.type);r||Xe(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function _t(e,t,r){return this.constructor(e,r)}function vt(e,t,r){var n,s,i,o;Te.__&&Te.__(e,t),s=(n="function"==typeof r)?null:r&&r.__k||t.__k,i=[],o=[],pt(t,e=(!n&&r||t).__k=Ke(tt,null,[e]),s||Je,Je,t.namespaceURI,!n&&r?[r]:s?null:t.firstChild?Oe.call(t.childNodes):null,i,!n&&r?r:s?s.__e:t.firstChild,n,o),ft(i,e,o)}Oe=Ge.slice,Te={__e:function(e,t,r,n){for(var s,i,o;t=t.__;)if((s=t.__c)&&!s.__)try{if((i=s.constructor)&&null!=i.getDerivedStateFromError&&(s.setState(i.getDerivedStateFromError(e)),o=s.__d),null!=s.componentDidCatch&&(s.componentDidCatch(e,n||{}),o=s.__d),o)return s.__E=s}catch(a){e=a}throw e}},je=0,Be=function(e){return null!=e&&null==e.constructor},rt.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Ye({},this.state),"function"==typeof e&&(e=e(Ye({},r),this.props)),e&&Ye(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),it(this))},rt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),it(this))},rt.prototype.render=tt,Fe=[],$e="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ue=function(e,t){return e.__v.__b-t.__v.__b},ot.__r=0,He=0,Ve=ht(!1),We=ht(!0),qe=0;const bt=Object.freeze(Object.defineProperty({__proto__:null,Component:rt,Fragment:tt,cloneElement:function(e,t,r){var n,s,i,o,a=Ye({},e.props);for(i in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)"key"==i?n=t[i]:"ref"==i?s=t[i]:a[i]=void 0===t[i]&&void 0!==o?o[i]:t[i];return arguments.length>2&&(a.children=arguments.length>3?Oe.call(arguments,2):r),et(e.type,a,n||e.key,s||e.ref,null)},createContext:function(e,t){var r={__c:t="__cC"+qe++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,n;return this.getChildContext||(r=[],(n={})[t]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&r.some((function(e){e.__e=!0,it(e)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r&&r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return r.Provider.__=r.Consumer.contextType=r},createElement:Ke,createRef:function(){return{current:null}},h:Ke,hydrate:function e(t,r){vt(t,r,e)},get isValidElement(){return Be},get options(){return Te},render:vt,toChildArray:function e(t,r){return r=r||[],null==t||"boolean"==typeof t||(Qe(t)?t.some((function(t){e(t,r)})):r.push(t)),r}},Symbol.toStringTag,{value:"Module"})),yt=s(bt);var wt={};function Et(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Et(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function kt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Et(e))&&(n&&(n+=" "),n+=t);return n}const Ct=s(Object.freeze(Object.defineProperty({__proto__:null,clsx:kt,default:kt},Symbol.toStringTag,{value:"Module"})));var St,It,Rt,xt,At=0,Mt=[],Nt=Te,Lt=Nt.__b,Pt=Nt.__r,Ot=Nt.diffed,Tt=Nt.__c,jt=Nt.unmount,Bt=Nt.__;function Ft(e,t){Nt.__h&&Nt.__h(It,e,At||t),At=0;var r=It.__H||(It.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function Dt(e){return At=1,$t(Zt,e)}function $t(e,t,r){var n=Ft(St++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):Zt(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],r=n.t(t,e);t!==r&&(n.__N=[r,n.__[1]],n.__c.setState({}))}],n.__c=It,!It.u)){var s=function(e,t,r){if(!n.__c.__H)return!0;var s=n.__c.__H.__.filter((function(e){return!!e.__c}));if(s.every((function(e){return!e.__N})))return!i||i.call(this,e,t,r);var o=!1;return s.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),!(!o&&n.__c.props===e)&&(!i||i.call(this,e,t,r))};It.u=!0;var i=It.shouldComponentUpdate,o=It.componentWillUpdate;It.componentWillUpdate=function(e,t,r){if(this.__e){var n=i;i=void 0,s(e,t,r),i=n}o&&o.call(this,e,t,r)},It.shouldComponentUpdate=s}return n.__N||n.__}function Ut(e,t){var r=Ft(St++,4);!Nt.__s&&Gt(r.__H,t)&&(r.__=e,r.i=t,It.__h.push(r))}function Ht(e,t){var r=Ft(St++,7);return Gt(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function Vt(){for(var e;e=Mt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(zt),e.__H.__h.forEach(Jt),e.__H.__h=[]}catch(t){e.__H.__h=[],Nt.__e(t,e.__v)}}Nt.__b=function(e){It=null,Lt&&Lt(e)},Nt.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Bt&&Bt(e,t)},Nt.__r=function(e){Pt&&Pt(e),St=0;var t=(It=e.__c).__H;t&&(Rt===It?(t.__h=[],It.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.i=e.__N=void 0}))):(t.__h.forEach(zt),t.__h.forEach(Jt),t.__h=[],St=0)),Rt=It},Nt.diffed=function(e){Ot&&Ot(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Mt.push(t)&&xt===Nt.requestAnimationFrame||((xt=Nt.requestAnimationFrame)||qt)(Vt)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.i=void 0}))),Rt=It=null},Nt.__c=function(e,t){t.some((function(e){try{e.__h.forEach(zt),e.__h=e.__h.filter((function(e){return!e.__||Jt(e)}))}catch(r){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Nt.__e(r,e.__v)}})),Tt&&Tt(e,t)},Nt.unmount=function(e){jt&&jt(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach((function(e){try{zt(e)}catch(r){t=r}})),r.__H=void 0,t&&Nt.__e(t,r.__v))};var Wt="function"==typeof requestAnimationFrame;function qt(e){var t,r=function(){clearTimeout(n),Wt&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);Wt&&(t=requestAnimationFrame(r))}function zt(e){var t=It,r=e.__c;"function"==typeof r&&(e.__c=void 0,r()),It=t}function Jt(e){var t=It;e.__c=e.__(),It=t}function Gt(e,t){return!e||e.length!==t.length||t.some((function(t,r){return t!==e[r]}))}function Zt(e,t){return"function"==typeof t?t(e):t}const Qt=Object.freeze(Object.defineProperty({__proto__:null,useCallback:function(e,t){return At=8,Ht((function(){return e}),t)},useContext:function(e){var t=It.context[e.__c],r=Ft(St++,9);return r.c=e,t?(null==r.__&&(r.__=!0,t.sub(It)),t.props.value):e.__},useDebugValue:function(e,t){Nt.useDebugValue&&Nt.useDebugValue(t?t(e):e)},useEffect:function(e,t){var r=Ft(St++,3);!Nt.__s&&Gt(r.__H,t)&&(r.__=e,r.i=t,It.__H.__h.push(r))},useErrorBoundary:function(e){var t=Ft(St++,10),r=Dt();return t.__=e,It.componentDidCatch||(It.componentDidCatch=function(e,n){t.__&&t.__(e,n),r[1](e)}),[r[0],function(){r[1](void 0)}]},useId:function(){var e=Ft(St++,11);if(!e.__){for(var t=It.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var r=t.__m||(t.__m=[0,0]);e.__="P"+r[0]+"-"+r[1]++}return e.__},useImperativeHandle:function(e,t,r){At=6,Ut((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==r?r:r.concat(e))},useLayoutEffect:Ut,useMemo:Ht,useReducer:$t,useRef:function(e){return At=5,Ht((function(){return{current:e}}),[])},useState:Dt},Symbol.toStringTag,{value:"Module"})),Yt=s(Qt);var Xt={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.CloseIcon=void 0;const er=yt;Kt.CloseIcon=function(e){return(0,er.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,er.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))};var tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.CoinbaseWalletRound=void 0;const rr=yt;tr.CoinbaseWalletRound=function(e){return(0,rr.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,rr.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,rr.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,rr.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))};var nr={};Object.defineProperty(nr,"__esModule",{value:!0}),nr.QRCodeIcon=void 0;const sr=yt;nr.QRCodeIcon=function(e){return(0,sr.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),(0,sr.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,sr.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,sr.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,sr.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))};var ir={};function or(e){this.mode=cr.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var n=[],s=this.data.charCodeAt(t);s>65536?(n[0]=240|(1835008&s)>>>18,n[1]=128|(258048&s)>>>12,n[2]=128|(4032&s)>>>6,n[3]=128|63&s):s>2048?(n[0]=224|(61440&s)>>>12,n[1]=128|(4032&s)>>>6,n[2]=128|63&s):s>128?(n[0]=192|(1984&s)>>>6,n[1]=128|63&s):n[0]=s,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function ar(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}or.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}},ar.prototype={addData:function(e){var t=new or(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=ar.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+r][t+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=wr.getLostPoint(this);(0==r||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r);this.make();for(var s=0;s<this.modules.length;s++)for(var i=1*s,o=0;o<this.modules[s].length;o++){var a=1*o;this.modules[s][o]&&(n.beginFill(0,100),n.moveTo(a,i),n.lineTo(a+1,i),n.lineTo(a+1,i+1),n.lineTo(a,i+1),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=wr.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],s=e[r];if(null==this.modules[n][s])for(var i=-2;i<=2;i++)for(var o=-2;o<=2;o++)this.modules[n+i][s+o]=-2==i||2==i||-2==o||2==o||0==i&&0==o}},setupTypeNumber:function(e){for(var t=wr.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++){n=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=wr.getBCHTypeInfo(r),s=0;s<15;s++){var i=!e&&1==(n>>s&1);s<6?this.modules[s][8]=i:s<8?this.modules[s+1][8]=i:this.modules[this.moduleCount-15+s][8]=i}for(s=0;s<15;s++){i=!e&&1==(n>>s&1);s<8?this.modules[8][this.moduleCount-s-1]=i:s<9?this.modules[8][15-s-1+1]=i:this.modules[8][15-s-1]=i}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,s=7,i=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var a=0;a<2;a++)if(null==this.modules[n][o-a]){var c=!1;i<e.length&&(c=1==(e[i]>>>s&1)),wr.getMask(t,n,o-a)&&(c=!c),this.modules[n][o-a]=c,-1==--s&&(i++,s=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}},ar.PAD0=236,ar.PAD1=17,ar.createData=function(e,t,r){for(var n=Sr.getRSBlocks(e,t),s=new Ir,i=0;i<r.length;i++){var o=r[i];s.put(o.mode,4),s.put(o.getLength(),wr.getLengthInBits(o.mode,e)),o.write(s)}var a=0;for(i=0;i<n.length;i++)a+=n[i].dataCount;if(s.getLengthInBits()>8*a)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*a+")");for(s.getLengthInBits()+4<=8*a&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*a||(s.put(ar.PAD0,8),s.getLengthInBits()>=8*a));)s.put(ar.PAD1,8);return ar.createBytes(s,n)},ar.createBytes=function(e,t){for(var r=0,n=0,s=0,i=new Array(t.length),o=new Array(t.length),a=0;a<t.length;a++){var c=t[a].dataCount,l=t[a].totalCount-c;n=Math.max(n,c),s=Math.max(s,l),i[a]=new Array(c);for(var u=0;u<i[a].length;u++)i[a][u]=255&e.buffer[u+r];r+=c;var d=wr.getErrorCorrectPolynomial(l),h=new Cr(i[a],d.getLength()-1).mod(d);o[a]=new Array(d.getLength()-1);for(u=0;u<o[a].length;u++){var p=u+h.getLength()-o[a].length;o[a][u]=p>=0?h.get(p):0}}var f=0;for(u=0;u<t.length;u++)f+=t[u].totalCount;var g=new Array(f),m=0;for(u=0;u<n;u++)for(a=0;a<t.length;a++)u<i[a].length&&(g[m++]=i[a][u]);for(u=0;u<s;u++)for(a=0;a<t.length;a++)u<o[a].length&&(g[m++]=o[a][u]);return g};for(var cr={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},lr=1,ur=0,dr=3,hr=2,pr=0,fr=1,gr=2,mr=3,_r=4,vr=5,br=6,yr=7,wr={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;wr.getBCHDigit(t)-wr.getBCHDigit(wr.G15)>=0;)t^=wr.G15<<wr.getBCHDigit(t)-wr.getBCHDigit(wr.G15);return(e<<10|t)^wr.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;wr.getBCHDigit(t)-wr.getBCHDigit(wr.G18)>=0;)t^=wr.G18<<wr.getBCHDigit(t)-wr.getBCHDigit(wr.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return wr.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case pr:return(t+r)%2==0;case fr:return t%2==0;case gr:return r%3==0;case mr:return(t+r)%3==0;case _r:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case vr:return t*r%2+t*r%3==0;case br:return(t*r%2+t*r%3)%2==0;case yr:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Cr([1],0),r=0;r<e;r++)t=t.multiply(new Cr([1,Er.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case cr.MODE_NUMBER:return 10;case cr.MODE_ALPHA_NUM:return 9;case cr.MODE_8BIT_BYTE:case cr.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case cr.MODE_NUMBER:return 12;case cr.MODE_ALPHA_NUM:return 11;case cr.MODE_8BIT_BYTE:return 16;case cr.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case cr.MODE_NUMBER:return 14;case cr.MODE_ALPHA_NUM:return 13;case cr.MODE_8BIT_BYTE:return 16;case cr.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var s=0;s<t;s++){for(var i=0,o=e.isDark(n,s),a=-1;a<=1;a++)if(!(n+a<0||t<=n+a))for(var c=-1;c<=1;c++)s+c<0||t<=s+c||0==a&&0==c||o==e.isDark(n+a,s+c)&&i++;i>5&&(r+=3+i-5)}for(n=0;n<t-1;n++)for(s=0;s<t-1;s++){var l=0;e.isDark(n,s)&&l++,e.isDark(n+1,s)&&l++,e.isDark(n,s+1)&&l++,e.isDark(n+1,s+1)&&l++,0!=l&&4!=l||(r+=3)}for(n=0;n<t;n++)for(s=0;s<t-6;s++)e.isDark(n,s)&&!e.isDark(n,s+1)&&e.isDark(n,s+2)&&e.isDark(n,s+3)&&e.isDark(n,s+4)&&!e.isDark(n,s+5)&&e.isDark(n,s+6)&&(r+=40);for(s=0;s<t;s++)for(n=0;n<t-6;n++)e.isDark(n,s)&&!e.isDark(n+1,s)&&e.isDark(n+2,s)&&e.isDark(n+3,s)&&e.isDark(n+4,s)&&!e.isDark(n+5,s)&&e.isDark(n+6,s)&&(r+=40);var u=0;for(s=0;s<t;s++)for(n=0;n<t;n++)e.isDark(n,s)&&u++;return r+=10*(Math.abs(100*u/t/t-50)/5)}},Er={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Er.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Er.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},kr=0;kr<8;kr++)Er.EXP_TABLE[kr]=1<<kr;for(kr=8;kr<256;kr++)Er.EXP_TABLE[kr]=Er.EXP_TABLE[kr-4]^Er.EXP_TABLE[kr-5]^Er.EXP_TABLE[kr-6]^Er.EXP_TABLE[kr-8];for(kr=0;kr<255;kr++)Er.LOG_TABLE[Er.EXP_TABLE[kr]]=kr;function Cr(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}function Sr(e,t){this.totalCount=e,this.dataCount=t}function Ir(){this.buffer=[],this.length=0}Cr.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=Er.gexp(Er.glog(this.get(r))+Er.glog(e.get(n)));return new Cr(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Er.glog(this.get(0))-Er.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(n=0;n<e.getLength();n++)r[n]^=Er.gexp(Er.glog(e.get(n))+t);return new Cr(r,0).mod(e)}},Sr.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],Sr.getRSBlocks=function(e,t){var r=Sr.getRsBlockTable(e,t);if(null==r)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,s=[],i=0;i<n;i++)for(var o=r[3*i+0],a=r[3*i+1],c=r[3*i+2],l=0;l<o;l++)s.push(new Sr(a,c));return s},Sr.getRsBlockTable=function(e,t){switch(t){case lr:return Sr.RS_BLOCK_TABLE[4*(e-1)+0];case ur:return Sr.RS_BLOCK_TABLE[4*(e-1)+1];case dr:return Sr.RS_BLOCK_TABLE[4*(e-1)+2];case hr:return Sr.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},Ir.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Rr=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function xr(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},"string"==typeof e&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var r=this.options.content,n=function(e,t){for(var r=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),n=1,s=0,i=0,o=Rr.length;i<=o;i++){var a=Rr[i];if(!a)throw new Error("Content too long: expected "+s+" but got "+r);switch(t){case"L":s=a[0];break;case"M":s=a[1];break;case"Q":s=a[2];break;case"H":s=a[3];break;default:throw new Error("Unknwon error correction level: "+t)}if(r<=s)break;n++}if(n>Rr.length)throw new Error("Content too long");return n}(r,this.options.ecl),s=function(e){switch(e){case"L":return lr;case"M":return ur;case"Q":return dr;case"H":return hr;default:throw new Error("Unknwon error correction level: "+e)}}(this.options.ecl);this.qrcode=new ar(n,s),this.qrcode.addData(r),this.qrcode.make()}xr.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;void 0===e&&(e={container:t.container||"svg"});for(var n=void 0===t.pretty||!!t.pretty,s=n?"  ":"",i=n?"\r\n":"",o=t.width,a=t.height,c=r.length,l=o/(c+2*t.padding),u=a/(c+2*t.padding),d=void 0!==t.join&&!!t.join,h=void 0!==t.swap&&!!t.swap,p=void 0===t.xmlDeclaration||!!t.xmlDeclaration,f=void 0!==t.predefined&&!!t.predefined,g=f?s+'<defs><path id="qrmodule" d="M0 0 h'+u+" v"+l+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+i:"",m=s+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+i,_="",v="",b=0;b<c;b++)for(var y=0;y<c;y++){if(r[y][b]){var w=y*l+t.padding*l,E=b*u+t.padding*u;if(h){var k=w;w=E,E=k}if(d){var C=l+w,S=u+E;w=Number.isInteger(w)?Number(w):w.toFixed(2),E=Number.isInteger(E)?Number(E):E.toFixed(2),C=Number.isInteger(C)?Number(C):C.toFixed(2),v+="M"+w+","+E+" V"+(S=Number.isInteger(S)?Number(S):S.toFixed(2))+" H"+C+" V"+E+" H"+w+" Z "}else _+=f?s+'<use x="'+w.toString()+'" y="'+E.toString()+'" href="#qrmodule" />'+i:s+'<rect x="'+w.toString()+'" y="'+E.toString()+'" width="'+l+'" height="'+u+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+i}}d&&(_=s+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+v+'" />');let I="";if(void 0!==this.options.image&&this.options.image.svg){const e=o*this.options.image.width/100,t=a*this.options.image.height/100;I+=`<svg x="${o/2-e/2}" y="${a/2-t/2}" width="${e}" height="${t}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,I+=this.options.image.svg+i,I+="</svg>"}var R="";switch(e.container){case"svg":p&&(R+='<?xml version="1.0" standalone="yes"?>'+i),R+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+i,R+=g+m+_,R+=I,R+="</svg>";break;case"svg-viewbox":p&&(R+='<?xml version="1.0" standalone="yes"?>'+i),R+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+i,R+=g+m+_,R+=I,R+="</svg>";break;case"g":R+='<g width="'+o+'" height="'+a+'">'+i,R+=g+m+_,R+=I,R+="</g>";break;default:R+=(g+m+_+I).replace(/^\s+/,"")}return R};var Ar=xr,Mr=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ir,"__esModule",{value:!0}),ir.QRCode=void 0;const Nr=yt,Lr=Yt,Pr=Mr(Ar);ir.QRCode=e=>{const[t,n]=(0,Lr.useState)("");return(0,Lr.useEffect)((()=>{var t,s;const i=new Pr.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:null!==(t=e.width)&&void 0!==t?t:256,height:null!==(s=e.height)&&void 0!==s?s:256,padding:0,image:e.image}),o=r.from(i.svg(),"utf8").toString("base64");n(`data:image/svg+xml;base64,${o}`)}),[e.bgColor,e.content,e.fgColor,e.height,e.image,e.width]),t?(0,Nr.h)("img",{src:t,alt:"QR Code"}):null};var Or={},Tr={};Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.default=(()=>".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}")();var jr=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Or,"__esModule",{value:!0}),Or.Spinner=void 0;const Br=yt,Fr=jr(Tr);Or.Spinner=e=>{var t;const r=null!==(t=e.size)&&void 0!==t?t:64,n=e.color||"#000";return(0,Br.h)("div",{class:"-cbwsdk-spinner"},(0,Br.h)("style",null,Fr.default),(0,Br.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Br.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.default=(()=>".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}")();var $r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.CoinbaseWalletSteps=Xt.ConnectContent=void 0;const Ur=$r(Ct),Hr=yt,Vr=f,Wr=x,qr=Kt,zr=tr,Jr=nr,Gr=ir,Zr=Or,Qr=$r(Dr),Yr="Coinbase Wallet app",Xr="Connect with your self-custody wallet",Kr=rn,en=e=>"light"===e?"#FFFFFF":"#0A0B0D";function tn({title:e,description:t,theme:r}){return(0,Hr.h)("div",{className:(0,Ur.default)("-cbwsdk-connect-item",r)},(0,Hr.h)("div",null,(0,Hr.h)(zr.CoinbaseWalletRound,null)),(0,Hr.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,Hr.h)("h3",{className:"-cbwsdk-connect-item-title"},e),(0,Hr.h)("p",{className:"-cbwsdk-connect-item-description"},t)))}function rn({theme:e}){return(0,Hr.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,Hr.h)("li",{className:(0,Ur.default)("-cbwsdk-wallet-steps-item",e)},(0,Hr.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,Hr.h)("li",{className:(0,Ur.default)("-cbwsdk-wallet-steps-item",e)},(0,Hr.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,Hr.h)("span",null,"Tap ",(0,Hr.h)("strong",null,"Scan")," "),(0,Hr.h)("span",{className:(0,Ur.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,Hr.h)(Jr.QRCodeIcon,{fill:en(e)})))))}Xt.ConnectContent=function(e){const{theme:t}=e,r=(0,Vr.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId),n=Kr;return(0,Hr.h)("div",{"data-testid":"connect-content",className:(0,Ur.default)("-cbwsdk-connect-content",t)},(0,Hr.h)("style",null,Qr.default),(0,Hr.h)("div",{className:"-cbwsdk-connect-content-header"},(0,Hr.h)("h2",{className:(0,Ur.default)("-cbwsdk-connect-content-heading",t)},"Scan to connect with our mobile app"),e.onCancel&&(0,Hr.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,Hr.h)(qr.CloseIcon,{fill:"light"===t?"#0A0B0D":"#FFFFFF"}))),(0,Hr.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,Hr.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,Hr.h)(tn,{title:Yr,description:Xr,theme:t})),(0,Hr.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,Hr.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,Hr.h)(Gr.QRCode,{content:r,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,Hr.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:Wr.LIB_VERSION}),(0,Hr.h)("input",{type:"hidden",value:r})),(0,Hr.h)(n,{theme:t}),!e.isConnected&&(0,Hr.h)("div",{"data-testid":"connecting-spinner",className:(0,Ur.default)("-cbwsdk-connect-content-qr-connecting",t)},(0,Hr.h)(Zr.Spinner,{size:36,color:"dark"===t?"#FFF":"#000"}),(0,Hr.h)("p",null,"Connecting...")))))},Xt.CoinbaseWalletSteps=rn;var nn={},sn={};Object.defineProperty(sn,"__esModule",{value:!0}),sn.ArrowLeftIcon=void 0;const on=yt;sn.ArrowLeftIcon=function(e){return(0,on.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),(0,on.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))};var an={};Object.defineProperty(an,"__esModule",{value:!0}),an.LaptopIcon=void 0;const cn=yt;an.LaptopIcon=function(e){return(0,cn.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,cn.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,cn.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))};var ln={};Object.defineProperty(ln,"__esModule",{value:!0}),ln.SafeIcon=void 0;const un=yt;ln.SafeIcon=function(e){return(0,un.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,un.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))};var dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.default=(()=>".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}")();var hn=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nn,"__esModule",{value:!0}),nn.TryExtensionContent=void 0;const pn=hn(Ct),fn=yt,gn=Yt,mn=sn,_n=an,vn=ln,bn=hn(dn);nn.TryExtensionContent=function({theme:e}){const[t,r]=(0,gn.useState)(!1),n=(0,gn.useCallback)((()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}),[]),s=(0,gn.useCallback)((()=>{t?window.location.reload():(n(),r(!0))}),[n,t]);return(0,fn.h)("div",{class:(0,pn.default)("-cbwsdk-try-extension",e)},(0,fn.h)("style",null,bn.default),(0,fn.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,fn.h)("h3",{class:(0,pn.default)("-cbwsdk-try-extension-heading",e)},"Or try the Coinbase Wallet browser extension"),(0,fn.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,fn.h)("button",{class:(0,pn.default)("-cbwsdk-try-extension-cta",e),onClick:s},t?"Refresh":"Install"),(0,fn.h)("div",null,!t&&(0,fn.h)(mn.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:"light"===e?"#0052FF":"#588AF5"})))),(0,fn.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,fn.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,fn.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,fn.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,fn.h)("span",{class:(0,pn.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,fn.h)(_n.LaptopIcon,{fill:"light"===e?"#0A0B0D":"#FFFFFF"}))),(0,fn.h)("div",{class:(0,pn.default)("-cbwsdk-try-extension-list-item-copy",e)},"Connect with dapps with just one click on your desktop browser")),(0,fn.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,fn.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,fn.h)("span",{class:(0,pn.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,fn.h)(vn.SafeIcon,{fill:"light"===e?"#0A0B0D":"#FFFFFF"}))),(0,fn.h)("div",{class:(0,pn.default)("-cbwsdk-try-extension-list-item-copy",e)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))};var yn={};Object.defineProperty(yn,"__esModule",{value:!0}),yn.default=(()=>".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}")();var wn=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wt,"__esModule",{value:!0}),wt.ConnectDialog=void 0;const En=wn(Ct),kn=yt,Cn=Yt,Sn=Xt,In=nn,Rn=wn(yn);wt.ConnectDialog=e=>{const{isOpen:t,darkMode:r}=e,[n,s]=(0,Cn.useState)(!t),[i,o]=(0,Cn.useState)(!t);(0,Cn.useEffect)((()=>{const e=[window.setTimeout((()=>{o(!t)}),10)];return t?s(!1):e.push(window.setTimeout((()=>{s(!0)}),360)),()=>{e.forEach(window.clearTimeout)}}),[t]);const a=r?"dark":"light";return(0,kn.h)("div",{class:(0,En.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,kn.h)("style",null,Rn.default),(0,kn.h)("div",{class:(0,En.default)("-cbwsdk-connect-dialog-backdrop",a,i&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,kn.h)("div",{class:"-cbwsdk-connect-dialog"},(0,kn.h)("div",{class:(0,En.default)("-cbwsdk-connect-dialog-box",i&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,kn.h)(Sn.ConnectContent,{theme:a,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,kn.h)(In.TryExtensionContent,{theme:a}))))},Object.defineProperty(ze,"__esModule",{value:!0}),ze.LinkFlow=void 0;const xn=yt,An=wt;ze.LinkFlow=class{constructor(e){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render()}setConnected(e){this.connected!==e&&(this.connected=e,this.render())}setChainId(e){this.chainId!==e&&(this.chainId=e,this.render())}detach(){var e;this.root&&((0,xn.render)(null,this.root),null===(e=this.root.parentElement)||void 0===e||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,xn.render)((0,xn.h)(An.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}};var Mn={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.default=(()=>".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}")(),function(t){var r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const n=r(Ct),s=yt,i=Yt,o=r(Nn);t.Snackbar=class{constructor(e){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=e.darkMode}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,s.render)((0,s.h)("div",null,(0,s.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map((([e,r])=>(0,s.h)(t.SnackbarInstance,Object.assign({},r,{key:e})))))),this.root)}};t.SnackbarContainer=e=>(0,s.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-container")},(0,s.h)("style",null,o.default),(0,s.h)("div",{class:"-cbwsdk-snackbar"},e.children));t.SnackbarInstance=({autoExpand:e,message:t,menuItems:r})=>{const[o,a]=(0,i.useState)(!0),[c,l]=(0,i.useState)(null!=e&&e);(0,i.useEffect)((()=>{const e=[window.setTimeout((()=>{a(!1)}),1),window.setTimeout((()=>{l(!0)}),1e4)];return()=>{e.forEach(window.clearTimeout)}}));return(0,s.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance",o&&"-cbwsdk-snackbar-instance-hidden",c&&"-cbwsdk-snackbar-instance-expanded")},(0,s.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:()=>{l(!c)}},(0,s.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,s.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},t),(0,s.h)("div",{class:"-gear-container"},!c&&(0,s.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,s.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&(0,s.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map(((e,t)=>(0,s.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},(0,s.h)("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.h)("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),(0,s.h)("span",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item-info",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},e.info))))))}}(Mn),Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.WalletLinkRelayUI=void 0;const Ln=Me,Pn=ze,On=Mn;Ae.WalletLinkRelayUI=class{constructor(e){this.standalone=null,this.attached=!1,this.snackbar=new On.Snackbar({darkMode:e.darkMode}),this.linkFlow=new Pn.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.linkFlow.attach(t),this.snackbar.attach(t),this.attached=!0,(0,Ln.injectCssReset)()}setConnected(e){this.linkFlow.setConnected(e)}setChainId(e){this.linkFlow.setChainId(e)}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(e){let t;return t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return null!==(e=this.standalone)&&void 0!==e&&e}},Object.defineProperty(se,"__esModule",{value:!0}),se.WalletLinkRelay=void 0;const Tn=g,jn=T,Bn=f,Fn=ie,Dn=oe,$n=ce,Un=ge,Hn=R,Vn=Ae;class Wn extends Dn.RelayAbstract{constructor(e){var t;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=e=>{var t;this.isLinked=e;const r=this.storage.getItem(Dn.LOCAL_STORAGE_ADDRESSES_KEY);if(e&&(this.session.linked=e),this.isUnlinkedErrorState=!1,r){const n=r.split(" "),s="true"===this.storage.getItem("IsStandaloneSigning");if(""!==n[0]&&!e&&this.session.linked&&!s){this.isUnlinkedErrorState=!0;const e=this.getSessionIdHash();null===(t=this.diagnostic)||void 0===t||t.log(Fn.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:e})}}},this.metadataUpdated=(e,t)=>{this.storage.setItem(e,t)},this.chainUpdated=(e,t)=>{this.chainCallbackParams.chainId===e&&this.chainCallbackParams.jsonRpcUrl===t||(this.chainCallbackParams={chainId:e,jsonRpcUrl:t},this.chainCallback&&this.chainCallback(e,t))},this.accountUpdated=e=>{this.accountsCallback&&this.accountsCallback([e]),Wn.accountRequestCallbackIds.size>0&&(Array.from(Wn.accountRequestCallbackIds.values()).forEach((t=>{const r={type:"WEB3_RESPONSE",id:t,response:{method:"requestEthereumAccounts",result:[e]}};this.invokeCallback(Object.assign(Object.assign({},r),{id:t}))})),Wn.accountRequestCallbackIds.clear())},this.connectedUpdated=e=>{this.ui.setConnected(e)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:r,ui:n,connection:s}=this.subscribe();this._session=r,this.connection=s,this.relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=null===(t=e.reloadOnDisconnect)||void 0===t||t,this.ui=n}subscribe(){const e=$n.Session.load(this.storage)||new $n.Session(this.storage).save(),{linkAPIUrl:t,diagnostic:r}=this,n=new Un.WalletLinkConnection({session:e,linkAPIUrl:t,diagnostic:r,listener:this}),{version:s,darkMode:i}=this.options,o=this.options.uiConstructor({linkAPIUrl:t,version:s,darkMode:i,session:e});return n.connect(),{session:e,ui:o,connection:n}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise((e=>setTimeout((()=>e(null)),1e3)))]).then((()=>{var e,t;const r=this.ui.isStandalone();null===(e=this.diagnostic)||void 0===e||e.log(Fn.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const n=$n.Session.load(this.storage);if((null==n?void 0:n.id)===this._session.id?this.storage.clear():n&&(null===(t=this.diagnostic)||void 0===t||t.log(Fn.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:$n.Session.hash(n.id)})),this._reloadOnDisconnect)return void this.ui.reloadUI();this.accountsCallback&&this.accountsCallback([],!0);const{session:s,ui:i,connection:o}=this.subscribe();this._session=s,this.connection=o,this.ui=i,r&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.options.headlessMode||this.attachUI()})).catch((e=>{var t;null===(t=this.diagnostic)||void 0===t||t.log(Fn.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})}))}setAppInfo(e,t){this.appName=e,this.appLogoUrl=t}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,t){this.storage.setItem(e,t)}signEthereumMessage(e,t,r,n){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,Bn.hexStringFromBuffer)(e,!0),address:t,addPrefix:r,typedDataJson:n||null}})}ethereumAddressFromSignedMessage(e,t,r){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,Bn.hexStringFromBuffer)(e,!0),signature:(0,Bn.hexStringFromBuffer)(t,!0),addPrefix:r}})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Bn.bigIntStringFromBN)(e.weiValue),data:(0,Bn.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Bn.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Bn.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Bn.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Bn.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Bn.bigIntStringFromBN)(e.weiValue),data:(0,Bn.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Bn.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Bn.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Bn.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Bn.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,Bn.hexStringFromBuffer)(e,!0),chainId:t}})}scanQRCode(e){return this.sendRequest({method:"scanQRCode",params:{regExp:e}})}getQRCodeUrl(){return(0,Bn.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,t){return this.sendRequest({method:"generic",params:{action:t,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let t=null;const r=(0,Bn.randomBytesHex)(8),n=n=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,n),null==t||t()};return{promise:new Promise(((s,i)=>{this.ui.isStandalone()||(t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:n,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(r,(e=>{if(null==t||t(),(0,Hn.isErrorResponse)(e))return i(new Error(e.errorMessage));s(e)})),this.ui.isStandalone()?this.sendRequestStandalone(r,e):this.publishWeb3RequestEvent(r,e)})),cancel:n}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChain=e,this.ui instanceof Vn.WalletLinkRelayUI&&this.ui.setChainId(e)}publishWeb3RequestEvent(e,t){var r;const n={type:"WEB3_REQUEST",id:e,request:t},s=$n.Session.load(this.storage);null===(r=this.diagnostic)||void 0===r||r.log(Fn.EVENTS.WEB3_REQUEST,{eventId:n.id,method:`relay::${t.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?$n.Session.hash(s.id):"",isSessionMismatched:((null==s?void 0:s.id)!==this._session.id).toString()}),this.publishEvent("Web3Request",n,!0).then((e=>{var r;null===(r=this.diagnostic)||void 0===r||r.log(Fn.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:n.id,method:`relay::${t.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?$n.Session.hash(s.id):"",isSessionMismatched:((null==s?void 0:s.id)!==this._session.id).toString()})})).catch((e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n.id,response:{method:t.method,errorMessage:e.message}})}))}publishWeb3RequestCanceledEvent(e){const t={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",t,!1).then()}publishEvent(e,t,r){return this.connection.publishEvent(e,t,r)}handleWeb3ResponseMessage(e){var t;const{response:r}=e;if(null===(t=this.diagnostic)||void 0===t||t.log(Fn.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash()}),"requestEthereumAccounts"===r.method)return Wn.accountRequestCallbackIds.forEach((t=>this.invokeCallback(Object.assign(Object.assign({},e),{id:t})))),void Wn.accountRequestCallbackIds.clear();this.invokeCallback(e)}handleErrorResponse(e,t,r,n){var s;const i=null!==(s=null==r?void 0:r.message)&&void 0!==s?s:(0,Tn.getMessageFromCode)(n);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:{method:t,errorMessage:i,errorCode:n}})}invokeCallback(e){const t=this.relayEventManager.callbacks.get(e.id);t&&(t(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},t=(0,Bn.randomBytesHex)(8),r=r=>{this.publishWeb3RequestCanceledEvent(t),this.handleErrorResponse(t,e.method,r)};return{promise:new Promise(((n,s)=>{if(this.relayEventManager.callbacks.set(t,(e=>{if(this.ui.hideRequestEthereumAccounts(),(0,Hn.isErrorResponse)(e))return s(new Error(e.errorMessage));n(e)})),this.ui.inlineAccountsResponse()){const e=e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:"requestEthereumAccounts",result:e}})};this.ui.requestEthereumAccounts({onCancel:r,onAccounts:e})}else{const e=Tn.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>r(e)})}Wn.accountRequestCallbackIds.add(t),this.ui.inlineAccountsResponse()||this.ui.isStandalone()||this.publishWeb3RequestEvent(t,e)})),cancel:r}}selectProvider(e){const t="selectProvider",r=(0,Bn.randomBytesHex)(8);return{cancel:e=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,t,e)},promise:new Promise(((t,n)=>{this.relayEventManager.callbacks.set(r,(e=>{if((0,Hn.isErrorResponse)(e))return n(new Error(e.errorMessage));t(e)}));this.ui.selectProvider&&this.ui.selectProvider({onApprove:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r,response:{method:"selectProvider",result:e}})},onCancel:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r,response:{method:"selectProvider",result:jn.ProviderType.Unselected}})},providerOptions:e})}))}}watchAsset(e,t,r,n,s,i){const o={method:"watchAsset",params:{type:e,options:{address:t,symbol:r,decimals:n,image:s},chainId:i}};let a=null;const c=(0,Bn.randomBytesHex)(8),l=e=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,o.method,e),null==a||a()};this.ui.inlineWatchAsset()||(a=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));return{cancel:l,promise:new Promise(((l,u)=>{this.relayEventManager.callbacks.set(c,(e=>{if(null==a||a(),(0,Hn.isErrorResponse)(e))return u(new Error(e.errorMessage));l(e)}));const d=e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"watchAsset",result:!1}})},h=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:h,onCancel:d,type:e,address:t,symbol:r,decimals:n,image:s,chainId:i}),this.ui.inlineWatchAsset()||this.ui.isStandalone()||this.publishWeb3RequestEvent(c,o)}))}}addEthereumChain(e,t,r,n,s,i){const o={method:"addEthereumChain",params:{chainId:e,rpcUrls:t,blockExplorerUrls:n,chainName:s,iconUrls:r,nativeCurrency:i}};let a=null;const c=(0,Bn.randomBytesHex)(8),l=e=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,o.method,e),null==a||a()};this.ui.inlineAddEthereumChain(e)||(a=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));return{promise:new Promise(((t,r)=>{this.relayEventManager.callbacks.set(c,(e=>{if(null==a||a(),(0,Hn.isErrorResponse)(e))return r(new Error(e.errorMessage));t(e)}));const n=e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},s=e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:e}}})};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:n,onApprove:s,chainId:o.params.chainId,rpcUrls:o.params.rpcUrls,blockExplorerUrls:o.params.blockExplorerUrls,chainName:o.params.chainName,iconUrls:o.params.iconUrls,nativeCurrency:o.params.nativeCurrency}),this.ui.inlineAddEthereumChain(e)||this.ui.isStandalone()||this.publishWeb3RequestEvent(c,o)})),cancel:l}}switchEthereumChain(e,t){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:t})},n=(0,Bn.randomBytesHex)(8);return{promise:new Promise(((t,s)=>{this.relayEventManager.callbacks.set(n,(e=>(0,Hn.isErrorResponse)(e)&&e.errorCode?s(Tn.standardErrors.provider.custom({code:e.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):(0,Hn.isErrorResponse)(e)?s(new Error(e.errorMessage)):void t(e)));this.ui.switchEthereumChain({onCancel:t=>{var r;if(t){const s=null!==(r=(0,Tn.getErrorCode)(t))&&void 0!==r?r:Tn.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(n,"switchEthereumChain",t instanceof Error?t:Tn.standardErrors.provider.unsupportedChain(e),s)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},onApprove:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:e}}})},chainId:r.params.chainId,address:r.params.address}),this.ui.inlineSwitchEthereumChain()||this.ui.isStandalone()||this.publishWeb3RequestEvent(n,r)})),cancel:e=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,e)}}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return $n.Session.hash(this._session.id)}sendRequestStandalone(e,t){const r=r=>{this.handleErrorResponse(e,t.method,r)},n=t=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:t})};switch(t.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:t,onSuccess:n,onCancel:r});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:t,onSuccess:n,onCancel:r});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:t,onSuccess:n,onCancel:r});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:t,onSuccess:n});break;default:r()}}}se.WalletLinkRelay=Wn,Wn.accountRequestCallbackIds=new Set;var qn,zn,Jn,Gn={},Zn={},Qn={};qn=Qn,zn=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),Jn=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||zn(t,e,r)},Object.defineProperty(qn,"__esModule",{value:!0}),Jn(Mn,qn);var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.default=(()=>".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}")();var Xn=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.RedirectDialog=void 0;const Kn=Xn(Ct),es=yt,ts=Me,rs=Qn,ns=Xn(Yn);Zn.RedirectDialog=class{constructor(){this.root=null}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),(0,ts.injectCssReset)()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&((0,es.render)(null,this.root),e&&(0,es.render)((0,es.h)(ss,Object.assign({},e,{onDismiss:()=>{this.clear()}})),this.root))}};const ss=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:s})=>{const i=r?"dark":"light";return(0,es.h)(rs.SnackbarContainer,{darkMode:r},(0,es.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,es.h)("style",null,ns.default),(0,es.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:s}),(0,es.h)("div",{class:(0,Kn.default)("-cbwsdk-redirect-dialog-box",i)},(0,es.h)("p",null,e),(0,es.h)("button",{onClick:n},t))))};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.MobileRelayUI=void 0;const is=Zn;Gn.MobileRelayUI=class{constructor(e){this.attached=!1,this.darkMode=!1,this.redirectDialog=new is.RedirectDialog,this.darkMode=e.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(e){}redirectToCoinbaseWallet(e){const t=new URL("https://go.cb-w.com/walletlink");t.searchParams.append("redirect_url",window.location.href),e&&t.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=t.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout((()=>{this.redirectToCoinbaseWallet(e)}),99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}},Object.defineProperty(ne,"__esModule",{value:!0}),ne.MobileRelay=void 0;const os=f,as=se,cs=Gn;class ls extends as.WalletLinkRelay{constructor(e){var t;super(e),this._enableMobileWalletLink=null!==(t=e.enableMobileWalletLink)&&void 0!==t&&t}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise((()=>{const e=(0,os.getLocation)();e.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(e.href)}`})),cancel:()=>{}}}publishWeb3RequestEvent(e,t){if(super.publishWeb3RequestEvent(e,t),!(this._enableMobileWalletLink&&this.ui instanceof cs.MobileRelayUI))return;let r=!1;switch(t.method){case"requestEthereumAccounts":case"connectAndSignIn":r=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:r=!0,this.ui.openCoinbaseWalletDeeplink()}r&&window.addEventListener("blur",(()=>{window.addEventListener("focus",(()=>{this.connection.checkUnseenEvents()}),{once:!0})}),{once:!0})}handleWeb3ResponseMessage(e){super.handleWeb3ResponseMessage(e)}connectAndSignIn(e){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:e.nonce,iat:(new Date).toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:e.statement,resources:e.resources}})}}ne.MobileRelay=ls;const us=l,ds=t;function hs(e){return r.allocUnsafe(e).fill(0)}function ps(e,t,r){const n=hs(t);return e=fs(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function fs(e){if(!r.isBuffer(e))if(Array.isArray(e))e=r.from(e);else if("string"==typeof e)e=gs(e)?r.from((t=ms(e)).length%2?"0"+t:t,"hex"):r.from(e);else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=r.allocUnsafe(0);else if(ds.isBN(e))e=e.toArrayLike(r);else{if(!e.toArray)throw new Error("invalid type");e=r.from(e.toArray())}var t;return e}function gs(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function ms(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}var _s={zeros:hs,setLength:ps,setLengthRight:function(e,t){return ps(e,t,!0)},isHexString:gs,stripHexPrefix:ms,toBuffer:fs,bufferToHex:function(e){return"0x"+(e=fs(e)).toString("hex")},keccak:function(e,t){return e=fs(e),t||(t=256),us("keccak"+t).update(e).digest()}};const vs=_s,bs=t;function ys(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function ws(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function Es(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function ks(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function Cs(e){var t=typeof e;if("string"===t)return vs.isHexString(e)?new bs(vs.stripHexPrefix(e),16):new bs(e,10);if("number"===t)return new bs(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function Ss(e,t){var n,s,i,o;if("address"===e)return Ss("uint160",Cs(t));if("bool"===e)return Ss("uint8",t?1:0);if("string"===e)return Ss("bytes",new r(t,"utf8"));if(function(e){return e.lastIndexOf("]")===e.length-1}(e)){if(void 0===t.length)throw new Error("Not an array?");if("dynamic"!==(n=ks(e))&&0!==n&&t.length>n)throw new Error("Elements exceed array size: "+n);for(o in i=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)i.push(Ss(e,t[o]));if("dynamic"===n){var a=Ss("uint256",t.length);i.unshift(a)}return r.concat(i)}if("bytes"===e)return t=new r(t),i=r.concat([Ss("uint256",t.length),t]),t.length%32!=0&&(i=r.concat([i,vs.zeros(32-t.length%32)])),i;if(e.startsWith("bytes")){if((n=ws(e))<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return vs.setLengthRight(t,32)}if(e.startsWith("uint")){if((n=ws(e))%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if((s=Cs(t)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+s.bitLength());if(s<0)throw new Error("Supplied uint is negative");return s.toArrayLike(r,"be",32)}if(e.startsWith("int")){if((n=ws(e))%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if((s=Cs(t)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+s.bitLength());return s.toTwos(256).toArrayLike(r,"be",32)}if(e.startsWith("ufixed")){if(n=Es(e),(s=Cs(t))<0)throw new Error("Supplied ufixed is negative");return Ss("uint256",s.mul(new bs(2).pow(new bs(n[1]))))}if(e.startsWith("fixed"))return n=Es(e),Ss("int256",Cs(t).mul(new bs(2).pow(new bs(n[1]))));throw new Error("Unsupported or invalid type: "+e)}function Is(e){return"string"===e||"bytes"===e||"dynamic"===ks(e)}function Rs(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var n,s,i=[],o=0;o<e.length;o++){var a=ys(e[o]),c=t[o];if("bytes"===a)i.push(c);else if("string"===a)i.push(new r(c,"utf8"));else if("bool"===a)i.push(new r(c?"01":"00","hex"));else if("address"===a)i.push(vs.setLength(c,20));else if(a.startsWith("bytes")){if((n=ws(a))<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(vs.setLengthRight(c,n))}else if(a.startsWith("uint")){if((n=ws(a))%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if((s=Cs(c)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+s.bitLength());i.push(s.toArrayLike(r,"be",n/8))}else{if(!a.startsWith("int"))throw new Error("Unsupported or invalid type: "+a);if((n=ws(a))%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if((s=Cs(c)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+s.bitLength());i.push(s.toTwos(n).toArrayLike(r,"be",n/8))}}return r.concat(i)}var xs={rawEncode:function(e,t){var n=[],s=[],i=32*e.length;for(var o in e){var a=ys(e[o]),c=Ss(a,t[o]);Is(a)?(n.push(Ss("uint256",i)),s.push(c),i+=c.length):n.push(c)}return r.concat(n.concat(s))},solidityPack:Rs,soliditySHA3:function(e,t){return vs.keccak(Rs(e,t))}};const As=_s,Ms=xs,Ns={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ls={encodeData(e,t,n,s=!0){const i=["bytes32"],o=[this.hashType(e,n)];if(s){const a=(e,t,i)=>{if(void 0!==n[t])return["bytes32",null==i?"0x0000000000000000000000000000000000000000000000000000000000000000":As.keccak(this.encodeData(t,i,n,s))];if(void 0===i)throw new Error(`missing value for field ${e} of type ${t}`);if("bytes"===t)return["bytes32",As.keccak(i)];if("string"===t)return"string"==typeof i&&(i=r.from(i,"utf8")),["bytes32",As.keccak(i)];if(t.lastIndexOf("]")===t.length-1){const r=t.slice(0,t.lastIndexOf("[")),n=i.map((t=>a(e,r,t)));return["bytes32",As.keccak(Ms.rawEncode(n.map((([e])=>e)),n.map((([,e])=>e))))]}return[t,i]};for(const r of n[e]){const[e,n]=a(r.name,r.type,t[r.name]);i.push(e),o.push(n)}}else for(const a of n[e]){let e=t[a.name];if(void 0!==e)if("bytes"===a.type)i.push("bytes32"),e=As.keccak(e),o.push(e);else if("string"===a.type)i.push("bytes32"),"string"==typeof e&&(e=r.from(e,"utf8")),e=As.keccak(e),o.push(e);else if(void 0!==n[a.type])i.push("bytes32"),e=As.keccak(this.encodeData(a.type,e,n,s)),o.push(e);else{if(a.type.lastIndexOf("]")===a.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(a.type),o.push(e)}}return Ms.rawEncode(i,o)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter((t=>t!==e));n=[e].concat(n.sort());for(const s of n){if(!t[s])throw new Error("No type definition specified: "+s);r+=s+"("+t[s].map((({name:e,type:t})=>t+" "+e)).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||void 0===t[e])return r;r.push(e);for(const n of t[e])for(const e of this.findTypeDependencies(n.type,t,r))!r.includes(e)&&r.push(e);return r},hashStruct(e,t,r,n=!0){return As.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return As.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r in Ns.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const n=this.sanitizeData(e),s=[r.from("1901","hex")];return s.push(this.hashStruct("EIP712Domain",n.domain,n.types,t)),"EIP712Domain"!==n.primaryType&&s.push(this.hashStruct(n.primaryType,n.message,n.types,t)),As.keccak(r.concat(s))}};var Ps={TYPED_MESSAGE_SCHEMA:Ns,TypedDataUtils:Ls,hashForSignTypedDataLegacy:function(e){return function(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;const r=e.map((function(e){return"bytes"===e.type?As.toBuffer(e.value):e.value})),n=e.map((function(e){return e.type})),s=e.map((function(e){if(!e.name)throw t;return e.type+" "+e.name}));return Ms.soliditySHA3(["bytes32","bytes32"],[Ms.soliditySHA3(new Array(e.length).fill("string"),s),Ms.soliditySHA3(n,r)])}(e.data)},hashForSignTypedData_v3:function(e){return Ls.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return Ls.hash(e.data)}};var Os={};Object.defineProperty(Os,"__esModule",{value:!0}),Os.filterFromParam=Os.FilterPolyfill=void 0;const Ts=T,js=f,Bs={jsonrpc:"2.0",id:0};function Fs(e){return{fromBlock:$s(e.fromBlock),toBlock:$s(e.toBlock),addresses:void 0===e.address?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}function Ds(e){const t={fromBlock:Us(e.fromBlock),toBlock:Us(e.toBlock),topics:e.topics};return null!==e.addresses&&(t.address=e.addresses),t}function $s(e){if(void 0===e||"latest"===e||"pending"===e)return"latest";if("earliest"===e)return(0,Ts.IntNumber)(0);if((0,js.isHexString)(e))return(0,js.intNumberFromHexString)(e);throw new Error(`Invalid block option: ${String(e)}`)}function Us(e){return"latest"===e?e:(0,js.hexStringFromIntNumber)(e)}function Hs(){return Object.assign(Object.assign({},Bs),{error:{code:-32e3,message:"filter not found"}})}function Vs(){return Object.assign(Object.assign({},Bs),{result:[]})}Os.FilterPolyfill=class{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Ts.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=e}async newFilter(e){const t=Fs(e),r=this.makeFilterId();await this.setInitialCursorPosition(r,t.fromBlock);return this.logFilters.set(r,t),this.setFilterTimeout(r),(0,js.hexStringFromIntNumber)(r)}async newBlockFilter(){const e=this.makeFilterId();await this.setInitialCursorPosition(e,"latest");return this.blockFilters.add(e),this.setFilterTimeout(e),(0,js.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId();await this.setInitialCursorPosition(e,"latest");return this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,js.hexStringFromIntNumber)(e)}uninstallFilter(e){const t=(0,js.intNumberFromHexString)(e);return this.deleteFilter(t),!0}getFilterChanges(e){const t=(0,js.intNumberFromHexString)(e);return this.timeouts.has(t)&&this.setFilterTimeout(t),this.logFilters.has(t)?this.getLogFilterChanges(t):this.blockFilters.has(t)?this.getBlockFilterChanges(t):this.pendingTransactionFilters.has(t)?this.getPendingTransactionFilterChanges(t):Promise.resolve(Hs())}async getFilterLogs(e){const t=(0,js.intNumberFromHexString)(e),r=this.logFilters.get(t);return r?this.sendAsyncPromise(Object.assign(Object.assign({},Bs),{method:"eth_getLogs",params:[Ds(r)]})):Hs()}makeFilterId(){return(0,Ts.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise(((t,r)=>{this.provider.sendAsync(e,((e,n)=>e?r(e):Array.isArray(n)||null==n?r(new Error(`unexpected response received: ${JSON.stringify(n)}`)):void t(n)))}))}deleteFilter(e){this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const t=this.logFilters.get(e),r=this.cursors.get(e);if(!r||!t)return Hs();const n=await this.getCurrentBlockHeight(),s="latest"===t.toBlock?n:t.toBlock;if(r>n)return Vs();if(r>Number(t.toBlock))return Vs();const i=await this.sendAsyncPromise(Object.assign(Object.assign({},Bs),{method:"eth_getLogs",params:[Ds(Object.assign(Object.assign({},t),{fromBlock:r,toBlock:s}))]}));if(Array.isArray(i.result)){const t=i.result.map((e=>(0,js.intNumberFromHexString)(e.blockNumber||"0x0"))),n=Math.max(...t);if(n&&n>r){const t=(0,Ts.IntNumber)(n+1);this.cursors.set(e,t)}}return i}async getBlockFilterChanges(e){const t=this.cursors.get(e);if(!t)return Hs();const r=await this.getCurrentBlockHeight();if(t>r)return Vs();const n=(await Promise.all((0,js.range)(t,r+1).map((e=>this.getBlockHashByNumber((0,Ts.IntNumber)(e)))))).filter((e=>!!e)),s=(0,Ts.IntNumber)(t+n.length);return this.cursors.set(e,s),Object.assign(Object.assign({},Bs),{result:n})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Vs())}async setInitialCursorPosition(e,t){const r=await this.getCurrentBlockHeight(),n="number"==typeof t&&t>r?t:r;return this.cursors.set(e,n),n}setFilterTimeout(e){const t=this.timeouts.get(e);t&&window.clearTimeout(t);const r=window.setTimeout((()=>{this.deleteFilter(e)}),3e5);this.timeouts.set(e,r)}async getCurrentBlockHeight(){const e=new Date;if(e.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=e;const t=await this._getCurrentBlockHeight();this.currentBlockHeight=t,this.resolvers.forEach((e=>e(t))),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise((e=>this.resolvers.push(e)))}async _getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Bs),{method:"eth_blockNumber",params:[]}));return(0,js.intNumberFromHexString)((0,js.ensureHexString)(e))}async getBlockHashByNumber(e){const t=await this.sendAsyncPromise(Object.assign(Object.assign({},Bs),{method:"eth_getBlockByNumber",params:[(0,js.hexStringFromIntNumber)(e),!1]}));return t.result&&"string"==typeof t.result.hash?(0,js.ensureHexString)(t.result.hash):null}},Os.filterFromParam=Fs;var Ws={},qs={},zs={},Js=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}};const Gs=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];return new r(((r,s)=>{t.errorFirst?n.push((function(e,n){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),s(t)):r(t)}else e?s(e):r(n)})):n.push((function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];r(e)}else r(e)})),e.apply(this,n)}))};var Zs={},Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});const Ys=i;function Xs(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout((()=>{throw n}))}}let Ks=class extends Ys.EventEmitter{emit(e,...t){let r="error"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const s=n[e];if(void 0===s)return!1;if("function"==typeof s)Xs(s,this,t);else{const e=s.length,r=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(s);for(let n=0;n<e;n+=1)Xs(r[n],this,t)}return!0}};Qs.default=Ks;var ei=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.BaseBlockTracker=void 0;const ti=ei(Qs),ri=(e,t)=>e+t,ni=["sync","latest"];class si extends ti.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||2e4,this._usePastBlocks=e.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){if(this._currentBlock)return this._currentBlock;return await new Promise((e=>this.once("latest",e)))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){ni.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return ni.map((e=>this.listenerCount(e))).reduce(ri)}_shouldUseNewBlock(e){const t=this._currentBlock;if(!t)return!0;const r=ii(e),n=ii(t);return this._usePastBlocks&&r<n||r>n}_newPotentialLatest(e){this._shouldUseNewBlock(e)&&this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}function ii(e){return Number.parseInt(e,16)}Zs.BaseBlockTracker=si;var oi={},ai={},ci={};class li extends TypeError{constructor(e,t){let r;const{message:n,explanation:s,...i}=e,{path:o}=e,a=0===o.length?n:`At path: ${o.join(".")} -- ${n}`;super(s??a),null!=s&&(this.cause=a),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function ui(e){return"object"==typeof e&&null!=e}function di(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function hi(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function pi(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:s,branch:i}=t,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${hi(n)}\``}=e;return{value:n,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...e,message:c}}function*fi(e,t,r,n){var s;ui(s=e)&&"function"==typeof s[Symbol.iterator]||(e=[e]);for(const i of e){const e=pi(i,t,r,n);e&&(yield e)}}function*gi(e,t,r={}){const{path:n=[],branch:s=[e],coerce:i=!1,mask:o=!1}=r,a={path:n,branch:s};if(i&&(e=t.coercer(e,a),o&&"type"!==t.type&&ui(t.schema)&&ui(e)&&!Array.isArray(e)))for(const l in e)void 0===t.schema[l]&&delete e[l];let c="valid";for(const l of t.validator(e,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,u,d]of t.entries(e,a)){const t=gi(u,d,{path:void 0===l?n:[...n,l],branch:void 0===l?s:[...s,u],coerce:i,mask:o,message:r.message});for(const r of t)r[0]?(c=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):i&&(u=r[1],void 0===l?e=u:e instanceof Map?e.set(l,u):e instanceof Set?e.add(u):ui(e)&&(void 0!==u||l in e)&&(e[l]=u))}if("not_valid"!==c)for(const l of t.refiner(e,a))l.explanation=r.message,c="not_refined",yield[l,void 0];"valid"===c&&(yield[void 0,e])}class mi{constructor(e){const{type:t,schema:r,validator:n,refiner:s,coercer:i=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=r,this.entries=o,this.coercer=i,this.validator=n?(e,t)=>fi(n(e,t),t,this,e):()=>[],this.refiner=s?(e,t)=>fi(s(e,t),t,this,e):()=>[]}assert(e,t){return _i(e,this,t)}create(e,t){return vi(e,this,t)}is(e){return yi(e,this)}mask(e,t){return bi(e,this,t)}validate(e,t={}){return wi(e,this,t)}}function _i(e,t,r){const n=wi(e,t,{message:r});if(n[0])throw n[0]}function vi(e,t,r){const n=wi(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function bi(e,t,r){const n=wi(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function yi(e,t){return!wi(e,t)[0]}function wi(e,t,r={}){const n=gi(e,t,r),s=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(n);if(s[0]){return[new li(s[0],(function*(){for(const e of n)e[0]&&(yield e[0])})),void 0]}return[void 0,s[1]]}function Ei(e,t){return new mi({type:e,schema:null,validator:t})}function ki(){return Ei("never",(()=>!1))}function Ci(e){const t=e?Object.keys(e):[],r=ki();return new mi({type:"object",schema:e||null,*entries(n){if(e&&ui(n)){const s=new Set(Object.keys(n));for(const r of t)s.delete(r),yield[r,n[r],e[r]];for(const e of s)yield[e,n[e],r]}},validator:e=>ui(e)||`Expected an object, but received: ${hi(e)}`,coercer:e=>ui(e)?{...e}:e})}function Si(e){return new mi({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function Ii(){return Ei("string",(e=>"string"==typeof e||`Expected a string, but received: ${hi(e)}`))}function Ri(e){const t=Object.keys(e);return new mi({type:"type",schema:e,*entries(r){if(ui(r))for(const n of t)yield[n,r[n],e[n]]},validator:e=>ui(e)||`Expected an object, but received: ${hi(e)}`,coercer:e=>ui(e)?{...e}:e})}function xi(){return Ei("unknown",(()=>!0))}function Ai(e,t,r){return new mi({...e,coercer:(n,s)=>yi(n,t)?e.coercer(r(n,s),s):e.coercer(n,s)})}function Mi(e){return e instanceof Map||e instanceof Set?e.size:e.length}function Ni(e,t,r){return new mi({...e,*refiner(n,s){yield*e.refiner(n,s);const i=fi(r(n,s),s,e,n);for(const e of i)yield{...e,refinement:t}}})}const Li=Object.freeze(Object.defineProperty({__proto__:null,Struct:mi,StructError:li,any:function(){return Ei("any",(()=>!0))},array:function(e){return new mi({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${hi(e)}`})},assert:_i,assign:function(...e){const t="type"===e[0].type,r=e.map((e=>e.schema)),n=Object.assign({},...r);return t?Ri(n):Ci(n)},bigint:function(){return Ei("bigint",(e=>"bigint"==typeof e))},boolean:function(){return Ei("boolean",(e=>"boolean"==typeof e))},coerce:Ai,create:vi,date:function(){return Ei("date",(e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${hi(e)}`))},defaulted:function(e,t,r={}){return Ai(e,xi(),(e=>{const n="function"==typeof t?t():t;if(void 0===e)return n;if(!r.strict&&di(e)&&di(n)){const t={...e};let r=!1;for(const e in n)void 0===t[e]&&(t[e]=n[e],r=!0);if(r)return t}return e}))},define:Ei,deprecated:function(e,t){return new mi({...e,refiner:(t,r)=>void 0===t||e.refiner(t,r),validator:(r,n)=>void 0===r||(t(r,n),e.validator(r,n))})},dynamic:function(e){return new mi({type:"dynamic",schema:null,*entries(t,r){const n=e(t,r);yield*n.entries(t,r)},validator:(t,r)=>e(t,r).validator(t,r),coercer:(t,r)=>e(t,r).coercer(t,r),refiner:(t,r)=>e(t,r).refiner(t,r)})},empty:function(e){return Ni(e,"empty",(t=>{const r=Mi(t);return 0===r||`Expected an empty ${e.type} but received one with a size of \`${r}\``}))},enums:function(e){const t={},r=e.map((e=>hi(e))).join();for(const n of e)t[n]=n;return new mi({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${r}\`, but received: ${hi(t)}`})},func:function(){return Ei("func",(e=>"function"==typeof e||`Expected a function, but received: ${hi(e)}`))},instance:function(e){return Ei("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${hi(t)}`))},integer:function(){return Ei("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${hi(e)}`))},intersection:function(e){return new mi({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})},is:yi,lazy:function(e){let t;return new mi({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator:(r,n)=>(t??(t=e()),t.validator(r,n)),coercer:(r,n)=>(t??(t=e()),t.coercer(r,n)),refiner:(r,n)=>(t??(t=e()),t.refiner(r,n))})},literal:function(e){const t=hi(e),r=typeof e;return new mi({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${hi(r)}`})},map:function(e,t){return new mi({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,s]of r.entries())yield[n,n,e],yield[n,s,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${hi(e)}`})},mask:bi,max:function(e,t,r={}){const{exclusive:n}=r;return Ni(e,"max",(r=>n?r<t:r<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${r}\``))},min:function(e,t,r={}){const{exclusive:n}=r;return Ni(e,"min",(r=>n?r>t:r>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${r}\``))},never:ki,nonempty:function(e){return Ni(e,"nonempty",(t=>Mi(t)>0||`Expected a nonempty ${e.type} but received an empty one`))},nullable:function(e){return new mi({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})},number:function(){return Ei("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${hi(e)}`))},object:Ci,omit:function(e,t){const{schema:r}=e,n={...r};for(const s of t)delete n[s];return"type"===e.type?Ri(n):Ci(n)},optional:Si,partial:function(e){const t=e instanceof mi,r=t?{...e.schema}:{...e};for(const n in r)r[n]=Si(r[n]);return t&&"type"===e.type?Ri(r):Ci(r)},pattern:function(e,t){return Ni(e,"pattern",(r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`))},pick:function(e,t){const{schema:r}=e,n={};for(const s of t)n[s]=r[s];return"type"===e.type?Ri(n):Ci(n)},record:function(e,t){return new mi({type:"record",schema:null,*entries(r){if(ui(r))for(const n in r){const s=r[n];yield[n,n,e],yield[n,s,t]}},validator:e=>ui(e)||`Expected an object, but received: ${hi(e)}`})},refine:Ni,regexp:function(){return Ei("regexp",(e=>e instanceof RegExp))},set:function(e){return new mi({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${hi(e)}`})},size:function(e,t,r=t){const n=`Expected a ${e.type}`,s=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return Ni(e,"size",(e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=r||`${n} ${s} but received \`${e}\``;if(e instanceof Map||e instanceof Set){const{size:i}=e;return t<=i&&i<=r||`${n} with a size ${s} but received one with a size of \`${i}\``}{const{length:i}=e;return t<=i&&i<=r||`${n} with a length ${s} but received one with a length of \`${i}\``}}))},string:Ii,struct:function(e,t){return Ei(e,t)},trimmed:function(e){return Ai(e,Ii(),(e=>e.trim()))},tuple:function(e){const t=ki();return new mi({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let s=0;s<n;s++)yield[s,r[s],e[s]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${hi(e)}`})},type:Ri,union:function(e){const t=e.map((e=>e.type)).join(" | ");return new mi({type:"union",schema:null,coercer(t){for(const r of e){const[e,n]=r.validate(t,{coerce:!0});if(!e)return n}return t},validator(r,n){const s=[];for(const t of e){const[...e]=gi(r,t,n),[i]=e;if(!i[0])return[];for(const[t]of e)t&&s.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${hi(r)}`,...s]}})},unknown:xi,validate:wi},Symbol.toStringTag,{value:"Module"})),Pi=s(Li);Object.defineProperty(ci,"__esModule",{value:!0}),ci.assertExhaustive=ci.assertStruct=ci.assert=ci.AssertionError=void 0;const Oi=Pi;function Ti(e,t){return r=e,Boolean("string"==typeof(null===(s=null===(n=null==r?void 0:r.prototype)||void 0===n?void 0:n.constructor)||void 0===s?void 0:s.name))?new e({message:t}):e({message:t});var r,n,s}class ji extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}ci.AssertionError=ji,ci.assert=function(e,t="Assertion failed.",r=ji){if(!e){if(t instanceof Error)throw t;throw Ti(r,t)}},ci.assertStruct=function(e,t,r="Assertion failed",n=ji){try{(0,Oi.assert)(e,t)}catch(s){throw Ti(n,`${r}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(s)}.`)}},ci.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")};var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.base64=void 0;const Fi=Pi,Di=ci;Bi.base64=(e,t={})=>{var r,n;const s=null!==(r=t.paddingRequired)&&void 0!==r&&r,i=null!==(n=t.characterSet)&&void 0!==n?n:"base64";let o,a;return"base64"===i?o=String.raw`[A-Za-z0-9+\/]`:((0,Di.assert)("base64url"===i),o=String.raw`[-_A-Za-z0-9]`),a=s?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,Fi.pattern)(e,a)};var $i={},Ui={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.remove0x=e.add0x=e.assertIsStrictHexString=e.assertIsHexString=e.isStrictHexString=e.isHexString=e.StrictHexStruct=e.HexStruct=void 0;const t=Pi,r=ci;function n(r){return(0,t.is)(r,e.HexStruct)}function s(r){return(0,t.is)(r,e.StrictHexStruct)}e.HexStruct=(0,t.pattern)((0,t.string)(),/^(?:0x)?[0-9a-f]+$/iu),e.StrictHexStruct=(0,t.pattern)((0,t.string)(),/^0x[0-9a-f]+$/iu),e.isHexString=n,e.isStrictHexString=s,e.assertIsHexString=function(e){(0,r.assert)(n(e),"Value must be a hexadecimal string.")},e.assertIsStrictHexString=function(e){(0,r.assert)(s(e),'Value must be a hexadecimal string, starting with "0x".')},e.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},e.remove0x=function(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}}(Ui),Object.defineProperty($i,"__esModule",{value:!0}),$i.createDataView=$i.concatBytes=$i.valueToBytes=$i.stringToBytes=$i.numberToBytes=$i.signedBigIntToBytes=$i.bigIntToBytes=$i.hexToBytes=$i.bytesToString=$i.bytesToNumber=$i.bytesToSignedBigInt=$i.bytesToBigInt=$i.bytesToHex=$i.assertIsBytes=$i.isBytes=void 0;const Hi=ci,Vi=Ui,Wi=48,qi=58,zi=87;const Ji=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function Gi(e){return e instanceof Uint8Array}function Zi(e){(0,Hi.assert)(Gi(e),"Value must be a Uint8Array.")}function Qi(e){if(Zi(e),0===e.length)return"0x";const t=Ji(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,Vi.add0x)(r.join(""))}function Yi(e){Zi(e);const t=Qi(e);return BigInt(t)}function Xi(e){var t;if("0x"===(null===(t=null==e?void 0:e.toLowerCase)||void 0===t?void 0:t.call(e)))return new Uint8Array;(0,Vi.assertIsHexString)(e);const r=(0,Vi.remove0x)(e).toLowerCase(),n=r.length%2==0?r:`0${r}`,s=new Uint8Array(n.length/2);for(let i=0;i<s.length;i++){const e=n.charCodeAt(2*i),t=n.charCodeAt(2*i+1),r=e-(e<qi?Wi:zi),o=t-(t<qi?Wi:zi);s[i]=16*r+o}return s}function Ki(e){(0,Hi.assert)("bigint"==typeof e,"Value must be a bigint."),(0,Hi.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return Xi(e.toString(16))}function eo(e){(0,Hi.assert)("number"==typeof e,"Value must be a number."),(0,Hi.assert)(e>=0,"Value must be a non-negative number."),(0,Hi.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return Xi(e.toString(16))}function to(e){return(0,Hi.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function ro(e){if("bigint"==typeof e)return Ki(e);if("number"==typeof e)return eo(e);if("string"==typeof e)return e.startsWith("0x")?Xi(e):to(e);if(Gi(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}$i.isBytes=Gi,$i.assertIsBytes=Zi,$i.bytesToHex=Qi,$i.bytesToBigInt=Yi,$i.bytesToSignedBigInt=function(e){Zi(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)},$i.bytesToNumber=function(e){Zi(e);const t=Yi(e);return(0,Hi.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},$i.bytesToString=function(e){return Zi(e),(new TextDecoder).decode(e)},$i.hexToBytes=Xi,$i.bigIntToBytes=Ki,$i.signedBigIntToBytes=function(e,t){(0,Hi.assert)("bigint"==typeof e,"Value must be a bigint."),(0,Hi.assert)("number"==typeof t,"Byte length must be a number."),(0,Hi.assert)(t>0,"Byte length must be greater than 0."),(0,Hi.assert)(function(e,t){(0,Hi.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let s=0;s<n.length;s++)n[s]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()},$i.numberToBytes=eo,$i.stringToBytes=to,$i.valueToBytes=ro,$i.concatBytes=function(e){const t=new Array(e.length);let r=0;for(let s=0;s<e.length;s++){const n=ro(e[s]);t[s]=n,r+=n.length}const n=new Uint8Array(r);for(let s=0,i=0;s<t.length;s++)n.set(t[s],i),i+=t[s].length;return n},$i.createDataView=function(e){if(void 0!==r&&e instanceof r){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)};var no={};Object.defineProperty(no,"__esModule",{value:!0}),no.ChecksumStruct=void 0;const so=Pi,io=Bi;no.ChecksumStruct=(0,so.size)((0,io.base64)((0,so.string)(),{paddingRequired:!0}),44,44);var oo={};Object.defineProperty(oo,"__esModule",{value:!0}),oo.createHex=oo.createBytes=oo.createBigInt=oo.createNumber=void 0;const ao=Pi,co=ci,lo=$i,uo=Ui,ho=(0,ao.union)([(0,ao.number)(),(0,ao.bigint)(),(0,ao.string)(),uo.StrictHexStruct]),po=(0,ao.coerce)((0,ao.number)(),ho,Number),fo=(0,ao.coerce)((0,ao.bigint)(),ho,BigInt);(0,ao.union)([uo.StrictHexStruct,(0,ao.instance)(Uint8Array)]);const go=(0,ao.coerce)((0,ao.instance)(Uint8Array),(0,ao.union)([uo.StrictHexStruct]),lo.hexToBytes),mo=(0,ao.coerce)(uo.StrictHexStruct,(0,ao.instance)(Uint8Array),lo.bytesToHex);oo.createNumber=function(e){try{const t=(0,ao.create)(e,po);return(0,co.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof ao.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},oo.createBigInt=function(e){try{return(0,ao.create)(e,fo)}catch(t){if(t instanceof ao.StructError)throw new Error(`Expected a number-like value, got "${String(t.value)}".`);throw t}},oo.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,ao.create)(e,go)}catch(t){if(t instanceof ao.StructError)throw new Error(`Expected a bytes-like value, got "${String(t.value)}".`);throw t}},oo.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,ao.create)(e,mo)}catch(t){if(t instanceof ao.StructError)throw new Error(`Expected a bytes-like value, got "${String(t.value)}".`);throw t}};var _o,vo,bo={},yo=e&&e.__classPrivateFieldSet||function(e,t,r,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,r):s?s.value=r:t.set(e,r),r},wo=e&&e.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(bo,"__esModule",{value:!0}),bo.FrozenSet=bo.FrozenMap=void 0;class Eo{constructor(e){_o.set(this,void 0),yo(this,_o,new Map(e),"f"),Object.freeze(this)}get size(){return wo(this,_o,"f").size}[(_o=new WeakMap,Symbol.iterator)](){return wo(this,_o,"f")[Symbol.iterator]()}entries(){return wo(this,_o,"f").entries()}forEach(e,t){return wo(this,_o,"f").forEach(((r,n,s)=>e.call(t,r,n,this)))}get(e){return wo(this,_o,"f").get(e)}has(e){return wo(this,_o,"f").has(e)}keys(){return wo(this,_o,"f").keys()}values(){return wo(this,_o,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}bo.FrozenMap=Eo;class ko{constructor(e){vo.set(this,void 0),yo(this,vo,new Set(e),"f"),Object.freeze(this)}get size(){return wo(this,vo,"f").size}[(vo=new WeakMap,Symbol.iterator)](){return wo(this,vo,"f")[Symbol.iterator]()}entries(){return wo(this,vo,"f").entries()}forEach(e,t){return wo(this,vo,"f").forEach(((r,n,s)=>e.call(t,r,n,this)))}has(e){return wo(this,vo,"f").has(e)}keys(){return wo(this,vo,"f").keys()}values(){return wo(this,vo,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}bo.FrozenSet=ko,Object.freeze(Eo),Object.freeze(Eo.prototype),Object.freeze(ko),Object.freeze(ko.prototype);var Co={};Object.defineProperty(Co,"__esModule",{value:!0});var So={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.getJsonSize=e.isValidJson=e.JsonStruct=e.UnsafeJsonStruct=void 0;const t=Pi,r=ci;e.UnsafeJsonStruct=(0,t.union)([(0,t.literal)(null),(0,t.boolean)(),(0,t.define)("finite number",(e=>(0,t.is)(e,(0,t.number)())&&Number.isFinite(e))),(0,t.string)(),(0,t.array)((0,t.lazy)((()=>e.UnsafeJsonStruct))),(0,t.record)((0,t.string)(),(0,t.lazy)((()=>e.UnsafeJsonStruct)))]),e.JsonStruct=(0,t.define)("Json",((t,r)=>{function n(e,t){const n=[...t.validator(e,r)];return!(n.length>0)||n}try{const r=n(t,e.UnsafeJsonStruct);return!0!==r?r:n(JSON.parse(JSON.stringify(t)),e.UnsafeJsonStruct)}catch(s){return s instanceof RangeError&&"Circular reference detected"}})),e.isValidJson=function(r){return(0,t.is)(r,e.JsonStruct)},e.getJsonSize=function(t){(0,r.assertStruct)(t,e.JsonStruct,"Invalid JSON value");const n=JSON.stringify(t);return(new TextEncoder).encode(n).byteLength},e.jsonrpc2="2.0",e.JsonRpcVersionStruct=(0,t.literal)(e.jsonrpc2),e.JsonRpcIdStruct=(0,t.nullable)((0,t.union)([(0,t.number)(),(0,t.string)()])),e.JsonRpcErrorStruct=(0,t.object)({code:(0,t.integer)(),message:(0,t.string)(),data:(0,t.optional)(e.JsonStruct),stack:(0,t.optional)((0,t.string)())}),e.JsonRpcParamsStruct=(0,t.optional)((0,t.union)([(0,t.record)((0,t.string)(),e.JsonStruct),(0,t.array)(e.JsonStruct)])),e.JsonRpcRequestStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,t.string)(),params:e.JsonRpcParamsStruct}),e.JsonRpcNotificationStruct=(0,t.omit)(e.JsonRpcRequestStruct,["id"]),e.isJsonRpcNotification=function(r){return(0,t.is)(r,e.JsonRpcNotificationStruct)},e.assertIsJsonRpcNotification=function(t,n){(0,r.assertStruct)(t,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",n)},e.isJsonRpcRequest=function(r){return(0,t.is)(r,e.JsonRpcRequestStruct)},e.assertIsJsonRpcRequest=function(t,n){(0,r.assertStruct)(t,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",n)},e.PendingJsonRpcResponseStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,t.optional)((0,t.unknown)()),error:(0,t.optional)(e.JsonRpcErrorStruct)}),e.JsonRpcSuccessStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct}),e.JsonRpcFailureStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct}),e.JsonRpcResponseStruct=(0,t.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]),e.isPendingJsonRpcResponse=function(r){return(0,t.is)(r,e.PendingJsonRpcResponseStruct)},e.assertIsPendingJsonRpcResponse=function(t,n){(0,r.assertStruct)(t,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",n)},e.isJsonRpcResponse=function(r){return(0,t.is)(r,e.JsonRpcResponseStruct)},e.assertIsJsonRpcResponse=function(t,n){(0,r.assertStruct)(t,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",n)},e.isJsonRpcSuccess=function(r){return(0,t.is)(r,e.JsonRpcSuccessStruct)},e.assertIsJsonRpcSuccess=function(t,n){(0,r.assertStruct)(t,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",n)},e.isJsonRpcFailure=function(r){return(0,t.is)(r,e.JsonRpcFailureStruct)},e.assertIsJsonRpcFailure=function(t,n){(0,r.assertStruct)(t,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",n)},e.isJsonRpcError=function(r){return(0,t.is)(r,e.JsonRpcErrorStruct)},e.assertIsJsonRpcError=function(t,n){(0,r.assertStruct)(t,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",n)},e.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},e);return e=>Boolean("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)}}(So);var Io={};Object.defineProperty(Io,"__esModule",{value:!0});var Ro,xo,Ao={},Mo={exports:{}};function No(){if(xo)return Ro;xo=1;var e=1e3,t=6e4,r=60*t,n=24*r,s=7*n,i=365.25*n;function o(e,t,r,n){var s=t>=1.5*r;return Math.round(e/r)+" "+n+(s?"s":"")}return Ro=function(a,c){c=c||{};var l=typeof a;if("string"===l&&a.length>0)return function(o){if((o=String(o)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(!a)return;var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*i;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*n;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(a);if("number"===l&&isFinite(a))return c.long?function(s){var i=Math.abs(s);if(i>=n)return o(s,i,n,"day");if(i>=r)return o(s,i,r,"hour");if(i>=t)return o(s,i,t,"minute");if(i>=e)return o(s,i,e,"second");return s+" ms"}(a):function(s){var i=Math.abs(s);if(i>=n)return Math.round(s/n)+"d";if(i>=r)return Math.round(s/r)+"h";if(i>=t)return Math.round(s/t)+"m";if(i>=e)return Math.round(s/e)+"s";return s+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}}var Lo=function(e){function t(e){let n,s,i,o=null;function a(...e){if(!a.enabled)return;const r=a,s=Number(new Date),i=s-(n||s);r.diff=i,r.prev=n,r.curr=s,n=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,s)=>{if("%%"===n)return"%";o++;const i=t.formatters[s];if("function"==typeof i){const t=e[o];n=i.call(r,t),e.splice(o,1),o--}return n})),t.formatArgs.call(r,e);(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(s!==t.namespaces&&(s=t.namespaces,i=t.enabled(e)),i),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(n),...t.skips.map(n).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),s=n.length;for(r=0;r<s;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=No(),t.destroy=function(){},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t};!function(e,t){var r={};t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,s=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(s=n))})),t.splice(s,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(r){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&void 0!==o&&"env"in o&&(e=r.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0)}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=Lo(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}(Mo,Mo.exports);var Po=Mo.exports,Oo=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.createModuleLogger=Ao.createProjectLogger=void 0;const To=(0,Oo(Po).default)("metamask");Ao.createProjectLogger=function(e){return To.extend(e)},Ao.createModuleLogger=function(e,t){return e.extend(t)};var jo={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0,e.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},e.isNullOrUndefined=function(e){return null==e},e.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};var t;function r(e){return e.charCodeAt(0)<=127}e.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),(t=e.JsonSize||(e.JsonSize={}))[t.Null=4]="Null",t[t.Comma=1]="Comma",t[t.Wrapper=1]="Wrapper",t[t.True=4]="True",t[t.False=5]="False",t[t.Quote=1]="Quote",t[t.Colon=1]="Colon",t[t.Date=24]="Date",e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,e.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(t){return!1}},e.isASCII=r,e.calculateStringSize=function(t){var n;return t.split("").reduce(((e,t)=>r(t)?e+1:e+2),0)+(null!==(n=t.match(e.ESCAPE_CHARACTERS_REGEXP))&&void 0!==n?n:[]).length},e.calculateNumberSize=function(e){return e.toString().length}}(jo);var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.hexToBigInt=Bo.hexToNumber=Bo.bigIntToHex=Bo.numberToHex=void 0;const Fo=ci,Do=Ui;Bo.numberToHex=e=>((0,Fo.assert)("number"==typeof e,"Value must be a number."),(0,Fo.assert)(e>=0,"Value must be a non-negative number."),(0,Fo.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Do.add0x)(e.toString(16)));Bo.bigIntToHex=e=>((0,Fo.assert)("bigint"==typeof e,"Value must be a bigint."),(0,Fo.assert)(e>=0,"Value must be a non-negative bigint."),(0,Do.add0x)(e.toString(16)));Bo.hexToNumber=e=>{(0,Do.assertIsHexString)(e);const t=parseInt(e,16);return(0,Fo.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};Bo.hexToBigInt=e=>((0,Do.assertIsHexString)(e),BigInt((0,Do.add0x)(e)));var $o={};Object.defineProperty($o,"__esModule",{value:!0});var Uo={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.timeSince=e.inMilliseconds=e.Duration=void 0,(t=e.Duration||(e.Duration={}))[t.Millisecond=1]="Millisecond",t[t.Second=1e3]="Second",t[t.Minute=6e4]="Minute",t[t.Hour=36e5]="Hour",t[t.Day=864e5]="Day",t[t.Week=6048e5]="Week",t[t.Year=31536e6]="Year";const r=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};e.inMilliseconds=function(e,t){return r(e,"count"),e*t},e.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}}(Uo);var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});var Vo={},Wo={exports:{}};var qo={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},zo={};var Jo="object"==typeof o&&zo&&zo.NODE_DEBUG&&/\bsemver\b/i.test(zo.NODE_DEBUG)?(...e)=>{}:()=>{};!function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=qo,i=Jo,o=(t=e.exports={}).re=[],a=t.safeRe=[],c=t.src=[],l=t.t={};let u=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,n]],p=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),s=u++;i(e,s,t),l[e]=s,c[s]=t,o[s]=new RegExp(t,r?"g":void 0),a[s]=new RegExp(n,r?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),p("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${d}+`),p("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),p("FULL",`^${c[l.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),p("LOOSE",`^${c[l.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),p("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),p("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?(?:${c[l.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",c[l.COERCE],!0),p("COERCERTLFULL",c[l.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Wo,Wo.exports);var Go=Wo.exports;const Zo=Object.freeze({loose:!0}),Qo=Object.freeze({});var Yo=e=>e?"object"!=typeof e?Zo:e:Qo;const Xo=/^[0-9]+$/,Ko=(e,t)=>{const r=Xo.test(e),n=Xo.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var ea={compareIdentifiers:Ko,rcompareIdentifiers:(e,t)=>Ko(t,e)};const ta=Jo,{MAX_LENGTH:ra,MAX_SAFE_INTEGER:na}=qo,{safeRe:sa,t:ia}=Go,oa=Yo,{compareIdentifiers:aa}=ea;var ca=class e{constructor(t,r){if(r=oa(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>ra)throw new TypeError(`version is longer than ${ra} characters`);ta("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?sa[ia.LOOSE]:sa[ia.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>na||this.major<0)throw new TypeError("Invalid major version");if(this.minor>na||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>na||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<na)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(ta("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"==typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),aa(this.major,t.major)||aa(this.minor,t.minor)||aa(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const e=this.prerelease[r],n=t.prerelease[r];if(ta("prerelease compare",r,e,n),void 0===e&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===e)return-1;if(e!==n)return aa(e,n)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{const e=this.build[r],n=t.build[r];if(ta("build compare",r,e,n),void 0===e&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===e)return-1;if(e!==n)return aa(e,n)}while(++r)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===aa(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};const la=ca;var ua=(e,t,r=!1)=>{if(e instanceof la)return e;try{return new la(e,t)}catch(n){if(!r)return null;throw n}};const da=ua;var ha=(e,t)=>{const r=da(e,t);return r?r.version:null};const pa=ua;var fa=(e,t)=>{const r=pa(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};const ga=ca;var ma=(e,t,r,n,s)=>{"string"==typeof r&&(s=n,n=r,r=void 0);try{return new ga(e instanceof ga?e.version:e,r).inc(t,n,s).version}catch(i){return null}};const _a=ua;var va=(e,t)=>{const r=_a(e,null,!0),n=_a(t,null,!0),s=r.compare(n);if(0===s)return null;const i=s>0,o=i?r:n,a=i?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return a.patch||a.minor?o.patch?"patch":o.minor?"minor":"major":"major";const l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};const ba=ca;var ya=(e,t)=>new ba(e,t).major;const wa=ca;var Ea=(e,t)=>new wa(e,t).minor;const ka=ca;var Ca=(e,t)=>new ka(e,t).patch;const Sa=ua;var Ia=(e,t)=>{const r=Sa(e,t);return r&&r.prerelease.length?r.prerelease:null};const Ra=ca;var xa=(e,t,r)=>new Ra(e,r).compare(new Ra(t,r));const Aa=xa;var Ma=(e,t,r)=>Aa(t,e,r);const Na=xa;var La=(e,t)=>Na(e,t,!0);const Pa=ca;var Oa=(e,t,r)=>{const n=new Pa(e,r),s=new Pa(t,r);return n.compare(s)||n.compareBuild(s)};const Ta=Oa;var ja=(e,t)=>e.sort(((e,r)=>Ta(e,r,t)));const Ba=Oa;var Fa=(e,t)=>e.sort(((e,r)=>Ba(r,e,t)));const Da=xa;var $a=(e,t,r)=>Da(e,t,r)>0;const Ua=xa;var Ha=(e,t,r)=>Ua(e,t,r)<0;const Va=xa;var Wa=(e,t,r)=>0===Va(e,t,r);const qa=xa;var za=(e,t,r)=>0!==qa(e,t,r);const Ja=xa;var Ga=(e,t,r)=>Ja(e,t,r)>=0;const Za=xa;var Qa=(e,t,r)=>Za(e,t,r)<=0;const Ya=Wa,Xa=za,Ka=$a,ec=Ga,tc=Ha,rc=Qa;var nc=(e,t,r,n)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return Ya(e,r,n);case"!=":return Xa(e,r,n);case">":return Ka(e,r,n);case">=":return ec(e,r,n);case"<":return tc(e,r,n);case"<=":return rc(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};const sc=ca,ic=ua,{safeRe:oc,t:ac}=Go;var cc=(e,t)=>{if(e instanceof sc)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?oc[ac.COERCERTLFULL]:oc[ac.COERCERTL];let s;for(;(s=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&s.index+s[0].length===r.index+r[0].length||(r=s),n.lastIndex=s.index+s[1].length+s[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?oc[ac.COERCEFULL]:oc[ac.COERCE]);if(null===r)return null;const n=r[2],s=r[3]||"0",i=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return ic(`${n}.${s}.${i}${o}${a}`,t)};var lc,uc,dc,hc,pc=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}};function fc(){if(uc)return lc;uc=1;const e=/\s+/g;class t{constructor(r,i){if(i=n(i),r instanceof t)return r.loose===!!i.loose&&r.includePrerelease===!!i.includePrerelease?r:new t(r.raw,i);if(r instanceof s)return this.raw=r.value,this.set=[[r]],this.formatted=void 0,this;if(this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease,this.raw=r.trim().replace(e," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!f(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&g(t[0])){this.set=[t];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&h)|(this.options.loose&&p))+":"+e,n=r.get(t);if(n)return n;const o=this.options.loose,g=o?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];e=e.replace(g,R(this.options.includePrerelease)),i("hyphen replace",e),e=e.replace(a[c.COMPARATORTRIM],l),i("comparator trim",e),e=e.replace(a[c.TILDETRIM],u),i("tilde trim",e),e=e.replace(a[c.CARETTRIM],d),i("caret trim",e);let m=e.split(" ").map((e=>_(e,this.options))).join(" ").split(/\s+/).map((e=>I(e,this.options)));o&&(m=m.filter((e=>(i("loose invalid filter",e,this.options),!!e.match(a[c.COMPARATORLOOSE]))))),i("range list",m);const v=new Map,b=m.map((e=>new s(e,this.options)));for(const r of b){if(f(r))return[r];v.set(r.value,r)}v.size>1&&v.has("")&&v.delete("");const y=[...v.values()];return r.set(t,y),y}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some((t=>m(t,r)&&e.set.some((e=>m(e,r)&&t.every((t=>e.every((e=>t.intersects(e,r)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new o(e,this.options)}catch(t){return!1}for(let r=0;r<this.set.length;r++)if(x(this.set[r],e,this.options))return!0;return!1}}lc=t;const r=new pc,n=Yo,s=gc(),i=Jo,o=ca,{safeRe:a,t:c,comparatorTrimReplace:l,tildeTrimReplace:u,caretTrimReplace:d}=Go,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:p}=qo,f=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,m=(e,t)=>{let r=!0;const n=e.slice();let s=n.pop();for(;r&&n.length;)r=n.every((e=>s.intersects(e,t))),s=n.pop();return r},_=(e,t)=>(i("comp",e,t),e=w(e,t),i("caret",e),e=b(e,t),i("tildes",e),e=k(e,t),i("xrange",e),e=S(e,t),i("stars",e),e),v=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map((e=>y(e,t))).join(" "),y=(e,t)=>{const r=t.loose?a[c.TILDELOOSE]:a[c.TILDE];return e.replace(r,((t,r,n,s,o)=>{let a;return i("tilde",e,t,r,n,s,o),v(r)?a="":v(n)?a=`>=${r}.0.0 <${+r+1}.0.0-0`:v(s)?a=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:o?(i("replaceTilde pr",o),a=`>=${r}.${n}.${s}-${o} <${r}.${+n+1}.0-0`):a=`>=${r}.${n}.${s} <${r}.${+n+1}.0-0`,i("tilde return",a),a}))},w=(e,t)=>e.trim().split(/\s+/).map((e=>E(e,t))).join(" "),E=(e,t)=>{i("caret",e,t);const r=t.loose?a[c.CARETLOOSE]:a[c.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,s,o,a)=>{let c;return i("caret",e,t,r,s,o,a),v(r)?c="":v(s)?c=`>=${r}.0.0${n} <${+r+1}.0.0-0`:v(o)?c="0"===r?`>=${r}.${s}.0${n} <${r}.${+s+1}.0-0`:`>=${r}.${s}.0${n} <${+r+1}.0.0-0`:a?(i("replaceCaret pr",a),c="0"===r?"0"===s?`>=${r}.${s}.${o}-${a} <${r}.${s}.${+o+1}-0`:`>=${r}.${s}.${o}-${a} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${o}-${a} <${+r+1}.0.0-0`):(i("no pr"),c="0"===r?"0"===s?`>=${r}.${s}.${o}${n} <${r}.${s}.${+o+1}-0`:`>=${r}.${s}.${o}${n} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${o} <${+r+1}.0.0-0`),i("caret return",c),c}))},k=(e,t)=>(i("replaceXRanges",e,t),e.split(/\s+/).map((e=>C(e,t))).join(" ")),C=(e,t)=>{e=e.trim();const r=t.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return e.replace(r,((r,n,s,o,a,c)=>{i("xRange",e,r,n,s,o,a,c);const l=v(s),u=l||v(o),d=u||v(a),h=d;return"="===n&&h&&(n=""),c=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(u&&(o=0),a=0,">"===n?(n=">=",u?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):"<="===n&&(n="<",u?s=+s+1:o=+o+1),"<"===n&&(c="-0"),r=`${n+s}.${o}.${a}${c}`):u?r=`>=${s}.0.0${c} <${+s+1}.0.0-0`:d&&(r=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),i("xRange return",r),r}))},S=(e,t)=>(i("replaceStars",e,t),e.trim().replace(a[c.STAR],"")),I=(e,t)=>(i("replaceGTE0",e,t),e.trim().replace(a[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),R=e=>(t,r,n,s,i,o,a,c,l,u,d,h)=>`${r=v(n)?"":v(s)?`>=${n}.0.0${e?"-0":""}`:v(i)?`>=${n}.${s}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=v(l)?"":v(u)?`<${+l+1}.0.0-0`:v(d)?`<${l}.${+u+1}.0-0`:h?`<=${l}.${u}.${d}-${h}`:e?`<${l}.${u}.${+d+1}-0`:`<=${c}`}`.trim(),x=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(i(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0};return lc}function gc(){if(hc)return dc;hc=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(n,s){if(s=r(s),n instanceof t){if(n.loose===!!s.loose)return n;n=n.value}n=n.trim().split(/\s+/).join(" "),o("comparator",n,s),this.options=s,this.loose=!!s.loose,this.parse(n),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(t){const r=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],i=t.match(r);if(!i)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new a(i[2],this.options.loose):this.semver=e}toString(){return this.value}test(t){if(o("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if("string"==typeof t)try{t=new a(t,this.options)}catch(r){return!1}return i(t,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new c(e.value,n).test(this.value):""===e.operator?""===e.value||new c(this.value,n).test(e.semver):(!(n=r(n)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(i(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(i(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}dc=t;const r=Yo,{safeRe:n,t:s}=Go,i=nc,o=Jo,a=ca,c=fc();return dc}const mc=fc();var _c=(e,t,r)=>{try{t=new mc(t,r)}catch(n){return!1}return t.test(e)};const vc=fc();var bc=(e,t)=>new vc(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));const yc=ca,wc=fc();var Ec=(e,t,r)=>{let n=null,s=null,i=null;try{i=new wc(t,r)}catch(o){return null}return e.forEach((e=>{i.test(e)&&(n&&-1!==s.compare(e)||(n=e,s=new yc(n,r)))})),n};const kc=ca,Cc=fc();var Sc=(e,t,r)=>{let n=null,s=null,i=null;try{i=new Cc(t,r)}catch(o){return null}return e.forEach((e=>{i.test(e)&&(n&&1!==s.compare(e)||(n=e,s=new kc(n,r)))})),n};const Ic=ca,Rc=fc(),xc=$a;var Ac=(e,t)=>{e=new Rc(e,t);let r=new Ic("0.0.0");if(e.test(r))return r;if(r=new Ic("0.0.0-0"),e.test(r))return r;r=null;for(let n=0;n<e.set.length;++n){const t=e.set[n];let s=null;t.forEach((e=>{const t=new Ic(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!xc(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||r&&!xc(r,s)||(r=s)}return r&&e.test(r)?r:null};const Mc=fc();var Nc=(e,t)=>{try{return new Mc(e,t).range||"*"}catch(r){return null}};const Lc=ca,Pc=gc(),{ANY:Oc}=Pc,Tc=fc(),jc=_c,Bc=$a,Fc=Ha,Dc=Qa,$c=Ga;var Uc=(e,t,r,n)=>{let s,i,o,a,c;switch(e=new Lc(e,n),t=new Tc(t,n),r){case">":s=Bc,i=Dc,o=Fc,a=">",c=">=";break;case"<":s=Fc,i=$c,o=Bc,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(jc(e,t,n))return!1;for(let l=0;l<t.set.length;++l){const r=t.set[l];let u=null,d=null;if(r.forEach((e=>{e.semver===Oc&&(e=new Pc(">=0.0.0")),u=u||e,d=d||e,s(e.semver,u.semver,n)?u=e:o(e.semver,d.semver,n)&&(d=e)})),u.operator===a||u.operator===c)return!1;if((!d.operator||d.operator===a)&&i(e,d.semver))return!1;if(d.operator===c&&o(e,d.semver))return!1}return!0};const Hc=Uc;var Vc=(e,t,r)=>Hc(e,t,">",r);const Wc=Uc;var qc=(e,t,r)=>Wc(e,t,"<",r);const zc=fc();var Jc=(e,t,r)=>(e=new zc(e,r),t=new zc(t,r),e.intersects(t,r));const Gc=_c,Zc=xa;const Qc=fc(),Yc=gc(),{ANY:Xc}=Yc,Kc=_c,el=xa,tl=[new Yc(">=0.0.0-0")],rl=[new Yc(">=0.0.0")],nl=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===Xc){if(1===t.length&&t[0].semver===Xc)return!0;e=r.includePrerelease?tl:rl}if(1===t.length&&t[0].semver===Xc){if(r.includePrerelease)return!0;t=rl}const n=new Set;let s,i,o,a,c,l,u;for(const p of e)">"===p.operator||">="===p.operator?s=sl(s,p,r):"<"===p.operator||"<="===p.operator?i=il(i,p,r):n.add(p.semver);if(n.size>1)return null;if(s&&i){if(o=el(s.semver,i.semver,r),o>0)return null;if(0===o&&(">="!==s.operator||"<="!==i.operator))return null}for(const p of n){if(s&&!Kc(p,String(s),r))return null;if(i&&!Kc(p,String(i),r))return null;for(const e of t)if(!Kc(p,String(e),r))return!1;return!0}let d=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver,h=!(!s||r.includePrerelease||!s.semver.prerelease.length)&&s.semver;d&&1===d.prerelease.length&&"<"===i.operator&&0===d.prerelease[0]&&(d=!1);for(const p of t){if(u=u||">"===p.operator||">="===p.operator,l=l||"<"===p.operator||"<="===p.operator,s)if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),">"===p.operator||">="===p.operator){if(a=sl(s,p,r),a===p&&a!==s)return!1}else if(">="===s.operator&&!Kc(s.semver,String(p),r))return!1;if(i)if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),"<"===p.operator||"<="===p.operator){if(c=il(i,p,r),c===p&&c!==i)return!1}else if("<="===i.operator&&!Kc(i.semver,String(p),r))return!1;if(!p.operator&&(i||s)&&0!==o)return!1}return!(s&&l&&!i&&0!==o)&&(!(i&&u&&!s&&0!==o)&&(!h&&!d))},sl=(e,t,r)=>{if(!e)return t;const n=el(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},il=(e,t,r)=>{if(!e)return t;const n=el(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};var ol=(e,t,r={})=>{if(e===t)return!0;e=new Qc(e,r),t=new Qc(t,r);let n=!1;e:for(const s of e.set){for(const e of t.set){const t=nl(s,e,r);if(n=n||null!==t,t)continue e}if(n)return!1}return!0};const al=Go,cl=qo,ll=ca,ul=ea;var dl={parse:ua,valid:ha,clean:fa,inc:ma,diff:va,major:ya,minor:Ea,patch:Ca,prerelease:Ia,compare:xa,rcompare:Ma,compareLoose:La,compareBuild:Oa,sort:ja,rsort:Fa,gt:$a,lt:Ha,eq:Wa,neq:za,gte:Ga,lte:Qa,cmp:nc,coerce:cc,Comparator:gc(),Range:fc(),satisfies:_c,toComparators:bc,maxSatisfying:Ec,minSatisfying:Sc,minVersion:Ac,validRange:Nc,outside:Uc,gtr:Vc,ltr:qc,intersects:Jc,simplifyRange:(e,t,r)=>{const n=[];let s=null,i=null;const o=e.sort(((e,t)=>Zc(e,t,r)));for(const u of o){Gc(u,t,r)?(i=u,s||(s=u)):(i&&n.push([s,i]),i=null,s=null)}s&&n.push([s,null]);const a=[];for(const[u,d]of n)u===d?a.push(u):d||u!==o[0]?d?u===o[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`):a.push("*");const c=a.join(" || "),l="string"==typeof t.raw?t.raw:String(t);return c.length<l.length?c:t},subset:ol,SemVer:ll,re:al.re,src:al.src,tokens:al.t,SEMVER_SPEC_VERSION:cl.SEMVER_SPEC_VERSION,RELEASE_TYPES:cl.RELEASE_TYPES,compareIdentifiers:ul.compareIdentifiers,rcompareIdentifiers:ul.rcompareIdentifiers};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;const t=dl,r=Pi,n=ci;e.VersionStruct=(0,r.refine)((0,r.string)(),"Version",(e=>null!==(0,t.valid)(e)||`Expected SemVer version, got "${e}"`)),e.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",(e=>null!==(0,t.validRange)(e)||`Expected SemVer range, got "${e}"`)),e.isValidSemVerVersion=function(t){return(0,r.is)(t,e.VersionStruct)},e.isValidSemVerRange=function(t){return(0,r.is)(t,e.VersionRangeStruct)},e.assertIsSemVerVersion=function(t){(0,n.assertStruct)(t,e.VersionStruct)},e.assertIsSemVerRange=function(t){(0,n.assertStruct)(t,e.VersionRangeStruct)},e.gtVersion=function(e,r){return(0,t.gt)(e,r)},e.gtRange=function(e,r){return(0,t.gtr)(e,r)},e.satisfiesVersionRange=function(e,r){return(0,t.satisfies)(e,r,{includePrerelease:!0})}}(Vo),function(t){var r=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e&&e.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(ci,t),n(Bi,t),n($i,t),n(no,t),n(oo,t),n(bo,t),n(Co,t),n(Ui,t),n(So,t),n(Io,t),n(Ao,t),n(jo,t),n(Bo,t),n($o,t),n(Uo,t),n(Ho,t),n(Vo,t)}(ai),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createModuleLogger=e.projectLogger=void 0;const t=ai;Object.defineProperty(e,"createModuleLogger",{enumerable:!0,get:function(){return t.createModuleLogger}}),e.projectLogger=(0,t.createProjectLogger)("eth-block-tracker")}(oi);var hl=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zs,"__esModule",{value:!0}),zs.PollingBlockTracker=void 0;const pl=hl(Js),fl=hl(((e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=e=>{const r=t=>"string"==typeof t?e===t:t.test(e);return t.include?t.include.some(r):!t.exclude.some(r)};let n;n="function"==typeof e?function(){return t.excludeMain?e.apply(this,arguments):Gs(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const s in e){const i=e[s];n[s]="function"==typeof i&&r(s)?Gs(i,t):i}return n})),gl=Zs,ml=(0,oi.createModuleLogger)(oi.projectLogger,"polling-block-tracker"),_l=(0,pl.default)();class vl extends gl.BaseBlockTracker{constructor(e={}){var t;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},e),{blockResetDuration:null!==(t=e.blockResetDuration)&&void 0!==t?t:e.pollingInterval})),this._provider=e.provider,this._pollingInterval=e.pollingInterval||2e4,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=void 0===e.keepEventLoopActive||e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const e=bl(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await e}catch(t){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:\n${null!==(e=t.stack)&&void 0!==e?e:t}`);try{this.emit("error",n)}catch(r){}const s=bl(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await s}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:_l(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),ml("Making request",e);const t=await(0,fl.default)((t=>this._provider.sendAsync(e,t)))();if(ml("Got response",t),t.error)throw new Error(`PollingBlockTracker - encountered error fetching block:\n${t.error.message}`);return t.result}}function bl(e,t){return new Promise((r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()}))}zs.PollingBlockTracker=vl;var yl={},wl=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yl,"__esModule",{value:!0}),yl.SubscribeBlockTracker=void 0;const El=wl(Js),kl=Zs,Cl=(0,El.default)();class Sl extends kl.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(void 0===this._subscriptionId||null===this._subscriptionId)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(null!==this._subscriptionId&&void 0!==this._subscriptionId)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...t){return new Promise(((r,n)=>{this._provider.sendAsync({id:Cl(),method:e,params:t,jsonrpc:"2.0"},((e,t)=>{e?n(e):r(t.result)}))}))}_handleSubData(e,t){var r;"eth_subscription"===t.method&&(null===(r=t.params)||void 0===r?void 0:r.subscription)===this._subscriptionId&&this._newPotentialLatest(t.params.result.number)}}yl.SubscribeBlockTracker=Sl,function(t){var r=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e&&e.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(zs,t),n(yl,t)}(qs);var Il={},Rl={},xl={};Object.defineProperty(xl,"__esModule",{value:!0}),xl.getUniqueId=void 0;const Al=4294967295;let Ml=Math.floor(Math.random()*Al);xl.getUniqueId=function(){return Ml=(Ml+1)%Al,Ml},Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.createIdRemapMiddleware=void 0;const Nl=xl;Rl.createIdRemapMiddleware=function(){return(e,t,r,n)=>{const s=e.id,i=Nl.getUniqueId();e.id=i,t.id=i,r((r=>{e.id=s,t.id=s,r()}))}};var Ll={};Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.createAsyncMiddleware=void 0,Ll.createAsyncMiddleware=function(e){return async(t,r,n,s)=>{let i;const o=new Promise((e=>{i=e}));let a=null,c=!1;const l=async()=>{c=!0,n((e=>{a=e,i()})),await o};try{await e(t,r,l),c?(await o,a(null)):s(null)}catch(u){a?a(u):s(u)}}};var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.createScaffoldMiddleware=void 0,Pl.createScaffoldMiddleware=function(e){return(t,r,n,s)=>{const i=e[t.method];return void 0===i?n():"function"==typeof i?i(t,r,n,s):(r.result=i,s())}};var Ol={},Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});const jl=i;function Bl(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout((()=>{throw n}))}}let Fl=class extends jl.EventEmitter{emit(e,...t){let r="error"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const s=n[e];if(void 0===s)return!1;if("function"==typeof s)Bl(s,this,t);else{const e=s.length,r=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(s);for(let n=0;n<e;n+=1)Bl(r[n],this,t)}return!0}};Tl.default=Fl;var Dl={},$l={},Ul=Jl;Jl.default=Jl,Jl.stable=Yl,Jl.stableStringify=Yl;var Hl="[...]",Vl="[Circular]",Wl=[],ql=[];function zl(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Jl(e,t,r,n){var s;void 0===n&&(n=zl()),Zl(e,"",0,[],void 0,0,n);try{s=0===ql.length?JSON.stringify(e,t,r):JSON.stringify(e,Kl(t),r)}catch(o){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==Wl.length;){var i=Wl.pop();4===i.length?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return s}function Gl(e,t,r,n){var s=Object.getOwnPropertyDescriptor(n,r);void 0!==s.get?s.configurable?(Object.defineProperty(n,r,{value:e}),Wl.push([n,r,t,s])):ql.push([t,r,e]):(n[r]=e,Wl.push([n,r,t]))}function Zl(e,t,r,n,s,i,o){var a;if(i+=1,"object"==typeof e&&null!==e){for(a=0;a<n.length;a++)if(n[a]===e)return void Gl(Vl,e,t,s);if(void 0!==o.depthLimit&&i>o.depthLimit)return void Gl(Hl,e,t,s);if(void 0!==o.edgesLimit&&r+1>o.edgesLimit)return void Gl(Hl,e,t,s);if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)Zl(e[a],a,a,n,e,i,o);else{var c=Object.keys(e);for(a=0;a<c.length;a++){var l=c[a];Zl(e[l],l,a,n,e,i,o)}}n.pop()}}function Ql(e,t){return e<t?-1:e>t?1:0}function Yl(e,t,r,n){void 0===n&&(n=zl());var s,i=Xl(e,"",0,[],void 0,0,n)||e;try{s=0===ql.length?JSON.stringify(i,t,r):JSON.stringify(i,Kl(t),r)}catch(a){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==Wl.length;){var o=Wl.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Xl(e,t,r,n,s,i,o){var a;if(i+=1,"object"==typeof e&&null!==e){for(a=0;a<n.length;a++)if(n[a]===e)return void Gl(Vl,e,t,s);try{if("function"==typeof e.toJSON)return}catch(d){return}if(void 0!==o.depthLimit&&i>o.depthLimit)return void Gl(Hl,e,t,s);if(void 0!==o.edgesLimit&&r+1>o.edgesLimit)return void Gl(Hl,e,t,s);if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)Xl(e[a],a,a,n,e,i,o);else{var c={},l=Object.keys(e).sort(Ql);for(a=0;a<l.length;a++){var u=l[a];Xl(e[u],u,a,n,e,i,o),c[u]=e[u]}if(void 0===s)return c;Wl.push([s,t,e]),s[t]=c}n.pop()}}function Kl(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(ql.length>0)for(var n=0;n<ql.length;n++){var s=ql[n];if(s[1]===t&&s[0]===r){r=s[2],ql.splice(n,1);break}}return e.call(this,t,r)}}Object.defineProperty($l,"__esModule",{value:!0}),$l.EthereumProviderError=$l.EthereumRpcError=void 0;const eu=Ul;class tu extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return eu.default(this.serialize(),ru,2)}}$l.EthereumRpcError=tu;function ru(e,t){if("[Circular]"!==t)return t}$l.EthereumProviderError=class extends tu{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}};var nu={},su={};Object.defineProperty(su,"__esModule",{value:!0}),su.errorValues=su.errorCodes=void 0,su.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},su.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=su,r=$l,n=t.errorCodes.rpc.internal,s="Unspecified error message. This is a bug, please report it.",i={code:n,message:o(n)};function o(r,n=s){if(Number.isInteger(r)){const n=r.toString();if(u(t.errorValues,n))return t.errorValues[n].message;if(c(r))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return n}function a(e){if(!Number.isInteger(e))return!1;const r=e.toString();return!!t.errorValues[r]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",e.getMessageFromCode=o,e.isValidCode=a,e.serializeError=function(e,{fallbackError:t=i,shouldIncludeStack:n=!1}={}){var s,c;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof r.EthereumRpcError)return e.serialize();const d={};if(e&&"object"==typeof e&&!Array.isArray(e)&&u(e,"code")&&a(e.code)){const t=e;d.code=t.code,t.message&&"string"==typeof t.message?(d.message=t.message,u(t,"data")&&(d.data=t.data)):(d.message=o(d.code),d.data={originalError:l(e)})}else{d.code=t.code;const r=null===(s=e)||void 0===s?void 0:s.message;d.message=r&&"string"==typeof r?r:t.message,d.data={originalError:l(e)}}const h=null===(c=e)||void 0===c?void 0:c.stack;return n&&e&&h&&"string"==typeof h&&(d.stack=h),d}}(nu);var iu={};Object.defineProperty(iu,"__esModule",{value:!0}),iu.ethErrors=void 0;const ou=$l,au=nu,cu=su;function lu(e,t){const[r,n]=du(t);return new ou.EthereumRpcError(e,r||au.getMessageFromCode(e),n)}function uu(e,t){const[r,n]=du(t);return new ou.EthereumProviderError(e,r||au.getMessageFromCode(e),n)}function du(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}iu.ethErrors={rpc:{parse:e=>lu(cu.errorCodes.rpc.parse,e),invalidRequest:e=>lu(cu.errorCodes.rpc.invalidRequest,e),invalidParams:e=>lu(cu.errorCodes.rpc.invalidParams,e),methodNotFound:e=>lu(cu.errorCodes.rpc.methodNotFound,e),internal:e=>lu(cu.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return lu(t,e)},invalidInput:e=>lu(cu.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>lu(cu.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>lu(cu.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>lu(cu.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>lu(cu.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>lu(cu.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>uu(cu.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>uu(cu.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>uu(cu.errorCodes.provider.unsupportedMethod,e),disconnected:e=>uu(cu.errorCodes.provider.disconnected,e),chainDisconnected:e=>uu(cu.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new ou.EthereumProviderError(t,r,n)}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=$l;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=nu;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=iu;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const s=su;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})}(Dl);var hu=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.JsonRpcEngine=void 0;const pu=hu(Tl),fu=Dl;class gu extends pu.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[s,i,o]=await gu._runAllMiddleware(e,t,this._middleware);return i?(await gu._runReturnHandlers(o),n(s)):r((async e=>{try{await gu._runReturnHandlers(o)}catch(t){return e(t)}return e()}))}catch(s){return n(s)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(r){if(t)return t(r);throw r}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,r)=>{t(r)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new fu.EthereumRpcError(fu.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new fu.EthereumRpcError(fu.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let s=null;try{await this._processRequest(r,n)}catch(i){s=i}return s&&(delete n.result,n.error||(n.error=fu.serializeError(s))),t(s,n)}async _processRequest(e,t){const[r,n,s]=await gu._runAllMiddleware(e,t,this._middleware);if(gu._checkForCompletion(e,t,n),await gu._runReturnHandlers(s),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let s=null,i=!1;for(const o of r)if([s,i]=await gu._runMiddleware(e,t,o,n),i)break;return[s,i,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise((s=>{const i=e=>{const r=e||t.error;r&&(t.error=fu.serializeError(r)),s([r,!0])},o=r=>{t.error?i(t.error):(r&&("function"!=typeof r&&i(new fu.EthereumRpcError(fu.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${mu(e)}`,{request:e})),n.push(r)),s([null,!1]))};try{r(e,t,o,i)}catch(a){i(a)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,r)=>{t((t=>t?r(t):e()))}))}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new fu.EthereumRpcError(fu.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${mu(e)}`,{request:e});if(!r)throw new fu.EthereumRpcError(fu.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${mu(e)}`,{request:e})}}function mu(e){return JSON.stringify(e,null,2)}Ol.JsonRpcEngine=gu;var _u={};Object.defineProperty(_u,"__esModule",{value:!0}),_u.mergeMiddleware=void 0;const vu=Ol;_u.mergeMiddleware=function(e){const t=new vu.JsonRpcEngine;return e.forEach((e=>t.push(e))),t.asMiddleware()},function(t){var r=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e&&e.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(Rl,t),n(Ll,t),n(Pl,t),n(xl,t),n(Ol,t),n(_u,t)}(Il);var bu={},yu={};const wu=s(a);var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});var ku=wu,Cu=function(){function e(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,t=this.isLocked(),r=new Promise((function(t){return e._queue.push(t)}));return t||this._dispatch(),r},e.prototype.runExclusive=function(e){return ku.__awaiter(this,void 0,void 0,(function(){var t,r,n;return ku.__generator(this,(function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:t=s.sent(),r=t[0],n=t[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,s.sent()];case 4:return n(),[7];case 5:return[2]}}))}))},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},e.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},t([this._value--,this._currentReleaser])}},e}();Eu.default=Cu,Object.defineProperty(yu,"__esModule",{value:!0});var Su=wu,Iu=Eu,Ru=function(){function e(){this._semaphore=new Iu.default(1)}return e.prototype.acquire=function(){return Su.__awaiter(this,void 0,void 0,(function(){var e;return Su.__generator(this,(function(t){switch(t.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=t.sent(),[2,e[1]]}}))}))},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive((function(){return e()}))},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();yu.default=Ru;var xu={};Object.defineProperty(xu,"__esModule",{value:!0}),xu.withTimeout=void 0;var Au=wu;xu.withTimeout=function(e,t,r){var n=this;return void 0===r&&(r=new Error("timeout")),{acquire:function(){return new Promise((function(s,i){return Au.__awaiter(n,void 0,void 0,(function(){var n,o;return Au.__generator(this,(function(a){switch(a.label){case 0:return n=!1,setTimeout((function(){n=!0,i(r)}),t),[4,e.acquire()];case 1:return o=a.sent(),n?(Array.isArray(o)?o[1]:o)():s(o),[2]}}))}))}))},runExclusive:function(e){return Au.__awaiter(this,void 0,void 0,(function(){var t,r;return Au.__generator(this,(function(n){switch(n.label){case 0:t=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return r=n.sent(),Array.isArray(r)?(t=r[1],[4,e(r[0])]):[3,4];case 3:return[2,n.sent()];case 4:return t=r,[4,e()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}}))}))},release:function(){e.release()},isLocked:function(){return e.isLocked()}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=e.Semaphore=e.Mutex=void 0;var t=yu;Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var r=Eu;Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=xu;Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})}(bu);var Mu=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)Nu.call(r,n)&&(e[n]=r[n])}return e},Nu=Object.prototype.hasOwnProperty;const Lu=Mu,Pu=Js();var Ou=Tu;function Tu(e){this.currentProvider=e}function ju(e){return function(){var t=[].slice.call(arguments),r=t.pop();this.sendAsync({method:e,params:t},r)}}function Bu(e,t){return function(){var r=[].slice.call(arguments),n=r.pop();r.length<e&&r.push("latest"),this.sendAsync({method:t,params:r},n)}}Tu.prototype.getBalance=Bu(2,"eth_getBalance"),Tu.prototype.getCode=Bu(2,"eth_getCode"),Tu.prototype.getTransactionCount=Bu(2,"eth_getTransactionCount"),Tu.prototype.getStorageAt=Bu(3,"eth_getStorageAt"),Tu.prototype.call=Bu(2,"eth_call"),Tu.prototype.protocolVersion=ju("eth_protocolVersion"),Tu.prototype.syncing=ju("eth_syncing"),Tu.prototype.coinbase=ju("eth_coinbase"),Tu.prototype.mining=ju("eth_mining"),Tu.prototype.hashrate=ju("eth_hashrate"),Tu.prototype.gasPrice=ju("eth_gasPrice"),Tu.prototype.accounts=ju("eth_accounts"),Tu.prototype.blockNumber=ju("eth_blockNumber"),Tu.prototype.getBlockTransactionCountByHash=ju("eth_getBlockTransactionCountByHash"),Tu.prototype.getBlockTransactionCountByNumber=ju("eth_getBlockTransactionCountByNumber"),Tu.prototype.getUncleCountByBlockHash=ju("eth_getUncleCountByBlockHash"),Tu.prototype.getUncleCountByBlockNumber=ju("eth_getUncleCountByBlockNumber"),Tu.prototype.sign=ju("eth_sign"),Tu.prototype.sendTransaction=ju("eth_sendTransaction"),Tu.prototype.sendRawTransaction=ju("eth_sendRawTransaction"),Tu.prototype.estimateGas=ju("eth_estimateGas"),Tu.prototype.getBlockByHash=ju("eth_getBlockByHash"),Tu.prototype.getBlockByNumber=ju("eth_getBlockByNumber"),Tu.prototype.getTransactionByHash=ju("eth_getTransactionByHash"),Tu.prototype.getTransactionByBlockHashAndIndex=ju("eth_getTransactionByBlockHashAndIndex"),Tu.prototype.getTransactionByBlockNumberAndIndex=ju("eth_getTransactionByBlockNumberAndIndex"),Tu.prototype.getTransactionReceipt=ju("eth_getTransactionReceipt"),Tu.prototype.getUncleByBlockHashAndIndex=ju("eth_getUncleByBlockHashAndIndex"),Tu.prototype.getUncleByBlockNumberAndIndex=ju("eth_getUncleByBlockNumberAndIndex"),Tu.prototype.getCompilers=ju("eth_getCompilers"),Tu.prototype.compileLLL=ju("eth_compileLLL"),Tu.prototype.compileSolidity=ju("eth_compileSolidity"),Tu.prototype.compileSerpent=ju("eth_compileSerpent"),Tu.prototype.newFilter=ju("eth_newFilter"),Tu.prototype.newBlockFilter=ju("eth_newBlockFilter"),Tu.prototype.newPendingTransactionFilter=ju("eth_newPendingTransactionFilter"),Tu.prototype.uninstallFilter=ju("eth_uninstallFilter"),Tu.prototype.getFilterChanges=ju("eth_getFilterChanges"),Tu.prototype.getFilterLogs=ju("eth_getFilterLogs"),Tu.prototype.getLogs=ju("eth_getLogs"),Tu.prototype.getWork=ju("eth_getWork"),Tu.prototype.submitWork=ju("eth_submitWork"),Tu.prototype.submitHashrate=ju("eth_submitHashrate"),Tu.prototype.sendAsync=function(e,t){var r;this.currentProvider.sendAsync((r=e,Lu({id:Pu(),jsonrpc:"2.0",params:[]},r)),(function(e,r){if(!e&&r.error&&(e=new Error("EthQuery - RPC Error - "+r.error.message)),e)return t(e);t(null,r.result)}))};const Fu=(e,t,r,n)=>function(...s){return new(0,t.promiseModule)(((i,o)=>{t.multiArgs?s.push(((...e)=>{t.errorFirst?e[0]?o(e):(e.shift(),i(e)):i(e)})):t.errorFirst?s.push(((e,t)=>{e?o(e):i(t)})):s.push(i);const a=this===r?n:this;Reflect.apply(e,a,s)}))},Du=new WeakMap;const $u=Qs.default;var Uu=class extends $u{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach((e=>this.emit("update",e)))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};const Hu=Uu;var Vu={minBlockRef:function(...e){return Wu(e)[0]},maxBlockRef:function(...e){const t=Wu(e);return t[t.length-1]},sortBlockRefs:Wu,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt:qu,incrementHexInt:function(e){if(null==e)return e;return zu(qu(e)+1)},intToHex:zu,unsafeRandomBytes:function(e){let t="0x";for(let r=0;r<e;r++)t+=Ju(),t+=Ju();return t}};function Wu(e){return e.sort(((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:qu(e)-qu(t)))}function qu(e){return null==e?e:Number.parseInt(e,16)}function zu(e){if(null==e)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function Ju(){return Math.floor(16*Math.random()).toString(16)}const Gu=Ou,Zu=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};const r=typeof e;if(null===e||"object"!==r&&"function"!==r)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":r}\``);const n=new WeakMap,s=new Proxy(e,{apply(e,r,i){const o=n.get(e);if(o)return Reflect.apply(o,r,i);const a=t.excludeMain?e:Fu(e,t,s,e);return n.set(e,a),Reflect.apply(a,r,i)},get(e,r){const i=e[r];if(!((e,r)=>{let n=Du.get(e);if(n||(n={},Du.set(e,n)),r in n)return n[r];const s=e=>"string"==typeof e||"symbol"==typeof r?r===e:e.test(r),i=Reflect.getOwnPropertyDescriptor(e,r),o=void 0===i||i.writable||i.configurable,a=(t.include?t.include.some(s):!t.exclude.some(s))&&o;return n[r]=a,a})(e,r)||i===Function.prototype[r])return i;const o=n.get(i);if(o)return o;if("function"==typeof i){const r=Fu(i,t,s,e);return n.set(i,r),r}return i}});return s},Qu=class extends Hu{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}},{bnToHex:Yu,hexToInt:Xu,incrementHexInt:Ku,minBlockRef:ed,blockRefIsNumber:td}=Vu;var rd=class extends Qu{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new Gu(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map((e=>e.toLowerCase())))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),"earliest"===t&&(t="0x0"),this.params.fromBlock=t;const r=ed(this.params.toBlock,e),n=Object.assign({},this.params,{toBlock:r}),s=await this._fetchLogs(n);this.addInitialResults(s)}async update({oldBlock:e,newBlock:t}){const r=t;let n;n=e?Ku(e):t;const s=Object.assign({},this.params,{fromBlock:n,toBlock:r}),i=(await this._fetchLogs(s)).filter((e=>this.matchLog(e)));this.addResults(i)}async _fetchLogs(e){return await Zu((t=>this.ethQuery.getLogs(e,t)))()}matchLog(e){if(Xu(this.params.fromBlock)>=Xu(e.blockNumber))return!1;if(td(this.params.toBlock)&&Xu(this.params.toBlock)<=Xu(e.blockNumber))return!1;const t=e.address&&e.address.toLowerCase();if(this.params.address&&t&&!this.params.address.includes(t))return!1;return this.params.topics.every(((t,r)=>{let n=e.topics[r];if(!n)return!1;n=n.toLowerCase();let s=Array.isArray(t)?t:[t];if(s.includes(null))return!0;s=s.map((e=>e.toLowerCase()));return s.includes(n)}))}},nd=async function({provider:e,fromBlock:t,toBlock:r}){t||(t=r);const n=sd(t),s=sd(r),i=Array(s-n+1).fill().map(((e,t)=>n+t)).map(id);let o=await Promise.all(i.map((t=>async function(e,t,r){for(let s=0;s<3;s++)try{return await od(e,{id:1,jsonrpc:"2.0",method:t,params:r})}catch(n){}return null}(e,"eth_getBlockByNumber",[t,!1]))));return o=o.filter((e=>null!==e)),o};function sd(e){return null==e?e:Number.parseInt(e,16)}function id(e){if(null==e)return e;return"0x"+e.toString(16)}function od(e,t){return new Promise(((r,n)=>{e.sendAsync(t,((e,t)=>{e?n(e):t.error?n(t.error):t.result?r(t.result):n(new Error("Result was empty"))}))}))}const ad=Uu,cd=nd,{incrementHexInt:ld}=Vu;var ud=class extends ad{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){const r=t,n=ld(e),s=(await cd({provider:this.provider,fromBlock:n,toBlock:r})).map((e=>e.hash));this.addResults(s)}};const dd=Uu,hd=nd,{incrementHexInt:pd}=Vu;var fd=class extends dd{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,r=pd(e),n=await hd({provider:this.provider,fromBlock:r,toBlock:t}),s=[];for(const i of n)s.push(...i.transactions);this.addResults(s)}};const gd=bu.Mutex,{createAsyncMiddleware:md,createScaffoldMiddleware:_d}=Il,vd=rd,bd=ud,yd=fd,{intToHex:wd,hexToInt:Ed}=Vu;var kd=function({blockTracker:e,provider:t}){let r=0,n={};const s=new gd,i=function({mutex:e}){return t=>async(r,n,s,i)=>{(await e.acquire())(),t(r,n,s,i)}}({mutex:s}),o=_d({eth_newFilter:i(Cd(c)),eth_newBlockFilter:i(Cd(l)),eth_newPendingTransactionFilter:i(Cd(u)),eth_uninstallFilter:i(Sd(p)),eth_getFilterChanges:i(Sd(d)),eth_getFilterLogs:i(Sd(h))}),a=async({oldBlock:e,newBlock:t})=>{if(0===n.length)return;const r=await s.acquire();try{await Promise.all(Id(n).map((async r=>{try{await r.update({oldBlock:e,newBlock:t})}catch(n){}})))}catch(i){}r()};return o.newLogFilter=c,o.newBlockFilter=l,o.newPendingTransactionFilter=u,o.uninstallFilter=p,o.getFilterChanges=d,o.getFilterLogs=h,o.destroy=()=>{!async function(){const e=Id(n).length;n={},g({prevFilterCount:e,newFilterCount:0})}()},o;async function c(e){const r=new vd({provider:t,params:e});return await f(r),r}async function l(){const e=new bd({provider:t});return await f(e),e}async function u(){const e=new yd({provider:t});return await f(e),e}async function d(e){const t=Ed(e),r=n[t];if(!r)throw new Error(`No filter for index "${t}"`);return r.getChangesAndClear()}async function h(e){const t=Ed(e),r=n[t];if(!r)throw new Error(`No filter for index "${t}"`);let s=[];return"log"===r.type&&(s=r.getAllResults()),s}async function p(e){const t=Ed(e),r=n[t],s=Boolean(r);return s&&await async function(e){const t=Id(n).length;delete n[e];const r=Id(n).length;g({prevFilterCount:t,newFilterCount:r})}(t),s}async function f(t){const s=Id(n).length,i=await e.getLatestBlock();await t.initialize({currentBlock:i}),r++,n[r]=t,t.id=r,t.idHex=wd(r);return g({prevFilterCount:s,newFilterCount:Id(n).length}),r}function g({prevFilterCount:t,newFilterCount:r}){0===t&&r>0?e.on("sync",a):t>0&&0===r&&e.removeListener("sync",a)}};function Cd(e){return Sd((async(...t)=>{const r=await e(...t);return wd(r.id)}))}function Sd(e){return md((async(t,r)=>{const n=await e.apply(null,t.params);r.result=n}))}function Id(e,t){const r=[];for(let n in e)r.push(e[n]);return r}const Rd=Qs.default,{createAsyncMiddleware:xd,createScaffoldMiddleware:Ad}=Il,Md=kd,{unsafeRandomBytes:Nd,incrementHexInt:Ld}=Vu,Pd=nd;var Od=function({blockTracker:e,provider:t}){const r={},n=Md({blockTracker:e,provider:t});let s=!1;const i=new Rd,o=Ad({eth_subscribe:xd((async function(i,o){if(s)throw new Error("SubscriptionManager - attempting to use after destroying");const c=i.params[0],l=Nd(16);let u;switch(c){case"newHeads":u=d({subId:l});break;case"logs":const e=i.params[1];u=h({subId:l,filter:await n.newLogFilter(e)});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${c}"`)}return r[l]=u,void(o.result=l);function d({subId:r}){const n={type:c,destroy:async()=>{e.removeListener("sync",n.update)},update:async({oldBlock:e,newBlock:n})=>{const s=n,i=Ld(e);(await Pd({provider:t,fromBlock:i,toBlock:s})).map(Td).filter((e=>null!==e)).forEach((e=>{a(r,e)}))}};return e.on("sync",n.update),n}function h({subId:e,filter:t}){t.on("update",(t=>a(e,t)));return{type:c,destroy:async()=>await n.uninstallFilter(t.idHex)}}})),eth_unsubscribe:xd((async function(e,t){if(s)throw new Error("SubscriptionManager - attempting to use after destroying");const n=e.params[0],i=r[n];if(!i)return void(t.result=!1);delete r[n],await i.destroy(),t.result=!0}))});return o.destroy=function(){i.removeAllListeners();for(const e in r)r[e].destroy(),delete r[e];s=!0},{events:i,middleware:o};function a(e,t){i.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}};function Td(e){return null==e?null:{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.SubscriptionManager=void 0;const jd=qs,Bd=Od,Fd=()=>{};Ws.SubscriptionManager=class{constructor(e){const t=new jd.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:r,middleware:n}=Bd({blockTracker:t,provider:e});this.events=r,this.subscriptionMiddleware=n}async handleRequest(e){const t={};return await this.subscriptionMiddleware(e,t,Fd,Fd),t}destroy(){this.subscriptionMiddleware.destroy()}};var Dd=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ee,"__esModule",{value:!0}),ee.CoinbaseWalletProvider=void 0;const $d=Dd(t),Ud=re,Hd=g,Vd=f,Wd=ne,qd=oe,zd=ce,Jd=R,Gd=Dd(Ps),Zd=ie,Qd=Os,Yd=Ws,Xd="DefaultChainId",Kd="DefaultJsonRpcUrl";class eh extends Ud.EventEmitter{constructor(e){var t,r;super(),this._filterPolyfill=new Qd.FilterPolyfill(this),this._subscriptionManager=new Yd.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=null===(t=e.overrideIsCoinbaseWallet)||void 0===t||t,this.isCoinbaseBrowser=null!==(r=e.overrideIsCoinbaseBrowser)&&void 0!==r&&r,this.qrUrl=e.qrUrl;const n=this.getChainId(),s=(0,Vd.prepend0x)(n.toString(16));this.emit("connect",{chainIdStr:s});const i=this._storage.getItem(qd.LOCAL_STORAGE_ADDRESSES_KEY);if(i){const e=i.split(" ");""!==e[0]&&(this._addresses=e.map((e=>(0,Vd.ensureAddressString)(e))),this.emit("accountsChanged",e))}this._subscriptionManager.events.on("notification",(e=>{this.emit("message",{type:e.method,data:e.params})})),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",(e=>{var t;if(e.origin===location.origin&&e.source===window&&"walletLinkMessage"===e.data.type&&"dappChainSwitched"===e.data.data.action){const r=e.data.data.chainId,n=null!==(t=e.data.data.jsonRpcUrl)&&void 0!==t?t:this.jsonRpcUrl;this.updateProviderInfo(n,Number(r))}}))}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,Vd.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return null!==(e=this._storage.getItem(Kd))&&void 0!==e?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Kd,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,t){this.isCoinbaseBrowser||(this._chainIdFromOpts=t,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,t){this.jsonRpcUrl=e;const r=this.getChainId();this._storage.setItem(Xd,t.toString(10));!((0,Vd.ensureIntNumber)(t)!==r)&&this.hasMadeFirstChainChangedEmission||(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,t,r,n,s,i){const o=await this.initializeRelay(),a=await o.watchAsset(e,t,r,n,s,null==i?void 0:i.toString()).promise;return!(0,Jd.isErrorResponse)(a)&&!!a.result}async addEthereumChain(e,t,r,n,s,i){var o,a;if((0,Vd.ensureIntNumber)(e)===this.getChainId())return!1;const c=await this.initializeRelay(),l=c.inlineAddEthereumChain(e.toString());this._isAuthorized()||l||await c.requestEthereumAccounts().promise;const u=await c.addEthereumChain(e.toString(),t,s,r,n,i).promise;return!(0,Jd.isErrorResponse)(u)&&(!0===(null===(o=u.result)||void 0===o?void 0:o.isApproved)&&this.updateProviderInfo(t[0],e),!0===(null===(a=u.result)||void 0===a?void 0:a.isApproved))}async switchEthereumChain(e){const t=await this.initializeRelay(),r=await t.switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,Jd.isErrorResponse)(r)){if(!r.errorCode)return;throw r.errorCode===Hd.standardErrorCodes.provider.unsupportedChain?Hd.standardErrors.provider.unsupportedChain():Hd.standardErrors.provider.custom({message:r.errorMessage,code:r.errorCode})}const n=r.result;n.isApproved&&n.rpcUrl.length>0&&this.updateProviderInfo(n.rpcUrl,e)}setAppInfo(e,t){this.initializeRelay().then((r=>r.setAppInfo(e,t)))}async enable(){var e;return null===(e=this.diagnostic)||void 0===e||e.log(Zd.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?zd.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(e,t){try{const r=this._send(e,t);if(r instanceof Promise)return r.catch((t=>{throw(0,Hd.serializeError)(t,e)}))}catch(r){throw(0,Hd.serializeError)(r,e)}}_send(e,t){if("string"==typeof e){const r={jsonrpc:"2.0",id:0,method:e,params:Array.isArray(t)?t:void 0!==t?[t]:[]};return this._sendRequestAsync(r).then((e=>e.result))}if("function"==typeof t){const r=e,n=t;return this._sendAsync(r,n)}if(Array.isArray(e)){return e.map((e=>this._sendRequest(e)))}const r=e;return this._sendRequest(r)}async sendAsync(e,t){try{return this._sendAsync(e,t).catch((t=>{throw(0,Hd.serializeError)(t,e)}))}catch(r){return Promise.reject((0,Hd.serializeError)(r,e))}}async _sendAsync(e,t){if("function"!=typeof t)throw new Error("callback is required");if(Array.isArray(e)){const r=t;return void this._sendMultipleRequestsAsync(e).then((e=>r(null,e))).catch((e=>r(e,null)))}const r=t;return this._sendRequestAsync(e).then((e=>r(null,e))).catch((e=>r(e,null)))}async request(e){try{return this._request(e).catch((t=>{throw(0,Hd.serializeError)(t,e.method)}))}catch(t){return Promise.reject((0,Hd.serializeError)(t,e.method))}}async _request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw Hd.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw Hd.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw Hd.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const n=void 0===r?[]:r,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:t,params:n,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const t=await this.initializeRelay(),r=await t.scanQRCode((0,Vd.ensureRegExpString)(e)).promise;if((0,Jd.isErrorResponse)(r))throw(0,Hd.serializeError)(r.errorMessage,"scanQRCode");if("string"!=typeof r.result)throw(0,Hd.serializeError)("result was not a string","scanQRCode");return r.result}async genericRequest(e,t){const r=await this.initializeRelay(),n=await r.genericRequest(e,t).promise;if((0,Jd.isErrorResponse)(n))throw(0,Hd.serializeError)(n.errorMessage,"generic");if("string"!=typeof n.result)throw(0,Hd.serializeError)("result was not a string","generic");return n.result}async connectAndSignIn(e){var t;let r;null===(t=this.diagnostic)||void 0===t||t.log(Zd.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?zd.Session.hash(this._relay.session.id):void 0});try{const t=await this.initializeRelay();if(!(t instanceof Wd.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");if(r=await t.connectAndSignIn(e).promise,(0,Jd.isErrorResponse)(r))throw new Error(r.errorMessage)}catch(s){if("string"==typeof s.message&&s.message.match(/(denied|rejected)/i))throw Hd.standardErrors.provider.userRejectedRequest("User denied account authorization");throw s}if(!r.result)throw new Error("accounts received is empty");const{accounts:n}=r.result;return this._setAddresses(n),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),r.result}async selectProvider(e){const t=await this.initializeRelay(),r=await t.selectProvider(e).promise;if((0,Jd.isErrorResponse)(r))throw(0,Hd.serializeError)(r.errorMessage,"selectProvider");if("string"!=typeof r.result)throw(0,Hd.serializeError)("result was not a string","selectProvider");return r.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const t={jsonrpc:"2.0",id:e.id},{method:r}=e;if(t.result=this._handleSynchronousMethods(e),void 0===t.result)throw new Error(`Coinbase Wallet does not support calling ${r} synchronously without a callback. Please provide a callback parameter to call ${r} asynchronously.`);return t}_setAddresses(e,t){if(!Array.isArray(e))throw new Error("addresses is not an array");const r=e.map((e=>(0,Vd.ensureAddressString)(e)));JSON.stringify(r)!==JSON.stringify(this._addresses)&&(this._addresses=r,this.emit("accountsChanged",this._addresses),this._storage.setItem(qd.LOCAL_STORAGE_ADDRESSES_KEY,r.join(" ")))}_sendRequestAsync(e){return new Promise(((t,r)=>{try{const n=this._handleSynchronousMethods(e);if(void 0!==n)return t({jsonrpc:"2.0",id:e.id,result:n});const s=this._handleAsynchronousFilterMethods(e);if(void 0!==s)return void s.then((r=>t(Object.assign(Object.assign({},r),{id:e.id})))).catch((e=>r(e)));const i=this._handleSubscriptionMethods(e);if(void 0!==i)return void i.then((r=>t({jsonrpc:"2.0",id:e.id,result:r.result}))).catch((e=>r(e)))}catch(n){return r(n)}this._handleAsynchronousMethods(e).then((r=>r&&t(Object.assign(Object.assign({},r),{id:e.id})))).catch((e=>r(e)))}))}_sendMultipleRequestsAsync(e){return Promise.all(e.map((e=>this._sendRequestAsync(e))))}_handleSynchronousMethods(e){const{method:t}=e,r=e.params||[];switch(t){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(r);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:t}=e,r=e.params||[];switch(t){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(r);case"eth_ecRecover":return this._eth_ecRecover(r);case"personal_sign":return this._personal_sign(r);case"personal_ecRecover":return this._personal_ecRecover(r);case"eth_signTransaction":return this._eth_signTransaction(r);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(r);case"eth_sendTransaction":return this._eth_sendTransaction(r);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(r);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(r);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(r);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(r);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(r);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(r);case"wallet_watchAsset":return this._wallet_watchAsset(r)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl).catch((t=>{var r;throw t.code!==Hd.standardErrorCodes.rpc.methodNotFound&&t.code!==Hd.standardErrorCodes.rpc.methodNotSupported||null===(r=this.diagnostic)||void 0===r||r.log(Zd.EVENTS.METHOD_NOT_IMPLEMENTED,{method:e.method,sessionIdHash:this._relay?zd.Session.hash(this._relay.session.id):void 0}),t}))}_handleAsynchronousFilterMethods(e){const{method:t}=e,r=e.params||[];switch(t){case"eth_newFilter":return this._eth_newFilter(r);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(r);case"eth_getFilterLogs":return this._eth_getFilterLogs(r)}}_handleSubscriptionMethods(e){switch(e.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const t=(0,Vd.ensureAddressString)(e);return this._addresses.map((e=>(0,Vd.ensureAddressString)(e))).includes(t)}catch(t){}return!1}_ensureKnownAddress(e){var t;if(!this._isKnownAddress(e))throw null===(t=this.diagnostic)||void 0===t||t.log(Zd.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const t=e.from?(0,Vd.ensureAddressString)(e.from):this.selectedAddress;if(!t)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(t);return{fromAddress:t,toAddress:e.to?(0,Vd.ensureAddressString)(e.to):null,weiValue:null!=e.value?(0,Vd.ensureBN)(e.value):new $d.default(0),data:e.data?(0,Vd.ensureBuffer)(e.data):r.alloc(0),nonce:null!=e.nonce?(0,Vd.ensureIntNumber)(e.nonce):null,gasPriceInWei:null!=e.gasPrice?(0,Vd.ensureBN)(e.gasPrice):null,maxFeePerGas:null!=e.maxFeePerGas?(0,Vd.ensureBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:null!=e.maxPriorityFeePerGas?(0,Vd.ensureBN)(e.maxPriorityFeePerGas):null,gasLimit:null!=e.gas?(0,Vd.ensureBN)(e.gas):null,chainId:e.chainId?(0,Vd.ensureIntNumber)(e.chainId):this.getChainId()}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Hd.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Hd.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,t,r,n){this._ensureKnownAddress(t);try{const s=await this.initializeRelay(),i=await s.signEthereumMessage(e,t,r,n).promise;if((0,Jd.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(s){if("string"==typeof s.message&&s.message.match(/(denied|rejected)/i))throw Hd.standardErrors.provider.userRejectedRequest("User denied message signature");throw s}}async _ethereumAddressFromSignedMessage(e,t,r){const n=await this.initializeRelay(),s=await n.ethereumAddressFromSignedMessage(e,t,r).promise;if((0,Jd.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,Vd.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Xd);if(!e)return(0,Vd.ensureIntNumber)(this._chainIdFromOpts);const t=parseInt(e,10);return(0,Vd.ensureIntNumber)(t)}async _eth_requestAccounts(){var e;if(null===(e=this.diagnostic)||void 0===e||e.log(Zd.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?zd.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let t;try{const e=await this.initializeRelay();if(t=await e.requestEthereumAccounts().promise,(0,Jd.isErrorResponse)(t))throw new Error(t.errorMessage)}catch(r){if("string"==typeof r.message&&r.message.match(/(denied|rejected)/i))throw Hd.standardErrors.provider.userRejectedRequest("User denied account authorization");throw r}if(!t.result)throw new Error("accounts received is empty");return this._setAddresses(t.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const t=(0,Vd.ensureAddressString)(e[0]),r=(0,Vd.ensureBuffer)(e[1]);return this._signEthereumMessage(r,t,!1)}_eth_ecRecover(e){const t=(0,Vd.ensureBuffer)(e[0]),r=(0,Vd.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,r,!1)}_personal_sign(e){this._requireAuthorization();const t=(0,Vd.ensureBuffer)(e[0]),r=(0,Vd.ensureAddressString)(e[1]);return this._signEthereumMessage(t,r,!0)}_personal_ecRecover(e){const t=(0,Vd.ensureBuffer)(e[0]),r=(0,Vd.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,r,!0)}async _eth_signTransaction(e){this._requireAuthorization();const t=this._prepareTransactionParams(e[0]||{});try{const e=await this.initializeRelay(),r=await e.signEthereumTransaction(t).promise;if((0,Jd.isErrorResponse)(r))throw new Error(r.errorMessage);return{jsonrpc:"2.0",id:0,result:r.result}}catch(r){if("string"==typeof r.message&&r.message.match(/(denied|rejected)/i))throw Hd.standardErrors.provider.userRejectedRequest("User denied transaction signature");throw r}}async _eth_sendRawTransaction(e){const t=(0,Vd.ensureBuffer)(e[0]),r=await this.initializeRelay(),n=await r.submitEthereumTransaction(t,this.getChainId()).promise;if((0,Jd.isErrorResponse)(n))throw new Error(n.errorMessage);return{jsonrpc:"2.0",id:0,result:n.result}}async _eth_sendTransaction(e){this._requireAuthorization();const t=this._prepareTransactionParams(e[0]||{});try{const e=await this.initializeRelay(),r=await e.signAndSubmitEthereumTransaction(t).promise;if((0,Jd.isErrorResponse)(r))throw new Error(r.errorMessage);return{jsonrpc:"2.0",id:0,result:r.result}}catch(r){if("string"==typeof r.message&&r.message.match(/(denied|rejected)/i))throw Hd.standardErrors.provider.userRejectedRequest("User denied transaction signature");throw r}}async _eth_signTypedData_v1(e){this._requireAuthorization();const t=(0,Vd.ensureParsedJSONObject)(e[0]),r=(0,Vd.ensureAddressString)(e[1]);this._ensureKnownAddress(r);const n=Gd.default.hashForSignTypedDataLegacy({data:t}),s=JSON.stringify(t,null,2);return this._signEthereumMessage(n,r,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const t=(0,Vd.ensureAddressString)(e[0]),r=(0,Vd.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);const n=Gd.default.hashForSignTypedData_v3({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(n,t,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const t=(0,Vd.ensureAddressString)(e[0]),r=(0,Vd.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);const n=Gd.default.hashForSignTypedData_v4({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(n,t,!1,s)}async _cbwallet_arbitrary(e){const t=e[0],r=e[1];if("string"!=typeof r)throw new Error("parameter must be a string");if("object"!=typeof t||null===t)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(t,r)}}async _wallet_addEthereumChain(e){var t,r,n,s;const i=e[0];if(0===(null===(t=i.rpcUrls)||void 0===t?void 0:t.length))return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!i.chainName||""===i.chainName.trim())throw Hd.standardErrors.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw Hd.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const o=parseInt(i.chainId,16);return await this.addEthereumChain(o,null!==(r=i.rpcUrls)&&void 0!==r?r:[],null!==(n=i.blockExplorerUrls)&&void 0!==n?n:[],i.chainName,null!==(s=i.iconUrls)&&void 0!==s?s:[],i.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const t=e[0];return await this.switchEthereumChain(parseInt(t.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const t=Array.isArray(e)?e[0]:e;if(!t.type)throw Hd.standardErrors.rpc.invalidParams("Type is required");if("ERC20"!==(null==t?void 0:t.type))throw Hd.standardErrors.rpc.invalidParams(`Asset of type '${t.type}' is not supported`);if(!(null==t?void 0:t.options))throw Hd.standardErrors.rpc.invalidParams("Options are required");if(!(null==t?void 0:t.options.address))throw Hd.standardErrors.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:n,symbol:s,image:i,decimals:o}=t.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(t.type,n,s,o,i,r)}}_eth_uninstallFilter(e){const t=(0,Vd.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(t)}async _eth_newFilter(e){const t=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(t)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const t=(0,Vd.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(t)}_eth_getFilterLogs(e){const t=(0,Vd.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(t)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then((e=>(e.setAccountsCallback(((e,t)=>this._setAddresses(e,t))),e.setChainCallback(((e,t)=>{this.updateProviderInfo(t,parseInt(e,10))})),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e)))}}ee.CoinbaseWalletProvider=eh;var th={};Object.defineProperty(th,"__esModule",{value:!0}),th.RelayEventManager=void 0;const rh=f;th.RelayEventManager=class{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,t=(0,rh.prepend0x)(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}},Object.defineProperty(d,"__esModule",{value:!0}),d.CoinbaseWalletSDK=void 0;const nh=h,sh=p,ih=f,oh=K,ah=ee,ch=ne,lh=Gn,uh=th,dh=Ae,hh=se,ph=x;class fh{constructor(e){var t,r,n;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||sh.LINK_API_URL;void 0===e.overrideIsMetaMask?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=null===(t=e.overrideIsCoinbaseWallet)||void 0===t||t,this._overrideIsCoinbaseBrowser=null!==(r=e.overrideIsCoinbaseBrowser)&&void 0!==r&&r,this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=null===(n=e.reloadOnDisconnect)||void 0===n||n;const i=new URL(s),o=`${i.protocol}//${i.host}`;if(this._storage=new oh.ScopedLocalStorage(`-walletlink:${o}`),this._storage.setItem("version",fh.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new uh.RelayEventManager;const a=(0,ih.isMobileWeb)(),c=e.uiConstructor||(e=>a?new lh.MobileRelayUI(e):new dh.WalletLinkRelayUI(e)),l={linkAPIUrl:s,version:ph.LIB_VERSION,darkMode:!!e.darkMode,headlessMode:!!e.headlessMode,uiConstructor:c,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:e.enableMobileWalletLink};this._relay=a?new ch.MobileRelay(l):new hh.WalletLinkRelay(l),this.setAppInfo(e.appName,e.appLogoUrl),e.headlessMode||this._relay.attachUI()}makeWeb3Provider(e="",t=1){const r=this.walletExtension;if(r)return this.isCipherProvider(r)||r.setProviderInfo(e,t),!1===this._reloadOnDisconnect&&"function"==typeof r.disableReloadOnDisconnect&&r.disableReloadOnDisconnect(),r;const n=this.coinbaseBrowser;if(n)return n;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new ah.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:t,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,t){var r;this._appName=e||"DApp",this._appLogoUrl=t||(0,ih.getFavicon)();const n=this.walletExtension;n?this.isCipherProvider(n)||n.setAppInfo(this._appName,this._appLogoUrl):null===(r=this._relay)||void 0===r||r.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const t=null==this?void 0:this.walletExtension;t?t.close():null===(e=this._relay)||void 0===e||e.resetAndReload()}getQrUrl(){var e,t;return null!==(t=null===(e=this._relay)||void 0===e?void 0:e.getQRCodeUrl())&&void 0!==t?t:null}getCoinbaseWalletLogo(e,t=240){return(0,nh.walletLogo)(e,t)}get walletExtension(){var e;return null!==(e=window.coinbaseWalletExtension)&&void 0!==e?e:window.walletLinkExtension}get coinbaseBrowser(){var e,t;try{const r=null!==(e=window.ethereum)&&void 0!==e?e:null===(t=window.top)||void 0===t?void 0:t.ethereum;if(!r)return;return"isCoinbaseBrowser"in r&&r.isCoinbaseBrowser?r:void 0}catch(r){return}}isCipherProvider(e){return"boolean"==typeof e.isCipher&&e.isCipher}}d.CoinbaseWalletSDK=fh,fh.VERSION=ph.LIB_VERSION,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletProvider=e.CoinbaseWalletSDK=void 0;const t=d,r=ee;var n=d;Object.defineProperty(e,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var s=ee;Object.defineProperty(e,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return s.CoinbaseWalletProvider}}),e.default=t.CoinbaseWalletSDK,"undefined"!=typeof window&&(window.CoinbaseWalletSDK=t.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=t.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)}(u);const gh=c(u),mh=Object.freeze(Object.defineProperty({__proto__:null,default:gh},Symbol.toStringTag,{value:"Module"}));export{mh as i};
