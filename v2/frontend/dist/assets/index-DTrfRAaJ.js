var fAe=Object.defineProperty;var pAe=(e,t,r)=>t in e?fAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Zn=(e,t,r)=>pAe(e,typeof t!="symbol"?t+"":t,r);function hAe(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Er=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function U1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Bde={exports:{}},XC={},zde={exports:{}},mi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W8=Symbol.for("react.element"),mAe=Symbol.for("react.portal"),gAe=Symbol.for("react.fragment"),yAe=Symbol.for("react.strict_mode"),vAe=Symbol.for("react.profiler"),_Ae=Symbol.for("react.provider"),bAe=Symbol.for("react.context"),xAe=Symbol.for("react.forward_ref"),wAe=Symbol.for("react.suspense"),SAe=Symbol.for("react.memo"),EAe=Symbol.for("react.lazy"),qJ=Symbol.iterator;function AAe(e){return e===null||typeof e!="object"?null:(e=qJ&&e[qJ]||e["@@iterator"],typeof e=="function"?e:null)}var Nde={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fde=Object.assign,jde={};function B4(e,t,r){this.props=e,this.context=t,this.refs=jde,this.updater=r||Nde}B4.prototype.isReactComponent={};B4.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};B4.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vde(){}Vde.prototype=B4.prototype;function oU(e,t,r){this.props=e,this.context=t,this.refs=jde,this.updater=r||Nde}var sU=oU.prototype=new Vde;sU.constructor=oU;Fde(sU,B4.prototype);sU.isPureReactComponent=!0;var ZJ=Array.isArray,Ude=Object.prototype.hasOwnProperty,lU={current:null},Wde={key:!0,ref:!0,__self:!0,__source:!0};function Kde(e,t,r){var n,i={},s=null,c=null;if(t!=null)for(n in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(s=""+t.key),t)Ude.call(t,n)&&!Wde.hasOwnProperty(n)&&(i[n]=t[n]);var p=arguments.length-2;if(p===1)i.children=r;else if(1<p){for(var o=Array(p),g=0;g<p;g++)o[g]=arguments[g+2];i.children=o}if(e&&e.defaultProps)for(n in p=e.defaultProps,p)i[n]===void 0&&(i[n]=p[n]);return{$$typeof:W8,type:e,key:s,ref:c,props:i,_owner:lU.current}}function TAe(e,t){return{$$typeof:W8,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uU(e){return typeof e=="object"&&e!==null&&e.$$typeof===W8}function PAe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var XJ=/\/+/g;function yR(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PAe(""+e.key):t.toString(36)}function VA(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case W8:case mAe:c=!0}}if(c)return c=e,i=i(c),e=n===""?"."+yR(c,0):n,ZJ(i)?(r="",e!=null&&(r=e.replace(XJ,"$&/")+"/"),VA(i,t,r,"",function(g){return g})):i!=null&&(uU(i)&&(i=TAe(i,r+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(XJ,"$&/")+"/")+e)),t.push(i)),1;if(c=0,n=n===""?".":n+":",ZJ(e))for(var p=0;p<e.length;p++){s=e[p];var o=n+yR(s,p);c+=VA(s,t,r,o,i)}else if(o=AAe(e),typeof o=="function")for(e=o.call(e),p=0;!(s=e.next()).done;)s=s.value,o=n+yR(s,p++),c+=VA(s,t,r,o,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function dE(e,t,r){if(e==null)return e;var n=[],i=0;return VA(e,n,"","",function(s){return t.call(r,s,i++)}),n}function CAe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bl={current:null},UA={transition:null},IAe={ReactCurrentDispatcher:bl,ReactCurrentBatchConfig:UA,ReactCurrentOwner:lU};function Hde(){throw Error("act(...) is not supported in production builds of React.")}mi.Children={map:dE,forEach:function(e,t,r){dE(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return dE(e,function(){t++}),t},toArray:function(e){return dE(e,function(t){return t})||[]},only:function(e){if(!uU(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};mi.Component=B4;mi.Fragment=gAe;mi.Profiler=vAe;mi.PureComponent=oU;mi.StrictMode=yAe;mi.Suspense=wAe;mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IAe;mi.act=Hde;mi.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Fde({},e.props),i=e.key,s=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,c=lU.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(o in t)Ude.call(t,o)&&!Wde.hasOwnProperty(o)&&(n[o]=t[o]===void 0&&p!==void 0?p[o]:t[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){p=Array(o);for(var g=0;g<o;g++)p[g]=arguments[g+2];n.children=p}return{$$typeof:W8,type:e.type,key:i,ref:s,props:n,_owner:c}};mi.createContext=function(e){return e={$$typeof:bAe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_Ae,_context:e},e.Consumer=e};mi.createElement=Kde;mi.createFactory=function(e){var t=Kde.bind(null,e);return t.type=e,t};mi.createRef=function(){return{current:null}};mi.forwardRef=function(e){return{$$typeof:xAe,render:e}};mi.isValidElement=uU;mi.lazy=function(e){return{$$typeof:EAe,_payload:{_status:-1,_result:e},_init:CAe}};mi.memo=function(e,t){return{$$typeof:SAe,type:e,compare:t===void 0?null:t}};mi.startTransition=function(e){var t=UA.transition;UA.transition={};try{e()}finally{UA.transition=t}};mi.unstable_act=Hde;mi.useCallback=function(e,t){return bl.current.useCallback(e,t)};mi.useContext=function(e){return bl.current.useContext(e)};mi.useDebugValue=function(){};mi.useDeferredValue=function(e){return bl.current.useDeferredValue(e)};mi.useEffect=function(e,t){return bl.current.useEffect(e,t)};mi.useId=function(){return bl.current.useId()};mi.useImperativeHandle=function(e,t,r){return bl.current.useImperativeHandle(e,t,r)};mi.useInsertionEffect=function(e,t){return bl.current.useInsertionEffect(e,t)};mi.useLayoutEffect=function(e,t){return bl.current.useLayoutEffect(e,t)};mi.useMemo=function(e,t){return bl.current.useMemo(e,t)};mi.useReducer=function(e,t,r){return bl.current.useReducer(e,t,r)};mi.useRef=function(e){return bl.current.useRef(e)};mi.useState=function(e){return bl.current.useState(e)};mi.useSyncExternalStore=function(e,t,r){return bl.current.useSyncExternalStore(e,t,r)};mi.useTransition=function(){return bl.current.useTransition()};mi.version="18.3.1";zde.exports=mi;var se=zde.exports;const Ke=oi(se),MAe=hAe({__proto__:null,default:Ke},[se]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kAe=se,OAe=Symbol.for("react.element"),DAe=Symbol.for("react.fragment"),RAe=Object.prototype.hasOwnProperty,$Ae=kAe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LAe={key:!0,ref:!0,__self:!0,__source:!0};function Gde(e,t,r){var n,i={},s=null,c=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(c=t.ref);for(n in t)RAe.call(t,n)&&!LAe.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:OAe,type:e,key:s,ref:c,props:i,_owner:$Ae.current}}XC.Fragment=DAe;XC.jsx=Gde;XC.jsxs=Gde;Bde.exports=XC;var H=Bde.exports,qde={exports:{}},Eu={},Zde={exports:{}},Xde={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(he,we){var ye=he.length;he.push(we);e:for(;0<ye;){var ue=ye-1>>>1,J=he[ue];if(0<i(J,we))he[ue]=we,he[ye]=J,ye=ue;else break e}}function r(he){return he.length===0?null:he[0]}function n(he){if(he.length===0)return null;var we=he[0],ye=he.pop();if(ye!==we){he[0]=ye;e:for(var ue=0,J=he.length,de=J>>>1;ue<de;){var ke=2*(ue+1)-1,Oe=he[ke],Se=ke+1,We=he[Se];if(0>i(Oe,ye))Se<J&&0>i(We,Oe)?(he[ue]=We,he[Se]=ye,ue=Se):(he[ue]=Oe,he[ke]=ye,ue=ke);else if(Se<J&&0>i(We,ye))he[ue]=We,he[Se]=ye,ue=Se;else break e}}return we}function i(he,we){var ye=he.sortIndex-we.sortIndex;return ye!==0?ye:he.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,p=c.now();e.unstable_now=function(){return c.now()-p}}var o=[],g=[],y=1,x=null,E=3,A=!1,M=!1,R=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(he){for(var we=r(g);we!==null;){if(we.callback===null)n(g);else if(we.startTime<=he)n(g),we.sortIndex=we.expirationTime,t(o,we);else break;we=r(g)}}function V(he){if(R=!1,B(he),!M)if(r(o)!==null)M=!0,te(U);else{var we=r(g);we!==null&&re(V,we.startTime-he)}}function U(he,we){M=!1,R&&(R=!1,D(j),j=-1),A=!0;var ye=E;try{for(B(we),x=r(o);x!==null&&(!(x.expirationTime>we)||he&&!pe());){var ue=x.callback;if(typeof ue=="function"){x.callback=null,E=x.priorityLevel;var J=ue(x.expirationTime<=we);we=e.unstable_now(),typeof J=="function"?x.callback=J:x===r(o)&&n(o),B(we)}else n(o);x=r(o)}if(x!==null)var de=!0;else{var ke=r(g);ke!==null&&re(V,ke.startTime-we),de=!1}return de}finally{x=null,E=ye,A=!1}}var Z=!1,ne=null,j=-1,fe=5,be=-1;function pe(){return!(e.unstable_now()-be<fe)}function le(){if(ne!==null){var he=e.unstable_now();be=he;var we=!0;try{we=ne(!0,he)}finally{we?G():(Z=!1,ne=null)}}else Z=!1}var G;if(typeof $=="function")G=function(){$(le)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Y=N.port2;N.port1.onmessage=le,G=function(){Y.postMessage(null)}}else G=function(){k(le,0)};function te(he){ne=he,Z||(Z=!0,G())}function re(he,we){j=k(function(){he(e.unstable_now())},we)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(he){he.callback=null},e.unstable_continueExecution=function(){M||A||(M=!0,te(U))},e.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<he?Math.floor(1e3/he):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function(he){switch(E){case 1:case 2:case 3:var we=3;break;default:we=E}var ye=E;E=we;try{return he()}finally{E=ye}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(he,we){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var ye=E;E=he;try{return we()}finally{E=ye}},e.unstable_scheduleCallback=function(he,we,ye){var ue=e.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ue+ye:ue):ye=ue,he){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ye+J,he={id:y++,callback:we,priorityLevel:he,startTime:ye,expirationTime:J,sortIndex:-1},ye>ue?(he.sortIndex=ye,t(g,he),r(o)===null&&he===r(g)&&(R?(D(j),j=-1):R=!0,re(V,ye-ue))):(he.sortIndex=J,t(o,he),M||A||(M=!0,te(U))),he},e.unstable_shouldYield=pe,e.unstable_wrapCallback=function(he){var we=E;return function(){var ye=E;E=we;try{return he.apply(this,arguments)}finally{E=ye}}}})(Xde);Zde.exports=Xde;var BAe=Zde.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zAe=se,xu=BAe;function wr(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yde=new Set,m5={};function Hy(e,t){bx(e,t),bx(e+"Capture",t)}function bx(e,t){for(m5[e]=t,e=0;e<t.length;e++)Yde.add(t[e])}var rh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vz=Object.prototype.hasOwnProperty,NAe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,YJ={},JJ={};function FAe(e){return vz.call(JJ,e)?!0:vz.call(YJ,e)?!1:NAe.test(e)?JJ[e]=!0:(YJ[e]=!0,!1)}function jAe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VAe(e,t,r,n){if(t===null||typeof t>"u"||jAe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xl(e,t,r,n,i,s,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=c}var ws={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ws[e]=new xl(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ws[t]=new xl(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ws[e]=new xl(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ws[e]=new xl(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ws[e]=new xl(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ws[e]=new xl(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ws[e]=new xl(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ws[e]=new xl(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ws[e]=new xl(e,5,!1,e.toLowerCase(),null,!1,!1)});var cU=/[\-:]([a-z])/g;function dU(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cU,dU);ws[t]=new xl(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cU,dU);ws[t]=new xl(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cU,dU);ws[t]=new xl(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ws[e]=new xl(e,1,!1,e.toLowerCase(),null,!1,!1)});ws.xlinkHref=new xl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ws[e]=new xl(e,1,!1,e.toLowerCase(),null,!0,!0)});function fU(e,t,r,n){var i=ws.hasOwnProperty(t)?ws[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VAe(t,r,i,n)&&(r=null),n||i===null?FAe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var xh=zAe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fE=Symbol.for("react.element"),hb=Symbol.for("react.portal"),mb=Symbol.for("react.fragment"),pU=Symbol.for("react.strict_mode"),_z=Symbol.for("react.profiler"),Jde=Symbol.for("react.provider"),Qde=Symbol.for("react.context"),hU=Symbol.for("react.forward_ref"),bz=Symbol.for("react.suspense"),xz=Symbol.for("react.suspense_list"),mU=Symbol.for("react.memo"),Nm=Symbol.for("react.lazy"),efe=Symbol.for("react.offscreen"),QJ=Symbol.iterator;function l2(e){return e===null||typeof e!="object"?null:(e=QJ&&e[QJ]||e["@@iterator"],typeof e=="function"?e:null)}var Ha=Object.assign,vR;function b6(e){if(vR===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);vR=t&&t[1]||""}return`
`+vR+e}var _R=!1;function bR(e,t){if(!e||_R)return"";_R=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var n=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){n=g}e.call(t.prototype)}else{try{throw Error()}catch(g){n=g}e()}}catch(g){if(g&&n&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),s=n.stack.split(`
`),c=i.length-1,p=s.length-1;1<=c&&0<=p&&i[c]!==s[p];)p--;for(;1<=c&&0<=p;c--,p--)if(i[c]!==s[p]){if(c!==1||p!==1)do if(c--,p--,0>p||i[c]!==s[p]){var o=`
`+i[c].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=c&&0<=p);break}}}finally{_R=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?b6(e):""}function UAe(e){switch(e.tag){case 5:return b6(e.type);case 16:return b6("Lazy");case 13:return b6("Suspense");case 19:return b6("SuspenseList");case 0:case 2:case 15:return e=bR(e.type,!1),e;case 11:return e=bR(e.type.render,!1),e;case 1:return e=bR(e.type,!0),e;default:return""}}function wz(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mb:return"Fragment";case hb:return"Portal";case _z:return"Profiler";case pU:return"StrictMode";case bz:return"Suspense";case xz:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qde:return(e.displayName||"Context")+".Consumer";case Jde:return(e._context.displayName||"Context")+".Provider";case hU:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mU:return t=e.displayName||null,t!==null?t:wz(e.type)||"Memo";case Nm:t=e._payload,e=e._init;try{return wz(e(t))}catch{}}return null}function WAe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wz(t);case 8:return t===pU?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function C1(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tfe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KAe(e){var t=tfe(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(c){n=""+c,s.call(this,c)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(c){n=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pE(e){e._valueTracker||(e._valueTracker=KAe(e))}function rfe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=tfe(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function OT(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sz(e,t){var r=t.checked;return Ha({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function eQ(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=C1(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nfe(e,t){t=t.checked,t!=null&&fU(e,"checked",t,!1)}function Ez(e,t){nfe(e,t);var r=C1(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Az(e,t.type,r):t.hasOwnProperty("defaultValue")&&Az(e,t.type,C1(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tQ(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Az(e,t,r){(t!=="number"||OT(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var x6=Array.isArray;function Kb(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+C1(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Tz(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(wr(91));return Ha({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rQ(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(wr(92));if(x6(r)){if(1<r.length)throw Error(wr(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:C1(r)}}function ife(e,t){var r=C1(t.value),n=C1(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function nQ(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function afe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pz(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?afe(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hE,ofe=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hE=hE||document.createElement("div"),hE.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hE.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function g5(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var F6={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HAe=["Webkit","ms","Moz","O"];Object.keys(F6).forEach(function(e){HAe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),F6[t]=F6[e]})});function sfe(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||F6.hasOwnProperty(e)&&F6[e]?(""+t).trim():t+"px"}function lfe(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=sfe(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var GAe=Ha({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cz(e,t){if(t){if(GAe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(wr(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(wr(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(wr(61))}if(t.style!=null&&typeof t.style!="object")throw Error(wr(62))}}function Iz(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mz=null;function gU(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kz=null,Hb=null,Gb=null;function iQ(e){if(e=G8(e)){if(typeof kz!="function")throw Error(wr(280));var t=e.stateNode;t&&(t=tI(t),kz(e.stateNode,e.type,t))}}function ufe(e){Hb?Gb?Gb.push(e):Gb=[e]:Hb=e}function cfe(){if(Hb){var e=Hb,t=Gb;if(Gb=Hb=null,iQ(e),t)for(e=0;e<t.length;e++)iQ(t[e])}}function dfe(e,t){return e(t)}function ffe(){}var xR=!1;function pfe(e,t,r){if(xR)return e(t,r);xR=!0;try{return dfe(e,t,r)}finally{xR=!1,(Hb!==null||Gb!==null)&&(ffe(),cfe())}}function y5(e,t){var r=e.stateNode;if(r===null)return null;var n=tI(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(wr(231,t,typeof r));return r}var Oz=!1;if(rh)try{var u2={};Object.defineProperty(u2,"passive",{get:function(){Oz=!0}}),window.addEventListener("test",u2,u2),window.removeEventListener("test",u2,u2)}catch{Oz=!1}function qAe(e,t,r,n,i,s,c,p,o){var g=Array.prototype.slice.call(arguments,3);try{t.apply(r,g)}catch(y){this.onError(y)}}var j6=!1,DT=null,RT=!1,Dz=null,ZAe={onError:function(e){j6=!0,DT=e}};function XAe(e,t,r,n,i,s,c,p,o){j6=!1,DT=null,qAe.apply(ZAe,arguments)}function YAe(e,t,r,n,i,s,c,p,o){if(XAe.apply(this,arguments),j6){if(j6){var g=DT;j6=!1,DT=null}else throw Error(wr(198));RT||(RT=!0,Dz=g)}}function Gy(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function hfe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function aQ(e){if(Gy(e)!==e)throw Error(wr(188))}function JAe(e){var t=e.alternate;if(!t){if(t=Gy(e),t===null)throw Error(wr(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return aQ(i),e;if(s===n)return aQ(i),t;s=s.sibling}throw Error(wr(188))}if(r.return!==n.return)r=i,n=s;else{for(var c=!1,p=i.child;p;){if(p===r){c=!0,r=i,n=s;break}if(p===n){c=!0,n=i,r=s;break}p=p.sibling}if(!c){for(p=s.child;p;){if(p===r){c=!0,r=s,n=i;break}if(p===n){c=!0,n=s,r=i;break}p=p.sibling}if(!c)throw Error(wr(189))}}if(r.alternate!==n)throw Error(wr(190))}if(r.tag!==3)throw Error(wr(188));return r.stateNode.current===r?e:t}function mfe(e){return e=JAe(e),e!==null?gfe(e):null}function gfe(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gfe(e);if(t!==null)return t;e=e.sibling}return null}var yfe=xu.unstable_scheduleCallback,oQ=xu.unstable_cancelCallback,QAe=xu.unstable_shouldYield,eTe=xu.unstable_requestPaint,so=xu.unstable_now,tTe=xu.unstable_getCurrentPriorityLevel,yU=xu.unstable_ImmediatePriority,vfe=xu.unstable_UserBlockingPriority,$T=xu.unstable_NormalPriority,rTe=xu.unstable_LowPriority,_fe=xu.unstable_IdlePriority,YC=null,pf=null;function nTe(e){if(pf&&typeof pf.onCommitFiberRoot=="function")try{pf.onCommitFiberRoot(YC,e,void 0,(e.current.flags&128)===128)}catch{}}var fd=Math.clz32?Math.clz32:oTe,iTe=Math.log,aTe=Math.LN2;function oTe(e){return e>>>=0,e===0?32:31-(iTe(e)/aTe|0)|0}var mE=64,gE=4194304;function w6(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function LT(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,c=r&268435455;if(c!==0){var p=c&~i;p!==0?n=w6(p):(s&=c,s!==0&&(n=w6(s)))}else c=r&~i,c!==0?n=w6(c):s!==0&&(n=w6(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fd(t),i=1<<r,n|=e[r],t&=~i;return n}function sTe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lTe(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-fd(s),p=1<<c,o=i[c];o===-1?(!(p&r)||p&n)&&(i[c]=sTe(p,t)):o<=t&&(e.expiredLanes|=p),s&=~p}}function Rz(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bfe(){var e=mE;return mE<<=1,!(mE&4194240)&&(mE=64),e}function wR(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function K8(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fd(t),e[t]=r}function uTe(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-fd(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function vU(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fd(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Zi=0;function xfe(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wfe,_U,Sfe,Efe,Afe,$z=!1,yE=[],u1=null,c1=null,d1=null,v5=new Map,_5=new Map,Km=[],cTe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sQ(e,t){switch(e){case"focusin":case"focusout":u1=null;break;case"dragenter":case"dragleave":c1=null;break;case"mouseover":case"mouseout":d1=null;break;case"pointerover":case"pointerout":v5.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_5.delete(t.pointerId)}}function c2(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=G8(t),t!==null&&_U(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dTe(e,t,r,n,i){switch(t){case"focusin":return u1=c2(u1,e,t,r,n,i),!0;case"dragenter":return c1=c2(c1,e,t,r,n,i),!0;case"mouseover":return d1=c2(d1,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return v5.set(s,c2(v5.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,_5.set(s,c2(_5.get(s)||null,e,t,r,n,i)),!0}return!1}function Tfe(e){var t=Rg(e.target);if(t!==null){var r=Gy(t);if(r!==null){if(t=r.tag,t===13){if(t=hfe(r),t!==null){e.blockedOn=t,Afe(e.priority,function(){Sfe(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function WA(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Lz(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Mz=n,r.target.dispatchEvent(n),Mz=null}else return t=G8(r),t!==null&&_U(t),e.blockedOn=r,!1;t.shift()}return!0}function lQ(e,t,r){WA(e)&&r.delete(t)}function fTe(){$z=!1,u1!==null&&WA(u1)&&(u1=null),c1!==null&&WA(c1)&&(c1=null),d1!==null&&WA(d1)&&(d1=null),v5.forEach(lQ),_5.forEach(lQ)}function d2(e,t){e.blockedOn===t&&(e.blockedOn=null,$z||($z=!0,xu.unstable_scheduleCallback(xu.unstable_NormalPriority,fTe)))}function b5(e){function t(i){return d2(i,e)}if(0<yE.length){d2(yE[0],e);for(var r=1;r<yE.length;r++){var n=yE[r];n.blockedOn===e&&(n.blockedOn=null)}}for(u1!==null&&d2(u1,e),c1!==null&&d2(c1,e),d1!==null&&d2(d1,e),v5.forEach(t),_5.forEach(t),r=0;r<Km.length;r++)n=Km[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Km.length&&(r=Km[0],r.blockedOn===null);)Tfe(r),r.blockedOn===null&&Km.shift()}var qb=xh.ReactCurrentBatchConfig,BT=!0;function pTe(e,t,r,n){var i=Zi,s=qb.transition;qb.transition=null;try{Zi=1,bU(e,t,r,n)}finally{Zi=i,qb.transition=s}}function hTe(e,t,r,n){var i=Zi,s=qb.transition;qb.transition=null;try{Zi=4,bU(e,t,r,n)}finally{Zi=i,qb.transition=s}}function bU(e,t,r,n){if(BT){var i=Lz(e,t,r,n);if(i===null)OR(e,t,n,zT,r),sQ(e,n);else if(dTe(i,e,t,r,n))n.stopPropagation();else if(sQ(e,n),t&4&&-1<cTe.indexOf(e)){for(;i!==null;){var s=G8(i);if(s!==null&&wfe(s),s=Lz(e,t,r,n),s===null&&OR(e,t,n,zT,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else OR(e,t,n,null,r)}}var zT=null;function Lz(e,t,r,n){if(zT=null,e=gU(n),e=Rg(e),e!==null)if(t=Gy(e),t===null)e=null;else if(r=t.tag,r===13){if(e=hfe(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zT=e,null}function Pfe(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tTe()){case yU:return 1;case vfe:return 4;case $T:case rTe:return 16;case _fe:return 536870912;default:return 16}default:return 16}}var Qm=null,xU=null,KA=null;function Cfe(){if(KA)return KA;var e,t=xU,r=t.length,n,i="value"in Qm?Qm.value:Qm.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var c=r-e;for(n=1;n<=c&&t[r-n]===i[s-n];n++);return KA=i.slice(e,1<n?1-n:void 0)}function HA(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vE(){return!0}function uQ(){return!1}function Au(e){function t(r,n,i,s,c){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=c,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(r=e[p],this[p]=r?r(s):s[p]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vE:uQ,this.isPropagationStopped=uQ,this}return Ha(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vE)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vE)},persist:function(){},isPersistent:vE}),t}var z4={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wU=Au(z4),H8=Ha({},z4,{view:0,detail:0}),mTe=Au(H8),SR,ER,f2,JC=Ha({},H8,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SU,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==f2&&(f2&&e.type==="mousemove"?(SR=e.screenX-f2.screenX,ER=e.screenY-f2.screenY):ER=SR=0,f2=e),SR)},movementY:function(e){return"movementY"in e?e.movementY:ER}}),cQ=Au(JC),gTe=Ha({},JC,{dataTransfer:0}),yTe=Au(gTe),vTe=Ha({},H8,{relatedTarget:0}),AR=Au(vTe),_Te=Ha({},z4,{animationName:0,elapsedTime:0,pseudoElement:0}),bTe=Au(_Te),xTe=Ha({},z4,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wTe=Au(xTe),STe=Ha({},z4,{data:0}),dQ=Au(STe),ETe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ATe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TTe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PTe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TTe[e])?!!t[e]:!1}function SU(){return PTe}var CTe=Ha({},H8,{key:function(e){if(e.key){var t=ETe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=HA(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ATe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SU,charCode:function(e){return e.type==="keypress"?HA(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?HA(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ITe=Au(CTe),MTe=Ha({},JC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fQ=Au(MTe),kTe=Ha({},H8,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SU}),OTe=Au(kTe),DTe=Ha({},z4,{propertyName:0,elapsedTime:0,pseudoElement:0}),RTe=Au(DTe),$Te=Ha({},JC,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),LTe=Au($Te),BTe=[9,13,27,32],EU=rh&&"CompositionEvent"in window,V6=null;rh&&"documentMode"in document&&(V6=document.documentMode);var zTe=rh&&"TextEvent"in window&&!V6,Ife=rh&&(!EU||V6&&8<V6&&11>=V6),pQ=" ",hQ=!1;function Mfe(e,t){switch(e){case"keyup":return BTe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kfe(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gb=!1;function NTe(e,t){switch(e){case"compositionend":return kfe(t);case"keypress":return t.which!==32?null:(hQ=!0,pQ);case"textInput":return e=t.data,e===pQ&&hQ?null:e;default:return null}}function FTe(e,t){if(gb)return e==="compositionend"||!EU&&Mfe(e,t)?(e=Cfe(),KA=xU=Qm=null,gb=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ife&&t.locale!=="ko"?null:t.data;default:return null}}var jTe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mQ(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jTe[e.type]:t==="textarea"}function Ofe(e,t,r,n){ufe(n),t=NT(t,"onChange"),0<t.length&&(r=new wU("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var U6=null,x5=null;function VTe(e){Ufe(e,0)}function QC(e){var t=_b(e);if(rfe(t))return e}function UTe(e,t){if(e==="change")return t}var Dfe=!1;if(rh){var TR;if(rh){var PR="oninput"in document;if(!PR){var gQ=document.createElement("div");gQ.setAttribute("oninput","return;"),PR=typeof gQ.oninput=="function"}TR=PR}else TR=!1;Dfe=TR&&(!document.documentMode||9<document.documentMode)}function yQ(){U6&&(U6.detachEvent("onpropertychange",Rfe),x5=U6=null)}function Rfe(e){if(e.propertyName==="value"&&QC(x5)){var t=[];Ofe(t,x5,e,gU(e)),pfe(VTe,t)}}function WTe(e,t,r){e==="focusin"?(yQ(),U6=t,x5=r,U6.attachEvent("onpropertychange",Rfe)):e==="focusout"&&yQ()}function KTe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return QC(x5)}function HTe(e,t){if(e==="click")return QC(t)}function GTe(e,t){if(e==="input"||e==="change")return QC(t)}function qTe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gd=typeof Object.is=="function"?Object.is:qTe;function w5(e,t){if(gd(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!vz.call(t,i)||!gd(e[i],t[i]))return!1}return!0}function vQ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _Q(e,t){var r=vQ(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vQ(r)}}function $fe(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$fe(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lfe(){for(var e=window,t=OT();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=OT(e.document)}return t}function AU(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZTe(e){var t=Lfe(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&$fe(r.ownerDocument.documentElement,r)){if(n!==null&&AU(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=_Q(r,s);var c=_Q(r,n);i&&c&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XTe=rh&&"documentMode"in document&&11>=document.documentMode,yb=null,Bz=null,W6=null,zz=!1;function bQ(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zz||yb==null||yb!==OT(n)||(n=yb,"selectionStart"in n&&AU(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),W6&&w5(W6,n)||(W6=n,n=NT(Bz,"onSelect"),0<n.length&&(t=new wU("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yb)))}function _E(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vb={animationend:_E("Animation","AnimationEnd"),animationiteration:_E("Animation","AnimationIteration"),animationstart:_E("Animation","AnimationStart"),transitionend:_E("Transition","TransitionEnd")},CR={},Bfe={};rh&&(Bfe=document.createElement("div").style,"AnimationEvent"in window||(delete vb.animationend.animation,delete vb.animationiteration.animation,delete vb.animationstart.animation),"TransitionEvent"in window||delete vb.transitionend.transition);function eI(e){if(CR[e])return CR[e];if(!vb[e])return e;var t=vb[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Bfe)return CR[e]=t[r];return e}var zfe=eI("animationend"),Nfe=eI("animationiteration"),Ffe=eI("animationstart"),jfe=eI("transitionend"),Vfe=new Map,xQ="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function W1(e,t){Vfe.set(e,t),Hy(t,[e])}for(var IR=0;IR<xQ.length;IR++){var MR=xQ[IR],YTe=MR.toLowerCase(),JTe=MR[0].toUpperCase()+MR.slice(1);W1(YTe,"on"+JTe)}W1(zfe,"onAnimationEnd");W1(Nfe,"onAnimationIteration");W1(Ffe,"onAnimationStart");W1("dblclick","onDoubleClick");W1("focusin","onFocus");W1("focusout","onBlur");W1(jfe,"onTransitionEnd");bx("onMouseEnter",["mouseout","mouseover"]);bx("onMouseLeave",["mouseout","mouseover"]);bx("onPointerEnter",["pointerout","pointerover"]);bx("onPointerLeave",["pointerout","pointerover"]);Hy("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hy("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hy("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hy("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hy("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hy("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var S6="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QTe=new Set("cancel close invalid load scroll toggle".split(" ").concat(S6));function wQ(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,YAe(n,t,void 0,e),e.currentTarget=null}function Ufe(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var c=n.length-1;0<=c;c--){var p=n[c],o=p.instance,g=p.currentTarget;if(p=p.listener,o!==s&&i.isPropagationStopped())break e;wQ(i,p,g),s=o}else for(c=0;c<n.length;c++){if(p=n[c],o=p.instance,g=p.currentTarget,p=p.listener,o!==s&&i.isPropagationStopped())break e;wQ(i,p,g),s=o}}}if(RT)throw e=Dz,RT=!1,Dz=null,e}function ba(e,t){var r=t[Uz];r===void 0&&(r=t[Uz]=new Set);var n=e+"__bubble";r.has(n)||(Wfe(t,e,2,!1),r.add(n))}function kR(e,t,r){var n=0;t&&(n|=4),Wfe(r,e,n,t)}var bE="_reactListening"+Math.random().toString(36).slice(2);function S5(e){if(!e[bE]){e[bE]=!0,Yde.forEach(function(r){r!=="selectionchange"&&(QTe.has(r)||kR(r,!1,e),kR(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bE]||(t[bE]=!0,kR("selectionchange",!1,t))}}function Wfe(e,t,r,n){switch(Pfe(t)){case 1:var i=pTe;break;case 4:i=hTe;break;default:i=bU}r=i.bind(null,t,r,e),i=void 0,!Oz||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function OR(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var c=n.tag;if(c===3||c===4){var p=n.stateNode.containerInfo;if(p===i||p.nodeType===8&&p.parentNode===i)break;if(c===4)for(c=n.return;c!==null;){var o=c.tag;if((o===3||o===4)&&(o=c.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;c=c.return}for(;p!==null;){if(c=Rg(p),c===null)return;if(o=c.tag,o===5||o===6){n=s=c;continue e}p=p.parentNode}}n=n.return}pfe(function(){var g=s,y=gU(r),x=[];e:{var E=Vfe.get(e);if(E!==void 0){var A=wU,M=e;switch(e){case"keypress":if(HA(r)===0)break e;case"keydown":case"keyup":A=ITe;break;case"focusin":M="focus",A=AR;break;case"focusout":M="blur",A=AR;break;case"beforeblur":case"afterblur":A=AR;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=cQ;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=yTe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=OTe;break;case zfe:case Nfe:case Ffe:A=bTe;break;case jfe:A=RTe;break;case"scroll":A=mTe;break;case"wheel":A=LTe;break;case"copy":case"cut":case"paste":A=wTe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=fQ}var R=(t&4)!==0,k=!R&&e==="scroll",D=R?E!==null?E+"Capture":null:E;R=[];for(var $=g,B;$!==null;){B=$;var V=B.stateNode;if(B.tag===5&&V!==null&&(B=V,D!==null&&(V=y5($,D),V!=null&&R.push(E5($,V,B)))),k)break;$=$.return}0<R.length&&(E=new A(E,M,null,r,y),x.push({event:E,listeners:R}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",E&&r!==Mz&&(M=r.relatedTarget||r.fromElement)&&(Rg(M)||M[nh]))break e;if((A||E)&&(E=y.window===y?y:(E=y.ownerDocument)?E.defaultView||E.parentWindow:window,A?(M=r.relatedTarget||r.toElement,A=g,M=M?Rg(M):null,M!==null&&(k=Gy(M),M!==k||M.tag!==5&&M.tag!==6)&&(M=null)):(A=null,M=g),A!==M)){if(R=cQ,V="onMouseLeave",D="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(R=fQ,V="onPointerLeave",D="onPointerEnter",$="pointer"),k=A==null?E:_b(A),B=M==null?E:_b(M),E=new R(V,$+"leave",A,r,y),E.target=k,E.relatedTarget=B,V=null,Rg(y)===g&&(R=new R(D,$+"enter",M,r,y),R.target=B,R.relatedTarget=k,V=R),k=V,A&&M)t:{for(R=A,D=M,$=0,B=R;B;B=I_(B))$++;for(B=0,V=D;V;V=I_(V))B++;for(;0<$-B;)R=I_(R),$--;for(;0<B-$;)D=I_(D),B--;for(;$--;){if(R===D||D!==null&&R===D.alternate)break t;R=I_(R),D=I_(D)}R=null}else R=null;A!==null&&SQ(x,E,A,R,!1),M!==null&&k!==null&&SQ(x,k,M,R,!0)}}e:{if(E=g?_b(g):window,A=E.nodeName&&E.nodeName.toLowerCase(),A==="select"||A==="input"&&E.type==="file")var U=UTe;else if(mQ(E))if(Dfe)U=GTe;else{U=KTe;var Z=WTe}else(A=E.nodeName)&&A.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(U=HTe);if(U&&(U=U(e,g))){Ofe(x,U,r,y);break e}Z&&Z(e,E,g),e==="focusout"&&(Z=E._wrapperState)&&Z.controlled&&E.type==="number"&&Az(E,"number",E.value)}switch(Z=g?_b(g):window,e){case"focusin":(mQ(Z)||Z.contentEditable==="true")&&(yb=Z,Bz=g,W6=null);break;case"focusout":W6=Bz=yb=null;break;case"mousedown":zz=!0;break;case"contextmenu":case"mouseup":case"dragend":zz=!1,bQ(x,r,y);break;case"selectionchange":if(XTe)break;case"keydown":case"keyup":bQ(x,r,y)}var ne;if(EU)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else gb?Mfe(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Ife&&r.locale!=="ko"&&(gb||j!=="onCompositionStart"?j==="onCompositionEnd"&&gb&&(ne=Cfe()):(Qm=y,xU="value"in Qm?Qm.value:Qm.textContent,gb=!0)),Z=NT(g,j),0<Z.length&&(j=new dQ(j,e,null,r,y),x.push({event:j,listeners:Z}),ne?j.data=ne:(ne=kfe(r),ne!==null&&(j.data=ne)))),(ne=zTe?NTe(e,r):FTe(e,r))&&(g=NT(g,"onBeforeInput"),0<g.length&&(y=new dQ("onBeforeInput","beforeinput",null,r,y),x.push({event:y,listeners:g}),y.data=ne))}Ufe(x,t)})}function E5(e,t,r){return{instance:e,listener:t,currentTarget:r}}function NT(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=y5(e,r),s!=null&&n.unshift(E5(e,s,i)),s=y5(e,t),s!=null&&n.push(E5(e,s,i))),e=e.return}return n}function I_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function SQ(e,t,r,n,i){for(var s=t._reactName,c=[];r!==null&&r!==n;){var p=r,o=p.alternate,g=p.stateNode;if(o!==null&&o===n)break;p.tag===5&&g!==null&&(p=g,i?(o=y5(r,s),o!=null&&c.unshift(E5(r,o,p))):i||(o=y5(r,s),o!=null&&c.push(E5(r,o,p)))),r=r.return}c.length!==0&&e.push({event:t,listeners:c})}var ePe=/\r\n?/g,tPe=/\u0000|\uFFFD/g;function EQ(e){return(typeof e=="string"?e:""+e).replace(ePe,`
`).replace(tPe,"")}function xE(e,t,r){if(t=EQ(t),EQ(e)!==t&&r)throw Error(wr(425))}function FT(){}var Nz=null,Fz=null;function jz(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vz=typeof setTimeout=="function"?setTimeout:void 0,rPe=typeof clearTimeout=="function"?clearTimeout:void 0,AQ=typeof Promise=="function"?Promise:void 0,nPe=typeof queueMicrotask=="function"?queueMicrotask:typeof AQ<"u"?function(e){return AQ.resolve(null).then(e).catch(iPe)}:Vz;function iPe(e){setTimeout(function(){throw e})}function DR(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),b5(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);b5(t)}function f1(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function TQ(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var N4=Math.random().toString(36).slice(2),nf="__reactFiber$"+N4,A5="__reactProps$"+N4,nh="__reactContainer$"+N4,Uz="__reactEvents$"+N4,aPe="__reactListeners$"+N4,oPe="__reactHandles$"+N4;function Rg(e){var t=e[nf];if(t)return t;for(var r=e.parentNode;r;){if(t=r[nh]||r[nf]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=TQ(e);e!==null;){if(r=e[nf])return r;e=TQ(e)}return t}e=r,r=e.parentNode}return null}function G8(e){return e=e[nf]||e[nh],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _b(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(wr(33))}function tI(e){return e[A5]||null}var Wz=[],bb=-1;function K1(e){return{current:e}}function Aa(e){0>bb||(e.current=Wz[bb],Wz[bb]=null,bb--)}function ma(e,t){bb++,Wz[bb]=e.current,e.current=t}var I1={},Us=K1(I1),Nl=K1(!1),py=I1;function xx(e,t){var r=e.type.contextTypes;if(!r)return I1;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Fl(e){return e=e.childContextTypes,e!=null}function jT(){Aa(Nl),Aa(Us)}function PQ(e,t,r){if(Us.current!==I1)throw Error(wr(168));ma(Us,t),ma(Nl,r)}function Kfe(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(wr(108,WAe(e)||"Unknown",i));return Ha({},r,n)}function VT(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||I1,py=Us.current,ma(Us,e),ma(Nl,Nl.current),!0}function CQ(e,t,r){var n=e.stateNode;if(!n)throw Error(wr(169));r?(e=Kfe(e,t,py),n.__reactInternalMemoizedMergedChildContext=e,Aa(Nl),Aa(Us),ma(Us,e)):Aa(Nl),ma(Nl,r)}var bp=null,rI=!1,RR=!1;function Hfe(e){bp===null?bp=[e]:bp.push(e)}function sPe(e){rI=!0,Hfe(e)}function H1(){if(!RR&&bp!==null){RR=!0;var e=0,t=Zi;try{var r=bp;for(Zi=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bp=null,rI=!1}catch(i){throw bp!==null&&(bp=bp.slice(e+1)),yfe(yU,H1),i}finally{Zi=t,RR=!1}}return null}var xb=[],wb=0,UT=null,WT=0,Qu=[],ec=0,hy=null,Mp=1,kp="";function bg(e,t){xb[wb++]=WT,xb[wb++]=UT,UT=e,WT=t}function Gfe(e,t,r){Qu[ec++]=Mp,Qu[ec++]=kp,Qu[ec++]=hy,hy=e;var n=Mp;e=kp;var i=32-fd(n)-1;n&=~(1<<i),r+=1;var s=32-fd(t)+i;if(30<s){var c=i-i%5;s=(n&(1<<c)-1).toString(32),n>>=c,i-=c,Mp=1<<32-fd(t)+i|r<<i|n,kp=s+e}else Mp=1<<s|r<<i|n,kp=e}function TU(e){e.return!==null&&(bg(e,1),Gfe(e,1,0))}function PU(e){for(;e===UT;)UT=xb[--wb],xb[wb]=null,WT=xb[--wb],xb[wb]=null;for(;e===hy;)hy=Qu[--ec],Qu[ec]=null,kp=Qu[--ec],Qu[ec]=null,Mp=Qu[--ec],Qu[ec]=null}var vu=null,mu=null,Da=!1,od=null;function qfe(e,t){var r=oc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function IQ(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vu=e,mu=f1(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vu=e,mu=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hy!==null?{id:Mp,overflow:kp}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=oc(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vu=e,mu=null,!0):!1;default:return!1}}function Kz(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hz(e){if(Da){var t=mu;if(t){var r=t;if(!IQ(e,t)){if(Kz(e))throw Error(wr(418));t=f1(r.nextSibling);var n=vu;t&&IQ(e,t)?qfe(n,r):(e.flags=e.flags&-4097|2,Da=!1,vu=e)}}else{if(Kz(e))throw Error(wr(418));e.flags=e.flags&-4097|2,Da=!1,vu=e}}}function MQ(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vu=e}function wE(e){if(e!==vu)return!1;if(!Da)return MQ(e),Da=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jz(e.type,e.memoizedProps)),t&&(t=mu)){if(Kz(e))throw Zfe(),Error(wr(418));for(;t;)qfe(e,t),t=f1(t.nextSibling)}if(MQ(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(wr(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mu=f1(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mu=null}}else mu=vu?f1(e.stateNode.nextSibling):null;return!0}function Zfe(){for(var e=mu;e;)e=f1(e.nextSibling)}function wx(){mu=vu=null,Da=!1}function CU(e){od===null?od=[e]:od.push(e)}var lPe=xh.ReactCurrentBatchConfig;function p2(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(wr(309));var n=r.stateNode}if(!n)throw Error(wr(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(c){var p=i.refs;c===null?delete p[s]:p[s]=c},t._stringRef=s,t)}if(typeof e!="string")throw Error(wr(284));if(!r._owner)throw Error(wr(290,e))}return e}function SE(e,t){throw e=Object.prototype.toString.call(t),Error(wr(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kQ(e){var t=e._init;return t(e._payload)}function Xfe(e){function t(D,$){if(e){var B=D.deletions;B===null?(D.deletions=[$],D.flags|=16):B.push($)}}function r(D,$){if(!e)return null;for(;$!==null;)t(D,$),$=$.sibling;return null}function n(D,$){for(D=new Map;$!==null;)$.key!==null?D.set($.key,$):D.set($.index,$),$=$.sibling;return D}function i(D,$){return D=g1(D,$),D.index=0,D.sibling=null,D}function s(D,$,B){return D.index=B,e?(B=D.alternate,B!==null?(B=B.index,B<$?(D.flags|=2,$):B):(D.flags|=2,$)):(D.flags|=1048576,$)}function c(D){return e&&D.alternate===null&&(D.flags|=2),D}function p(D,$,B,V){return $===null||$.tag!==6?($=jR(B,D.mode,V),$.return=D,$):($=i($,B),$.return=D,$)}function o(D,$,B,V){var U=B.type;return U===mb?y(D,$,B.props.children,V,B.key):$!==null&&($.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Nm&&kQ(U)===$.type)?(V=i($,B.props),V.ref=p2(D,$,B),V.return=D,V):(V=QA(B.type,B.key,B.props,null,D.mode,V),V.ref=p2(D,$,B),V.return=D,V)}function g(D,$,B,V){return $===null||$.tag!==4||$.stateNode.containerInfo!==B.containerInfo||$.stateNode.implementation!==B.implementation?($=VR(B,D.mode,V),$.return=D,$):($=i($,B.children||[]),$.return=D,$)}function y(D,$,B,V,U){return $===null||$.tag!==7?($=ty(B,D.mode,V,U),$.return=D,$):($=i($,B),$.return=D,$)}function x(D,$,B){if(typeof $=="string"&&$!==""||typeof $=="number")return $=jR(""+$,D.mode,B),$.return=D,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case fE:return B=QA($.type,$.key,$.props,null,D.mode,B),B.ref=p2(D,null,$),B.return=D,B;case hb:return $=VR($,D.mode,B),$.return=D,$;case Nm:var V=$._init;return x(D,V($._payload),B)}if(x6($)||l2($))return $=ty($,D.mode,B,null),$.return=D,$;SE(D,$)}return null}function E(D,$,B,V){var U=$!==null?$.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return U!==null?null:p(D,$,""+B,V);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case fE:return B.key===U?o(D,$,B,V):null;case hb:return B.key===U?g(D,$,B,V):null;case Nm:return U=B._init,E(D,$,U(B._payload),V)}if(x6(B)||l2(B))return U!==null?null:y(D,$,B,V,null);SE(D,B)}return null}function A(D,$,B,V,U){if(typeof V=="string"&&V!==""||typeof V=="number")return D=D.get(B)||null,p($,D,""+V,U);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case fE:return D=D.get(V.key===null?B:V.key)||null,o($,D,V,U);case hb:return D=D.get(V.key===null?B:V.key)||null,g($,D,V,U);case Nm:var Z=V._init;return A(D,$,B,Z(V._payload),U)}if(x6(V)||l2(V))return D=D.get(B)||null,y($,D,V,U,null);SE($,V)}return null}function M(D,$,B,V){for(var U=null,Z=null,ne=$,j=$=0,fe=null;ne!==null&&j<B.length;j++){ne.index>j?(fe=ne,ne=null):fe=ne.sibling;var be=E(D,ne,B[j],V);if(be===null){ne===null&&(ne=fe);break}e&&ne&&be.alternate===null&&t(D,ne),$=s(be,$,j),Z===null?U=be:Z.sibling=be,Z=be,ne=fe}if(j===B.length)return r(D,ne),Da&&bg(D,j),U;if(ne===null){for(;j<B.length;j++)ne=x(D,B[j],V),ne!==null&&($=s(ne,$,j),Z===null?U=ne:Z.sibling=ne,Z=ne);return Da&&bg(D,j),U}for(ne=n(D,ne);j<B.length;j++)fe=A(ne,D,j,B[j],V),fe!==null&&(e&&fe.alternate!==null&&ne.delete(fe.key===null?j:fe.key),$=s(fe,$,j),Z===null?U=fe:Z.sibling=fe,Z=fe);return e&&ne.forEach(function(pe){return t(D,pe)}),Da&&bg(D,j),U}function R(D,$,B,V){var U=l2(B);if(typeof U!="function")throw Error(wr(150));if(B=U.call(B),B==null)throw Error(wr(151));for(var Z=U=null,ne=$,j=$=0,fe=null,be=B.next();ne!==null&&!be.done;j++,be=B.next()){ne.index>j?(fe=ne,ne=null):fe=ne.sibling;var pe=E(D,ne,be.value,V);if(pe===null){ne===null&&(ne=fe);break}e&&ne&&pe.alternate===null&&t(D,ne),$=s(pe,$,j),Z===null?U=pe:Z.sibling=pe,Z=pe,ne=fe}if(be.done)return r(D,ne),Da&&bg(D,j),U;if(ne===null){for(;!be.done;j++,be=B.next())be=x(D,be.value,V),be!==null&&($=s(be,$,j),Z===null?U=be:Z.sibling=be,Z=be);return Da&&bg(D,j),U}for(ne=n(D,ne);!be.done;j++,be=B.next())be=A(ne,D,j,be.value,V),be!==null&&(e&&be.alternate!==null&&ne.delete(be.key===null?j:be.key),$=s(be,$,j),Z===null?U=be:Z.sibling=be,Z=be);return e&&ne.forEach(function(le){return t(D,le)}),Da&&bg(D,j),U}function k(D,$,B,V){if(typeof B=="object"&&B!==null&&B.type===mb&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case fE:e:{for(var U=B.key,Z=$;Z!==null;){if(Z.key===U){if(U=B.type,U===mb){if(Z.tag===7){r(D,Z.sibling),$=i(Z,B.props.children),$.return=D,D=$;break e}}else if(Z.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Nm&&kQ(U)===Z.type){r(D,Z.sibling),$=i(Z,B.props),$.ref=p2(D,Z,B),$.return=D,D=$;break e}r(D,Z);break}else t(D,Z);Z=Z.sibling}B.type===mb?($=ty(B.props.children,D.mode,V,B.key),$.return=D,D=$):(V=QA(B.type,B.key,B.props,null,D.mode,V),V.ref=p2(D,$,B),V.return=D,D=V)}return c(D);case hb:e:{for(Z=B.key;$!==null;){if($.key===Z)if($.tag===4&&$.stateNode.containerInfo===B.containerInfo&&$.stateNode.implementation===B.implementation){r(D,$.sibling),$=i($,B.children||[]),$.return=D,D=$;break e}else{r(D,$);break}else t(D,$);$=$.sibling}$=VR(B,D.mode,V),$.return=D,D=$}return c(D);case Nm:return Z=B._init,k(D,$,Z(B._payload),V)}if(x6(B))return M(D,$,B,V);if(l2(B))return R(D,$,B,V);SE(D,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,$!==null&&$.tag===6?(r(D,$.sibling),$=i($,B),$.return=D,D=$):(r(D,$),$=jR(B,D.mode,V),$.return=D,D=$),c(D)):r(D,$)}return k}var Sx=Xfe(!0),Yfe=Xfe(!1),KT=K1(null),HT=null,Sb=null,IU=null;function MU(){IU=Sb=HT=null}function kU(e){var t=KT.current;Aa(KT),e._currentValue=t}function Gz(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zb(e,t){HT=e,IU=Sb=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ll=!0),e.firstContext=null)}function vc(e){var t=e._currentValue;if(IU!==e)if(e={context:e,memoizedValue:t,next:null},Sb===null){if(HT===null)throw Error(wr(308));Sb=e,HT.dependencies={lanes:0,firstContext:e}}else Sb=Sb.next=e;return t}var $g=null;function OU(e){$g===null?$g=[e]:$g.push(e)}function Jfe(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,OU(t)):(r.next=i.next,i.next=r),t.interleaved=r,ih(e,n)}function ih(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fm=!1;function DU(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qfe(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vp(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function p1(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ii&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ih(e,r)}return i=n.interleaved,i===null?(t.next=t,OU(n)):(t.next=i.next,i.next=t),n.interleaved=t,ih(e,r)}function GA(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vU(e,r)}}function OQ(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var c={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=c:s=s.next=c,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function GT(e,t,r,n){var i=e.updateQueue;Fm=!1;var s=i.firstBaseUpdate,c=i.lastBaseUpdate,p=i.shared.pending;if(p!==null){i.shared.pending=null;var o=p,g=o.next;o.next=null,c===null?s=g:c.next=g,c=o;var y=e.alternate;y!==null&&(y=y.updateQueue,p=y.lastBaseUpdate,p!==c&&(p===null?y.firstBaseUpdate=g:p.next=g,y.lastBaseUpdate=o))}if(s!==null){var x=i.baseState;c=0,y=g=o=null,p=s;do{var E=p.lane,A=p.eventTime;if((n&E)===E){y!==null&&(y=y.next={eventTime:A,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var M=e,R=p;switch(E=t,A=r,R.tag){case 1:if(M=R.payload,typeof M=="function"){x=M.call(A,x,E);break e}x=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=R.payload,E=typeof M=="function"?M.call(A,x,E):M,E==null)break e;x=Ha({},x,E);break e;case 2:Fm=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,E=i.effects,E===null?i.effects=[p]:E.push(p))}else A={eventTime:A,lane:E,tag:p.tag,payload:p.payload,callback:p.callback,next:null},y===null?(g=y=A,o=x):y=y.next=A,c|=E;if(p=p.next,p===null){if(p=i.shared.pending,p===null)break;E=p,p=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(y===null&&(o=x),i.baseState=o,i.firstBaseUpdate=g,i.lastBaseUpdate=y,t=i.shared.interleaved,t!==null){i=t;do c|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);gy|=c,e.lanes=c,e.memoizedState=x}}function DQ(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(wr(191,i));i.call(n)}}}var q8={},hf=K1(q8),T5=K1(q8),P5=K1(q8);function Lg(e){if(e===q8)throw Error(wr(174));return e}function RU(e,t){switch(ma(P5,t),ma(T5,e),ma(hf,q8),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pz(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pz(t,e)}Aa(hf),ma(hf,t)}function Ex(){Aa(hf),Aa(T5),Aa(P5)}function epe(e){Lg(P5.current);var t=Lg(hf.current),r=Pz(t,e.type);t!==r&&(ma(T5,e),ma(hf,r))}function $U(e){T5.current===e&&(Aa(hf),Aa(T5))}var ja=K1(0);function qT(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $R=[];function LU(){for(var e=0;e<$R.length;e++)$R[e]._workInProgressVersionPrimary=null;$R.length=0}var qA=xh.ReactCurrentDispatcher,LR=xh.ReactCurrentBatchConfig,my=0,Ka=null,Oo=null,Zo=null,ZT=!1,K6=!1,C5=0,uPe=0;function Ps(){throw Error(wr(321))}function BU(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gd(e[r],t[r]))return!1;return!0}function zU(e,t,r,n,i,s){if(my=s,Ka=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qA.current=e===null||e.memoizedState===null?pPe:hPe,e=r(n,i),K6){s=0;do{if(K6=!1,C5=0,25<=s)throw Error(wr(301));s+=1,Zo=Oo=null,t.updateQueue=null,qA.current=mPe,e=r(n,i)}while(K6)}if(qA.current=XT,t=Oo!==null&&Oo.next!==null,my=0,Zo=Oo=Ka=null,ZT=!1,t)throw Error(wr(300));return e}function NU(){var e=C5!==0;return C5=0,e}function Yd(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zo===null?Ka.memoizedState=Zo=e:Zo=Zo.next=e,Zo}function _c(){if(Oo===null){var e=Ka.alternate;e=e!==null?e.memoizedState:null}else e=Oo.next;var t=Zo===null?Ka.memoizedState:Zo.next;if(t!==null)Zo=t,Oo=e;else{if(e===null)throw Error(wr(310));Oo=e,e={memoizedState:Oo.memoizedState,baseState:Oo.baseState,baseQueue:Oo.baseQueue,queue:Oo.queue,next:null},Zo===null?Ka.memoizedState=Zo=e:Zo=Zo.next=e}return Zo}function I5(e,t){return typeof t=="function"?t(e):t}function BR(e){var t=_c(),r=t.queue;if(r===null)throw Error(wr(311));r.lastRenderedReducer=e;var n=Oo,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var c=i.next;i.next=s.next,s.next=c}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var p=c=null,o=null,g=s;do{var y=g.lane;if((my&y)===y)o!==null&&(o=o.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),n=g.hasEagerState?g.eagerState:e(n,g.action);else{var x={lane:y,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};o===null?(p=o=x,c=n):o=o.next=x,Ka.lanes|=y,gy|=y}g=g.next}while(g!==null&&g!==s);o===null?c=n:o.next=p,gd(n,t.memoizedState)||(Ll=!0),t.memoizedState=n,t.baseState=c,t.baseQueue=o,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Ka.lanes|=s,gy|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zR(e){var t=_c(),r=t.queue;if(r===null)throw Error(wr(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var c=i=i.next;do s=e(s,c.action),c=c.next;while(c!==i);gd(s,t.memoizedState)||(Ll=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function tpe(){}function rpe(e,t){var r=Ka,n=_c(),i=t(),s=!gd(n.memoizedState,i);if(s&&(n.memoizedState=i,Ll=!0),n=n.queue,FU(ape.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Zo!==null&&Zo.memoizedState.tag&1){if(r.flags|=2048,M5(9,ipe.bind(null,r,n,i,t),void 0,null),rs===null)throw Error(wr(349));my&30||npe(r,t,i)}return i}function npe(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ka.updateQueue,t===null?(t={lastEffect:null,stores:null},Ka.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ipe(e,t,r,n){t.value=r,t.getSnapshot=n,ope(t)&&spe(e)}function ape(e,t,r){return r(function(){ope(t)&&spe(e)})}function ope(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gd(e,r)}catch{return!0}}function spe(e){var t=ih(e,1);t!==null&&pd(t,e,1,-1)}function RQ(e){var t=Yd();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:I5,lastRenderedState:e},t.queue=e,e=e.dispatch=fPe.bind(null,Ka,e),[t.memoizedState,e]}function M5(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ka.updateQueue,t===null?(t={lastEffect:null,stores:null},Ka.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function lpe(){return _c().memoizedState}function ZA(e,t,r,n){var i=Yd();Ka.flags|=e,i.memoizedState=M5(1|t,r,void 0,n===void 0?null:n)}function nI(e,t,r,n){var i=_c();n=n===void 0?null:n;var s=void 0;if(Oo!==null){var c=Oo.memoizedState;if(s=c.destroy,n!==null&&BU(n,c.deps)){i.memoizedState=M5(t,r,s,n);return}}Ka.flags|=e,i.memoizedState=M5(1|t,r,s,n)}function $Q(e,t){return ZA(8390656,8,e,t)}function FU(e,t){return nI(2048,8,e,t)}function upe(e,t){return nI(4,2,e,t)}function cpe(e,t){return nI(4,4,e,t)}function dpe(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fpe(e,t,r){return r=r!=null?r.concat([e]):null,nI(4,4,dpe.bind(null,t,e),r)}function jU(){}function ppe(e,t){var r=_c();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&BU(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function hpe(e,t){var r=_c();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&BU(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function mpe(e,t,r){return my&21?(gd(r,t)||(r=bfe(),Ka.lanes|=r,gy|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ll=!0),e.memoizedState=r)}function cPe(e,t){var r=Zi;Zi=r!==0&&4>r?r:4,e(!0);var n=LR.transition;LR.transition={};try{e(!1),t()}finally{Zi=r,LR.transition=n}}function gpe(){return _c().memoizedState}function dPe(e,t,r){var n=m1(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ype(e))vpe(t,r);else if(r=Jfe(e,t,r,n),r!==null){var i=gl();pd(r,e,n,i),_pe(r,t,n)}}function fPe(e,t,r){var n=m1(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ype(e))vpe(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var c=t.lastRenderedState,p=s(c,r);if(i.hasEagerState=!0,i.eagerState=p,gd(p,c)){var o=t.interleaved;o===null?(i.next=i,OU(t)):(i.next=o.next,o.next=i),t.interleaved=i;return}}catch{}finally{}r=Jfe(e,t,i,n),r!==null&&(i=gl(),pd(r,e,n,i),_pe(r,t,n))}}function ype(e){var t=e.alternate;return e===Ka||t!==null&&t===Ka}function vpe(e,t){K6=ZT=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _pe(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vU(e,r)}}var XT={readContext:vc,useCallback:Ps,useContext:Ps,useEffect:Ps,useImperativeHandle:Ps,useInsertionEffect:Ps,useLayoutEffect:Ps,useMemo:Ps,useReducer:Ps,useRef:Ps,useState:Ps,useDebugValue:Ps,useDeferredValue:Ps,useTransition:Ps,useMutableSource:Ps,useSyncExternalStore:Ps,useId:Ps,unstable_isNewReconciler:!1},pPe={readContext:vc,useCallback:function(e,t){return Yd().memoizedState=[e,t===void 0?null:t],e},useContext:vc,useEffect:$Q,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ZA(4194308,4,dpe.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ZA(4194308,4,e,t)},useInsertionEffect:function(e,t){return ZA(4,2,e,t)},useMemo:function(e,t){var r=Yd();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Yd();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dPe.bind(null,Ka,e),[n.memoizedState,e]},useRef:function(e){var t=Yd();return e={current:e},t.memoizedState=e},useState:RQ,useDebugValue:jU,useDeferredValue:function(e){return Yd().memoizedState=e},useTransition:function(){var e=RQ(!1),t=e[0];return e=cPe.bind(null,e[1]),Yd().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ka,i=Yd();if(Da){if(r===void 0)throw Error(wr(407));r=r()}else{if(r=t(),rs===null)throw Error(wr(349));my&30||npe(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,$Q(ape.bind(null,n,s,e),[e]),n.flags|=2048,M5(9,ipe.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Yd(),t=rs.identifierPrefix;if(Da){var r=kp,n=Mp;r=(n&~(1<<32-fd(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=C5++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=uPe++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hPe={readContext:vc,useCallback:ppe,useContext:vc,useEffect:FU,useImperativeHandle:fpe,useInsertionEffect:upe,useLayoutEffect:cpe,useMemo:hpe,useReducer:BR,useRef:lpe,useState:function(){return BR(I5)},useDebugValue:jU,useDeferredValue:function(e){var t=_c();return mpe(t,Oo.memoizedState,e)},useTransition:function(){var e=BR(I5)[0],t=_c().memoizedState;return[e,t]},useMutableSource:tpe,useSyncExternalStore:rpe,useId:gpe,unstable_isNewReconciler:!1},mPe={readContext:vc,useCallback:ppe,useContext:vc,useEffect:FU,useImperativeHandle:fpe,useInsertionEffect:upe,useLayoutEffect:cpe,useMemo:hpe,useReducer:zR,useRef:lpe,useState:function(){return zR(I5)},useDebugValue:jU,useDeferredValue:function(e){var t=_c();return Oo===null?t.memoizedState=e:mpe(t,Oo.memoizedState,e)},useTransition:function(){var e=zR(I5)[0],t=_c().memoizedState;return[e,t]},useMutableSource:tpe,useSyncExternalStore:rpe,useId:gpe,unstable_isNewReconciler:!1};function Qc(e,t){if(e&&e.defaultProps){t=Ha({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function qz(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ha({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var iI={isMounted:function(e){return(e=e._reactInternals)?Gy(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gl(),i=m1(e),s=Vp(n,i);s.payload=t,r!=null&&(s.callback=r),t=p1(e,s,i),t!==null&&(pd(t,e,i,n),GA(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gl(),i=m1(e),s=Vp(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=p1(e,s,i),t!==null&&(pd(t,e,i,n),GA(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gl(),n=m1(e),i=Vp(r,n);i.tag=2,t!=null&&(i.callback=t),t=p1(e,i,n),t!==null&&(pd(t,e,n,r),GA(t,e,n))}};function LQ(e,t,r,n,i,s,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,c):t.prototype&&t.prototype.isPureReactComponent?!w5(r,n)||!w5(i,s):!0}function bpe(e,t,r){var n=!1,i=I1,s=t.contextType;return typeof s=="object"&&s!==null?s=vc(s):(i=Fl(t)?py:Us.current,n=t.contextTypes,s=(n=n!=null)?xx(e,i):I1),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=iI,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function BQ(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&iI.enqueueReplaceState(t,t.state,null)}function Zz(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},DU(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=vc(s):(s=Fl(t)?py:Us.current,i.context=xx(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(qz(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&iI.enqueueReplaceState(i,i.state,null),GT(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ax(e,t){try{var r="",n=t;do r+=UAe(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function NR(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Xz(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gPe=typeof WeakMap=="function"?WeakMap:Map;function xpe(e,t,r){r=Vp(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){JT||(JT=!0,oN=n),Xz(e,t)},r}function wpe(e,t,r){r=Vp(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Xz(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Xz(e,t),typeof n!="function"&&(h1===null?h1=new Set([this]):h1.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),r}function zQ(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gPe;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=MPe.bind(null,e,t,r),t.then(e,e))}function NQ(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function FQ(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vp(-1,1),t.tag=2,p1(r,t,1))),r.lanes|=1),e)}var yPe=xh.ReactCurrentOwner,Ll=!1;function cl(e,t,r,n){t.child=e===null?Yfe(t,null,r,n):Sx(t,e.child,r,n)}function jQ(e,t,r,n,i){r=r.render;var s=t.ref;return Zb(t,i),n=zU(e,t,r,n,s,i),r=NU(),e!==null&&!Ll?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ah(e,t,i)):(Da&&r&&TU(t),t.flags|=1,cl(e,t,n,i),t.child)}function VQ(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!ZU(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Spe(e,t,s,n,i)):(e=QA(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var c=s.memoizedProps;if(r=r.compare,r=r!==null?r:w5,r(c,n)&&e.ref===t.ref)return ah(e,t,i)}return t.flags|=1,e=g1(s,n),e.ref=t.ref,e.return=t,t.child=e}function Spe(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(w5(s,n)&&e.ref===t.ref)if(Ll=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Ll=!0);else return t.lanes=e.lanes,ah(e,t,i)}return Yz(e,t,r,n,i)}function Epe(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ma(Ab,au),au|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ma(Ab,au),au|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ma(Ab,au),au|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,ma(Ab,au),au|=n;return cl(e,t,i,r),t.child}function Ape(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Yz(e,t,r,n,i){var s=Fl(r)?py:Us.current;return s=xx(t,s),Zb(t,i),r=zU(e,t,r,n,s,i),n=NU(),e!==null&&!Ll?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ah(e,t,i)):(Da&&n&&TU(t),t.flags|=1,cl(e,t,r,i),t.child)}function UQ(e,t,r,n,i){if(Fl(r)){var s=!0;VT(t)}else s=!1;if(Zb(t,i),t.stateNode===null)XA(e,t),bpe(t,r,n),Zz(t,r,n,i),n=!0;else if(e===null){var c=t.stateNode,p=t.memoizedProps;c.props=p;var o=c.context,g=r.contextType;typeof g=="object"&&g!==null?g=vc(g):(g=Fl(r)?py:Us.current,g=xx(t,g));var y=r.getDerivedStateFromProps,x=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function";x||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==n||o!==g)&&BQ(t,c,n,g),Fm=!1;var E=t.memoizedState;c.state=E,GT(t,n,c,i),o=t.memoizedState,p!==n||E!==o||Nl.current||Fm?(typeof y=="function"&&(qz(t,r,y,n),o=t.memoizedState),(p=Fm||LQ(t,r,p,n,E,o,g))?(x||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),c.props=n,c.state=o,c.context=g,n=p):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,Qfe(e,t),p=t.memoizedProps,g=t.type===t.elementType?p:Qc(t.type,p),c.props=g,x=t.pendingProps,E=c.context,o=r.contextType,typeof o=="object"&&o!==null?o=vc(o):(o=Fl(r)?py:Us.current,o=xx(t,o));var A=r.getDerivedStateFromProps;(y=typeof A=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==x||E!==o)&&BQ(t,c,n,o),Fm=!1,E=t.memoizedState,c.state=E,GT(t,n,c,i);var M=t.memoizedState;p!==x||E!==M||Nl.current||Fm?(typeof A=="function"&&(qz(t,r,A,n),M=t.memoizedState),(g=Fm||LQ(t,r,g,n,E,M,o)||!1)?(y||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,M,o),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,M,o)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=M),c.props=n,c.state=M,c.context=o,n=g):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),n=!1)}return Jz(e,t,r,n,s,i)}function Jz(e,t,r,n,i,s){Ape(e,t);var c=(t.flags&128)!==0;if(!n&&!c)return i&&CQ(t,r,!1),ah(e,t,s);n=t.stateNode,yPe.current=t;var p=c&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&c?(t.child=Sx(t,e.child,null,s),t.child=Sx(t,null,p,s)):cl(e,t,p,s),t.memoizedState=n.state,i&&CQ(t,r,!0),t.child}function Tpe(e){var t=e.stateNode;t.pendingContext?PQ(e,t.pendingContext,t.pendingContext!==t.context):t.context&&PQ(e,t.context,!1),RU(e,t.containerInfo)}function WQ(e,t,r,n,i){return wx(),CU(i),t.flags|=256,cl(e,t,r,n),t.child}var Qz={dehydrated:null,treeContext:null,retryLane:0};function eN(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ppe(e,t,r){var n=t.pendingProps,i=ja.current,s=!1,c=(t.flags&128)!==0,p;if((p=c)||(p=e!==null&&e.memoizedState===null?!1:(i&2)!==0),p?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ma(ja,i&1),e===null)return Hz(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=n.children,e=n.fallback,s?(n=t.mode,s=t.child,c={mode:"hidden",children:c},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=c):s=sI(c,n,0,null),e=ty(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=eN(r),t.memoizedState=Qz,e):VU(t,c));if(i=e.memoizedState,i!==null&&(p=i.dehydrated,p!==null))return vPe(e,t,c,n,p,i,r);if(s){s=n.fallback,c=t.mode,i=e.child,p=i.sibling;var o={mode:"hidden",children:n.children};return!(c&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=o,t.deletions=null):(n=g1(i,o),n.subtreeFlags=i.subtreeFlags&14680064),p!==null?s=g1(p,s):(s=ty(s,c,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,c=e.child.memoizedState,c=c===null?eN(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~r,t.memoizedState=Qz,n}return s=e.child,e=s.sibling,n=g1(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function VU(e,t){return t=sI({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function EE(e,t,r,n){return n!==null&&CU(n),Sx(t,e.child,null,r),e=VU(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vPe(e,t,r,n,i,s,c){if(r)return t.flags&256?(t.flags&=-257,n=NR(Error(wr(422))),EE(e,t,c,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=sI({mode:"visible",children:n.children},i,0,null),s=ty(s,i,c,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Sx(t,e.child,null,c),t.child.memoizedState=eN(c),t.memoizedState=Qz,s);if(!(t.mode&1))return EE(e,t,c,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var p=n.dgst;return n=p,s=Error(wr(419)),n=NR(s,n,void 0),EE(e,t,c,n)}if(p=(c&e.childLanes)!==0,Ll||p){if(n=rs,n!==null){switch(c&-c){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|c)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ih(e,i),pd(n,e,i,-1))}return qU(),n=NR(Error(wr(421))),EE(e,t,c,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=kPe.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,mu=f1(i.nextSibling),vu=t,Da=!0,od=null,e!==null&&(Qu[ec++]=Mp,Qu[ec++]=kp,Qu[ec++]=hy,Mp=e.id,kp=e.overflow,hy=t),t=VU(t,n.children),t.flags|=4096,t)}function KQ(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Gz(e.return,t,r)}function FR(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Cpe(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(cl(e,t,n.children,r),n=ja.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&KQ(e,r,t);else if(e.tag===19)KQ(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ma(ja,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&qT(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),FR(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qT(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}FR(t,!0,r,null,s);break;case"together":FR(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function XA(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ah(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gy|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(wr(153));if(t.child!==null){for(e=t.child,r=g1(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=g1(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _Pe(e,t,r){switch(t.tag){case 3:Tpe(t),wx();break;case 5:epe(t);break;case 1:Fl(t.type)&&VT(t);break;case 4:RU(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ma(KT,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ma(ja,ja.current&1),t.flags|=128,null):r&t.child.childLanes?Ppe(e,t,r):(ma(ja,ja.current&1),e=ah(e,t,r),e!==null?e.sibling:null);ma(ja,ja.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Cpe(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ma(ja,ja.current),n)break;return null;case 22:case 23:return t.lanes=0,Epe(e,t,r)}return ah(e,t,r)}var Ipe,tN,Mpe,kpe;Ipe=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};tN=function(){};Mpe=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Lg(hf.current);var s=null;switch(r){case"input":i=Sz(e,i),n=Sz(e,n),s=[];break;case"select":i=Ha({},i,{value:void 0}),n=Ha({},n,{value:void 0}),s=[];break;case"textarea":i=Tz(e,i),n=Tz(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=FT)}Cz(r,n);var c;r=null;for(g in i)if(!n.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var p=i[g];for(c in p)p.hasOwnProperty(c)&&(r||(r={}),r[c]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(m5.hasOwnProperty(g)?s||(s=[]):(s=s||[]).push(g,null));for(g in n){var o=n[g];if(p=i!=null?i[g]:void 0,n.hasOwnProperty(g)&&o!==p&&(o!=null||p!=null))if(g==="style")if(p){for(c in p)!p.hasOwnProperty(c)||o&&o.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in o)o.hasOwnProperty(c)&&p[c]!==o[c]&&(r||(r={}),r[c]=o[c])}else r||(s||(s=[]),s.push(g,r)),r=o;else g==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,p=p?p.__html:void 0,o!=null&&p!==o&&(s=s||[]).push(g,o)):g==="children"?typeof o!="string"&&typeof o!="number"||(s=s||[]).push(g,""+o):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(m5.hasOwnProperty(g)?(o!=null&&g==="onScroll"&&ba("scroll",e),s||p===o||(s=[])):(s=s||[]).push(g,o))}r&&(s=s||[]).push("style",r);var g=s;(t.updateQueue=g)&&(t.flags|=4)}};kpe=function(e,t,r,n){r!==n&&(t.flags|=4)};function h2(e,t){if(!Da)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Cs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function bPe(e,t,r){var n=t.pendingProps;switch(PU(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cs(t),null;case 1:return Fl(t.type)&&jT(),Cs(t),null;case 3:return n=t.stateNode,Ex(),Aa(Nl),Aa(Us),LU(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(wE(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,od!==null&&(uN(od),od=null))),tN(e,t),Cs(t),null;case 5:$U(t);var i=Lg(P5.current);if(r=t.type,e!==null&&t.stateNode!=null)Mpe(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(wr(166));return Cs(t),null}if(e=Lg(hf.current),wE(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[nf]=t,n[A5]=s,e=(t.mode&1)!==0,r){case"dialog":ba("cancel",n),ba("close",n);break;case"iframe":case"object":case"embed":ba("load",n);break;case"video":case"audio":for(i=0;i<S6.length;i++)ba(S6[i],n);break;case"source":ba("error",n);break;case"img":case"image":case"link":ba("error",n),ba("load",n);break;case"details":ba("toggle",n);break;case"input":eQ(n,s),ba("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ba("invalid",n);break;case"textarea":rQ(n,s),ba("invalid",n)}Cz(r,s),i=null;for(var c in s)if(s.hasOwnProperty(c)){var p=s[c];c==="children"?typeof p=="string"?n.textContent!==p&&(s.suppressHydrationWarning!==!0&&xE(n.textContent,p,e),i=["children",p]):typeof p=="number"&&n.textContent!==""+p&&(s.suppressHydrationWarning!==!0&&xE(n.textContent,p,e),i=["children",""+p]):m5.hasOwnProperty(c)&&p!=null&&c==="onScroll"&&ba("scroll",n)}switch(r){case"input":pE(n),tQ(n,s,!0);break;case"textarea":pE(n),nQ(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=FT)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{c=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=afe(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),r==="select"&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[nf]=t,e[A5]=n,Ipe(e,t,!1,!1),t.stateNode=e;e:{switch(c=Iz(r,n),r){case"dialog":ba("cancel",e),ba("close",e),i=n;break;case"iframe":case"object":case"embed":ba("load",e),i=n;break;case"video":case"audio":for(i=0;i<S6.length;i++)ba(S6[i],e);i=n;break;case"source":ba("error",e),i=n;break;case"img":case"image":case"link":ba("error",e),ba("load",e),i=n;break;case"details":ba("toggle",e),i=n;break;case"input":eQ(e,n),i=Sz(e,n),ba("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ha({},n,{value:void 0}),ba("invalid",e);break;case"textarea":rQ(e,n),i=Tz(e,n),ba("invalid",e);break;default:i=n}Cz(r,i),p=i;for(s in p)if(p.hasOwnProperty(s)){var o=p[s];s==="style"?lfe(e,o):s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&ofe(e,o)):s==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&g5(e,o):typeof o=="number"&&g5(e,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(m5.hasOwnProperty(s)?o!=null&&s==="onScroll"&&ba("scroll",e):o!=null&&fU(e,s,o,c))}switch(r){case"input":pE(e),tQ(e,n,!1);break;case"textarea":pE(e),nQ(e);break;case"option":n.value!=null&&e.setAttribute("value",""+C1(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Kb(e,!!n.multiple,s,!1):n.defaultValue!=null&&Kb(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=FT)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Cs(t),null;case 6:if(e&&t.stateNode!=null)kpe(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(wr(166));if(r=Lg(P5.current),Lg(hf.current),wE(t)){if(n=t.stateNode,r=t.memoizedProps,n[nf]=t,(s=n.nodeValue!==r)&&(e=vu,e!==null))switch(e.tag){case 3:xE(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xE(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nf]=t,t.stateNode=n}return Cs(t),null;case 13:if(Aa(ja),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Da&&mu!==null&&t.mode&1&&!(t.flags&128))Zfe(),wx(),t.flags|=98560,s=!1;else if(s=wE(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(wr(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(wr(317));s[nf]=t}else wx(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Cs(t),s=!1}else od!==null&&(uN(od),od=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ja.current&1?Lo===0&&(Lo=3):qU())),t.updateQueue!==null&&(t.flags|=4),Cs(t),null);case 4:return Ex(),tN(e,t),e===null&&S5(t.stateNode.containerInfo),Cs(t),null;case 10:return kU(t.type._context),Cs(t),null;case 17:return Fl(t.type)&&jT(),Cs(t),null;case 19:if(Aa(ja),s=t.memoizedState,s===null)return Cs(t),null;if(n=(t.flags&128)!==0,c=s.rendering,c===null)if(n)h2(s,!1);else{if(Lo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=qT(e),c!==null){for(t.flags|=128,h2(s,!1),n=c.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,c=s.alternate,c===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ma(ja,ja.current&1|2),t.child}e=e.sibling}s.tail!==null&&so()>Tx&&(t.flags|=128,n=!0,h2(s,!1),t.lanes=4194304)}else{if(!n)if(e=qT(c),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),h2(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!Da)return Cs(t),null}else 2*so()-s.renderingStartTime>Tx&&r!==1073741824&&(t.flags|=128,n=!0,h2(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(r=s.last,r!==null?r.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=so(),t.sibling=null,r=ja.current,ma(ja,n?r&1|2:r&1),t):(Cs(t),null);case 22:case 23:return GU(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?au&1073741824&&(Cs(t),t.subtreeFlags&6&&(t.flags|=8192)):Cs(t),null;case 24:return null;case 25:return null}throw Error(wr(156,t.tag))}function xPe(e,t){switch(PU(t),t.tag){case 1:return Fl(t.type)&&jT(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ex(),Aa(Nl),Aa(Us),LU(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $U(t),null;case 13:if(Aa(ja),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(wr(340));wx()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Aa(ja),null;case 4:return Ex(),null;case 10:return kU(t.type._context),null;case 22:case 23:return GU(),null;case 24:return null;default:return null}}var AE=!1,$s=!1,wPe=typeof WeakSet=="function"?WeakSet:Set,Gr=null;function Eb(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ja(e,t,n)}else r.current=null}function rN(e,t,r){try{r()}catch(n){Ja(e,t,n)}}var HQ=!1;function SPe(e,t){if(Nz=BT,e=Lfe(),AU(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var c=0,p=-1,o=-1,g=0,y=0,x=e,E=null;t:for(;;){for(var A;x!==r||i!==0&&x.nodeType!==3||(p=c+i),x!==s||n!==0&&x.nodeType!==3||(o=c+n),x.nodeType===3&&(c+=x.nodeValue.length),(A=x.firstChild)!==null;)E=x,x=A;for(;;){if(x===e)break t;if(E===r&&++g===i&&(p=c),E===s&&++y===n&&(o=c),(A=x.nextSibling)!==null)break;x=E,E=x.parentNode}x=A}r=p===-1||o===-1?null:{start:p,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fz={focusedElem:e,selectionRange:r},BT=!1,Gr=t;Gr!==null;)if(t=Gr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Gr=e;else for(;Gr!==null;){t=Gr;try{var M=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var R=M.memoizedProps,k=M.memoizedState,D=t.stateNode,$=D.getSnapshotBeforeUpdate(t.elementType===t.type?R:Qc(t.type,R),k);D.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var B=t.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(wr(163))}}catch(V){Ja(t,t.return,V)}if(e=t.sibling,e!==null){e.return=t.return,Gr=e;break}Gr=t.return}return M=HQ,HQ=!1,M}function H6(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&rN(t,r,s)}i=i.next}while(i!==n)}}function aI(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function nN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ope(e){var t=e.alternate;t!==null&&(e.alternate=null,Ope(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nf],delete t[A5],delete t[Uz],delete t[aPe],delete t[oPe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dpe(e){return e.tag===5||e.tag===3||e.tag===4}function GQ(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dpe(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=FT));else if(n!==4&&(e=e.child,e!==null))for(iN(e,t,r),e=e.sibling;e!==null;)iN(e,t,r),e=e.sibling}function aN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(aN(e,t,r),e=e.sibling;e!==null;)aN(e,t,r),e=e.sibling}var ds=null,rd=!1;function _m(e,t,r){for(r=r.child;r!==null;)Rpe(e,t,r),r=r.sibling}function Rpe(e,t,r){if(pf&&typeof pf.onCommitFiberUnmount=="function")try{pf.onCommitFiberUnmount(YC,r)}catch{}switch(r.tag){case 5:$s||Eb(r,t);case 6:var n=ds,i=rd;ds=null,_m(e,t,r),ds=n,rd=i,ds!==null&&(rd?(e=ds,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ds.removeChild(r.stateNode));break;case 18:ds!==null&&(rd?(e=ds,r=r.stateNode,e.nodeType===8?DR(e.parentNode,r):e.nodeType===1&&DR(e,r),b5(e)):DR(ds,r.stateNode));break;case 4:n=ds,i=rd,ds=r.stateNode.containerInfo,rd=!0,_m(e,t,r),ds=n,rd=i;break;case 0:case 11:case 14:case 15:if(!$s&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,c=s.destroy;s=s.tag,c!==void 0&&(s&2||s&4)&&rN(r,t,c),i=i.next}while(i!==n)}_m(e,t,r);break;case 1:if(!$s&&(Eb(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(p){Ja(r,t,p)}_m(e,t,r);break;case 21:_m(e,t,r);break;case 22:r.mode&1?($s=(n=$s)||r.memoizedState!==null,_m(e,t,r),$s=n):_m(e,t,r);break;default:_m(e,t,r)}}function qQ(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new wPe),t.forEach(function(n){var i=OPe.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Uc(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,c=t,p=c;e:for(;p!==null;){switch(p.tag){case 5:ds=p.stateNode,rd=!1;break e;case 3:ds=p.stateNode.containerInfo,rd=!0;break e;case 4:ds=p.stateNode.containerInfo,rd=!0;break e}p=p.return}if(ds===null)throw Error(wr(160));Rpe(s,c,i),ds=null,rd=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(g){Ja(i,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$pe(t,e),t=t.sibling}function $pe(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Uc(t,e),Ud(e),n&4){try{H6(3,e,e.return),aI(3,e)}catch(R){Ja(e,e.return,R)}try{H6(5,e,e.return)}catch(R){Ja(e,e.return,R)}}break;case 1:Uc(t,e),Ud(e),n&512&&r!==null&&Eb(r,r.return);break;case 5:if(Uc(t,e),Ud(e),n&512&&r!==null&&Eb(r,r.return),e.flags&32){var i=e.stateNode;try{g5(i,"")}catch(R){Ja(e,e.return,R)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,c=r!==null?r.memoizedProps:s,p=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{p==="input"&&s.type==="radio"&&s.name!=null&&nfe(i,s),Iz(p,c);var g=Iz(p,s);for(c=0;c<o.length;c+=2){var y=o[c],x=o[c+1];y==="style"?lfe(i,x):y==="dangerouslySetInnerHTML"?ofe(i,x):y==="children"?g5(i,x):fU(i,y,x,g)}switch(p){case"input":Ez(i,s);break;case"textarea":ife(i,s);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var A=s.value;A!=null?Kb(i,!!s.multiple,A,!1):E!==!!s.multiple&&(s.defaultValue!=null?Kb(i,!!s.multiple,s.defaultValue,!0):Kb(i,!!s.multiple,s.multiple?[]:"",!1))}i[A5]=s}catch(R){Ja(e,e.return,R)}}break;case 6:if(Uc(t,e),Ud(e),n&4){if(e.stateNode===null)throw Error(wr(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(R){Ja(e,e.return,R)}}break;case 3:if(Uc(t,e),Ud(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{b5(t.containerInfo)}catch(R){Ja(e,e.return,R)}break;case 4:Uc(t,e),Ud(e);break;case 13:Uc(t,e),Ud(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(KU=so())),n&4&&qQ(e);break;case 22:if(y=r!==null&&r.memoizedState!==null,e.mode&1?($s=(g=$s)||y,Uc(t,e),$s=g):Uc(t,e),Ud(e),n&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!y&&e.mode&1)for(Gr=e,y=e.child;y!==null;){for(x=Gr=y;Gr!==null;){switch(E=Gr,A=E.child,E.tag){case 0:case 11:case 14:case 15:H6(4,E,E.return);break;case 1:Eb(E,E.return);var M=E.stateNode;if(typeof M.componentWillUnmount=="function"){n=E,r=E.return;try{t=n,M.props=t.memoizedProps,M.state=t.memoizedState,M.componentWillUnmount()}catch(R){Ja(n,r,R)}}break;case 5:Eb(E,E.return);break;case 22:if(E.memoizedState!==null){XQ(x);continue}}A!==null?(A.return=E,Gr=A):XQ(x)}y=y.sibling}e:for(y=null,x=e;;){if(x.tag===5){if(y===null){y=x;try{i=x.stateNode,g?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(p=x.stateNode,o=x.memoizedProps.style,c=o!=null&&o.hasOwnProperty("display")?o.display:null,p.style.display=sfe("display",c))}catch(R){Ja(e,e.return,R)}}}else if(x.tag===6){if(y===null)try{x.stateNode.nodeValue=g?"":x.memoizedProps}catch(R){Ja(e,e.return,R)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;y===x&&(y=null),x=x.return}y===x&&(y=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Uc(t,e),Ud(e),n&4&&qQ(e);break;case 21:break;default:Uc(t,e),Ud(e)}}function Ud(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Dpe(r)){var n=r;break e}r=r.return}throw Error(wr(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(g5(i,""),n.flags&=-33);var s=GQ(e);aN(e,s,i);break;case 3:case 4:var c=n.stateNode.containerInfo,p=GQ(e);iN(e,p,c);break;default:throw Error(wr(161))}}catch(o){Ja(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EPe(e,t,r){Gr=e,Lpe(e)}function Lpe(e,t,r){for(var n=(e.mode&1)!==0;Gr!==null;){var i=Gr,s=i.child;if(i.tag===22&&n){var c=i.memoizedState!==null||AE;if(!c){var p=i.alternate,o=p!==null&&p.memoizedState!==null||$s;p=AE;var g=$s;if(AE=c,($s=o)&&!g)for(Gr=i;Gr!==null;)c=Gr,o=c.child,c.tag===22&&c.memoizedState!==null?YQ(i):o!==null?(o.return=c,Gr=o):YQ(i);for(;s!==null;)Gr=s,Lpe(s),s=s.sibling;Gr=i,AE=p,$s=g}ZQ(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Gr=s):ZQ(e)}}function ZQ(e){for(;Gr!==null;){var t=Gr;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$s||aI(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$s)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Qc(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&DQ(t,s,n);break;case 3:var c=t.updateQueue;if(c!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}DQ(t,c,r)}break;case 5:var p=t.stateNode;if(r===null&&t.flags&4){r=p;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var y=g.memoizedState;if(y!==null){var x=y.dehydrated;x!==null&&b5(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(wr(163))}$s||t.flags&512&&nN(t)}catch(E){Ja(t,t.return,E)}}if(t===e){Gr=null;break}if(r=t.sibling,r!==null){r.return=t.return,Gr=r;break}Gr=t.return}}function XQ(e){for(;Gr!==null;){var t=Gr;if(t===e){Gr=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Gr=r;break}Gr=t.return}}function YQ(e){for(;Gr!==null;){var t=Gr;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{aI(4,t)}catch(o){Ja(t,r,o)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(o){Ja(t,i,o)}}var s=t.return;try{nN(t)}catch(o){Ja(t,s,o)}break;case 5:var c=t.return;try{nN(t)}catch(o){Ja(t,c,o)}}}catch(o){Ja(t,t.return,o)}if(t===e){Gr=null;break}var p=t.sibling;if(p!==null){p.return=t.return,Gr=p;break}Gr=t.return}}var APe=Math.ceil,YT=xh.ReactCurrentDispatcher,UU=xh.ReactCurrentOwner,dc=xh.ReactCurrentBatchConfig,Ii=0,rs=null,go=null,bs=0,au=0,Ab=K1(0),Lo=0,k5=null,gy=0,oI=0,WU=0,G6=null,Dl=null,KU=0,Tx=1/0,vp=null,JT=!1,oN=null,h1=null,TE=!1,e1=null,QT=0,q6=0,sN=null,YA=-1,JA=0;function gl(){return Ii&6?so():YA!==-1?YA:YA=so()}function m1(e){return e.mode&1?Ii&2&&bs!==0?bs&-bs:lPe.transition!==null?(JA===0&&(JA=bfe()),JA):(e=Zi,e!==0||(e=window.event,e=e===void 0?16:Pfe(e.type)),e):1}function pd(e,t,r,n){if(50<q6)throw q6=0,sN=null,Error(wr(185));K8(e,r,n),(!(Ii&2)||e!==rs)&&(e===rs&&(!(Ii&2)&&(oI|=r),Lo===4&&Hm(e,bs)),jl(e,n),r===1&&Ii===0&&!(t.mode&1)&&(Tx=so()+500,rI&&H1()))}function jl(e,t){var r=e.callbackNode;lTe(e,t);var n=LT(e,e===rs?bs:0);if(n===0)r!==null&&oQ(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&oQ(r),t===1)e.tag===0?sPe(JQ.bind(null,e)):Hfe(JQ.bind(null,e)),nPe(function(){!(Ii&6)&&H1()}),r=null;else{switch(xfe(n)){case 1:r=yU;break;case 4:r=vfe;break;case 16:r=$T;break;case 536870912:r=_fe;break;default:r=$T}r=Wpe(r,Bpe.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Bpe(e,t){if(YA=-1,JA=0,Ii&6)throw Error(wr(327));var r=e.callbackNode;if(Xb()&&e.callbackNode!==r)return null;var n=LT(e,e===rs?bs:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=eP(e,n);else{t=n;var i=Ii;Ii|=2;var s=Npe();(rs!==e||bs!==t)&&(vp=null,Tx=so()+500,ey(e,t));do try{CPe();break}catch(p){zpe(e,p)}while(!0);MU(),YT.current=s,Ii=i,go!==null?t=0:(rs=null,bs=0,t=Lo)}if(t!==0){if(t===2&&(i=Rz(e),i!==0&&(n=i,t=lN(e,i))),t===1)throw r=k5,ey(e,0),Hm(e,n),jl(e,so()),r;if(t===6)Hm(e,n);else{if(i=e.current.alternate,!(n&30)&&!TPe(i)&&(t=eP(e,n),t===2&&(s=Rz(e),s!==0&&(n=s,t=lN(e,s))),t===1))throw r=k5,ey(e,0),Hm(e,n),jl(e,so()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(wr(345));case 2:xg(e,Dl,vp);break;case 3:if(Hm(e,n),(n&130023424)===n&&(t=KU+500-so(),10<t)){if(LT(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){gl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vz(xg.bind(null,e,Dl,vp),t);break}xg(e,Dl,vp);break;case 4:if(Hm(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var c=31-fd(n);s=1<<c,c=t[c],c>i&&(i=c),n&=~s}if(n=i,n=so()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*APe(n/1960))-n,10<n){e.timeoutHandle=Vz(xg.bind(null,e,Dl,vp),n);break}xg(e,Dl,vp);break;case 5:xg(e,Dl,vp);break;default:throw Error(wr(329))}}}return jl(e,so()),e.callbackNode===r?Bpe.bind(null,e):null}function lN(e,t){var r=G6;return e.current.memoizedState.isDehydrated&&(ey(e,t).flags|=256),e=eP(e,t),e!==2&&(t=Dl,Dl=r,t!==null&&uN(t)),e}function uN(e){Dl===null?Dl=e:Dl.push.apply(Dl,e)}function TPe(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!gd(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hm(e,t){for(t&=~WU,t&=~oI,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fd(t),n=1<<r;e[r]=-1,t&=~n}}function JQ(e){if(Ii&6)throw Error(wr(327));Xb();var t=LT(e,0);if(!(t&1))return jl(e,so()),null;var r=eP(e,t);if(e.tag!==0&&r===2){var n=Rz(e);n!==0&&(t=n,r=lN(e,n))}if(r===1)throw r=k5,ey(e,0),Hm(e,t),jl(e,so()),r;if(r===6)throw Error(wr(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xg(e,Dl,vp),jl(e,so()),null}function HU(e,t){var r=Ii;Ii|=1;try{return e(t)}finally{Ii=r,Ii===0&&(Tx=so()+500,rI&&H1())}}function yy(e){e1!==null&&e1.tag===0&&!(Ii&6)&&Xb();var t=Ii;Ii|=1;var r=dc.transition,n=Zi;try{if(dc.transition=null,Zi=1,e)return e()}finally{Zi=n,dc.transition=r,Ii=t,!(Ii&6)&&H1()}}function GU(){au=Ab.current,Aa(Ab)}function ey(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,rPe(r)),go!==null)for(r=go.return;r!==null;){var n=r;switch(PU(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jT();break;case 3:Ex(),Aa(Nl),Aa(Us),LU();break;case 5:$U(n);break;case 4:Ex();break;case 13:Aa(ja);break;case 19:Aa(ja);break;case 10:kU(n.type._context);break;case 22:case 23:GU()}r=r.return}if(rs=e,go=e=g1(e.current,null),bs=au=t,Lo=0,k5=null,WU=oI=gy=0,Dl=G6=null,$g!==null){for(t=0;t<$g.length;t++)if(r=$g[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var c=s.next;s.next=i,n.next=c}r.pending=n}$g=null}return e}function zpe(e,t){do{var r=go;try{if(MU(),qA.current=XT,ZT){for(var n=Ka.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ZT=!1}if(my=0,Zo=Oo=Ka=null,K6=!1,C5=0,UU.current=null,r===null||r.return===null){Lo=1,k5=t,go=null;break}e:{var s=e,c=r.return,p=r,o=t;if(t=bs,p.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var g=o,y=p,x=y.tag;if(!(y.mode&1)&&(x===0||x===11||x===15)){var E=y.alternate;E?(y.updateQueue=E.updateQueue,y.memoizedState=E.memoizedState,y.lanes=E.lanes):(y.updateQueue=null,y.memoizedState=null)}var A=NQ(c);if(A!==null){A.flags&=-257,FQ(A,c,p,s,t),A.mode&1&&zQ(s,g,t),t=A,o=g;var M=t.updateQueue;if(M===null){var R=new Set;R.add(o),t.updateQueue=R}else M.add(o);break e}else{if(!(t&1)){zQ(s,g,t),qU();break e}o=Error(wr(426))}}else if(Da&&p.mode&1){var k=NQ(c);if(k!==null){!(k.flags&65536)&&(k.flags|=256),FQ(k,c,p,s,t),CU(Ax(o,p));break e}}s=o=Ax(o,p),Lo!==4&&(Lo=2),G6===null?G6=[s]:G6.push(s),s=c;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var D=xpe(s,o,t);OQ(s,D);break e;case 1:p=o;var $=s.type,B=s.stateNode;if(!(s.flags&128)&&(typeof $.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(h1===null||!h1.has(B)))){s.flags|=65536,t&=-t,s.lanes|=t;var V=wpe(s,p,t);OQ(s,V);break e}}s=s.return}while(s!==null)}jpe(r)}catch(U){t=U,go===r&&r!==null&&(go=r=r.return);continue}break}while(!0)}function Npe(){var e=YT.current;return YT.current=XT,e===null?XT:e}function qU(){(Lo===0||Lo===3||Lo===2)&&(Lo=4),rs===null||!(gy&268435455)&&!(oI&268435455)||Hm(rs,bs)}function eP(e,t){var r=Ii;Ii|=2;var n=Npe();(rs!==e||bs!==t)&&(vp=null,ey(e,t));do try{PPe();break}catch(i){zpe(e,i)}while(!0);if(MU(),Ii=r,YT.current=n,go!==null)throw Error(wr(261));return rs=null,bs=0,Lo}function PPe(){for(;go!==null;)Fpe(go)}function CPe(){for(;go!==null&&!QAe();)Fpe(go)}function Fpe(e){var t=Upe(e.alternate,e,au);e.memoizedProps=e.pendingProps,t===null?jpe(e):go=t,UU.current=null}function jpe(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=xPe(r,t),r!==null){r.flags&=32767,go=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lo=6,go=null;return}}else if(r=bPe(r,t,au),r!==null){go=r;return}if(t=t.sibling,t!==null){go=t;return}go=t=e}while(t!==null);Lo===0&&(Lo=5)}function xg(e,t,r){var n=Zi,i=dc.transition;try{dc.transition=null,Zi=1,IPe(e,t,r,n)}finally{dc.transition=i,Zi=n}return null}function IPe(e,t,r,n){do Xb();while(e1!==null);if(Ii&6)throw Error(wr(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(wr(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(uTe(e,s),e===rs&&(go=rs=null,bs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||TE||(TE=!0,Wpe($T,function(){return Xb(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=dc.transition,dc.transition=null;var c=Zi;Zi=1;var p=Ii;Ii|=4,UU.current=null,SPe(e,r),$pe(r,e),ZTe(Fz),BT=!!Nz,Fz=Nz=null,e.current=r,EPe(r),eTe(),Ii=p,Zi=c,dc.transition=s}else e.current=r;if(TE&&(TE=!1,e1=e,QT=i),s=e.pendingLanes,s===0&&(h1=null),nTe(r.stateNode),jl(e,so()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(JT)throw JT=!1,e=oN,oN=null,e;return QT&1&&e.tag!==0&&Xb(),s=e.pendingLanes,s&1?e===sN?q6++:(q6=0,sN=e):q6=0,H1(),null}function Xb(){if(e1!==null){var e=xfe(QT),t=dc.transition,r=Zi;try{if(dc.transition=null,Zi=16>e?16:e,e1===null)var n=!1;else{if(e=e1,e1=null,QT=0,Ii&6)throw Error(wr(331));var i=Ii;for(Ii|=4,Gr=e.current;Gr!==null;){var s=Gr,c=s.child;if(Gr.flags&16){var p=s.deletions;if(p!==null){for(var o=0;o<p.length;o++){var g=p[o];for(Gr=g;Gr!==null;){var y=Gr;switch(y.tag){case 0:case 11:case 15:H6(8,y,s)}var x=y.child;if(x!==null)x.return=y,Gr=x;else for(;Gr!==null;){y=Gr;var E=y.sibling,A=y.return;if(Ope(y),y===g){Gr=null;break}if(E!==null){E.return=A,Gr=E;break}Gr=A}}}var M=s.alternate;if(M!==null){var R=M.child;if(R!==null){M.child=null;do{var k=R.sibling;R.sibling=null,R=k}while(R!==null)}}Gr=s}}if(s.subtreeFlags&2064&&c!==null)c.return=s,Gr=c;else e:for(;Gr!==null;){if(s=Gr,s.flags&2048)switch(s.tag){case 0:case 11:case 15:H6(9,s,s.return)}var D=s.sibling;if(D!==null){D.return=s.return,Gr=D;break e}Gr=s.return}}var $=e.current;for(Gr=$;Gr!==null;){c=Gr;var B=c.child;if(c.subtreeFlags&2064&&B!==null)B.return=c,Gr=B;else e:for(c=$;Gr!==null;){if(p=Gr,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:aI(9,p)}}catch(U){Ja(p,p.return,U)}if(p===c){Gr=null;break e}var V=p.sibling;if(V!==null){V.return=p.return,Gr=V;break e}Gr=p.return}}if(Ii=i,H1(),pf&&typeof pf.onPostCommitFiberRoot=="function")try{pf.onPostCommitFiberRoot(YC,e)}catch{}n=!0}return n}finally{Zi=r,dc.transition=t}}return!1}function QQ(e,t,r){t=Ax(r,t),t=xpe(e,t,1),e=p1(e,t,1),t=gl(),e!==null&&(K8(e,1,t),jl(e,t))}function Ja(e,t,r){if(e.tag===3)QQ(e,e,r);else for(;t!==null;){if(t.tag===3){QQ(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(h1===null||!h1.has(n))){e=Ax(r,e),e=wpe(t,e,1),t=p1(t,e,1),e=gl(),t!==null&&(K8(t,1,e),jl(t,e));break}}t=t.return}}function MPe(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gl(),e.pingedLanes|=e.suspendedLanes&r,rs===e&&(bs&r)===r&&(Lo===4||Lo===3&&(bs&130023424)===bs&&500>so()-KU?ey(e,0):WU|=r),jl(e,t)}function Vpe(e,t){t===0&&(e.mode&1?(t=gE,gE<<=1,!(gE&130023424)&&(gE=4194304)):t=1);var r=gl();e=ih(e,t),e!==null&&(K8(e,t,r),jl(e,r))}function kPe(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Vpe(e,r)}function OPe(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(wr(314))}n!==null&&n.delete(t),Vpe(e,r)}var Upe;Upe=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nl.current)Ll=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ll=!1,_Pe(e,t,r);Ll=!!(e.flags&131072)}else Ll=!1,Da&&t.flags&1048576&&Gfe(t,WT,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;XA(e,t),e=t.pendingProps;var i=xx(t,Us.current);Zb(t,r),i=zU(null,t,n,e,i,r);var s=NU();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fl(n)?(s=!0,VT(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,DU(t),i.updater=iI,t.stateNode=i,i._reactInternals=t,Zz(t,n,e,r),t=Jz(null,t,n,!0,s,r)):(t.tag=0,Da&&s&&TU(t),cl(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(XA(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=RPe(n),e=Qc(n,e),i){case 0:t=Yz(null,t,n,e,r);break e;case 1:t=UQ(null,t,n,e,r);break e;case 11:t=jQ(null,t,n,e,r);break e;case 14:t=VQ(null,t,n,Qc(n.type,e),r);break e}throw Error(wr(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qc(n,i),Yz(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qc(n,i),UQ(e,t,n,i,r);case 3:e:{if(Tpe(t),e===null)throw Error(wr(387));n=t.pendingProps,s=t.memoizedState,i=s.element,Qfe(e,t),GT(t,n,null,r);var c=t.memoizedState;if(n=c.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ax(Error(wr(423)),t),t=WQ(e,t,n,r,i);break e}else if(n!==i){i=Ax(Error(wr(424)),t),t=WQ(e,t,n,r,i);break e}else for(mu=f1(t.stateNode.containerInfo.firstChild),vu=t,Da=!0,od=null,r=Yfe(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wx(),n===i){t=ah(e,t,r);break e}cl(e,t,n,r)}t=t.child}return t;case 5:return epe(t),e===null&&Hz(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,c=i.children,jz(n,i)?c=null:s!==null&&jz(n,s)&&(t.flags|=32),Ape(e,t),cl(e,t,c,r),t.child;case 6:return e===null&&Hz(t),null;case 13:return Ppe(e,t,r);case 4:return RU(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Sx(t,null,n,r):cl(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qc(n,i),jQ(e,t,n,i,r);case 7:return cl(e,t,t.pendingProps,r),t.child;case 8:return cl(e,t,t.pendingProps.children,r),t.child;case 12:return cl(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,c=i.value,ma(KT,n._currentValue),n._currentValue=c,s!==null)if(gd(s.value,c)){if(s.children===i.children&&!Nl.current){t=ah(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var p=s.dependencies;if(p!==null){c=s.child;for(var o=p.firstContext;o!==null;){if(o.context===n){if(s.tag===1){o=Vp(-1,r&-r),o.tag=2;var g=s.updateQueue;if(g!==null){g=g.shared;var y=g.pending;y===null?o.next=o:(o.next=y.next,y.next=o),g.pending=o}}s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Gz(s.return,r,t),p.lanes|=r;break}o=o.next}}else if(s.tag===10)c=s.type===t.type?null:s.child;else if(s.tag===18){if(c=s.return,c===null)throw Error(wr(341));c.lanes|=r,p=c.alternate,p!==null&&(p.lanes|=r),Gz(c,r,t),c=s.sibling}else c=s.child;if(c!==null)c.return=s;else for(c=s;c!==null;){if(c===t){c=null;break}if(s=c.sibling,s!==null){s.return=c.return,c=s;break}c=c.return}s=c}cl(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Zb(t,r),i=vc(i),n=n(i),t.flags|=1,cl(e,t,n,r),t.child;case 14:return n=t.type,i=Qc(n,t.pendingProps),i=Qc(n.type,i),VQ(e,t,n,i,r);case 15:return Spe(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qc(n,i),XA(e,t),t.tag=1,Fl(n)?(e=!0,VT(t)):e=!1,Zb(t,r),bpe(t,n,i),Zz(t,n,i,r),Jz(null,t,n,!0,e,r);case 19:return Cpe(e,t,r);case 22:return Epe(e,t,r)}throw Error(wr(156,t.tag))};function Wpe(e,t){return yfe(e,t)}function DPe(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oc(e,t,r,n){return new DPe(e,t,r,n)}function ZU(e){return e=e.prototype,!(!e||!e.isReactComponent)}function RPe(e){if(typeof e=="function")return ZU(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hU)return 11;if(e===mU)return 14}return 2}function g1(e,t){var r=e.alternate;return r===null?(r=oc(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function QA(e,t,r,n,i,s){var c=2;if(n=e,typeof e=="function")ZU(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case mb:return ty(r.children,i,s,t);case pU:c=8,i|=8;break;case _z:return e=oc(12,r,t,i|2),e.elementType=_z,e.lanes=s,e;case bz:return e=oc(13,r,t,i),e.elementType=bz,e.lanes=s,e;case xz:return e=oc(19,r,t,i),e.elementType=xz,e.lanes=s,e;case efe:return sI(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jde:c=10;break e;case Qde:c=9;break e;case hU:c=11;break e;case mU:c=14;break e;case Nm:c=16,n=null;break e}throw Error(wr(130,e==null?e:typeof e,""))}return t=oc(c,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function ty(e,t,r,n){return e=oc(7,e,n,t),e.lanes=r,e}function sI(e,t,r,n){return e=oc(22,e,n,t),e.elementType=efe,e.lanes=r,e.stateNode={isHidden:!1},e}function jR(e,t,r){return e=oc(6,e,null,t),e.lanes=r,e}function VR(e,t,r){return t=oc(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $Pe(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wR(0),this.expirationTimes=wR(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wR(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function XU(e,t,r,n,i,s,c,p,o){return e=new $Pe(e,t,r,p,o),t===1?(t=1,s===!0&&(t|=8)):t=0,s=oc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},DU(s),e}function LPe(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hb,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Kpe(e){if(!e)return I1;e=e._reactInternals;e:{if(Gy(e)!==e||e.tag!==1)throw Error(wr(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(wr(171))}if(e.tag===1){var r=e.type;if(Fl(r))return Kfe(e,r,t)}return t}function Hpe(e,t,r,n,i,s,c,p,o){return e=XU(r,n,!0,e,i,s,c,p,o),e.context=Kpe(null),r=e.current,n=gl(),i=m1(r),s=Vp(n,i),s.callback=t??null,p1(r,s,i),e.current.lanes=i,K8(e,i,n),jl(e,n),e}function lI(e,t,r,n){var i=t.current,s=gl(),c=m1(i);return r=Kpe(r),t.context===null?t.context=r:t.pendingContext=r,t=Vp(s,c),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=p1(i,t,c),e!==null&&(pd(e,i,c,s),GA(e,i,c)),c}function tP(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eee(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function YU(e,t){eee(e,t),(e=e.alternate)&&eee(e,t)}function BPe(){return null}var Gpe=typeof reportError=="function"?reportError:function(e){console.error(e)};function JU(e){this._internalRoot=e}uI.prototype.render=JU.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(wr(409));lI(e,t,null,null)};uI.prototype.unmount=JU.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yy(function(){lI(null,e,null,null)}),t[nh]=null}};function uI(e){this._internalRoot=e}uI.prototype.unstable_scheduleHydration=function(e){if(e){var t=Efe();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Km.length&&t!==0&&t<Km[r].priority;r++);Km.splice(r,0,e),r===0&&Tfe(e)}};function QU(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tee(){}function zPe(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var g=tP(c);s.call(g)}}var c=Hpe(t,n,e,0,null,!1,!1,"",tee);return e._reactRootContainer=c,e[nh]=c.current,S5(e.nodeType===8?e.parentNode:e),yy(),c}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var p=n;n=function(){var g=tP(o);p.call(g)}}var o=XU(e,0,!1,null,null,!1,!1,"",tee);return e._reactRootContainer=o,e[nh]=o.current,S5(e.nodeType===8?e.parentNode:e),yy(function(){lI(t,o,r,n)}),o}function dI(e,t,r,n,i){var s=r._reactRootContainer;if(s){var c=s;if(typeof i=="function"){var p=i;i=function(){var o=tP(c);p.call(o)}}lI(t,c,e,i)}else c=zPe(r,t,e,i,n);return tP(c)}wfe=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=w6(t.pendingLanes);r!==0&&(vU(t,r|1),jl(t,so()),!(Ii&6)&&(Tx=so()+500,H1()))}break;case 13:yy(function(){var n=ih(e,1);if(n!==null){var i=gl();pd(n,e,1,i)}}),YU(e,1)}};_U=function(e){if(e.tag===13){var t=ih(e,134217728);if(t!==null){var r=gl();pd(t,e,134217728,r)}YU(e,134217728)}};Sfe=function(e){if(e.tag===13){var t=m1(e),r=ih(e,t);if(r!==null){var n=gl();pd(r,e,t,n)}YU(e,t)}};Efe=function(){return Zi};Afe=function(e,t){var r=Zi;try{return Zi=e,t()}finally{Zi=r}};kz=function(e,t,r){switch(t){case"input":if(Ez(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=tI(n);if(!i)throw Error(wr(90));rfe(n),Ez(n,i)}}}break;case"textarea":ife(e,r);break;case"select":t=r.value,t!=null&&Kb(e,!!r.multiple,t,!1)}};dfe=HU;ffe=yy;var NPe={usingClientEntryPoint:!1,Events:[G8,_b,tI,ufe,cfe,HU]},m2={findFiberByHostInstance:Rg,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FPe={bundleType:m2.bundleType,version:m2.version,rendererPackageName:m2.rendererPackageName,rendererConfig:m2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xh.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mfe(e),e===null?null:e.stateNode},findFiberByHostInstance:m2.findFiberByHostInstance||BPe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var PE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!PE.isDisabled&&PE.supportsFiber)try{YC=PE.inject(FPe),pf=PE}catch{}}Eu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NPe;Eu.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QU(t))throw Error(wr(200));return LPe(e,t,null,r)};Eu.createRoot=function(e,t){if(!QU(e))throw Error(wr(299));var r=!1,n="",i=Gpe;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=XU(e,1,!1,null,null,r,!1,n,i),e[nh]=t.current,S5(e.nodeType===8?e.parentNode:e),new JU(t)};Eu.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(wr(188)):(e=Object.keys(e).join(","),Error(wr(268,e)));return e=mfe(t),e=e===null?null:e.stateNode,e};Eu.flushSync=function(e){return yy(e)};Eu.hydrate=function(e,t,r){if(!cI(t))throw Error(wr(200));return dI(null,e,t,!0,r)};Eu.hydrateRoot=function(e,t,r){if(!QU(e))throw Error(wr(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",c=Gpe;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),t=Hpe(t,null,e,1,r??null,i,!1,s,c),e[nh]=t.current,S5(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new uI(t)};Eu.render=function(e,t,r){if(!cI(t))throw Error(wr(200));return dI(null,e,t,!1,r)};Eu.unmountComponentAtNode=function(e){if(!cI(e))throw Error(wr(40));return e._reactRootContainer?(yy(function(){dI(null,null,e,!1,function(){e._reactRootContainer=null,e[nh]=null})}),!0):!1};Eu.unstable_batchedUpdates=HU;Eu.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!cI(r))throw Error(wr(200));if(e==null||e._reactInternals===void 0)throw Error(wr(38));return dI(e,t,r,!1,n)};Eu.version="18.3.1-next-f1338f8080-20240426";function qpe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qpe)}catch(e){console.error(e)}}qpe(),qde.exports=Eu;var Z8=qde.exports;const jPe=oi(Z8);var Zpe,ree=Z8;Zpe=ree.createRoot,ree.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function O5(){return O5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O5.apply(this,arguments)}var t1;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(t1||(t1={}));const nee="popstate";function VPe(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:c,hash:p}=n.location;return cN("",{pathname:s,search:c,hash:p},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ype(i)}return WPe(t,r,null,e)}function yo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xpe(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UPe(){return Math.random().toString(36).substr(2,8)}function iee(e,t){return{usr:e.state,key:e.key,idx:t}}function cN(e,t,r,n){return r===void 0&&(r=null),O5({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?F4(t):t,{state:r,key:t&&t.key||n||UPe()})}function Ype(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function F4(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function WPe(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,c=i.history,p=t1.Pop,o=null,g=y();g==null&&(g=0,c.replaceState(O5({},c.state,{idx:g}),""));function y(){return(c.state||{idx:null}).idx}function x(){p=t1.Pop;let k=y(),D=k==null?null:k-g;g=k,o&&o({action:p,location:R.location,delta:D})}function E(k,D){p=t1.Push;let $=cN(R.location,k,D);g=y()+1;let B=iee($,g),V=R.createHref($);try{c.pushState(B,"",V)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(V)}s&&o&&o({action:p,location:R.location,delta:1})}function A(k,D){p=t1.Replace;let $=cN(R.location,k,D);g=y();let B=iee($,g),V=R.createHref($);c.replaceState(B,"",V),s&&o&&o({action:p,location:R.location,delta:0})}function M(k){let D=i.location.origin!=="null"?i.location.origin:i.location.href,$=typeof k=="string"?k:Ype(k);return $=$.replace(/ $/,"%20"),yo(D,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,D)}let R={get action(){return p},get location(){return e(i,c)},listen(k){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(nee,x),o=k,()=>{i.removeEventListener(nee,x),o=null}},createHref(k){return t(i,k)},createURL:M,encodeLocation(k){let D=M(k);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:E,replace:A,go(k){return c.go(k)}};return R}var aee;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(aee||(aee={}));function KPe(e,t,r){return r===void 0&&(r="/"),HPe(e,t,r,!1)}function HPe(e,t,r,n){let i=typeof t=="string"?F4(t):t,s=ehe(i.pathname||"/",r);if(s==null)return null;let c=Jpe(e);GPe(c);let p=null;for(let o=0;p==null&&o<c.length;++o){let g=iCe(s);p=rCe(c[o],g,n)}return p}function Jpe(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,c,p)=>{let o={relativePath:p===void 0?s.path||"":p,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};o.relativePath.startsWith("/")&&(yo(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(n.length));let g=ry([n,o.relativePath]),y=r.concat(o);s.children&&s.children.length>0&&(yo(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Jpe(s.children,t,y,g)),!(s.path==null&&!s.index)&&t.push({path:g,score:eCe(g,s.index),routesMeta:y})};return e.forEach((s,c)=>{var p;if(s.path===""||!((p=s.path)!=null&&p.includes("?")))i(s,c);else for(let o of Qpe(s.path))i(s,c,o)}),t}function Qpe(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let c=Qpe(n.join("/")),p=[];return p.push(...c.map(o=>o===""?s:[s,o].join("/"))),i&&p.push(...c),p.map(o=>e.startsWith("/")&&o===""?"/":o)}function GPe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:tCe(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const qPe=/^:[\w-]+$/,ZPe=3,XPe=2,YPe=1,JPe=10,QPe=-2,oee=e=>e==="*";function eCe(e,t){let r=e.split("/"),n=r.length;return r.some(oee)&&(n+=QPe),t&&(n+=XPe),r.filter(i=>!oee(i)).reduce((i,s)=>i+(qPe.test(s)?ZPe:s===""?YPe:JPe),n)}function tCe(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function rCe(e,t,r){let{routesMeta:n}=e,i={},s="/",c=[];for(let p=0;p<n.length;++p){let o=n[p],g=p===n.length-1,y=s==="/"?t:t.slice(s.length)||"/",x=see({path:o.relativePath,caseSensitive:o.caseSensitive,end:g},y),E=o.route;if(!x&&g&&r&&!n[n.length-1].route.index&&(x=see({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},y)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:ry([s,x.pathname]),pathnameBase:lCe(ry([s,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(s=ry([s,x.pathnameBase]))}return c}function see(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=nCe(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),p=i.slice(1);return{params:n.reduce((g,y,x)=>{let{paramName:E,isOptional:A}=y;if(E==="*"){let R=p[x]||"";c=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const M=p[x];return A&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:s,pathnameBase:c,pattern:e}}function nCe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Xpe(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,o)=>(n.push({paramName:p,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function iCe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xpe(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ehe(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function aCe(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?F4(e):e;return{pathname:r?r.startsWith("/")?r:oCe(r,t):t,search:uCe(n),hash:cCe(i)}}function oCe(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function UR(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sCe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function the(e,t){let r=sCe(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function rhe(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=F4(e):(i=O5({},e),yo(!i.pathname||!i.pathname.includes("?"),UR("?","pathname","search",i)),yo(!i.pathname||!i.pathname.includes("#"),UR("#","pathname","hash",i)),yo(!i.search||!i.search.includes("#"),UR("#","search","hash",i)));let s=e===""||i.pathname==="",c=s?"/":i.pathname,p;if(c==null)p=r;else{let x=t.length-1;if(!n&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),x-=1;i.pathname=E.join("/")}p=x>=0?t[x]:"/"}let o=aCe(i,p),g=c&&c!=="/"&&c.endsWith("/"),y=(s||c===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(g||y)&&(o.pathname+="/"),o}const ry=e=>e.join("/").replace(/\/\/+/g,"/"),lCe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uCe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cCe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dCe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nhe=["post","put","patch","delete"];new Set(nhe);const fCe=["get",...nhe];new Set(fCe);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function D5(){return D5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D5.apply(this,arguments)}const eW=se.createContext(null),pCe=se.createContext(null),X8=se.createContext(null),fI=se.createContext(null),qy=se.createContext({outlet:null,matches:[],isDataRoute:!1}),ihe=se.createContext(null);function Y8(){return se.useContext(fI)!=null}function J8(){return Y8()||yo(!1),se.useContext(fI).location}function ahe(e){se.useContext(X8).static||se.useLayoutEffect(e)}function tW(){let{isDataRoute:e}=se.useContext(qy);return e?TCe():hCe()}function hCe(){Y8()||yo(!1);let e=se.useContext(eW),{basename:t,future:r,navigator:n}=se.useContext(X8),{matches:i}=se.useContext(qy),{pathname:s}=J8(),c=JSON.stringify(the(i,r.v7_relativeSplatPath)),p=se.useRef(!1);return ahe(()=>{p.current=!0}),se.useCallback(function(g,y){if(y===void 0&&(y={}),!p.current)return;if(typeof g=="number"){n.go(g);return}let x=rhe(g,JSON.parse(c),s,y.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:ry([t,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[t,n,c,s,e])}function mCe(e,t){return gCe(e,t)}function gCe(e,t,r,n){Y8()||yo(!1);let{navigator:i}=se.useContext(X8),{matches:s}=se.useContext(qy),c=s[s.length-1],p=c?c.params:{};c&&c.pathname;let o=c?c.pathnameBase:"/";c&&c.route;let g=J8(),y;if(t){var x;let k=typeof t=="string"?F4(t):t;o==="/"||(x=k.pathname)!=null&&x.startsWith(o)||yo(!1),y=k}else y=g;let E=y.pathname||"/",A=E;if(o!=="/"){let k=o.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let M=KPe(e,{pathname:A}),R=xCe(M&&M.map(k=>Object.assign({},k,{params:Object.assign({},p,k.params),pathname:ry([o,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?o:ry([o,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,r,n);return t&&R?se.createElement(fI.Provider,{value:{location:D5({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:t1.Pop}},R):R}function yCe(){let e=ACe(),t=dCe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},t),r?se.createElement("pre",{style:i},r):null,null)}const vCe=se.createElement(yCe,null);class _Ce extends se.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?se.createElement(qy.Provider,{value:this.props.routeContext},se.createElement(ihe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bCe(e){let{routeContext:t,match:r,children:n}=e,i=se.useContext(eW);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),se.createElement(qy.Provider,{value:t},n)}function xCe(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,p=(i=r)==null?void 0:i.errors;if(p!=null){let y=c.findIndex(x=>x.route.id&&(p==null?void 0:p[x.route.id])!==void 0);y>=0||yo(!1),c=c.slice(0,Math.min(c.length,y+1))}let o=!1,g=-1;if(r&&n&&n.v7_partialHydration)for(let y=0;y<c.length;y++){let x=c[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=y),x.route.id){let{loaderData:E,errors:A}=r,M=x.route.loader&&E[x.route.id]===void 0&&(!A||A[x.route.id]===void 0);if(x.route.lazy||M){o=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,x,E)=>{let A,M=!1,R=null,k=null;r&&(A=p&&x.route.id?p[x.route.id]:void 0,R=x.route.errorElement||vCe,o&&(g<0&&E===0?(M=!0,k=null):g===E&&(M=!0,k=x.route.hydrateFallbackElement||null)));let D=t.concat(c.slice(0,E+1)),$=()=>{let B;return A?B=R:M?B=k:x.route.Component?B=se.createElement(x.route.Component,null):x.route.element?B=x.route.element:B=y,se.createElement(bCe,{match:x,routeContext:{outlet:y,matches:D,isDataRoute:r!=null},children:B})};return r&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?se.createElement(_Ce,{location:r.location,revalidation:r.revalidation,component:R,error:A,children:$(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):$()},null)}var ohe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ohe||{}),rP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rP||{});function wCe(e){let t=se.useContext(eW);return t||yo(!1),t}function SCe(e){let t=se.useContext(pCe);return t||yo(!1),t}function ECe(e){let t=se.useContext(qy);return t||yo(!1),t}function she(e){let t=ECe(),r=t.matches[t.matches.length-1];return r.route.id||yo(!1),r.route.id}function ACe(){var e;let t=se.useContext(ihe),r=SCe(rP.UseRouteError),n=she(rP.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function TCe(){let{router:e}=wCe(ohe.UseNavigateStable),t=she(rP.UseNavigateStable),r=se.useRef(!1);return ahe(()=>{r.current=!0}),se.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,D5({fromRouteId:t},s)))},[e,t])}function PCe(e){let{to:t,replace:r,state:n,relative:i}=e;Y8()||yo(!1);let{future:s,static:c}=se.useContext(X8),{matches:p}=se.useContext(qy),{pathname:o}=J8(),g=tW(),y=rhe(t,the(p,s.v7_relativeSplatPath),o,i==="path"),x=JSON.stringify(y);return se.useEffect(()=>g(JSON.parse(x),{replace:r,state:n,relative:i}),[g,x,i,r,n]),null}function qd(e){yo(!1)}function CCe(e){let{basename:t="/",children:r=null,location:n,navigationType:i=t1.Pop,navigator:s,static:c=!1,future:p}=e;Y8()&&yo(!1);let o=t.replace(/^\/*/,"/"),g=se.useMemo(()=>({basename:o,navigator:s,static:c,future:D5({v7_relativeSplatPath:!1},p)}),[o,p,s,c]);typeof n=="string"&&(n=F4(n));let{pathname:y="/",search:x="",hash:E="",state:A=null,key:M="default"}=n,R=se.useMemo(()=>{let k=ehe(y,o);return k==null?null:{location:{pathname:k,search:x,hash:E,state:A,key:M},navigationType:i}},[o,y,x,E,A,M,i]);return R==null?null:se.createElement(X8.Provider,{value:g},se.createElement(fI.Provider,{children:r,value:R}))}function ICe(e){let{children:t,location:r}=e;return mCe(dN(t),r)}new Promise(()=>{});function dN(e,t){t===void 0&&(t=[]);let r=[];return se.Children.forEach(e,(n,i)=>{if(!se.isValidElement(n))return;let s=[...t,i];if(n.type===se.Fragment){r.push.apply(r,dN(n.props.children,s));return}n.type!==qd&&yo(!1),!n.props.index||!n.props.children||yo(!1);let c={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=dN(n.props.children,s)),r.push(c)}),r}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const MCe="6";try{window.__reactRouterVersion=MCe}catch{}const kCe="startTransition",lee=MAe[kCe];function OCe(e){let{basename:t,children:r,future:n,window:i}=e,s=se.useRef();s.current==null&&(s.current=VPe({window:i,v5Compat:!0}));let c=s.current,[p,o]=se.useState({action:c.action,location:c.location}),{v7_startTransition:g}=n||{},y=se.useCallback(x=>{g&&lee?lee(()=>o(x)):o(x)},[o,g]);return se.useLayoutEffect(()=>c.listen(y),[c,y]),se.createElement(CCe,{basename:t,children:r,location:p.location,navigationType:p.action,navigator:c,future:n})}var uee;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(uee||(uee={}));var cee;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cee||(cee={}));var zo={},pI={};pI.byteLength=$Ce;pI.toByteArray=BCe;pI.fromByteArray=FCe;var af=[],Yu=[],DCe=typeof Uint8Array<"u"?Uint8Array:Array,WR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var M_=0,RCe=WR.length;M_<RCe;++M_)af[M_]=WR[M_],Yu[WR.charCodeAt(M_)]=M_;Yu[45]=62;Yu[95]=63;function lhe(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function $Ce(e){var t=lhe(e),r=t[0],n=t[1];return(r+n)*3/4-n}function LCe(e,t,r){return(t+r)*3/4-r}function BCe(e){var t,r=lhe(e),n=r[0],i=r[1],s=new DCe(LCe(e,n,i)),c=0,p=i>0?n-4:n,o;for(o=0;o<p;o+=4)t=Yu[e.charCodeAt(o)]<<18|Yu[e.charCodeAt(o+1)]<<12|Yu[e.charCodeAt(o+2)]<<6|Yu[e.charCodeAt(o+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=t&255;return i===2&&(t=Yu[e.charCodeAt(o)]<<2|Yu[e.charCodeAt(o+1)]>>4,s[c++]=t&255),i===1&&(t=Yu[e.charCodeAt(o)]<<10|Yu[e.charCodeAt(o+1)]<<4|Yu[e.charCodeAt(o+2)]>>2,s[c++]=t>>8&255,s[c++]=t&255),s}function zCe(e){return af[e>>18&63]+af[e>>12&63]+af[e>>6&63]+af[e&63]}function NCe(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(zCe(n));return i.join("")}function FCe(e){for(var t,r=e.length,n=r%3,i=[],s=16383,c=0,p=r-n;c<p;c+=s)i.push(NCe(e,c,c+s>p?p:c+s));return n===1?(t=e[r-1],i.push(af[t>>2]+af[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(af[t>>10]+af[t>>4&63]+af[t<<2&63]+"=")),i.join("")}var rW={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */rW.read=function(e,t,r,n,i){var s,c,p=i*8-n-1,o=(1<<p)-1,g=o>>1,y=-7,x=r?i-1:0,E=r?-1:1,A=e[t+x];for(x+=E,s=A&(1<<-y)-1,A>>=-y,y+=p;y>0;s=s*256+e[t+x],x+=E,y-=8);for(c=s&(1<<-y)-1,s>>=-y,y+=n;y>0;c=c*256+e[t+x],x+=E,y-=8);if(s===0)s=1-g;else{if(s===o)return c?NaN:(A?-1:1)*(1/0);c=c+Math.pow(2,n),s=s-g}return(A?-1:1)*c*Math.pow(2,s-n)};rW.write=function(e,t,r,n,i,s){var c,p,o,g=s*8-i-1,y=(1<<g)-1,x=y>>1,E=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:s-1,M=n?1:-1,R=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(p=isNaN(t)?1:0,c=y):(c=Math.floor(Math.log(t)/Math.LN2),t*(o=Math.pow(2,-c))<1&&(c--,o*=2),c+x>=1?t+=E/o:t+=E*Math.pow(2,1-x),t*o>=2&&(c++,o/=2),c+x>=y?(p=0,c=y):c+x>=1?(p=(t*o-1)*Math.pow(2,i),c=c+x):(p=t*Math.pow(2,x-1)*Math.pow(2,i),c=0));i>=8;e[r+A]=p&255,A+=M,p/=256,i-=8);for(c=c<<i|p,g+=i;g>0;e[r+A]=c&255,A+=M,c/=256,g-=8);e[r+A-M]|=R*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=pI,r=rW,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=y,e.SlowBuffer=U,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:c,SharedArrayBuffer:p}=globalThis;y.TYPED_ARRAY_SUPPORT=o(),!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const Be=new s(1),ge={foo:function(){return 42}};return Object.setPrototypeOf(ge,s.prototype),Object.setPrototypeOf(Be,ge),Be.foo()===42}catch{return!1}}Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}});function g(Be){if(Be>i)throw new RangeError('The value "'+Be+'" is invalid for option "size"');const ge=new s(Be);return Object.setPrototypeOf(ge,y.prototype),ge}function y(Be,ge,ve){if(typeof Be=="number"){if(typeof ge=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return M(Be)}return x(Be,ge,ve)}y.poolSize=8192;function x(Be,ge,ve){if(typeof Be=="string")return R(Be,ge);if(c.isView(Be))return D(Be);if(Be==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Be);if(kt(Be,c)||Be&&kt(Be.buffer,c)||typeof p<"u"&&(kt(Be,p)||Be&&kt(Be.buffer,p)))return $(Be,ge,ve);if(typeof Be=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Qe=Be.valueOf&&Be.valueOf();if(Qe!=null&&Qe!==Be)return y.from(Qe,ge,ve);const bt=B(Be);if(bt)return bt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Be[Symbol.toPrimitive]=="function")return y.from(Be[Symbol.toPrimitive]("string"),ge,ve);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Be)}y.from=function(Be,ge,ve){return x(Be,ge,ve)},Object.setPrototypeOf(y.prototype,s.prototype),Object.setPrototypeOf(y,s);function E(Be){if(typeof Be!="number")throw new TypeError('"size" argument must be of type number');if(Be<0)throw new RangeError('The value "'+Be+'" is invalid for option "size"')}function A(Be,ge,ve){return E(Be),Be<=0?g(Be):ge!==void 0?typeof ve=="string"?g(Be).fill(ge,ve):g(Be).fill(ge):g(Be)}y.alloc=function(Be,ge,ve){return A(Be,ge,ve)};function M(Be){return E(Be),g(Be<0?0:V(Be)|0)}y.allocUnsafe=function(Be){return M(Be)},y.allocUnsafeSlow=function(Be){return M(Be)};function R(Be,ge){if((typeof ge!="string"||ge==="")&&(ge="utf8"),!y.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);const ve=Z(Be,ge)|0;let Qe=g(ve);const bt=Qe.write(Be,ge);return bt!==ve&&(Qe=Qe.slice(0,bt)),Qe}function k(Be){const ge=Be.length<0?0:V(Be.length)|0,ve=g(ge);for(let Qe=0;Qe<ge;Qe+=1)ve[Qe]=Be[Qe]&255;return ve}function D(Be){if(kt(Be,s)){const ge=new s(Be);return $(ge.buffer,ge.byteOffset,ge.byteLength)}return k(Be)}function $(Be,ge,ve){if(ge<0||Be.byteLength<ge)throw new RangeError('"offset" is outside of buffer bounds');if(Be.byteLength<ge+(ve||0))throw new RangeError('"length" is outside of buffer bounds');let Qe;return ge===void 0&&ve===void 0?Qe=new s(Be):ve===void 0?Qe=new s(Be,ge):Qe=new s(Be,ge,ve),Object.setPrototypeOf(Qe,y.prototype),Qe}function B(Be){if(y.isBuffer(Be)){const ge=V(Be.length)|0,ve=g(ge);return ve.length===0||Be.copy(ve,0,0,ge),ve}if(Be.length!==void 0)return typeof Be.length!="number"||Zt(Be.length)?g(0):k(Be);if(Be.type==="Buffer"&&Array.isArray(Be.data))return k(Be.data)}function V(Be){if(Be>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Be|0}function U(Be){return+Be!=Be&&(Be=0),y.alloc(+Be)}y.isBuffer=function(ge){return ge!=null&&ge._isBuffer===!0&&ge!==y.prototype},y.compare=function(ge,ve){if(kt(ge,s)&&(ge=y.from(ge,ge.offset,ge.byteLength)),kt(ve,s)&&(ve=y.from(ve,ve.offset,ve.byteLength)),!y.isBuffer(ge)||!y.isBuffer(ve))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ge===ve)return 0;let Qe=ge.length,bt=ve.length;for(let It=0,Tt=Math.min(Qe,bt);It<Tt;++It)if(ge[It]!==ve[It]){Qe=ge[It],bt=ve[It];break}return Qe<bt?-1:bt<Qe?1:0},y.isEncoding=function(ge){switch(String(ge).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(ge,ve){if(!Array.isArray(ge))throw new TypeError('"list" argument must be an Array of Buffers');if(ge.length===0)return y.alloc(0);let Qe;if(ve===void 0)for(ve=0,Qe=0;Qe<ge.length;++Qe)ve+=ge[Qe].length;const bt=y.allocUnsafe(ve);let It=0;for(Qe=0;Qe<ge.length;++Qe){let Tt=ge[Qe];if(kt(Tt,s))It+Tt.length>bt.length?(y.isBuffer(Tt)||(Tt=y.from(Tt)),Tt.copy(bt,It)):s.prototype.set.call(bt,Tt,It);else if(y.isBuffer(Tt))Tt.copy(bt,It);else throw new TypeError('"list" argument must be an Array of Buffers');It+=Tt.length}return bt};function Z(Be,ge){if(y.isBuffer(Be))return Be.length;if(c.isView(Be)||kt(Be,c))return Be.byteLength;if(typeof Be!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Be);const ve=Be.length,Qe=arguments.length>2&&arguments[2]===!0;if(!Qe&&ve===0)return 0;let bt=!1;for(;;)switch(ge){case"ascii":case"latin1":case"binary":return ve;case"utf8":case"utf-8":return tr(Be).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve*2;case"hex":return ve>>>1;case"base64":return Nr(Be).length;default:if(bt)return Qe?-1:tr(Be).length;ge=(""+ge).toLowerCase(),bt=!0}}y.byteLength=Z;function ne(Be,ge,ve){let Qe=!1;if((ge===void 0||ge<0)&&(ge=0),ge>this.length||((ve===void 0||ve>this.length)&&(ve=this.length),ve<=0)||(ve>>>=0,ge>>>=0,ve<=ge))return"";for(Be||(Be="utf8");;)switch(Be){case"hex":return J(this,ge,ve);case"utf8":case"utf-8":return re(this,ge,ve);case"ascii":return ye(this,ge,ve);case"latin1":case"binary":return ue(this,ge,ve);case"base64":return te(this,ge,ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,ge,ve);default:if(Qe)throw new TypeError("Unknown encoding: "+Be);Be=(Be+"").toLowerCase(),Qe=!0}}y.prototype._isBuffer=!0;function j(Be,ge,ve){const Qe=Be[ge];Be[ge]=Be[ve],Be[ve]=Qe}y.prototype.swap16=function(){const ge=this.length;if(ge%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ve=0;ve<ge;ve+=2)j(this,ve,ve+1);return this},y.prototype.swap32=function(){const ge=this.length;if(ge%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ve=0;ve<ge;ve+=4)j(this,ve,ve+3),j(this,ve+1,ve+2);return this},y.prototype.swap64=function(){const ge=this.length;if(ge%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ve=0;ve<ge;ve+=8)j(this,ve,ve+7),j(this,ve+1,ve+6),j(this,ve+2,ve+5),j(this,ve+3,ve+4);return this},y.prototype.toString=function(){const ge=this.length;return ge===0?"":arguments.length===0?re(this,0,ge):ne.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(ge){if(!y.isBuffer(ge))throw new TypeError("Argument must be a Buffer");return this===ge?!0:y.compare(this,ge)===0},y.prototype.inspect=function(){let ge="";const ve=e.INSPECT_MAX_BYTES;return ge=this.toString("hex",0,ve).replace(/(.{2})/g,"$1 ").trim(),this.length>ve&&(ge+=" ... "),"<Buffer "+ge+">"},n&&(y.prototype[n]=y.prototype.inspect),y.prototype.compare=function(ge,ve,Qe,bt,It){if(kt(ge,s)&&(ge=y.from(ge,ge.offset,ge.byteLength)),!y.isBuffer(ge))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ge);if(ve===void 0&&(ve=0),Qe===void 0&&(Qe=ge?ge.length:0),bt===void 0&&(bt=0),It===void 0&&(It=this.length),ve<0||Qe>ge.length||bt<0||It>this.length)throw new RangeError("out of range index");if(bt>=It&&ve>=Qe)return 0;if(bt>=It)return-1;if(ve>=Qe)return 1;if(ve>>>=0,Qe>>>=0,bt>>>=0,It>>>=0,this===ge)return 0;let Tt=It-bt,fn=Qe-ve;const Mr=Math.min(Tt,fn),Hr=this.slice(bt,It),li=ge.slice(ve,Qe);for(let Ir=0;Ir<Mr;++Ir)if(Hr[Ir]!==li[Ir]){Tt=Hr[Ir],fn=li[Ir];break}return Tt<fn?-1:fn<Tt?1:0};function fe(Be,ge,ve,Qe,bt){if(Be.length===0)return-1;if(typeof ve=="string"?(Qe=ve,ve=0):ve>2147483647?ve=2147483647:ve<-2147483648&&(ve=-2147483648),ve=+ve,Zt(ve)&&(ve=bt?0:Be.length-1),ve<0&&(ve=Be.length+ve),ve>=Be.length){if(bt)return-1;ve=Be.length-1}else if(ve<0)if(bt)ve=0;else return-1;if(typeof ge=="string"&&(ge=y.from(ge,Qe)),y.isBuffer(ge))return ge.length===0?-1:be(Be,ge,ve,Qe,bt);if(typeof ge=="number")return ge=ge&255,typeof s.prototype.indexOf=="function"?bt?s.prototype.indexOf.call(Be,ge,ve):s.prototype.lastIndexOf.call(Be,ge,ve):be(Be,[ge],ve,Qe,bt);throw new TypeError("val must be string, number or Buffer")}function be(Be,ge,ve,Qe,bt){let It=1,Tt=Be.length,fn=ge.length;if(Qe!==void 0&&(Qe=String(Qe).toLowerCase(),Qe==="ucs2"||Qe==="ucs-2"||Qe==="utf16le"||Qe==="utf-16le")){if(Be.length<2||ge.length<2)return-1;It=2,Tt/=2,fn/=2,ve/=2}function Mr(li,Ir){return It===1?li[Ir]:li.readUInt16BE(Ir*It)}let Hr;if(bt){let li=-1;for(Hr=ve;Hr<Tt;Hr++)if(Mr(Be,Hr)===Mr(ge,li===-1?0:Hr-li)){if(li===-1&&(li=Hr),Hr-li+1===fn)return li*It}else li!==-1&&(Hr-=Hr-li),li=-1}else for(ve+fn>Tt&&(ve=Tt-fn),Hr=ve;Hr>=0;Hr--){let li=!0;for(let Ir=0;Ir<fn;Ir++)if(Mr(Be,Hr+Ir)!==Mr(ge,Ir)){li=!1;break}if(li)return Hr}return-1}y.prototype.includes=function(ge,ve,Qe){return this.indexOf(ge,ve,Qe)!==-1},y.prototype.indexOf=function(ge,ve,Qe){return fe(this,ge,ve,Qe,!0)},y.prototype.lastIndexOf=function(ge,ve,Qe){return fe(this,ge,ve,Qe,!1)};function pe(Be,ge,ve,Qe){ve=Number(ve)||0;const bt=Be.length-ve;Qe?(Qe=Number(Qe),Qe>bt&&(Qe=bt)):Qe=bt;const It=ge.length;Qe>It/2&&(Qe=It/2);let Tt;for(Tt=0;Tt<Qe;++Tt){const fn=parseInt(ge.substr(Tt*2,2),16);if(Zt(fn))return Tt;Be[ve+Tt]=fn}return Tt}function le(Be,ge,ve,Qe){return gt(tr(ge,Be.length-ve),Be,ve,Qe)}function G(Be,ge,ve,Qe){return gt(Xt(ge),Be,ve,Qe)}function N(Be,ge,ve,Qe){return gt(Nr(ge),Be,ve,Qe)}function Y(Be,ge,ve,Qe){return gt(xn(ge,Be.length-ve),Be,ve,Qe)}y.prototype.write=function(ge,ve,Qe,bt){if(ve===void 0)bt="utf8",Qe=this.length,ve=0;else if(Qe===void 0&&typeof ve=="string")bt=ve,Qe=this.length,ve=0;else if(isFinite(ve))ve=ve>>>0,isFinite(Qe)?(Qe=Qe>>>0,bt===void 0&&(bt="utf8")):(bt=Qe,Qe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const It=this.length-ve;if((Qe===void 0||Qe>It)&&(Qe=It),ge.length>0&&(Qe<0||ve<0)||ve>this.length)throw new RangeError("Attempt to write outside buffer bounds");bt||(bt="utf8");let Tt=!1;for(;;)switch(bt){case"hex":return pe(this,ge,ve,Qe);case"utf8":case"utf-8":return le(this,ge,ve,Qe);case"ascii":case"latin1":case"binary":return G(this,ge,ve,Qe);case"base64":return N(this,ge,ve,Qe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,ge,ve,Qe);default:if(Tt)throw new TypeError("Unknown encoding: "+bt);bt=(""+bt).toLowerCase(),Tt=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(Be,ge,ve){return ge===0&&ve===Be.length?t.fromByteArray(Be):t.fromByteArray(Be.slice(ge,ve))}function re(Be,ge,ve){ve=Math.min(Be.length,ve);const Qe=[];let bt=ge;for(;bt<ve;){const It=Be[bt];let Tt=null,fn=It>239?4:It>223?3:It>191?2:1;if(bt+fn<=ve){let Mr,Hr,li,Ir;switch(fn){case 1:It<128&&(Tt=It);break;case 2:Mr=Be[bt+1],(Mr&192)===128&&(Ir=(It&31)<<6|Mr&63,Ir>127&&(Tt=Ir));break;case 3:Mr=Be[bt+1],Hr=Be[bt+2],(Mr&192)===128&&(Hr&192)===128&&(Ir=(It&15)<<12|(Mr&63)<<6|Hr&63,Ir>2047&&(Ir<55296||Ir>57343)&&(Tt=Ir));break;case 4:Mr=Be[bt+1],Hr=Be[bt+2],li=Be[bt+3],(Mr&192)===128&&(Hr&192)===128&&(li&192)===128&&(Ir=(It&15)<<18|(Mr&63)<<12|(Hr&63)<<6|li&63,Ir>65535&&Ir<1114112&&(Tt=Ir))}}Tt===null?(Tt=65533,fn=1):Tt>65535&&(Tt-=65536,Qe.push(Tt>>>10&1023|55296),Tt=56320|Tt&1023),Qe.push(Tt),bt+=fn}return we(Qe)}const he=4096;function we(Be){const ge=Be.length;if(ge<=he)return String.fromCharCode.apply(String,Be);let ve="",Qe=0;for(;Qe<ge;)ve+=String.fromCharCode.apply(String,Be.slice(Qe,Qe+=he));return ve}function ye(Be,ge,ve){let Qe="";ve=Math.min(Be.length,ve);for(let bt=ge;bt<ve;++bt)Qe+=String.fromCharCode(Be[bt]&127);return Qe}function ue(Be,ge,ve){let Qe="";ve=Math.min(Be.length,ve);for(let bt=ge;bt<ve;++bt)Qe+=String.fromCharCode(Be[bt]);return Qe}function J(Be,ge,ve){const Qe=Be.length;(!ge||ge<0)&&(ge=0),(!ve||ve<0||ve>Qe)&&(ve=Qe);let bt="";for(let It=ge;It<ve;++It)bt+=ur[Be[It]];return bt}function de(Be,ge,ve){const Qe=Be.slice(ge,ve);let bt="";for(let It=0;It<Qe.length-1;It+=2)bt+=String.fromCharCode(Qe[It]+Qe[It+1]*256);return bt}y.prototype.slice=function(ge,ve){const Qe=this.length;ge=~~ge,ve=ve===void 0?Qe:~~ve,ge<0?(ge+=Qe,ge<0&&(ge=0)):ge>Qe&&(ge=Qe),ve<0?(ve+=Qe,ve<0&&(ve=0)):ve>Qe&&(ve=Qe),ve<ge&&(ve=ge);const bt=this.subarray(ge,ve);return Object.setPrototypeOf(bt,y.prototype),bt};function ke(Be,ge,ve){if(Be%1!==0||Be<0)throw new RangeError("offset is not uint");if(Be+ge>ve)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUintLE=y.prototype.readUIntLE=function(ge,ve,Qe){ge=ge>>>0,ve=ve>>>0,Qe||ke(ge,ve,this.length);let bt=this[ge],It=1,Tt=0;for(;++Tt<ve&&(It*=256);)bt+=this[ge+Tt]*It;return bt},y.prototype.readUintBE=y.prototype.readUIntBE=function(ge,ve,Qe){ge=ge>>>0,ve=ve>>>0,Qe||ke(ge,ve,this.length);let bt=this[ge+--ve],It=1;for(;ve>0&&(It*=256);)bt+=this[ge+--ve]*It;return bt},y.prototype.readUint8=y.prototype.readUInt8=function(ge,ve){return ge=ge>>>0,ve||ke(ge,1,this.length),this[ge]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(ge,ve){return ge=ge>>>0,ve||ke(ge,2,this.length),this[ge]|this[ge+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(ge,ve){return ge=ge>>>0,ve||ke(ge,2,this.length),this[ge]<<8|this[ge+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(ge,ve){return ge=ge>>>0,ve||ke(ge,4,this.length),(this[ge]|this[ge+1]<<8|this[ge+2]<<16)+this[ge+3]*16777216},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(ge,ve){return ge=ge>>>0,ve||ke(ge,4,this.length),this[ge]*16777216+(this[ge+1]<<16|this[ge+2]<<8|this[ge+3])},y.prototype.readBigUInt64LE=yr(function(ge){ge=ge>>>0,Ct(ge,"offset");const ve=this[ge],Qe=this[ge+7];(ve===void 0||Qe===void 0)&&Lt(ge,this.length-8);const bt=ve+this[++ge]*2**8+this[++ge]*2**16+this[++ge]*2**24,It=this[++ge]+this[++ge]*2**8+this[++ge]*2**16+Qe*2**24;return BigInt(bt)+(BigInt(It)<<BigInt(32))}),y.prototype.readBigUInt64BE=yr(function(ge){ge=ge>>>0,Ct(ge,"offset");const ve=this[ge],Qe=this[ge+7];(ve===void 0||Qe===void 0)&&Lt(ge,this.length-8);const bt=ve*2**24+this[++ge]*2**16+this[++ge]*2**8+this[++ge],It=this[++ge]*2**24+this[++ge]*2**16+this[++ge]*2**8+Qe;return(BigInt(bt)<<BigInt(32))+BigInt(It)}),y.prototype.readIntLE=function(ge,ve,Qe){ge=ge>>>0,ve=ve>>>0,Qe||ke(ge,ve,this.length);let bt=this[ge],It=1,Tt=0;for(;++Tt<ve&&(It*=256);)bt+=this[ge+Tt]*It;return It*=128,bt>=It&&(bt-=Math.pow(2,8*ve)),bt},y.prototype.readIntBE=function(ge,ve,Qe){ge=ge>>>0,ve=ve>>>0,Qe||ke(ge,ve,this.length);let bt=ve,It=1,Tt=this[ge+--bt];for(;bt>0&&(It*=256);)Tt+=this[ge+--bt]*It;return It*=128,Tt>=It&&(Tt-=Math.pow(2,8*ve)),Tt},y.prototype.readInt8=function(ge,ve){return ge=ge>>>0,ve||ke(ge,1,this.length),this[ge]&128?(255-this[ge]+1)*-1:this[ge]},y.prototype.readInt16LE=function(ge,ve){ge=ge>>>0,ve||ke(ge,2,this.length);const Qe=this[ge]|this[ge+1]<<8;return Qe&32768?Qe|4294901760:Qe},y.prototype.readInt16BE=function(ge,ve){ge=ge>>>0,ve||ke(ge,2,this.length);const Qe=this[ge+1]|this[ge]<<8;return Qe&32768?Qe|4294901760:Qe},y.prototype.readInt32LE=function(ge,ve){return ge=ge>>>0,ve||ke(ge,4,this.length),this[ge]|this[ge+1]<<8|this[ge+2]<<16|this[ge+3]<<24},y.prototype.readInt32BE=function(ge,ve){return ge=ge>>>0,ve||ke(ge,4,this.length),this[ge]<<24|this[ge+1]<<16|this[ge+2]<<8|this[ge+3]},y.prototype.readBigInt64LE=yr(function(ge){ge=ge>>>0,Ct(ge,"offset");const ve=this[ge],Qe=this[ge+7];(ve===void 0||Qe===void 0)&&Lt(ge,this.length-8);const bt=this[ge+4]+this[ge+5]*2**8+this[ge+6]*2**16+(Qe<<24);return(BigInt(bt)<<BigInt(32))+BigInt(ve+this[++ge]*2**8+this[++ge]*2**16+this[++ge]*2**24)}),y.prototype.readBigInt64BE=yr(function(ge){ge=ge>>>0,Ct(ge,"offset");const ve=this[ge],Qe=this[ge+7];(ve===void 0||Qe===void 0)&&Lt(ge,this.length-8);const bt=(ve<<24)+this[++ge]*2**16+this[++ge]*2**8+this[++ge];return(BigInt(bt)<<BigInt(32))+BigInt(this[++ge]*2**24+this[++ge]*2**16+this[++ge]*2**8+Qe)}),y.prototype.readFloatLE=function(ge,ve){return ge=ge>>>0,ve||ke(ge,4,this.length),r.read(this,ge,!0,23,4)},y.prototype.readFloatBE=function(ge,ve){return ge=ge>>>0,ve||ke(ge,4,this.length),r.read(this,ge,!1,23,4)},y.prototype.readDoubleLE=function(ge,ve){return ge=ge>>>0,ve||ke(ge,8,this.length),r.read(this,ge,!0,52,8)},y.prototype.readDoubleBE=function(ge,ve){return ge=ge>>>0,ve||ke(ge,8,this.length),r.read(this,ge,!1,52,8)};function Oe(Be,ge,ve,Qe,bt,It){if(!y.isBuffer(Be))throw new TypeError('"buffer" argument must be a Buffer instance');if(ge>bt||ge<It)throw new RangeError('"value" argument is out of bounds');if(ve+Qe>Be.length)throw new RangeError("Index out of range")}y.prototype.writeUintLE=y.prototype.writeUIntLE=function(ge,ve,Qe,bt){if(ge=+ge,ve=ve>>>0,Qe=Qe>>>0,!bt){const fn=Math.pow(2,8*Qe)-1;Oe(this,ge,ve,Qe,fn,0)}let It=1,Tt=0;for(this[ve]=ge&255;++Tt<Qe&&(It*=256);)this[ve+Tt]=ge/It&255;return ve+Qe},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(ge,ve,Qe,bt){if(ge=+ge,ve=ve>>>0,Qe=Qe>>>0,!bt){const fn=Math.pow(2,8*Qe)-1;Oe(this,ge,ve,Qe,fn,0)}let It=Qe-1,Tt=1;for(this[ve+It]=ge&255;--It>=0&&(Tt*=256);)this[ve+It]=ge/Tt&255;return ve+Qe},y.prototype.writeUint8=y.prototype.writeUInt8=function(ge,ve,Qe){return ge=+ge,ve=ve>>>0,Qe||Oe(this,ge,ve,1,255,0),this[ve]=ge&255,ve+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(ge,ve,Qe){return ge=+ge,ve=ve>>>0,Qe||Oe(this,ge,ve,2,65535,0),this[ve]=ge&255,this[ve+1]=ge>>>8,ve+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(ge,ve,Qe){return ge=+ge,ve=ve>>>0,Qe||Oe(this,ge,ve,2,65535,0),this[ve]=ge>>>8,this[ve+1]=ge&255,ve+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(ge,ve,Qe){return ge=+ge,ve=ve>>>0,Qe||Oe(this,ge,ve,4,4294967295,0),this[ve+3]=ge>>>24,this[ve+2]=ge>>>16,this[ve+1]=ge>>>8,this[ve]=ge&255,ve+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(ge,ve,Qe){return ge=+ge,ve=ve>>>0,Qe||Oe(this,ge,ve,4,4294967295,0),this[ve]=ge>>>24,this[ve+1]=ge>>>16,this[ve+2]=ge>>>8,this[ve+3]=ge&255,ve+4};function Se(Be,ge,ve,Qe,bt){At(ge,Qe,bt,Be,ve,7);let It=Number(ge&BigInt(4294967295));Be[ve++]=It,It=It>>8,Be[ve++]=It,It=It>>8,Be[ve++]=It,It=It>>8,Be[ve++]=It;let Tt=Number(ge>>BigInt(32)&BigInt(4294967295));return Be[ve++]=Tt,Tt=Tt>>8,Be[ve++]=Tt,Tt=Tt>>8,Be[ve++]=Tt,Tt=Tt>>8,Be[ve++]=Tt,ve}function We(Be,ge,ve,Qe,bt){At(ge,Qe,bt,Be,ve,7);let It=Number(ge&BigInt(4294967295));Be[ve+7]=It,It=It>>8,Be[ve+6]=It,It=It>>8,Be[ve+5]=It,It=It>>8,Be[ve+4]=It;let Tt=Number(ge>>BigInt(32)&BigInt(4294967295));return Be[ve+3]=Tt,Tt=Tt>>8,Be[ve+2]=Tt,Tt=Tt>>8,Be[ve+1]=Tt,Tt=Tt>>8,Be[ve]=Tt,ve+8}y.prototype.writeBigUInt64LE=yr(function(ge,ve=0){return Se(this,ge,ve,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=yr(function(ge,ve=0){return We(this,ge,ve,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(ge,ve,Qe,bt){if(ge=+ge,ve=ve>>>0,!bt){const Mr=Math.pow(2,8*Qe-1);Oe(this,ge,ve,Qe,Mr-1,-Mr)}let It=0,Tt=1,fn=0;for(this[ve]=ge&255;++It<Qe&&(Tt*=256);)ge<0&&fn===0&&this[ve+It-1]!==0&&(fn=1),this[ve+It]=(ge/Tt>>0)-fn&255;return ve+Qe},y.prototype.writeIntBE=function(ge,ve,Qe,bt){if(ge=+ge,ve=ve>>>0,!bt){const Mr=Math.pow(2,8*Qe-1);Oe(this,ge,ve,Qe,Mr-1,-Mr)}let It=Qe-1,Tt=1,fn=0;for(this[ve+It]=ge&255;--It>=0&&(Tt*=256);)ge<0&&fn===0&&this[ve+It+1]!==0&&(fn=1),this[ve+It]=(ge/Tt>>0)-fn&255;return ve+Qe},y.prototype.writeInt8=function(ge,ve,Qe){return ge=+ge,ve=ve>>>0,Qe||Oe(this,ge,ve,1,127,-128),ge<0&&(ge=255+ge+1),this[ve]=ge&255,ve+1},y.prototype.writeInt16LE=function(ge,ve,Qe){return ge=+ge,ve=ve>>>0,Qe||Oe(this,ge,ve,2,32767,-32768),this[ve]=ge&255,this[ve+1]=ge>>>8,ve+2},y.prototype.writeInt16BE=function(ge,ve,Qe){return ge=+ge,ve=ve>>>0,Qe||Oe(this,ge,ve,2,32767,-32768),this[ve]=ge>>>8,this[ve+1]=ge&255,ve+2},y.prototype.writeInt32LE=function(ge,ve,Qe){return ge=+ge,ve=ve>>>0,Qe||Oe(this,ge,ve,4,2147483647,-2147483648),this[ve]=ge&255,this[ve+1]=ge>>>8,this[ve+2]=ge>>>16,this[ve+3]=ge>>>24,ve+4},y.prototype.writeInt32BE=function(ge,ve,Qe){return ge=+ge,ve=ve>>>0,Qe||Oe(this,ge,ve,4,2147483647,-2147483648),ge<0&&(ge=4294967295+ge+1),this[ve]=ge>>>24,this[ve+1]=ge>>>16,this[ve+2]=ge>>>8,this[ve+3]=ge&255,ve+4},y.prototype.writeBigInt64LE=yr(function(ge,ve=0){return Se(this,ge,ve,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=yr(function(ge,ve=0){return We(this,ge,ve,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Je(Be,ge,ve,Qe,bt,It){if(ve+Qe>Be.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("Index out of range")}function $e(Be,ge,ve,Qe,bt){return ge=+ge,ve=ve>>>0,bt||Je(Be,ge,ve,4),r.write(Be,ge,ve,Qe,23,4),ve+4}y.prototype.writeFloatLE=function(ge,ve,Qe){return $e(this,ge,ve,!0,Qe)},y.prototype.writeFloatBE=function(ge,ve,Qe){return $e(this,ge,ve,!1,Qe)};function ft(Be,ge,ve,Qe,bt){return ge=+ge,ve=ve>>>0,bt||Je(Be,ge,ve,8),r.write(Be,ge,ve,Qe,52,8),ve+8}y.prototype.writeDoubleLE=function(ge,ve,Qe){return ft(this,ge,ve,!0,Qe)},y.prototype.writeDoubleBE=function(ge,ve,Qe){return ft(this,ge,ve,!1,Qe)},y.prototype.copy=function(ge,ve,Qe,bt){if(!y.isBuffer(ge))throw new TypeError("argument should be a Buffer");if(Qe||(Qe=0),!bt&&bt!==0&&(bt=this.length),ve>=ge.length&&(ve=ge.length),ve||(ve=0),bt>0&&bt<Qe&&(bt=Qe),bt===Qe||ge.length===0||this.length===0)return 0;if(ve<0)throw new RangeError("targetStart out of bounds");if(Qe<0||Qe>=this.length)throw new RangeError("Index out of range");if(bt<0)throw new RangeError("sourceEnd out of bounds");bt>this.length&&(bt=this.length),ge.length-ve<bt-Qe&&(bt=ge.length-ve+Qe);const It=bt-Qe;return this===ge&&typeof s.prototype.copyWithin=="function"?this.copyWithin(ve,Qe,bt):s.prototype.set.call(ge,this.subarray(Qe,bt),ve),It},y.prototype.fill=function(ge,ve,Qe,bt){if(typeof ge=="string"){if(typeof ve=="string"?(bt=ve,ve=0,Qe=this.length):typeof Qe=="string"&&(bt=Qe,Qe=this.length),bt!==void 0&&typeof bt!="string")throw new TypeError("encoding must be a string");if(typeof bt=="string"&&!y.isEncoding(bt))throw new TypeError("Unknown encoding: "+bt);if(ge.length===1){const Tt=ge.charCodeAt(0);(bt==="utf8"&&Tt<128||bt==="latin1")&&(ge=Tt)}}else typeof ge=="number"?ge=ge&255:typeof ge=="boolean"&&(ge=Number(ge));if(ve<0||this.length<ve||this.length<Qe)throw new RangeError("Out of range index");if(Qe<=ve)return this;ve=ve>>>0,Qe=Qe===void 0?this.length:Qe>>>0,ge||(ge=0);let It;if(typeof ge=="number")for(It=ve;It<Qe;++It)this[It]=ge;else{const Tt=y.isBuffer(ge)?ge:y.from(ge,bt),fn=Tt.length;if(fn===0)throw new TypeError('The value "'+ge+'" is invalid for argument "value"');for(It=0;It<Qe-ve;++It)this[It+ve]=Tt[It%fn]}return this};const Me={};function Te(Be,ge,ve){Me[Be]=class extends ve{constructor(){super(),Object.defineProperty(this,"message",{value:ge.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Be}]`,this.stack,delete this.name}get code(){return Be}set code(bt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:bt,writable:!0})}toString(){return`${this.name} [${Be}]: ${this.message}`}}}Te("ERR_BUFFER_OUT_OF_BOUNDS",function(Be){return Be?`${Be} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Te("ERR_INVALID_ARG_TYPE",function(Be,ge){return`The "${Be}" argument must be of type number. Received type ${typeof ge}`},TypeError),Te("ERR_OUT_OF_RANGE",function(Be,ge,ve){let Qe=`The value of "${Be}" is out of range.`,bt=ve;return Number.isInteger(ve)&&Math.abs(ve)>2**32?bt=Le(String(ve)):typeof ve=="bigint"&&(bt=String(ve),(ve>BigInt(2)**BigInt(32)||ve<-(BigInt(2)**BigInt(32)))&&(bt=Le(bt)),bt+="n"),Qe+=` It must be ${ge}. Received ${bt}`,Qe},RangeError);function Le(Be){let ge="",ve=Be.length;const Qe=Be[0]==="-"?1:0;for(;ve>=Qe+4;ve-=3)ge=`_${Be.slice(ve-3,ve)}${ge}`;return`${Be.slice(0,ve)}${ge}`}function Ne(Be,ge,ve){Ct(ge,"offset"),(Be[ge]===void 0||Be[ge+ve]===void 0)&&Lt(ge,Be.length-(ve+1))}function At(Be,ge,ve,Qe,bt,It){if(Be>ve||Be<ge){const Tt=typeof ge=="bigint"?"n":"";let fn;throw ge===0||ge===BigInt(0)?fn=`>= 0${Tt} and < 2${Tt} ** ${(It+1)*8}${Tt}`:fn=`>= -(2${Tt} ** ${(It+1)*8-1}${Tt}) and < 2 ** ${(It+1)*8-1}${Tt}`,new Me.ERR_OUT_OF_RANGE("value",fn,Be)}Ne(Qe,bt,It)}function Ct(Be,ge){if(typeof Be!="number")throw new Me.ERR_INVALID_ARG_TYPE(ge,"number",Be)}function Lt(Be,ge,ve){throw Math.floor(Be)!==Be?(Ct(Be,ve),new Me.ERR_OUT_OF_RANGE("offset","an integer",Be)):ge<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${ge}`,Be)}const sr=/[^+/0-9A-Za-z-_]/g;function Bt(Be){if(Be=Be.split("=")[0],Be=Be.trim().replace(sr,""),Be.length<2)return"";for(;Be.length%4!==0;)Be=Be+"=";return Be}function tr(Be,ge){ge=ge||1/0;let ve;const Qe=Be.length;let bt=null;const It=[];for(let Tt=0;Tt<Qe;++Tt){if(ve=Be.charCodeAt(Tt),ve>55295&&ve<57344){if(!bt){if(ve>56319){(ge-=3)>-1&&It.push(239,191,189);continue}else if(Tt+1===Qe){(ge-=3)>-1&&It.push(239,191,189);continue}bt=ve;continue}if(ve<56320){(ge-=3)>-1&&It.push(239,191,189),bt=ve;continue}ve=(bt-55296<<10|ve-56320)+65536}else bt&&(ge-=3)>-1&&It.push(239,191,189);if(bt=null,ve<128){if((ge-=1)<0)break;It.push(ve)}else if(ve<2048){if((ge-=2)<0)break;It.push(ve>>6|192,ve&63|128)}else if(ve<65536){if((ge-=3)<0)break;It.push(ve>>12|224,ve>>6&63|128,ve&63|128)}else if(ve<1114112){if((ge-=4)<0)break;It.push(ve>>18|240,ve>>12&63|128,ve>>6&63|128,ve&63|128)}else throw new Error("Invalid code point")}return It}function Xt(Be){const ge=[];for(let ve=0;ve<Be.length;++ve)ge.push(Be.charCodeAt(ve)&255);return ge}function xn(Be,ge){let ve,Qe,bt;const It=[];for(let Tt=0;Tt<Be.length&&!((ge-=2)<0);++Tt)ve=Be.charCodeAt(Tt),Qe=ve>>8,bt=ve%256,It.push(bt),It.push(Qe);return It}function Nr(Be){return t.toByteArray(Bt(Be))}function gt(Be,ge,ve,Qe){let bt;for(bt=0;bt<Qe&&!(bt+ve>=ge.length||bt>=Be.length);++bt)ge[bt+ve]=Be[bt];return bt}function kt(Be,ge){return Be instanceof ge||Be!=null&&Be.constructor!=null&&Be.constructor.name!=null&&Be.constructor.name===ge.name}function Zt(Be){return Be!==Be}const ur=function(){const Be="0123456789abcdef",ge=new Array(256);for(let ve=0;ve<16;++ve){const Qe=ve*16;for(let bt=0;bt<16;++bt)ge[Qe+bt]=Be[ve]+Be[bt]}return ge}();function yr(Be){return typeof BigInt>"u"?kr:Be}function kr(){throw new Error("BigInt not supported")}})(zo);const Nn=zo.Buffer,jCe=zo.Blob,VCe=zo.BlobOptions,Qn=zo.Buffer,UCe=zo.File,WCe=zo.FileOptions,KCe=zo.INSPECT_MAX_BYTES,HCe=zo.SlowBuffer,GCe=zo.TranscodeEncoding,qCe=zo.atob,ZCe=zo.btoa,XCe=zo.constants,YCe=zo.isAscii,JCe=zo.isUtf8,QCe=zo.kMaxLength,eIe=zo.kStringMaxLength,tIe=zo.resolveObjectURL,rIe=zo.transcode,nIe=Object.freeze(Object.defineProperty({__proto__:null,Blob:jCe,BlobOptions:VCe,Buffer:Qn,File:UCe,FileOptions:WCe,INSPECT_MAX_BYTES:KCe,SlowBuffer:HCe,TranscodeEncoding:GCe,atob:qCe,btoa:ZCe,constants:XCe,default:Nn,isAscii:YCe,isUtf8:JCe,kMaxLength:QCe,kStringMaxLength:eIe,resolveObjectURL:tIe,transcode:rIe},Symbol.toStringTag,{value:"Module"}));function nP(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function iIe(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Q8(e,...t){if(!iIe(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function aIe(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");nP(e.outputLen),nP(e.blockLen)}function Px(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function uhe(e,t){Q8(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const k_=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oIe=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),KR=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Wd=(e,t)=>e<<32-t|e>>>t,dee=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,sIe=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function fee(e){for(let t=0;t<e.length;t++)e[t]=sIe(e[t])}function lIe(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function e9(e){return typeof e=="string"&&(e=lIe(e)),Q8(e),e}function uIe(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];Q8(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}let nW=class{clone(){return this._cloneInto()}};function iW(e){const t=n=>e().update(e9(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function cIe(e){const t=(n,i)=>e(i).update(e9(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function che(e=32){if(k_&&typeof k_.getRandomValues=="function")return k_.getRandomValues(new Uint8Array(e));if(k_&&typeof k_.randomBytes=="function")return k_.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function dIe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),c=Number(r>>i&s),p=Number(r&s),o=n?4:0,g=n?0:4;e.setUint32(t+o,c,n),e.setUint32(t+g,p,n)}const fIe=(e,t,r)=>e&t^~e&r,pIe=(e,t,r)=>e&t^e&r^t&r;class dhe extends nW{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=KR(this.buffer)}update(t){Px(this);const{view:r,buffer:n,blockLen:i}=this;t=e9(t);const s=t.length;for(let c=0;c<s;){const p=Math.min(i-this.pos,s-c);if(p===i){const o=KR(t);for(;i<=s-c;c+=i)this.process(o,c);continue}n.set(t.subarray(c,c+p),this.pos),this.pos+=p,c+=p,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Px(this),uhe(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:c}=this;r[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(n,0),c=0);for(let x=c;x<i;x++)r[x]=0;dIe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const p=KR(t),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=o/4,y=this.get();if(g>y.length)throw new Error("_sha2: outputLen bigger than state");for(let x=0;x<g;x++)p.setUint32(4*x,y[x],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:c,pos:p}=this;return t.length=i,t.pos=p,t.finished=s,t.destroyed=c,i%r&&t.buffer.set(n),t}}const CE=BigInt(2**32-1),fN=BigInt(32);function fhe(e,t=!1){return t?{h:Number(e&CE),l:Number(e>>fN&CE)}:{h:Number(e>>fN&CE)|0,l:Number(e&CE)|0}}function phe(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:c}=fhe(e[i],t);[r[i],n[i]]=[s,c]}return[r,n]}const hIe=(e,t)=>BigInt(e>>>0)<<fN|BigInt(t>>>0),mIe=(e,t,r)=>e>>>r,gIe=(e,t,r)=>e<<32-r|t>>>r,yIe=(e,t,r)=>e>>>r|t<<32-r,vIe=(e,t,r)=>e<<32-r|t>>>r,_Ie=(e,t,r)=>e<<64-r|t>>>r-32,bIe=(e,t,r)=>e>>>r-32|t<<64-r,xIe=(e,t)=>t,wIe=(e,t)=>e,hhe=(e,t,r)=>e<<r|t>>>32-r,mhe=(e,t,r)=>t<<r|e>>>32-r,ghe=(e,t,r)=>t<<r-32|e>>>64-r,yhe=(e,t,r)=>e<<r-32|t>>>64-r;function SIe(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const EIe=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),AIe=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,TIe=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),PIe=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,CIe=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),IIe=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,ii={fromBig:fhe,split:phe,toBig:hIe,shrSH:mIe,shrSL:gIe,rotrSH:yIe,rotrSL:vIe,rotrBH:_Ie,rotrBL:bIe,rotr32H:xIe,rotr32L:wIe,rotlSH:hhe,rotlSL:mhe,rotlBH:ghe,rotlBL:yhe,add:SIe,add3L:EIe,add3H:AIe,add4L:TIe,add4H:PIe,add5H:IIe,add5L:CIe},[MIe,kIe]=ii.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),bm=new Uint32Array(80),xm=new Uint32Array(80);class OIe extends dhe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:s,Cl:c,Dh:p,Dl:o,Eh:g,El:y,Fh:x,Fl:E,Gh:A,Gl:M,Hh:R,Hl:k}=this;return[t,r,n,i,s,c,p,o,g,y,x,E,A,M,R,k]}set(t,r,n,i,s,c,p,o,g,y,x,E,A,M,R,k){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=c|0,this.Dh=p|0,this.Dl=o|0,this.Eh=g|0,this.El=y|0,this.Fh=x|0,this.Fl=E|0,this.Gh=A|0,this.Gl=M|0,this.Hh=R|0,this.Hl=k|0}process(t,r){for(let B=0;B<16;B++,r+=4)bm[B]=t.getUint32(r),xm[B]=t.getUint32(r+=4);for(let B=16;B<80;B++){const V=bm[B-15]|0,U=xm[B-15]|0,Z=ii.rotrSH(V,U,1)^ii.rotrSH(V,U,8)^ii.shrSH(V,U,7),ne=ii.rotrSL(V,U,1)^ii.rotrSL(V,U,8)^ii.shrSL(V,U,7),j=bm[B-2]|0,fe=xm[B-2]|0,be=ii.rotrSH(j,fe,19)^ii.rotrBH(j,fe,61)^ii.shrSH(j,fe,6),pe=ii.rotrSL(j,fe,19)^ii.rotrBL(j,fe,61)^ii.shrSL(j,fe,6),le=ii.add4L(ne,pe,xm[B-7],xm[B-16]),G=ii.add4H(le,Z,be,bm[B-7],bm[B-16]);bm[B]=G|0,xm[B]=le|0}let{Ah:n,Al:i,Bh:s,Bl:c,Ch:p,Cl:o,Dh:g,Dl:y,Eh:x,El:E,Fh:A,Fl:M,Gh:R,Gl:k,Hh:D,Hl:$}=this;for(let B=0;B<80;B++){const V=ii.rotrSH(x,E,14)^ii.rotrSH(x,E,18)^ii.rotrBH(x,E,41),U=ii.rotrSL(x,E,14)^ii.rotrSL(x,E,18)^ii.rotrBL(x,E,41),Z=x&A^~x&R,ne=E&M^~E&k,j=ii.add5L($,U,ne,kIe[B],xm[B]),fe=ii.add5H(j,D,V,Z,MIe[B],bm[B]),be=j|0,pe=ii.rotrSH(n,i,28)^ii.rotrBH(n,i,34)^ii.rotrBH(n,i,39),le=ii.rotrSL(n,i,28)^ii.rotrBL(n,i,34)^ii.rotrBL(n,i,39),G=n&s^n&p^s&p,N=i&c^i&o^c&o;D=R|0,$=k|0,R=A|0,k=M|0,A=x|0,M=E|0,{h:x,l:E}=ii.add(g|0,y|0,fe|0,be|0),g=p|0,y=o|0,p=s|0,o=c|0,s=n|0,c=i|0;const Y=ii.add3L(be,le,N);n=ii.add3H(Y,fe,pe,G),i=Y|0}({h:n,l:i}=ii.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:c}=ii.add(this.Bh|0,this.Bl|0,s|0,c|0),{h:p,l:o}=ii.add(this.Ch|0,this.Cl|0,p|0,o|0),{h:g,l:y}=ii.add(this.Dh|0,this.Dl|0,g|0,y|0),{h:x,l:E}=ii.add(this.Eh|0,this.El|0,x|0,E|0),{h:A,l:M}=ii.add(this.Fh|0,this.Fl|0,A|0,M|0),{h:R,l:k}=ii.add(this.Gh|0,this.Gl|0,R|0,k|0),{h:D,l:$}=ii.add(this.Hh|0,this.Hl|0,D|0,$|0),this.set(n,i,s,c,p,o,g,y,x,E,A,M,R,k,D,$)}roundClean(){bm.fill(0),xm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const DIe=iW(()=>new OIe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aW=BigInt(0),hI=BigInt(1),RIe=BigInt(2);function vy(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function t9(e){if(!vy(e))throw new Error("Uint8Array expected")}function Up(e,t){if(typeof t!="boolean")throw new Error(`${e} must be valid boolean, got "${t}".`)}const $Ie=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _y(e){t9(e);let t="";for(let r=0;r<e.length;r++)t+=$Ie[e[r]];return t}function Tb(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function oW(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const Jf={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function pee(e){if(e>=Jf._0&&e<=Jf._9)return e-Jf._0;if(e>=Jf._A&&e<=Jf._F)return e-(Jf._A-10);if(e>=Jf._a&&e<=Jf._f)return e-(Jf._a-10)}function Cx(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const c=pee(e.charCodeAt(s)),p=pee(e.charCodeAt(s+1));if(c===void 0||p===void 0){const o=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+o+'" at index '+s)}n[i]=c*16+p}return n}function ny(e){return oW(_y(e))}function Yb(e){return t9(e),oW(_y(Uint8Array.from(e).reverse()))}function Ix(e,t){return Cx(e.toString(16).padStart(t*2,"0"))}function R5(e,t){return Ix(e,t).reverse()}function LIe(e){return Cx(Tb(e))}function Do(e,t,r){let n;if(typeof t=="string")try{n=Cx(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(vy(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function by(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];t9(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}function BIe(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function zIe(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}const HR=e=>typeof e=="bigint"&&aW<=e;function mI(e,t,r){return HR(e)&&HR(t)&&HR(r)&&t<=e&&e<r}function ac(e,t,r,n){if(!mI(t,r,n))throw new Error(`expected valid ${e}: ${r} <= n < ${n}, got ${typeof t} ${t}`)}function vhe(e){let t;for(t=0;e>aW;e>>=hI,t+=1);return t}function NIe(e,t){return e>>BigInt(t)&hI}function FIe(e,t,r){return e|(r?hI:aW)<<BigInt(t)}const sW=e=>(RIe<<BigInt(e-1))-hI,GR=e=>new Uint8Array(e),hee=e=>Uint8Array.from(e);function _he(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=GR(e),i=GR(e),s=0;const c=()=>{n.fill(1),i.fill(0),s=0},p=(...x)=>r(i,n,...x),o=(x=GR())=>{i=p(hee([0]),x),n=p(),x.length!==0&&(i=p(hee([1]),x),n=p())},g=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let x=0;const E=[];for(;x<t;){n=p();const A=n.slice();E.push(A),x+=n.length}return by(...E)};return(x,E)=>{c(),o(x);let A;for(;!(A=E(g()));)o();return c(),A}}const jIe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||vy(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function j4(e,t,r={}){const n=(i,s,c)=>{const p=jIe[s];if(typeof p!="function")throw new Error(`Invalid validator "${s}", expected function`);const o=e[i];if(!(c&&o===void 0)&&!p(o,e))throw new Error(`Invalid param ${String(i)}=${o} (${typeof o}), expected ${s}`)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}const VIe=()=>{throw new Error("not implemented")};function $5(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const s=e(r,...n);return t.set(r,s),s}}const UIe=Object.freeze(Object.defineProperty({__proto__:null,aInRange:ac,abool:Up,abytes:t9,bitGet:NIe,bitLen:vhe,bitMask:sW,bitSet:FIe,bytesToHex:_y,bytesToNumberBE:ny,bytesToNumberLE:Yb,concatBytes:by,createHmacDrbg:_he,ensureBytes:Do,equalBytes:BIe,hexToBytes:Cx,hexToNumber:oW,inRange:mI,isBytes:vy,memoized:$5,notImplemented:VIe,numberToBytesBE:Ix,numberToBytesLE:R5,numberToHexUnpadded:Tb,numberToVarBytesBE:LIe,utf8ToBytes:zIe,validateObject:j4},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qo=BigInt(0),Ua=BigInt(1),Ig=BigInt(2),WIe=BigInt(3),pN=BigInt(4),mee=BigInt(5),gee=BigInt(8);BigInt(9);BigInt(16);function Oa(e,t){const r=e%t;return r>=Qo?r:t+r}function KIe(e,t,r){if(r<=Qo||t<Qo)throw new Error("Expected power/modulo > 0");if(r===Ua)return Qo;let n=Ua;for(;t>Qo;)t&Ua&&(n=n*e%r),e=e*e%r,t>>=Ua;return n}function Xa(e,t,r){let n=e;for(;t-- >Qo;)n*=n,n%=r;return n}function hN(e,t){if(e===Qo||t<=Qo)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Oa(e,t),n=t,i=Qo,s=Ua;for(;r!==Qo;){const p=n/r,o=n%r,g=i-s*p;n=r,r=o,i=s,s=g}if(n!==Ua)throw new Error("invert: does not exist");return Oa(i,t)}function HIe(e){const t=(e-Ua)/Ig;let r,n,i;for(r=e-Ua,n=0;r%Ig===Qo;r/=Ig,n++);for(i=Ig;i<e&&KIe(i,t,e)!==e-Ua;i++);if(n===1){const c=(e+Ua)/pN;return function(o,g){const y=o.pow(g,c);if(!o.eql(o.sqr(y),g))throw new Error("Cannot find square root");return y}}const s=(r+Ua)/Ig;return function(p,o){if(p.pow(o,t)===p.neg(p.ONE))throw new Error("Cannot find square root");let g=n,y=p.pow(p.mul(p.ONE,i),r),x=p.pow(o,s),E=p.pow(o,r);for(;!p.eql(E,p.ONE);){if(p.eql(E,p.ZERO))return p.ZERO;let A=1;for(let R=p.sqr(E);A<g&&!p.eql(R,p.ONE);A++)R=p.sqr(R);const M=p.pow(y,Ua<<BigInt(g-A-1));y=p.sqr(M),x=p.mul(x,M),E=p.mul(E,y),g=A}return x}}function GIe(e){if(e%pN===WIe){const t=(e+Ua)/pN;return function(n,i){const s=n.pow(i,t);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%gee===mee){const t=(e-mee)/gee;return function(n,i){const s=n.mul(i,Ig),c=n.pow(s,t),p=n.mul(i,c),o=n.mul(n.mul(p,Ig),c),g=n.mul(p,n.sub(o,n.ONE));if(!n.eql(n.sqr(g),i))throw new Error("Cannot find square root");return g}}return HIe(e)}const qIe=(e,t)=>(Oa(e,t)&Ua)===Ua,ZIe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function XIe(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ZIe.reduce((n,i)=>(n[i]="function",n),t);return j4(e,r)}function YIe(e,t,r){if(r<Qo)throw new Error("Expected power > 0");if(r===Qo)return e.ONE;if(r===Ua)return t;let n=e.ONE,i=t;for(;r>Qo;)r&Ua&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Ua;return n}function JIe(e,t){const r=new Array(t.length),n=t.reduce((s,c,p)=>e.is0(c)?s:(r[p]=s,e.mul(s,c)),e.ONE),i=e.inv(n);return t.reduceRight((s,c,p)=>e.is0(c)?s:(r[p]=e.mul(s,r[p]),e.mul(s,c)),i),r}function bhe(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function gI(e,t,r=!1,n={}){if(e<=Qo)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=bhe(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=GIe(e),p=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:sW(i),ZERO:Qo,ONE:Ua,create:o=>Oa(o,e),isValid:o=>{if(typeof o!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof o}`);return Qo<=o&&o<e},is0:o=>o===Qo,isOdd:o=>(o&Ua)===Ua,neg:o=>Oa(-o,e),eql:(o,g)=>o===g,sqr:o=>Oa(o*o,e),add:(o,g)=>Oa(o+g,e),sub:(o,g)=>Oa(o-g,e),mul:(o,g)=>Oa(o*g,e),pow:(o,g)=>YIe(p,o,g),div:(o,g)=>Oa(o*hN(g,e),e),sqrN:o=>o*o,addN:(o,g)=>o+g,subN:(o,g)=>o-g,mulN:(o,g)=>o*g,inv:o=>hN(o,e),sqrt:n.sqrt||(o=>c(p,o)),invertBatch:o=>JIe(p,o),cmov:(o,g,y)=>y?g:o,toBytes:o=>r?R5(o,s):Ix(o,s),fromBytes:o=>{if(o.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${o.length}`);return r?Yb(o):ny(o)}});return Object.freeze(p)}function xhe(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function whe(e){const t=xhe(e);return t+Math.ceil(t/2)}function QIe(e,t,r=!1){const n=e.length,i=xhe(t),s=whe(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const c=r?ny(e):Yb(e),p=Oa(c,t-Ua)+Ua;return r?R5(p,i):Ix(p,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eMe=BigInt(0),qR=BigInt(1),ZR=new WeakMap,yee=new WeakMap;function She(e,t){const r=(s,c)=>{const p=c.negate();return s?p:c},n=s=>{if(!Number.isSafeInteger(s)||s<=0||s>t)throw new Error(`Wrong window size=${s}, should be [1..${t}]`)},i=s=>{n(s);const c=Math.ceil(t/s)+1,p=2**(s-1);return{windows:c,windowSize:p}};return{constTimeNegate:r,unsafeLadder(s,c){let p=e.ZERO,o=s;for(;c>eMe;)c&qR&&(p=p.add(o)),o=o.double(),c>>=qR;return p},precomputeWindow(s,c){const{windows:p,windowSize:o}=i(c),g=[];let y=s,x=y;for(let E=0;E<p;E++){x=y,g.push(x);for(let A=1;A<o;A++)x=x.add(y),g.push(x);y=x.double()}return g},wNAF(s,c,p){const{windows:o,windowSize:g}=i(s);let y=e.ZERO,x=e.BASE;const E=BigInt(2**s-1),A=2**s,M=BigInt(s);for(let R=0;R<o;R++){const k=R*g;let D=Number(p&E);p>>=M,D>g&&(D-=A,p+=qR);const $=k,B=k+Math.abs(D)-1,V=R%2!==0,U=D<0;D===0?x=x.add(r(V,c[$])):y=y.add(r(U,c[B]))}return{p:y,f:x}},wNAFCached(s,c,p){const o=yee.get(s)||1;let g=ZR.get(s);return g||(g=this.precomputeWindow(s,o),o!==1&&ZR.set(s,p(g))),this.wNAF(o,g,c)},setWindowSize(s,c){n(c),yee.set(s,c),ZR.delete(s)}}}function Ehe(e,t,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((y,x)=>{if(!t.isValid(y))throw new Error(`wrong scalar at index ${x}`)}),r.forEach((y,x)=>{if(!(y instanceof e))throw new Error(`wrong point at index ${x}`)});const i=vhe(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,c=(1<<s)-1,p=new Array(c+1).fill(e.ZERO),o=Math.floor((t.BITS-1)/s)*s;let g=e.ZERO;for(let y=o;y>=0;y-=s){p.fill(e.ZERO);for(let E=0;E<n.length;E++){const A=n[E],M=Number(A>>BigInt(y)&BigInt(c));p[M]=p[M].add(r[E])}let x=e.ZERO;for(let E=p.length-1,A=e.ZERO;E>0;E--)A=A.add(p[E]),x=x.add(A);if(g=g.add(x),y!==0)for(let E=0;E<s;E++)g=g.double()}return g}function lW(e){return XIe(e.Fp),j4(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bhe(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wc=BigInt(0),Ml=BigInt(1),IE=BigInt(2),tMe=BigInt(8),rMe={zip215:!0};function nMe(e){const t=lW(e);return j4(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function iMe(e){const t=nMe(e),{Fp:r,n,prehash:i,hash:s,randomBytes:c,nByteLength:p,h:o}=t,g=IE<<BigInt(p*8)-Ml,y=r.create,x=gI(t.n,t.nBitLength),E=t.uvRatio||((te,re)=>{try{return{isValid:!0,value:r.sqrt(te*r.inv(re))}}catch{return{isValid:!1,value:Wc}}}),A=t.adjustScalarBytes||(te=>te),M=t.domain||((te,re,he)=>{if(Up("phflag",he),re.length||he)throw new Error("Contexts/pre-hash are not supported");return te});function R(te,re){ac("coordinate "+te,re,Wc,g)}function k(te){if(!(te instanceof B))throw new Error("ExtendedPoint expected")}const D=$5((te,re)=>{const{ex:he,ey:we,ez:ye}=te,ue=te.is0();re==null&&(re=ue?tMe:r.inv(ye));const J=y(he*re),de=y(we*re),ke=y(ye*re);if(ue)return{x:Wc,y:Ml};if(ke!==Ml)throw new Error("invZ was invalid");return{x:J,y:de}}),$=$5(te=>{const{a:re,d:he}=t;if(te.is0())throw new Error("bad point: ZERO");const{ex:we,ey:ye,ez:ue,et:J}=te,de=y(we*we),ke=y(ye*ye),Oe=y(ue*ue),Se=y(Oe*Oe),We=y(de*re),Je=y(Oe*y(We+ke)),$e=y(Se+y(he*y(de*ke)));if(Je!==$e)throw new Error("bad point: equation left != right (1)");const ft=y(we*ye),Me=y(ue*J);if(ft!==Me)throw new Error("bad point: equation left != right (2)");return!0});class B{constructor(re,he,we,ye){this.ex=re,this.ey=he,this.ez=we,this.et=ye,R("x",re),R("y",he),R("z",we),R("t",ye),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(re){if(re instanceof B)throw new Error("extended point not allowed");const{x:he,y:we}=re||{};return R("x",he),R("y",we),new B(he,we,Ml,y(he*we))}static normalizeZ(re){const he=r.invertBatch(re.map(we=>we.ez));return re.map((we,ye)=>we.toAffine(he[ye])).map(B.fromAffine)}static msm(re,he){return Ehe(B,x,re,he)}_setWindowSize(re){Z.setWindowSize(this,re)}assertValidity(){$(this)}equals(re){k(re);const{ex:he,ey:we,ez:ye}=this,{ex:ue,ey:J,ez:de}=re,ke=y(he*de),Oe=y(ue*ye),Se=y(we*de),We=y(J*ye);return ke===Oe&&Se===We}is0(){return this.equals(B.ZERO)}negate(){return new B(y(-this.ex),this.ey,this.ez,y(-this.et))}double(){const{a:re}=t,{ex:he,ey:we,ez:ye}=this,ue=y(he*he),J=y(we*we),de=y(IE*y(ye*ye)),ke=y(re*ue),Oe=he+we,Se=y(y(Oe*Oe)-ue-J),We=ke+J,Je=We-de,$e=ke-J,ft=y(Se*Je),Me=y(We*$e),Te=y(Se*$e),Le=y(Je*We);return new B(ft,Me,Le,Te)}add(re){k(re);const{a:he,d:we}=t,{ex:ye,ey:ue,ez:J,et:de}=this,{ex:ke,ey:Oe,ez:Se,et:We}=re;if(he===BigInt(-1)){const tr=y((ue-ye)*(Oe+ke)),Xt=y((ue+ye)*(Oe-ke)),xn=y(Xt-tr);if(xn===Wc)return this.double();const Nr=y(J*IE*We),gt=y(de*IE*Se),kt=gt+Nr,Zt=Xt+tr,ur=gt-Nr,yr=y(kt*xn),kr=y(Zt*ur),Be=y(kt*ur),ge=y(xn*Zt);return new B(yr,kr,ge,Be)}const Je=y(ye*ke),$e=y(ue*Oe),ft=y(de*we*We),Me=y(J*Se),Te=y((ye+ue)*(ke+Oe)-Je-$e),Le=Me-ft,Ne=Me+ft,At=y($e-he*Je),Ct=y(Te*Le),Lt=y(Ne*At),sr=y(Te*At),Bt=y(Le*Ne);return new B(Ct,Lt,Bt,sr)}subtract(re){return this.add(re.negate())}wNAF(re){return Z.wNAFCached(this,re,B.normalizeZ)}multiply(re){const he=re;ac("scalar",he,Ml,n);const{p:we,f:ye}=this.wNAF(he);return B.normalizeZ([we,ye])[0]}multiplyUnsafe(re){const he=re;return ac("scalar",he,Wc,n),he===Wc?U:this.equals(U)||he===Ml?this:this.equals(V)?this.wNAF(he).p:Z.unsafeLadder(this,he)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return Z.unsafeLadder(this,n).is0()}toAffine(re){return D(this,re)}clearCofactor(){const{h:re}=t;return re===Ml?this:this.multiplyUnsafe(re)}static fromHex(re,he=!1){const{d:we,a:ye}=t,ue=r.BYTES;re=Do("pointHex",re,ue),Up("zip215",he);const J=re.slice(),de=re[ue-1];J[ue-1]=de&-129;const ke=Yb(J),Oe=he?g:r.ORDER;ac("pointHex.y",ke,Wc,Oe);const Se=y(ke*ke),We=y(Se-Ml),Je=y(we*Se-ye);let{isValid:$e,value:ft}=E(We,Je);if(!$e)throw new Error("Point.fromHex: invalid y coordinate");const Me=(ft&Ml)===Ml,Te=(de&128)!==0;if(!he&&ft===Wc&&Te)throw new Error("Point.fromHex: x=0 and x_0=1");return Te!==Me&&(ft=y(-ft)),B.fromAffine({x:ft,y:ke})}static fromPrivateKey(re){return fe(re).point}toRawBytes(){const{x:re,y:he}=this.toAffine(),we=R5(he,r.BYTES);return we[we.length-1]|=re&Ml?128:0,we}toHex(){return _y(this.toRawBytes())}}B.BASE=new B(t.Gx,t.Gy,Ml,y(t.Gx*t.Gy)),B.ZERO=new B(Wc,Ml,Ml,Wc);const{BASE:V,ZERO:U}=B,Z=She(B,p*8);function ne(te){return Oa(te,n)}function j(te){return ne(Yb(te))}function fe(te){const re=p;te=Do("private key",te,re);const he=Do("hashed private key",s(te),2*re),we=A(he.slice(0,re)),ye=he.slice(re,2*re),ue=j(we),J=V.multiply(ue),de=J.toRawBytes();return{head:we,prefix:ye,scalar:ue,point:J,pointBytes:de}}function be(te){return fe(te).pointBytes}function pe(te=new Uint8Array,...re){const he=by(...re);return j(s(M(he,Do("context",te),!!i)))}function le(te,re,he={}){te=Do("message",te),i&&(te=i(te));const{prefix:we,scalar:ye,pointBytes:ue}=fe(re),J=pe(he.context,we,te),de=V.multiply(J).toRawBytes(),ke=pe(he.context,de,ue,te),Oe=ne(J+ke*ye);ac("signature.s",Oe,Wc,n);const Se=by(de,R5(Oe,r.BYTES));return Do("result",Se,p*2)}const G=rMe;function N(te,re,he,we=G){const{context:ye,zip215:ue}=we,J=r.BYTES;te=Do("signature",te,2*J),re=Do("message",re),ue!==void 0&&Up("zip215",ue),i&&(re=i(re));const de=Yb(te.slice(J,2*J));let ke,Oe,Se;try{ke=B.fromHex(he,ue),Oe=B.fromHex(te.slice(0,J),ue),Se=V.multiplyUnsafe(de)}catch{return!1}if(!ue&&ke.isSmallOrder())return!1;const We=pe(ye,Oe.toRawBytes(),ke.toRawBytes(),re);return Oe.add(ke.multiplyUnsafe(We)).subtract(Se).clearCofactor().equals(B.ZERO)}return V._setWindowSize(8),{CURVE:t,getPublicKey:be,sign:le,verify:N,ExtendedPoint:B,utils:{getExtendedPublicKey:fe,randomPrivateKey:()=>c(r.BYTES),precompute(te=8,re=B.BASE){return re._setWindowSize(te),re.multiply(BigInt(3)),re}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uW=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),vee=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const aMe=BigInt(1),_ee=BigInt(2);BigInt(3);const oMe=BigInt(5),sMe=BigInt(8);function lMe(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=uW,p=e*e%s*e%s,o=Xa(p,_ee,s)*p%s,g=Xa(o,aMe,s)*e%s,y=Xa(g,oMe,s)*g%s,x=Xa(y,t,s)*y%s,E=Xa(x,r,s)*x%s,A=Xa(E,n,s)*E%s,M=Xa(A,i,s)*A%s,R=Xa(M,i,s)*A%s,k=Xa(R,t,s)*y%s;return{pow_p_5_8:Xa(k,_ee,s)*e%s,b2:p}}function uMe(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function cMe(e,t){const r=uW,n=Oa(t*t*t,r),i=Oa(n*n*t,r),s=lMe(e*i).pow_p_5_8;let c=Oa(e*n*s,r);const p=Oa(t*c*c,r),o=c,g=Oa(c*vee,r),y=p===e,x=p===Oa(-e,r),E=p===Oa(-e*vee,r);return y&&(c=o),(x||E)&&(c=g),qIe(c,r)&&(c=Oa(-c,r)),{isValid:y||x,value:c}}const dMe=gI(uW,void 0,!0),fMe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:dMe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:sMe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:DIe,randomBytes:che,adjustScalarBytes:uMe,uvRatio:cMe},oh=iMe(fMe);var cW={exports:{}};const M1=U1(nIe);cW.exports;(function(e){(function(t,r){function n(G,N){if(!G)throw new Error(N||"Assertion failed")}function i(G,N){G.super_=N;var Y=function(){};Y.prototype=N.prototype,G.prototype=new Y,G.prototype.constructor=G}function s(G,N,Y){if(s.isBN(G))return G;this.negative=0,this.words=null,this.length=0,this.red=null,G!==null&&((N==="le"||N==="be")&&(Y=N,N=10),this._init(G||0,N||10,Y||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=M1.Buffer}catch{}s.isBN=function(N){return N instanceof s?!0:N!==null&&typeof N=="object"&&N.constructor.wordSize===s.wordSize&&Array.isArray(N.words)},s.max=function(N,Y){return N.cmp(Y)>0?N:Y},s.min=function(N,Y){return N.cmp(Y)<0?N:Y},s.prototype._init=function(N,Y,te){if(typeof N=="number")return this._initNumber(N,Y,te);if(typeof N=="object")return this._initArray(N,Y,te);Y==="hex"&&(Y=16),n(Y===(Y|0)&&Y>=2&&Y<=36),N=N.toString().replace(/\s+/g,"");var re=0;N[0]==="-"&&(re++,this.negative=1),re<N.length&&(Y===16?this._parseHex(N,re,te):(this._parseBase(N,Y,re),te==="le"&&this._initArray(this.toArray(),Y,te)))},s.prototype._initNumber=function(N,Y,te){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[N&67108863],this.length=1):N<4503599627370496?(this.words=[N&67108863,N/67108864&67108863],this.length=2):(n(N<9007199254740992),this.words=[N&67108863,N/67108864&67108863,1],this.length=3),te==="le"&&this._initArray(this.toArray(),Y,te)},s.prototype._initArray=function(N,Y,te){if(n(typeof N.length=="number"),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var re=0;re<this.length;re++)this.words[re]=0;var he,we,ye=0;if(te==="be")for(re=N.length-1,he=0;re>=0;re-=3)we=N[re]|N[re-1]<<8|N[re-2]<<16,this.words[he]|=we<<ye&67108863,this.words[he+1]=we>>>26-ye&67108863,ye+=24,ye>=26&&(ye-=26,he++);else if(te==="le")for(re=0,he=0;re<N.length;re+=3)we=N[re]|N[re+1]<<8|N[re+2]<<16,this.words[he]|=we<<ye&67108863,this.words[he+1]=we>>>26-ye&67108863,ye+=24,ye>=26&&(ye-=26,he++);return this._strip()};function p(G,N){var Y=G.charCodeAt(N);if(Y>=48&&Y<=57)return Y-48;if(Y>=65&&Y<=70)return Y-55;if(Y>=97&&Y<=102)return Y-87;n(!1,"Invalid character in "+G)}function o(G,N,Y){var te=p(G,Y);return Y-1>=N&&(te|=p(G,Y-1)<<4),te}s.prototype._parseHex=function(N,Y,te){this.length=Math.ceil((N.length-Y)/6),this.words=new Array(this.length);for(var re=0;re<this.length;re++)this.words[re]=0;var he=0,we=0,ye;if(te==="be")for(re=N.length-1;re>=Y;re-=2)ye=o(N,Y,re)<<he,this.words[we]|=ye&67108863,he>=18?(he-=18,we+=1,this.words[we]|=ye>>>26):he+=8;else{var ue=N.length-Y;for(re=ue%2===0?Y+1:Y;re<N.length;re+=2)ye=o(N,Y,re)<<he,this.words[we]|=ye&67108863,he>=18?(he-=18,we+=1,this.words[we]|=ye>>>26):he+=8}this._strip()};function g(G,N,Y,te){for(var re=0,he=0,we=Math.min(G.length,Y),ye=N;ye<we;ye++){var ue=G.charCodeAt(ye)-48;re*=te,ue>=49?he=ue-49+10:ue>=17?he=ue-17+10:he=ue,n(ue>=0&&he<te,"Invalid character"),re+=he}return re}s.prototype._parseBase=function(N,Y,te){this.words=[0],this.length=1;for(var re=0,he=1;he<=67108863;he*=Y)re++;re--,he=he/Y|0;for(var we=N.length-te,ye=we%re,ue=Math.min(we,we-ye)+te,J=0,de=te;de<ue;de+=re)J=g(N,de,de+re,Y),this.imuln(he),this.words[0]+J<67108864?this.words[0]+=J:this._iaddn(J);if(ye!==0){var ke=1;for(J=g(N,de,N.length,Y),de=0;de<ye;de++)ke*=Y;this.imuln(ke),this.words[0]+J<67108864?this.words[0]+=J:this._iaddn(J)}this._strip()},s.prototype.copy=function(N){N.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)N.words[Y]=this.words[Y];N.length=this.length,N.negative=this.negative,N.red=this.red};function y(G,N){G.words=N.words,G.length=N.length,G.negative=N.negative,G.red=N.red}if(s.prototype._move=function(N){y(N,this)},s.prototype.clone=function(){var N=new s(null);return this.copy(N),N},s.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{s.prototype.inspect=x}else s.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(N,Y){N=N||10,Y=Y|0||1;var te;if(N===16||N==="hex"){te="";for(var re=0,he=0,we=0;we<this.length;we++){var ye=this.words[we],ue=((ye<<re|he)&16777215).toString(16);he=ye>>>24-re&16777215,re+=2,re>=26&&(re-=26,we--),he!==0||we!==this.length-1?te=E[6-ue.length]+ue+te:te=ue+te}for(he!==0&&(te=he.toString(16)+te);te.length%Y!==0;)te="0"+te;return this.negative!==0&&(te="-"+te),te}if(N===(N|0)&&N>=2&&N<=36){var J=A[N],de=M[N];te="";var ke=this.clone();for(ke.negative=0;!ke.isZero();){var Oe=ke.modrn(de).toString(N);ke=ke.idivn(de),ke.isZero()?te=Oe+te:te=E[J-Oe.length]+Oe+te}for(this.isZero()&&(te="0"+te);te.length%Y!==0;)te="0"+te;return this.negative!==0&&(te="-"+te),te}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var N=this.words[0];return this.length===2?N+=this.words[1]*67108864:this.length===3&&this.words[2]===1?N+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-N:N},s.prototype.toJSON=function(){return this.toString(16,2)},c&&(s.prototype.toBuffer=function(N,Y){return this.toArrayLike(c,N,Y)}),s.prototype.toArray=function(N,Y){return this.toArrayLike(Array,N,Y)};var R=function(N,Y){return N.allocUnsafe?N.allocUnsafe(Y):new N(Y)};s.prototype.toArrayLike=function(N,Y,te){this._strip();var re=this.byteLength(),he=te||Math.max(1,re);n(re<=he,"byte array longer than desired length"),n(he>0,"Requested array length <= 0");var we=R(N,he),ye=Y==="le"?"LE":"BE";return this["_toArrayLike"+ye](we,re),we},s.prototype._toArrayLikeLE=function(N,Y){for(var te=0,re=0,he=0,we=0;he<this.length;he++){var ye=this.words[he]<<we|re;N[te++]=ye&255,te<N.length&&(N[te++]=ye>>8&255),te<N.length&&(N[te++]=ye>>16&255),we===6?(te<N.length&&(N[te++]=ye>>24&255),re=0,we=0):(re=ye>>>24,we+=2)}if(te<N.length)for(N[te++]=re;te<N.length;)N[te++]=0},s.prototype._toArrayLikeBE=function(N,Y){for(var te=N.length-1,re=0,he=0,we=0;he<this.length;he++){var ye=this.words[he]<<we|re;N[te--]=ye&255,te>=0&&(N[te--]=ye>>8&255),te>=0&&(N[te--]=ye>>16&255),we===6?(te>=0&&(N[te--]=ye>>24&255),re=0,we=0):(re=ye>>>24,we+=2)}if(te>=0)for(N[te--]=re;te>=0;)N[te--]=0},Math.clz32?s.prototype._countBits=function(N){return 32-Math.clz32(N)}:s.prototype._countBits=function(N){var Y=N,te=0;return Y>=4096&&(te+=13,Y>>>=13),Y>=64&&(te+=7,Y>>>=7),Y>=8&&(te+=4,Y>>>=4),Y>=2&&(te+=2,Y>>>=2),te+Y},s.prototype._zeroBits=function(N){if(N===0)return 26;var Y=N,te=0;return Y&8191||(te+=13,Y>>>=13),Y&127||(te+=7,Y>>>=7),Y&15||(te+=4,Y>>>=4),Y&3||(te+=2,Y>>>=2),Y&1||te++,te},s.prototype.bitLength=function(){var N=this.words[this.length-1],Y=this._countBits(N);return(this.length-1)*26+Y};function k(G){for(var N=new Array(G.bitLength()),Y=0;Y<N.length;Y++){var te=Y/26|0,re=Y%26;N[Y]=G.words[te]>>>re&1}return N}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,Y=0;Y<this.length;Y++){var te=this._zeroBits(this.words[Y]);if(N+=te,te!==26)break}return N},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(N){return this.negative!==0?this.abs().inotn(N).iaddn(1):this.clone()},s.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var Y=0;Y<N.length;Y++)this.words[Y]=this.words[Y]|N.words[Y];return this._strip()},s.prototype.ior=function(N){return n((this.negative|N.negative)===0),this.iuor(N)},s.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},s.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},s.prototype.iuand=function(N){var Y;this.length>N.length?Y=N:Y=this;for(var te=0;te<Y.length;te++)this.words[te]=this.words[te]&N.words[te];return this.length=Y.length,this._strip()},s.prototype.iand=function(N){return n((this.negative|N.negative)===0),this.iuand(N)},s.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},s.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},s.prototype.iuxor=function(N){var Y,te;this.length>N.length?(Y=this,te=N):(Y=N,te=this);for(var re=0;re<te.length;re++)this.words[re]=Y.words[re]^te.words[re];if(this!==Y)for(;re<Y.length;re++)this.words[re]=Y.words[re];return this.length=Y.length,this._strip()},s.prototype.ixor=function(N){return n((this.negative|N.negative)===0),this.iuxor(N)},s.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},s.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},s.prototype.inotn=function(N){n(typeof N=="number"&&N>=0);var Y=Math.ceil(N/26)|0,te=N%26;this._expand(Y),te>0&&Y--;for(var re=0;re<Y;re++)this.words[re]=~this.words[re]&67108863;return te>0&&(this.words[re]=~this.words[re]&67108863>>26-te),this._strip()},s.prototype.notn=function(N){return this.clone().inotn(N)},s.prototype.setn=function(N,Y){n(typeof N=="number"&&N>=0);var te=N/26|0,re=N%26;return this._expand(te+1),Y?this.words[te]=this.words[te]|1<<re:this.words[te]=this.words[te]&~(1<<re),this._strip()},s.prototype.iadd=function(N){var Y;if(this.negative!==0&&N.negative===0)return this.negative=0,Y=this.isub(N),this.negative^=1,this._normSign();if(this.negative===0&&N.negative!==0)return N.negative=0,Y=this.isub(N),N.negative=1,Y._normSign();var te,re;this.length>N.length?(te=this,re=N):(te=N,re=this);for(var he=0,we=0;we<re.length;we++)Y=(te.words[we]|0)+(re.words[we]|0)+he,this.words[we]=Y&67108863,he=Y>>>26;for(;he!==0&&we<te.length;we++)Y=(te.words[we]|0)+he,this.words[we]=Y&67108863,he=Y>>>26;if(this.length=te.length,he!==0)this.words[this.length]=he,this.length++;else if(te!==this)for(;we<te.length;we++)this.words[we]=te.words[we];return this},s.prototype.add=function(N){var Y;return N.negative!==0&&this.negative===0?(N.negative=0,Y=this.sub(N),N.negative^=1,Y):N.negative===0&&this.negative!==0?(this.negative=0,Y=N.sub(this),this.negative=1,Y):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},s.prototype.isub=function(N){if(N.negative!==0){N.negative=0;var Y=this.iadd(N);return N.negative=1,Y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var te=this.cmp(N);if(te===0)return this.negative=0,this.length=1,this.words[0]=0,this;var re,he;te>0?(re=this,he=N):(re=N,he=this);for(var we=0,ye=0;ye<he.length;ye++)Y=(re.words[ye]|0)-(he.words[ye]|0)+we,we=Y>>26,this.words[ye]=Y&67108863;for(;we!==0&&ye<re.length;ye++)Y=(re.words[ye]|0)+we,we=Y>>26,this.words[ye]=Y&67108863;if(we===0&&ye<re.length&&re!==this)for(;ye<re.length;ye++)this.words[ye]=re.words[ye];return this.length=Math.max(this.length,ye),re!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(N){return this.clone().isub(N)};function D(G,N,Y){Y.negative=N.negative^G.negative;var te=G.length+N.length|0;Y.length=te,te=te-1|0;var re=G.words[0]|0,he=N.words[0]|0,we=re*he,ye=we&67108863,ue=we/67108864|0;Y.words[0]=ye;for(var J=1;J<te;J++){for(var de=ue>>>26,ke=ue&67108863,Oe=Math.min(J,N.length-1),Se=Math.max(0,J-G.length+1);Se<=Oe;Se++){var We=J-Se|0;re=G.words[We]|0,he=N.words[Se]|0,we=re*he+ke,de+=we/67108864|0,ke=we&67108863}Y.words[J]=ke|0,ue=de|0}return ue!==0?Y.words[J]=ue|0:Y.length--,Y._strip()}var $=function(N,Y,te){var re=N.words,he=Y.words,we=te.words,ye=0,ue,J,de,ke=re[0]|0,Oe=ke&8191,Se=ke>>>13,We=re[1]|0,Je=We&8191,$e=We>>>13,ft=re[2]|0,Me=ft&8191,Te=ft>>>13,Le=re[3]|0,Ne=Le&8191,At=Le>>>13,Ct=re[4]|0,Lt=Ct&8191,sr=Ct>>>13,Bt=re[5]|0,tr=Bt&8191,Xt=Bt>>>13,xn=re[6]|0,Nr=xn&8191,gt=xn>>>13,kt=re[7]|0,Zt=kt&8191,ur=kt>>>13,yr=re[8]|0,kr=yr&8191,Be=yr>>>13,ge=re[9]|0,ve=ge&8191,Qe=ge>>>13,bt=he[0]|0,It=bt&8191,Tt=bt>>>13,fn=he[1]|0,Mr=fn&8191,Hr=fn>>>13,li=he[2]|0,Ir=li&8191,Li=li>>>13,Iu=he[3]|0,Bi=Iu&8191,Mi=Iu>>>13,Gl=he[4]|0,zi=Gl&8191,Pi=Gl>>>13,ql=he[5]|0,ui=ql&8191,Ji=ql>>>13,ln=he[6]|0,jn=ln&8191,Qi=ln>>>13,Mu=he[7]|0,Gi=Mu&8191,Kn=Mu>>>13,Ed=he[8]|0,it=Ed&8191,xe=Ed>>>13,Ce=he[9]|0,je=Ce&8191,et=Ce>>>13;te.negative=N.negative^Y.negative,te.length=19,ue=Math.imul(Oe,It),J=Math.imul(Oe,Tt),J=J+Math.imul(Se,It)|0,de=Math.imul(Se,Tt);var tt=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(tt>>>26)|0,tt&=67108863,ue=Math.imul(Je,It),J=Math.imul(Je,Tt),J=J+Math.imul($e,It)|0,de=Math.imul($e,Tt),ue=ue+Math.imul(Oe,Mr)|0,J=J+Math.imul(Oe,Hr)|0,J=J+Math.imul(Se,Mr)|0,de=de+Math.imul(Se,Hr)|0;var dt=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(dt>>>26)|0,dt&=67108863,ue=Math.imul(Me,It),J=Math.imul(Me,Tt),J=J+Math.imul(Te,It)|0,de=Math.imul(Te,Tt),ue=ue+Math.imul(Je,Mr)|0,J=J+Math.imul(Je,Hr)|0,J=J+Math.imul($e,Mr)|0,de=de+Math.imul($e,Hr)|0,ue=ue+Math.imul(Oe,Ir)|0,J=J+Math.imul(Oe,Li)|0,J=J+Math.imul(Se,Ir)|0,de=de+Math.imul(Se,Li)|0;var Et=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(Et>>>26)|0,Et&=67108863,ue=Math.imul(Ne,It),J=Math.imul(Ne,Tt),J=J+Math.imul(At,It)|0,de=Math.imul(At,Tt),ue=ue+Math.imul(Me,Mr)|0,J=J+Math.imul(Me,Hr)|0,J=J+Math.imul(Te,Mr)|0,de=de+Math.imul(Te,Hr)|0,ue=ue+Math.imul(Je,Ir)|0,J=J+Math.imul(Je,Li)|0,J=J+Math.imul($e,Ir)|0,de=de+Math.imul($e,Li)|0,ue=ue+Math.imul(Oe,Bi)|0,J=J+Math.imul(Oe,Mi)|0,J=J+Math.imul(Se,Bi)|0,de=de+Math.imul(Se,Mi)|0;var ct=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(ct>>>26)|0,ct&=67108863,ue=Math.imul(Lt,It),J=Math.imul(Lt,Tt),J=J+Math.imul(sr,It)|0,de=Math.imul(sr,Tt),ue=ue+Math.imul(Ne,Mr)|0,J=J+Math.imul(Ne,Hr)|0,J=J+Math.imul(At,Mr)|0,de=de+Math.imul(At,Hr)|0,ue=ue+Math.imul(Me,Ir)|0,J=J+Math.imul(Me,Li)|0,J=J+Math.imul(Te,Ir)|0,de=de+Math.imul(Te,Li)|0,ue=ue+Math.imul(Je,Bi)|0,J=J+Math.imul(Je,Mi)|0,J=J+Math.imul($e,Bi)|0,de=de+Math.imul($e,Mi)|0,ue=ue+Math.imul(Oe,zi)|0,J=J+Math.imul(Oe,Pi)|0,J=J+Math.imul(Se,zi)|0,de=de+Math.imul(Se,Pi)|0;var wt=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(wt>>>26)|0,wt&=67108863,ue=Math.imul(tr,It),J=Math.imul(tr,Tt),J=J+Math.imul(Xt,It)|0,de=Math.imul(Xt,Tt),ue=ue+Math.imul(Lt,Mr)|0,J=J+Math.imul(Lt,Hr)|0,J=J+Math.imul(sr,Mr)|0,de=de+Math.imul(sr,Hr)|0,ue=ue+Math.imul(Ne,Ir)|0,J=J+Math.imul(Ne,Li)|0,J=J+Math.imul(At,Ir)|0,de=de+Math.imul(At,Li)|0,ue=ue+Math.imul(Me,Bi)|0,J=J+Math.imul(Me,Mi)|0,J=J+Math.imul(Te,Bi)|0,de=de+Math.imul(Te,Mi)|0,ue=ue+Math.imul(Je,zi)|0,J=J+Math.imul(Je,Pi)|0,J=J+Math.imul($e,zi)|0,de=de+Math.imul($e,Pi)|0,ue=ue+Math.imul(Oe,ui)|0,J=J+Math.imul(Oe,Ji)|0,J=J+Math.imul(Se,ui)|0,de=de+Math.imul(Se,Ji)|0;var Wt=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,ue=Math.imul(Nr,It),J=Math.imul(Nr,Tt),J=J+Math.imul(gt,It)|0,de=Math.imul(gt,Tt),ue=ue+Math.imul(tr,Mr)|0,J=J+Math.imul(tr,Hr)|0,J=J+Math.imul(Xt,Mr)|0,de=de+Math.imul(Xt,Hr)|0,ue=ue+Math.imul(Lt,Ir)|0,J=J+Math.imul(Lt,Li)|0,J=J+Math.imul(sr,Ir)|0,de=de+Math.imul(sr,Li)|0,ue=ue+Math.imul(Ne,Bi)|0,J=J+Math.imul(Ne,Mi)|0,J=J+Math.imul(At,Bi)|0,de=de+Math.imul(At,Mi)|0,ue=ue+Math.imul(Me,zi)|0,J=J+Math.imul(Me,Pi)|0,J=J+Math.imul(Te,zi)|0,de=de+Math.imul(Te,Pi)|0,ue=ue+Math.imul(Je,ui)|0,J=J+Math.imul(Je,Ji)|0,J=J+Math.imul($e,ui)|0,de=de+Math.imul($e,Ji)|0,ue=ue+Math.imul(Oe,jn)|0,J=J+Math.imul(Oe,Qi)|0,J=J+Math.imul(Se,jn)|0,de=de+Math.imul(Se,Qi)|0;var Ut=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,ue=Math.imul(Zt,It),J=Math.imul(Zt,Tt),J=J+Math.imul(ur,It)|0,de=Math.imul(ur,Tt),ue=ue+Math.imul(Nr,Mr)|0,J=J+Math.imul(Nr,Hr)|0,J=J+Math.imul(gt,Mr)|0,de=de+Math.imul(gt,Hr)|0,ue=ue+Math.imul(tr,Ir)|0,J=J+Math.imul(tr,Li)|0,J=J+Math.imul(Xt,Ir)|0,de=de+Math.imul(Xt,Li)|0,ue=ue+Math.imul(Lt,Bi)|0,J=J+Math.imul(Lt,Mi)|0,J=J+Math.imul(sr,Bi)|0,de=de+Math.imul(sr,Mi)|0,ue=ue+Math.imul(Ne,zi)|0,J=J+Math.imul(Ne,Pi)|0,J=J+Math.imul(At,zi)|0,de=de+Math.imul(At,Pi)|0,ue=ue+Math.imul(Me,ui)|0,J=J+Math.imul(Me,Ji)|0,J=J+Math.imul(Te,ui)|0,de=de+Math.imul(Te,Ji)|0,ue=ue+Math.imul(Je,jn)|0,J=J+Math.imul(Je,Qi)|0,J=J+Math.imul($e,jn)|0,de=de+Math.imul($e,Qi)|0,ue=ue+Math.imul(Oe,Gi)|0,J=J+Math.imul(Oe,Kn)|0,J=J+Math.imul(Se,Gi)|0,de=de+Math.imul(Se,Kn)|0;var dr=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(dr>>>26)|0,dr&=67108863,ue=Math.imul(kr,It),J=Math.imul(kr,Tt),J=J+Math.imul(Be,It)|0,de=Math.imul(Be,Tt),ue=ue+Math.imul(Zt,Mr)|0,J=J+Math.imul(Zt,Hr)|0,J=J+Math.imul(ur,Mr)|0,de=de+Math.imul(ur,Hr)|0,ue=ue+Math.imul(Nr,Ir)|0,J=J+Math.imul(Nr,Li)|0,J=J+Math.imul(gt,Ir)|0,de=de+Math.imul(gt,Li)|0,ue=ue+Math.imul(tr,Bi)|0,J=J+Math.imul(tr,Mi)|0,J=J+Math.imul(Xt,Bi)|0,de=de+Math.imul(Xt,Mi)|0,ue=ue+Math.imul(Lt,zi)|0,J=J+Math.imul(Lt,Pi)|0,J=J+Math.imul(sr,zi)|0,de=de+Math.imul(sr,Pi)|0,ue=ue+Math.imul(Ne,ui)|0,J=J+Math.imul(Ne,Ji)|0,J=J+Math.imul(At,ui)|0,de=de+Math.imul(At,Ji)|0,ue=ue+Math.imul(Me,jn)|0,J=J+Math.imul(Me,Qi)|0,J=J+Math.imul(Te,jn)|0,de=de+Math.imul(Te,Qi)|0,ue=ue+Math.imul(Je,Gi)|0,J=J+Math.imul(Je,Kn)|0,J=J+Math.imul($e,Gi)|0,de=de+Math.imul($e,Kn)|0,ue=ue+Math.imul(Oe,it)|0,J=J+Math.imul(Oe,xe)|0,J=J+Math.imul(Se,it)|0,de=de+Math.imul(Se,xe)|0;var Ar=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,ue=Math.imul(ve,It),J=Math.imul(ve,Tt),J=J+Math.imul(Qe,It)|0,de=Math.imul(Qe,Tt),ue=ue+Math.imul(kr,Mr)|0,J=J+Math.imul(kr,Hr)|0,J=J+Math.imul(Be,Mr)|0,de=de+Math.imul(Be,Hr)|0,ue=ue+Math.imul(Zt,Ir)|0,J=J+Math.imul(Zt,Li)|0,J=J+Math.imul(ur,Ir)|0,de=de+Math.imul(ur,Li)|0,ue=ue+Math.imul(Nr,Bi)|0,J=J+Math.imul(Nr,Mi)|0,J=J+Math.imul(gt,Bi)|0,de=de+Math.imul(gt,Mi)|0,ue=ue+Math.imul(tr,zi)|0,J=J+Math.imul(tr,Pi)|0,J=J+Math.imul(Xt,zi)|0,de=de+Math.imul(Xt,Pi)|0,ue=ue+Math.imul(Lt,ui)|0,J=J+Math.imul(Lt,Ji)|0,J=J+Math.imul(sr,ui)|0,de=de+Math.imul(sr,Ji)|0,ue=ue+Math.imul(Ne,jn)|0,J=J+Math.imul(Ne,Qi)|0,J=J+Math.imul(At,jn)|0,de=de+Math.imul(At,Qi)|0,ue=ue+Math.imul(Me,Gi)|0,J=J+Math.imul(Me,Kn)|0,J=J+Math.imul(Te,Gi)|0,de=de+Math.imul(Te,Kn)|0,ue=ue+Math.imul(Je,it)|0,J=J+Math.imul(Je,xe)|0,J=J+Math.imul($e,it)|0,de=de+Math.imul($e,xe)|0,ue=ue+Math.imul(Oe,je)|0,J=J+Math.imul(Oe,et)|0,J=J+Math.imul(Se,je)|0,de=de+Math.imul(Se,et)|0;var Fr=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,ue=Math.imul(ve,Mr),J=Math.imul(ve,Hr),J=J+Math.imul(Qe,Mr)|0,de=Math.imul(Qe,Hr),ue=ue+Math.imul(kr,Ir)|0,J=J+Math.imul(kr,Li)|0,J=J+Math.imul(Be,Ir)|0,de=de+Math.imul(Be,Li)|0,ue=ue+Math.imul(Zt,Bi)|0,J=J+Math.imul(Zt,Mi)|0,J=J+Math.imul(ur,Bi)|0,de=de+Math.imul(ur,Mi)|0,ue=ue+Math.imul(Nr,zi)|0,J=J+Math.imul(Nr,Pi)|0,J=J+Math.imul(gt,zi)|0,de=de+Math.imul(gt,Pi)|0,ue=ue+Math.imul(tr,ui)|0,J=J+Math.imul(tr,Ji)|0,J=J+Math.imul(Xt,ui)|0,de=de+Math.imul(Xt,Ji)|0,ue=ue+Math.imul(Lt,jn)|0,J=J+Math.imul(Lt,Qi)|0,J=J+Math.imul(sr,jn)|0,de=de+Math.imul(sr,Qi)|0,ue=ue+Math.imul(Ne,Gi)|0,J=J+Math.imul(Ne,Kn)|0,J=J+Math.imul(At,Gi)|0,de=de+Math.imul(At,Kn)|0,ue=ue+Math.imul(Me,it)|0,J=J+Math.imul(Me,xe)|0,J=J+Math.imul(Te,it)|0,de=de+Math.imul(Te,xe)|0,ue=ue+Math.imul(Je,je)|0,J=J+Math.imul(Je,et)|0,J=J+Math.imul($e,je)|0,de=de+Math.imul($e,et)|0;var Pn=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,ue=Math.imul(ve,Ir),J=Math.imul(ve,Li),J=J+Math.imul(Qe,Ir)|0,de=Math.imul(Qe,Li),ue=ue+Math.imul(kr,Bi)|0,J=J+Math.imul(kr,Mi)|0,J=J+Math.imul(Be,Bi)|0,de=de+Math.imul(Be,Mi)|0,ue=ue+Math.imul(Zt,zi)|0,J=J+Math.imul(Zt,Pi)|0,J=J+Math.imul(ur,zi)|0,de=de+Math.imul(ur,Pi)|0,ue=ue+Math.imul(Nr,ui)|0,J=J+Math.imul(Nr,Ji)|0,J=J+Math.imul(gt,ui)|0,de=de+Math.imul(gt,Ji)|0,ue=ue+Math.imul(tr,jn)|0,J=J+Math.imul(tr,Qi)|0,J=J+Math.imul(Xt,jn)|0,de=de+Math.imul(Xt,Qi)|0,ue=ue+Math.imul(Lt,Gi)|0,J=J+Math.imul(Lt,Kn)|0,J=J+Math.imul(sr,Gi)|0,de=de+Math.imul(sr,Kn)|0,ue=ue+Math.imul(Ne,it)|0,J=J+Math.imul(Ne,xe)|0,J=J+Math.imul(At,it)|0,de=de+Math.imul(At,xe)|0,ue=ue+Math.imul(Me,je)|0,J=J+Math.imul(Me,et)|0,J=J+Math.imul(Te,je)|0,de=de+Math.imul(Te,et)|0;var Zr=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,ue=Math.imul(ve,Bi),J=Math.imul(ve,Mi),J=J+Math.imul(Qe,Bi)|0,de=Math.imul(Qe,Mi),ue=ue+Math.imul(kr,zi)|0,J=J+Math.imul(kr,Pi)|0,J=J+Math.imul(Be,zi)|0,de=de+Math.imul(Be,Pi)|0,ue=ue+Math.imul(Zt,ui)|0,J=J+Math.imul(Zt,Ji)|0,J=J+Math.imul(ur,ui)|0,de=de+Math.imul(ur,Ji)|0,ue=ue+Math.imul(Nr,jn)|0,J=J+Math.imul(Nr,Qi)|0,J=J+Math.imul(gt,jn)|0,de=de+Math.imul(gt,Qi)|0,ue=ue+Math.imul(tr,Gi)|0,J=J+Math.imul(tr,Kn)|0,J=J+Math.imul(Xt,Gi)|0,de=de+Math.imul(Xt,Kn)|0,ue=ue+Math.imul(Lt,it)|0,J=J+Math.imul(Lt,xe)|0,J=J+Math.imul(sr,it)|0,de=de+Math.imul(sr,xe)|0,ue=ue+Math.imul(Ne,je)|0,J=J+Math.imul(Ne,et)|0,J=J+Math.imul(At,je)|0,de=de+Math.imul(At,et)|0;var wn=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(wn>>>26)|0,wn&=67108863,ue=Math.imul(ve,zi),J=Math.imul(ve,Pi),J=J+Math.imul(Qe,zi)|0,de=Math.imul(Qe,Pi),ue=ue+Math.imul(kr,ui)|0,J=J+Math.imul(kr,Ji)|0,J=J+Math.imul(Be,ui)|0,de=de+Math.imul(Be,Ji)|0,ue=ue+Math.imul(Zt,jn)|0,J=J+Math.imul(Zt,Qi)|0,J=J+Math.imul(ur,jn)|0,de=de+Math.imul(ur,Qi)|0,ue=ue+Math.imul(Nr,Gi)|0,J=J+Math.imul(Nr,Kn)|0,J=J+Math.imul(gt,Gi)|0,de=de+Math.imul(gt,Kn)|0,ue=ue+Math.imul(tr,it)|0,J=J+Math.imul(tr,xe)|0,J=J+Math.imul(Xt,it)|0,de=de+Math.imul(Xt,xe)|0,ue=ue+Math.imul(Lt,je)|0,J=J+Math.imul(Lt,et)|0,J=J+Math.imul(sr,je)|0,de=de+Math.imul(sr,et)|0;var xr=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(xr>>>26)|0,xr&=67108863,ue=Math.imul(ve,ui),J=Math.imul(ve,Ji),J=J+Math.imul(Qe,ui)|0,de=Math.imul(Qe,Ji),ue=ue+Math.imul(kr,jn)|0,J=J+Math.imul(kr,Qi)|0,J=J+Math.imul(Be,jn)|0,de=de+Math.imul(Be,Qi)|0,ue=ue+Math.imul(Zt,Gi)|0,J=J+Math.imul(Zt,Kn)|0,J=J+Math.imul(ur,Gi)|0,de=de+Math.imul(ur,Kn)|0,ue=ue+Math.imul(Nr,it)|0,J=J+Math.imul(Nr,xe)|0,J=J+Math.imul(gt,it)|0,de=de+Math.imul(gt,xe)|0,ue=ue+Math.imul(tr,je)|0,J=J+Math.imul(tr,et)|0,J=J+Math.imul(Xt,je)|0,de=de+Math.imul(Xt,et)|0;var gi=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(gi>>>26)|0,gi&=67108863,ue=Math.imul(ve,jn),J=Math.imul(ve,Qi),J=J+Math.imul(Qe,jn)|0,de=Math.imul(Qe,Qi),ue=ue+Math.imul(kr,Gi)|0,J=J+Math.imul(kr,Kn)|0,J=J+Math.imul(Be,Gi)|0,de=de+Math.imul(Be,Kn)|0,ue=ue+Math.imul(Zt,it)|0,J=J+Math.imul(Zt,xe)|0,J=J+Math.imul(ur,it)|0,de=de+Math.imul(ur,xe)|0,ue=ue+Math.imul(Nr,je)|0,J=J+Math.imul(Nr,et)|0,J=J+Math.imul(gt,je)|0,de=de+Math.imul(gt,et)|0;var Cn=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,ue=Math.imul(ve,Gi),J=Math.imul(ve,Kn),J=J+Math.imul(Qe,Gi)|0,de=Math.imul(Qe,Kn),ue=ue+Math.imul(kr,it)|0,J=J+Math.imul(kr,xe)|0,J=J+Math.imul(Be,it)|0,de=de+Math.imul(Be,xe)|0,ue=ue+Math.imul(Zt,je)|0,J=J+Math.imul(Zt,et)|0,J=J+Math.imul(ur,je)|0,de=de+Math.imul(ur,et)|0;var vn=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(vn>>>26)|0,vn&=67108863,ue=Math.imul(ve,it),J=Math.imul(ve,xe),J=J+Math.imul(Qe,it)|0,de=Math.imul(Qe,xe),ue=ue+Math.imul(kr,je)|0,J=J+Math.imul(kr,et)|0,J=J+Math.imul(Be,je)|0,de=de+Math.imul(Be,et)|0;var Ui=(ye+ue|0)+((J&8191)<<13)|0;ye=(de+(J>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,ue=Math.imul(ve,je),J=Math.imul(ve,et),J=J+Math.imul(Qe,je)|0,de=Math.imul(Qe,et);var Wi=(ye+ue|0)+((J&8191)<<13)|0;return ye=(de+(J>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,we[0]=tt,we[1]=dt,we[2]=Et,we[3]=ct,we[4]=wt,we[5]=Wt,we[6]=Ut,we[7]=dr,we[8]=Ar,we[9]=Fr,we[10]=Pn,we[11]=Zr,we[12]=wn,we[13]=xr,we[14]=gi,we[15]=Cn,we[16]=vn,we[17]=Ui,we[18]=Wi,ye!==0&&(we[19]=ye,te.length++),te};Math.imul||($=D);function B(G,N,Y){Y.negative=N.negative^G.negative,Y.length=G.length+N.length;for(var te=0,re=0,he=0;he<Y.length-1;he++){var we=re;re=0;for(var ye=te&67108863,ue=Math.min(he,N.length-1),J=Math.max(0,he-G.length+1);J<=ue;J++){var de=he-J,ke=G.words[de]|0,Oe=N.words[J]|0,Se=ke*Oe,We=Se&67108863;we=we+(Se/67108864|0)|0,We=We+ye|0,ye=We&67108863,we=we+(We>>>26)|0,re+=we>>>26,we&=67108863}Y.words[he]=ye,te=we,we=re}return te!==0?Y.words[he]=te:Y.length--,Y._strip()}function V(G,N,Y){return B(G,N,Y)}s.prototype.mulTo=function(N,Y){var te,re=this.length+N.length;return this.length===10&&N.length===10?te=$(this,N,Y):re<63?te=D(this,N,Y):re<1024?te=B(this,N,Y):te=V(this,N,Y),te},s.prototype.mul=function(N){var Y=new s(null);return Y.words=new Array(this.length+N.length),this.mulTo(N,Y)},s.prototype.mulf=function(N){var Y=new s(null);return Y.words=new Array(this.length+N.length),V(this,N,Y)},s.prototype.imul=function(N){return this.clone().mulTo(N,this)},s.prototype.imuln=function(N){var Y=N<0;Y&&(N=-N),n(typeof N=="number"),n(N<67108864);for(var te=0,re=0;re<this.length;re++){var he=(this.words[re]|0)*N,we=(he&67108863)+(te&67108863);te>>=26,te+=he/67108864|0,te+=we>>>26,this.words[re]=we&67108863}return te!==0&&(this.words[re]=te,this.length++),Y?this.ineg():this},s.prototype.muln=function(N){return this.clone().imuln(N)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(N){var Y=k(N);if(Y.length===0)return new s(1);for(var te=this,re=0;re<Y.length&&Y[re]===0;re++,te=te.sqr());if(++re<Y.length)for(var he=te.sqr();re<Y.length;re++,he=he.sqr())Y[re]!==0&&(te=te.mul(he));return te},s.prototype.iushln=function(N){n(typeof N=="number"&&N>=0);var Y=N%26,te=(N-Y)/26,re=67108863>>>26-Y<<26-Y,he;if(Y!==0){var we=0;for(he=0;he<this.length;he++){var ye=this.words[he]&re,ue=(this.words[he]|0)-ye<<Y;this.words[he]=ue|we,we=ye>>>26-Y}we&&(this.words[he]=we,this.length++)}if(te!==0){for(he=this.length-1;he>=0;he--)this.words[he+te]=this.words[he];for(he=0;he<te;he++)this.words[he]=0;this.length+=te}return this._strip()},s.prototype.ishln=function(N){return n(this.negative===0),this.iushln(N)},s.prototype.iushrn=function(N,Y,te){n(typeof N=="number"&&N>=0);var re;Y?re=(Y-Y%26)/26:re=0;var he=N%26,we=Math.min((N-he)/26,this.length),ye=67108863^67108863>>>he<<he,ue=te;if(re-=we,re=Math.max(0,re),ue){for(var J=0;J<we;J++)ue.words[J]=this.words[J];ue.length=we}if(we!==0)if(this.length>we)for(this.length-=we,J=0;J<this.length;J++)this.words[J]=this.words[J+we];else this.words[0]=0,this.length=1;var de=0;for(J=this.length-1;J>=0&&(de!==0||J>=re);J--){var ke=this.words[J]|0;this.words[J]=de<<26-he|ke>>>he,de=ke&ye}return ue&&de!==0&&(ue.words[ue.length++]=de),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(N,Y,te){return n(this.negative===0),this.iushrn(N,Y,te)},s.prototype.shln=function(N){return this.clone().ishln(N)},s.prototype.ushln=function(N){return this.clone().iushln(N)},s.prototype.shrn=function(N){return this.clone().ishrn(N)},s.prototype.ushrn=function(N){return this.clone().iushrn(N)},s.prototype.testn=function(N){n(typeof N=="number"&&N>=0);var Y=N%26,te=(N-Y)/26,re=1<<Y;if(this.length<=te)return!1;var he=this.words[te];return!!(he&re)},s.prototype.imaskn=function(N){n(typeof N=="number"&&N>=0);var Y=N%26,te=(N-Y)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=te)return this;if(Y!==0&&te++,this.length=Math.min(te,this.length),Y!==0){var re=67108863^67108863>>>Y<<Y;this.words[this.length-1]&=re}return this._strip()},s.prototype.maskn=function(N){return this.clone().imaskn(N)},s.prototype.iaddn=function(N){return n(typeof N=="number"),n(N<67108864),N<0?this.isubn(-N):this.negative!==0?this.length===1&&(this.words[0]|0)<=N?(this.words[0]=N-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},s.prototype._iaddn=function(N){this.words[0]+=N;for(var Y=0;Y<this.length&&this.words[Y]>=67108864;Y++)this.words[Y]-=67108864,Y===this.length-1?this.words[Y+1]=1:this.words[Y+1]++;return this.length=Math.max(this.length,Y+1),this},s.prototype.isubn=function(N){if(n(typeof N=="number"),n(N<67108864),N<0)return this.iaddn(-N);if(this.negative!==0)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Y=0;Y<this.length&&this.words[Y]<0;Y++)this.words[Y]+=67108864,this.words[Y+1]-=1;return this._strip()},s.prototype.addn=function(N){return this.clone().iaddn(N)},s.prototype.subn=function(N){return this.clone().isubn(N)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(N,Y,te){var re=N.length+te,he;this._expand(re);var we,ye=0;for(he=0;he<N.length;he++){we=(this.words[he+te]|0)+ye;var ue=(N.words[he]|0)*Y;we-=ue&67108863,ye=(we>>26)-(ue/67108864|0),this.words[he+te]=we&67108863}for(;he<this.length-te;he++)we=(this.words[he+te]|0)+ye,ye=we>>26,this.words[he+te]=we&67108863;if(ye===0)return this._strip();for(n(ye===-1),ye=0,he=0;he<this.length;he++)we=-(this.words[he]|0)+ye,ye=we>>26,this.words[he]=we&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(N,Y){var te=this.length-N.length,re=this.clone(),he=N,we=he.words[he.length-1]|0,ye=this._countBits(we);te=26-ye,te!==0&&(he=he.ushln(te),re.iushln(te),we=he.words[he.length-1]|0);var ue=re.length-he.length,J;if(Y!=="mod"){J=new s(null),J.length=ue+1,J.words=new Array(J.length);for(var de=0;de<J.length;de++)J.words[de]=0}var ke=re.clone()._ishlnsubmul(he,1,ue);ke.negative===0&&(re=ke,J&&(J.words[ue]=1));for(var Oe=ue-1;Oe>=0;Oe--){var Se=(re.words[he.length+Oe]|0)*67108864+(re.words[he.length+Oe-1]|0);for(Se=Math.min(Se/we|0,67108863),re._ishlnsubmul(he,Se,Oe);re.negative!==0;)Se--,re.negative=0,re._ishlnsubmul(he,1,Oe),re.isZero()||(re.negative^=1);J&&(J.words[Oe]=Se)}return J&&J._strip(),re._strip(),Y!=="div"&&te!==0&&re.iushrn(te),{div:J||null,mod:re}},s.prototype.divmod=function(N,Y,te){if(n(!N.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var re,he,we;return this.negative!==0&&N.negative===0?(we=this.neg().divmod(N,Y),Y!=="mod"&&(re=we.div.neg()),Y!=="div"&&(he=we.mod.neg(),te&&he.negative!==0&&he.iadd(N)),{div:re,mod:he}):this.negative===0&&N.negative!==0?(we=this.divmod(N.neg(),Y),Y!=="mod"&&(re=we.div.neg()),{div:re,mod:we.mod}):this.negative&N.negative?(we=this.neg().divmod(N.neg(),Y),Y!=="div"&&(he=we.mod.neg(),te&&he.negative!==0&&he.isub(N)),{div:we.div,mod:he}):N.length>this.length||this.cmp(N)<0?{div:new s(0),mod:this}:N.length===1?Y==="div"?{div:this.divn(N.words[0]),mod:null}:Y==="mod"?{div:null,mod:new s(this.modrn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new s(this.modrn(N.words[0]))}:this._wordDiv(N,Y)},s.prototype.div=function(N){return this.divmod(N,"div",!1).div},s.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},s.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},s.prototype.divRound=function(N){var Y=this.divmod(N);if(Y.mod.isZero())return Y.div;var te=Y.div.negative!==0?Y.mod.isub(N):Y.mod,re=N.ushrn(1),he=N.andln(1),we=te.cmp(re);return we<0||he===1&&we===0?Y.div:Y.div.negative!==0?Y.div.isubn(1):Y.div.iaddn(1)},s.prototype.modrn=function(N){var Y=N<0;Y&&(N=-N),n(N<=67108863);for(var te=(1<<26)%N,re=0,he=this.length-1;he>=0;he--)re=(te*re+(this.words[he]|0))%N;return Y?-re:re},s.prototype.modn=function(N){return this.modrn(N)},s.prototype.idivn=function(N){var Y=N<0;Y&&(N=-N),n(N<=67108863);for(var te=0,re=this.length-1;re>=0;re--){var he=(this.words[re]|0)+te*67108864;this.words[re]=he/N|0,te=he%N}return this._strip(),Y?this.ineg():this},s.prototype.divn=function(N){return this.clone().idivn(N)},s.prototype.egcd=function(N){n(N.negative===0),n(!N.isZero());var Y=this,te=N.clone();Y.negative!==0?Y=Y.umod(N):Y=Y.clone();for(var re=new s(1),he=new s(0),we=new s(0),ye=new s(1),ue=0;Y.isEven()&&te.isEven();)Y.iushrn(1),te.iushrn(1),++ue;for(var J=te.clone(),de=Y.clone();!Y.isZero();){for(var ke=0,Oe=1;!(Y.words[0]&Oe)&&ke<26;++ke,Oe<<=1);if(ke>0)for(Y.iushrn(ke);ke-- >0;)(re.isOdd()||he.isOdd())&&(re.iadd(J),he.isub(de)),re.iushrn(1),he.iushrn(1);for(var Se=0,We=1;!(te.words[0]&We)&&Se<26;++Se,We<<=1);if(Se>0)for(te.iushrn(Se);Se-- >0;)(we.isOdd()||ye.isOdd())&&(we.iadd(J),ye.isub(de)),we.iushrn(1),ye.iushrn(1);Y.cmp(te)>=0?(Y.isub(te),re.isub(we),he.isub(ye)):(te.isub(Y),we.isub(re),ye.isub(he))}return{a:we,b:ye,gcd:te.iushln(ue)}},s.prototype._invmp=function(N){n(N.negative===0),n(!N.isZero());var Y=this,te=N.clone();Y.negative!==0?Y=Y.umod(N):Y=Y.clone();for(var re=new s(1),he=new s(0),we=te.clone();Y.cmpn(1)>0&&te.cmpn(1)>0;){for(var ye=0,ue=1;!(Y.words[0]&ue)&&ye<26;++ye,ue<<=1);if(ye>0)for(Y.iushrn(ye);ye-- >0;)re.isOdd()&&re.iadd(we),re.iushrn(1);for(var J=0,de=1;!(te.words[0]&de)&&J<26;++J,de<<=1);if(J>0)for(te.iushrn(J);J-- >0;)he.isOdd()&&he.iadd(we),he.iushrn(1);Y.cmp(te)>=0?(Y.isub(te),re.isub(he)):(te.isub(Y),he.isub(re))}var ke;return Y.cmpn(1)===0?ke=re:ke=he,ke.cmpn(0)<0&&ke.iadd(N),ke},s.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var Y=this.clone(),te=N.clone();Y.negative=0,te.negative=0;for(var re=0;Y.isEven()&&te.isEven();re++)Y.iushrn(1),te.iushrn(1);do{for(;Y.isEven();)Y.iushrn(1);for(;te.isEven();)te.iushrn(1);var he=Y.cmp(te);if(he<0){var we=Y;Y=te,te=we}else if(he===0||te.cmpn(1)===0)break;Y.isub(te)}while(!0);return te.iushln(re)},s.prototype.invm=function(N){return this.egcd(N).a.umod(N)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(N){return this.words[0]&N},s.prototype.bincn=function(N){n(typeof N=="number");var Y=N%26,te=(N-Y)/26,re=1<<Y;if(this.length<=te)return this._expand(te+1),this.words[te]|=re,this;for(var he=re,we=te;he!==0&&we<this.length;we++){var ye=this.words[we]|0;ye+=he,he=ye>>>26,ye&=67108863,this.words[we]=ye}return he!==0&&(this.words[we]=he,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(N){var Y=N<0;if(this.negative!==0&&!Y)return-1;if(this.negative===0&&Y)return 1;this._strip();var te;if(this.length>1)te=1;else{Y&&(N=-N),n(N<=67108863,"Number is too big");var re=this.words[0]|0;te=re===N?0:re<N?-1:1}return this.negative!==0?-te|0:te},s.prototype.cmp=function(N){if(this.negative!==0&&N.negative===0)return-1;if(this.negative===0&&N.negative!==0)return 1;var Y=this.ucmp(N);return this.negative!==0?-Y|0:Y},s.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var Y=0,te=this.length-1;te>=0;te--){var re=this.words[te]|0,he=N.words[te]|0;if(re!==he){re<he?Y=-1:re>he&&(Y=1);break}}return Y},s.prototype.gtn=function(N){return this.cmpn(N)===1},s.prototype.gt=function(N){return this.cmp(N)===1},s.prototype.gten=function(N){return this.cmpn(N)>=0},s.prototype.gte=function(N){return this.cmp(N)>=0},s.prototype.ltn=function(N){return this.cmpn(N)===-1},s.prototype.lt=function(N){return this.cmp(N)===-1},s.prototype.lten=function(N){return this.cmpn(N)<=0},s.prototype.lte=function(N){return this.cmp(N)<=0},s.prototype.eqn=function(N){return this.cmpn(N)===0},s.prototype.eq=function(N){return this.cmp(N)===0},s.red=function(N){return new pe(N)},s.prototype.toRed=function(N){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),N.convertTo(this)._forceRed(N)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(N){return this.red=N,this},s.prototype.forceRed=function(N){return n(!this.red,"Already a number in reduction context"),this._forceRed(N)},s.prototype.redAdd=function(N){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},s.prototype.redIAdd=function(N){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},s.prototype.redSub=function(N){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},s.prototype.redISub=function(N){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},s.prototype.redShl=function(N){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},s.prototype.redMul=function(N){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},s.prototype.redIMul=function(N){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(N){return n(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var U={k256:null,p224:null,p192:null,p25519:null};function Z(G,N){this.name=G,this.p=new s(N,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Z.prototype._tmp=function(){var N=new s(null);return N.words=new Array(Math.ceil(this.n/13)),N},Z.prototype.ireduce=function(N){var Y=N,te;do this.split(Y,this.tmp),Y=this.imulK(Y),Y=Y.iadd(this.tmp),te=Y.bitLength();while(te>this.n);var re=te<this.n?-1:Y.ucmp(this.p);return re===0?(Y.words[0]=0,Y.length=1):re>0?Y.isub(this.p):Y.strip!==void 0?Y.strip():Y._strip(),Y},Z.prototype.split=function(N,Y){N.iushrn(this.n,0,Y)},Z.prototype.imulK=function(N){return N.imul(this.k)};function ne(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ne,Z),ne.prototype.split=function(N,Y){for(var te=4194303,re=Math.min(N.length,9),he=0;he<re;he++)Y.words[he]=N.words[he];if(Y.length=re,N.length<=9){N.words[0]=0,N.length=1;return}var we=N.words[9];for(Y.words[Y.length++]=we&te,he=10;he<N.length;he++){var ye=N.words[he]|0;N.words[he-10]=(ye&te)<<4|we>>>22,we=ye}we>>>=22,N.words[he-10]=we,we===0&&N.length>10?N.length-=10:N.length-=9},ne.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var Y=0,te=0;te<N.length;te++){var re=N.words[te]|0;Y+=re*977,N.words[te]=Y&67108863,Y=re*64+(Y/67108864|0)}return N.words[N.length-1]===0&&(N.length--,N.words[N.length-1]===0&&N.length--),N};function j(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(j,Z);function fe(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(fe,Z);function be(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(be,Z),be.prototype.imulK=function(N){for(var Y=0,te=0;te<N.length;te++){var re=(N.words[te]|0)*19+Y,he=re&67108863;re>>>=26,N.words[te]=he,Y=re}return Y!==0&&(N.words[N.length++]=Y),N},s._prime=function(N){if(U[N])return U[N];var Y;if(N==="k256")Y=new ne;else if(N==="p224")Y=new j;else if(N==="p192")Y=new fe;else if(N==="p25519")Y=new be;else throw new Error("Unknown prime "+N);return U[N]=Y,Y};function pe(G){if(typeof G=="string"){var N=s._prime(G);this.m=N.p,this.prime=N}else n(G.gtn(1),"modulus must be greater than 1"),this.m=G,this.prime=null}pe.prototype._verify1=function(N){n(N.negative===0,"red works only with positives"),n(N.red,"red works only with red numbers")},pe.prototype._verify2=function(N,Y){n((N.negative|Y.negative)===0,"red works only with positives"),n(N.red&&N.red===Y.red,"red works only with red numbers")},pe.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):(y(N,N.umod(this.m)._forceRed(this)),N)},pe.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},pe.prototype.add=function(N,Y){this._verify2(N,Y);var te=N.add(Y);return te.cmp(this.m)>=0&&te.isub(this.m),te._forceRed(this)},pe.prototype.iadd=function(N,Y){this._verify2(N,Y);var te=N.iadd(Y);return te.cmp(this.m)>=0&&te.isub(this.m),te},pe.prototype.sub=function(N,Y){this._verify2(N,Y);var te=N.sub(Y);return te.cmpn(0)<0&&te.iadd(this.m),te._forceRed(this)},pe.prototype.isub=function(N,Y){this._verify2(N,Y);var te=N.isub(Y);return te.cmpn(0)<0&&te.iadd(this.m),te},pe.prototype.shl=function(N,Y){return this._verify1(N),this.imod(N.ushln(Y))},pe.prototype.imul=function(N,Y){return this._verify2(N,Y),this.imod(N.imul(Y))},pe.prototype.mul=function(N,Y){return this._verify2(N,Y),this.imod(N.mul(Y))},pe.prototype.isqr=function(N){return this.imul(N,N.clone())},pe.prototype.sqr=function(N){return this.mul(N,N)},pe.prototype.sqrt=function(N){if(N.isZero())return N.clone();var Y=this.m.andln(3);if(n(Y%2===1),Y===3){var te=this.m.add(new s(1)).iushrn(2);return this.pow(N,te)}for(var re=this.m.subn(1),he=0;!re.isZero()&&re.andln(1)===0;)he++,re.iushrn(1);n(!re.isZero());var we=new s(1).toRed(this),ye=we.redNeg(),ue=this.m.subn(1).iushrn(1),J=this.m.bitLength();for(J=new s(2*J*J).toRed(this);this.pow(J,ue).cmp(ye)!==0;)J.redIAdd(ye);for(var de=this.pow(J,re),ke=this.pow(N,re.addn(1).iushrn(1)),Oe=this.pow(N,re),Se=he;Oe.cmp(we)!==0;){for(var We=Oe,Je=0;We.cmp(we)!==0;Je++)We=We.redSqr();n(Je<Se);var $e=this.pow(de,new s(1).iushln(Se-Je-1));ke=ke.redMul($e),de=$e.redSqr(),Oe=Oe.redMul(de),Se=Je}return ke},pe.prototype.invm=function(N){var Y=N._invmp(this.m);return Y.negative!==0?(Y.negative=0,this.imod(Y).redNeg()):this.imod(Y)},pe.prototype.pow=function(N,Y){if(Y.isZero())return new s(1).toRed(this);if(Y.cmpn(1)===0)return N.clone();var te=4,re=new Array(1<<te);re[0]=new s(1).toRed(this),re[1]=N;for(var he=2;he<re.length;he++)re[he]=this.mul(re[he-1],N);var we=re[0],ye=0,ue=0,J=Y.bitLength()%26;for(J===0&&(J=26),he=Y.length-1;he>=0;he--){for(var de=Y.words[he],ke=J-1;ke>=0;ke--){var Oe=de>>ke&1;if(we!==re[0]&&(we=this.sqr(we)),Oe===0&&ye===0){ue=0;continue}ye<<=1,ye|=Oe,ue++,!(ue!==te&&(he!==0||ke!==0))&&(we=this.mul(we,re[ye]),ue=0,ye=0)}J=26}return we},pe.prototype.convertTo=function(N){var Y=N.umod(this.m);return Y===N?Y.clone():Y},pe.prototype.convertFrom=function(N){var Y=N.clone();return Y.red=null,Y},s.mont=function(N){return new le(N)};function le(G){pe.call(this,G),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(le,pe),le.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},le.prototype.convertFrom=function(N){var Y=this.imod(N.mul(this.rinv));return Y.red=null,Y},le.prototype.imul=function(N,Y){if(N.isZero()||Y.isZero())return N.words[0]=0,N.length=1,N;var te=N.imul(Y),re=te.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),he=te.isub(re).iushrn(this.shift),we=he;return he.cmp(this.m)>=0?we=he.isub(this.m):he.cmpn(0)<0&&(we=he.iadd(this.m)),we._forceRed(this)},le.prototype.mul=function(N,Y){if(N.isZero()||Y.isZero())return new s(0)._forceRed(this);var te=N.mul(Y),re=te.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),he=te.isub(re).iushrn(this.shift),we=he;return he.cmp(this.m)>=0?we=he.isub(this.m):he.cmpn(0)<0&&(we=he.iadd(this.m)),we._forceRed(this)},le.prototype.invm=function(N){var Y=this.imod(N._invmp(this.m).mul(this.r2));return Y._forceRed(this)}})(e,Er)})(cW);var Ahe=cW.exports;const bee=oi(Ahe);var mN={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=M1,n=r.Buffer;function i(c,p){for(var o in c)p[o]=c[o]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(c,p,o){return n(c,p,o)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(c,p,o){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,p,o)},s.alloc=function(c,p,o){if(typeof c!="number")throw new TypeError("Argument must be a number");var g=n(c);return p!==void 0?typeof o=="string"?g.fill(p,o):g.fill(p):g.fill(0),g},s.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},s.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(c)}})(mN,mN.exports);var yI=mN.exports,ME=yI.Buffer;function pMe(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=n}var c=e.length,p=e.charAt(0),o=Math.log(c)/Math.log(256),g=Math.log(256)/Math.log(c);function y(A){if((Array.isArray(A)||A instanceof Uint8Array)&&(A=ME.from(A)),!ME.isBuffer(A))throw new TypeError("Expected Buffer");if(A.length===0)return"";for(var M=0,R=0,k=0,D=A.length;k!==D&&A[k]===0;)k++,M++;for(var $=(D-k)*g+1>>>0,B=new Uint8Array($);k!==D;){for(var V=A[k],U=0,Z=$-1;(V!==0||U<R)&&Z!==-1;Z--,U++)V+=256*B[Z]>>>0,B[Z]=V%c>>>0,V=V/c>>>0;if(V!==0)throw new Error("Non-zero carry");R=U,k++}for(var ne=$-R;ne!==$&&B[ne]===0;)ne++;for(var j=p.repeat(M);ne<$;++ne)j+=e.charAt(B[ne]);return j}function x(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return ME.alloc(0);for(var M=0,R=0,k=0;A[M]===p;)R++,M++;for(var D=(A.length-M)*o+1>>>0,$=new Uint8Array(D);M<A.length;){var B=t[A.charCodeAt(M)];if(B===255)return;for(var V=0,U=D-1;(B!==0||V<k)&&U!==-1;U--,V++)B+=c*$[U]>>>0,$[U]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");k=V,M++}for(var Z=D-k;Z!==D&&$[Z]===0;)Z++;var ne=ME.allocUnsafe(R+(D-Z));ne.fill(0,0,R);for(var j=R;Z!==D;)ne[j++]=$[Z++];return ne}function E(A){var M=x(A);if(M)return M;throw new Error("Non-base"+c+" character")}return{encode:y,decodeUnsafe:x,decode:E}}var hMe=pMe,mMe=hMe,gMe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",yMe=mMe(gMe);const ms=oi(yMe),vMe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Sm=new Uint32Array(64);class _Me extends dhe{constructor(){super(64,32,8,!1),this.A=wm[0]|0,this.B=wm[1]|0,this.C=wm[2]|0,this.D=wm[3]|0,this.E=wm[4]|0,this.F=wm[5]|0,this.G=wm[6]|0,this.H=wm[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:c,G:p,H:o}=this;return[t,r,n,i,s,c,p,o]}set(t,r,n,i,s,c,p,o){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=c|0,this.G=p|0,this.H=o|0}process(t,r){for(let x=0;x<16;x++,r+=4)Sm[x]=t.getUint32(r,!1);for(let x=16;x<64;x++){const E=Sm[x-15],A=Sm[x-2],M=Wd(E,7)^Wd(E,18)^E>>>3,R=Wd(A,17)^Wd(A,19)^A>>>10;Sm[x]=R+Sm[x-7]+M+Sm[x-16]|0}let{A:n,B:i,C:s,D:c,E:p,F:o,G:g,H:y}=this;for(let x=0;x<64;x++){const E=Wd(p,6)^Wd(p,11)^Wd(p,25),A=y+E+fIe(p,o,g)+vMe[x]+Sm[x]|0,R=(Wd(n,2)^Wd(n,13)^Wd(n,22))+pIe(n,i,s)|0;y=g,g=o,o=p,p=c+A|0,c=s,s=i,i=n,n=A+R|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,c=c+this.D|0,p=p+this.E|0,o=o+this.F|0,g=g+this.G|0,y=y+this.H|0,this.set(n,i,s,c,p,o,g,y)}roundClean(){Sm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const gN=iW(()=>new _Me);var hs={},kE=yI.Buffer;function bMe(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=n}var c=e.length,p=e.charAt(0),o=Math.log(c)/Math.log(256),g=Math.log(256)/Math.log(c);function y(A){if((Array.isArray(A)||A instanceof Uint8Array)&&(A=kE.from(A)),!kE.isBuffer(A))throw new TypeError("Expected Buffer");if(A.length===0)return"";for(var M=0,R=0,k=0,D=A.length;k!==D&&A[k]===0;)k++,M++;for(var $=(D-k)*g+1>>>0,B=new Uint8Array($);k!==D;){for(var V=A[k],U=0,Z=$-1;(V!==0||U<R)&&Z!==-1;Z--,U++)V+=256*B[Z]>>>0,B[Z]=V%c>>>0,V=V/c>>>0;if(V!==0)throw new Error("Non-zero carry");R=U,k++}for(var ne=$-R;ne!==$&&B[ne]===0;)ne++;for(var j=p.repeat(M);ne<$;++ne)j+=e.charAt(B[ne]);return j}function x(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return kE.alloc(0);for(var M=0,R=0,k=0;A[M]===p;)R++,M++;for(var D=(A.length-M)*o+1>>>0,$=new Uint8Array(D);M<A.length;){var B=t[A.charCodeAt(M)];if(B===255)return;for(var V=0,U=D-1;(B!==0||V<k)&&U!==-1;U--,V++)B+=c*$[U]>>>0,$[U]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");k=V,M++}for(var Z=D-k;Z!==D&&$[Z]===0;)Z++;var ne=kE.allocUnsafe(R+(D-Z));ne.fill(0,0,R);for(var j=R;Z!==D;)ne[j++]=$[Z++];return ne}function E(A){var M=x(A);if(M)return M;throw new Error("Non-base"+c+" character")}return{encode:y,decodeUnsafe:x,decode:E}}var xMe=bMe,wMe=xMe,SMe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",EMe=wMe(SMe);function Pp(e,t,r){return t<=e&&e<=r}function vI(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function AMe(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var s=t.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var c=e.charCodeAt(n+1);if(56320<=c&&c<=57343){var p=s&1023,o=c&1023;i.push(65536+(p<<10)+o),n+=1}else i.push(65533)}n+=1}return i}function TMe(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var iP=-1;function dW(e){this.tokens=[].slice.call(e)}dW.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():iP},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var Mx=-1;function XR(e,t){if(e)throw TypeError("Decoder error");return t||65533}var aP="utf-8";function oP(e,t){if(!(this instanceof oP))return new oP(e,t);if(e=e!==void 0?String(e).toLowerCase():aP,e!==aP)throw new Error("Encoding not supported. Only utf-8 is supported");t=vI(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}oP.prototype={decode:function(t,r){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),r=vI(r),this._streaming||(this._decoder=new PMe({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new dW(n),s=[],c;!i.endOfStream()&&(c=this._decoder.handler(i,i.read()),c!==Mx);)c!==null&&(Array.isArray(c)?s.push.apply(s,c):s.push(c));if(!this._streaming){do{if(c=this._decoder.handler(i,i.read()),c===Mx)break;c!==null&&(Array.isArray(c)?s.push.apply(s,c):s.push(c))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),TMe(s)}};function sP(e,t){if(!(this instanceof sP))return new sP(e,t);if(e=e!==void 0?String(e).toLowerCase():aP,e!==aP)throw new Error("Encoding not supported. Only utf-8 is supported");t=vI(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}sP.prototype={encode:function(t,r){t=t?String(t):"",r=vI(r),this._streaming||(this._encoder=new CMe(this._options)),this._streaming=!!r.stream;for(var n=[],i=new dW(AMe(t)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Mx);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Mx;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function PMe(e){var t=e.fatal,r=0,n=0,i=0,s=128,c=191;this.handler=function(p,o){if(o===iP&&i!==0)return i=0,XR(t);if(o===iP)return Mx;if(i===0){if(Pp(o,0,127))return o;if(Pp(o,194,223))i=1,r=o-192;else if(Pp(o,224,239))o===224&&(s=160),o===237&&(c=159),i=2,r=o-224;else if(Pp(o,240,244))o===240&&(s=144),o===244&&(c=143),i=3,r=o-240;else return XR(t);return r=r<<6*i,null}if(!Pp(o,s,c))return r=i=n=0,s=128,c=191,p.prepend(o),XR(t);if(s=128,c=191,n+=1,r+=o-128<<6*(i-n),n!==i)return null;var g=r;return r=i=n=0,g}}function CMe(e){e.fatal,this.handler=function(t,r){if(r===iP)return Mx;if(Pp(r,0,127))return r;var n,i;Pp(r,128,2047)?(n=1,i=192):Pp(r,2048,65535)?(n=2,i=224):Pp(r,65536,1114111)&&(n=3,i=240);for(var s=[(r>>6*n)+i];n>0;){var c=r>>6*(n-1);s.push(128|c&63),n-=1}return s}}const IMe=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:oP,TextEncoder:sP},Symbol.toStringTag,{value:"Module"})),MMe=U1(IMe);var kMe=Er&&Er.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),OMe=Er&&Er.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Sf=Er&&Er.__decorate||function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var p=e.length-1;p>=0;p--)(c=e[p])&&(s=(i<3?c(s):i>3?c(t,r,s):c(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},DMe=Er&&Er.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&kMe(t,e,r);return OMe(t,e),t},The=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0});var Phe=hs.deserializeUnchecked=Dhe=hs.deserialize=Ohe=hs.serialize=hs.BinaryReader=hs.BinaryWriter=hs.BorshError=hs.baseDecode=hs.baseEncode=void 0;const r1=The(Ahe),Che=The(EMe),RMe=DMe(MMe),$Me=typeof TextDecoder!="function"?RMe.TextDecoder:TextDecoder,LMe=new $Me("utf-8",{fatal:!0});function BMe(e){return typeof e=="string"&&(e=Nn.from(e,"utf8")),Che.default.encode(Nn.from(e))}hs.baseEncode=BMe;function zMe(e){return Nn.from(Che.default.decode(e))}hs.baseDecode=zMe;const YR=1024;class hl extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}hs.BorshError=hl;class Ihe{constructor(){this.buf=Nn.alloc(YR),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Nn.concat([this.buf,Nn.alloc(YR)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Nn.from(new r1.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Nn.from(new r1.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Nn.from(new r1.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Nn.from(new r1.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Nn.concat([Nn.from(this.buf.subarray(0,this.length)),t,Nn.alloc(YR)]),this.length+=t.length}writeString(t){this.maybeResize();const r=Nn.from(t,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(t){this.writeBuffer(Nn.from(t))}writeArray(t,r){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}hs.BinaryWriter=Ihe;function Ef(e,t,r){const n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){const c=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(c)>=0)throw new hl("Reached the end of buffer when deserializing")}throw s}}}class Tu{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new r1.default(t,"le")}readU128(){const t=this.readBuffer(16);return new r1.default(t,"le")}readU256(){const t=this.readBuffer(32);return new r1.default(t,"le")}readU512(){const t=this.readBuffer(64);return new r1.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new hl(`Expected buffer length ${t} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,r}readString(){const t=this.readU32(),r=this.readBuffer(t);try{return LMe.decode(r)}catch(n){throw new hl(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(t());return n}}Sf([Ef],Tu.prototype,"readU8",null);Sf([Ef],Tu.prototype,"readU16",null);Sf([Ef],Tu.prototype,"readU32",null);Sf([Ef],Tu.prototype,"readU64",null);Sf([Ef],Tu.prototype,"readU128",null);Sf([Ef],Tu.prototype,"readU256",null);Sf([Ef],Tu.prototype,"readU512",null);Sf([Ef],Tu.prototype,"readString",null);Sf([Ef],Tu.prototype,"readFixedArray",null);Sf([Ef],Tu.prototype,"readArray",null);hs.BinaryReader=Tu;function Mhe(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Mg(e,t,r,n,i){try{if(typeof n=="string")i[`write${Mhe(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new hl(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new hl(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)Mg(e,null,r[s],n[0],i)}else i.writeArray(r,s=>{Mg(e,t,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),Mg(e,t,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,c)=>{Mg(e,t,c,n.key,i),Mg(e,t,s,n.value,i)});break}default:throw new hl(`FieldType ${n} unrecognized`)}else khe(e,r,i)}catch(s){throw s instanceof hl&&s.addToFieldPath(t),s}}function khe(e,t,r){if(typeof t.borshSerialize=="function"){t.borshSerialize(r);return}const n=e.get(t.constructor);if(!n)throw new hl(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{Mg(e,i,t[i],s,r)});else if(n.kind==="enum"){const i=t[n.field];for(let s=0;s<n.values.length;++s){const[c,p]=n.values[s];if(c===i){r.writeU8(s),Mg(e,c,t[c],p,r);break}}}else throw new hl(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function NMe(e,t,r=Ihe){const n=new r;return khe(e,t,n),n.toArray()}var Ohe=hs.serialize=NMe;function kg(e,t,r,n){try{if(typeof r=="string")return n[`read${Mhe(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const i=[];for(let s=0;s<r[1];s++)i.push(kg(e,null,r[0],n));return i}else return n.readArray(()=>kg(e,t,r[0],n))}if(r.kind==="option")return n.readU8()?kg(e,t,r.type,n):void 0;if(r.kind==="map"){let i=new Map;const s=n.readU32();for(let c=0;c<s;c++){const p=kg(e,t,r.key,n),o=kg(e,t,r.value,n);i.set(p,o)}return i}return fW(e,r,n)}catch(i){throw i instanceof hl&&i.addToFieldPath(t),i}}function fW(e,t,r){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new hl(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const i={};for(const[s,c]of e.get(t).fields)i[s]=kg(e,s,c,r);return new t(i)}if(n.kind==="enum"){const i=r.readU8();if(i>=n.values.length)throw new hl(`Enum index: ${i} is out of range`);const[s,c]=n.values[i],p=kg(e,s,c,r);return new t({[s]:p})}throw new hl(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function FMe(e,t,r,n=Tu){const i=new n(r),s=fW(e,t,i);if(i.offset<r.length)throw new hl(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}var Dhe=hs.deserialize=FMe;function jMe(e,t,r,n=Tu){const i=new n(r);return fW(e,t,i)}Phe=hs.deserializeUnchecked=jMe;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.s16=Gt.s8=Gt.nu64be=Gt.u48be=Gt.u40be=Gt.u32be=Gt.u24be=Gt.u16be=us=Gt.nu64=Gt.u48=Gt.u40=bn=Gt.u32=Gt.u24=Ju=Gt.u16=Vi=Gt.u8=iy=Gt.offset=Gt.greedy=Gt.Constant=Gt.UTF8=Gt.CString=Gt.Blob=Gt.Boolean=Gt.BitField=Gt.BitStructure=Gt.VariantLayout=Gt.Union=Gt.UnionLayoutDiscriminator=Gt.UnionDiscriminator=Gt.Structure=Gt.Sequence=Gt.DoubleBE=Gt.Double=Gt.FloatBE=Gt.Float=Gt.NearInt64BE=Gt.NearInt64=Gt.NearUInt64BE=Gt.NearUInt64=Gt.IntBE=Gt.Int=Gt.UIntBE=Gt.UInt=Gt.OffsetLayout=Gt.GreedyCount=Gt.ExternalLayout=Gt.bindConstructorLayout=Gt.nameWithProperty=Gt.Layout=Gt.uint8ArrayToBuffer=Gt.checkUint8Array=void 0;Gt.constant=Gt.utf8=Gt.cstr=wa=Gt.blob=Gt.unionLayoutDiscriminator=Gt.union=js=Gt.seq=Gt.bits=an=Gt.struct=Gt.f64be=Gt.f64=Gt.f32be=Gt.f32=Gt.ns64be=Gt.s48be=Gt.s40be=Gt.s32be=Gt.s24be=Gt.s16be=lu=Gt.ns64=Gt.s48=Gt.s40=Gt.s32=Gt.s24=void 0;const pW=M1;function V4(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Gt.checkUint8Array=V4;function Ri(e){return V4(e),pW.Buffer.from(e.buffer,e.byteOffset,e.length)}Gt.uint8ArrayToBuffer=Ri;class Xi{constructor(t,r){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=r}makeDestinationObject(){return{}}getSpan(t,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=t,r}fromArray(t){}}Gt.Layout=Xi;function hW(e,t){return t.property?e+"["+t.property+"]":e}Gt.nameWithProperty=hW;function VMe(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Xi))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(r,n){return t.encode(this,r,n)},writable:!0}),Object.defineProperty(e,"decode",{value(r,n){return t.decode(r,n)},writable:!0})}Gt.bindConstructorLayout=VMe;class Rl extends Xi{isCount(){throw new Error("ExternalLayout is abstract")}}Gt.ExternalLayout=Rl;class Rhe extends Rl{constructor(t=1,r){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=t}isCount(){return!0}decode(t,r=0){V4(t);const n=t.length-r;return Math.floor(n/this.elementSpan)}encode(t,r,n){return 0}}Gt.GreedyCount=Rhe;class mW extends Rl{constructor(t,r=0,n){if(!(t instanceof Xi))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=r}isCount(){return this.layout instanceof fc||this.layout instanceof hd}decode(t,r=0){return this.layout.decode(t,r+this.offset)}encode(t,r,n=0){return this.layout.encode(t,r,n+this.offset)}}Gt.OffsetLayout=mW;class fc extends Xi{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Ri(t).readUIntLE(r,this.span)}encode(t,r,n=0){return Ri(r).writeUIntLE(t,n,this.span),this.span}}Gt.UInt=fc;class hd extends Xi{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Ri(t).readUIntBE(r,this.span)}encode(t,r,n=0){return Ri(r).writeUIntBE(t,n,this.span),this.span}}Gt.UIntBE=hd;class Zy extends Xi{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Ri(t).readIntLE(r,this.span)}encode(t,r,n=0){return Ri(r).writeIntLE(t,n,this.span),this.span}}Gt.Int=Zy;class U4 extends Xi{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Ri(t).readIntBE(r,this.span)}encode(t,r,n=0){return Ri(r).writeIntBE(t,n,this.span),this.span}}Gt.IntBE=U4;const yN=Math.pow(2,32);function _I(e){const t=Math.floor(e/yN),r=e-t*yN;return{hi32:t,lo32:r}}function bI(e,t){return e*yN+t}class $he extends Xi{constructor(t){super(8,t)}decode(t,r=0){const n=Ri(t),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return bI(s,i)}encode(t,r,n=0){const i=_I(t),s=Ri(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}}Gt.NearUInt64=$he;class Lhe extends Xi{constructor(t){super(8,t)}decode(t,r=0){const n=Ri(t),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return bI(i,s)}encode(t,r,n=0){const i=_I(t),s=Ri(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}Gt.NearUInt64BE=Lhe;class Bhe extends Xi{constructor(t){super(8,t)}decode(t,r=0){const n=Ri(t),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return bI(s,i)}encode(t,r,n=0){const i=_I(t),s=Ri(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}}Gt.NearInt64=Bhe;class zhe extends Xi{constructor(t){super(8,t)}decode(t,r=0){const n=Ri(t),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return bI(i,s)}encode(t,r,n=0){const i=_I(t),s=Ri(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}Gt.NearInt64BE=zhe;class Nhe extends Xi{constructor(t){super(4,t)}decode(t,r=0){return Ri(t).readFloatLE(r)}encode(t,r,n=0){return Ri(r).writeFloatLE(t,n),4}}Gt.Float=Nhe;class Fhe extends Xi{constructor(t){super(4,t)}decode(t,r=0){return Ri(t).readFloatBE(r)}encode(t,r,n=0){return Ri(r).writeFloatBE(t,n),4}}Gt.FloatBE=Fhe;class jhe extends Xi{constructor(t){super(8,t)}decode(t,r=0){return Ri(t).readDoubleLE(r)}encode(t,r,n=0){return Ri(r).writeDoubleLE(t,n),8}}Gt.Double=jhe;class Vhe extends Xi{constructor(t){super(8,t)}decode(t,r=0){return Ri(t).readDoubleBE(r)}encode(t,r,n=0){return Ri(r).writeDoubleBE(t,n),8}}Gt.DoubleBE=Vhe;class Uhe extends Xi{constructor(t,r,n){if(!(t instanceof Xi))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Rl&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Rl)&&0<t.span&&(i=r*t.span),super(i,n),this.elementLayout=t,this.count=r}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Rl&&(i=i.decode(t,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(t,r+n),++s}return n}decode(t,r=0){const n=[];let i=0,s=this.count;for(s instanceof Rl&&(s=s.decode(t,r));i<s;)n.push(this.elementLayout.decode(t,r)),r+=this.elementLayout.getSpan(t,r),i+=1;return n}encode(t,r,n=0){const i=this.elementLayout,s=t.reduce((c,p)=>c+i.encode(p,r,n+c),0);return this.count instanceof Rl&&this.count.encode(t.length,r,n),s}}Gt.Sequence=Uhe;class Whe extends Xi{constructor(t,r,n){if(!(Array.isArray(t)&&t.reduce((s,c)=>s&&c instanceof Xi,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of t)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((s,c)=>s+c.getSpan(),0)}catch{}super(i,r),this.fields=t,this.decodePrefixes=!!n}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{const c=s.getSpan(t,r);return r+=c,i+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,r=0){V4(t);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(t,r)),r+=i.getSpan(t,r),this.decodePrefixes&&t.length===r)break;return n}encode(t,r,n=0){const i=n;let s=0,c=0;for(const p of this.fields){let o=p.span;if(c=0<o?o:0,p.property!==void 0){const g=t[p.property];g!==void 0&&(c=p.encode(g,r,n),0>o&&(o=p.getSpan(r,n)))}s=n,n+=o}return s+c-i}fromArray(t){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(r[n.property]=t.shift());return r}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===t)return r}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===t)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}Gt.Structure=Whe;class gW{constructor(t){this.property=t}decode(t,r){throw new Error("UnionDiscriminator is abstract")}encode(t,r,n){throw new Error("UnionDiscriminator is abstract")}}Gt.UnionDiscriminator=gW;class lP extends gW{constructor(t,r){if(!(t instanceof Rl&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||t.property||"variant"),this.layout=t}decode(t,r){return this.layout.decode(t,r)}encode(t,r,n){return this.layout.encode(t,r,n)}}Gt.UnionLayoutDiscriminator=lP;class yW extends Xi{constructor(t,r,n){let i;if(t instanceof fc||t instanceof hd)i=new lP(new mW(t));else if(t instanceof Rl&&t.isCount())i=new lP(t);else if(t instanceof gW)i=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Xi))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(t instanceof fc||t instanceof hd)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof fc||t instanceof hd,this.defaultLayout=r,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(p){return c(p)},this.configGetSourceVariant=function(p){c=p.bind(this)}}getSpan(t,r=0){if(0<=this.span)return this.span;const n=this.getVariant(t,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,r)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const r=this.registry[t[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(t,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,r=0){let n;const i=this.discriminator,s=i.decode(t,r),c=this.registry[s];if(c===void 0){const p=this.defaultLayout;let o=0;this.usesPrefixDiscriminator&&(o=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[p.property]=p.decode(t,r+o)}else n=c.decode(t,r);return n}encode(t,r,n=0){const i=this.getSourceVariant(t);if(i===void 0){const s=this.discriminator,c=this.defaultLayout;let p=0;return this.usesPrefixDiscriminator&&(p=s.layout.span),s.encode(t[s.property],r,n),p+c.encode(t[c.property],r,n+p)}return i.encode(t,r,n)}addVariant(t,r,n){const i=new Khe(this,t,r,n);return this.registry[t]=i,i}getVariant(t,r=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,r):n=t,this.registry[n]}}Gt.Union=yW;class Khe extends Xi{constructor(t,r,n,i){if(!(t instanceof yW))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Xi))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=t.span;0>t.span&&(s=n?n.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,i),this.union=t,this.variant=r,this.layout=n||null}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(t,r+n)),n+i}decode(t,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(t[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}Gt.VariantLayout=Khe;function rb(e){return 0>e&&(e+=4294967296),e}class vW extends Xi{constructor(t,r,n){if(!(t instanceof fc||t instanceof hd))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=rb(s),this},this._packedGetValue=function(){return i}}decode(t,r=0){const n=this.makeDestinationObject(),i=this.word.decode(t,r);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(t));return n}encode(t,r,n=0){const i=this.word.decode(r,n);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const c=t[s.property];c!==void 0&&s.encode(c)}return this.word.encode(this._packedGetValue(),r,n)}addField(t,r){const n=new _W(this,t,r);return this.fields.push(n),n}addBoolean(t){const r=new Hhe(this,t);return this.fields.push(r),r}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===t)return r}}Gt.BitStructure=vW;class _W{constructor(t,r,n){if(!(t instanceof vW))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const i=8*t.span,s=t.fields.reduce((c,p)=>c+p.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=t,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=rb(this.valueMask<<this.start),this.property=n}decode(t,r){const n=this.container._packedGetValue();return rb(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==rb(t&this.valueMask))throw new TypeError(hW("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=rb(t<<this.start);this.container._packedSetValue(rb(r&~this.wordMask)|n)}}Gt.BitField=_W;let Hhe=class extends _W{constructor(t,r){super(t,1,r)}decode(t,r){return!!super.decode(t,r)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};Gt.Boolean=Hhe;let Ghe=class extends Xi{constructor(t,r){if(!(t instanceof Rl&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Rl||(n=t),super(n,r),this.length=t}getSpan(t,r){let n=this.span;return 0>n&&(n=this.length.decode(t,r)),n}decode(t,r=0){let n=this.span;return 0>n&&(n=this.length.decode(t,r)),Ri(t).slice(r,r+n)}encode(t,r,n){let i=this.length;if(this.length instanceof Rl&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(hW("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");const s=Ri(t);return Ri(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof Rl&&this.length.encode(i,r,n),i}};Gt.Blob=Ghe;class qhe extends Xi{constructor(t){super(-1,t)}getSpan(t,r=0){V4(t);let n=r;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-r}decode(t,r=0){const n=this.getSpan(t,r);return Ri(t).slice(r,r+n-1).toString("utf-8")}encode(t,r,n=0){typeof t!="string"&&(t=String(t));const i=pW.Buffer.from(t,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");const c=Ri(r);return i.copy(c,n),c[n+s]=0,s+1}}Gt.CString=qhe;class Zhe extends Xi{constructor(t,r){if(typeof t=="string"&&r===void 0&&(r=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=t}getSpan(t,r=0){return V4(t),t.length-r}decode(t,r=0){const n=this.getSpan(t,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Ri(t).slice(r,r+n).toString("utf-8")}encode(t,r,n=0){typeof t!="string"&&(t=String(t));const i=pW.Buffer.from(t,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Ri(r),n),s}}Gt.UTF8=Zhe;class Xhe extends Xi{constructor(t,r){super(0,r),this.value=t}decode(t,r){return this.value}encode(t,r,n){return 0}}Gt.Constant=Xhe;Gt.greedy=(e,t)=>new Rhe(e,t);var iy=Gt.offset=(e,t,r)=>new mW(e,t,r),Vi=Gt.u8=e=>new fc(1,e),Ju=Gt.u16=e=>new fc(2,e);Gt.u24=e=>new fc(3,e);var bn=Gt.u32=e=>new fc(4,e);Gt.u40=e=>new fc(5,e);Gt.u48=e=>new fc(6,e);var us=Gt.nu64=e=>new $he(e);Gt.u16be=e=>new hd(2,e);Gt.u24be=e=>new hd(3,e);Gt.u32be=e=>new hd(4,e);Gt.u40be=e=>new hd(5,e);Gt.u48be=e=>new hd(6,e);Gt.nu64be=e=>new Lhe(e);Gt.s8=e=>new Zy(1,e);Gt.s16=e=>new Zy(2,e);Gt.s24=e=>new Zy(3,e);Gt.s32=e=>new Zy(4,e);Gt.s40=e=>new Zy(5,e);Gt.s48=e=>new Zy(6,e);var lu=Gt.ns64=e=>new Bhe(e);Gt.s16be=e=>new U4(2,e);Gt.s24be=e=>new U4(3,e);Gt.s32be=e=>new U4(4,e);Gt.s40be=e=>new U4(5,e);Gt.s48be=e=>new U4(6,e);Gt.ns64be=e=>new zhe(e);Gt.f32=e=>new Nhe(e);Gt.f32be=e=>new Fhe(e);Gt.f64=e=>new jhe(e);Gt.f64be=e=>new Vhe(e);var an=Gt.struct=(e,t,r)=>new Whe(e,t,r);Gt.bits=(e,t,r)=>new vW(e,t,r);var js=Gt.seq=(e,t,r)=>new Uhe(e,t,r);Gt.union=(e,t,r)=>new yW(e,t,r);Gt.unionLayoutDiscriminator=(e,t)=>new lP(e,t);var wa=Gt.blob=(e,t)=>new Ghe(e,t);Gt.cstr=e=>new qhe(e);Gt.utf8=(e,t)=>new Zhe(e,t);Gt.constant=(e,t)=>new Xhe(e,t);var r9={};Object.defineProperty(r9,"__esModule",{value:!0});function UMe(e){{const t=Nn.from(e);t.reverse();const r=t.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}}var WMe=r9.toBigIntLE=UMe;function KMe(e){{const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}r9.toBigIntBE=KMe;function HMe(e,t){{const r=e.toString(16),n=Nn.from(r.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}}var GMe=r9.toBufferLE=HMe;function qMe(e,t){{const r=e.toString(16);return Nn.from(r.padStart(t*2,"0").slice(0,t*2),"hex")}}r9.toBufferBE=qMe;class ZMe extends TypeError{constructor(t,r){let n;const{message:i,explanation:s,...c}=t,{path:p}=t,o=p.length===0?i:`At path: ${p.join(".")} -- ${i}`;super(s??o),s!=null&&(this.cause=o),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function XMe(e){return n9(e)&&typeof e[Symbol.iterator]=="function"}function n9(e){return typeof e=="object"&&e!=null}function uP(e){return n9(e)&&!Array.isArray(e)}function yd(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function YMe(e){const{done:t,value:r}=e.next();return t?void 0:r}function JMe(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:c}=r,{refinement:p,message:o=`Expected a value of type \`${c}\`${p?` with refinement \`${p}\``:""}, but received: \`${yd(n)}\``}=e;return{value:n,type:c,refinement:p,key:i[i.length-1],path:i,branch:s,...e,message:o}}function*xee(e,t,r,n){XMe(e)||(e=[e]);for(const i of e){const s=JMe(i,t,r,n);s&&(yield s)}}function*bW(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:c=!1}=r,p={path:n,branch:i,mask:c};s&&(e=t.coercer(e,p));let o="valid";for(const g of t.validator(e,p))g.explanation=r.message,o="not_valid",yield[g,void 0];for(let[g,y,x]of t.entries(e,p)){const E=bW(y,x,{path:g===void 0?n:[...n,g],branch:g===void 0?i:[...i,y],coerce:s,mask:c,message:r.message});for(const A of E)A[0]?(o=A[0].refinement!=null?"not_refined":"not_valid",yield[A[0],void 0]):s&&(y=A[1],g===void 0?e=y:e instanceof Map?e.set(g,y):e instanceof Set?e.add(y):n9(e)&&(y!==void 0||g in e)&&(e[g]=y))}if(o!=="not_valid")for(const g of t.refiner(e,p))g.explanation=r.message,o="not_refined",yield[g,void 0];o==="valid"&&(yield[void 0,e])}let Af=class{constructor(t){const{type:r,schema:n,validator:i,refiner:s,coercer:c=o=>o,entries:p=function*(){}}=t;this.type=r,this.schema=n,this.entries=p,this.coercer=c,i?this.validator=(o,g)=>{const y=i(o,g);return xee(y,g,this,o)}:this.validator=()=>[],s?this.refiner=(o,g)=>{const y=s(o,g);return xee(y,g,this,o)}:this.refiner=()=>[]}assert(t,r){return QMe(t,this,r)}create(t,r){return Dr(t,this,r)}is(t){return Yhe(t,this)}mask(t,r){return eke(t,this,r)}validate(t,r={}){return i9(t,this,r)}};function QMe(e,t,r){const n=i9(e,t,{message:r});if(n[0])throw n[0]}function Dr(e,t,r){const n=i9(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function eke(e,t,r){const n=i9(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Yhe(e,t){return!i9(e,t)[0]}function i9(e,t,r={}){const n=bW(e,t,r),i=YMe(n);return i[0]?[new ZMe(i[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0]:[void 0,i[1]]}function Xy(e,t){return new Af({type:e,schema:null,validator:t})}function tke(){return Xy("any",()=>!0)}function jr(e){return new Af({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${yd(t)}`}})}function vf(){return Xy("boolean",e=>typeof e=="boolean")}function xW(e){return Xy("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${yd(t)}`)}function Va(e){const t=yd(e),r=typeof e;return new Af({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${yd(n)}`}})}function rke(){return Xy("never",()=>!1)}function Vr(e){return new Af({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function Vt(){return Xy("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${yd(e)}`)}function Tn(e){return new Af({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function Jhe(e,t){return new Af({type:"record",schema:null,*entries(r){if(n9(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return uP(r)||`Expected an object, but received: ${yd(r)}`},coercer(r){return uP(r)?{...r}:r}})}function Cr(){return Xy("string",e=>typeof e=="string"||`Expected a string, but received: ${yd(e)}`)}function wW(e){const t=rke();return new Af({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${yd(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function hr(e){const t=Object.keys(e);return new Af({type:"type",schema:e,*entries(r){if(n9(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return uP(r)||`Expected an object, but received: ${yd(r)}`},coercer(r){return uP(r)?{...r}:r}})}function vl(e){const t=e.map(r=>r.type).join(" | ");return new Af({type:"union",schema:null,coercer(r,n){for(const i of e){const[s,c]=i.validate(r,{coerce:!0,mask:n.mask});if(!s)return c}return r},validator(r,n){const i=[];for(const s of e){const[...c]=bW(r,s,n),[p]=c;if(p[0])for(const[o]of c)o&&i.push(o);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${yd(r)}`,...i]}})}function W4(){return Xy("unknown",()=>!0)}function a9(e,t,r){return new Af({...e,coercer:(n,i)=>Yhe(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}var OE,nke=new Uint8Array(16);function Qhe(){if(!OE&&(OE=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!OE))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return OE(nke)}const ike=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function xI(e){return typeof e=="string"&&ike.test(e)}var ls=[];for(var JR=0;JR<256;++JR)ls.push((JR+256).toString(16).substr(1));function wI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(ls[e[t+0]]+ls[e[t+1]]+ls[e[t+2]]+ls[e[t+3]]+"-"+ls[e[t+4]]+ls[e[t+5]]+"-"+ls[e[t+6]]+ls[e[t+7]]+"-"+ls[e[t+8]]+ls[e[t+9]]+"-"+ls[e[t+10]]+ls[e[t+11]]+ls[e[t+12]]+ls[e[t+13]]+ls[e[t+14]]+ls[e[t+15]]).toLowerCase();if(!xI(r))throw TypeError("Stringified UUID is invalid");return r}var wee,QR,e$=0,t$=0;function ake(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var s=e.node||wee,c=e.clockseq!==void 0?e.clockseq:QR;if(s==null||c==null){var p=e.random||(e.rng||Qhe)();s==null&&(s=wee=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),c==null&&(c=QR=(p[6]<<8|p[7])&16383)}var o=e.msecs!==void 0?e.msecs:Date.now(),g=e.nsecs!==void 0?e.nsecs:t$+1,y=o-e$+(g-t$)/1e4;if(y<0&&e.clockseq===void 0&&(c=c+1&16383),(y<0||o>e$)&&e.nsecs===void 0&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");e$=o,t$=g,QR=c,o+=122192928e5;var x=((o&268435455)*1e4+g)%4294967296;i[n++]=x>>>24&255,i[n++]=x>>>16&255,i[n++]=x>>>8&255,i[n++]=x&255;var E=o/4294967296*1e4&268435455;i[n++]=E>>>8&255,i[n++]=E&255,i[n++]=E>>>24&15|16,i[n++]=E>>>16&255,i[n++]=c>>>8|128,i[n++]=c&255;for(var A=0;A<6;++A)i[n+A]=s[A];return t||wI(i)}function eme(e){if(!xI(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function oke(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var ske="6ba7b810-9dad-11d1-80b4-00c04fd430c8",lke="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function tme(e,t,r){function n(i,s,c,p){if(typeof i=="string"&&(i=oke(i)),typeof s=="string"&&(s=eme(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+i.length);if(o.set(s),o.set(i,s.length),o=r(o),o[6]=o[6]&15|t,o[8]=o[8]&63|128,c){p=p||0;for(var g=0;g<16;++g)c[p+g]=o[g];return c}return wI(o)}try{n.name=e}catch{}return n.DNS=ske,n.URL=lke,n}function uke(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return cke(dke(fke(e),e.length*8))}function cke(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var s=e[i>>5]>>>i%32&255,c=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);t.push(c)}return t}function rme(e){return(e+64>>>9<<4)+14+1}function dke(e,t){e[t>>5]|=128<<t%32,e[rme(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,c=0;c<e.length;c+=16){var p=r,o=n,g=i,y=s;r=Is(r,n,i,s,e[c],7,-680876936),s=Is(s,r,n,i,e[c+1],12,-389564586),i=Is(i,s,r,n,e[c+2],17,606105819),n=Is(n,i,s,r,e[c+3],22,-1044525330),r=Is(r,n,i,s,e[c+4],7,-176418897),s=Is(s,r,n,i,e[c+5],12,1200080426),i=Is(i,s,r,n,e[c+6],17,-1473231341),n=Is(n,i,s,r,e[c+7],22,-45705983),r=Is(r,n,i,s,e[c+8],7,1770035416),s=Is(s,r,n,i,e[c+9],12,-1958414417),i=Is(i,s,r,n,e[c+10],17,-42063),n=Is(n,i,s,r,e[c+11],22,-1990404162),r=Is(r,n,i,s,e[c+12],7,1804603682),s=Is(s,r,n,i,e[c+13],12,-40341101),i=Is(i,s,r,n,e[c+14],17,-1502002290),n=Is(n,i,s,r,e[c+15],22,1236535329),r=Ms(r,n,i,s,e[c+1],5,-165796510),s=Ms(s,r,n,i,e[c+6],9,-1069501632),i=Ms(i,s,r,n,e[c+11],14,643717713),n=Ms(n,i,s,r,e[c],20,-373897302),r=Ms(r,n,i,s,e[c+5],5,-701558691),s=Ms(s,r,n,i,e[c+10],9,38016083),i=Ms(i,s,r,n,e[c+15],14,-660478335),n=Ms(n,i,s,r,e[c+4],20,-405537848),r=Ms(r,n,i,s,e[c+9],5,568446438),s=Ms(s,r,n,i,e[c+14],9,-1019803690),i=Ms(i,s,r,n,e[c+3],14,-187363961),n=Ms(n,i,s,r,e[c+8],20,1163531501),r=Ms(r,n,i,s,e[c+13],5,-1444681467),s=Ms(s,r,n,i,e[c+2],9,-51403784),i=Ms(i,s,r,n,e[c+7],14,1735328473),n=Ms(n,i,s,r,e[c+12],20,-1926607734),r=ks(r,n,i,s,e[c+5],4,-378558),s=ks(s,r,n,i,e[c+8],11,-2022574463),i=ks(i,s,r,n,e[c+11],16,1839030562),n=ks(n,i,s,r,e[c+14],23,-35309556),r=ks(r,n,i,s,e[c+1],4,-1530992060),s=ks(s,r,n,i,e[c+4],11,1272893353),i=ks(i,s,r,n,e[c+7],16,-155497632),n=ks(n,i,s,r,e[c+10],23,-1094730640),r=ks(r,n,i,s,e[c+13],4,681279174),s=ks(s,r,n,i,e[c],11,-358537222),i=ks(i,s,r,n,e[c+3],16,-722521979),n=ks(n,i,s,r,e[c+6],23,76029189),r=ks(r,n,i,s,e[c+9],4,-640364487),s=ks(s,r,n,i,e[c+12],11,-421815835),i=ks(i,s,r,n,e[c+15],16,530742520),n=ks(n,i,s,r,e[c+2],23,-995338651),r=Os(r,n,i,s,e[c],6,-198630844),s=Os(s,r,n,i,e[c+7],10,1126891415),i=Os(i,s,r,n,e[c+14],15,-1416354905),n=Os(n,i,s,r,e[c+5],21,-57434055),r=Os(r,n,i,s,e[c+12],6,1700485571),s=Os(s,r,n,i,e[c+3],10,-1894986606),i=Os(i,s,r,n,e[c+10],15,-1051523),n=Os(n,i,s,r,e[c+1],21,-2054922799),r=Os(r,n,i,s,e[c+8],6,1873313359),s=Os(s,r,n,i,e[c+15],10,-30611744),i=Os(i,s,r,n,e[c+6],15,-1560198380),n=Os(n,i,s,r,e[c+13],21,1309151649),r=Os(r,n,i,s,e[c+4],6,-145523070),s=Os(s,r,n,i,e[c+11],10,-1120210379),i=Os(i,s,r,n,e[c+2],15,718787259),n=Os(n,i,s,r,e[c+9],21,-343485551),r=n1(r,p),n=n1(n,o),i=n1(i,g),s=n1(s,y)}return[r,n,i,s]}function fke(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(rme(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function n1(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function pke(e,t){return e<<t|e>>>32-t}function SI(e,t,r,n,i,s){return n1(pke(n1(n1(t,e),n1(n,s)),i),r)}function Is(e,t,r,n,i,s,c){return SI(t&r|~t&n,e,t,i,s,c)}function Ms(e,t,r,n,i,s,c){return SI(t&n|r&~n,e,t,i,s,c)}function ks(e,t,r,n,i,s,c){return SI(t^r^n,e,t,i,s,c)}function Os(e,t,r,n,i,s,c){return SI(r^(t|~n),e,t,i,s,c)}var hke=tme("v3",48,uke);const mke=hke;function gke(e,t,r){e=e||{};var n=e.random||(e.rng||Qhe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return wI(n)}function yke(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function r$(e,t){return e<<t|e>>>32-t}function vke(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,c=Math.ceil(s/16),p=new Array(c),o=0;o<c;++o){for(var g=new Uint32Array(16),y=0;y<16;++y)g[y]=e[o*64+y*4]<<24|e[o*64+y*4+1]<<16|e[o*64+y*4+2]<<8|e[o*64+y*4+3];p[o]=g}p[c-1][14]=(e.length-1)*8/Math.pow(2,32),p[c-1][14]=Math.floor(p[c-1][14]),p[c-1][15]=(e.length-1)*8&4294967295;for(var x=0;x<c;++x){for(var E=new Uint32Array(80),A=0;A<16;++A)E[A]=p[x][A];for(var M=16;M<80;++M)E[M]=r$(E[M-3]^E[M-8]^E[M-14]^E[M-16],1);for(var R=r[0],k=r[1],D=r[2],$=r[3],B=r[4],V=0;V<80;++V){var U=Math.floor(V/20),Z=r$(R,5)+yke(U,k,D,$)+B+t[U]+E[V]>>>0;B=$,$=D,D=r$(k,30)>>>0,k=R,R=Z}r[0]=r[0]+R>>>0,r[1]=r[1]+k>>>0,r[2]=r[2]+D>>>0,r[3]=r[3]+$>>>0,r[4]=r[4]+B>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var _ke=tme("v5",80,vke);const bke=_ke,xke="00000000-0000-0000-0000-000000000000";function wke(e){if(!xI(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const Ske=Object.freeze(Object.defineProperty({__proto__:null,NIL:xke,parse:eme,stringify:wI,v1:ake,v3:mke,v4:gke,v5:bke,validate:xI,version:wke},Symbol.toStringTag,{value:"Module"})),nme=U1(Ske),Eke=nme.v4,Ake=function(e,t,r,n){if(typeof e!="string")throw new TypeError(e+" must be a string");n=n||{};const i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:e};if(i===2&&(s.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");s.params=t}if(typeof r>"u"){const c=typeof n.generator=="function"?n.generator:function(){return Eke()};s.id=c(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s};var Tke=Ake;const Pke=nme.v4,Cke=Tke,L5=function(e,t){if(!(this instanceof L5))return new L5(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return Pke()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=e};var Ike=L5;L5.prototype.request=function(e,t,r,n){const i=this;let s=null;const c=Array.isArray(e)&&typeof t=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&e&&typeof e=="object"&&typeof t=="function")n=t,s=e;else{typeof r=="function"&&(n=r,r=void 0);const g=typeof n=="function";try{s=Cke(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(y){if(g)return n(y);throw y}if(!g)return s}let o;try{o=JSON.stringify(s,this.options.replacer)}catch(g){return n(g)}return this.callServer(o,function(g,y){i._parseResponse(g,y,n)}),s};L5.prototype._parseResponse=function(e,t,r){if(e){r(e);return}if(!t)return r();let n;try{n=JSON.parse(t,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){const i=function(c){return typeof c.error<"u"},s=function(c){return!i(c)};return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)};const Mke=oi(Ike);var ime={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(o,g,y){this.fn=o,this.context=g,this.once=y||!1}function s(o,g,y,x,E){if(typeof y!="function")throw new TypeError("The listener must be a function");var A=new i(y,x||o,E),M=r?r+g:g;return o._events[M]?o._events[M].fn?o._events[M]=[o._events[M],A]:o._events[M].push(A):(o._events[M]=A,o._eventsCount++),o}function c(o,g){--o._eventsCount===0?o._events=new n:delete o._events[g]}function p(){this._events=new n,this._eventsCount=0}p.prototype.eventNames=function(){var g=[],y,x;if(this._eventsCount===0)return g;for(x in y=this._events)t.call(y,x)&&g.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(y)):g},p.prototype.listeners=function(g){var y=r?r+g:g,x=this._events[y];if(!x)return[];if(x.fn)return[x.fn];for(var E=0,A=x.length,M=new Array(A);E<A;E++)M[E]=x[E].fn;return M},p.prototype.listenerCount=function(g){var y=r?r+g:g,x=this._events[y];return x?x.fn?1:x.length:0},p.prototype.emit=function(g,y,x,E,A,M){var R=r?r+g:g;if(!this._events[R])return!1;var k=this._events[R],D=arguments.length,$,B;if(k.fn){switch(k.once&&this.removeListener(g,k.fn,void 0,!0),D){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,y),!0;case 3:return k.fn.call(k.context,y,x),!0;case 4:return k.fn.call(k.context,y,x,E),!0;case 5:return k.fn.call(k.context,y,x,E,A),!0;case 6:return k.fn.call(k.context,y,x,E,A,M),!0}for(B=1,$=new Array(D-1);B<D;B++)$[B-1]=arguments[B];k.fn.apply(k.context,$)}else{var V=k.length,U;for(B=0;B<V;B++)switch(k[B].once&&this.removeListener(g,k[B].fn,void 0,!0),D){case 1:k[B].fn.call(k[B].context);break;case 2:k[B].fn.call(k[B].context,y);break;case 3:k[B].fn.call(k[B].context,y,x);break;case 4:k[B].fn.call(k[B].context,y,x,E);break;default:if(!$)for(U=1,$=new Array(D-1);U<D;U++)$[U-1]=arguments[U];k[B].fn.apply(k[B].context,$)}}return!0},p.prototype.on=function(g,y,x){return s(this,g,y,x,!1)},p.prototype.once=function(g,y,x){return s(this,g,y,x,!0)},p.prototype.removeListener=function(g,y,x,E){var A=r?r+g:g;if(!this._events[A])return this;if(!y)return c(this,A),this;var M=this._events[A];if(M.fn)M.fn===y&&(!E||M.once)&&(!x||M.context===x)&&c(this,A);else{for(var R=0,k=[],D=M.length;R<D;R++)(M[R].fn!==y||E&&!M[R].once||x&&M[R].context!==x)&&k.push(M[R]);k.length?this._events[A]=k.length===1?k[0]:k:c(this,A)}return this},p.prototype.removeAllListeners=function(g){var y;return g?(y=r?r+g:g,this._events[y]&&c(this,y)):(this._events=new n,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=r,p.EventEmitter=p,e.exports=p})(ime);var kke=ime.exports;const ame=oi(kke);var Oke=class extends ame{constructor(t,r,n){super();Zn(this,"socket");this.socket=new window.WebSocket(t,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(t,r,n){const i=n||r;try{this.socket.send(t),i()}catch(s){i(s)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,n){this.socket.addEventListener(t,r,n)}};function Dke(e,t){return new Oke(e,t)}var Rke=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},$ke=class extends ame{constructor(t,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:c=5,...p}={},o,g){super();Zn(this,"address");Zn(this,"rpc_id");Zn(this,"queue");Zn(this,"options");Zn(this,"autoconnect");Zn(this,"ready");Zn(this,"reconnect");Zn(this,"reconnect_timer_id");Zn(this,"reconnect_interval");Zn(this,"max_reconnects");Zn(this,"rest_options");Zn(this,"current_reconnects");Zn(this,"generate_request_id");Zn(this,"socket");Zn(this,"webSocketFactory");Zn(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=c,this.rest_options=p,this.current_reconnects=0,this.generate_request_id=o||(()=>++this.rpc_id),g?this.dataPack=g:this.dataPack=new Rke,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((s,c)=>{if(!this.ready)return c(new Error("socket not ready"));const p=this.generate_request_id(t,r),o={jsonrpc:"2.0",method:t,params:r||void 0,id:p};this.socket.send(this.dataPack.encode(o),i,g=>{if(g)return c(g);this.queue[p]={promise:[s,c]},n&&(this.queue[p].timeout=setTimeout(()=>{delete this.queue[p],c(new Error("reply timeout"))},n))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(s),c=>{if(c)return i(c);n()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=Qn.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let s=0;s<n.params.length;s++)i.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n==null?void 0:n.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}};const ome=[],sme=[],lme=[],Lke=BigInt(0),g2=BigInt(1),Bke=BigInt(2),zke=BigInt(7),Nke=BigInt(256),Fke=BigInt(113);for(let e=0,t=g2,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],ome.push(2*(5*n+r)),sme.push((e+1)*(e+2)/2%64);let i=Lke;for(let s=0;s<7;s++)t=(t<<g2^(t>>zke)*Fke)%Nke,t&Bke&&(i^=g2<<(g2<<BigInt(s))-g2);lme.push(i)}const[jke,Vke]=phe(lme,!0),See=(e,t,r)=>r>32?ghe(e,t,r):hhe(e,t,r),Eee=(e,t,r)=>r>32?yhe(e,t,r):mhe(e,t,r);function ume(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let c=0;c<10;c++)r[c]=e[c]^e[c+10]^e[c+20]^e[c+30]^e[c+40];for(let c=0;c<10;c+=2){const p=(c+8)%10,o=(c+2)%10,g=r[o],y=r[o+1],x=See(g,y,1)^r[p],E=Eee(g,y,1)^r[p+1];for(let A=0;A<50;A+=10)e[c+A]^=x,e[c+A+1]^=E}let i=e[2],s=e[3];for(let c=0;c<24;c++){const p=sme[c],o=See(i,s,p),g=Eee(i,s,p),y=ome[c];i=e[y],s=e[y+1],e[y]=o,e[y+1]=g}for(let c=0;c<50;c+=10){for(let p=0;p<10;p++)r[p]=e[c+p];for(let p=0;p<10;p++)e[c+p]^=~r[(p+2)%10]&r[(p+4)%10]}e[0]^=jke[n],e[1]^=Vke[n]}r.fill(0)}class o9 extends nW{constructor(t,r,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,nP(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=oIe(this.state)}keccak(){dee||fee(this.state32),ume(this.state32,this.rounds),dee||fee(this.state32),this.posOut=0,this.pos=0}update(t){Px(this);const{blockLen:r,state:n}=this;t=e9(t);const i=t.length;for(let s=0;s<i;){const c=Math.min(r-this.pos,i-s);for(let p=0;p<c;p++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Px(this,!1),Q8(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const c=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return nP(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(uhe(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:c}=this;return t||(t=new o9(r,n,i,c,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=c,t.destroyed=this.destroyed,t}}const G1=(e,t,r)=>iW(()=>new o9(t,e,r)),Uke=G1(6,144,224/8),Wke=G1(6,136,256/8),Kke=G1(6,104,384/8),Hke=G1(6,72,512/8),Gke=G1(1,144,224/8),qke=G1(1,136,256/8),Zke=G1(1,104,384/8),Xke=G1(1,72,512/8),cme=(e,t,r)=>cIe((n={})=>new o9(t,e,n.dkLen===void 0?r:n.dkLen,!0)),Yke=cme(31,168,128/8),Jke=cme(31,136,256/8),Qke=Object.freeze(Object.defineProperty({__proto__:null,Keccak:o9,keccakP:ume,keccak_224:Gke,keccak_256:qke,keccak_384:Zke,keccak_512:Xke,sha3_224:Uke,sha3_256:Wke,sha3_384:Kke,sha3_512:Hke,shake128:Yke,shake256:Jke},Symbol.toStringTag,{value:"Module"}));class dme extends nW{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,aIe(t);const n=e9(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let c=0;c<s.length;c++)s[c]^=54;this.iHash.update(s),this.oHash=t.create();for(let c=0;c<s.length;c++)s[c]^=106;this.oHash.update(s),s.fill(0)}update(t){return Px(this),this.iHash.update(t),this}digestInto(t){Px(this),Q8(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:c,outputLen:p}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=c,t.outputLen=p,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const fme=(e,t,r)=>new dme(e,t).update(r).digest();fme.create=(e,t)=>new dme(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Aee(e){e.lowS!==void 0&&Up("lowS",e.lowS),e.prehash!==void 0&&Up("prehash",e.prehash)}function eOe(e){const t=lW(e);j4(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:tOe,hexToBytes:rOe}=UIe,xp={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{const{Err:r}=xp;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=Tb(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Tb(i.length/2|128):"";return`${Tb(e)}${s}${i}${t}`},decode(e,t){const{Err:r}=xp;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++],s=!!(i&128);let c=0;if(!s)c=i;else{const o=i&127;if(!o)throw new r("tlv.decode(long): indefinite length not supported");if(o>4)throw new r("tlv.decode(long): byte length is too big");const g=t.subarray(n,n+o);if(g.length!==o)throw new r("tlv.decode: length bytes not complete");if(g[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const y of g)c=c<<8|y;if(n+=o,c<128)throw new r("tlv.decode(long): not minimal encoding")}const p=t.subarray(n,n+c);if(p.length!==c)throw new r("tlv.decode: wrong value length");return{v:p,l:t.subarray(n+c)}}},_int:{encode(e){const{Err:t}=xp;if(e<Cp)throw new t("integer: negative integers are not allowed");let r=Tb(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected assertion");return r},decode(e){const{Err:t}=xp;if(e[0]&128)throw new t("Invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return tOe(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=xp,i=typeof e=="string"?rOe(e):e;t9(i);const{v:s,l:c}=n.decode(48,i);if(c.length)throw new t("Invalid signature: left bytes after parsing");const{v:p,l:o}=n.decode(2,s),{v:g,l:y}=n.decode(2,o);if(y.length)throw new t("Invalid signature: left bytes after parsing");return{r:r.decode(p),s:r.decode(g)}},hexFromSig(e){const{_tlv:t,_int:r}=xp,n=`${t.encode(2,r.encode(e.r))}${t.encode(2,r.encode(e.s))}`;return t.encode(48,n)}},Cp=BigInt(0),Ko=BigInt(1);BigInt(2);const Tee=BigInt(3);BigInt(4);function nOe(e){const t=eOe(e),{Fp:r}=t,n=gI(t.n,t.nBitLength),i=t.toBytes||((R,k,D)=>{const $=k.toAffine();return by(Uint8Array.from([4]),r.toBytes($.x),r.toBytes($.y))}),s=t.fromBytes||(R=>{const k=R.subarray(1),D=r.fromBytes(k.subarray(0,r.BYTES)),$=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:D,y:$}});function c(R){const{a:k,b:D}=t,$=r.sqr(R),B=r.mul($,R);return r.add(r.add(B,r.mul(R,k)),D)}if(!r.eql(r.sqr(t.Gy),c(t.Gx)))throw new Error("bad generator point: equation left != right");function p(R){return mI(R,Ko,t.n)}function o(R){const{allowedPrivateKeyLengths:k,nByteLength:D,wrapPrivateKey:$,n:B}=t;if(k&&typeof R!="bigint"){if(vy(R)&&(R=_y(R)),typeof R!="string"||!k.includes(R.length))throw new Error("Invalid key");R=R.padStart(D*2,"0")}let V;try{V=typeof R=="bigint"?R:ny(Do("private key",R,D))}catch{throw new Error(`private key must be ${D} bytes, hex or bigint, not ${typeof R}`)}return $&&(V=Oa(V,B)),ac("private key",V,Ko,B),V}function g(R){if(!(R instanceof E))throw new Error("ProjectivePoint expected")}const y=$5((R,k)=>{const{px:D,py:$,pz:B}=R;if(r.eql(B,r.ONE))return{x:D,y:$};const V=R.is0();k==null&&(k=V?r.ONE:r.inv(B));const U=r.mul(D,k),Z=r.mul($,k),ne=r.mul(B,k);if(V)return{x:r.ZERO,y:r.ZERO};if(!r.eql(ne,r.ONE))throw new Error("invZ was invalid");return{x:U,y:Z}}),x=$5(R=>{if(R.is0()){if(t.allowInfinityPoint&&!r.is0(R.py))return;throw new Error("bad point: ZERO")}const{x:k,y:D}=R.toAffine();if(!r.isValid(k)||!r.isValid(D))throw new Error("bad point: x or y not FE");const $=r.sqr(D),B=c(k);if(!r.eql($,B))throw new Error("bad point: equation left != right");if(!R.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class E{constructor(k,D,$){if(this.px=k,this.py=D,this.pz=$,k==null||!r.isValid(k))throw new Error("x required");if(D==null||!r.isValid(D))throw new Error("y required");if($==null||!r.isValid($))throw new Error("z required");Object.freeze(this)}static fromAffine(k){const{x:D,y:$}=k||{};if(!k||!r.isValid(D)||!r.isValid($))throw new Error("invalid affine point");if(k instanceof E)throw new Error("projective point not allowed");const B=V=>r.eql(V,r.ZERO);return B(D)&&B($)?E.ZERO:new E(D,$,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){const D=r.invertBatch(k.map($=>$.pz));return k.map(($,B)=>$.toAffine(D[B])).map(E.fromAffine)}static fromHex(k){const D=E.fromAffine(s(Do("pointHex",k)));return D.assertValidity(),D}static fromPrivateKey(k){return E.BASE.multiply(o(k))}static msm(k,D){return Ehe(E,n,k,D)}_setWindowSize(k){M.setWindowSize(this,k)}assertValidity(){x(this)}hasEvenY(){const{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){g(k);const{px:D,py:$,pz:B}=this,{px:V,py:U,pz:Z}=k,ne=r.eql(r.mul(D,Z),r.mul(V,B)),j=r.eql(r.mul($,Z),r.mul(U,B));return ne&&j}negate(){return new E(this.px,r.neg(this.py),this.pz)}double(){const{a:k,b:D}=t,$=r.mul(D,Tee),{px:B,py:V,pz:U}=this;let Z=r.ZERO,ne=r.ZERO,j=r.ZERO,fe=r.mul(B,B),be=r.mul(V,V),pe=r.mul(U,U),le=r.mul(B,V);return le=r.add(le,le),j=r.mul(B,U),j=r.add(j,j),Z=r.mul(k,j),ne=r.mul($,pe),ne=r.add(Z,ne),Z=r.sub(be,ne),ne=r.add(be,ne),ne=r.mul(Z,ne),Z=r.mul(le,Z),j=r.mul($,j),pe=r.mul(k,pe),le=r.sub(fe,pe),le=r.mul(k,le),le=r.add(le,j),j=r.add(fe,fe),fe=r.add(j,fe),fe=r.add(fe,pe),fe=r.mul(fe,le),ne=r.add(ne,fe),pe=r.mul(V,U),pe=r.add(pe,pe),fe=r.mul(pe,le),Z=r.sub(Z,fe),j=r.mul(pe,be),j=r.add(j,j),j=r.add(j,j),new E(Z,ne,j)}add(k){g(k);const{px:D,py:$,pz:B}=this,{px:V,py:U,pz:Z}=k;let ne=r.ZERO,j=r.ZERO,fe=r.ZERO;const be=t.a,pe=r.mul(t.b,Tee);let le=r.mul(D,V),G=r.mul($,U),N=r.mul(B,Z),Y=r.add(D,$),te=r.add(V,U);Y=r.mul(Y,te),te=r.add(le,G),Y=r.sub(Y,te),te=r.add(D,B);let re=r.add(V,Z);return te=r.mul(te,re),re=r.add(le,N),te=r.sub(te,re),re=r.add($,B),ne=r.add(U,Z),re=r.mul(re,ne),ne=r.add(G,N),re=r.sub(re,ne),fe=r.mul(be,te),ne=r.mul(pe,N),fe=r.add(ne,fe),ne=r.sub(G,fe),fe=r.add(G,fe),j=r.mul(ne,fe),G=r.add(le,le),G=r.add(G,le),N=r.mul(be,N),te=r.mul(pe,te),G=r.add(G,N),N=r.sub(le,N),N=r.mul(be,N),te=r.add(te,N),le=r.mul(G,te),j=r.add(j,le),le=r.mul(re,te),ne=r.mul(Y,ne),ne=r.sub(ne,le),le=r.mul(Y,G),fe=r.mul(re,fe),fe=r.add(fe,le),new E(ne,j,fe)}subtract(k){return this.add(k.negate())}is0(){return this.equals(E.ZERO)}wNAF(k){return M.wNAFCached(this,k,E.normalizeZ)}multiplyUnsafe(k){ac("scalar",k,Cp,t.n);const D=E.ZERO;if(k===Cp)return D;if(k===Ko)return this;const{endo:$}=t;if(!$)return M.unsafeLadder(this,k);let{k1neg:B,k1:V,k2neg:U,k2:Z}=$.splitScalar(k),ne=D,j=D,fe=this;for(;V>Cp||Z>Cp;)V&Ko&&(ne=ne.add(fe)),Z&Ko&&(j=j.add(fe)),fe=fe.double(),V>>=Ko,Z>>=Ko;return B&&(ne=ne.negate()),U&&(j=j.negate()),j=new E(r.mul(j.px,$.beta),j.py,j.pz),ne.add(j)}multiply(k){const{endo:D,n:$}=t;ac("scalar",k,Ko,$);let B,V;if(D){const{k1neg:U,k1:Z,k2neg:ne,k2:j}=D.splitScalar(k);let{p:fe,f:be}=this.wNAF(Z),{p:pe,f:le}=this.wNAF(j);fe=M.constTimeNegate(U,fe),pe=M.constTimeNegate(ne,pe),pe=new E(r.mul(pe.px,D.beta),pe.py,pe.pz),B=fe.add(pe),V=be.add(le)}else{const{p:U,f:Z}=this.wNAF(k);B=U,V=Z}return E.normalizeZ([B,V])[0]}multiplyAndAddUnsafe(k,D,$){const B=E.BASE,V=(Z,ne)=>ne===Cp||ne===Ko||!Z.equals(B)?Z.multiplyUnsafe(ne):Z.multiply(ne),U=V(this,D).add(V(k,$));return U.is0()?void 0:U}toAffine(k){return y(this,k)}isTorsionFree(){const{h:k,isTorsionFree:D}=t;if(k===Ko)return!0;if(D)return D(E,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:k,clearCofactor:D}=t;return k===Ko?this:D?D(E,this):this.multiplyUnsafe(t.h)}toRawBytes(k=!0){return Up("isCompressed",k),this.assertValidity(),i(E,this,k)}toHex(k=!0){return Up("isCompressed",k),_y(this.toRawBytes(k))}}E.BASE=new E(t.Gx,t.Gy,r.ONE),E.ZERO=new E(r.ZERO,r.ONE,r.ZERO);const A=t.nBitLength,M=She(E,t.endo?Math.ceil(A/2):A);return{CURVE:t,ProjectivePoint:E,normPrivateKeyToScalar:o,weierstrassEquation:c,isWithinCurveOrder:p}}function iOe(e){const t=lW(e);return j4(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function aOe(e){const t=iOe(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function c(N){return Oa(N,n)}function p(N){return hN(N,n)}const{ProjectivePoint:o,normPrivateKeyToScalar:g,weierstrassEquation:y,isWithinCurveOrder:x}=nOe({...t,toBytes(N,Y,te){const re=Y.toAffine(),he=r.toBytes(re.x),we=by;return Up("isCompressed",te),te?we(Uint8Array.from([Y.hasEvenY()?2:3]),he):we(Uint8Array.from([4]),he,r.toBytes(re.y))},fromBytes(N){const Y=N.length,te=N[0],re=N.subarray(1);if(Y===i&&(te===2||te===3)){const he=ny(re);if(!mI(he,Ko,r.ORDER))throw new Error("Point is not on curve");const we=y(he);let ye;try{ye=r.sqrt(we)}catch(de){const ke=de instanceof Error?": "+de.message:"";throw new Error("Point is not on curve"+ke)}const ue=(ye&Ko)===Ko;return(te&1)===1!==ue&&(ye=r.neg(ye)),{x:he,y:ye}}else if(Y===s&&te===4){const he=r.fromBytes(re.subarray(0,r.BYTES)),we=r.fromBytes(re.subarray(r.BYTES,2*r.BYTES));return{x:he,y:we}}else throw new Error(`Point of length ${Y} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),E=N=>_y(Ix(N,t.nByteLength));function A(N){const Y=n>>Ko;return N>Y}function M(N){return A(N)?c(-N):N}const R=(N,Y,te)=>ny(N.slice(Y,te));class k{constructor(Y,te,re){this.r=Y,this.s=te,this.recovery=re,this.assertValidity()}static fromCompact(Y){const te=t.nByteLength;return Y=Do("compactSignature",Y,te*2),new k(R(Y,0,te),R(Y,te,2*te))}static fromDER(Y){const{r:te,s:re}=xp.toSig(Do("DER",Y));return new k(te,re)}assertValidity(){ac("r",this.r,Ko,n),ac("s",this.s,Ko,n)}addRecoveryBit(Y){return new k(this.r,this.s,Y)}recoverPublicKey(Y){const{r:te,s:re,recovery:he}=this,we=Z(Do("msgHash",Y));if(he==null||![0,1,2,3].includes(he))throw new Error("recovery id invalid");const ye=he===2||he===3?te+t.n:te;if(ye>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const ue=he&1?"03":"02",J=o.fromHex(ue+E(ye)),de=p(ye),ke=c(-we*de),Oe=c(re*de),Se=o.BASE.multiplyAndAddUnsafe(J,ke,Oe);if(!Se)throw new Error("point at infinify");return Se.assertValidity(),Se}hasHighS(){return A(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Cx(this.toDERHex())}toDERHex(){return xp.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Cx(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const D={isValidPrivateKey(N){try{return g(N),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const N=whe(t.n);return QIe(t.randomBytes(N),t.n)},precompute(N=8,Y=o.BASE){return Y._setWindowSize(N),Y.multiply(BigInt(3)),Y}};function $(N,Y=!0){return o.fromPrivateKey(N).toRawBytes(Y)}function B(N){const Y=vy(N),te=typeof N=="string",re=(Y||te)&&N.length;return Y?re===i||re===s:te?re===2*i||re===2*s:N instanceof o}function V(N,Y,te=!0){if(B(N))throw new Error("first arg must be private key");if(!B(Y))throw new Error("second arg must be public key");return o.fromHex(Y).multiply(g(N)).toRawBytes(te)}const U=t.bits2int||function(N){const Y=ny(N),te=N.length*8-t.nBitLength;return te>0?Y>>BigInt(te):Y},Z=t.bits2int_modN||function(N){return c(U(N))},ne=sW(t.nBitLength);function j(N){return ac(`num < 2^${t.nBitLength}`,N,Cp,ne),Ix(N,t.nByteLength)}function fe(N,Y,te=be){if(["recovered","canonical"].some(Je=>Je in te))throw new Error("sign() legacy options not supported");const{hash:re,randomBytes:he}=t;let{lowS:we,prehash:ye,extraEntropy:ue}=te;we==null&&(we=!0),N=Do("msgHash",N),Aee(te),ye&&(N=Do("prehashed msgHash",re(N)));const J=Z(N),de=g(Y),ke=[j(de),j(J)];if(ue!=null&&ue!==!1){const Je=ue===!0?he(r.BYTES):ue;ke.push(Do("extraEntropy",Je))}const Oe=by(...ke),Se=J;function We(Je){const $e=U(Je);if(!x($e))return;const ft=p($e),Me=o.BASE.multiply($e).toAffine(),Te=c(Me.x);if(Te===Cp)return;const Le=c(ft*c(Se+Te*de));if(Le===Cp)return;let Ne=(Me.x===Te?0:2)|Number(Me.y&Ko),At=Le;return we&&A(Le)&&(At=M(Le),Ne^=1),new k(Te,At,Ne)}return{seed:Oe,k2sig:We}}const be={lowS:t.lowS,prehash:!1},pe={lowS:t.lowS,prehash:!1};function le(N,Y,te=be){const{seed:re,k2sig:he}=fe(N,Y,te),we=t;return _he(we.hash.outputLen,we.nByteLength,we.hmac)(re,he)}o.BASE._setWindowSize(8);function G(N,Y,te,re=pe){var Me;const he=N;if(Y=Do("msgHash",Y),te=Do("publicKey",te),"strict"in re)throw new Error("options.strict was renamed to lowS");Aee(re);const{lowS:we,prehash:ye}=re;let ue,J;try{if(typeof he=="string"||vy(he))try{ue=k.fromDER(he)}catch(Te){if(!(Te instanceof xp.Err))throw Te;ue=k.fromCompact(he)}else if(typeof he=="object"&&typeof he.r=="bigint"&&typeof he.s=="bigint"){const{r:Te,s:Le}=he;ue=new k(Te,Le)}else throw new Error("PARSE");J=o.fromHex(te)}catch(Te){if(Te.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(we&&ue.hasHighS())return!1;ye&&(Y=t.hash(Y));const{r:de,s:ke}=ue,Oe=Z(Y),Se=p(ke),We=c(Oe*Se),Je=c(de*Se),$e=(Me=o.BASE.multiplyAndAddUnsafe(J,We,Je))==null?void 0:Me.toAffine();return $e?c($e.x)===de:!1}return{CURVE:t,getPublicKey:$,getSharedSecret:V,sign:le,verify:G,ProjectivePoint:o,Signature:k,utils:D}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function oOe(e){return{hash:e,hmac:(t,...r)=>fme(e,t,uIe(...r)),randomBytes:che}}function sOe(e,t){const r=n=>aOe({...e,...oOe(n)});return Object.freeze({...r(t),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pme=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Pee=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),lOe=BigInt(1),vN=BigInt(2),Cee=(e,t)=>(e+t/vN)/t;function uOe(e){const t=pme,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),c=BigInt(23),p=BigInt(44),o=BigInt(88),g=e*e*e%t,y=g*g*e%t,x=Xa(y,r,t)*y%t,E=Xa(x,r,t)*y%t,A=Xa(E,vN,t)*g%t,M=Xa(A,i,t)*A%t,R=Xa(M,s,t)*M%t,k=Xa(R,p,t)*R%t,D=Xa(k,o,t)*k%t,$=Xa(D,p,t)*R%t,B=Xa($,r,t)*y%t,V=Xa(B,c,t)*M%t,U=Xa(V,n,t)*g%t,Z=Xa(U,vN,t);if(!_N.eql(_N.sqr(Z),e))throw new Error("Cannot find square root");return Z}const _N=gI(pme,void 0,void 0,{sqrt:uOe}),SW=sOe({a:BigInt(0),b:BigInt(7),Fp:_N,n:Pee,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Pee,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-lOe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,c=BigInt("0x100000000000000000000000000000000"),p=Cee(s*e,t),o=Cee(-n*e,t);let g=Oa(e-p*r-o*i,t),y=Oa(-p*n-o*s,t);const x=g>c,E=y>c;if(x&&(g=t-g),E&&(y=t-y),g>c||y>c)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:x,k1:g,k2neg:E,k2:y}}}},gN);BigInt(0);SW.ProjectivePoint;const Iee=()=>{const e=oh.utils.randomPrivateKey(),t=bN(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},bN=oh.getPublicKey;function Mee(e){try{return oh.ExtendedPoint.fromHex(e),!0}catch{return!1}}const hme=(e,t)=>oh.sign(e,t.slice(0,32)),cOe=oh.verify,kx=e=>Qn.isBuffer(e)?e:e instanceof Uint8Array?Qn.from(e.buffer,e.byteOffset,e.byteLength):Qn.from(e);class dOe{constructor(t){Object.assign(this,t)}encode(){return Qn.from(Ohe(eT,this))}static decode(t){return Dhe(eT,this,t)}static decodeUnchecked(t){return Phe(eT,this,t)}}const eT=new Map;var mme;const fOe=32,y1=32;function pOe(e){return e._bn!==void 0}let kee=1;class gn extends dOe{constructor(t){if(super({}),this._bn=void 0,pOe(t))this._bn=t._bn;else{if(typeof t=="string"){const r=ms.decode(t);if(r.length!=y1)throw new Error("Invalid public key input");this._bn=new bee(r)}else this._bn=new bee(t);if(this._bn.byteLength()>y1)throw new Error("Invalid public key input")}}static unique(){const t=new gn(kee);return kee+=1,new gn(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return ms.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Qn);if(t.length===y1)return t;const r=Qn.alloc(32);return t.copy(r,32-t.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,r,n){const i=Qn.concat([t.toBuffer(),Qn.from(r),n.toBuffer()]),s=gN(i);return new gn(s)}static createProgramAddressSync(t,r){let n=Qn.alloc(0);t.forEach(function(s){if(s.length>fOe)throw new TypeError("Max seed length exceeded");n=Qn.concat([n,kx(s)])}),n=Qn.concat([n,r.toBuffer(),Qn.from("ProgramDerivedAddress")]);const i=gN(n);if(Mee(i))throw new Error("Invalid seeds, address must fall off the curve");return new gn(i)}static async createProgramAddress(t,r){return this.createProgramAddressSync(t,r)}static findProgramAddressSync(t,r){let n=255,i;for(;n!=0;){try{const s=t.concat(Qn.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,r){return this.findProgramAddressSync(t,r)}static isOnCurve(t){const r=new gn(t);return Mee(r.toBytes())}}mme=gn;gn.default=new mme("11111111111111111111111111111111");eT.set(gn,{kind:"struct",fields:[["_bn","u256"]]});new gn("BPFLoader1111111111111111111111111111111111");const Jb=1232,EW=127,B5=64;class gme extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(gme.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class yme extends Error{constructor(t,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(yme.prototype,"name",{value:"TransactionExpiredTimeoutError"});class E6 extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(E6.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class cP{constructor(t,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=r}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const r of this.keySegments()){if(t<r.length)return r[t];t-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,c)=>{n.set(s.toBase58(),c)});const i=s=>{const c=n.get(s.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return t.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(c=>i(c.pubkey)),data:s.data}))}}const fi=(e="publicKey")=>wa(32,e),hOe=(e="signature")=>wa(64,e),Pb=(e="string")=>{const t=an([bn("length"),bn("lengthPadding"),wa(iy(bn(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(s,c)=>r(s,c).chars.toString(),i.encode=(s,c,p)=>{const o={chars:Qn.from(s,"utf8")};return n(o,c,p)},i.alloc=s=>bn().span+bn().span+Qn.from(s,"utf8").length,i},mOe=(e="authorized")=>an([fi("staker"),fi("withdrawer")],e),gOe=(e="lockup")=>an([lu("unixTimestamp"),lu("epoch"),fi("custodian")],e),yOe=(e="voteInit")=>an([fi("nodePubkey"),fi("authorizedVoter"),fi("authorizedWithdrawer"),Vi("commission")],e),vOe=(e="voteAuthorizeWithSeedArgs")=>an([bn("voteAuthorizationType"),fi("currentAuthorityDerivedKeyOwnerPubkey"),Pb("currentAuthorityDerivedKeySeed"),fi("newAuthorized")],e);function uu(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(n&127)<<r*7,r+=1,!(n&128))break}return t}function cu(e,t){let r=t;for(;;){let n=r&127;if(r>>=7,r==0){e.push(n);break}else n|=128,e.push(n)}}function ka(e,t){if(!e)throw new Error(t||"Assertion failed")}class EI{constructor(t,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=r}static compile(t,r){const n=new Map,i=c=>{const p=c.toBase58();let o=n.get(p);return o===void 0&&(o={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(p,o)),o},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const c of t){i(c.programId).isInvoked=!0;for(const p of c.keys){const o=i(p.pubkey);o.isSigner||(o.isSigner=p.isSigner),o.isWritable||(o.isWritable=p.isWritable)}}return new EI(r,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];ka(t.length<=256,"Max static account keys length exceeded");const r=t.filter(([,o])=>o.isSigner&&o.isWritable),n=t.filter(([,o])=>o.isSigner&&!o.isWritable),i=t.filter(([,o])=>!o.isSigner&&o.isWritable),s=t.filter(([,o])=>!o.isSigner&&!o.isWritable),c={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{ka(r.length>0,"Expected at least one writable signer key");const[o]=r[0];ka(o===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const p=[...r.map(([o])=>new gn(o)),...n.map(([o])=>new gn(o)),...i.map(([o])=>new gn(o)),...s.map(([o])=>new gn(o))];return[c,p]}extractTableLookup(t){const[r,n]=this.drainKeysFoundInLookupTable(t.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[i,s]=this.drainKeysFoundInLookupTable(t.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(t,r){const n=new Array,i=new Array;for(const[s,c]of this.keyMetaMap.entries())if(r(c)){const p=new gn(s),o=t.findIndex(g=>g.equals(p));o>=0&&(ka(o<256,"Max lookup table index exceeded"),n.push(o),i.push(p),this.keyMetaMap.delete(s))}return[n,i]}}const vme="Reached end of buffer unexpectedly";function Ip(e){if(e.length===0)throw new Error(vme);return e.shift()}function du(e,...t){const[r]=t;if(t.length===2?r+(t[1]??0)>e.length:r>=e.length)throw new Error(vme);return e.splice(...t)}class vd{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(r=>new gn(r)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ms.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new cP(this.staticAccountKeys)}static compile(t){const r=EI.compile(t.instructions,t.payerKey),[n,i]=r.getMessageComponents(),c=new cP(i).compileInstructions(t.instructions).map(p=>({programIdIndex:p.programIdIndex,accounts:p.accountKeyIndexes,data:ms.encode(p.data)}));return new vd({header:n,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:c})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const r=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,r)=>!this.isProgramId(r))}serialize(){const t=this.accountKeys.length;let r=[];cu(r,t);const n=this.instructions.map(x=>{const{accounts:E,programIdIndex:A}=x,M=Array.from(ms.decode(x.data));let R=[];cu(R,E.length);let k=[];return cu(k,M.length),{programIdIndex:A,keyIndicesCount:Qn.from(R),keyIndices:E,dataLength:Qn.from(k),data:M}});let i=[];cu(i,n.length);let s=Qn.alloc(Jb);Qn.from(i).copy(s);let c=i.length;n.forEach(x=>{const A=an([Vi("programIdIndex"),wa(x.keyIndicesCount.length,"keyIndicesCount"),js(Vi("keyIndex"),x.keyIndices.length,"keyIndices"),wa(x.dataLength.length,"dataLength"),js(Vi("userdatum"),x.data.length,"data")]).encode(x,s,c);c+=A}),s=s.slice(0,c);const p=an([wa(1,"numRequiredSignatures"),wa(1,"numReadonlySignedAccounts"),wa(1,"numReadonlyUnsignedAccounts"),wa(r.length,"keyCount"),js(fi("key"),t,"keys"),fi("recentBlockhash")]),o={numRequiredSignatures:Qn.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Qn.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Qn.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Qn.from(r),keys:this.accountKeys.map(x=>kx(x.toBytes())),recentBlockhash:ms.decode(this.recentBlockhash)};let g=Qn.alloc(2048);const y=p.encode(o,g);return s.copy(g,y),g.slice(0,y+s.length)}static from(t){let r=[...t];const n=Ip(r);if(n!==(n&EW))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Ip(r),s=Ip(r),c=uu(r);let p=[];for(let E=0;E<c;E++){const A=du(r,0,y1);p.push(new gn(Qn.from(A)))}const o=du(r,0,y1),g=uu(r);let y=[];for(let E=0;E<g;E++){const A=Ip(r),M=uu(r),R=du(r,0,M),k=uu(r),D=du(r,0,k),$=ms.encode(Qn.from(D));y.push({programIdIndex:A,accounts:R,data:$})}const x={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:ms.encode(Qn.from(o)),accountKeys:p,instructions:y};return new vd(x)}}class xy{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const r of this.addressTableLookups)t+=r.readonlyIndexes.length+r.writableIndexes.length;return t}getAccountKeys(t){let r;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)r=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new cP(this.staticAccountKeys,r)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const i=t-n,s=this.addressTableLookups.reduce((c,p)=>c+p.writableIndexes.length,0);return i<s}else if(t>=this.header.numRequiredSignatures){const i=t-r,c=n-r-this.header.numReadonlyUnsignedAccounts;return i<c}else{const i=r-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=t.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(t){const r=EI.compile(t.instructions,t.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=t.addressLookupTableAccounts||[];for(const y of s){const x=r.extractTableLookup(y);if(x!==void 0){const[E,{writable:A,readonly:M}]=x;n.push(E),i.writable.push(...A),i.readonly.push(...M)}}const[c,p]=r.getMessageComponents(),g=new cP(p,i).compileInstructions(t.instructions);return new xy({header:c,staticAccountKeys:p,recentBlockhash:t.recentBlockhash,compiledInstructions:g,addressTableLookups:n})}serialize(){const t=Array();cu(t,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();cu(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();cu(s,this.addressTableLookups.length);const c=an([Vi("prefix"),an([Vi("numRequiredSignatures"),Vi("numReadonlySignedAccounts"),Vi("numReadonlyUnsignedAccounts")],"header"),wa(t.length,"staticAccountKeysLength"),js(fi(),this.staticAccountKeys.length,"staticAccountKeys"),fi("recentBlockhash"),wa(n.length,"instructionsLength"),wa(r.length,"serializedInstructions"),wa(s.length,"addressTableLookupsLength"),wa(i.length,"serializedAddressTableLookups")]),p=new Uint8Array(Jb),g=c.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(y=>y.toBytes()),recentBlockhash:ms.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},p);return p.slice(0,g)}serializeInstructions(){let t=0;const r=new Uint8Array(Jb);for(const n of this.compiledInstructions){const i=Array();cu(i,n.accountKeyIndexes.length);const s=Array();cu(s,n.data.length);const c=an([Vi("programIdIndex"),wa(i.length,"encodedAccountKeyIndexesLength"),js(Vi(),n.accountKeyIndexes.length,"accountKeyIndexes"),wa(s.length,"encodedDataLength"),wa(n.data.length,"data")]);t+=c.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,t)}return r.slice(0,t)}serializeAddressTableLookups(){let t=0;const r=new Uint8Array(Jb);for(const n of this.addressTableLookups){const i=Array();cu(i,n.writableIndexes.length);const s=Array();cu(s,n.readonlyIndexes.length);const c=an([fi("accountKey"),wa(i.length,"encodedWritableIndexesLength"),js(Vi(),n.writableIndexes.length,"writableIndexes"),wa(s.length,"encodedReadonlyIndexesLength"),js(Vi(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=c.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,t)}return r.slice(0,t)}static deserialize(t){let r=[...t];const n=Ip(r),i=n&EW;ka(n!==i,"Expected versioned message but received legacy message");const s=i;ka(s===0,`Expected versioned message with version 0 but found version ${s}`);const c={numRequiredSignatures:Ip(r),numReadonlySignedAccounts:Ip(r),numReadonlyUnsignedAccounts:Ip(r)},p=[],o=uu(r);for(let M=0;M<o;M++)p.push(new gn(du(r,0,y1)));const g=ms.encode(du(r,0,y1)),y=uu(r),x=[];for(let M=0;M<y;M++){const R=Ip(r),k=uu(r),D=du(r,0,k),$=uu(r),B=new Uint8Array(du(r,0,$));x.push({programIdIndex:R,accountKeyIndexes:D,data:B})}const E=uu(r),A=[];for(let M=0;M<E;M++){const R=new gn(du(r,0,y1)),k=uu(r),D=du(r,0,k),$=uu(r),B=du(r,0,$);A.push({accountKey:R,writableIndexes:D,readonlyIndexes:B})}return new xy({header:c,staticAccountKeys:p,recentBlockhash:g,compiledInstructions:x,addressTableLookups:A})}}const AW={deserializeMessageVersion(e){const t=e[0],r=t&EW;return r===t?"legacy":r},deserialize:e=>{const t=AW.deserializeMessageVersion(e);if(t==="legacy")return vd.from(e);if(t===0)return xy.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Em=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const _Oe=Qn.alloc(B5).fill(0);class xN{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Qn.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:r,isWritable:n})=>({pubkey:t.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class ld{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=t;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=t;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new xN(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(t=this.recentBlockhash,r=this.instructions),!t)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let R=0;R<r.length;R++)if(r[R].programId===void 0)throw new Error(`Transaction instruction index ${R} has undefined program id`);const i=[],s=[];r.forEach(R=>{R.keys.forEach(D=>{s.push({...D})});const k=R.programId.toString();i.includes(k)||i.push(k)}),i.forEach(R=>{s.push({pubkey:new gn(R),isSigner:!1,isWritable:!1})});const c=[];s.forEach(R=>{const k=R.pubkey.toString(),D=c.findIndex($=>$.pubkey.toString()===k);D>-1?(c[D].isWritable=c[D].isWritable||R.isWritable,c[D].isSigner=c[D].isSigner||R.isSigner):c.push(R)}),c.sort(function(R,k){if(R.isSigner!==k.isSigner)return R.isSigner?-1:1;if(R.isWritable!==k.isWritable)return R.isWritable?-1:1;const D={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return R.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",D)});const p=c.findIndex(R=>R.pubkey.equals(n));if(p>-1){const[R]=c.splice(p,1);R.isSigner=!0,R.isWritable=!0,c.unshift(R)}else c.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const R of this.signatures){const k=c.findIndex(D=>D.pubkey.equals(R.publicKey));if(k>-1)c[k].isSigner||(c[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${R.publicKey.toString()}`)}let o=0,g=0,y=0;const x=[],E=[];c.forEach(({pubkey:R,isSigner:k,isWritable:D})=>{k?(x.push(R.toString()),o+=1,D||(g+=1)):(E.push(R.toString()),D||(y+=1))});const A=x.concat(E),M=r.map(R=>{const{data:k,programId:D}=R;return{programIdIndex:A.indexOf(D.toString()),accounts:R.keys.map($=>A.indexOf($.pubkey.toString())),data:ms.encode(k)}});return M.forEach(R=>{ka(R.programIdIndex>=0),R.accounts.forEach(k=>ka(k>=0))}),new vd({header:{numRequiredSignatures:o,numReadonlySignedAccounts:g,numReadonlyUnsignedAccounts:y},accountKeys:A,recentBlockhash:t,instructions:M})}_compile(){const t=this.compileMessage(),r=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const r=new Set;this.signatures=t.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of t){const c=s.publicKey.toString();r.has(c)||(r.add(c),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of t){const c=s.publicKey.toString();r.has(c)||(r.add(c),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(t,...r){const n=t.serialize();r.forEach(i=>{const s=hme(n,i.secretKey);this._addSignature(i.publicKey,kx(s))})}addSignature(t,r){this._compile(),this._addSignature(t,r)}_addSignature(t,r){ka(r.length===64);const n=this.signatures.findIndex(i=>t.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=Qn.from(r)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||(n.missing=[])).push(s):cOe(i,t,s.toBytes())||(n.invalid||(n.invalid=[])).push(s);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let c="Signature verification failed.";throw s.invalid&&(c+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(p=>p.toBase58()).join("`, `")}\`].`),s.missing&&(c+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(p=>p.toBase58()).join("`, `")}\`].`),new Error(c)}}return this._serialize(i)}_serialize(t){const{signatures:r}=this,n=[];cu(n,r.length);const i=n.length+r.length*64+t.length,s=Qn.alloc(i);return ka(r.length<256),Qn.from(n).copy(s,0),r.forEach(({signature:c},p)=>{c!==null&&(ka(c.length===64,"signature has invalid length"),Qn.from(c).copy(s,n.length+p*64))}),t.copy(s,n.length+r.length*64),ka(s.length<=Jb,`Transaction too large: ${s.length} > ${Jb}`),s}get keys(){return ka(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return ka(this.instructions.length===1),this.instructions[0].programId}get data(){return ka(this.instructions.length===1),this.instructions[0].data}static from(t){let r=[...t];const n=uu(r);let i=[];for(let s=0;s<n;s++){const c=du(r,0,B5);i.push(ms.encode(Qn.from(c)))}return ld.populate(vd.from(r),i)}static populate(t,r=[]){const n=new ld;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((i,s)=>{const c={signature:i==ms.encode(_Oe)?null:ms.decode(i),publicKey:t.accountKeys[s]};n.signatures.push(c)}),t.instructions.forEach(i=>{const s=i.accounts.map(c=>{const p=t.accountKeys[c];return{pubkey:p,isSigner:n.signatures.some(o=>o.publicKey.toString()===p.toString())||t.isAccountSigner(c),isWritable:t.isAccountWritable(c)}});n.instructions.push(new xN({keys:s,programId:t.accountKeys[i.programIdIndex],data:ms.decode(i.data)}))}),n._message=t,n._json=n.toJSON(),n}}class wy{get version(){return this.message.version}constructor(t,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)ka(r.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<t.header.numRequiredSignatures;i++)n.push(new Uint8Array(B5));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),r=Array();cu(r,this.signatures.length);const n=an([wa(r.length,"encodedSignaturesLength"),js(hOe(),this.signatures.length,"signatures"),wa(t.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,s)}static deserialize(t){let r=[...t];const n=[],i=uu(r);for(let c=0;c<i;c++)n.push(new Uint8Array(du(r,0,B5)));const s=AW.deserialize(new Uint8Array(r));return new wy(s,n)}sign(t){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const s=n.findIndex(c=>c.equals(i.publicKey));ka(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=hme(r,i.secretKey)}}addSignature(t,r){ka(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(t));ka(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}}const bOe=160,xOe=64,wOe=bOe/xOe,SOe=1e3/wOe;new gn("SysvarC1ock11111111111111111111111111111111");new gn("SysvarEpochSchedu1e111111111111111111111111");new gn("Sysvar1nstructions1111111111111111111111111");new gn("SysvarRecentB1ockHashes11111111111111111111");new gn("SysvarRent111111111111111111111111111111111");new gn("SysvarRewards111111111111111111111111111111");new gn("SysvarS1otHashes111111111111111111111111111");new gn("SysvarS1otHistory11111111111111111111111111");new gn("SysvarStakeHistory1111111111111111111111111");class Oee extends Error{constructor({action:t,signature:r,transactionMessage:n,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",c="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let p;switch(t){case"send":p=`Transaction ${r} resulted in an error. 
${n}. `+s+c;break;case"simulate":p=`Simulation failed. 
Message: ${n}. 
`+s+c;break;default:p=`Unknown action '${(o=>o)(t)}'`}super(p),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}class un extends Error{constructor({code:t,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}function nb(e){return new Promise(t=>setTimeout(t,e))}const EOe=us("lamportsPerSignature"),_me=an([bn("version"),bn("state"),fi("authorizedPubkey"),fi("nonce"),an([EOe],"feeCalculator")]);_me.span;class TW{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const r=_me.decode(kx(t),0);return new TW({authorizedPubkey:new gn(r.authorizedPubkey),nonce:new gn(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const AOe=e=>{const t=e.decode.bind(e),r=e.encode.bind(e);return{decode:t,encode:r}},TOe=e=>t=>{const r=wa(e,t),{encode:n,decode:i}=AOe(r),s=r;return s.decode=(c,p)=>{const o=i(c,p);return WMe(Qn.from(o))},s.encode=(c,p,o)=>{const g=GMe(c,e);return n(g,p,o)},s},Ox=TOe(8);Object.freeze({Create:{index:0,layout:an([bn("instruction"),lu("lamports"),lu("space"),fi("programId")])},Assign:{index:1,layout:an([bn("instruction"),fi("programId")])},Transfer:{index:2,layout:an([bn("instruction"),Ox("lamports")])},CreateWithSeed:{index:3,layout:an([bn("instruction"),fi("base"),Pb("seed"),lu("lamports"),lu("space"),fi("programId")])},AdvanceNonceAccount:{index:4,layout:an([bn("instruction")])},WithdrawNonceAccount:{index:5,layout:an([bn("instruction"),lu("lamports")])},InitializeNonceAccount:{index:6,layout:an([bn("instruction"),fi("authorized")])},AuthorizeNonceAccount:{index:7,layout:an([bn("instruction"),fi("authorized")])},Allocate:{index:8,layout:an([bn("instruction"),lu("space")])},AllocateWithSeed:{index:9,layout:an([bn("instruction"),fi("base"),Pb("seed"),lu("space"),fi("programId")])},AssignWithSeed:{index:10,layout:an([bn("instruction"),fi("base"),Pb("seed"),fi("programId")])},TransferWithSeed:{index:11,layout:an([bn("instruction"),Ox("lamports"),Pb("seed"),fi("programId")])},UpgradeNonceAccount:{index:12,layout:an([bn("instruction")])}});new gn("11111111111111111111111111111111");new gn("BPFLoader2111111111111111111111111111111111");function POe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var COe=Object.prototype.toString,IOe=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function A6(e,t){var r,n,i,s,c,p,o;if(e===!0)return"true";if(e===!1)return"false";switch(typeof e){case"object":if(e===null)return null;if(e.toJSON&&typeof e.toJSON=="function")return A6(e.toJSON(),t);if(o=COe.call(e),o==="[object Array]"){for(i="[",n=e.length-1,r=0;r<n;r++)i+=A6(e[r],!0)+",";return n>-1&&(i+=A6(e[r],!0)),i+"]"}else if(o==="[object Object]"){for(s=IOe(e).sort(),n=s.length,i="",r=0;r<n;)c=s[r],p=A6(e[c],!1),p!==void 0&&(i&&(i+=","),i+=JSON.stringify(c)+":"+p),r++;return"{"+i+"}"}else return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var MOe=function(e){var t=A6(e,!1);if(t!==void 0)return""+t},Dee=POe(MOe);const y2=32;function n$(e){let t=0;for(;e>1;)e/=2,t++;return t}function kOe(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}class OOe{constructor(t,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const r=n$(kOe(t+y2+1))-n$(y2)-1,n=this.getSlotsInEpoch(r),i=t-(n-y2);return[r,i]}else{const r=t-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*y2:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+n$(y2)):this.slotsPerEpoch}}var DOe=globalThis.fetch;class ROe extends $ke{constructor(t,r,n){const i=s=>{const c=Dke(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in c?this.underlyingSocket=c.socket:this.underlyingSocket=c,c};super(i,t,r,n),this.underlyingSocket=void 0}call(...t){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...t){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function $Oe(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}const Ree=56;class wN{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const r=$Oe(LOe,t),n=t.length-Ree;ka(n>=0,"lookup table is invalid"),ka(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=an([js(fi(),i,"addresses")]).decode(t.slice(Ree));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new gn(r.authority[0]):void 0,addresses:s.map(c=>new gn(c))}}}const LOe={index:1,layout:an([bn("typeIndex"),Ox("deactivationSlot"),us("lastExtendedSlot"),Vi("lastExtendedStartIndex"),Vi(),js(fi(),iy(Vi(),-1),"authority")])},BOe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function zOe(e){const t=e.match(BOe);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[r,n,i,s]=t,c=e.startsWith("https:")?"wss:":"ws:",p=i==null?null:parseInt(i.slice(1),10),o=p==null?"":`:${p+1}`;return`${c}//${n}${o}${s}`}const Ga=a9(xW(gn),Cr(),e=>new gn(e)),bme=wW([Cr(),Va("base64")]),PW=a9(xW(Qn),bme,e=>Qn.from(e[0],"base64")),NOe=30*1e3;function FOe(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function fa(e){let t,r;if(typeof e=="string")t=e;else if(e){const{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function $ee(e){return e.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function xme(e){return vl([hr({jsonrpc:Va("2.0"),id:Cr(),result:e}),hr({jsonrpc:Va("2.0"),id:Cr(),error:hr({code:W4(),message:Cr(),data:Tn(tke())})})])}const jOe=xme(W4());function ai(e){return a9(xme(e),jOe,t=>"error"in t?t:{...t,result:Dr(t.result,e)})}function Ya(e){return ai(hr({context:hr({slot:Vt()}),value:e}))}function AI(e){return hr({context:hr({slot:Vt()}),value:e})}function i$(e,t){return e===0?new xy({header:t.header,staticAccountKeys:t.accountKeys.map(r=>new gn(r)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:ms.decode(r.data)})),addressTableLookups:t.addressTableLookups}):new vd(t)}const VOe=hr({foundation:Vt(),foundationTerm:Vt(),initial:Vt(),taper:Vt(),terminal:Vt()}),UOe=ai(jr(Vr(hr({epoch:Vt(),effectiveSlot:Vt(),amount:Vt(),postBalance:Vt(),commission:Tn(Vr(Vt()))})))),WOe=jr(hr({slot:Vt(),prioritizationFee:Vt()})),KOe=hr({total:Vt(),validator:Vt(),foundation:Vt(),epoch:Vt()}),HOe=hr({epoch:Vt(),slotIndex:Vt(),slotsInEpoch:Vt(),absoluteSlot:Vt(),blockHeight:Tn(Vt()),transactionCount:Tn(Vt())}),GOe=hr({slotsPerEpoch:Vt(),leaderScheduleSlotOffset:Vt(),warmup:vf(),firstNormalEpoch:Vt(),firstNormalSlot:Vt()}),qOe=Jhe(Cr(),jr(Vt())),Yy=Vr(vl([hr({}),Cr()])),ZOe=hr({err:Yy}),XOe=Va("receivedSignature"),YOe=hr({"solana-core":Cr(),"feature-set":Tn(Vt())}),JOe=hr({program:Cr(),programId:Ga,parsed:W4()}),QOe=hr({programId:Ga,accounts:jr(Ga),data:Cr()}),Lee=Ya(hr({err:Vr(vl([hr({}),Cr()])),logs:Vr(jr(Cr())),accounts:Tn(Vr(jr(Vr(hr({executable:vf(),owner:Cr(),lamports:Vt(),data:jr(Cr()),rentEpoch:Tn(Vt())}))))),unitsConsumed:Tn(Vt()),returnData:Tn(Vr(hr({programId:Cr(),data:wW([Cr(),Va("base64")])}))),innerInstructions:Tn(Vr(jr(hr({index:Vt(),instructions:jr(vl([JOe,QOe]))}))))})),eDe=Ya(hr({byIdentity:Jhe(Cr(),jr(Vt())),range:hr({firstSlot:Vt(),lastSlot:Vt()})}));function tDe(e,t,r,n,i,s){const c=r||DOe;let p;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let o;return n&&(o=async(y,x)=>{const E=await new Promise((A,M)=>{try{n(y,x,(R,k)=>A([R,k]))}catch(R){M(R)}});return await c(...E)}),new Mke(async(y,x)=>{const E={method:"POST",body:y,agent:p,headers:Object.assign({"Content-Type":"application/json"},t||{},rRe)};try{let A=5,M,R=500;for(;o?M=await o(e,E):M=await c(e,E),!(M.status!==429||i===!0||(A-=1,A===0));)console.error(`Server responded with ${M.status} ${M.statusText}.  Retrying after ${R}ms delay...`),await nb(R),R*=2;const k=await M.text();M.ok?x(null,k):x(new Error(`${M.status} ${M.statusText}: ${k}`))}catch(A){A instanceof Error&&x(A)}},{})}function rDe(e){return(t,r)=>new Promise((n,i)=>{e.request(t,r,(s,c)=>{if(s){i(s);return}n(c)})})}function nDe(e){return t=>new Promise((r,n)=>{t.length===0&&r([]);const i=t.map(s=>e.request(s.methodName,s.args));e.request(i,(s,c)=>{if(s){n(s);return}r(c)})})}const iDe=ai(VOe),aDe=ai(KOe),oDe=ai(WOe),sDe=ai(HOe),lDe=ai(GOe),uDe=ai(qOe),cDe=ai(Vt()),dDe=Ya(hr({total:Vt(),circulating:Vt(),nonCirculating:Vt(),nonCirculatingAccounts:jr(Ga)})),SN=hr({amount:Cr(),uiAmount:Vr(Vt()),decimals:Vt(),uiAmountString:Tn(Cr())}),fDe=Ya(jr(hr({address:Ga,amount:Cr(),uiAmount:Vr(Vt()),decimals:Vt(),uiAmountString:Tn(Cr())}))),pDe=Ya(jr(hr({pubkey:Ga,account:hr({executable:vf(),owner:Ga,lamports:Vt(),data:PW,rentEpoch:Vt()})}))),EN=hr({program:Cr(),parsed:W4(),space:Vt()}),hDe=Ya(jr(hr({pubkey:Ga,account:hr({executable:vf(),owner:Ga,lamports:Vt(),data:EN,rentEpoch:Vt()})}))),mDe=Ya(jr(hr({lamports:Vt(),address:Ga}))),z5=hr({executable:vf(),owner:Ga,lamports:Vt(),data:PW,rentEpoch:Vt()}),gDe=hr({pubkey:Ga,account:z5}),yDe=a9(vl([xW(Qn),EN]),vl([bme,EN]),e=>Array.isArray(e)?Dr(e,PW):e),AN=hr({executable:vf(),owner:Ga,lamports:Vt(),data:yDe,rentEpoch:Vt()}),vDe=hr({pubkey:Ga,account:AN}),_De=hr({state:vl([Va("active"),Va("inactive"),Va("activating"),Va("deactivating")]),active:Vt(),inactive:Vt()}),bDe=ai(jr(hr({signature:Cr(),slot:Vt(),err:Yy,memo:Vr(Cr()),blockTime:Tn(Vr(Vt()))}))),xDe=ai(jr(hr({signature:Cr(),slot:Vt(),err:Yy,memo:Vr(Cr()),blockTime:Tn(Vr(Vt()))}))),wDe=hr({subscription:Vt(),result:AI(z5)}),SDe=hr({pubkey:Ga,account:z5}),EDe=hr({subscription:Vt(),result:AI(SDe)}),ADe=hr({parent:Vt(),slot:Vt(),root:Vt()}),TDe=hr({subscription:Vt(),result:ADe}),PDe=vl([hr({type:vl([Va("firstShredReceived"),Va("completed"),Va("optimisticConfirmation"),Va("root")]),slot:Vt(),timestamp:Vt()}),hr({type:Va("createdBank"),parent:Vt(),slot:Vt(),timestamp:Vt()}),hr({type:Va("frozen"),slot:Vt(),timestamp:Vt(),stats:hr({numTransactionEntries:Vt(),numSuccessfulTransactions:Vt(),numFailedTransactions:Vt(),maxTransactionsPerEntry:Vt()})}),hr({type:Va("dead"),slot:Vt(),timestamp:Vt(),err:Cr()})]),CDe=hr({subscription:Vt(),result:PDe}),IDe=hr({subscription:Vt(),result:AI(vl([ZOe,XOe]))}),MDe=hr({subscription:Vt(),result:Vt()}),kDe=hr({pubkey:Cr(),gossip:Vr(Cr()),tpu:Vr(Cr()),rpc:Vr(Cr()),version:Vr(Cr())}),Bee=hr({votePubkey:Cr(),nodePubkey:Cr(),activatedStake:Vt(),epochVoteAccount:vf(),epochCredits:jr(wW([Vt(),Vt(),Vt()])),commission:Vt(),lastVote:Vt(),rootSlot:Vr(Vt())}),ODe=ai(hr({current:jr(Bee),delinquent:jr(Bee)})),DDe=vl([Va("processed"),Va("confirmed"),Va("finalized")]),RDe=hr({slot:Vt(),confirmations:Vr(Vt()),err:Yy,confirmationStatus:Tn(DDe)}),$De=Ya(jr(Vr(RDe))),LDe=ai(Vt()),wme=hr({accountKey:Ga,writableIndexes:jr(Vt()),readonlyIndexes:jr(Vt())}),CW=hr({signatures:jr(Cr()),message:hr({accountKeys:jr(Cr()),header:hr({numRequiredSignatures:Vt(),numReadonlySignedAccounts:Vt(),numReadonlyUnsignedAccounts:Vt()}),instructions:jr(hr({accounts:jr(Vt()),data:Cr(),programIdIndex:Vt()})),recentBlockhash:Cr(),addressTableLookups:Tn(jr(wme))})}),Sme=hr({pubkey:Ga,signer:vf(),writable:vf(),source:Tn(vl([Va("transaction"),Va("lookupTable")]))}),Eme=hr({accountKeys:jr(Sme),signatures:jr(Cr())}),Ame=hr({parsed:W4(),program:Cr(),programId:Ga}),Tme=hr({accounts:jr(Ga),data:Cr(),programId:Ga}),BDe=vl([Tme,Ame]),zDe=vl([hr({parsed:W4(),program:Cr(),programId:Cr()}),hr({accounts:jr(Cr()),data:Cr(),programId:Cr()})]),Pme=a9(BDe,zDe,e=>"accounts"in e?Dr(e,Tme):Dr(e,Ame)),Cme=hr({signatures:jr(Cr()),message:hr({accountKeys:jr(Sme),instructions:jr(Pme),recentBlockhash:Cr(),addressTableLookups:Tn(Vr(jr(wme)))})}),dP=hr({accountIndex:Vt(),mint:Cr(),owner:Tn(Cr()),uiTokenAmount:SN}),Ime=hr({writable:jr(Ga),readonly:jr(Ga)}),TI=hr({err:Yy,fee:Vt(),innerInstructions:Tn(Vr(jr(hr({index:Vt(),instructions:jr(hr({accounts:jr(Vt()),data:Cr(),programIdIndex:Vt()}))})))),preBalances:jr(Vt()),postBalances:jr(Vt()),logMessages:Tn(Vr(jr(Cr()))),preTokenBalances:Tn(Vr(jr(dP))),postTokenBalances:Tn(Vr(jr(dP))),loadedAddresses:Tn(Ime),computeUnitsConsumed:Tn(Vt())}),IW=hr({err:Yy,fee:Vt(),innerInstructions:Tn(Vr(jr(hr({index:Vt(),instructions:jr(Pme)})))),preBalances:jr(Vt()),postBalances:jr(Vt()),logMessages:Tn(Vr(jr(Cr()))),preTokenBalances:Tn(Vr(jr(dP))),postTokenBalances:Tn(Vr(jr(dP))),loadedAddresses:Tn(Ime),computeUnitsConsumed:Tn(Vt())}),K4=vl([Va(0),Va("legacy")]),Jy=hr({pubkey:Cr(),lamports:Vt(),postBalance:Vr(Vt()),rewardType:Vr(Cr()),commission:Tn(Vr(Vt()))}),NDe=ai(Vr(hr({blockhash:Cr(),previousBlockhash:Cr(),parentSlot:Vt(),transactions:jr(hr({transaction:CW,meta:Vr(TI),version:Tn(K4)})),rewards:Tn(jr(Jy)),blockTime:Vr(Vt()),blockHeight:Vr(Vt())}))),FDe=ai(Vr(hr({blockhash:Cr(),previousBlockhash:Cr(),parentSlot:Vt(),rewards:Tn(jr(Jy)),blockTime:Vr(Vt()),blockHeight:Vr(Vt())}))),jDe=ai(Vr(hr({blockhash:Cr(),previousBlockhash:Cr(),parentSlot:Vt(),transactions:jr(hr({transaction:Eme,meta:Vr(TI),version:Tn(K4)})),rewards:Tn(jr(Jy)),blockTime:Vr(Vt()),blockHeight:Vr(Vt())}))),VDe=ai(Vr(hr({blockhash:Cr(),previousBlockhash:Cr(),parentSlot:Vt(),transactions:jr(hr({transaction:Cme,meta:Vr(IW),version:Tn(K4)})),rewards:Tn(jr(Jy)),blockTime:Vr(Vt()),blockHeight:Vr(Vt())}))),UDe=ai(Vr(hr({blockhash:Cr(),previousBlockhash:Cr(),parentSlot:Vt(),transactions:jr(hr({transaction:Eme,meta:Vr(IW),version:Tn(K4)})),rewards:Tn(jr(Jy)),blockTime:Vr(Vt()),blockHeight:Vr(Vt())}))),WDe=ai(Vr(hr({blockhash:Cr(),previousBlockhash:Cr(),parentSlot:Vt(),rewards:Tn(jr(Jy)),blockTime:Vr(Vt()),blockHeight:Vr(Vt())}))),KDe=ai(Vr(hr({blockhash:Cr(),previousBlockhash:Cr(),parentSlot:Vt(),transactions:jr(hr({transaction:CW,meta:Vr(TI)})),rewards:Tn(jr(Jy)),blockTime:Vr(Vt())}))),zee=ai(Vr(hr({blockhash:Cr(),previousBlockhash:Cr(),parentSlot:Vt(),signatures:jr(Cr()),blockTime:Vr(Vt())}))),a$=ai(Vr(hr({slot:Vt(),meta:Vr(TI),blockTime:Tn(Vr(Vt())),transaction:CW,version:Tn(K4)}))),DE=ai(Vr(hr({slot:Vt(),transaction:Cme,meta:Vr(IW),blockTime:Tn(Vr(Vt())),version:Tn(K4)}))),HDe=Ya(hr({blockhash:Cr(),feeCalculator:hr({lamportsPerSignature:Vt()})})),GDe=Ya(hr({blockhash:Cr(),lastValidBlockHeight:Vt()})),qDe=Ya(vf()),ZDe=hr({slot:Vt(),numTransactions:Vt(),numSlots:Vt(),samplePeriodSecs:Vt()}),XDe=ai(jr(ZDe)),YDe=Ya(Vr(hr({feeCalculator:hr({lamportsPerSignature:Vt()})}))),JDe=ai(Cr()),QDe=ai(Cr()),eRe=hr({err:Yy,logs:jr(Cr()),signature:Cr()}),tRe=hr({result:AI(eRe),subscription:Vt()}),rRe={"solana-client":"js/1.0.0-maintenance"};class Mme{constructor(t,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const g={};return async y=>{const{commitment:x,config:E}=fa(y),A=this._buildArgs([],x,void 0,E),M=Dee(A);return g[M]=g[M]??(async()=>{try{const R=await this._rpcRequest("getBlockHeight",A),k=Dr(R,ai(Vt()));if("error"in k)throw new un(k.error,"failed to get block height information");return k.result}finally{delete g[M]}})(),await g[M]}})();let n,i,s,c,p,o;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,c=r.fetchMiddleware,p=r.disableRetryOnRateLimit,o=r.httpAgent),this._rpcEndpoint=FOe(t),this._rpcWsEndpoint=n||zOe(t),this._rpcClient=tDe(t,i,s,c,p,o),this._rpcRequest=rDe(this._rpcClient),this._rpcBatchRequest=nDe(this._rpcClient),this._rpcWebSocket=new ROe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,r){const{commitment:n,config:i}=fa(r),s=this._buildArgs([t.toBase58()],n,void 0,i),c=await this._rpcRequest("getBalance",s),p=Dr(c,Ya(Vt()));if("error"in p)throw new un(p.error,`failed to get balance for ${t.toBase58()}`);return p.result}async getBalance(t,r){return await this.getBalanceAndContext(t,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})}async getBlockTime(t){const r=await this._rpcRequest("getBlockTime",[t]),n=Dr(r,ai(Vr(Vt())));if("error"in n)throw new un(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),r=Dr(t,ai(Vt()));if("error"in r)throw new un(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),r=Dr(t,cDe);if("error"in r)throw new un(r.error,"failed to get first available block");return r.result}async getSupply(t){let r={};typeof t=="string"?r={commitment:t}:t?r={...t,commitment:t&&t.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=Dr(n,dDe);if("error"in i)throw new un(i.error,"failed to get supply");return i.result}async getTokenSupply(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=Dr(i,Ya(SN));if("error"in s)throw new un(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=Dr(i,Ya(SN));if("error"in s)throw new un(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(t,r,n){const{commitment:i,config:s}=fa(n);let c=[t.toBase58()];"mint"in r?c.push({mint:r.mint.toBase58()}):c.push({programId:r.programId.toBase58()});const p=this._buildArgs(c,i,"base64",s),o=await this._rpcRequest("getTokenAccountsByOwner",p),g=Dr(o,pDe);if("error"in g)throw new un(g.error,`failed to get token accounts owned by account ${t.toBase58()}`);return g.result}async getParsedTokenAccountsByOwner(t,r,n){let i=[t.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",s),p=Dr(c,hDe);if("error"in p)throw new un(p.error,`failed to get token accounts owned by account ${t.toBase58()}`);return p.result}async getLargestAccounts(t){const r={...t,commitment:t&&t.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=Dr(i,mDe);if("error"in s)throw new un(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=Dr(i,fDe);if("error"in s)throw new un(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(t,r){const{commitment:n,config:i}=fa(r),s=this._buildArgs([t.toBase58()],n,"base64",i),c=await this._rpcRequest("getAccountInfo",s),p=Dr(c,Ya(Vr(z5)));if("error"in p)throw new un(p.error,`failed to get info about account ${t.toBase58()}`);return p.result}async getParsedAccountInfo(t,r){const{commitment:n,config:i}=fa(r),s=this._buildArgs([t.toBase58()],n,"jsonParsed",i),c=await this._rpcRequest("getAccountInfo",s),p=Dr(c,Ya(Vr(AN)));if("error"in p)throw new un(p.error,`failed to get info about account ${t.toBase58()}`);return p.result}async getAccountInfo(t,r){try{return(await this.getAccountInfoAndContext(t,r)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,r){const{commitment:n,config:i}=fa(r),s=t.map(g=>g.toBase58()),c=this._buildArgs([s],n,"jsonParsed",i),p=await this._rpcRequest("getMultipleAccounts",c),o=Dr(p,Ya(jr(Vr(AN))));if("error"in o)throw new un(o.error,`failed to get info for accounts ${s}`);return o.result}async getMultipleAccountsInfoAndContext(t,r){const{commitment:n,config:i}=fa(r),s=t.map(g=>g.toBase58()),c=this._buildArgs([s],n,"base64",i),p=await this._rpcRequest("getMultipleAccounts",c),o=Dr(p,Ya(jr(Vr(z5))));if("error"in o)throw new un(o.error,`failed to get info for accounts ${s}`);return o.result}async getMultipleAccountsInfo(t,r){return(await this.getMultipleAccountsInfoAndContext(t,r)).value}async getStakeActivation(t,r,n){const{commitment:i,config:s}=fa(r),c=this._buildArgs([t.toBase58()],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),p=await this._rpcRequest("getStakeActivation",c),o=Dr(p,ai(_De));if("error"in o)throw new un(o.error,`failed to get Stake Activation ${t.toBase58()}`);return o.result}async getProgramAccounts(t,r){const{commitment:n,config:i}=fa(r),{encoding:s,...c}=i||{},p=this._buildArgs([t.toBase58()],n,s||"base64",{...c,...c.filters?{filters:$ee(c.filters)}:null}),o=await this._rpcRequest("getProgramAccounts",p),g=jr(gDe),y=c.withContext===!0?Dr(o,Ya(g)):Dr(o,ai(g));if("error"in y)throw new un(y.error,`failed to get accounts owned by program ${t.toBase58()}`);return y.result}async getParsedProgramAccounts(t,r){const{commitment:n,config:i}=fa(r),s=this._buildArgs([t.toBase58()],n,"jsonParsed",i),c=await this._rpcRequest("getProgramAccounts",s),p=Dr(c,ai(jr(vDe)));if("error"in p)throw new un(p.error,`failed to get accounts owned by program ${t.toBase58()}`);return p.result}async confirmTransaction(t,r){var s;let n;if(typeof t=="string")n=t;else{const c=t;if((s=c.abortSignal)!=null&&s.aborted)return Promise.reject(c.abortSignal.reason);n=c.signature}let i;try{i=ms.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return ka(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((r,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:r}){let n,i,s=!1;const c=new Promise((o,g)=>{try{n=this.onSignature(r,(x,E)=>{n=void 0;const A={context:E,value:x};o({__type:Em.PROCESSED,response:A})},t);const y=new Promise(x=>{n==null?x():i=this._onSubscriptionStateChange(n,E=>{E==="subscribed"&&x()})});(async()=>{if(await y,s)return;const x=await this.getSignatureStatus(r);if(s||x==null)return;const{context:E,value:A}=x;if(A!=null)if(A!=null&&A.err)g(A.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(A.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(A.confirmationStatus==="processed"||A.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,o({__type:Em.PROCESSED,response:{context:E,value:A}})}})()}catch(y){g(y)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:c}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const c=new Promise(x=>{const E=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let A=await E();if(!s){for(;A<=n;)if(await nb(1e3),s||(A=await E(),s))return;x({__type:Em.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:p,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),g=this.getCancellationPromise(r);let y;try{const x=await Promise.race([g,o,c]);if(x.__type===Em.PROCESSED)y=x.response;else throw new gme(i)}finally{s=!0,p()}return y}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:c}}){let p=!1;const o=new Promise(A=>{let M=s,R=null;const k=async()=>{try{const{context:D,value:$}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:n});return R=D.slot,$==null?void 0:$.nonce}catch{return M}};(async()=>{if(M=await k(),!p)for(;;){if(s!==M){A({__type:Em.NONCE_INVALID,slotInWhichNonceDidAdvance:R});return}if(await nb(2e3),p||(M=await k(),p))return}})()}),{abortConfirmation:g,confirmationPromise:y}=this.getTransactionConfirmationPromise({commitment:t,signature:c}),x=this.getCancellationPromise(r);let E;try{const A=await Promise.race([x,y,o]);if(A.__type===Em.PROCESSED)E=A.response;else{let M;for(;;){const R=await this.getSignatureStatus(c);if(R==null)break;if(R.context.slot<(A.slotInWhichNonceDidAdvance??n)){await nb(400);continue}M=R;break}if(M!=null&&M.value){const R=t||"finalized",{confirmationStatus:k}=M.value;switch(R){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new E6(c);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new E6(c);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new E6(c);break;default:}E={context:M.context,value:{err:M.value.err}}}else throw new E6(c)}}finally{p=!0,g()}return E}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:r}){let n;const i=new Promise(o=>{let g=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{g=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>o({__type:Em.TIMED_OUT,timeoutMs:g}),g)}),{abortConfirmation:s,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:r});let p;try{const o=await Promise.race([c,i]);if(o.__type===Em.PROCESSED)p=o.response;else throw new yme(r,o.timeoutMs/1e3)}finally{clearTimeout(n),s()}return p}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),r=Dr(t,ai(jr(kDe)));if("error"in r)throw new un(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",r),i=Dr(n,ODe);if("error"in i)throw new un(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:r,config:n}=fa(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),c=Dr(s,ai(Vt()));if("error"in c)throw new un(c.error,"failed to get slot");return c.result}async getSlotLeader(t){const{commitment:r,config:n}=fa(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),c=Dr(s,ai(Cr()));if("error"in c)throw new un(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(t,r){const n=[t,r],i=await this._rpcRequest("getSlotLeaders",n),s=Dr(i,ai(jr(Ga)));if("error"in s)throw new un(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(t,r){const{context:n,value:i}=await this.getSignatureStatuses([t],r);ka(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(t,r){const n=[t];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=Dr(i,$De);if("error"in s)throw new un(s.error,"failed to get signature status");return s.result}async getTransactionCount(t){const{commitment:r,config:n}=fa(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),c=Dr(s,ai(Vt()));if("error"in c)throw new un(c.error,"failed to get transaction count");return c.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",r),i=Dr(n,iDe);if("error"in i)throw new un(i.error,"failed to get inflation");return i.result}async getInflationReward(t,r,n){const{commitment:i,config:s}=fa(n),c=this._buildArgs([t.map(g=>g.toBase58())],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),p=await this._rpcRequest("getInflationReward",c),o=Dr(p,UOe);if("error"in o)throw new un(o.error,"failed to get inflation reward");return o.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),r=Dr(t,aDe);if("error"in r)throw new un(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(t){const{commitment:r,config:n}=fa(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),c=Dr(s,sDe);if("error"in c)throw new un(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),r=Dr(t,lDe);if("error"in r)throw new un(r.error,"failed to get epoch schedule");const n=r.result;return new OOe(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),r=Dr(t,uDe);if("error"in r)throw new un(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(t,r){const n=this._buildArgs([t],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=Dr(i,LDe);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getRecentBlockhash",r),i=Dr(n,HDe);if("error"in i)throw new un(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(t){const r=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=Dr(r,XDe);if("error"in n)throw new un(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,r){const n=this._buildArgs([t],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=Dr(i,YDe);if("error"in s)throw new un(s.error,"failed to get fee calculator");const{context:c,value:p}=s.result;return{context:c,value:p!==null?p.feeCalculator:null}}async getFeeForMessage(t,r){const n=kx(t.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),c=Dr(s,Ya(Vr(Vt())));if("error"in c)throw new un(c.error,"failed to get fee for message");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentPrioritizationFees(t){var c;const r=(c=t==null?void 0:t.lockedWritableAccounts)==null?void 0:c.map(p=>p.toBase58()),n=r!=null&&r.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=Dr(i,oDe);if("error"in s)throw new un(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(t){const{commitment:r,config:n}=fa(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),c=Dr(s,GDe);if("error"in c)throw new un(c.error,"failed to get latest blockhash");return c.result}async isBlockhashValid(t,r){const{commitment:n,config:i}=fa(r),s=this._buildArgs([t],n,void 0,i),c=await this._rpcRequest("isBlockhashValid",s),p=Dr(c,qDe);if("error"in p)throw new un(p.error,"failed to determine if the blockhash `"+t+"`is valid");return p.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),r=Dr(t,ai(YOe));if("error"in r)throw new un(r.error,"failed to get version");return r.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),r=Dr(t,ai(Cr()));if("error"in r)throw new un(r.error,"failed to get genesis hash");return r.result}async getBlock(t,r){const{commitment:n,config:i}=fa(r),s=this._buildArgsAtLeastConfirmed([t],n,void 0,i),c=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const p=Dr(c,jDe);if("error"in p)throw p.error;return p.result}case"none":{const p=Dr(c,FDe);if("error"in p)throw p.error;return p.result}default:{const p=Dr(c,NDe);if("error"in p)throw p.error;const{result:o}=p;return o?{...o,transactions:o.transactions.map(({transaction:g,meta:y,version:x})=>({meta:y,transaction:{...g,message:i$(x,g.message)},version:x}))}:null}}}catch(p){throw new un(p,"failed to get confirmed block")}}async getParsedBlock(t,r){const{commitment:n,config:i}=fa(r),s=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),c=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const p=Dr(c,UDe);if("error"in p)throw p.error;return p.result}case"none":{const p=Dr(c,WDe);if("error"in p)throw p.error;return p.result}default:{const p=Dr(c,VDe);if("error"in p)throw p.error;return p.result}}}catch(p){throw new un(p,"failed to get block")}}async getBlockProduction(t){let r,n;if(typeof t=="string")n=t;else if(t){const{commitment:p,...o}=t;n=p,r=o}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),c=Dr(s,eDe);if("error"in c)throw new un(c.error,"failed to get block production information");return c.result}async getTransaction(t,r){const{commitment:n,config:i}=fa(r),s=this._buildArgsAtLeastConfirmed([t],n,void 0,i),c=await this._rpcRequest("getTransaction",s),p=Dr(c,a$);if("error"in p)throw new un(p.error,"failed to get transaction");const o=p.result;return o&&{...o,transaction:{...o.transaction,message:i$(o.version,o.transaction.message)}}}async getParsedTransaction(t,r){const{commitment:n,config:i}=fa(r),s=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),c=await this._rpcRequest("getTransaction",s),p=Dr(c,DE);if("error"in p)throw new un(p.error,"failed to get transaction");return p.result}async getParsedTransactions(t,r){const{commitment:n,config:i}=fa(r),s=t.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(o=>{const g=Dr(o,DE);if("error"in g)throw new un(g.error,"failed to get transactions");return g.result})}async getTransactions(t,r){const{commitment:n,config:i}=fa(r),s=t.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(o=>{const g=Dr(o,a$);if("error"in g)throw new un(g.error,"failed to get transactions");const y=g.result;return y&&{...y,transaction:{...y.transaction,message:i$(y.version,y.transaction.message)}}})}async getConfirmedBlock(t,r){const n=this._buildArgsAtLeastConfirmed([t],r),i=await this._rpcRequest("getConfirmedBlock",n),s=Dr(i,KDe);if("error"in s)throw new un(s.error,"failed to get confirmed block");const c=s.result;if(!c)throw new Error("Confirmed block "+t+" not found");const p={...c,transactions:c.transactions.map(({transaction:o,meta:g})=>{const y=new vd(o.message);return{meta:g,transaction:{...o,message:y}}})};return{...p,transactions:p.transactions.map(({transaction:o,meta:g})=>({meta:g,transaction:ld.populate(o.message,o.signatures)}))}}async getBlocks(t,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[t,r]:[t],n),s=await this._rpcRequest("getBlocks",i),c=Dr(s,ai(jr(Vt())));if("error"in c)throw new un(c.error,"failed to get blocks");return c.result}async getBlockSignatures(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Dr(i,zee);if("error"in s)throw new un(s.error,"failed to get block");const c=s.result;if(!c)throw new Error("Block "+t+" not found");return c}async getConfirmedBlockSignatures(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),s=Dr(i,zee);if("error"in s)throw new un(s.error,"failed to get confirmed block");const c=s.result;if(!c)throw new Error("Confirmed block "+t+" not found");return c}async getConfirmedTransaction(t,r){const n=this._buildArgsAtLeastConfirmed([t],r),i=await this._rpcRequest("getConfirmedTransaction",n),s=Dr(i,a$);if("error"in s)throw new un(s.error,"failed to get transaction");const c=s.result;if(!c)return c;const p=new vd(c.transaction.message),o=c.transaction.signatures;return{...c,transaction:ld.populate(p,o)}}async getParsedConfirmedTransaction(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),s=Dr(i,DE);if("error"in s)throw new un(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(t,r){const n=t.map(c=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(c=>{const p=Dr(c,DE);if("error"in p)throw new un(p.error,"failed to get confirmed transactions");return p.result})}async getConfirmedSignaturesForAddress(t,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const o=await this.getConfirmedBlockSignatures(r,"finalized");o.signatures.length>0&&(i.until=o.signatures[o.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}let c=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>c));)try{const o=await this.getConfirmedBlockSignatures(n);o.signatures.length>0&&(i.before=o.signatures[o.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(o=>o.signature)}async getConfirmedSignaturesForAddress2(t,r,n){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),c=Dr(s,bDe);if("error"in c)throw new un(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(t,r,n){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),c=Dr(s,xDe);if("error"in c)throw new un(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(t,r){const{context:n,value:i}=await this.getAccountInfoAndContext(t,r);let s=null;return i!==null&&(s=new wN({key:t,state:wN.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(t,r){const{context:n,value:i}=await this.getAccountInfoAndContext(t,r);let s=null;return i!==null&&(s=TW.fromAccountData(i.data)),{context:n,value:s}}async getNonce(t,r){return await this.getNonceAndContext(t,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})}async requestAirdrop(t,r){const n=await this._rpcRequest("requestAirdrop",[t.toBase58(),r]),i=Dr(n,JDe);if("error"in i)throw new un(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await nb(100);const n=Date.now()-this._blockhashInfo.lastFetch>=NOe;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await nb(SOe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:r,config:n}=fa(t),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),c=Dr(s,Ya(Vt()));if("error"in c)throw new un(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(t,r,n){if("message"in t){const R=t.serialize(),k=Qn.from(R).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const D=r||{};D.encoding="base64","commitment"in D||(D.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(D.innerInstructions=r.innerInstructions);const $=[k,D],B=await this._rpcRequest("simulateTransaction",$),V=Dr(B,Lee);if("error"in V)throw new Error("failed to simulate transaction: "+V.error.message);return V.result}let i;if(t instanceof ld){let M=t;i=new ld,i.feePayer=M.feePayer,i.instructions=t.instructions,i.nonceInfo=M.nonceInfo,i.signatures=M.signatures}else i=ld.populate(t),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let M=this._disableBlockhashCaching;for(;;){const R=await this._blockhashWithExpiryBlockHeight(M);if(i.lastValidBlockHeight=R.lastValidBlockHeight,i.recentBlockhash=R.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const k=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else M=!0}}const c=i._compile(),p=c.serialize(),g=i._serialize(p).toString("base64"),y={encoding:"base64",commitment:this.commitment};if(n){const M=(Array.isArray(n)?n:c.nonProgramIds()).map(R=>R.toBase58());y.accounts={encoding:"base64",addresses:M}}s&&(y.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(y.innerInstructions=r.innerInstructions);const x=[g,y],E=await this._rpcRequest("simulateTransaction",x),A=Dr(E,Lee);if("error"in A){let M;if("data"in A.error&&(M=A.error.data.logs,M&&Array.isArray(M))){const R=`
    `,k=R+M.join(R);console.error(A.error.message,k)}throw new Oee({action:"simulate",signature:"",transactionMessage:A.error.message,logs:M})}return A.result}async sendTransaction(t,r,n){if("version"in t){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const c=t.serialize();return await this.sendRawTransaction(c,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(t.nonceInfo)t.sign(...i);else{let c=this._disableBlockhashCaching;for(;;){const p=await this._blockhashWithExpiryBlockHeight(c);if(t.lastValidBlockHeight=p.lastValidBlockHeight,t.recentBlockhash=p.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const o=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(o))c=!0;else{this._blockhashInfo.transactionSignatures.push(o);break}}}const s=t.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(t,r){const n=kx(t).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(t,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const c=[t,n],p=await this._rpcRequest("sendTransaction",c),o=Dr(p,QDe);if("error"in o){let g;throw"data"in o.error&&(g=o.error.data.logs),new Oee({action:i?"send":"simulate",signature:"",transactionMessage:o.error.message,logs:g})}return o.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(t,r){var i;const n=(i=this._subscriptionsByHash[t])==null?void 0:i.state;if(this._subscriptionsByHash[t]=r,n!==r.state){const s=this._subscriptionStateChangeCallbacksByHash[t];s&&s.forEach(c=>{try{c(r.state)}catch{}})}}_onSubscriptionStateChange(t,r){var s;const n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[n]||(s[n]=new Set);return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,r=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:c}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const p=await this._rpcWebSocket.call(c,s);this._setSubscription(n,{...i,serverSubscriptionId:p,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[p]=i.callbacks,await this._updateSubscriptions()}catch(p){if(p instanceof Error&&console.error(`${c} error for argument`,s,p.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:c}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(c,[s])}catch(p){if(p instanceof Error&&console.error(`${c} error:`,p.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,r){const n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(t){const{result:r,subscription:n}=Dr(t,wDe);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(t,r){const n=this._nextClientSubscriptionId++,i=Dee([t.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...t,args:r,callbacks:new Set([t.callback]),state:"pending"}:s.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const c=this._subscriptionsByHash[i];ka(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),c.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,r,n){const{commitment:i,config:s}=fa(n),c=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},c)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:r,subscription:n}=Dr(t,EDe);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(t,r,n,i){const{commitment:s,config:c}=fa(n),p=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",c||(i?{filters:$ee(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},p)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,r,n){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:r,subscription:n}=Dr(t,tRe);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(t){const{result:r,subscription:n}=Dr(t,TDe);this._handleServerNotification(n,[r])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:r,subscription:n}=Dr(t,CDe);this._handleServerNotification(n,[r])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${r}' events could not be found.`)}_buildArgs(t,r,n,i){const s=r||this._commitment;if(s||n||i){let c={};n&&(c.encoding=n),s&&(c.commitment=s),i&&(c=Object.assign(c,i)),t.push(c)}return t}_buildArgsAtLeastConfirmed(t,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,r,n,i)}_wsOnSignatureNotification(t){const{result:r,subscription:n}=Dr(t,IDe);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(t,r,n){const i=this._buildArgs([t],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(c,p)=>{if(c.type==="status"){r(c.result,p);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(t,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},c=this._buildArgs([t],i,void 0,s),p=this._makeSubscription({callback:(o,g)=>{r(o,g);try{this.removeSignatureListener(p)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return p}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:r,subscription:n}=Dr(t,MDe);this._handleServerNotification(n,[r])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class Wp{constructor(t){this._keypair=void 0,this._keypair=t??Iee()}static generate(){return new Wp(Iee())}static fromSecretKey(t,r){if(t.byteLength!==64)throw new Error("bad secret key size");const n=t.slice(32,64);if(!r||!r.skipValidation){const i=t.slice(0,32),s=bN(i);for(let c=0;c<32;c++)if(n[c]!==s[c])throw new Error("provided secretKey is invalid")}return new Wp({publicKey:n,secretKey:t})}static fromSeed(t){const r=bN(t),n=new Uint8Array(64);return n.set(t),n.set(r,32),new Wp({publicKey:r,secretKey:n})}get publicKey(){return new gn(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:an([bn("instruction"),Ox("recentSlot"),Vi("bumpSeed")])},FreezeLookupTable:{index:1,layout:an([bn("instruction")])},ExtendLookupTable:{index:2,layout:an([bn("instruction"),Ox(),js(fi(),iy(bn(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:an([bn("instruction")])},CloseLookupTable:{index:4,layout:an([bn("instruction")])}});new gn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:an([Vi("instruction"),bn("units"),bn("additionalFee")])},RequestHeapFrame:{index:1,layout:an([Vi("instruction"),bn("bytes")])},SetComputeUnitLimit:{index:2,layout:an([Vi("instruction"),bn("units")])},SetComputeUnitPrice:{index:3,layout:an([Vi("instruction"),Ox("microLamports")])}});new gn("ComputeBudget111111111111111111111111111111");an([Vi("numSignatures"),Vi("padding"),Ju("signatureOffset"),Ju("signatureInstructionIndex"),Ju("publicKeyOffset"),Ju("publicKeyInstructionIndex"),Ju("messageDataOffset"),Ju("messageDataSize"),Ju("messageInstructionIndex")]);new gn("Ed25519SigVerify111111111111111111111111111");SW.utils.isValidPrivateKey;SW.getPublicKey;an([Vi("numSignatures"),Ju("signatureOffset"),Vi("signatureInstructionIndex"),Ju("ethAddressOffset"),Vi("ethAddressInstructionIndex"),Ju("messageDataOffset"),Ju("messageDataSize"),Vi("messageInstructionIndex"),wa(20,"ethAddress"),wa(64,"signature"),Vi("recoveryId")]);new gn("KeccakSecp256k11111111111111111111111111111");var kme;new gn("StakeConfig11111111111111111111111111111111");class Ome{constructor(t,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}}kme=Ome;Ome.default=new kme(0,0,gn.default);Object.freeze({Initialize:{index:0,layout:an([bn("instruction"),mOe(),gOe()])},Authorize:{index:1,layout:an([bn("instruction"),fi("newAuthorized"),bn("stakeAuthorizationType")])},Delegate:{index:2,layout:an([bn("instruction")])},Split:{index:3,layout:an([bn("instruction"),lu("lamports")])},Withdraw:{index:4,layout:an([bn("instruction"),lu("lamports")])},Deactivate:{index:5,layout:an([bn("instruction")])},Merge:{index:7,layout:an([bn("instruction")])},AuthorizeWithSeed:{index:8,layout:an([bn("instruction"),fi("newAuthorized"),bn("stakeAuthorizationType"),Pb("authoritySeed"),fi("authorityOwner")])}});new gn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:an([bn("instruction"),yOe()])},Authorize:{index:1,layout:an([bn("instruction"),fi("newAuthorized"),bn("voteAuthorizationType")])},Withdraw:{index:3,layout:an([bn("instruction"),lu("lamports")])},UpdateValidatorIdentity:{index:4,layout:an([bn("instruction")])},AuthorizeWithSeed:{index:10,layout:an([bn("instruction"),vOe()])}});new gn("Vote111111111111111111111111111111111111111");new gn("Va1idator1nfo111111111111111111111111111111");hr({name:Cr(),website:Tn(Cr()),details:Tn(Cr()),iconUrl:Tn(Cr()),keybaseUsername:Tn(Cr())});new gn("Vote111111111111111111111111111111111111111");an([fi("nodePubkey"),fi("authorizedWithdrawer"),Vi("commission"),us(),js(an([us("slot"),bn("confirmationCount")]),iy(bn(),-8),"votes"),Vi("rootSlotValid"),us("rootSlot"),us(),js(an([us("epoch"),fi("authorizedVoter")]),iy(bn(),-8),"authorizedVoters"),an([js(an([fi("authorizedPubkey"),us("epochOfLastAuthorizedSwitch"),us("targetEpoch")]),32,"buf"),us("idx"),Vi("isEmpty")],"priorVoters"),us(),js(an([us("epoch"),us("credits"),us("prevCredits")]),iy(bn(),-8),"epochCredits"),an([us("slot"),us("timestamp")],"lastTimestamp")]);const Nee={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function nRe(e,t){const r="https";if(!e)return Nee[r].devnet;const n=Nee[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n}const Dme=se.createContext({});function PI(){return se.useContext(Dme)}const iRe=({children:e,endpoint:t,config:r={commitment:"confirmed"}})=>{const n=se.useMemo(()=>new Mme(t,r),[t,r]);return Ke.createElement(Dme.Provider,{value:{connection:n}},e)};var Rme={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(o,g,y){this.fn=o,this.context=g,this.once=y||!1}function s(o,g,y,x,E){if(typeof y!="function")throw new TypeError("The listener must be a function");var A=new i(y,x||o,E),M=r?r+g:g;return o._events[M]?o._events[M].fn?o._events[M]=[o._events[M],A]:o._events[M].push(A):(o._events[M]=A,o._eventsCount++),o}function c(o,g){--o._eventsCount===0?o._events=new n:delete o._events[g]}function p(){this._events=new n,this._eventsCount=0}p.prototype.eventNames=function(){var g=[],y,x;if(this._eventsCount===0)return g;for(x in y=this._events)t.call(y,x)&&g.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(y)):g},p.prototype.listeners=function(g){var y=r?r+g:g,x=this._events[y];if(!x)return[];if(x.fn)return[x.fn];for(var E=0,A=x.length,M=new Array(A);E<A;E++)M[E]=x[E].fn;return M},p.prototype.listenerCount=function(g){var y=r?r+g:g,x=this._events[y];return x?x.fn?1:x.length:0},p.prototype.emit=function(g,y,x,E,A,M){var R=r?r+g:g;if(!this._events[R])return!1;var k=this._events[R],D=arguments.length,$,B;if(k.fn){switch(k.once&&this.removeListener(g,k.fn,void 0,!0),D){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,y),!0;case 3:return k.fn.call(k.context,y,x),!0;case 4:return k.fn.call(k.context,y,x,E),!0;case 5:return k.fn.call(k.context,y,x,E,A),!0;case 6:return k.fn.call(k.context,y,x,E,A,M),!0}for(B=1,$=new Array(D-1);B<D;B++)$[B-1]=arguments[B];k.fn.apply(k.context,$)}else{var V=k.length,U;for(B=0;B<V;B++)switch(k[B].once&&this.removeListener(g,k[B].fn,void 0,!0),D){case 1:k[B].fn.call(k[B].context);break;case 2:k[B].fn.call(k[B].context,y);break;case 3:k[B].fn.call(k[B].context,y,x);break;case 4:k[B].fn.call(k[B].context,y,x,E);break;default:if(!$)for(U=1,$=new Array(D-1);U<D;U++)$[U-1]=arguments[U];k[B].fn.apply(k[B].context,$)}}return!0},p.prototype.on=function(g,y,x){return s(this,g,y,x,!1)},p.prototype.once=function(g,y,x){return s(this,g,y,x,!0)},p.prototype.removeListener=function(g,y,x,E){var A=r?r+g:g;if(!this._events[A])return this;if(!y)return c(this,A),this;var M=this._events[A];if(M.fn)M.fn===y&&(!E||M.once)&&(!x||M.context===x)&&c(this,A);else{for(var R=0,k=[],D=M.length;R<D;R++)(M[R].fn!==y||E&&!M[R].once||x&&M[R].context!==x)&&k.push(M[R]);k.length?this._events[A]=k.length===1?k[0]:k:c(this,A)}return this},p.prototype.removeAllListeners=function(g){var y;return g?(y=r?r+g:g,this._events[y]&&c(this,y)):(this._events=new n,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=r,p.EventEmitter=p,e.exports=p})(Rme);var aRe=Rme.exports;const $me=oi(aRe);class wl extends Error{constructor(t,r){super(t),this.error=r}}class Qb extends wl{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class T6 extends wl{constructor(){super(...arguments),this.name="WalletConfigError"}}class P6 extends wl{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Lme extends wl{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class oRe extends wl{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Cb extends wl{constructor(){super(...arguments),this.name="WalletAccountError"}}class Bme extends wl{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class sc extends wl{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Bg extends wl{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class zg extends wl{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class zme extends wl{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Fee extends wl{constructor(){super(...arguments),this.name="WalletSignInError"}}var oa;(function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"})(oa||(oa={}));class Nme extends $me{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,r,n={}){const i=this.publicKey;if(!i)throw new sc;return t.feePayer=t.feePayer||i,t.recentBlockhash=t.recentBlockhash||(await r.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,t}}function i1(e){return"version"in e}class sRe extends Nme{async sendTransaction(t,r,n={}){let i=!0;try{if(i1(t)){if(!this.supportedTransactionVersions)throw new Bg("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new Bg(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const s=t.serialize();return await r.sendRawTransaction(s,n)}catch(s){throw s instanceof zg?(i=!1,s):new Bg(s==null?void 0:s.message,s)}}else try{const{signers:s,...c}=n;t=await this.prepareTransaction(t,r,c),s!=null&&s.length&&t.partialSign(...s),t=await this.signTransaction(t);const p=t.serialize();return await r.sendRawTransaction(p,c)}catch(s){throw s instanceof zg?(i=!1,s):new Bg(s==null?void 0:s.message,s)}}catch(s){throw i&&this.emit("error",s),s}}async signAllTransactions(t){for(const n of t)if(i1(n)){if(!this.supportedTransactionVersions)throw new zg("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new zg(`Signing transaction version ${n.version} isn't supported by this wallet`)}const r=[];for(const n of t)r.push(await this.signTransaction(n));return r}}class lRe extends sRe{}class Fme extends lRe{}const Gm="solana:signAndSendTransaction",o$="solana:signIn",v2="solana:signMessage",fs="solana:signTransaction",jme="standard:connect",jee="standard:disconnect",Vme="standard:events";function uRe(e){return jme in e.features&&Vme in e.features&&(Gm in e.features||fs in e.features)}var TN;(function(e){e.Mainnet="mainnet-beta",e.Testnet="testnet",e.Devnet="devnet"})(TN||(TN={}));class Vee extends wl{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const cRe=[],CI={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){ed("call","select")},connect(){return Promise.reject(ed("call","connect"))},disconnect(){return Promise.reject(ed("call","disconnect"))},sendTransaction(){return Promise.reject(ed("call","sendTransaction"))},signTransaction(){return Promise.reject(ed("call","signTransaction"))},signAllTransactions(){return Promise.reject(ed("call","signAllTransactions"))},signMessage(){return Promise.reject(ed("call","signMessage"))},signIn(){return Promise.reject(ed("call","signIn"))}};Object.defineProperty(CI,"wallets",{get(){return ed("read","wallets"),cRe}});Object.defineProperty(CI,"wallet",{get(){return ed("read","wallet"),null}});Object.defineProperty(CI,"publicKey",{get(){return ed("read","publicKey"),null}});function ed(e,t){const r=new Error(`You have tried to ${e} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(r),r}const Ume=se.createContext(CI);function s9(){return se.useContext(Ume)}function dRe(e,t){const r=se.useState(()=>{try{const s=localStorage.getItem(e);if(s)return JSON.parse(s)}catch(s){typeof window<"u"&&console.error(s)}return t}),n=r[0],i=se.useRef(!0);return se.useEffect(()=>{if(i.current){i.current=!1;return}try{n===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(n))}catch(s){typeof window<"u"&&console.error(s)}},[n,e]),r}function s$(e){switch(e){case"processed":case"confirmed":case"finalized":case void 0:return e;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Uee="solana:mainnet",fRe="solana:devnet",pRe="solana:testnet",hRe="solana:localnet",mRe="https://api.mainnet-beta.solana.com";function gRe(e){return e.includes(mRe)?Uee:/\bdevnet\b/i.test(e)?fRe:/\btestnet\b/i.test(e)?pRe:/\blocalhost\b/i.test(e)||/\b127\.0\.0\.1\b/.test(e)?hRe:Uee}function yRe(e){const t=Wme(e);return new TextEncoder().encode(t)}function Wme(e){let t=`${e.domain} wants you to sign in with your Solana account:
`;t+=`${e.address}`,e.statement&&(t+=`

${e.statement}`);const r=[];if(e.uri&&r.push(`URI: ${e.uri}`),e.version&&r.push(`Version: ${e.version}`),e.chainId&&r.push(`Chain ID: ${e.chainId}`),e.nonce&&r.push(`Nonce: ${e.nonce}`),e.issuedAt&&r.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&r.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&r.push(`Not Before: ${e.notBefore}`),e.requestId&&r.push(`Request ID: ${e.requestId}`),e.resources){r.push("Resources:");for(const n of e.resources)r.push(`- ${n}`)}return r.length&&(t+=`

${r.join(`
`)}`),t}const sh={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class lh extends Error{constructor(...t){const[r,n,i]=t;super(n),this.code=r,this.data=i,this.name="SolanaMobileWalletAdapterError"}}class Kme extends Error{constructor(...t){const[r,n,i,s]=t;super(i),this.code=n,this.data=s,this.jsonRpcMessageId=r,this.name="SolanaMobileWalletAdapterProtocolError"}}function Ro(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function p(y){try{g(n.next(y))}catch(x){c(x)}}function o(y){try{g(n.throw(y))}catch(x){c(x)}}function g(y){y.done?s(y.value):i(y.value).then(p,o)}g((n=n.apply(e,[])).next())})}function vRe(e,t){return Ro(this,void 0,void 0,function*(){const r=yield crypto.subtle.exportKey("raw",e),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,r),i=new Uint8Array(r.byteLength+n.byteLength);return i.set(new Uint8Array(r),0),i.set(new Uint8Array(n),r.byteLength),i})}function _Re(e){return window.btoa(e)}function bRe(e){return Wme(e)}function xRe(e){return _Re(bRe(e))}const wRe="solana:signTransactions",Wee="solana:cloneAuthorization";function SRe(e,t){return new Proxy({},{get(r,n){return r[n]==null&&(r[n]=function(i){return Ro(this,void 0,void 0,function*(){const{method:s,params:c}=ERe(n,i,e),p=yield t(s,c);return s==="authorize"&&c.sign_in_payload&&!p.sign_in_result&&(p.sign_in_result=yield TRe(c.sign_in_payload,p,t)),ARe(n,p,e)})}),r[n]},defineProperty(){return!1},deleteProperty(){return!1}})}function ERe(e,t,r){let n=t,i=e.toString().replace(/[A-Z]/g,s=>`_${s.toLowerCase()}`).toLowerCase();switch(e){case"authorize":{let{chain:s}=n;if(r==="legacy"){switch(s){case"solana:testnet":{s="testnet";break}case"solana:devnet":{s="devnet";break}case"solana:mainnet":{s="mainnet-beta";break}default:s=n.cluster}n.cluster=s}else{switch(s){case"testnet":case"devnet":{s=`solana:${s}`;break}case"mainnet-beta":{s="solana:mainnet";break}}n.chain=s}}case"reauthorize":{const{auth_token:s,identity:c}=n;if(s)switch(r){case"legacy":{i="reauthorize",n={auth_token:s,identity:c};break}default:{i="authorize";break}}break}}return{method:i,params:n}}function ARe(e,t,r){switch(e){case"getCapabilities":{const n=t;switch(r){case"legacy":{const i=[wRe];return n.supports_clone_authorization===!0&&i.push(Wee),Object.assign(Object.assign({},n),{features:i})}case"v1":return Object.assign(Object.assign({},n),{supports_sign_and_send_transactions:!0,supports_clone_authorization:n.features.includes(Wee)})}}}return t}function TRe(e,t,r){var n;return Ro(this,void 0,void 0,function*(){const i=(n=e.domain)!==null&&n!==void 0?n:window.location.host,s=t.accounts[0].address,c=xRe(Object.assign(Object.assign({},e),{domain:i,address:s})),p=yield r("sign_messages",{addresses:[s],payloads:[c]});return{address:s,signed_message:c,signature:p.signed_payloads[0].slice(c.length)}})}const Ng=4;function PRe(e){if(e>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(Ng);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}const PN=12,Hme=65;function CRe(e,t,r){return Ro(this,void 0,void 0,function*(){const n=PRe(t),i=new Uint8Array(PN);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(qme(n,i),r,new TextEncoder().encode(e)),c=new Uint8Array(n.byteLength+i.byteLength+s.byteLength);return c.set(new Uint8Array(n),0),c.set(new Uint8Array(i),n.byteLength),c.set(new Uint8Array(s),n.byteLength+i.byteLength),c})}function Gme(e,t){return Ro(this,void 0,void 0,function*(){const r=e.slice(0,Ng),n=e.slice(Ng,Ng+PN),i=e.slice(Ng+PN),s=yield crypto.subtle.decrypt(qme(r,n),t,i);return IRe().decode(s)})}function qme(e,t){return{additionalData:e,iv:t,name:"AES-GCM",tagLength:128}}let l$;function IRe(){return l$===void 0&&(l$=new TextDecoder("utf-8")),l$}function MRe(){return Ro(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function kRe(){return Ro(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function ORe(e,t){return Ro(this,void 0,void 0,function*(){const r=JSON.stringify(e),n=e.id;return CRe(r,n,t)})}function DRe(e,t){return Ro(this,void 0,void 0,function*(){const r=yield Gme(e,t),n=JSON.parse(r);if(Object.hasOwnProperty.call(n,"error"))throw new Kme(n.id,n.error.code,n.error.message);return n})}function RRe(e,t,r){return Ro(this,void 0,void 0,function*(){const[n,i]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",e.slice(0,Hme),{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},r,256),c=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},c,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function $Re(e,t){return Ro(this,void 0,void 0,function*(){const r=yield Gme(e,t),n=JSON.parse(r);let i="legacy";if(Object.hasOwnProperty.call(n,"v"))switch(n.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new lh(sh.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${n.v}`)}return{protocol_version:i}})}function LRe(){return Zme(49152+Math.floor(Math.random()*16384))}function Zme(e){if(e<49152||e>65535)throw new lh(sh.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${e} given.`,{port:e});return e}function BRe(e){let t="";const r=new Uint8Array(e),n=r.byteLength;for(let i=0;i<n;i++)t+=String.fromCharCode(r[i]);return window.btoa(t)}function zRe(e){return e.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])}const NRe="solana-wallet";function Kee(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function FRe(e,t){let r=null;if(t){try{r=new URL(t)}catch{}if((r==null?void 0:r.protocol)!=="https:")throw new lh(sh.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}r||(r=new URL(`${NRe}:/`));const n=e.startsWith("/")?e:[...Kee(r.pathname),...Kee(e)].join("/");return new URL(n,r)}function jRe(e,t,r,n=["v1"]){return Ro(this,void 0,void 0,function*(){const i=Zme(t),s=yield crypto.subtle.exportKey("raw",e),c=BRe(s),p=FRe("v1/associate/local",r);return p.searchParams.set("association",zRe(c)),p.searchParams.set("port",`${i}`),n.forEach(o=>{p.searchParams.set("v",o)}),p})}const fP={Firefox:0,Other:1};function VRe(){return navigator.userAgent.indexOf("Firefox/")!==-1?fP.Firefox:fP.Other}function URe(){return new Promise((e,t)=>{function r(){clearTimeout(i),window.removeEventListener("blur",n)}function n(){r(),e()}window.addEventListener("blur",n);const i=setTimeout(()=>{r(),t()},2e3)})}let _2=null;function WRe(e){_2==null&&(_2=document.createElement("iframe"),_2.style.display="none",document.body.appendChild(_2)),_2.contentWindow.location.href=e.toString()}function KRe(e,t){return Ro(this,void 0,void 0,function*(){const r=LRe(),n=yield jRe(e,r,t);if(n.protocol==="https:")window.location.assign(n);else try{const i=VRe();switch(i){case fP.Firefox:WRe(n);break;case fP.Other:{const s=URe();window.location.assign(n),yield s;break}default:}}catch{throw new lh(sh.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}return r})}const Hee={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},HRe="com.solana.mobilewalletadapter.v1";function GRe(){if(typeof window>"u"||window.isSecureContext!==!0)throw new lh(sh.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function qRe(e){let t;try{t=new URL(e)}catch{throw new lh(sh.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(t.protocol!=="https:")throw new lh(sh.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Gee(e){return new DataView(e).getUint32(0,!1)}function ZRe(e,t){return Ro(this,void 0,void 0,function*(){GRe();const r=yield MRe(),n=yield KRe(r.publicKey,t==null?void 0:t.baseUri),i=`ws://localhost:${n}/solana-wallet`;let s;const c=(()=>{const y=[...Hee.retryDelayScheduleMs];return()=>y.length>1?y.shift():y[0]})();let p=1,o=0,g={__type:"disconnected"};return new Promise((y,x)=>{let E;const A={},M=()=>Ro(this,void 0,void 0,function*(){if(g.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${g.__type}\`.`);return}const{associationKeypair:U}=g;E.removeEventListener("open",M);const Z=yield kRe();E.send(yield vRe(Z.publicKey,U.privateKey)),g={__type:"hello_req_sent",associationPublicKey:U.publicKey,ecdhPrivateKey:Z.privateKey}}),R=U=>{U.wasClean?g={__type:"disconnected"}:x(new lh(sh.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${U.code}: ${U.reason}).`,{closeEvent:U})),$()},k=U=>Ro(this,void 0,void 0,function*(){$(),Date.now()-s>=Hee.timeoutMs?x(new lh(sh.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket on port ${n}.`)):(yield new Promise(Z=>{const ne=c();B=window.setTimeout(Z,ne)}),V())}),D=U=>Ro(this,void 0,void 0,function*(){const Z=yield U.data.arrayBuffer();switch(g.__type){case"connected":try{const ne=Z.slice(0,Ng),j=Gee(ne);if(j!==o+1)throw new Error("Encrypted message has invalid sequence number");o=j;const fe=yield DRe(Z,g.sharedSecret),be=A[fe.id];delete A[fe.id],be.resolve(fe.result)}catch(ne){if(ne instanceof Kme){const j=A[ne.jsonRpcMessageId];delete A[ne.jsonRpcMessageId],j.reject(ne)}else throw ne}break;case"hello_req_sent":{const ne=yield RRe(Z,g.associationPublicKey,g.ecdhPrivateKey),j=Z.slice(Hme),fe=j.byteLength!==0?yield Ro(this,void 0,void 0,function*(){const pe=j.slice(0,Ng),le=Gee(pe);if(le!==o+1)throw new Error("Encrypted message has invalid sequence number");return o=le,$Re(j,ne)}):{protocol_version:"legacy"};g={__type:"connected",sharedSecret:ne,sessionProperties:fe};const be=SRe(fe.protocol_version,(pe,le)=>Ro(this,void 0,void 0,function*(){const G=p++;return E.send(yield ORe({id:G,jsonrpc:"2.0",method:pe,params:le??{}},ne)),new Promise((N,Y)=>{A[G]={resolve(te){switch(pe){case"authorize":case"reauthorize":{const{wallet_uri_base:re}=te;if(re!=null)try{qRe(re)}catch(he){Y(he);return}break}}N(te)},reject:Y}})}));try{y(yield e(be))}catch(pe){x(pe)}finally{$(),E.close()}break}}});let $,B;const V=()=>{$&&$(),g={__type:"connecting",associationKeypair:r},s===void 0&&(s=Date.now()),E=new WebSocket(i,[HRe]),E.addEventListener("open",M),E.addEventListener("close",R),E.addEventListener("error",k),E.addEventListener("message",D),$=()=>{window.clearTimeout(B),E.removeEventListener("open",M),E.removeEventListener("close",R),E.removeEventListener("error",k),E.removeEventListener("message",D)}};V()})})}function XRe(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=n}var c=e.length,p=e.charAt(0),o=Math.log(c)/Math.log(256),g=Math.log(256)/Math.log(c);function y(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var M=0,R=0,k=0,D=A.length;k!==D&&A[k]===0;)k++,M++;for(var $=(D-k)*g+1>>>0,B=new Uint8Array($);k!==D;){for(var V=A[k],U=0,Z=$-1;(V!==0||U<R)&&Z!==-1;Z--,U++)V+=256*B[Z]>>>0,B[Z]=V%c>>>0,V=V/c>>>0;if(V!==0)throw new Error("Non-zero carry");R=U,k++}for(var ne=$-R;ne!==$&&B[ne]===0;)ne++;for(var j=p.repeat(M);ne<$;++ne)j+=e.charAt(B[ne]);return j}function x(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;for(var M=0,R=0,k=0;A[M]===p;)R++,M++;for(var D=(A.length-M)*o+1>>>0,$=new Uint8Array(D);A[M];){var B=t[A.charCodeAt(M)];if(B===255)return;for(var V=0,U=D-1;(B!==0||V<k)&&U!==-1;U--,V++)B+=c*$[U]>>>0,$[U]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");k=V,M++}for(var Z=D-k;Z!==D&&$[Z]===0;)Z++;for(var ne=new Uint8Array(R+(D-Z)),j=R;Z!==D;)ne[j++]=$[Z++];return ne}function E(A){var M=x(A);if(M)return M;throw new Error("Non-base"+c+" character")}return{encode:y,decodeUnsafe:x,decode:E}}var YRe=XRe;const JRe=YRe,QRe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var e$e=JRe(QRe);const t$e=oi(e$e);function u$(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function RE(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function p(y){try{g(n.next(y))}catch(x){c(x)}}function o(y){try{g(n.throw(y))}catch(x){c(x)}}function g(y){y.done?s(y.value):i(y.value).then(p,o)}g((n=n.apply(e,[])).next())})}function Xme(e){return window.btoa(String.fromCharCode.call(null,...e))}function c$(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}function qee(e){const t="version"in e?e.serialize():e.serialize({requireAllSignatures:!1,verifySignatures:!1});return Xme(t)}function r$e(e){const r=e[0]*B5+1;return AW.deserializeMessageVersion(e.slice(r,e.length))==="legacy"?ld.from(e):wy.deserialize(e)}function n$e(e,t){return RE(this,void 0,void 0,function*(){return yield ZRe(n=>{const i=new Proxy({},{get(s,c){if(s[c]==null)switch(c){case"signAndSendTransactions":s[c]=function(p){var{minContextSlot:o,commitment:g,skipPreflight:y,maxRetries:x,waitForCommitmentToSendNextTransaction:E,transactions:A}=p,M=u$(p,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return RE(this,void 0,void 0,function*(){const R=A.map(qee),k={min_context_slot:o,commitment:g,skip_preflight:y,max_retries:x,wait_for_commitment_to_send_next_transaction:E},{signatures:D}=yield n.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},M),Object.values(k).some(B=>B!=null)?{options:k}:null),{payloads:R}));return D.map(c$).map(t$e.encode)})};break;case"signMessages":s[c]=function(p){var{payloads:o}=p,g=u$(p,["payloads"]);return RE(this,void 0,void 0,function*(){const y=o.map(Xme),{signed_payloads:x}=yield n.signMessages(Object.assign(Object.assign({},g),{payloads:y}));return x.map(c$)})};break;case"signTransactions":s[c]=function(p){var{transactions:o}=p,g=u$(p,["transactions"]);return RE(this,void 0,void 0,function*(){const y=o.map(qee),{signed_payloads:x}=yield n.signTransactions(Object.assign(Object.assign({},g),{payloads:y}));return x.map(c$).map(r$e)})};break;default:{s[c]=n[c];break}}return s[c]},defineProperty(){return!1},deleteProperty(){return!1}});return e(i)},t)})}function Oi(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function p(y){try{g(n.next(y))}catch(x){c(x)}}function o(y){try{g(n.throw(y))}catch(x){c(x)}}function g(y){y.done?s(y.value):i(y.value).then(p,o)}g((n=n.apply(e,[])).next())})}function tT(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}function i$e(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const jm="Mobile Wallet Adapter",a$e=64;function o$e(e){const t=tT(e);return new gn(t)}function Zee(e){return"version"in e}class s$e extends Fme{constructor(t){var r;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=jm,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=i$e()?oa.Loadable:oa.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=(r=t.chain)!==null&&r!==void 0?r:t.cluster,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==oa.Unsupported&&this._authorizationResultCache.get().then(n=>{n&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=o$e(this._selectedAddress)}catch(t){throw new Bme(t instanceof Error&&(t==null?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==oa.Installed&&this.emit("readyStateChange",this._readyState=oa.Installed)}runWithGuard(t){return Oi(this,void 0,void 0,function*(){try{return yield t()}catch(r){throw this.emit("error",r),r}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Oi(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Oi(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>Oi(this,void 0,void 0,function*(){if(this._readyState!==oa.Installed&&this._readyState!==oa.Loadable)throw new Qb;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new P6(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}connect(){return Oi(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>Oi(this,void 0,void 0,function*(){if(this._readyState!==oa.Installed&&this._readyState!==oa.Loadable)throw new Qb;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new P6(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}performAuthorization(t){return Oi(this,void 0,void 0,function*(){try{const r=yield this._authorizationResultCache.get();return r?(this.handleAuthorizationResult(r),r):yield this.transact(n=>Oi(this,void 0,void 0,function*(){const i=yield n.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(i),this.handleAuthorizationResult(i)]),i}))}catch(r){throw new P6(r instanceof Error&&r.message||"Unknown error",r)}})}handleAuthorizationResult(t){var r;return Oi(this,void 0,void 0,function*(){const n=this._authorizationResult==null||((r=this._authorizationResult)===null||r===void 0?void 0:r.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some((i,s)=>i.address!==t.accounts[s].address);if(this._authorizationResult=t,this.declareWalletAsInstalled(),n){const i=yield this._addressSelector.select(t.accounts.map(({address:s})=>s));i!==this._selectedAddress&&(this._selectedAddress=i,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(t,r){return Oi(this,void 0,void 0,function*(){try{const n=yield t.authorize({auth_token:r,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(n){throw this.disconnect(),new Lme(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}})}disconnect(){return Oi(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(t){var r;return Oi(this,void 0,void 0,function*(){const n=(r=this._authorizationResult)===null||r===void 0?void 0:r.wallet_uri_base,i=n?{baseUri:n}:void 0,s=this._connectionGeneration;try{return yield n$e(t,i)}catch(c){throw this._connectionGeneration!==s&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),c}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new sc;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return Oi(this,void 0,void 0,function*(){const{authToken:r}=this.assertIsAuthorized();try{return yield this.transact(n=>Oi(this,void 0,void 0,function*(){return yield this.performReauthorization(n,r),yield n.signTransactions({transactions:t})}))}catch(n){throw new zg(n==null?void 0:n.message,n)}})}sendTransaction(t,r,n){return Oi(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Oi(this,void 0,void 0,function*(){const{authToken:i}=this.assertIsAuthorized(),s=n==null?void 0:n.minContextSlot;try{return yield this.transact(c=>Oi(this,void 0,void 0,function*(){function p(){let x;switch(r.commitment){case"confirmed":case"finalized":case"processed":x=r.commitment;break;default:x="finalized"}let E;switch(n==null?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":E=n.preflightCommitment;break;case void 0:E=x;break;default:E="finalized"}return(E==="finalized"?2:E==="confirmed"?1:0)<(x==="finalized"?2:x==="confirmed"?1:0)?E:x}const[o,g,y]=yield Promise.all([c.getCapabilities(),this.performReauthorization(c,i),Zee(t)?null:Oi(this,void 0,void 0,function*(){var x;if(t.feePayer||(t.feePayer=(x=this.publicKey)!==null&&x!==void 0?x:void 0),t.recentBlockhash==null){const{blockhash:E}=yield r.getLatestBlockhash({commitment:p()});t.recentBlockhash=E}})]);if(o.supports_sign_and_send_transactions)return(yield c.signAndSendTransactions({minContextSlot:s,transactions:[t]}))[0];{const[x]=yield c.signTransactions({transactions:[t]});if(Zee(x))return yield r.sendTransaction(x);{const E=x.serialize();return yield r.sendRawTransaction(E,Object.assign(Object.assign({},n),{preflightCommitment:p()}))}}}))}catch(c){throw new Bg(c==null?void 0:c.message,c)}}))})}signTransaction(t){return Oi(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Oi(this,void 0,void 0,function*(){const[r]=yield this.performSignTransactions([t]);return r}))})}signAllTransactions(t){return Oi(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Oi(this,void 0,void 0,function*(){return yield this.performSignTransactions(t)}))})}signMessage(t){return Oi(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Oi(this,void 0,void 0,function*(){const{authToken:r,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact(i=>Oi(this,void 0,void 0,function*(){yield this.performReauthorization(i,r);const[s]=yield i.signMessages({addresses:[n],payloads:[t]});return s.slice(-a$e)}))}catch(i){throw new zme(i==null?void 0:i.message,i)}}))})}signIn(t){return Oi(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Oi(this,void 0,void 0,function*(){var r,n;if(this._readyState!==oa.Installed&&this._readyState!==oa.Loadable)throw new Qb;this._connecting=!0;try{const i=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:(r=t==null?void 0:t.domain)!==null&&r!==void 0?r:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const s=i.sign_in_result.address;return{account:Object.assign(Object.assign({},(n=i.accounts.find(p=>p.address==s))!==null&&n!==void 0?n:{address:s}),{publicKey:tT(s)}),signedMessage:tT(i.sign_in_result.signed_message),signature:tT(i.sign_in_result.signature)}}catch(i){throw new P6(i instanceof Error&&i.message||"Unknown error",i)}finally{this._connecting=!1}}))})}}function l$e(){return{select(e){return Oi(this,void 0,void 0,function*(){return e[0]})}}}const d$="SolanaMobileWalletAdapterDefaultAuthorizationCache";function u$e(){let e;try{e=window.localStorage}catch{}return{clear(){return Oi(this,void 0,void 0,function*(){if(e)try{e.removeItem(d$)}catch{}})},get(){return Oi(this,void 0,void 0,function*(){if(e)try{return JSON.parse(e.getItem(d$))||void 0}catch{}})},set(t){return Oi(this,void 0,void 0,function*(){if(e)try{e.setItem(d$,JSON.stringify(t))}catch{}})}}}function c$e(e){return Oi(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(e.url)})}function d$e(){return c$e}function f$e(e,t){if(e===t)return!0;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}var $E=yI.Buffer;function p$e(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=n}var c=e.length,p=e.charAt(0),o=Math.log(c)/Math.log(256),g=Math.log(256)/Math.log(c);function y(A){if((Array.isArray(A)||A instanceof Uint8Array)&&(A=$E.from(A)),!$E.isBuffer(A))throw new TypeError("Expected Buffer");if(A.length===0)return"";for(var M=0,R=0,k=0,D=A.length;k!==D&&A[k]===0;)k++,M++;for(var $=(D-k)*g+1>>>0,B=new Uint8Array($);k!==D;){for(var V=A[k],U=0,Z=$-1;(V!==0||U<R)&&Z!==-1;Z--,U++)V+=256*B[Z]>>>0,B[Z]=V%c>>>0,V=V/c>>>0;if(V!==0)throw new Error("Non-zero carry");R=U,k++}for(var ne=$-R;ne!==$&&B[ne]===0;)ne++;for(var j=p.repeat(M);ne<$;++ne)j+=e.charAt(B[ne]);return j}function x(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return $E.alloc(0);for(var M=0,R=0,k=0;A[M]===p;)R++,M++;for(var D=(A.length-M)*o+1>>>0,$=new Uint8Array(D);M<A.length;){var B=t[A.charCodeAt(M)];if(B===255)return;for(var V=0,U=D-1;(B!==0||V<k)&&U!==-1;U--,V++)B+=c*$[U]>>>0,$[U]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");k=V,M++}for(var Z=D-k;Z!==D&&$[Z]===0;)Z++;var ne=$E.allocUnsafe(R+(D-Z));ne.fill(0,0,R);for(var j=R;Z!==D;)ne[j++]=$[Z++];return ne}function E(A){var M=x(A);if(M)return M;throw new Error("Non-base"+c+" character")}return{encode:y,decodeUnsafe:x,decode:E}}var h$e=p$e,m$e=h$e,g$e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",y$e=m$e(g$e);const v$e=oi(y$e);var ho=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},sn=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ps,Ol,Fg,jg,wg,C6,pP,Di,hP,CN,rT,IN,Z6,MN,Xee,Yee,Jee,Qee;class _$e extends Nme{constructor({wallet:t}){super(),ps.add(this),Ol.set(this,void 0),Fg.set(this,void 0),jg.set(this,void 0),wg.set(this,void 0),C6.set(this,void 0),pP.set(this,void 0),Di.set(this,void 0),hP.set(this,typeof window>"u"||typeof document>"u"?oa.Unsupported:oa.Installed),MN.set(this,r=>{if("accounts"in r){const n=sn(this,Di,"f").accounts[0];sn(this,Ol,"f")&&!sn(this,wg,"f")&&n!==sn(this,Ol,"f")&&(n?sn(this,ps,"m",rT).call(this,n):(this.emit("error",new Lme),sn(this,ps,"m",IN).call(this)))}"features"in r&&sn(this,ps,"m",Z6).call(this)}),ho(this,Di,t,"f"),ho(this,Ol,null,"f"),ho(this,Fg,null,"f"),ho(this,jg,!1,"f"),ho(this,wg,!1,"f"),ho(this,C6,sn(this,Di,"f").features[Vme].on("change",sn(this,MN,"f")),"f"),sn(this,ps,"m",Z6).call(this)}get name(){return sn(this,Di,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return sn(this,Di,"f").icon}get readyState(){return sn(this,hP,"f")}get publicKey(){return sn(this,Fg,"f")}get connecting(){return sn(this,jg,"f")}get supportedTransactionVersions(){return sn(this,pP,"f")}get wallet(){return sn(this,Di,"f")}get standard(){return!0}destroy(){ho(this,Ol,null,"f"),ho(this,Fg,null,"f"),ho(this,jg,!1,"f"),ho(this,wg,!1,"f");const t=sn(this,C6,"f");t&&(ho(this,C6,null,"f"),t())}async autoConnect(){return sn(this,ps,"m",CN).call(this,{silent:!0})}async connect(){return sn(this,ps,"m",CN).call(this)}async disconnect(){if(jee in sn(this,Di,"f").features)try{ho(this,wg,!0,"f"),await sn(this,Di,"f").features[jee].disconnect()}catch(t){this.emit("error",new oRe(t==null?void 0:t.message,t))}finally{ho(this,wg,!1,"f")}sn(this,ps,"m",IN).call(this)}async sendTransaction(t,r,n={}){try{const i=sn(this,Ol,"f");if(!i)throw new sc;let s;if(Gm in sn(this,Di,"f").features)if(i.features.includes(Gm))s=Gm;else if(fs in sn(this,Di,"f").features&&i.features.includes(fs))s=fs;else throw new Cb;else if(fs in sn(this,Di,"f").features){if(!i.features.includes(fs))throw new Cb;s=fs}else throw new T6;const c=gRe(r.rpcEndpoint);if(!i.chains.includes(c))throw new Bg;try{const{signers:p,...o}=n;let g;if(i1(t)?(p!=null&&p.length&&t.sign(p),g=t.serialize()):(t=await this.prepareTransaction(t,r,o),p!=null&&p.length&&t.partialSign(...p),g=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===Gm){const[y]=await sn(this,Di,"f").features[Gm].signAndSendTransaction({account:i,chain:c,transaction:g,options:{preflightCommitment:s$(o.preflightCommitment||r.commitment),skipPreflight:o.skipPreflight,maxRetries:o.maxRetries,minContextSlot:o.minContextSlot}});return v$e.encode(y.signature)}else{const[y]=await sn(this,Di,"f").features[fs].signTransaction({account:i,chain:c,transaction:g,options:{preflightCommitment:s$(o.preflightCommitment||r.commitment),minContextSlot:o.minContextSlot}});return await r.sendRawTransaction(y.signedTransaction,{...o,preflightCommitment:s$(o.preflightCommitment||r.commitment)})}}catch(p){throw p instanceof wl?p:new Bg(p==null?void 0:p.message,p)}}catch(i){throw this.emit("error",i),i}}}Ol=new WeakMap,Fg=new WeakMap,jg=new WeakMap,wg=new WeakMap,C6=new WeakMap,pP=new WeakMap,Di=new WeakMap,hP=new WeakMap,MN=new WeakMap,ps=new WeakSet,CN=async function(t){try{if(this.connected||this.connecting)return;if(sn(this,hP,"f")!==oa.Installed)throw new Qb;if(ho(this,jg,!0,"f"),!sn(this,Di,"f").accounts.length)try{await sn(this,Di,"f").features[jme].connect(t)}catch(n){throw new P6(n==null?void 0:n.message,n)}const r=sn(this,Di,"f").accounts[0];if(!r)throw new Cb;sn(this,ps,"m",rT).call(this,r)}catch(r){throw this.emit("error",r),r}finally{ho(this,jg,!1,"f")}},rT=function(t){let r;try{r=new gn(t.address)}catch(n){throw new Bme(n==null?void 0:n.message,n)}ho(this,Ol,t,"f"),ho(this,Fg,r,"f"),sn(this,ps,"m",Z6).call(this),this.emit("connect",r)},IN=function(){ho(this,Ol,null,"f"),ho(this,Fg,null,"f"),sn(this,ps,"m",Z6).call(this),this.emit("disconnect")},Z6=function(){var r,n;const t=Gm in sn(this,Di,"f").features?sn(this,Di,"f").features[Gm].supportedTransactionVersions:sn(this,Di,"f").features[fs].supportedTransactionVersions;ho(this,pP,f$e(t,["legacy"])?null:new Set(t),"f"),fs in sn(this,Di,"f").features&&((r=sn(this,Ol,"f"))!=null&&r.features.includes(fs))?(this.signTransaction=sn(this,ps,"m",Xee),this.signAllTransactions=sn(this,ps,"m",Yee)):(delete this.signTransaction,delete this.signAllTransactions),v2 in sn(this,Di,"f").features&&((n=sn(this,Ol,"f"))!=null&&n.features.includes(v2))?this.signMessage=sn(this,ps,"m",Jee):delete this.signMessage,o$ in sn(this,Di,"f").features?this.signIn=sn(this,ps,"m",Qee):delete this.signIn},Xee=async function(t){try{const r=sn(this,Ol,"f");if(!r)throw new sc;if(!(fs in sn(this,Di,"f").features))throw new T6;if(!r.features.includes(fs))throw new Cb;try{const i=(await sn(this,Di,"f").features[fs].signTransaction({account:r,transaction:i1(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return i1(t)?wy.deserialize(i):ld.from(i)}catch(n){throw n instanceof wl?n:new zg(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}},Yee=async function(t){try{const r=sn(this,Ol,"f");if(!r)throw new sc;if(!(fs in sn(this,Di,"f").features))throw new T6;if(!r.features.includes(fs))throw new Cb;try{const n=await sn(this,Di,"f").features[fs].signTransaction(...t.map(i=>({account:r,transaction:i1(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((i,s)=>{const c=n[s].signedTransaction;return i1(i)?wy.deserialize(c):ld.from(c)})}catch(n){throw new zg(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}},Jee=async function(t){try{const r=sn(this,Ol,"f");if(!r)throw new sc;if(!(v2 in sn(this,Di,"f").features))throw new T6;if(!r.features.includes(v2))throw new Cb;try{return(await sn(this,Di,"f").features[v2].signMessage({account:r,message:t}))[0].signature}catch(n){throw new zme(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}},Qee=async function(t={}){try{if(!(o$ in sn(this,Di,"f").features))throw new T6;let r;try{[r]=await sn(this,Di,"f").features[o$].signIn(t)}catch(n){throw new Fee(n==null?void 0:n.message,n)}if(!r)throw new Fee;return sn(this,ps,"m",rT).call(this,r.account),r}catch(r){throw this.emit("error",r),r}};const b$e=uRe;var x$e=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},w$e=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},nT;let ou;const iT=new Set,Ib={};function S$e(){if(ou||(ou=Object.freeze({register:ete,get:E$e,on:A$e}),typeof window>"u"))return ou;const e=Object.freeze({register:ete});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new T$e(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return ou}function ete(...e){var t;return e=e.filter(r=>!iT.has(r)),e.length?(e.forEach(r=>iT.add(r)),(t=Ib.register)==null||t.forEach(r=>kN(()=>r(...e))),function(){var n;e.forEach(i=>iT.delete(i)),(n=Ib.unregister)==null||n.forEach(i=>kN(()=>i(...e)))}):()=>{}}function E$e(){return[...iT]}function A$e(e,t){var r;return(r=Ib[e])!=null&&r.push(t)||(Ib[e]=[t]),function(){var i;Ib[e]=(i=Ib[e])==null?void 0:i.filter(s=>t!==s)}}function kN(e){try{e()}catch(t){console.error(t)}}class T$e extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),nT.set(this,void 0),x$e(this,nT,t,"f")}get detail(){return w$e(this,nT,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}nT=new WeakMap;function P$e(){if(ou||(ou=S$e(),typeof window>"u"))return ou;const e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),ou;const{register:t}=ou,r=(...n)=>n.forEach(i=>kN(()=>i({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:r})})}catch{return console.error("window.navigator.wallets could not be set"),ou}return r(...e),ou}function C$e(e){const t=tte(()=>new Set),{get:r,on:n}=tte(()=>P$e()),[i,s]=se.useState(()=>rte(r()));se.useEffect(()=>{const p=[n("register",(...o)=>s(g=>[...g,...rte(o)])),n("unregister",(...o)=>s(g=>g.filter(y=>o.some(x=>x===y.wallet))))];return()=>p.forEach(o=>o())},[n]);const c=I$e(i);return se.useEffect(()=>{if(!c)return;const p=new Set(i);new Set(c.filter(g=>!p.has(g))).forEach(g=>g.destroy())},[c,i]),se.useEffect(()=>()=>i.forEach(p=>p.destroy()),[]),se.useMemo(()=>[...i,...e.filter(({name:p})=>i.some(o=>o.name===p)?(t.has(p)||(t.add(p),console.warn(`${p} was registered as a Standard Wallet. The Wallet Adapter for ${p} can be removed from your app.`)),!1):!0)],[i,e,t])}function tte(e){const t=se.useRef();return t.current||(t.current={value:e()}),t.current.value}function I$e(e){const t=se.useRef();return se.useEffect(()=>{t.current=e}),t.current}function rte(e){return e.filter(b$e).map(t=>new _$e({wallet:t}))}var ex;(function(e){e[e.DESKTOP_WEB=0]="DESKTOP_WEB",e[e.MOBILE_WEB=1]="MOBILE_WEB"})(ex||(ex={}));function M$e(e){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)}function k$e({adapters:e,userAgentString:t}){return e.some(r=>r.name!==jm&&r.readyState===oa.Installed)?ex.DESKTOP_WEB:t&&/android/i.test(t)&&!M$e(t)?ex.MOBILE_WEB:ex.DESKTOP_WEB}function O$e(e){return e?/devnet/i.test(e)?"devnet":/testnet/i.test(e)?"testnet":"mainnet-beta":"mainnet-beta"}function D$e({children:e,wallets:t,adapter:r,isUnloadingRef:n,onAutoConnectRequest:i,onConnectError:s,onError:c,onSelectWallet:p}){const o=se.useRef(!1),[g,y]=se.useState(!1),x=se.useRef(!1),[E,A]=se.useState(!1),[M,R]=se.useState(()=>(r==null?void 0:r.publicKey)??null),[k,D]=se.useState(()=>(r==null?void 0:r.connected)??!1),$=se.useRef(c);se.useEffect(()=>($.current=c,()=>{$.current=void 0}),[c]);const B=se.useRef((Y,te)=>(n.current||($.current?$.current(Y,te):(console.error(Y,te),Y instanceof Qb&&typeof window<"u"&&te&&window.open(te.url,"_blank"))),Y)),[V,U]=se.useState(()=>t.map(Y=>({adapter:Y,readyState:Y.readyState})).filter(({readyState:Y})=>Y!==oa.Unsupported));se.useEffect(()=>{U(te=>t.map((re,he)=>{const we=te[he];return we&&we.adapter===re&&we.readyState===re.readyState?we:{adapter:re,readyState:re.readyState}}).filter(({readyState:re})=>re!==oa.Unsupported));function Y(te){U(re=>{const he=re.findIndex(({adapter:ye})=>ye===this);if(he===-1)return re;const{adapter:we}=re[he];return[...re.slice(0,he),{adapter:we,readyState:te},...re.slice(he+1)].filter(({readyState:ye})=>ye!==oa.Unsupported)})}return t.forEach(te=>te.on("readyStateChange",Y,te)),()=>{t.forEach(te=>te.off("readyStateChange",Y,te))}},[r,t]);const Z=se.useMemo(()=>V.find(Y=>Y.adapter===r)??null,[r,V]);se.useEffect(()=>{if(!r)return;const Y=he=>{R(he),o.current=!1,y(!1),D(!0),x.current=!1,A(!1)},te=()=>{n.current||(R(null),o.current=!1,y(!1),D(!1),x.current=!1,A(!1))},re=he=>{B.current(he,r)};return r.on("connect",Y),r.on("disconnect",te),r.on("error",re),()=>{r.off("connect",Y),r.off("disconnect",te),r.off("error",re),te()}},[r,n]);const ne=se.useRef(!1);se.useEffect(()=>()=>{ne.current=!1},[r]),se.useEffect(()=>{ne.current||o.current||k||!i||!((Z==null?void 0:Z.readyState)===oa.Installed||(Z==null?void 0:Z.readyState)===oa.Loadable)||(o.current=!0,y(!0),ne.current=!0,async function(){try{await i()}catch{s()}finally{y(!1),o.current=!1}}())},[k,i,s,Z]);const j=se.useCallback(async(Y,te,re)=>{if(!r)throw B.current(new Vee);if(!k)throw B.current(new sc,r);return await r.sendTransaction(Y,te,re)},[r,k]),fe=se.useMemo(()=>r&&"signTransaction"in r?async Y=>{if(!k)throw B.current(new sc,r);return await r.signTransaction(Y)}:void 0,[r,k]),be=se.useMemo(()=>r&&"signAllTransactions"in r?async Y=>{if(!k)throw B.current(new sc,r);return await r.signAllTransactions(Y)}:void 0,[r,k]),pe=se.useMemo(()=>r&&"signMessage"in r?async Y=>{if(!k)throw B.current(new sc,r);return await r.signMessage(Y)}:void 0,[r,k]),le=se.useMemo(()=>r&&"signIn"in r?async Y=>await r.signIn(Y):void 0,[r]),G=se.useCallback(async()=>{if(o.current||x.current||Z!=null&&Z.adapter.connected)return;if(!Z)throw B.current(new Vee);const{adapter:Y,readyState:te}=Z;if(!(te===oa.Installed||te===oa.Loadable))throw B.current(new Qb,Y);o.current=!0,y(!0);try{await Y.connect()}catch(re){throw s(),re}finally{y(!1),o.current=!1}},[s,Z]),N=se.useCallback(async()=>{if(!x.current&&r){x.current=!0,A(!0);try{await r.disconnect()}finally{A(!1),x.current=!1}}},[r]);return Ke.createElement(Ume.Provider,{value:{autoConnect:!!i,wallets:V,wallet:Z,publicKey:M,connected:k,connecting:g,disconnecting:E,select:p,connect:G,disconnect:N,sendTransaction:j,signTransaction:fe,signAllTransactions:be,signMessage:pe,signIn:le}},e)}let f$;function R$e(){var e;return f$===void 0&&(f$=((e=globalThis.navigator)==null?void 0:e.userAgent)??null),f$}function LE(e){const t=R$e();return k$e({adapters:e,userAgentString:t})===ex.MOBILE_WEB}function $$e(){const e=globalThis.location;if(e)return`${e.protocol}//${e.host}`}function L$e({children:e,wallets:t,autoConnect:r,localStorageKey:n="walletName",onError:i}){const{connection:s}=PI(),c=C$e(t),p=se.useMemo(()=>{if(!LE(c))return null;const $=c.find(B=>B.name===jm);return $||new s$e({addressSelector:l$e(),appIdentity:{uri:$$e()},authorizationResultCache:u$e(),cluster:O$e(s==null?void 0:s.rpcEndpoint),onWalletNotFound:d$e()})},[c,s==null?void 0:s.rpcEndpoint]),o=se.useMemo(()=>p==null||c.indexOf(p)!==-1?c:[p,...c],[c,p]),[g,y]=dRe(n,LE(c)?jm:null),x=se.useMemo(()=>o.find($=>$.name===g)??null,[o,g]),E=se.useCallback($=>{g!==$&&(x&&x.name!==jm&&x.disconnect(),y($))},[x,y,g]);se.useEffect(()=>{if(!x)return;function $(){R.current||g===jm&&LE(c)||y(null)}return x.on("disconnect",$),()=>{x.off("disconnect",$)}},[x,c,y,g]);const A=se.useRef(!1),M=se.useMemo(()=>{if(!(!r||!x))return async()=>{(r===!0||await r(x))&&(A.current?await x.connect():await x.autoConnect())}},[r,x]),R=se.useRef(!1);se.useEffect(()=>{if(g===jm&&LE(c)){R.current=!1;return}function $(){R.current=!0}return window.addEventListener("beforeunload",$),()=>{window.removeEventListener("beforeunload",$)}},[c,g]);const k=se.useCallback(()=>{x&&x.name!==jm&&E(null)},[x,E]),D=se.useCallback($=>{A.current=!0,E($)},[E]);return Ke.createElement(D$e,{wallets:o,adapter:x,isUnloadingRef:R,onAutoConnectRequest:M,onConnectError:k,onError:i,onSelectWallet:D},e)}var MW={exports:{}},tx=typeof Reflect=="object"?Reflect:null,nte=tx&&typeof tx.apply=="function"?tx.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},aT;tx&&typeof tx.ownKeys=="function"?aT=tx.ownKeys:Object.getOwnPropertySymbols?aT=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:aT=function(t){return Object.getOwnPropertyNames(t)};function B$e(e){console&&console.warn&&console.warn(e)}var Yme=Number.isNaN||function(t){return t!==t};function ra(){ra.init.call(this)}MW.exports=ra;MW.exports.once=j$e;ra.EventEmitter=ra;ra.prototype._events=void 0;ra.prototype._eventsCount=0;ra.prototype._maxListeners=void 0;var ite=10;function II(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ra,"defaultMaxListeners",{enumerable:!0,get:function(){return ite},set:function(e){if(typeof e!="number"||e<0||Yme(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");ite=e}});ra.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ra.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Yme(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Jme(e){return e._maxListeners===void 0?ra.defaultMaxListeners:e._maxListeners}ra.prototype.getMaxListeners=function(){return Jme(this)};ra.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var c;if(r.length>0&&(c=r[0]),c instanceof Error)throw c;var p=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw p.context=c,p}var o=s[t];if(o===void 0)return!1;if(typeof o=="function")nte(o,this,r);else for(var g=o.length,y=n1e(o,g),n=0;n<g;++n)nte(y[n],this,r);return!0};function Qme(e,t,r,n){var i,s,c;if(II(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),c=s[t]),c===void 0)c=s[t]=r,++e._eventsCount;else if(typeof c=="function"?c=s[t]=n?[r,c]:[c,r]:n?c.unshift(r):c.push(r),i=Jme(e),i>0&&c.length>i&&!c.warned){c.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=e,p.type=t,p.count=c.length,B$e(p)}return e}ra.prototype.addListener=function(t,r){return Qme(this,t,r,!1)};ra.prototype.on=ra.prototype.addListener;ra.prototype.prependListener=function(t,r){return Qme(this,t,r,!0)};function z$e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function e1e(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=z$e.bind(n);return i.listener=r,n.wrapFn=i,i}ra.prototype.once=function(t,r){return II(r),this.on(t,e1e(this,t,r)),this};ra.prototype.prependOnceListener=function(t,r){return II(r),this.prependListener(t,e1e(this,t,r)),this};ra.prototype.removeListener=function(t,r){var n,i,s,c,p;if(II(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,c=n.length-1;c>=0;c--)if(n[c]===r||n[c].listener===r){p=n[c].listener,s=c;break}if(s<0)return this;s===0?n.shift():N$e(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,p||r)}return this};ra.prototype.off=ra.prototype.removeListener;ra.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),c;for(i=0;i<s.length;++i)c=s[i],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function t1e(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?F$e(i):n1e(i,i.length)}ra.prototype.listeners=function(t){return t1e(this,t,!0)};ra.prototype.rawListeners=function(t){return t1e(this,t,!1)};ra.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):r1e.call(e,t)};ra.prototype.listenerCount=r1e;function r1e(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ra.prototype.eventNames=function(){return this._eventsCount>0?aT(this._events):[]};function n1e(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function N$e(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function F$e(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function j$e(e,t){return new Promise(function(r,n){function i(c){e.removeListener(t,s),n(c)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}i1e(e,t,s,{once:!0}),t!=="error"&&V$e(e,i,{once:!0})})}function V$e(e,t,r){typeof e.on=="function"&&i1e(e,"error",t,r)}function i1e(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var kW=MW.exports;const U$e="Burner Wallet";class W$e extends Fme{constructor(){super(),this.name=U$e,this.url="https://github.com/solana-labs/wallet-adapter#usage",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zNCAxMC42djIuN2wtOS41IDE2LjVoLTQuNmw2LTEwLjVhMi4xIDIuMSAwIDEgMCAyLTMuNGw0LjgtOC4zYTQgNCAwIDAgMSAxLjMgM1ptLTQuMyAxOS4xaC0uNmw0LjktOC40djQuMmMwIDIuMy0yIDQuMy00LjMgNC4zWm0yLTI4LjRjLS4zLS44LTEtMS4zLTItMS4zaC0xLjlsLTIuNCA0LjNIMzBsMS43LTNabS0zIDVoLTQuNkwxMC42IDI5LjhoNC43TDI4LjggNi40Wk0xOC43IDBoNC42bC0yLjUgNC4zaC00LjZMMTguNiAwWk0xNSA2LjRoNC42TDYgMjkuOEg0LjJjLS44IDAtMS43LS4zLTIuNC0uOEwxNSA2LjRaTTE0IDBIOS40TDcgNC4zaDQuNkwxNCAwWm0tMy42IDYuNEg1LjdMMCAxNi4ydjhMMTAuMyA2LjRaTTQuMyAwaC40TDAgOC4ydi00QzAgMiAxLjkgMCA0LjMgMFoiIGZpbGw9IiM5OTQ1RkYiLz48L3N2Zz4=",this.supportedTransactionVersions=new Set(["legacy",0]),this._keypair=null,console.warn("Your application is presently configured to use the `UnsafeBurnerWalletAdapter`. Find and remove it, then replace it with a list of adapters for wallets you would like your application to support. See https://github.com/solana-labs/wallet-adapter#usage for an example.")}get connecting(){return!1}get publicKey(){return this._keypair&&this._keypair.publicKey}get readyState(){return oa.Loadable}async connect(){this._keypair=new Wp,this.emit("connect",this._keypair.publicKey)}async disconnect(){this._keypair=null,this.emit("disconnect")}async signTransaction(t){if(!this._keypair)throw new sc;return i1(t)?t.sign([this._keypair]):t.partialSign(this._keypair),t}async signMessage(t){if(!this._keypair)throw new sc;return oh.sign(t,this._keypair.secretKey.slice(0,32))}async signIn(t={}){const{publicKey:r,secretKey:n}=this._keypair||(this._keypair=new Wp),i=t.domain||window.location.host,s=t.address||r.toBase58(),c=yRe({...t,domain:i,address:s}),p=oh.sign(c,n.slice(0,32));return this.emit("connect",r),{account:{address:s,publicKey:r.toBytes(),chains:[],features:[]},signedMessage:c,signature:p}}}const a1e={setVisible(e){console.error(o1e("call","setVisible"))},visible:!1};Object.defineProperty(a1e,"visible",{get(){return console.error(o1e("read","visible")),!1}});function o1e(e,t){return`You have tried to  ${e} "${t}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const s1e=se.createContext(a1e);function l1e(){return se.useContext(s1e)}function K$e({onSelectWallet:e}){const{connect:t,connected:r,connecting:n,disconnect:i,disconnecting:s,publicKey:c,select:p,wallet:o,wallets:g}=s9();let y;n?y="connecting":r?y="connected":s?y="disconnecting":o?y="has-wallet":y="no-wallet";const x=se.useCallback(()=>{t().catch(()=>{})},[t]),E=se.useCallback(()=>{i().catch(()=>{})},[i]),A=se.useCallback(()=>{e({onSelectWallet:p,wallets:g})},[e,p,g]);return{buttonState:y,onConnect:y==="has-wallet"?x:void 0,onDisconnect:y!=="disconnecting"&&y!=="no-wallet"?E:void 0,onSelectWallet:A,publicKey:c??void 0,walletIcon:o==null?void 0:o.adapter.icon,walletName:o==null?void 0:o.adapter.name}}const u1e=e=>Ke.createElement("button",{className:`wallet-adapter-button ${e.className||""}`,disabled:e.disabled,style:e.style,onClick:e.onClick,tabIndex:e.tabIndex||0,type:"button"},e.startIcon&&Ke.createElement("i",{className:"wallet-adapter-button-start-icon"},e.startIcon),e.children,e.endIcon&&Ke.createElement("i",{className:"wallet-adapter-button-end-icon"},e.endIcon)),c1e=({wallet:e,...t})=>e&&Ke.createElement("img",{src:e.adapter.icon,alt:`${e.adapter.name} icon`,...t});function H$e({walletIcon:e,walletName:t,...r}){return Ke.createElement(u1e,{...r,className:"wallet-adapter-button-trigger",startIcon:e&&t?Ke.createElement(c1e,{wallet:{adapter:{icon:e,name:t}}}):void 0})}function G$e({children:e,labels:t,...r}){const{setVisible:n}=l1e(),{buttonState:i,onConnect:s,onDisconnect:c,publicKey:p,walletIcon:o,walletName:g}=K$e({onSelectWallet(){n(!0)}}),[y,x]=se.useState(!1),[E,A]=se.useState(!1),M=se.useRef(null);se.useEffect(()=>{const k=D=>{const $=M.current;!$||$.contains(D.target)||A(!1)};return document.addEventListener("mousedown",k),document.addEventListener("touchstart",k),()=>{document.removeEventListener("mousedown",k),document.removeEventListener("touchstart",k)}},[]);const R=se.useMemo(()=>{if(e)return e;if(p){const k=p.toBase58();return k.slice(0,4)+".."+k.slice(-4)}else return i==="connecting"||i==="has-wallet"?t[i]:t["no-wallet"]},[i,e,t,p]);return Ke.createElement("div",{className:"wallet-adapter-dropdown"},Ke.createElement(H$e,{...r,"aria-expanded":E,style:{pointerEvents:E?"none":"auto",...r.style},onClick:()=>{switch(i){case"no-wallet":n(!0);break;case"has-wallet":s&&s();break;case"connected":A(!0);break}},walletIcon:o,walletName:g},R),Ke.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${E&&"wallet-adapter-dropdown-list-active"}`,ref:M,role:"menu"},p?Ke.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(p.toBase58()),x(!0),setTimeout(()=>x(!1),400)},role:"menuitem"},y?t.copied:t["copy-address"]):null,Ke.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{n(!0),A(!1)},role:"menuitem"},t["change-wallet"]),c?Ke.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{c(),A(!1)},role:"menuitem"},t.disconnect):null))}const ate=({id:e,children:t,expanded:r=!1})=>{const n=se.useRef(null),i=se.useRef(!0),s="height 250ms ease-out",c=()=>{const o=n.current;o&&requestAnimationFrame(()=>{o.style.height=o.scrollHeight+"px"})},p=()=>{const o=n.current;o&&requestAnimationFrame(()=>{o.style.height=o.offsetHeight+"px",o.style.overflow="hidden",requestAnimationFrame(()=>{o.style.height="0"})})};return se.useLayoutEffect(()=>{r?c():p()},[r]),se.useLayoutEffect(()=>{const o=n.current;if(!o)return;function g(){o&&(o.style.overflow=r?"initial":"hidden",r&&(o.style.height="auto"))}function y(x){o&&x.target===o&&x.propertyName==="height"&&g()}return i.current&&(g(),i.current=!1),o.addEventListener("transitionend",y),()=>o.removeEventListener("transitionend",y)},[r]),Ke.createElement("div",{className:"wallet-adapter-collapse",id:e,ref:n,role:"region",style:{height:0,transition:i.current?void 0:s}},t)},p$=({handleClick:e,tabIndex:t,wallet:r})=>Ke.createElement("li",null,Ke.createElement(u1e,{onClick:e,startIcon:Ke.createElement(c1e,{wallet:r}),tabIndex:t},r.adapter.name,r.readyState===oa.Installed&&Ke.createElement("span",null,"Detected"))),q$e=()=>Ke.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ke.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),Ke.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),Ke.createElement("g",{clipPath:"url(#clip0_880_5115)"},Ke.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),Ke.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),Ke.createElement("defs",null,Ke.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Ke.createElement("stop",{stopColor:"#9945FF"}),Ke.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Ke.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Ke.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Ke.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Ke.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Ke.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Ke.createElement("stop",{stopColor:"#9945FF"}),Ke.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Ke.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Ke.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Ke.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Ke.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Ke.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},Ke.createElement("stop",{stopColor:"#9945FF"}),Ke.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Ke.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Ke.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Ke.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Ke.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Ke.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},Ke.createElement("stop",{stopColor:"#9945FF"}),Ke.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Ke.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Ke.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Ke.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Ke.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Ke.createElement("clipPath",{id:"clip0_880_5115"},Ke.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Z$e=({className:e="",container:t="body"})=>{const r=se.useRef(null),{wallets:n,select:i}=s9(),{setVisible:s}=l1e(),[c,p]=se.useState(!1),[o,g]=se.useState(!1),[y,x]=se.useState(null),[E,A]=se.useMemo(()=>{const B=[],V=[];for(const U of n)U.readyState===oa.Installed?B.push(U):V.push(U);return B.length?[B,V]:[V,[]]},[n]),M=se.useCallback(()=>{g(!1),setTimeout(()=>s(!1),150)},[s]),R=se.useCallback(B=>{B.preventDefault(),M()},[M]),k=se.useCallback((B,V)=>{i(V),R(B)},[i,R]),D=se.useCallback(()=>p(!c),[c]),$=se.useCallback(B=>{const V=r.current;if(!V)return;const U=V.querySelectorAll("button"),Z=U[0],ne=U[U.length-1];B.shiftKey?document.activeElement===Z&&(ne.focus(),B.preventDefault()):document.activeElement===ne&&(Z.focus(),B.preventDefault())},[r]);return se.useLayoutEffect(()=>{const B=U=>{U.key==="Escape"?M():U.key==="Tab"&&$(U)},{overflow:V}=window.getComputedStyle(document.body);return setTimeout(()=>g(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",B,!1),()=>{document.body.style.overflow=V,window.removeEventListener("keydown",B,!1)}},[M,$]),se.useLayoutEffect(()=>x(document.querySelector(t)),[t]),y&&Z8.createPortal(Ke.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${o&&"wallet-adapter-modal-fade-in"} ${e}`,ref:r,role:"dialog"},Ke.createElement("div",{className:"wallet-adapter-modal-container"},Ke.createElement("div",{className:"wallet-adapter-modal-wrapper"},Ke.createElement("button",{onClick:R,className:"wallet-adapter-modal-button-close"},Ke.createElement("svg",{width:"14",height:"14"},Ke.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),E.length?Ke.createElement(Ke.Fragment,null,Ke.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),Ke.createElement("ul",{className:"wallet-adapter-modal-list"},E.map(B=>Ke.createElement(p$,{key:B.adapter.name,handleClick:V=>k(V,B.adapter.name),wallet:B})),A.length?Ke.createElement(ate,{expanded:c,id:"wallet-adapter-modal-collapse"},A.map(B=>Ke.createElement(p$,{key:B.adapter.name,handleClick:V=>k(V,B.adapter.name),tabIndex:c?0:-1,wallet:B}))):null),A.length?Ke.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:D,tabIndex:0},Ke.createElement("span",null,c?"Less ":"More ","options"),Ke.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},Ke.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):Ke.createElement(Ke.Fragment,null,Ke.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),Ke.createElement("div",{className:"wallet-adapter-modal-middle"},Ke.createElement(q$e,null)),A.length?Ke.createElement(Ke.Fragment,null,Ke.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:D,tabIndex:0},Ke.createElement("span",null,c?"Hide ":"Already have a wallet? View ","options"),Ke.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},Ke.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),Ke.createElement(ate,{expanded:c,id:"wallet-adapter-modal-collapse"},Ke.createElement("ul",{className:"wallet-adapter-modal-list"},A.map(B=>Ke.createElement(p$,{key:B.adapter.name,handleClick:V=>k(V,B.adapter.name),tabIndex:c?0:-1,wallet:B}))))):null))),Ke.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:R})),y)},X$e=({children:e,...t})=>{const[r,n]=se.useState(!1);return Ke.createElement(s1e.Provider,{value:{visible:r,setVisible:n}},e,r&&Ke.createElement(Z$e,{...t}))},Y$e={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function d1e(e){return Ke.createElement(G$e,{...e,labels:Y$e})}let J$e={data:""},Q$e=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||J$e,eLe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tLe=/\/\*[^]*?\*\/|  +/g,ote=/\n+/g,qm=(e,t)=>{let r="",n="",i="";for(let s in e){let c=e[s];s[0]=="@"?s[1]=="i"?r=s+" "+c+";":n+=s[1]=="f"?qm(c,s):s+"{"+qm(c,s[1]=="k"?"":t)+"}":typeof c=="object"?n+=qm(c,t?t.replace(/([^,])+/g,p=>s.replace(/(^:.*)|([^,])+/g,o=>/&/.test(o)?o.replace(/&/g,p):p?p+" "+o:o)):s):c!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=qm.p?qm.p(s,c):s+":"+c+";")}return r+(t&&i?t+"{"+i+"}":i)+n},Qf={},f1e=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+f1e(e[r]);return t}return e},rLe=(e,t,r,n,i)=>{let s=f1e(e),c=Qf[s]||(Qf[s]=(o=>{let g=0,y=11;for(;g<o.length;)y=101*y+o.charCodeAt(g++)>>>0;return"go"+y})(s));if(!Qf[c]){let o=s!==e?e:(g=>{let y,x,E=[{}];for(;y=eLe.exec(g.replace(tLe,""));)y[4]?E.shift():y[3]?(x=y[3].replace(ote," ").trim(),E.unshift(E[0][x]=E[0][x]||{})):E[0][y[1]]=y[2].replace(ote," ").trim();return E[0]})(e);Qf[c]=qm(i?{["@keyframes "+c]:o}:o,r?"":"."+c)}let p=r&&Qf.g?Qf.g:null;return r&&(Qf.g=Qf[c]),((o,g,y,x)=>{x?g.data=g.data.replace(x,o):g.data.indexOf(o)===-1&&(g.data=y?o+g.data:g.data+o)})(Qf[c],t,n,p),c},nLe=(e,t,r)=>e.reduce((n,i,s)=>{let c=t[s];if(c&&c.call){let p=c(r),o=p&&p.props&&p.props.className||/^go/.test(p)&&p;c=o?"."+o:p&&typeof p=="object"?p.props?"":qm(p,""):p===!1?"":p}return n+i+(c??"")},"");function MI(e){let t=this||{},r=e.call?e(t.p):e;return rLe(r.unshift?r.raw?nLe(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,Q$e(t.target),t.g,t.o,t.k)}let p1e,ON,DN;MI.bind({g:1});let uh=MI.bind({k:1});function iLe(e,t,r,n){qm.p=t,p1e=e,ON=r,DN=n}function q1(e,t){let r=this||{};return function(){let n=arguments;function i(s,c){let p=Object.assign({},s),o=p.className||i.className;r.p=Object.assign({theme:ON&&ON()},p),r.o=/ *go\d+/.test(o),p.className=MI.apply(r,n)+(o?" "+o:"");let g=e;return e[0]&&(g=p.as||e,delete p.as),DN&&g[0]&&DN(p),p1e(g,p)}return i}}var aLe=e=>typeof e=="function",mP=(e,t)=>aLe(e)?e(t):e,oLe=(()=>{let e=0;return()=>(++e).toString()})(),h1e=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),sLe=20,oT=new Map,lLe=1e3,ste=e=>{if(oT.has(e))return;let t=setTimeout(()=>{oT.delete(e),Qy({type:4,toastId:e})},lLe);oT.set(e,t)},uLe=e=>{let t=oT.get(e);t&&clearTimeout(t)},RN=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,sLe)};case 1:return t.toast.id&&uLe(t.toast.id),{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:r}=t;return e.toasts.find(s=>s.id===r.id)?RN(e,{type:1,toast:r}):RN(e,{type:0,toast:r});case 3:let{toastId:n}=t;return n?ste(n):e.toasts.forEach(s=>{ste(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},sT=[],lT={toasts:[],pausedAt:void 0},Qy=e=>{lT=RN(lT,e),sT.forEach(t=>{t(lT)})},cLe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dLe=(e={})=>{let[t,r]=se.useState(lT);se.useEffect(()=>(sT.push(r),()=>{let i=sT.indexOf(r);i>-1&&sT.splice(i,1)}),[t]);let n=t.toasts.map(i=>{var s,c;return{...e,...e[i.type],...i,duration:i.duration||((s=e[i.type])==null?void 0:s.duration)||(e==null?void 0:e.duration)||cLe[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...t,toasts:n}},fLe=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||oLe()}),l9=e=>(t,r)=>{let n=fLe(t,e,r);return Qy({type:2,toast:n}),n.id},gu=(e,t)=>l9("blank")(e,t);gu.error=l9("error");gu.success=l9("success");gu.loading=l9("loading");gu.custom=l9("custom");gu.dismiss=e=>{Qy({type:3,toastId:e})};gu.remove=e=>Qy({type:4,toastId:e});gu.promise=(e,t,r)=>{let n=gu.loading(t.loading,{...r,...r==null?void 0:r.loading});return e.then(i=>(gu.success(mP(t.success,i),{id:n,...r,...r==null?void 0:r.success}),i)).catch(i=>{gu.error(mP(t.error,i),{id:n,...r,...r==null?void 0:r.error})}),e};var pLe=(e,t)=>{Qy({type:1,toast:{id:e,height:t}})},hLe=()=>{Qy({type:5,time:Date.now()})},mLe=e=>{let{toasts:t,pausedAt:r}=dLe(e);se.useEffect(()=>{if(r)return;let s=Date.now(),c=t.map(p=>{if(p.duration===1/0)return;let o=(p.duration||0)+p.pauseDuration-(s-p.createdAt);if(o<0){p.visible&&gu.dismiss(p.id);return}return setTimeout(()=>gu.dismiss(p.id),o)});return()=>{c.forEach(p=>p&&clearTimeout(p))}},[t,r]);let n=se.useCallback(()=>{r&&Qy({type:6,time:Date.now()})},[r]),i=se.useCallback((s,c)=>{let{reverseOrder:p=!1,gutter:o=8,defaultPosition:g}=c||{},y=t.filter(A=>(A.position||g)===(s.position||g)&&A.height),x=y.findIndex(A=>A.id===s.id),E=y.filter((A,M)=>M<x&&A.visible).length;return y.filter(A=>A.visible).slice(...p?[E+1]:[0,E]).reduce((A,M)=>A+(M.height||0)+o,0)},[t]);return{toasts:t,handlers:{updateHeight:pLe,startPause:hLe,endPause:n,calculateOffset:i}}},gLe=uh`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yLe=uh`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vLe=uh`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_Le=q1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gLe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yLe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vLe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bLe=uh`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,xLe=q1("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${bLe} 1s linear infinite;
`,wLe=uh`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,SLe=uh`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ELe=q1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wLe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${SLe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ALe=q1("div")`
  position: absolute;
`,TLe=q1("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,PLe=uh`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CLe=q1("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${PLe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ILe=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?se.createElement(CLe,null,t):t:r==="blank"?null:se.createElement(TLe,null,se.createElement(xLe,{...n}),r!=="loading"&&se.createElement(ALe,null,r==="error"?se.createElement(_Le,{...n}):se.createElement(ELe,{...n})))},MLe=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kLe=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,OLe="0%{opacity:0;} 100%{opacity:1;}",DLe="0%{opacity:1;} 100%{opacity:0;}",RLe=q1("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,$Le=q1("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,LLe=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=h1e()?[OLe,DLe]:[MLe(r),kLe(r)];return{animation:t?`${uh(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${uh(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},BLe=se.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?LLe(e.position||t||"top-center",e.visible):{opacity:0},s=se.createElement(ILe,{toast:e}),c=se.createElement($Le,{...e.ariaProps},mP(e.message,e));return se.createElement(RLe,{className:e.className,style:{...i,...r,...e.style}},typeof n=="function"?n({icon:s,message:c}):se.createElement(se.Fragment,null,s,c))});iLe(se.createElement);var zLe=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let s=se.useCallback(c=>{if(c){let p=()=>{let o=c.getBoundingClientRect().height;n(e,o)};p(),new MutationObserver(p).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return se.createElement("div",{ref:s,className:t,style:r},i)},NLe=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:h1e()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},FLe=MI`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,BE=16,jLe=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:c})=>{let{toasts:p,handlers:o}=mLe(r);return se.createElement("div",{style:{position:"fixed",zIndex:9999,top:BE,left:BE,right:BE,bottom:BE,pointerEvents:"none",...s},className:c,onMouseEnter:o.startPause,onMouseLeave:o.endPause},p.map(g=>{let y=g.position||t,x=o.calculateOffset(g,{reverseOrder:e,gutter:n,defaultPosition:t}),E=NLe(y,x);return se.createElement(zLe,{id:g.id,key:g.id,onHeightUpdate:o.updateHeight,className:g.visible?FLe:"",style:E},g.type==="custom"?mP(g.message,g):i?i(g):se.createElement(BLe,{toast:g,position:y}))}))},VLe=gu;const lte=()=>{};let OW={},m1e={},g1e=null,y1e={mark:lte,measure:lte};try{typeof window<"u"&&(OW=window),typeof document<"u"&&(m1e=document),typeof MutationObserver<"u"&&(g1e=MutationObserver),typeof performance<"u"&&(y1e=performance)}catch{}const{userAgent:ute=""}=OW.navigator||{},k1=OW,Ta=m1e,cte=g1e,zE=y1e;k1.document;const wh=!!Ta.documentElement&&!!Ta.head&&typeof Ta.addEventListener=="function"&&typeof Ta.createElement=="function",v1e=~ute.indexOf("MSIE")||~ute.indexOf("Trident/");var $a="classic",_1e="duotone",_u="sharp",bu="sharp-duotone",ULe=[$a,_1e,_u,bu],WLe={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},dte={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},KLe=["kit"],HLe=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,GLe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,qLe={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},ZLe={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},XLe={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},YLe={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},JLe={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},QLe={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},b1e={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},eBe=["solid","regular","light","thin","duotone","brands"],x1e=[1,2,3,4,5,6,7,8,9,10],tBe=x1e.concat([11,12,13,14,15,16,17,18,19,20]),I6={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},rBe=[...Object.keys(YLe),...eBe,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",I6.GROUP,I6.SWAP_OPACITY,I6.PRIMARY,I6.SECONDARY].concat(x1e.map(e=>"".concat(e,"x"))).concat(tBe.map(e=>"w-".concat(e))),nBe={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},iBe={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},aBe={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},fte={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const ch="___FONT_AWESOME___",$N=16,w1e="fa",S1e="svg-inline--fa",Sy="data-fa-i2svg",LN="data-fa-pseudo-element",oBe="data-fa-pseudo-element-pending",DW="data-prefix",RW="data-icon",pte="fontawesome-i2svg",sBe="async",lBe=["HTML","HEAD","STYLE","SCRIPT"],E1e=(()=>{try{return!0}catch{return!1}})(),A1e=[$a,_u,bu];function u9(e){return new Proxy(e,{get(t,r){return r in t?t[r]:t[$a]}})}const T1e={...b1e};T1e[$a]={...b1e[$a],...dte.kit,...dte["kit-duotone"]};const ay=u9(T1e),BN={...QLe};BN[$a]={...BN[$a],...fte.kit,...fte["kit-duotone"]};const N5=u9(BN),zN={...JLe};zN[$a]={...zN[$a],...aBe.kit};const oy=u9(zN),NN={...XLe};NN[$a]={...NN[$a],...iBe.kit};const uBe=u9(NN),cBe=HLe,P1e="fa-layers-text",dBe=GLe,fBe={...WLe};u9(fBe);const pBe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],h$=I6,Dx=new Set;Object.keys(N5[$a]).map(Dx.add.bind(Dx));Object.keys(N5[_u]).map(Dx.add.bind(Dx));Object.keys(N5[bu]).map(Dx.add.bind(Dx));const hBe=[...KLe,...rBe],X6=k1.FontAwesomeConfig||{};function mBe(e){var t=Ta.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function gBe(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}Ta&&typeof Ta.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[r,n]=t;const i=gBe(mBe(r));i!=null&&(X6[n]=i)});const C1e={styleDefault:"solid",familyDefault:"classic",cssPrefix:w1e,replacementClass:S1e,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};X6.familyPrefix&&(X6.cssPrefix=X6.familyPrefix);const Rx={...C1e,...X6};Rx.autoReplaceSvg||(Rx.observeMutations=!1);const rn={};Object.keys(C1e).forEach(e=>{Object.defineProperty(rn,e,{enumerable:!0,set:function(t){Rx[e]=t,Y6.forEach(r=>r(rn))},get:function(){return Rx[e]}})});Object.defineProperty(rn,"familyPrefix",{enumerable:!0,set:function(e){Rx.cssPrefix=e,Y6.forEach(t=>t(rn))},get:function(){return Rx.cssPrefix}});k1.FontAwesomeConfig=rn;const Y6=[];function yBe(e){return Y6.push(e),()=>{Y6.splice(Y6.indexOf(e),1)}}const Am=$N,uf={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function vBe(e){if(!e||!wh)return;const t=Ta.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const r=Ta.head.childNodes;let n=null;for(let i=r.length-1;i>-1;i--){const s=r[i],c=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(n=s)}return Ta.head.insertBefore(t,n),e}const _Be="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function F5(){let e=12,t="";for(;e-- >0;)t+=_Be[Math.random()*62|0];return t}function H4(e){const t=[];for(let r=(e||[]).length>>>0;r--;)t[r]=e[r];return t}function $W(e){return e.classList?H4(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function I1e(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function bBe(e){return Object.keys(e||{}).reduce((t,r)=>t+"".concat(r,'="').concat(I1e(e[r]),'" '),"").trim()}function kI(e){return Object.keys(e||{}).reduce((t,r)=>t+"".concat(r,": ").concat(e[r].trim(),";"),"")}function LW(e){return e.size!==uf.size||e.x!==uf.x||e.y!==uf.y||e.rotate!==uf.rotate||e.flipX||e.flipY}function xBe(e){let{transform:t,containerWidth:r,iconWidth:n}=e;const i={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(t.x*32,", ").concat(t.y*32,") "),c="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),p="rotate(".concat(t.rotate," 0 0)"),o={transform:"".concat(s," ").concat(c," ").concat(p)},g={transform:"translate(".concat(n/2*-1," -256)")};return{outer:i,inner:o,path:g}}function wBe(e){let{transform:t,width:r=$N,height:n=$N,startCentered:i=!1}=e,s="";return i&&v1e?s+="translate(".concat(t.x/Am-r/2,"em, ").concat(t.y/Am-n/2,"em) "):i?s+="translate(calc(-50% + ".concat(t.x/Am,"em), calc(-50% + ").concat(t.y/Am,"em)) "):s+="translate(".concat(t.x/Am,"em, ").concat(t.y/Am,"em) "),s+="scale(".concat(t.size/Am*(t.flipX?-1:1),", ").concat(t.size/Am*(t.flipY?-1:1),") "),s+="rotate(".concat(t.rotate,"deg) "),s}var SBe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function M1e(){const e=w1e,t=S1e,r=rn.cssPrefix,n=rn.replacementClass;let i=SBe;if(r!==e||n!==t){const s=new RegExp("\\.".concat(e,"\\-"),"g"),c=new RegExp("\\--".concat(e,"\\-"),"g"),p=new RegExp("\\.".concat(t),"g");i=i.replace(s,".".concat(r,"-")).replace(c,"--".concat(r,"-")).replace(p,".".concat(n))}return i}let hte=!1;function m$(){rn.autoAddCss&&!hte&&(vBe(M1e()),hte=!0)}var EBe={mixout(){return{dom:{css:M1e,insertCss:m$}}},hooks(){return{beforeDOMElementCreation(){m$()},beforeI2svg(){m$()}}}};const dh=k1||{};dh[ch]||(dh[ch]={});dh[ch].styles||(dh[ch].styles={});dh[ch].hooks||(dh[ch].hooks={});dh[ch].shims||(dh[ch].shims=[]);var cf=dh[ch];const k1e=[],O1e=function(){Ta.removeEventListener("DOMContentLoaded",O1e),gP=1,k1e.map(e=>e())};let gP=!1;wh&&(gP=(Ta.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ta.readyState),gP||Ta.addEventListener("DOMContentLoaded",O1e));function ABe(e){wh&&(gP?setTimeout(e,0):k1e.push(e))}function c9(e){const{tag:t,attributes:r={},children:n=[]}=e;return typeof e=="string"?I1e(e):"<".concat(t," ").concat(bBe(r),">").concat(n.map(c9).join(""),"</").concat(t,">")}function mte(e,t,r){if(e&&e[t]&&e[t][r])return{prefix:t,iconName:r,icon:e[t][r]}}var g$=function(t,r,n,i){var s=Object.keys(t),c=s.length,p=r,o,g,y;for(n===void 0?(o=1,y=t[s[0]]):(o=0,y=n);o<c;o++)g=s[o],y=p(y,t[g],g,t);return y};function TBe(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const s=e.charCodeAt(r++);(s&64512)==56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}function FN(e){const t=TBe(e);return t.length===1?t[0].toString(16):null}function PBe(e,t){const r=e.length;let n=e.charCodeAt(t),i;return n>=55296&&n<=56319&&r>t+1&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function gte(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return!!n.icon?t[n.iconName]=n.icon:t[r]=n,t},{})}function jN(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:n=!1}=r,i=gte(t);typeof cf.hooks.addPack=="function"&&!n?cf.hooks.addPack(e,gte(t)):cf.styles[e]={...cf.styles[e]||{},...i},e==="fas"&&jN("fa",t)}const{styles:Og,shims:CBe}=cf,IBe={[$a]:Object.values(oy[$a]),[_u]:Object.values(oy[_u]),[bu]:Object.values(oy[bu])};let BW=null,D1e={},R1e={},$1e={},L1e={},B1e={};const MBe={[$a]:Object.keys(ay[$a]),[_u]:Object.keys(ay[_u]),[bu]:Object.keys(ay[bu])};function kBe(e){return~hBe.indexOf(e)}function OBe(e,t){const r=t.split("-"),n=r[0],i=r.slice(1).join("-");return n===e&&i!==""&&!kBe(i)?i:null}const z1e=()=>{const e=n=>g$(Og,(i,s,c)=>(i[c]=g$(s,n,{}),i),{});D1e=e((n,i,s)=>(i[3]&&(n[i[3]]=s),i[2]&&i[2].filter(p=>typeof p=="number").forEach(p=>{n[p.toString(16)]=s}),n)),R1e=e((n,i,s)=>(n[s]=s,i[2]&&i[2].filter(p=>typeof p=="string").forEach(p=>{n[p]=s}),n)),B1e=e((n,i,s)=>{const c=i[2];return n[s]=s,c.forEach(p=>{n[p]=s}),n});const t="far"in Og||rn.autoFetchSvg,r=g$(CBe,(n,i)=>{const s=i[0];let c=i[1];const p=i[2];return c==="far"&&!t&&(c="fas"),typeof s=="string"&&(n.names[s]={prefix:c,iconName:p}),typeof s=="number"&&(n.unicodes[s.toString(16)]={prefix:c,iconName:p}),n},{names:{},unicodes:{}});$1e=r.names,L1e=r.unicodes,BW=OI(rn.styleDefault,{family:rn.familyDefault})};yBe(e=>{BW=OI(e.styleDefault,{family:rn.familyDefault})});z1e();function zW(e,t){return(D1e[e]||{})[t]}function DBe(e,t){return(R1e[e]||{})[t]}function a1(e,t){return(B1e[e]||{})[t]}function N1e(e){return $1e[e]||{prefix:null,iconName:null}}function RBe(e){const t=L1e[e],r=zW("fas",e);return t||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function O1(){return BW}const NW=()=>({prefix:null,iconName:null,rest:[]});function OI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:r=$a}=t,n=ay[r][e],i=N5[r][e]||N5[r][n],s=e in cf.styles?e:null;return i||s||null}const $Be={[$a]:Object.keys(oy[$a]),[_u]:Object.keys(oy[_u]),[bu]:Object.keys(oy[bu])};function DI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:r=!1}=t,n={[$a]:"".concat(rn.cssPrefix,"-").concat($a),[_u]:"".concat(rn.cssPrefix,"-").concat(_u),[bu]:"".concat(rn.cssPrefix,"-").concat(bu)};let i=null,s=$a;const c=ULe.filter(o=>o!==_1e);c.forEach(o=>{(e.includes(n[o])||e.some(g=>$Be[o].includes(g)))&&(s=o)});const p=e.reduce((o,g)=>{const y=OBe(rn.cssPrefix,g);if(Og[g]?(g=IBe[s].includes(g)?uBe[s][g]:g,i=g,o.prefix=g):MBe[s].indexOf(g)>-1?(i=g,o.prefix=OI(g,{family:s})):y?o.iconName=y:g!==rn.replacementClass&&!c.some(x=>g===n[x])&&o.rest.push(g),!r&&o.prefix&&o.iconName){const x=i==="fa"?N1e(o.iconName):{},E=a1(o.prefix,o.iconName);x.prefix&&(i=null),o.iconName=x.iconName||E||o.iconName,o.prefix=x.prefix||o.prefix,o.prefix==="far"&&!Og.far&&Og.fas&&!rn.autoFetchSvg&&(o.prefix="fas")}return o},NW());return(e.includes("fa-brands")||e.includes("fab"))&&(p.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(p.prefix="fad"),!p.prefix&&s===_u&&(Og.fass||rn.autoFetchSvg)&&(p.prefix="fass",p.iconName=a1(p.prefix,p.iconName)||p.iconName),!p.prefix&&s===bu&&(Og.fasds||rn.autoFetchSvg)&&(p.prefix="fasds",p.iconName=a1(p.prefix,p.iconName)||p.iconName),(p.prefix==="fa"||i==="fa")&&(p.prefix=O1()||"fas"),p}class LBe{constructor(){this.definitions={}}add(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];const i=r.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]={...this.definitions[s]||{},...i[s]},jN(s,i[s]);const c=oy[$a][s];c&&jN(c,i[s]),z1e()})}reset(){this.definitions={}}_pullDefinitions(t,r){const n=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(n).map(i=>{const{prefix:s,iconName:c,icon:p}=n[i],o=p[2];t[s]||(t[s]={}),o.length>0&&o.forEach(g=>{typeof g=="string"&&(t[s][g]=p)}),t[s][c]=p}),t}}let yte=[],Mb={};const rx={},BBe=Object.keys(rx);function zBe(e,t){let{mixoutsTo:r}=t;return yte=e,Mb={},Object.keys(rx).forEach(n=>{BBe.indexOf(n)===-1&&delete rx[n]}),yte.forEach(n=>{const i=n.mixout?n.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(r[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(c=>{r[s]||(r[s]={}),r[s][c]=i[s][c]})}),n.hooks){const s=n.hooks();Object.keys(s).forEach(c=>{Mb[c]||(Mb[c]=[]),Mb[c].push(s[c])})}n.provides&&n.provides(rx)}),r}function VN(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return(Mb[e]||[]).forEach(c=>{t=c.apply(null,[t,...n])}),t}function Ey(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(Mb[e]||[]).forEach(s=>{s.apply(null,r)})}function D1(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return rx[e]?rx[e].apply(null,t):void 0}function UN(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const r=e.prefix||O1();if(t)return t=a1(r,t)||t,mte(F1e.definitions,r,t)||mte(cf.styles,r,t)}const F1e=new LBe,NBe=()=>{rn.autoReplaceSvg=!1,rn.observeMutations=!1,Ey("noAuto")},FBe={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return wh?(Ey("beforeI2svg",e),D1("pseudoElements2svg",e),D1("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;rn.autoReplaceSvg===!1&&(rn.autoReplaceSvg=!0),rn.observeMutations=!0,ABe(()=>{VBe({autoReplaceSvgRoot:t}),Ey("watch",e)})}},jBe={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:a1(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=OI(e[0]);return{prefix:r,iconName:a1(r,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(rn.cssPrefix,"-"))>-1||e.match(cBe))){const t=DI(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||O1(),iconName:a1(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=O1();return{prefix:t,iconName:a1(t,e)||e}}}},Pu={noAuto:NBe,config:rn,dom:FBe,parse:jBe,library:F1e,findIconDefinition:UN,toHtml:c9},VBe=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=Ta}=e;(Object.keys(cf.styles).length>0||rn.autoFetchSvg)&&wh&&rn.autoReplaceSvg&&Pu.dom.i2svg({node:t})};function RI(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(r=>c9(r))}}),Object.defineProperty(e,"node",{get:function(){if(!wh)return;const r=Ta.createElement("div");return r.innerHTML=e.html,r.children}}),e}function UBe(e){let{children:t,main:r,mask:n,attributes:i,styles:s,transform:c}=e;if(LW(c)&&r.found&&!n.found){const{width:p,height:o}=r,g={x:p/o/2,y:.5};i.style=kI({...s,"transform-origin":"".concat(g.x+c.x/16,"em ").concat(g.y+c.y/16,"em")})}return[{tag:"svg",attributes:i,children:t}]}function WBe(e){let{prefix:t,iconName:r,children:n,attributes:i,symbol:s}=e;const c=s===!0?"".concat(t,"-").concat(rn.cssPrefix,"-").concat(r):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:c},children:n}]}]}function FW(e){const{icons:{main:t,mask:r},prefix:n,iconName:i,transform:s,symbol:c,title:p,maskId:o,titleId:g,extra:y,watchable:x=!1}=e,{width:E,height:A}=r.found?r:t,M=n==="fak",R=[rn.replacementClass,i?"".concat(rn.cssPrefix,"-").concat(i):""].filter(U=>y.classes.indexOf(U)===-1).filter(U=>U!==""||!!U).concat(y.classes).join(" ");let k={children:[],attributes:{...y.attributes,"data-prefix":n,"data-icon":i,class:R,role:y.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(E," ").concat(A)}};const D=M&&!~y.classes.indexOf("fa-fw")?{width:"".concat(E/A*16*.0625,"em")}:{};x&&(k.attributes[Sy]=""),p&&(k.children.push({tag:"title",attributes:{id:k.attributes["aria-labelledby"]||"title-".concat(g||F5())},children:[p]}),delete k.attributes.title);const $={...k,prefix:n,iconName:i,main:t,mask:r,maskId:o,transform:s,symbol:c,styles:{...D,...y.styles}},{children:B,attributes:V}=r.found&&t.found?D1("generateAbstractMask",$)||{children:[],attributes:{}}:D1("generateAbstractIcon",$)||{children:[],attributes:{}};return $.children=B,$.attributes=V,c?WBe($):UBe($)}function vte(e){const{content:t,width:r,height:n,transform:i,title:s,extra:c,watchable:p=!1}=e,o={...c.attributes,...s?{title:s}:{},class:c.classes.join(" ")};p&&(o[Sy]="");const g={...c.styles};LW(i)&&(g.transform=wBe({transform:i,startCentered:!0,width:r,height:n}),g["-webkit-transform"]=g.transform);const y=kI(g);y.length>0&&(o.style=y);const x=[];return x.push({tag:"span",attributes:o,children:[t]}),s&&x.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),x}function KBe(e){const{content:t,title:r,extra:n}=e,i={...n.attributes,...r?{title:r}:{},class:n.classes.join(" ")},s=kI(n.styles);s.length>0&&(i.style=s);const c=[];return c.push({tag:"span",attributes:i,children:[t]}),r&&c.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),c}const{styles:y$}=cf;function WN(e){const t=e[0],r=e[1],[n]=e.slice(4);let i=null;return Array.isArray(n)?i={tag:"g",attributes:{class:"".concat(rn.cssPrefix,"-").concat(h$.GROUP)},children:[{tag:"path",attributes:{class:"".concat(rn.cssPrefix,"-").concat(h$.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(rn.cssPrefix,"-").concat(h$.PRIMARY),fill:"currentColor",d:n[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:n}},{found:!0,width:t,height:r,icon:i}}const HBe={found:!1,width:512,height:512};function GBe(e,t){!E1e&&!rn.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function KN(e,t){let r=t;return t==="fa"&&rn.styleDefault!==null&&(t=O1()),new Promise((n,i)=>{if(r==="fa"){const s=N1e(e)||{};e=s.iconName||e,t=s.prefix||t}if(e&&t&&y$[t]&&y$[t][e]){const s=y$[t][e];return n(WN(s))}GBe(e,t),n({...HBe,icon:rn.showMissingIcons&&e?D1("missingIconAbstract")||{}:{}})})}const _te=()=>{},HN=rn.measurePerformance&&zE&&zE.mark&&zE.measure?zE:{mark:_te,measure:_te},M6='FA "6.6.0"',qBe=e=>(HN.mark("".concat(M6," ").concat(e," begins")),()=>j1e(e)),j1e=e=>{HN.mark("".concat(M6," ").concat(e," ends")),HN.measure("".concat(M6," ").concat(e),"".concat(M6," ").concat(e," begins"),"".concat(M6," ").concat(e," ends"))};var jW={begin:qBe,end:j1e};const uT=()=>{};function bte(e){return typeof(e.getAttribute?e.getAttribute(Sy):null)=="string"}function ZBe(e){const t=e.getAttribute?e.getAttribute(DW):null,r=e.getAttribute?e.getAttribute(RW):null;return t&&r}function XBe(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(rn.replacementClass)}function YBe(){return rn.autoReplaceSvg===!0?cT.replace:cT[rn.autoReplaceSvg]||cT.replace}function JBe(e){return Ta.createElementNS("http://www.w3.org/2000/svg",e)}function QBe(e){return Ta.createElement(e)}function V1e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:r=e.tag==="svg"?JBe:QBe}=t;if(typeof e=="string")return Ta.createTextNode(e);const n=r(e.tag);return Object.keys(e.attributes||[]).forEach(function(s){n.setAttribute(s,e.attributes[s])}),(e.children||[]).forEach(function(s){n.appendChild(V1e(s,{ceFn:r}))}),n}function eze(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const cT={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(r=>{t.parentNode.insertBefore(V1e(r),t)}),t.getAttribute(Sy)===null&&rn.keepOriginalSource){let r=Ta.createComment(eze(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){const t=e[0],r=e[1];if(~$W(t).indexOf(rn.replacementClass))return cT.replace(e);const n=new RegExp("".concat(rn.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){const s=r[0].attributes.class.split(" ").reduce((c,p)=>(p===rn.replacementClass||p.match(n)?c.toSvg.push(p):c.toNode.push(p),c),{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}const i=r.map(s=>c9(s)).join(`
`);t.setAttribute(Sy,""),t.innerHTML=i}};function xte(e){e()}function U1e(e,t){const r=typeof t=="function"?t:uT;if(e.length===0)r();else{let n=xte;rn.mutateApproach===sBe&&(n=k1.requestAnimationFrame||xte),n(()=>{const i=YBe(),s=jW.begin("mutate");e.map(i),s(),r()})}}let VW=!1;function W1e(){VW=!0}function GN(){VW=!1}let yP=null;function wte(e){if(!cte||!rn.observeMutations)return;const{treeCallback:t=uT,nodeCallback:r=uT,pseudoElementsCallback:n=uT,observeMutationsRoot:i=Ta}=e;yP=new cte(s=>{if(VW)return;const c=O1();H4(s).forEach(p=>{if(p.type==="childList"&&p.addedNodes.length>0&&!bte(p.addedNodes[0])&&(rn.searchPseudoElements&&n(p.target),t(p.target)),p.type==="attributes"&&p.target.parentNode&&rn.searchPseudoElements&&n(p.target.parentNode),p.type==="attributes"&&bte(p.target)&&~pBe.indexOf(p.attributeName))if(p.attributeName==="class"&&ZBe(p.target)){const{prefix:o,iconName:g}=DI($W(p.target));p.target.setAttribute(DW,o||c),g&&p.target.setAttribute(RW,g)}else XBe(p.target)&&r(p.target)})}),wh&&yP.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function tze(){yP&&yP.disconnect()}function rze(e){const t=e.getAttribute("style");let r=[];return t&&(r=t.split(";").reduce((n,i)=>{const s=i.split(":"),c=s[0],p=s.slice(1);return c&&p.length>0&&(n[c]=p.join(":").trim()),n},{})),r}function nze(e){const t=e.getAttribute("data-prefix"),r=e.getAttribute("data-icon"),n=e.innerText!==void 0?e.innerText.trim():"";let i=DI($W(e));return i.prefix||(i.prefix=O1()),t&&r&&(i.prefix=t,i.iconName=r),i.iconName&&i.prefix||(i.prefix&&n.length>0&&(i.iconName=DBe(i.prefix,e.innerText)||zW(i.prefix,FN(e.innerText))),!i.iconName&&rn.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function ize(e){const t=H4(e.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),r=e.getAttribute("title"),n=e.getAttribute("data-fa-title-id");return rn.autoA11y&&(r?t["aria-labelledby"]="".concat(rn.replacementClass,"-title-").concat(n||F5()):(t["aria-hidden"]="true",t.focusable="false")),t}function aze(){return{iconName:null,title:null,titleId:null,prefix:null,transform:uf,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Ste(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:r,prefix:n,rest:i}=nze(e),s=ize(e),c=VN("parseNodeAttributes",{},e);let p=t.styleParser?rze(e):[];return{iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:n,transform:uf,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:p,attributes:s},...c}}const{styles:oze}=cf;function K1e(e){const t=rn.autoReplaceSvg==="nest"?Ste(e,{styleParser:!1}):Ste(e);return~t.extra.classes.indexOf(P1e)?D1("generateLayersText",e,t):D1("generateSvgReplacementMutation",e,t)}let _f=new Set;A1e.map(e=>{_f.add("fa-".concat(e))});Object.keys(ay[$a]).map(_f.add.bind(_f));Object.keys(ay[_u]).map(_f.add.bind(_f));Object.keys(ay[bu]).map(_f.add.bind(_f));_f=[..._f];function Ete(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!wh)return Promise.resolve();const r=Ta.documentElement.classList,n=y=>r.add("".concat(pte,"-").concat(y)),i=y=>r.remove("".concat(pte,"-").concat(y)),s=rn.autoFetchSvg?_f:A1e.map(y=>"fa-".concat(y)).concat(Object.keys(oze));s.includes("fa")||s.push("fa");const c=[".".concat(P1e,":not([").concat(Sy,"])")].concat(s.map(y=>".".concat(y,":not([").concat(Sy,"])"))).join(", ");if(c.length===0)return Promise.resolve();let p=[];try{p=H4(e.querySelectorAll(c))}catch{}if(p.length>0)n("pending"),i("complete");else return Promise.resolve();const o=jW.begin("onTree"),g=p.reduce((y,x)=>{try{const E=K1e(x);E&&y.push(E)}catch(E){E1e||E.name==="MissingIcon"&&console.error(E)}return y},[]);return new Promise((y,x)=>{Promise.all(g).then(E=>{U1e(E,()=>{n("active"),n("complete"),i("pending"),typeof t=="function"&&t(),o(),y()})}).catch(E=>{o(),x(E)})})}function sze(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;K1e(e).then(r=>{r&&U1e([r],t)})}function lze(e){return function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=(t||{}).icon?t:UN(t||{});let{mask:i}=r;return i&&(i=(i||{}).icon?i:UN(i||{})),e(n,{...r,mask:i})}}const uze=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=uf,symbol:n=!1,mask:i=null,maskId:s=null,title:c=null,titleId:p=null,classes:o=[],attributes:g={},styles:y={}}=t;if(!e)return;const{prefix:x,iconName:E,icon:A}=e;return RI({type:"icon",...e},()=>(Ey("beforeDOMElementCreation",{iconDefinition:e,params:t}),rn.autoA11y&&(c?g["aria-labelledby"]="".concat(rn.replacementClass,"-title-").concat(p||F5()):(g["aria-hidden"]="true",g.focusable="false")),FW({icons:{main:WN(A),mask:i?WN(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:x,iconName:E,transform:{...uf,...r},symbol:n,title:c,maskId:s,titleId:p,extra:{attributes:g,styles:y,classes:o}})))};var cze={mixout(){return{icon:lze(uze)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=Ete,e.nodeCallback=sze,e}}},provides(e){e.i2svg=function(t){const{node:r=Ta,callback:n=()=>{}}=t;return Ete(r,n)},e.generateSvgReplacementMutation=function(t,r){const{iconName:n,title:i,titleId:s,prefix:c,transform:p,symbol:o,mask:g,maskId:y,extra:x}=r;return new Promise((E,A)=>{Promise.all([KN(n,c),g.iconName?KN(g.iconName,g.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(M=>{let[R,k]=M;E([t,FW({icons:{main:R,mask:k},prefix:c,iconName:n,transform:p,symbol:o,maskId:y,title:i,titleId:s,extra:x,watchable:!0})])}).catch(A)})},e.generateAbstractIcon=function(t){let{children:r,attributes:n,main:i,transform:s,styles:c}=t;const p=kI(c);p.length>0&&(n.style=p);let o;return LW(s)&&(o=D1("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),r.push(o||i.icon),{children:r,attributes:n}}}},dze={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:r=[]}=t;return RI({type:"layer"},()=>{Ey("beforeDOMElementCreation",{assembler:e,params:t});let n=[];return e(i=>{Array.isArray(i)?i.map(s=>{n=n.concat(s.abstract)}):n=n.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(rn.cssPrefix,"-layers"),...r].join(" ")},children:n}]})}}}},fze={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:r=null,classes:n=[],attributes:i={},styles:s={}}=t;return RI({type:"counter",content:e},()=>(Ey("beforeDOMElementCreation",{content:e,params:t}),KBe({content:e.toString(),title:r,extra:{attributes:i,styles:s,classes:["".concat(rn.cssPrefix,"-layers-counter"),...n]}})))}}}},pze={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=uf,title:n=null,classes:i=[],attributes:s={},styles:c={}}=t;return RI({type:"text",content:e},()=>(Ey("beforeDOMElementCreation",{content:e,params:t}),vte({content:e,transform:{...uf,...r},title:n,extra:{attributes:s,styles:c,classes:["".concat(rn.cssPrefix,"-layers-text"),...i]}})))}}},provides(e){e.generateLayersText=function(t,r){const{title:n,transform:i,extra:s}=r;let c=null,p=null;if(v1e){const o=parseInt(getComputedStyle(t).fontSize,10),g=t.getBoundingClientRect();c=g.width/o,p=g.height/o}return rn.autoA11y&&!n&&(s.attributes["aria-hidden"]="true"),Promise.resolve([t,vte({content:t.innerHTML,width:c,height:p,transform:i,title:n,extra:s,watchable:!0})])}}};const hze=new RegExp('"',"ug"),Ate=[1105920,1112319],Tte={FontAwesome:{normal:"fas",400:"fas"},...ZLe,...qLe,...nBe},qN=Object.keys(Tte).reduce((e,t)=>(e[t.toLowerCase()]=Tte[t],e),{}),mze=Object.keys(qN).reduce((e,t)=>{const r=qN[t];return e[t]=r[900]||[...Object.entries(r)][0][1],e},{});function gze(e){const t=e.replace(hze,""),r=PBe(t,0),n=r>=Ate[0]&&r<=Ate[1],i=t.length===2?t[0]===t[1]:!1;return{value:FN(i?t[0]:t),isSecondary:n||i}}function yze(e,t){const r=e.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(t),i=isNaN(n)?"normal":n;return(qN[r]||{})[i]||mze[r]}function Pte(e,t){const r="".concat(oBe).concat(t.replace(":","-"));return new Promise((n,i)=>{if(e.getAttribute(r)!==null)return n();const c=H4(e.children).filter(E=>E.getAttribute(LN)===t)[0],p=k1.getComputedStyle(e,t),o=p.getPropertyValue("font-family"),g=o.match(dBe),y=p.getPropertyValue("font-weight"),x=p.getPropertyValue("content");if(c&&!g)return e.removeChild(c),n();if(g&&x!=="none"&&x!==""){const E=p.getPropertyValue("content");let A=yze(o,y);const{value:M,isSecondary:R}=gze(E),k=g[0].startsWith("FontAwesome");let D=zW(A,M),$=D;if(k){const B=RBe(M);B.iconName&&B.prefix&&(D=B.iconName,A=B.prefix)}if(D&&!R&&(!c||c.getAttribute(DW)!==A||c.getAttribute(RW)!==$)){e.setAttribute(r,$),c&&e.removeChild(c);const B=aze(),{extra:V}=B;V.attributes[LN]=t,KN(D,A).then(U=>{const Z=FW({...B,icons:{main:U,mask:NW()},prefix:A,iconName:$,extra:V,watchable:!0}),ne=Ta.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(ne,e.firstChild):e.appendChild(ne),ne.outerHTML=Z.map(j=>c9(j)).join(`
`),e.removeAttribute(r),n()}).catch(i)}else n()}else n()})}function vze(e){return Promise.all([Pte(e,"::before"),Pte(e,"::after")])}function _ze(e){return e.parentNode!==document.head&&!~lBe.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(LN)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function Cte(e){if(wh)return new Promise((t,r)=>{const n=H4(e.querySelectorAll("*")).filter(_ze).map(vze),i=jW.begin("searchPseudoElements");W1e(),Promise.all(n).then(()=>{i(),GN(),t()}).catch(()=>{i(),GN(),r()})})}var bze={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=Cte,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:r=Ta}=t;rn.searchPseudoElements&&Cte(r)}}};let Ite=!1;var xze={mixout(){return{dom:{unwatch(){W1e(),Ite=!0}}}},hooks(){return{bootstrap(){wte(VN("mutationObserverCallbacks",{}))},noAuto(){tze()},watch(e){const{observeMutationsRoot:t}=e;Ite?GN():wte(VN("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const Mte=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((r,n)=>{const i=n.toLowerCase().split("-"),s=i[0];let c=i.slice(1).join("-");if(s&&c==="h")return r.flipX=!0,r;if(s&&c==="v")return r.flipY=!0,r;if(c=parseFloat(c),isNaN(c))return r;switch(s){case"grow":r.size=r.size+c;break;case"shrink":r.size=r.size-c;break;case"left":r.x=r.x-c;break;case"right":r.x=r.x+c;break;case"up":r.y=r.y-c;break;case"down":r.y=r.y+c;break;case"rotate":r.rotate=r.rotate+c;break}return r},t)};var wze={mixout(){return{parse:{transform:e=>Mte(e)}}},hooks(){return{parseNodeAttributes(e,t){const r=t.getAttribute("data-fa-transform");return r&&(e.transform=Mte(r)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:r,transform:n,containerWidth:i,iconWidth:s}=t;const c={transform:"translate(".concat(i/2," 256)")},p="translate(".concat(n.x*32,", ").concat(n.y*32,") "),o="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),g="rotate(".concat(n.rotate," 0 0)"),y={transform:"".concat(p," ").concat(o," ").concat(g)},x={transform:"translate(".concat(s/2*-1," -256)")},E={outer:c,inner:y,path:x};return{tag:"g",attributes:{...E.outer},children:[{tag:"g",attributes:{...E.inner},children:[{tag:r.icon.tag,children:r.icon.children,attributes:{...r.icon.attributes,...E.path}}]}]}}}};const v$={x:0,y:0,width:"100%",height:"100%"};function kte(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function Sze(e){return e.tag==="g"?e.children:[e]}var Eze={hooks(){return{parseNodeAttributes(e,t){const r=t.getAttribute("data-fa-mask"),n=r?DI(r.split(" ").map(i=>i.trim())):NW();return n.prefix||(n.prefix=O1()),e.mask=n,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:r,attributes:n,main:i,mask:s,maskId:c,transform:p}=t;const{width:o,icon:g}=i,{width:y,icon:x}=s,E=xBe({transform:p,containerWidth:y,iconWidth:o}),A={tag:"rect",attributes:{...v$,fill:"white"}},M=g.children?{children:g.children.map(kte)}:{},R={tag:"g",attributes:{...E.inner},children:[kte({tag:g.tag,attributes:{...g.attributes,...E.path},...M})]},k={tag:"g",attributes:{...E.outer},children:[R]},D="mask-".concat(c||F5()),$="clip-".concat(c||F5()),B={tag:"mask",attributes:{...v$,id:D,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[A,k]},V={tag:"defs",children:[{tag:"clipPath",attributes:{id:$},children:Sze(x)},B]};return r.push(V,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat($,")"),mask:"url(#".concat(D,")"),...v$}}),{children:r,attributes:n}}}},Aze={provides(e){let t=!1;k1.matchMedia&&(t=k1.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const r=[],n={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:{...n,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const s={...i,attributeName:"opacity"},c={tag:"circle",attributes:{...n,cx:"256",cy:"364",r:"28"},children:[]};return t||c.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...s,values:"1;0;1;1;0;1;"}}),r.push(c),r.push({tag:"path",attributes:{...n,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:t?[]:[{tag:"animate",attributes:{...s,values:"1;0;0;0;0;1;"}}]}),t||r.push({tag:"path",attributes:{...n,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...s,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},Tze={hooks(){return{parseNodeAttributes(e,t){const r=t.getAttribute("data-fa-symbol"),n=r===null?!1:r===""?!0:r;return e.symbol=n,e}}}},Pze=[EBe,cze,dze,fze,pze,bze,xze,wze,Eze,Aze,Tze];zBe(Pze,{mixoutsTo:Pu});Pu.noAuto;Pu.config;Pu.library;Pu.dom;const ZN=Pu.parse;Pu.findIconDefinition;Pu.toHtml;const Cze=Pu.icon;Pu.layer;Pu.text;Pu.counter;var H1e={exports:{}},Ize="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Mze=Ize,kze=Mze;function G1e(){}function q1e(){}q1e.resetWarningCache=G1e;var Oze=function(){function e(n,i,s,c,p,o){if(o!==kze){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:q1e,resetWarningCache:G1e};return r.PropTypes=r,r};H1e.exports=Oze();var Dze=H1e.exports;const $r=oi(Dze);function Ote(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ote(Object(r),!0).forEach(function(n){kb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ote(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vP(e){"@babel/helpers - typeof";return vP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vP(e)}function kb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rze(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function $ze(e,t){if(e==null)return{};var r=Rze(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XN(e){return Lze(e)||Bze(e)||zze(e)||Nze()}function Lze(e){if(Array.isArray(e))return YN(e)}function Bze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zze(e,t){if(e){if(typeof e=="string")return YN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(e,t)}}function YN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fze(e){var t,r=e.beat,n=e.fade,i=e.beatFade,s=e.bounce,c=e.shake,p=e.flash,o=e.spin,g=e.spinPulse,y=e.spinReverse,x=e.pulse,E=e.fixedWidth,A=e.inverse,M=e.border,R=e.listItem,k=e.flip,D=e.size,$=e.rotation,B=e.pull,V=(t={"fa-beat":r,"fa-fade":n,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":c,"fa-flash":p,"fa-spin":o,"fa-spin-reverse":y,"fa-spin-pulse":g,"fa-pulse":x,"fa-fw":E,"fa-inverse":A,"fa-border":M,"fa-li":R,"fa-flip":k===!0,"fa-flip-horizontal":k==="horizontal"||k==="both","fa-flip-vertical":k==="vertical"||k==="both"},kb(t,"fa-".concat(D),typeof D<"u"&&D!==null),kb(t,"fa-rotate-".concat($),typeof $<"u"&&$!==null&&$!==0),kb(t,"fa-pull-".concat(B),typeof B<"u"&&B!==null),kb(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(V).map(function(U){return V[U]?U:null}).filter(function(U){return U})}function jze(e){return e=e-0,e===e}function Z1e(e){return jze(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,r){return r?r.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var Vze=["style"];function Uze(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Wze(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,r){var n=r.indexOf(":"),i=Z1e(r.slice(0,n)),s=r.slice(n+1).trim();return i.startsWith("webkit")?t[Uze(i)]=s:t[i]=s,t},{})}function X1e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var n=(t.children||[]).map(function(o){return X1e(e,o)}),i=Object.keys(t.attributes||{}).reduce(function(o,g){var y=t.attributes[g];switch(g){case"class":o.attrs.className=y,delete t.attributes.class;break;case"style":o.attrs.style=Wze(y);break;default:g.indexOf("aria-")===0||g.indexOf("data-")===0?o.attrs[g.toLowerCase()]=y:o.attrs[Z1e(g)]=y}return o},{attrs:{}}),s=r.style,c=s===void 0?{}:s,p=$ze(r,Vze);return i.attrs.style=tf(tf({},i.attrs.style),c),e.apply(void 0,[t.tag,tf(tf({},i.attrs),p)].concat(XN(n)))}var Y1e=!1;try{Y1e=!0}catch{}function Kze(){if(!Y1e&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function Dte(e){if(e&&vP(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(ZN.icon)return ZN.icon(e);if(e===null)return null;if(e&&vP(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function _$(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?kb({},e,t):{}}var Rte={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},gs=Ke.forwardRef(function(e,t){var r=tf(tf({},Rte),e),n=r.icon,i=r.mask,s=r.symbol,c=r.className,p=r.title,o=r.titleId,g=r.maskId,y=Dte(n),x=_$("classes",[].concat(XN(Fze(r)),XN((c||"").split(" ")))),E=_$("transform",typeof r.transform=="string"?ZN.transform(r.transform):r.transform),A=_$("mask",Dte(i)),M=Cze(y,tf(tf(tf(tf({},x),E),A),{},{symbol:s,title:p,titleId:o,maskId:g}));if(!M)return Kze("Could not find icon",y),null;var R=M.abstract,k={ref:t};return Object.keys(r).forEach(function(D){Rte.hasOwnProperty(D)||(k[D]=r[D])}),Hze(R[0],k)});gs.displayName="FontAwesomeIcon";gs.propTypes={beat:$r.bool,border:$r.bool,beatFade:$r.bool,bounce:$r.bool,className:$r.string,fade:$r.bool,flash:$r.bool,mask:$r.oneOfType([$r.object,$r.array,$r.string]),maskId:$r.string,fixedWidth:$r.bool,inverse:$r.bool,flip:$r.oneOf([!0,!1,"horizontal","vertical","both"]),icon:$r.oneOfType([$r.object,$r.array,$r.string]),listItem:$r.bool,pull:$r.oneOf(["right","left"]),pulse:$r.bool,rotation:$r.oneOf([0,90,180,270]),shake:$r.bool,size:$r.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:$r.bool,spinPulse:$r.bool,spinReverse:$r.bool,symbol:$r.oneOfType([$r.bool,$r.string]),title:$r.string,titleId:$r.string,transform:$r.oneOfType([$r.string,$r.object]),swapOpacity:$r.bool};var Hze=X1e.bind(null,Ke.createElement);const Gze={prefix:"fas",iconName:"user-check",icon:[640,512,[],"f4fc","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM625 177L497 305c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L591 143c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},qze={prefix:"fas",iconName:"folder-open",icon:[576,512,[128194,128449,61717],"f07c","M88.7 223.8L0 375.8 0 96C0 60.7 28.7 32 64 32l117.5 0c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7L416 96c35.3 0 64 28.7 64 64l0 32-336 0c-22.8 0-43.8 12.1-55.3 31.8zm27.6 16.1C122.1 230 132.6 224 144 224l400 0c11.5 0 22 6.1 27.7 16.1s5.7 22.2-.1 32.1l-112 192C453.9 474 443.4 480 432 480L32 480c-11.5 0-22-6.1-27.7-16.1s-5.7-22.2 .1-32.1l112-192z"]},Zze={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},Xze={prefix:"fas",iconName:"seedling",icon:[512,512,[127793,"sprout"],"f4d8","M512 32c0 113.6-84.6 207.5-194.2 222c-7.1-53.4-30.6-101.6-65.3-139.3C290.8 46.3 364 0 448 0l32 0c17.7 0 32 14.3 32 32zM0 96C0 78.3 14.3 64 32 64l32 0c123.7 0 224 100.3 224 224l0 32 0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-160C100.3 320 0 219.7 0 96z"]},Yze={prefix:"fas",iconName:"shield-halved",icon:[512,512,["shield-alt"],"f3ed","M256 0c4.6 0 9.2 1 13.4 2.9L457.7 82.8c22 9.3 38.4 31 38.3 57.2c-.5 99.2-41.3 280.7-213.6 363.2c-16.7 8-36.1 8-52.8 0C57.3 420.7 16.5 239.2 16 140c-.1-26.2 16.3-47.9 38.3-57.2L242.7 2.9C246.8 1 251.4 0 256 0zm0 66.8l0 378.1C394 378 431.1 230.1 432 141.4L256 66.8s0 0 0 0z"]},Jze={prefix:"fas",iconName:"chart-pie",icon:[576,512,["pie-chart"],"f200","M304 240l0-223.4c0-9 7-16.6 16-16.6C443.7 0 544 100.3 544 224c0 9-7.6 16-16.6 16L304 240zM32 272C32 150.7 122.1 50.3 239 34.3c9.2-1.3 17 6.1 17 15.4L256 288 412.5 444.5c6.7 6.7 6.2 17.7-1.5 23.1C371.8 495.6 323.8 512 272 512C139.5 512 32 404.6 32 272zm526.4 16c9.3 0 16.6 7.8 15.4 17c-7.7 55.9-34.6 105.6-73.9 142.3c-6 5.6-15.4 5.2-21.2-.7L320 288l238.4 0z"]},Qze={prefix:"fas",iconName:"hand-holding-dollar",icon:[576,512,["hand-holding-usd"],"f4c0","M312 24l0 10.5c6.4 1.2 12.6 2.7 18.2 4.2c12.8 3.4 20.4 16.6 17 29.4s-16.6 20.4-29.4 17c-10.9-2.9-21.1-4.9-30.2-5c-7.3-.1-14.7 1.7-19.4 4.4c-2.1 1.3-3.1 2.4-3.5 3c-.3 .5-.7 1.2-.7 2.8c0 .3 0 .5 0 .6c.2 .2 .9 1.2 3.3 2.6c5.8 3.5 14.4 6.2 27.4 10.1l.9 .3s0 0 0 0c11.1 3.3 25.9 7.8 37.9 15.3c13.7 8.6 26.1 22.9 26.4 44.9c.3 22.5-11.4 38.9-26.7 48.5c-6.7 4.1-13.9 7-21.3 8.8l0 10.6c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-11.4c-9.5-2.3-18.2-5.3-25.6-7.8c-2.1-.7-4.1-1.4-6-2c-12.6-4.2-19.4-17.8-15.2-30.4s17.8-19.4 30.4-15.2c2.6 .9 5 1.7 7.3 2.5c13.6 4.6 23.4 7.9 33.9 8.3c8 .3 15.1-1.6 19.2-4.1c1.9-1.2 2.8-2.2 3.2-2.9c.4-.6 .9-1.8 .8-4.1l0-.2c0-1 0-2.1-4-4.6c-5.7-3.6-14.3-6.4-27.1-10.3l-1.9-.6c-10.8-3.2-25-7.5-36.4-14.4c-13.5-8.1-26.5-22-26.6-44.1c-.1-22.9 12.9-38.6 27.7-47.4c6.4-3.8 13.3-6.4 20.2-8.2L264 24c0-13.3 10.7-24 24-24s24 10.7 24 24zM568.2 336.3c13.1 17.8 9.3 42.8-8.5 55.9L433.1 485.5c-23.4 17.2-51.6 26.5-80.7 26.5L192 512 32 512c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l36.8 0 44.9-36c22.7-18.2 50.9-28 80-28l78.3 0 16 0 64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0-16 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l120.6 0 119.7-88.2c17.8-13.1 42.8-9.3 55.9 8.5zM193.6 384c0 0 0 0 0 0l-.9 0c.3 0 .6 0 .9 0z"]},eNe={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M512 80c0 18-14.3 34.6-38.4 48c-29.1 16.1-72.5 27.5-122.3 30.9c-3.7-1.8-7.4-3.5-11.3-5C300.6 137.4 248.2 128 192 128c-8.3 0-16.4 .2-24.5 .6l-1.1-.6C142.3 114.6 128 98 128 80c0-44.2 86-80 192-80S512 35.8 512 80zM160.7 161.1c10.2-.7 20.7-1.1 31.3-1.1c62.2 0 117.4 12.3 152.5 31.4C369.3 204.9 384 221.7 384 240c0 4-.7 7.9-2.1 11.7c-4.6 13.2-17 25.3-35 35.5c0 0 0 0 0 0c-.1 .1-.3 .1-.4 .2c0 0 0 0 0 0s0 0 0 0c-.3 .2-.6 .3-.9 .5c-35 19.4-90.8 32-153.6 32c-59.6 0-112.9-11.3-148.2-29.1c-1.9-.9-3.7-1.9-5.5-2.9C14.3 274.6 0 258 0 240c0-34.8 53.4-64.5 128-75.4c10.5-1.5 21.4-2.7 32.7-3.5zM416 240c0-21.9-10.6-39.9-24.1-53.4c28.3-4.4 54.2-11.4 76.2-20.5c16.3-6.8 31.5-15.2 43.9-25.5l0 35.4c0 19.3-16.5 37.1-43.8 50.9c-14.6 7.4-32.4 13.7-52.4 18.5c.1-1.8 .2-3.5 .2-5.3zm-32 96c0 18-14.3 34.6-38.4 48c-1.8 1-3.6 1.9-5.5 2.9C304.9 404.7 251.6 416 192 416c-62.8 0-118.6-12.6-153.6-32C14.3 370.6 0 354 0 336l0-35.4c12.5 10.3 27.6 18.7 43.9 25.5C83.4 342.6 135.8 352 192 352s108.6-9.4 148.1-25.9c7.8-3.2 15.3-6.9 22.4-10.9c6.1-3.4 11.8-7.2 17.2-11.2c1.5-1.1 2.9-2.3 4.3-3.4l0 3.4 0 5.7 0 26.3zm32 0l0-32 0-25.9c19-4.2 36.5-9.5 52.1-16c16.3-6.8 31.5-15.2 43.9-25.5l0 35.4c0 10.5-5 21-14.9 30.9c-16.3 16.3-45 29.7-81.3 38.4c.1-1.7 .2-3.5 .2-5.3zM192 448c56.2 0 108.6-9.4 148.1-25.9c16.3-6.8 31.5-15.2 43.9-25.5l0 35.4c0 44.2-86 80-192 80S0 476.2 0 432l0-35.4c12.5 10.3 27.6 18.7 43.9 25.5C83.4 438.6 135.8 448 192 448z"]},tNe={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},b$={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},x$={prefix:"fas",iconName:"arrow-trend-up",icon:[576,512,[],"e098","M384 160c-17.7 0-32-14.3-32-32s14.3-32 32-32l160 0c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-82.7L342.6 374.6c-12.5 12.5-32.8 12.5-45.3 0L192 269.3 54.6 406.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160c12.5-12.5 32.8-12.5 45.3 0L320 306.7 466.7 160 384 160z"]},rNe={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},nNe={prefix:"fas",iconName:"arrow-up-right-dots",icon:[576,512,[],"e4b7","M160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l50.7 0L9.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L256 109.3l0 50.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128c0-17.7-14.3-32-32-32L160 0zM576 80a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM448 208a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM400 384a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm48 80a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm128 0a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM272 384a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm48 80a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM144 512a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM576 336a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm-48-80a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},iNe={prefix:"fas",iconName:"right-left",icon:[512,512,["exchange-alt"],"f362","M32 96l320 0 0-64c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l96 96c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-96 96c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6l0-64L32 160c-17.7 0-32-14.3-32-32s14.3-32 32-32zM480 352c17.7 0 32 14.3 32 32s-14.3 32-32 32l-320 0 0 64c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-96-96c-6-6-9.4-14.1-9.4-22.6s3.4-16.6 9.4-22.6l96-96c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 64 320 0z"]},b2=({children:e})=>{const t=tW(),[r,n]=se.useState("All Properties"),i=[{name:"All Properties",icon:tNe,path:"/dashboard"},{name:"Launchpad / Invest",icon:Xze,path:"/dashboard/launchpad"},{name:"Buy / Trade",icon:eNe,path:"/dashboard/trade"}],s=[{name:"Your Portfolio",icon:Jze,path:"/dashboard/portfolio"},{name:"Transaction History",icon:iNe,path:"/dashboard/history"}];return H.jsxs("div",{className:"flex h-screen bg-white",children:[H.jsx("aside",{className:"w-[18rem] h-full bg-gray-100 border-r border-gray-200",children:H.jsxs("div",{className:"p-6",children:[H.jsx("h1",{className:"mt-6 mb-12 text-4xl font-black",children:"Exira"}),H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"flex flex-col items-start w-full",children:[H.jsx("h2",{className:"font-semibold text-gray-500 text-md mb-",children:"Marketplace"}),H.jsx("div",{className:"py-0 my-0 mb-2 divider"}),H.jsx("ul",{className:"w-full space-y-2",children:i.map(c=>H.jsxs("li",{className:`flex items-center space-x-3 p-2 rounded-lg cursor-pointer ${r===c.name?"bg-gray-200 font-semibold":"hover:bg-gray-200"}`,onClick:()=>{n(c.name),t(c.path)},children:[H.jsx(gs,{icon:c.icon}),H.jsx("span",{className:"text-black",children:c.name})]},c.name))})]}),H.jsxs("div",{className:"flex flex-col items-start w-full pt-4",children:[H.jsx("h2",{className:"font-semibold text-gray-500 text-md mb-",children:"Your Account"}),H.jsx("div",{className:"py-0 my-0 mb-2 divider"}),H.jsx("ul",{className:"w-full space-y-2",children:s.map(c=>H.jsxs("li",{className:`flex items-center space-x-3 p-2 rounded-lg cursor-pointer ${r===c.name?"bg-gray-200 font-semibold":"hover:bg-gray-200"}`,onClick:()=>{n(c.name),t(c.path)},children:[H.jsx(gs,{icon:c.icon}),H.jsx("span",{className:"text-black",children:c.name})]},c.name))})]})]})]})}),H.jsxs("div",{className:"flex flex-col flex-1",children:[H.jsxs("header",{className:"flex items-center justify-between h-16 px-4 bg-white border-b border-gray-200",children:[H.jsx("h2",{className:"text-2xl text-black",children:location.pathname.includes("/launchpad")?"Launchpad / Invest":location.pathname.includes("/trade")?"Buy / Trade":location.pathname.includes("/portfolio")?"Your Portfolio":location.pathname.includes("/history")?"Transaction History":"All Properties"}),H.jsx("div",{className:"flex items-center space-x-4",children:H.jsx(d1e,{style:{backgroundColor:"black",padding:"1rem",height:"45px",fontSize:"15px",borderRadius:"10px",width:"150px",justifyContent:"center"}})})]}),H.jsx("main",{className:"flex-1 py-6 overflow-auto bg-white",children:e})]})]})},aNe="/assets/solanaLogo-DqfWGQjb.png",oNe="/assets/hero-CZ3ldDcb.png";function sNe(){return H.jsxs("div",{className:"flex flex-row gap-x-16",children:[H.jsxs("div",{className:"flex flex-col items-start p-6 px-10 rounded-2xl bg-black/10 gap-y-6",children:[H.jsxs("div",{className:"flex flex-col items-start gap-y-",children:[H.jsxs("div",{className:"flex flex-row items-center gap-x-2",children:[H.jsx(gs,{icon:x$}),H.jsx("p",{className:"text-4xl",children:"347,250"})]}),H.jsx("p",{className:"text-lg",children:"Shares Available"})]}),H.jsxs("div",{className:"flex flex-col items-start",children:[H.jsx("p",{className:"font-bold text-7xl",children:"4355"}),H.jsx("p",{className:"text-lg",children:"Properties"})]}),H.jsxs("div",{children:[H.jsxs("p",{className:"text-2xl",children:["Starting from  ",H.jsx("span",{className:"font-bold ",children:"$400"})]}),H.jsx("div",{className:"h-[2px] bg-black/10 my-2"}),H.jsxs("div",{className:"flex flex-row items-center gap-x-2",children:[H.jsx(gs,{icon:b$}),H.jsx("p",{className:"text-lg",children:"New York"})]})]})]}),H.jsxs("div",{className:"flex flex-col items-start p-6 px-10 rounded-2xl bg-black/10 gap-y-6",children:[H.jsxs("div",{className:"flex flex-col items-start gap-y-",children:[H.jsxs("div",{className:"flex flex-row items-center gap-x-2",children:[H.jsx(gs,{icon:x$}),H.jsx("p",{className:"text-4xl",children:"347,250"})]}),H.jsx("p",{className:"text-lg",children:"Shares Available"})]}),H.jsxs("div",{className:"flex flex-col items-start",children:[H.jsx("p",{className:"font-bold text-7xl",children:"4355"}),H.jsx("p",{className:"text-lg",children:"Properties"})]}),H.jsxs("div",{children:[H.jsxs("p",{className:"text-2xl",children:["Starting from  ",H.jsx("span",{className:"font-bold ",children:"$400"})]}),H.jsx("div",{className:"h-[2px] bg-black/10 my-2"}),H.jsxs("div",{className:"flex flex-row items-center gap-x-2",children:[H.jsx(gs,{icon:b$}),H.jsx("p",{className:"text-lg",children:"New York"})]})]})]}),H.jsxs("div",{className:"flex flex-col items-start p-6 px-10 rounded-2xl bg-black/10 gap-y-6",children:[H.jsxs("div",{className:"flex flex-col items-start gap-y-",children:[H.jsxs("div",{className:"flex flex-row items-center gap-x-2",children:[H.jsx(gs,{icon:x$}),H.jsx("p",{className:"text-4xl",children:"347,250"})]}),H.jsx("p",{className:"text-lg",children:"Shares Available"})]}),H.jsxs("div",{className:"flex flex-col items-start",children:[H.jsx("p",{className:"font-bold text-7xl",children:"4355"}),H.jsx("p",{className:"text-lg",children:"Properties"})]}),H.jsxs("div",{children:[H.jsxs("p",{className:"text-2xl",children:["Starting from  ",H.jsx("span",{className:"font-bold ",children:"$400"})]}),H.jsx("div",{className:"h-[2px] bg-black/10 my-2"}),H.jsxs("div",{className:"flex flex-row items-center gap-x-2",children:[H.jsx(gs,{icon:b$}),H.jsx("p",{className:"text-lg",children:"New York"})]})]})]})]})}function J1e(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}function j5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const JN=e=>Array.isArray(e);function Q1e(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function V5(e){return typeof e=="string"||Array.isArray(e)}function $te(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function UW(e,t,r,n){if(typeof t=="function"){const[i,s]=$te(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=$te(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function $I(e,t,r){const n=e.getProps();return UW(n,t,r!==void 0?r:n.custom,e)}const WW=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],KW=["initial",...WW],d9=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Z1=new Set(d9),Kp=e=>e*1e3,Hp=e=>e/1e3,lNe={type:"spring",stiffness:500,damping:25,restSpeed:10},uNe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),cNe={type:"keyframes",duration:.8},dNe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fNe=(e,{keyframes:t})=>t.length>2?cNe:Z1.has(e)?e.startsWith("scale")?uNe(t[1]):lNe:dNe;function pNe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:c,repeatDelay:p,from:o,elapsed:g,...y}){return!!Object.keys(y).length}function HW(e,t){return e[t]||e.default||e}const GW={skipAnimations:!1,useManualTiming:!1},hNe=e=>e!==null;function LI(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(hNe),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const Vs=e=>e;function mNe(e){let t=new Set,r=new Set,n=!1,i=!1;const s=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function p(g){s.has(g)&&(o.schedule(g),e()),g(c)}const o={schedule:(g,y=!1,x=!1)=>{const A=x&&n?t:r;return y&&s.add(g),A.has(g)||A.add(g),g},cancel:g=>{r.delete(g),s.delete(g)},process:g=>{if(c=g,n){i=!0;return}n=!0,[t,r]=[r,t],r.clear(),t.forEach(p),n=!1,i&&(i=!1,o.process(g))}};return o}const NE=["read","resolveKeyframes","update","preRender","render","postRender"],gNe=40;function e0e(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,c=NE.reduce((D,$)=>(D[$]=mNe(s),D),{}),{read:p,resolveKeyframes:o,update:g,preRender:y,render:x,postRender:E}=c,A=()=>{const D=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(D-i.timestamp,gNe),1),i.timestamp=D,i.isProcessing=!0,p.process(i),o.process(i),g.process(i),y.process(i),x.process(i),E.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(A))},M=()=>{r=!0,n=!0,i.isProcessing||e(A)};return{schedule:NE.reduce((D,$)=>{const B=c[$];return D[$]=(V,U=!1,Z=!1)=>(r||M(),B.schedule(V,U,Z)),D},{}),cancel:D=>{for(let $=0;$<NE.length;$++)c[NE[$]].cancel(D)},state:i,steps:c}}const{schedule:Hi,cancel:fh,state:Ho,steps:w$}=e0e(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vs,!0),t0e=e=>/^0[^.\s]+$/u.test(e);function yNe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||t0e(e):!0}let QN=Vs;const r0e=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),n0e=e=>t=>typeof t=="string"&&t.startsWith(e),i0e=n0e("--"),vNe=n0e("var(--"),qW=e=>vNe(e)?_Ne.test(e.split("/*")[0].trim()):!1,_Ne=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bNe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xNe(e){const t=bNe.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function a0e(e,t,r=1){const[n,i]=xNe(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const c=s.trim();return r0e(c)?parseFloat(c):c}return qW(i)?a0e(i,t,r+1):i}const R1=(e,t,r)=>r>t?t:r<e?e:r,G4={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},J6={...G4,transform:e=>R1(0,1,e)},FE={...G4,default:1},Q6=e=>Math.round(e*1e5)/1e5,ZW=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,wNe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,SNe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function f9(e){return typeof e=="string"}function ENe(e){return e==null}const p9=e=>({test:t=>f9(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$m=p9("deg"),mf=p9("%"),kn=p9("px"),ANe=p9("vh"),TNe=p9("vw"),Lte={...mf,parse:e=>mf.parse(e)/100,transform:e=>mf.transform(e*100)},PNe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Bte=e=>e===G4||e===kn,zte=(e,t)=>parseFloat(e.split(", ")[t]),Nte=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return zte(i[1],t);{const s=n.match(/^matrix\((.+)\)$/u);return s?zte(s[1],e):0}},CNe=new Set(["x","y","z"]),INe=d9.filter(e=>!CNe.has(e));function MNe(e){const t=[];return INe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const $x={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Nte(4,13),y:Nte(5,14)};$x.translateX=$x.x;$x.translateY=$x.y;const o0e=e=>t=>t.test(e),kNe={test:e=>e==="auto",parse:e=>e},s0e=[G4,kn,mf,$m,TNe,ANe,kNe],Fte=e=>s0e.find(o0e(e)),sy=new Set;let eF=!1,tF=!1;function l0e(){if(tF){const e=Array.from(sy).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=MNe(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,c])=>{var p;(p=n.getValue(s))===null||p===void 0||p.set(c)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}tF=!1,eF=!1,sy.forEach(e=>e.complete()),sy.clear()}function u0e(){sy.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(tF=!0)})}function ONe(){u0e(),l0e()}class XW{constructor(t,r,n,i,s,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(sy.add(this),eF||(eF=!0,Hi.read(u0e),Hi.resolveKeyframes(l0e))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const c=i==null?void 0:i.get(),p=t[t.length-1];if(c!==void 0)t[0]=c;else if(n&&r){const o=n.readValue(r,p);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=p),i&&c===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),sy.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,sy.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const YW=(e,t)=>r=>!!(f9(r)&&SNe.test(r)&&r.startsWith(e)||t&&!ENe(r)&&Object.prototype.hasOwnProperty.call(r,t)),c0e=(e,t,r)=>n=>{if(!f9(n))return n;const[i,s,c,p]=n.match(ZW);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(c),alpha:p!==void 0?parseFloat(p):1}},DNe=e=>R1(0,255,e),S$={...G4,transform:e=>Math.round(DNe(e))},Vg={test:YW("rgb","red"),parse:c0e("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+S$.transform(e)+", "+S$.transform(t)+", "+S$.transform(r)+", "+Q6(J6.transform(n))+")"};function RNe(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const rF={test:YW("#"),parse:RNe,transform:Vg.transform},Ob={test:YW("hsl","hue"),parse:c0e("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+mf.transform(Q6(t))+", "+mf.transform(Q6(r))+", "+Q6(J6.transform(n))+")"},Ds={test:e=>Vg.test(e)||rF.test(e)||Ob.test(e),parse:e=>Vg.test(e)?Vg.parse(e):Ob.test(e)?Ob.parse(e):rF.parse(e),transform:e=>f9(e)?e:e.hasOwnProperty("red")?Vg.transform(e):Ob.transform(e)};function $Ne(e){var t,r;return isNaN(e)&&f9(e)&&(((t=e.match(ZW))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(wNe))===null||r===void 0?void 0:r.length)||0)>0}const d0e="number",f0e="color",LNe="var",BNe="var(",jte="${}",zNe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function U5(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const p=t.replace(zNe,o=>(Ds.test(o)?(n.color.push(s),i.push(f0e),r.push(Ds.parse(o))):o.startsWith(BNe)?(n.var.push(s),i.push(LNe),r.push(o)):(n.number.push(s),i.push(d0e),r.push(parseFloat(o))),++s,jte)).split(jte);return{values:r,split:p,indexes:n,types:i}}function p0e(e){return U5(e).values}function h0e(e){const{split:t,types:r}=U5(e),n=t.length;return i=>{let s="";for(let c=0;c<n;c++)if(s+=t[c],i[c]!==void 0){const p=r[c];p===d0e?s+=Q6(i[c]):p===f0e?s+=Ds.transform(i[c]):s+=i[c]}return s}}const NNe=e=>typeof e=="number"?0:e;function FNe(e){const t=p0e(e);return h0e(e)(t.map(NNe))}const $1={test:$Ne,parse:p0e,createTransformer:h0e,getAnimatableNone:FNe},jNe=new Set(["brightness","contrast","saturate","opacity"]);function VNe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(ZW)||[];if(!n)return e;const i=r.replace(n,"");let s=jNe.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const UNe=/\b([a-z-]*)\(.*?\)/gu,nF={...$1,getAnimatableNone:e=>{const t=e.match(UNe);return t?t.map(VNe).join(" "):e}},Vte={...G4,transform:Math.round},JW={borderWidth:kn,borderTopWidth:kn,borderRightWidth:kn,borderBottomWidth:kn,borderLeftWidth:kn,borderRadius:kn,radius:kn,borderTopLeftRadius:kn,borderTopRightRadius:kn,borderBottomRightRadius:kn,borderBottomLeftRadius:kn,width:kn,maxWidth:kn,height:kn,maxHeight:kn,size:kn,top:kn,right:kn,bottom:kn,left:kn,padding:kn,paddingTop:kn,paddingRight:kn,paddingBottom:kn,paddingLeft:kn,margin:kn,marginTop:kn,marginRight:kn,marginBottom:kn,marginLeft:kn,rotate:$m,rotateX:$m,rotateY:$m,rotateZ:$m,scale:FE,scaleX:FE,scaleY:FE,scaleZ:FE,skew:$m,skewX:$m,skewY:$m,distance:kn,translateX:kn,translateY:kn,translateZ:kn,x:kn,y:kn,z:kn,perspective:kn,transformPerspective:kn,opacity:J6,originX:Lte,originY:Lte,originZ:kn,zIndex:Vte,backgroundPositionX:kn,backgroundPositionY:kn,fillOpacity:J6,strokeOpacity:J6,numOctaves:Vte},WNe={...JW,color:Ds,backgroundColor:Ds,outlineColor:Ds,fill:Ds,stroke:Ds,borderColor:Ds,borderTopColor:Ds,borderRightColor:Ds,borderBottomColor:Ds,borderLeftColor:Ds,filter:nF,WebkitFilter:nF},QW=e=>WNe[e];function m0e(e,t){let r=QW(e);return r!==nF&&(r=$1),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const KNe=new Set(["auto","none","0"]);function HNe(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!KNe.has(s)&&U5(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=m0e(r,i)}class g0e extends XW{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let o=0;o<t.length;o++){let g=t[o];if(typeof g=="string"&&(g=g.trim(),qW(g))){const y=a0e(g,r.current);y!==void 0&&(t[o]=y),o===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!PNe.has(n)||t.length!==2)return;const[i,s]=t,c=Fte(i),p=Fte(s);if(c!==p)if(Bte(c)&&Bte(p))for(let o=0;o<t.length;o++){const g=t[o];typeof g=="string"&&(t[o]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)yNe(t[i])&&n.push(i);n.length&&HNe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$x[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const c=i.length-1,p=i[c];i[c]=$x[n](r.measureViewportBox(),window.getComputedStyle(r.current)),p!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=p),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([o,g])=>{r.getValue(o).set(g)}),this.resolveNoneKeyframes()}}function y0e(e){let t;return()=>(t===void 0&&(t=e()),t)}let dT;function GNe(){dT=void 0}const Gp={now:()=>(dT===void 0&&Gp.set(Ho.isProcessing||GW.useManualTiming?Ho.timestamp:performance.now()),dT),set:e=>{dT=e,queueMicrotask(GNe)}},Ute=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($1.test(e)||e==="0")&&!e.startsWith("url("));function qNe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function ZNe(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],c=Ute(i,t),p=Ute(s,t);return!c||!p?!1:qNe(e)||r==="spring"&&n}const XNe=40;class v0e{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:c="loop",...p}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Gp.now(),this.options={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:c,...p},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>XNe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ONe(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Gp.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:c,onComplete:p,onUpdate:o,isGenerator:g}=this.options;if(!g&&!ZNe(t,n,i,s))if(c)this.options.duration=0;else{o==null||o(LI(t,this.options,r)),p==null||p(),this.resolveFinishedPromise();return}const y=this.initPlayback(t,r);y!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...y},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function _0e(e,t){return t?e*(1e3/t):0}const YNe=5;function b0e(e,t,r){const n=Math.max(t-YNe,0);return _0e(r-e(n),t-n)}const E$=.001,JNe=.01,QNe=10,eFe=.05,tFe=1;function rFe({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let i,s,c=1-t;c=R1(eFe,tFe,c),e=R1(JNe,QNe,Hp(e)),c<1?(i=g=>{const y=g*c,x=y*e,E=y-r,A=iF(g,c),M=Math.exp(-x);return E$-E/A*M},s=g=>{const x=g*c*e,E=x*r+r,A=Math.pow(c,2)*Math.pow(g,2)*e,M=Math.exp(-x),R=iF(Math.pow(g,2),c);return(-i(g)+E$>0?-1:1)*((E-A)*M)/R}):(i=g=>{const y=Math.exp(-g*e),x=(g-r)*e+1;return-E$+y*x},s=g=>{const y=Math.exp(-g*e),x=(r-g)*(e*e);return y*x});const p=5/e,o=iFe(i,s,p);if(e=Kp(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{const g=Math.pow(o,2)*n;return{stiffness:g,damping:c*2*Math.sqrt(n*g),duration:e}}}const nFe=12;function iFe(e,t,r){let n=r;for(let i=1;i<nFe;i++)n=n-e(n)/t(n);return n}function iF(e,t){return e*Math.sqrt(1-t*t)}const aFe=["duration","bounce"],oFe=["stiffness","damping","mass"];function Wte(e,t){return t.some(r=>e[r]!==void 0)}function sFe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Wte(e,oFe)&&Wte(e,aFe)){const r=rFe(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function x0e({keyframes:e,restDelta:t,restSpeed:r,...n}){const i=e[0],s=e[e.length-1],c={done:!1,value:i},{stiffness:p,damping:o,mass:g,duration:y,velocity:x,isResolvedFromDuration:E}=sFe({...n,velocity:-Hp(n.velocity||0)}),A=x||0,M=o/(2*Math.sqrt(p*g)),R=s-i,k=Hp(Math.sqrt(p/g)),D=Math.abs(R)<5;r||(r=D?.01:2),t||(t=D?.005:.5);let $;if(M<1){const B=iF(k,M);$=V=>{const U=Math.exp(-M*k*V);return s-U*((A+M*k*R)/B*Math.sin(B*V)+R*Math.cos(B*V))}}else if(M===1)$=B=>s-Math.exp(-k*B)*(R+(A+k*R)*B);else{const B=k*Math.sqrt(M*M-1);$=V=>{const U=Math.exp(-M*k*V),Z=Math.min(B*V,300);return s-U*((A+M*k*R)*Math.sinh(Z)+B*R*Math.cosh(Z))/B}}return{calculatedDuration:E&&y||null,next:B=>{const V=$(B);if(E)c.done=B>=y;else{let U=0;M<1&&(U=B===0?Kp(A):b0e($,B,V));const Z=Math.abs(U)<=r,ne=Math.abs(s-V)<=t;c.done=Z&&ne}return c.value=c.done?s:V,c}}}function Kte({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:c,min:p,max:o,restDelta:g=.5,restSpeed:y}){const x=e[0],E={done:!1,value:x},A=j=>p!==void 0&&j<p||o!==void 0&&j>o,M=j=>p===void 0?o:o===void 0||Math.abs(p-j)<Math.abs(o-j)?p:o;let R=r*t;const k=x+R,D=c===void 0?k:c(k);D!==k&&(R=D-x);const $=j=>-R*Math.exp(-j/n),B=j=>D+$(j),V=j=>{const fe=$(j),be=B(j);E.done=Math.abs(fe)<=g,E.value=E.done?D:be};let U,Z;const ne=j=>{A(E.value)&&(U=j,Z=x0e({keyframes:[E.value,M(E.value)],velocity:b0e(B,j,E.value),damping:i,stiffness:s,restDelta:g,restSpeed:y}))};return ne(0),{calculatedDuration:null,next:j=>{let fe=!1;return!Z&&U===void 0&&(fe=!0,V(j),ne(j)),U!==void 0&&j>=U?Z.next(j-U):(!fe&&V(j),E)}}}const w0e=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,lFe=1e-7,uFe=12;function cFe(e,t,r,n,i){let s,c,p=0;do c=t+(r-t)/2,s=w0e(c,n,i)-e,s>0?r=c:t=c;while(Math.abs(s)>lFe&&++p<uFe);return c}function h9(e,t,r,n){if(e===t&&r===n)return Vs;const i=s=>cFe(s,0,1,e,r);return s=>s===0||s===1?s:w0e(i(s),t,n)}const dFe=h9(.42,0,1,1),fFe=h9(0,0,.58,1),S0e=h9(.42,0,.58,1),pFe=e=>Array.isArray(e)&&typeof e[0]!="number",E0e=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,A0e=e=>t=>1-e(1-t),eK=e=>1-Math.sin(Math.acos(e)),T0e=A0e(eK),hFe=E0e(eK),P0e=h9(.33,1.53,.69,.99),tK=A0e(P0e),mFe=E0e(tK),gFe=e=>(e*=2)<1?.5*tK(e):.5*(2-Math.pow(2,-10*(e-1))),Hte={linear:Vs,easeIn:dFe,easeInOut:S0e,easeOut:fFe,circIn:eK,circInOut:hFe,circOut:T0e,backIn:tK,backInOut:mFe,backOut:P0e,anticipate:gFe},Gte=e=>{if(Array.isArray(e)){QN(e.length===4);const[t,r,n,i]=e;return h9(t,r,n,i)}else if(typeof e=="string")return QN(Hte[e]!==void 0),Hte[e];return e},yFe=(e,t)=>r=>t(e(r)),qp=(...e)=>e.reduce(yFe),W5=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Wa=(e,t,r)=>e+(t-e)*r;function A$(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function vFe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,c=0;if(!t)i=s=c=r;else{const p=r<.5?r*(1+t):r+t-r*t,o=2*r-p;i=A$(o,p,e+1/3),s=A$(o,p,e),c=A$(o,p,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(c*255),alpha:n}}function _P(e,t){return r=>r>0?t:e}const T$=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},_Fe=[rF,Vg,Ob],bFe=e=>_Fe.find(t=>t.test(e));function qte(e){const t=bFe(e);if(!t)return!1;let r=t.parse(e);return t===Ob&&(r=vFe(r)),r}const Zte=(e,t)=>{const r=qte(e),n=qte(t);if(!r||!n)return _P(e,t);const i={...r};return s=>(i.red=T$(r.red,n.red,s),i.green=T$(r.green,n.green,s),i.blue=T$(r.blue,n.blue,s),i.alpha=Wa(r.alpha,n.alpha,s),Vg.transform(i))},aF=new Set(["none","hidden"]);function xFe(e,t){return aF.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function wFe(e,t){return r=>Wa(e,t,r)}function rK(e){return typeof e=="number"?wFe:typeof e=="string"?qW(e)?_P:Ds.test(e)?Zte:AFe:Array.isArray(e)?C0e:typeof e=="object"?Ds.test(e)?Zte:SFe:_P}function C0e(e,t){const r=[...e],n=r.length,i=e.map((s,c)=>rK(s)(s,t[c]));return s=>{for(let c=0;c<n;c++)r[c]=i[c](s);return r}}function SFe(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=rK(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function EFe(e,t){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const c=t.types[s],p=e.indexes[c][i[c]],o=(r=e.values[p])!==null&&r!==void 0?r:0;n[s]=o,i[c]++}return n}const AFe=(e,t)=>{const r=$1.createTransformer(t),n=U5(e),i=U5(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?aF.has(e)&&!i.values.length||aF.has(t)&&!n.values.length?xFe(e,t):qp(C0e(EFe(n,i),i.values),r):_P(e,t)};function I0e(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Wa(e,t,r):rK(e)(e,t)}function TFe(e,t,r){const n=[],i=r||I0e,s=e.length-1;for(let c=0;c<s;c++){let p=i(e[c],e[c+1]);if(t){const o=Array.isArray(t)?t[c]||Vs:t;p=qp(o,p)}n.push(p)}return n}function PFe(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(QN(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=TFe(t,n,i),p=c.length,o=g=>{let y=0;if(p>1)for(;y<e.length-2&&!(g<e[y+1]);y++);const x=W5(e[y],e[y+1],g);return c[y](x)};return r?g=>o(R1(e[0],e[s-1],g)):o}function CFe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=W5(0,t,n);e.push(Wa(r,1,i))}}function IFe(e){const t=[0];return CFe(t,e.length-1),t}function MFe(e,t){return e.map(r=>r*t)}function kFe(e,t){return e.map(()=>t||S0e).splice(0,e.length-1)}function bP({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=pFe(n)?n.map(Gte):Gte(n),s={done:!1,value:t[0]},c=MFe(r&&r.length===t.length?r:IFe(t),e),p=PFe(c,t,{ease:Array.isArray(i)?i:kFe(t,i)});return{calculatedDuration:e,next:o=>(s.value=p(o),s.done=o>=e,s)}}const Xte=2e4;function OFe(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Xte;)t+=r,n=e.next(t);return t>=Xte?1/0:t}const DFe=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Hi.update(t,!0),stop:()=>fh(t),now:()=>Ho.isProcessing?Ho.timestamp:Gp.now()}},RFe={decay:Kte,inertia:Kte,tween:bP,keyframes:bP,spring:x0e},$Fe=e=>e/100;class BI extends v0e{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:o}=this.options;o&&o()};const{name:r,motionValue:n,element:i,keyframes:s}=this.options,c=(i==null?void 0:i.KeyframeResolver)||XW,p=(o,g)=>this.onKeyframesResolved(o,g);this.resolver=new c(s,p,r,n,i),this.resolver.scheduleResolve()}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:c=0}=this.options,p=RFe[r]||bP;let o,g;p!==bP&&typeof t[0]!="number"&&(o=qp($Fe,I0e(t[0],t[1])),t=[0,100]);const y=p({...this.options,keyframes:t});s==="mirror"&&(g=p({...this.options,keyframes:[...t].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=OFe(y));const{calculatedDuration:x}=y,E=x+i,A=E*(n+1)-i;return{generator:y,mirroredGenerator:g,mapPercentToKeyframes:o,calculatedDuration:x,resolvedDuration:E,totalDuration:A}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:c,mapPercentToKeyframes:p,keyframes:o,calculatedDuration:g,totalDuration:y,resolvedDuration:x}=n;if(this.startTime===null)return s.next(0);const{delay:E,repeat:A,repeatType:M,repeatDelay:R,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-y/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const D=this.currentTime-E*(this.speed>=0?1:-1),$=this.speed>=0?D<0:D>y;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let B=this.currentTime,V=s;if(A){const j=Math.min(this.currentTime,y)/x;let fe=Math.floor(j),be=j%1;!be&&j>=1&&(be=1),be===1&&fe--,fe=Math.min(fe,A+1),!!(fe%2)&&(M==="reverse"?(be=1-be,R&&(be-=R/x)):M==="mirror"&&(V=c)),B=R1(0,1,be)*x}const U=$?{done:!1,value:o[0]}:V.next(B);p&&(U.value=p(U.value));let{done:Z}=U;!$&&g!==null&&(Z=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const ne=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return ne&&i!==void 0&&(U.value=LI(o,this.options,i)),k&&k(U.value),ne&&this.finish(),U}get duration(){const{resolved:t}=this;return t?Hp(t.calculatedDuration):0}get time(){return Hp(this.currentTime)}set time(t){t=Kp(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Hp(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=DFe,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}function LFe(e){return new BI(e)}const M0e=new Set(["opacity","clipPath","filter","transform"]),k0e=e=>Array.isArray(e)&&typeof e[0]=="number";function O0e(e){return!!(!e||typeof e=="string"&&e in nK||k0e(e)||Array.isArray(e)&&e.every(O0e))}const k6=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,nK={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:k6([0,.65,.55,1]),circOut:k6([.55,0,1,.45]),backIn:k6([.31,.01,.66,-.59]),backOut:k6([.33,1.53,.69,.99])};function BFe(e){return D0e(e)||nK.easeOut}function D0e(e){if(e)return k0e(e)?k6(e):Array.isArray(e)?e.map(BFe):nK[e]}function zFe(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:c="loop",ease:p,times:o}={}){const g={[t]:r};o&&(g.offset=o);const y=D0e(p);return Array.isArray(y)&&(g.easing=y),e.animate(g,{delay:n,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:s+1,direction:c==="reverse"?"alternate":"normal"})}const NFe=y0e(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xP=10,FFe=2e4;function jFe(e){return e.type==="spring"||!O0e(e.ease)}function VFe(e,t){const r=new BI({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let s=0;for(;!n.done&&s<FFe;)n=r.sample(s),i.push(n.value),s+=xP;return{times:void 0,keyframes:i,duration:s-xP,ease:"linear"}}class Yte extends v0e{constructor(t){super(t);const{name:r,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new g0e(s,(c,p)=>this.onKeyframesResolved(c,p),r,n,i),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:i=300,times:s,ease:c,type:p,motionValue:o,name:g,startTime:y}=this.options;if(!(!((n=o.owner)===null||n===void 0)&&n.current))return!1;if(jFe(this.options)){const{onComplete:E,onUpdate:A,motionValue:M,element:R,...k}=this.options,D=VFe(t,k);t=D.keyframes,t.length===1&&(t[1]=t[0]),i=D.duration,s=D.times,c=D.ease,p="keyframes"}const x=zFe(o.owner.current,g,t,{...this.options,duration:i,times:s,ease:c});return x.startTime=y??this.calcStartTime(),this.pendingTimeline?(x.timeline=this.pendingTimeline,this.pendingTimeline=void 0):x.onfinish=()=>{const{onComplete:E}=this.options;o.set(LI(t,this.options,r)),E&&E(),this.cancel(),this.resolveFinishedPromise()},{animation:x,duration:i,times:s,type:p,ease:c,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Hp(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Hp(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Kp(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Vs;const{animation:n}=r;n.timeline=t,n.onfinish=null}return Vs}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:i,type:s,ease:c,times:p}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:y,onComplete:x,element:E,...A}=this.options,M=new BI({...A,keyframes:n,duration:i,type:s,ease:c,times:p,isGenerator:!0}),R=Kp(this.time);g.setWithVelocity(M.sample(R-xP).value,M.sample(R).value,xP)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:i,repeatType:s,damping:c,type:p}=t;return NFe()&&n&&M0e.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!i&&s!=="mirror"&&c!==0&&p!=="inertia"}}function UFe(e,t){let r;const n=()=>{const{currentTime:i}=t,c=(i===null?0:i.value)/100;r!==c&&e(c),r=c};return Hi.update(n,!0),()=>fh(n)}const WFe=y0e(()=>window.ScrollTimeline!==void 0);class KFe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,r){return Promise.all(this.animations).then(t).catch(r)}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>{if(WFe()&&n.attachTimeline)n.attachTimeline(t);else return n.pause(),UFe(i=>{n.time=n.duration*i},t)});return()=>{r.forEach((n,i)=>{n&&n(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const iK=(e,t,r,n={},i,s,c)=>p=>{const o=HW(n,e)||{},g=o.delay||n.delay||0;let{elapsed:y=0}=n;y=y-Kp(g);let x={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-y,onUpdate:A=>{t.set(A),o.onUpdate&&o.onUpdate(A)},onComplete:()=>{p(),o.onComplete&&o.onComplete(),c&&c()},onStop:c,name:e,motionValue:t,element:s?void 0:i};pNe(o)||(x={...x,...fNe(e,x)}),x.duration&&(x.duration=Kp(x.duration)),x.repeatDelay&&(x.repeatDelay=Kp(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let E=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(E=!0)),GW.skipAnimations&&(E=!0,x.duration=0,x.delay=0),E&&!s&&t.get()!==void 0){const A=LI(x.keyframes,o);if(A!==void 0)return Hi.update(()=>{x.onUpdate(A),x.onComplete()}),new KFe([])}return!s&&Yte.supports(x)?new Yte(x):new BI(x)},HFe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),GFe=e=>JN(e)?e[e.length-1]||0:e;function zI(e,t){e.indexOf(t)===-1&&e.push(t)}function NI(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class aK{constructor(){this.subscriptions=[]}add(t){return zI(this.subscriptions,t),()=>NI(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const c=this.subscriptions[s];c&&c(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Jte=30,qFe=e=>!isNaN(parseFloat(e));class R0e{constructor(t,r={}){this.version="11.5.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=Gp.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Gp.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=qFe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new aK);const n=this.events[t].add(r);return t==="change"?()=>{n(),Hi.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Gp.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Jte)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Jte);return _0e(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lx(e,t){return new R0e(e,t)}function ZFe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Lx(r))}function XFe(e,t){const r=$I(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const c in s){const p=GFe(s[c]);ZFe(e,c,p)}}const FI=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YFe="framerAppearId",$0e="data-"+FI(YFe);function L0e(e){return e.props[$0e]}function B0e(e){if(Z1.has(e))return"transform";if(M0e.has(e))return FI(e)}class JFe extends R0e{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(t){const r=B0e(t);if(!r)return;const n=this.counts.get(r)||0;this.counts.set(r,n+1),n===0&&(this.output.push(r),this.update());let i=!1;return()=>{if(i)return;i=!0;const s=this.counts.get(r)-1;this.counts.set(r,s),s===0&&(NI(this.output,r),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const es=e=>!!(e&&e.getVelocity);function QFe(e){return!!(es(e)&&e.add)}function oF(e,t){var r;if(!e.applyWillChange)return;let n=e.getValue("willChange");if(!n&&!(!((r=e.props.style)===null||r===void 0)&&r.willChange)&&(n=new JFe("auto"),e.addValue("willChange",n)),QFe(n))return n.add(t)}function eje({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function z0e(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:c=e.getDefaultTransition(),transitionEnd:p,...o}=t;n&&(c=n);const g=[],y=i&&e.animationState&&e.animationState.getState()[i];for(const x in o){const E=e.getValue(x,(s=e.latestValues[x])!==null&&s!==void 0?s:null),A=o[x];if(A===void 0||y&&eje(y,x))continue;const M={delay:r,...HW(c||{},x)};let R=!1;if(window.MotionHandoffAnimation){const D=L0e(e);if(D){const $=window.MotionHandoffAnimation(D,x,Hi);$!==null&&(M.startTime=$,R=!0)}}E.start(iK(x,E,A,e.shouldReduceMotion&&Z1.has(x)?{type:!1}:M,e,R,oF(e,x)));const k=E.animation;k&&g.push(k)}return p&&Promise.all(g).then(()=>{Hi.update(()=>{p&&XFe(e,p)})}),g}function sF(e,t,r={}){var n;const i=$I(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const c=i?()=>Promise.all(z0e(e,i,r)):()=>Promise.resolve(),p=e.variantChildren&&e.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:x,staggerDirection:E}=s;return tje(e,t,y+g,x,E,r)}:()=>Promise.resolve(),{when:o}=s;if(o){const[g,y]=o==="beforeChildren"?[c,p]:[p,c];return g().then(()=>y())}else return Promise.all([c(),p(r.delay)])}function tje(e,t,r=0,n=0,i=1,s){const c=[],p=(e.variantChildren.size-1)*n,o=i===1?(g=0)=>g*n:(g=0)=>p-g*n;return Array.from(e.variantChildren).sort(rje).forEach((g,y)=>{g.notify("AnimationStart",t),c.push(sF(g,t,{...s,delay:r+o(y)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(c)}function rje(e,t){return e.sortNodePosition(t)}function nje(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>sF(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=sF(e,t,r);else{const i=typeof t=="function"?$I(e,t,r.custom):t;n=Promise.all(z0e(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const ije=[...WW].reverse(),aje=WW.length;function oje(e){return t=>Promise.all(t.map(({animation:r,options:n})=>nje(e,r,n)))}function sje(e){let t=oje(e),r=Qte(),n=!0;const i=o=>(g,y)=>{var x;const E=$I(e,y,o==="exit"?(x=e.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(E){const{transition:A,transitionEnd:M,...R}=E;g={...g,...R,...M}}return g};function s(o){t=o(e)}function c(o){const g=e.getProps(),y=e.getVariantContext(!0)||{},x=[],E=new Set;let A={},M=1/0;for(let k=0;k<aje;k++){const D=ije[k],$=r[D],B=g[D]!==void 0?g[D]:y[D],V=V5(B),U=D===o?$.isActive:null;U===!1&&(M=k);let Z=B===y[D]&&B!==g[D]&&V;if(Z&&n&&e.manuallyAnimateOnMount&&(Z=!1),$.protectedKeys={...A},!$.isActive&&U===null||!B&&!$.prevProp||j5(B)||typeof B=="boolean")continue;let j=lje($.prevProp,B)||D===o&&$.isActive&&!Z&&V||k>M&&V,fe=!1;const be=Array.isArray(B)?B:[B];let pe=be.reduce(i(D),{});U===!1&&(pe={});const{prevResolvedValues:le={}}=$,G={...le,...pe},N=Y=>{j=!0,E.has(Y)&&(fe=!0,E.delete(Y)),$.needsAnimating[Y]=!0;const te=e.getValue(Y);te&&(te.liveStyle=!1)};for(const Y in G){const te=pe[Y],re=le[Y];if(A.hasOwnProperty(Y))continue;let he=!1;JN(te)&&JN(re)?he=!Q1e(te,re):he=te!==re,he?te!=null?N(Y):E.add(Y):te!==void 0&&E.has(Y)?N(Y):$.protectedKeys[Y]=!0}$.prevProp=B,$.prevResolvedValues=pe,$.isActive&&(A={...A,...pe}),n&&e.blockInitialAnimation&&(j=!1),j&&(!Z||fe)&&x.push(...be.map(Y=>({animation:Y,options:{type:D}})))}if(E.size){const k={};E.forEach(D=>{const $=e.getBaseTarget(D),B=e.getValue(D);B&&(B.liveStyle=!0),k[D]=$??null}),x.push({animation:k})}let R=!!x.length;return n&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(R=!1),n=!1,R?t(x):Promise.resolve()}function p(o,g){var y;if(r[o].isActive===g)return Promise.resolve();(y=e.variantChildren)===null||y===void 0||y.forEach(E=>{var A;return(A=E.animationState)===null||A===void 0?void 0:A.setActive(o,g)}),r[o].isActive=g;const x=c(o);for(const E in r)r[E].protectedKeys={};return x}return{animateChanges:c,setActive:p,setAnimateFunction:s,getState:()=>r,reset:()=>{r=Qte(),n=!0}}}function lje(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Q1e(t,e):!1}function pg(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qte(){return{animate:pg(!0),whileInView:pg(),whileHover:pg(),whileTap:pg(),whileDrag:pg(),whileFocus:pg(),exit:pg()}}class X1{constructor(t){this.isMounted=!1,this.node=t}update(){}}class uje extends X1{constructor(t){super(t),t.animationState||(t.animationState=sje(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();j5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let cje=0;class dje extends X1{constructor(){super(...arguments),this.id=cje++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const N0e={animation:{Feature:uje},exit:{Feature:dje}},F0e=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function jI(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const fje=e=>t=>F0e(t)&&e(t,jI(t));function Op(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Zp(e,t,r,n){return Op(e,t,fje(r),n)}const ere=(e,t)=>Math.abs(e-t);function pje(e,t){const r=ere(e.x,t.x),n=ere(e.y,t.y);return Math.sqrt(r**2+n**2)}class j0e{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=C$(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=pje(x.offset,{x:0,y:0})>=3;if(!E&&!A)return;const{point:M}=x,{timestamp:R}=Ho;this.history.push({...M,timestamp:R});const{onStart:k,onMove:D}=this.handlers;E||(k&&k(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,x)},this.handlePointerMove=(x,E)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=P$(E,this.transformPagePoint),Hi.update(this.updatePoint,!0)},this.handlePointerUp=(x,E)=>{this.end();const{onEnd:A,onSessionEnd:M,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=C$(x.type==="pointercancel"?this.lastMoveEventInfo:P$(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(x,k),M&&M(x,k)},!F0e(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const c=jI(t),p=P$(c,this.transformPagePoint),{point:o}=p,{timestamp:g}=Ho;this.history=[{...o,timestamp:g}];const{onSessionStart:y}=r;y&&y(t,C$(p,this.history)),this.removeListeners=qp(Zp(this.contextWindow,"pointermove",this.handlePointerMove),Zp(this.contextWindow,"pointerup",this.handlePointerUp),Zp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fh(this.updatePoint)}}function P$(e,t){return t?{point:t(e.point)}:e}function tre(e,t){return{x:e.x-t.x,y:e.y-t.y}}function C$({point:e},t){return{point:e,delta:tre(e,V0e(t)),offset:tre(e,hje(t)),velocity:mje(t,.1)}}function hje(e){return e[0]}function V0e(e){return e[e.length-1]}function mje(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=V0e(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Kp(t)));)r--;if(!n)return{x:0,y:0};const s=Hp(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const c={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function U0e(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const rre=U0e("dragHorizontal"),nre=U0e("dragVertical");function W0e(e){let t=!1;if(e==="y")t=nre();else if(e==="x")t=rre();else{const r=rre(),n=nre();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function K0e(){const e=W0e(!0);return e?(e(),!1):!0}function Db(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const H0e=1e-4,gje=1-H0e,yje=1+H0e,G0e=.01,vje=0-G0e,_je=0+G0e;function wu(e){return e.max-e.min}function bje(e,t,r){return Math.abs(e-t)<=r}function ire(e,t,r,n=.5){e.origin=n,e.originPoint=Wa(t.min,t.max,e.origin),e.scale=wu(r)/wu(t),e.translate=Wa(r.min,r.max,e.origin)-e.originPoint,(e.scale>=gje&&e.scale<=yje||isNaN(e.scale))&&(e.scale=1),(e.translate>=vje&&e.translate<=_je||isNaN(e.translate))&&(e.translate=0)}function e5(e,t,r,n){ire(e.x,t.x,r.x,n?n.originX:void 0),ire(e.y,t.y,r.y,n?n.originY:void 0)}function are(e,t,r){e.min=r.min+t.min,e.max=e.min+wu(t)}function xje(e,t,r){are(e.x,t.x,r.x),are(e.y,t.y,r.y)}function ore(e,t,r){e.min=t.min-r.min,e.max=e.min+wu(t)}function t5(e,t,r){ore(e.x,t.x,r.x),ore(e.y,t.y,r.y)}function wje(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Wa(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Wa(r,e,n.max):Math.min(e,r)),e}function sre(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Sje(e,{top:t,left:r,bottom:n,right:i}){return{x:sre(e.x,r,i),y:sre(e.y,t,n)}}function lre(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Eje(e,t){return{x:lre(e.x,t.x),y:lre(e.y,t.y)}}function Aje(e,t){let r=.5;const n=wu(e),i=wu(t);return i>n?r=W5(t.min,t.max-n,e.min):n>i&&(r=W5(e.min,e.max-i,t.min)),R1(0,1,r)}function Tje(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const lF=.35;function Pje(e=lF){return e===!1?e=0:e===!0&&(e=lF),{x:ure(e,"left","right"),y:ure(e,"top","bottom")}}function ure(e,t,r){return{min:cre(e,t),max:cre(e,r)}}function cre(e,t){return typeof e=="number"?e:e[t]||0}const dre=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rb=()=>({x:dre(),y:dre()}),fre=()=>({min:0,max:0}),ao=()=>({x:fre(),y:fre()});function Xu(e){return[e("x"),e("y")]}function q0e({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Cje({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ije(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function I$(e){return e===void 0||e===1}function uF({scale:e,scaleX:t,scaleY:r}){return!I$(e)||!I$(t)||!I$(r)}function Sg(e){return uF(e)||Z0e(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Z0e(e){return pre(e.x)||pre(e.y)}function pre(e){return e&&e!=="0%"}function wP(e,t,r){const n=e-r,i=t*n;return r+i}function hre(e,t,r,n,i){return i!==void 0&&(e=wP(e,i,n)),wP(e,r,n)+t}function cF(e,t=0,r=1,n,i){e.min=hre(e.min,t,r,n,i),e.max=hre(e.max,t,r,n,i)}function X0e(e,{x:t,y:r}){cF(e.x,t.translate,t.scale,t.originPoint),cF(e.y,r.translate,r.scale,r.originPoint)}const mre=.999999999999,gre=1.0000000000001;function Mje(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,c;for(let p=0;p<i;p++){s=r[p],c=s.projectionDelta;const{visualElement:o}=s.options;o&&o.props.style&&o.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Lb(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,X0e(e,c)),n&&Sg(s.latestValues)&&Lb(e,s.latestValues))}t.x<gre&&t.x>mre&&(t.x=1),t.y<gre&&t.y>mre&&(t.y=1)}function $b(e,t){e.min=e.min+t,e.max=e.max+t}function yre(e,t,r,n,i=.5){const s=Wa(e.min,e.max,i);cF(e,t,r,s,n)}function Lb(e,t){yre(e.x,t.x,t.scaleX,t.scale,t.originX),yre(e.y,t.y,t.scaleY,t.scale,t.originY)}function Y0e(e,t){return q0e(Ije(e.getBoundingClientRect(),t))}function kje(e,t,r){const n=Y0e(e,r),{scroll:i}=t;return i&&($b(n.x,i.offset.x),$b(n.y,i.offset.y)),n}const J0e=({current:e})=>e?e.ownerDocument.defaultView:null,Oje=new WeakMap;class Dje{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ao(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(jI(y,"page").point)},s=(y,x)=>{var E;const{drag:A,dragPropagation:M,onDragStart:R}=this.getProps();if(A&&!M&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=W0e(A),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xu(D=>{let $=this.getAxisMotionValue(D).get()||0;if(mf.test($)){const{projection:B}=this.visualElement;if(B&&B.layout){const V=B.layout.layoutBox[D];V&&($=wu(V)*(parseFloat($)/100))}}this.originPoint[D]=$}),R&&Hi.postRender(()=>R(y,x)),(E=this.removeWillChange)===null||E===void 0||E.call(this),this.removeWillChange=oF(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},c=(y,x)=>{const{dragPropagation:E,dragDirectionLock:A,onDirectionLock:M,onDrag:R}=this.getProps();if(!E&&!this.openGlobalLock)return;const{offset:k}=x;if(A&&this.currentDirection===null){this.currentDirection=Rje(k),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",x.point,k),this.updateAxis("y",x.point,k),this.visualElement.render(),R&&R(y,x)},p=(y,x)=>this.stop(y,x),o=()=>Xu(y=>{var x;return this.getAnimationState(y)==="paused"&&((x=this.getAxisMotionValue(y).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new j0e(t,{onSessionStart:i,onStart:s,onMove:c,onSessionEnd:p,resumeAnimation:o},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:J0e(this.visualElement)})}stop(t,r){var n;(n=this.removeWillChange)===null||n===void 0||n.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:c}=this.getProps();c&&Hi.postRender(()=>c(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!jE(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=wje(c,this.constraints[t],this.elastic[t])),s.set(c)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;r&&Db(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=Sje(i.layoutBox,r):this.constraints=!1,this.elastic=Pje(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Xu(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Tje(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Db(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=kje(n,i.root,this.visualElement.getTransformPagePoint());let c=Eje(i.layout.layoutBox,s);if(r){const p=r(Cje(c));this.hasMutatedConstraints=!!p,p&&(c=q0e(p))}return c}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:c,onDragTransitionEnd:p}=this.getProps(),o=this.constraints||{},g=Xu(y=>{if(!jE(y,r,this.currentDirection))return;let x=o&&o[y]||{};c&&(x={min:0,max:0});const E=i?200:1e6,A=i?40:1e7,M={type:"inertia",velocity:n?t[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...s,...x};return this.startAxisValueAnimation(y,M)});return Promise.all(g).then(p)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(iK(t,n,0,r,this.visualElement,!1,oF(this.visualElement,t)))}stopAnimation(){Xu(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xu(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Xu(r=>{const{drag:n}=this.getProps();if(!jE(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:c,max:p}=i.layout.layoutBox[r];s.set(t[r]-Wa(c,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Db(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xu(c=>{const p=this.getAxisMotionValue(c);if(p&&this.constraints!==!1){const o=p.get();i[c]=Aje({min:o,max:o},this.constraints[c])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Xu(c=>{if(!jE(c,t,null))return;const p=this.getAxisMotionValue(c),{min:o,max:g}=this.constraints[c];p.set(Wa(o,g,i[c]))})}addListeners(){if(!this.visualElement.current)return;Oje.set(this.visualElement,this);const t=this.visualElement.current,r=Zp(t,"pointerdown",o=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(o)}),n=()=>{const{dragConstraints:o}=this.getProps();Db(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Hi.read(n);const c=Op(window,"resize",()=>this.scalePositionWithinConstraints()),p=i.addEventListener("didUpdate",({delta:o,hasLayoutChanged:g})=>{this.isDragging&&g&&(Xu(y=>{const x=this.getAxisMotionValue(y);x&&(this.originPoint[y]+=o[y].translate,x.set(x.get()+o[y].translate))}),this.visualElement.render())});return()=>{c(),r(),s(),p&&p()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:c=lF,dragMomentum:p=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:c,dragMomentum:p}}}function jE(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Rje(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class $je extends X1{constructor(t){super(t),this.removeGroupControls=Vs,this.removeListeners=Vs,this.controls=new Dje(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const vre=e=>(t,r)=>{e&&Hi.postRender(()=>e(t,r))};class Lje extends X1{constructor(){super(...arguments),this.removePointerDownListener=Vs}onPointerDown(t){this.session=new j0e(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:J0e(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:vre(t),onStart:vre(r),onMove:n,onEnd:(s,c)=>{delete this.session,i&&Hi.postRender(()=>i(s,c))}}}mount(){this.removePointerDownListener=Zp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const VI=se.createContext(null);function Bje(){const e=se.useContext(VI);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,i=se.useId();se.useEffect(()=>n(i),[]);const s=se.useCallback(()=>r&&r(i),[i,r]);return!t&&r?[!1,s]:[!0]}const oK=se.createContext({}),Q0e=se.createContext({}),fT={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _re(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const x2={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(kn.test(e))e=parseFloat(e);else return e;const r=_re(e,t.target.x),n=_re(e,t.target.y);return`${r}% ${n}%`}},zje={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=$1.parse(e);if(i.length>5)return n;const s=$1.createTransformer(e),c=typeof i[0]!="number"?1:0,p=r.x.scale*t.x,o=r.y.scale*t.y;i[0+c]/=p,i[1+c]/=o;const g=Wa(p,o,.5);return typeof i[2+c]=="number"&&(i[2+c]/=g),typeof i[3+c]=="number"&&(i[3+c]/=g),s(i)}},SP={};function Nje(e){Object.assign(SP,e)}const{schedule:sK,cancel:xMt}=e0e(queueMicrotask,!1);class Fje extends se.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;Nje(jje),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),fT.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,c=n.projection;return c&&(c.isPresent=s,i||t.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?c.promote():c.relegate()||Hi.postRender(()=>{const p=c.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),sK.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ege(e){const[t,r]=Bje(),n=se.useContext(oK);return H.jsx(Fje,{...e,layoutGroup:n,switchLayoutGroup:se.useContext(Q0e),isPresent:t,safeToRemove:r})}const jje={borderRadius:{...x2,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:x2,borderTopRightRadius:x2,borderBottomLeftRadius:x2,borderBottomRightRadius:x2,boxShadow:zje},tge=["TopLeft","TopRight","BottomLeft","BottomRight"],Vje=tge.length,bre=e=>typeof e=="string"?parseFloat(e):e,xre=e=>typeof e=="number"||kn.test(e);function Uje(e,t,r,n,i,s){i?(e.opacity=Wa(0,r.opacity!==void 0?r.opacity:1,Wje(n)),e.opacityExit=Wa(t.opacity!==void 0?t.opacity:1,0,Kje(n))):s&&(e.opacity=Wa(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let c=0;c<Vje;c++){const p=`border${tge[c]}Radius`;let o=wre(t,p),g=wre(r,p);if(o===void 0&&g===void 0)continue;o||(o=0),g||(g=0),o===0||g===0||xre(o)===xre(g)?(e[p]=Math.max(Wa(bre(o),bre(g),n),0),(mf.test(g)||mf.test(o))&&(e[p]+="%")):e[p]=g}(t.rotate||r.rotate)&&(e.rotate=Wa(t.rotate||0,r.rotate||0,n))}function wre(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Wje=rge(0,.5,T0e),Kje=rge(.5,.95,Vs);function rge(e,t,r){return n=>n<e?0:n>t?1:r(W5(e,t,n))}function Sre(e,t){e.min=t.min,e.max=t.max}function Uu(e,t){Sre(e.x,t.x),Sre(e.y,t.y)}function Ere(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Are(e,t,r,n,i){return e-=t,e=wP(e,1/r,n),i!==void 0&&(e=wP(e,1/i,n)),e}function Hje(e,t=0,r=1,n=.5,i,s=e,c=e){if(mf.test(t)&&(t=parseFloat(t),t=Wa(c.min,c.max,t/100)-c.min),typeof t!="number")return;let p=Wa(s.min,s.max,n);e===s&&(p-=t),e.min=Are(e.min,t,r,p,i),e.max=Are(e.max,t,r,p,i)}function Tre(e,t,[r,n,i],s,c){Hje(e,t[r],t[n],t[i],t.scale,s,c)}const Gje=["x","scaleX","originX"],qje=["y","scaleY","originY"];function Pre(e,t,r,n){Tre(e.x,t,Gje,r?r.x:void 0,n?n.x:void 0),Tre(e.y,t,qje,r?r.y:void 0,n?n.y:void 0)}function Cre(e){return e.translate===0&&e.scale===1}function nge(e){return Cre(e.x)&&Cre(e.y)}function Ire(e,t){return e.min===t.min&&e.max===t.max}function Zje(e,t){return Ire(e.x,t.x)&&Ire(e.y,t.y)}function Mre(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ige(e,t){return Mre(e.x,t.x)&&Mre(e.y,t.y)}function kre(e){return wu(e.x)/wu(e.y)}function Ore(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Xje{constructor(){this.members=[]}add(t){zI(this.members,t),t.scheduleRender()}remove(t){if(NI(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yje(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,c=(r==null?void 0:r.z)||0;if((i||s||c)&&(n=`translate3d(${i}px, ${s}px, ${c}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:g,rotate:y,rotateX:x,rotateY:E,skewX:A,skewY:M}=r;g&&(n=`perspective(${g}px) ${n}`),y&&(n+=`rotate(${y}deg) `),x&&(n+=`rotateX(${x}deg) `),E&&(n+=`rotateY(${E}deg) `),A&&(n+=`skewX(${A}deg) `),M&&(n+=`skewY(${M}deg) `)}const p=e.x.scale*t.x,o=e.y.scale*t.y;return(p!==1||o!==1)&&(n+=`scale(${p}, ${o})`),n||"none"}const Jje=(e,t)=>e.depth-t.depth;class Qje{constructor(){this.children=[],this.isDirty=!1}add(t){zI(this.children,t),this.isDirty=!0}remove(t){NI(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Jje),this.isDirty=!1,this.children.forEach(t)}}function pT(e){const t=es(e)?e.get():e;return HFe(t)?t.toValue():t}function eVe(e,t){const r=Gp.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(fh(n),e(s-t))};return Hi.read(n,!0),()=>fh(n)}function tVe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function rVe(e,t,r){const n=es(e)?e:Lx(e);return n.start(iK("",n,t,r)),n.animation}const Eg={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},O6=typeof window<"u"&&window.MotionDebug!==void 0,M$=["","X","Y","Z"],nVe={visibility:"hidden"},Dre=1e3;let iVe=0;function k$(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function age(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=L0e(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Hi,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&age(n)}function oge({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(c={},p=t==null?void 0:t()){this.id=iVe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,O6&&(Eg.totalNodes=Eg.resolvedTargetDeltas=Eg.recalculatedProjection=0),this.nodes.forEach(sVe),this.nodes.forEach(fVe),this.nodes.forEach(pVe),this.nodes.forEach(lVe),O6&&window.MotionDebug.record(Eg)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new Qje)}addEventListener(c,p){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new aK),this.eventHandlers.get(c).add(p)}notifyListeners(c,...p){const o=this.eventHandlers.get(c);o&&o.notify(...p)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,p=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tVe(c),this.instance=c;const{layoutId:o,layout:g,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),p&&(g||o)&&(this.isLayoutDirty=!0),e){let x;const E=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=eVe(E,250),fT.hasAnimatedSinceResize&&(fT.hasAnimatedSinceResize=!1,this.nodes.forEach($re))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&y&&(o||g)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:E,hasRelativeTargetChanged:A,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||y.getDefaultTransition()||vVe,{onLayoutAnimationStart:k,onLayoutAnimationComplete:D}=y.getProps(),$=!this.targetLayout||!ige(this.targetLayout,M)||A,B=!E&&A;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||B||E&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,B);const V={...HW(R,"layout"),onPlay:k,onComplete:D};(y.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V)}else E||$re(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hVe),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&age(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const x=this.path[y];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:p,layout:o}=this.options;if(p===void 0&&!o)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rre);return}this.isUpdating||this.nodes.forEach(cVe),this.isUpdating=!1,this.nodes.forEach(dVe),this.nodes.forEach(aVe),this.nodes.forEach(oVe),this.clearAllSnapshots();const p=Gp.now();Ho.delta=R1(0,1e3/60,p-Ho.timestamp),Ho.timestamp=p,Ho.isProcessing=!0,w$.update.process(Ho),w$.preRender.process(Ho),w$.render.process(Ho),Ho.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sK.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uVe),this.sharedNodes.forEach(mVe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Hi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Hi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ao(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(p=!1),p){const o=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:o,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!nge(this.projectionDelta),o=this.getTransformTemplate(),g=o?o(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&(p||Sg(this.latestValues)||y)&&(i(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const p=this.measurePageBox();let o=this.removeElementScroll(p);return c&&(o=this.removeTransform(o)),_Ve(o),{animationId:this.root.animationId,measuredBox:p,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:p}=this.options;if(!p)return ao();const o=p.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(bVe))){const{scroll:y}=this.root;y&&($b(o.x,y.offset.x),$b(o.y,y.offset.y))}return o}removeElementScroll(c){var p;const o=ao();if(Uu(o,c),!((p=this.scroll)===null||p===void 0)&&p.wasRoot)return o;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:x,options:E}=y;y!==this.root&&x&&E.layoutScroll&&(x.wasRoot&&Uu(o,c),$b(o.x,x.offset.x),$b(o.y,x.offset.y))}return o}applyTransform(c,p=!1){const o=ao();Uu(o,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!p&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Lb(o,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Sg(y.latestValues)&&Lb(o,y.latestValues)}return Sg(this.latestValues)&&Lb(o,this.latestValues),o}removeTransform(c){const p=ao();Uu(p,c);for(let o=0;o<this.path.length;o++){const g=this.path[o];if(!g.instance||!Sg(g.latestValues))continue;uF(g.latestValues)&&g.updateSnapshot();const y=ao(),x=g.measurePageBox();Uu(y,x),Pre(p,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Sg(this.latestValues)&&Pre(p,this.latestValues),p}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ho.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var p;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==o;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:E}=this.options;if(!(!this.layout||!(x||E))){if(this.resolvedRelativeTargetAt=Ho.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ao(),this.relativeTargetOrigin=ao(),t5(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Uu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ao(),this.targetWithTransforms=ao()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xje(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Uu(this.target,this.layout.layoutBox),X0e(this.target,this.targetDelta)):Uu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ao(),this.relativeTargetOrigin=ao(),t5(this.relativeTargetOrigin,this.target,A.target),Uu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}O6&&Eg.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||uF(this.parent.latestValues)||Z0e(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const p=this.getLead(),o=!!this.resumingFrom||this!==p;let g=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(g=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Ho.timestamp&&(g=!1),g)return;const{layout:y,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||x))return;Uu(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;Mje(this.layoutCorrected,this.treeScale,this.path,o),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox,p.targetWithTransforms=ao());const{target:M}=p;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ere(this.prevProjectionDelta.x,this.projectionDelta.x),Ere(this.prevProjectionDelta.y,this.projectionDelta.y)),e5(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!Ore(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ore(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M)),O6&&Eg.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var p;if((p=this.options.visualElement)===null||p===void 0||p.scheduleRender(),c){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rb(),this.projectionDelta=Rb(),this.projectionDeltaWithTransform=Rb()}setAnimationOrigin(c,p=!1){const o=this.snapshot,g=o?o.latestValues:{},y={...this.latestValues},x=Rb();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const E=ao(),A=o?o.source:void 0,M=this.layout?this.layout.source:void 0,R=A!==M,k=this.getStack(),D=!k||k.members.length<=1,$=!!(R&&!D&&this.options.crossfade===!0&&!this.path.some(yVe));this.animationProgress=0;let B;this.mixTargetDelta=V=>{const U=V/1e3;Lre(x.x,c.x,U),Lre(x.y,c.y,U),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(t5(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gVe(this.relativeTarget,this.relativeTargetOrigin,E,U),B&&Zje(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=ao()),Uu(B,this.relativeTarget)),R&&(this.animationValues=y,Uje(y,g,this.latestValues,U,$,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hi.update(()=>{fT.hasAnimatedSinceResize=!0,this.currentAnimation=rVe(0,Dre,{...c,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Dre),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:p,target:o,layout:g,latestValues:y}=c;if(!(!p||!o||!g)){if(this!==c&&this.layout&&g&&sge(this.options.animationType,this.layout.layoutBox,g.layoutBox)){o=this.target||ao();const x=wu(this.layout.layoutBox.x);o.x.min=c.target.x.min,o.x.max=o.x.min+x;const E=wu(this.layout.layoutBox.y);o.y.min=c.target.y.min,o.y.max=o.y.min+E}Uu(p,o),Lb(p,y),e5(this.projectionDeltaWithTransform,this.layoutCorrected,p,y)}}registerSharedNode(c,p){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Xje),this.sharedNodes.get(c).add(p);const g=p.options.initialPromotionConfig;p.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(p):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:p}=this.options;return p?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:p}=this.options;return p?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:p,preserveFollowOpacity:o}={}){const g=this.getStack();g&&g.promote(this,o),c&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let p=!1;const{latestValues:o}=c;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(p=!0),!p)return;const g={};o.z&&k$("z",c,g,this.animationValues);for(let y=0;y<M$.length;y++)k$(`rotate${M$[y]}`,c,g,this.animationValues),k$(`skew${M$[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}getProjectionStyles(c){var p,o;if(!this.instance||this.isSVG)return;if(!this.isVisible)return nVe;const g={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=pT(c==null?void 0:c.pointerEvents)||"",g.transform=y?y(this.latestValues,""):"none",g;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=pT(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Sg(this.latestValues)&&(R.transform=y?y({},""):"none",this.hasProjected=!1),R}const E=x.animationValues||x.latestValues;this.applyTransformsToTarget(),g.transform=Yje(this.projectionDeltaWithTransform,this.treeScale,E),y&&(g.transform=y(E,g.transform));const{x:A,y:M}=this.projectionDelta;g.transformOrigin=`${A.origin*100}% ${M.origin*100}% 0`,x.animationValues?g.opacity=x===this?(o=(p=E.opacity)!==null&&p!==void 0?p:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:g.opacity=x===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const R in SP){if(E[R]===void 0)continue;const{correct:k,applyTo:D}=SP[R],$=g.transform==="none"?E[R]:k(E[R],x);if(D){const B=D.length;for(let V=0;V<B;V++)g[D[V]]=$}else g[R]=$}return this.options.layoutId&&(g.pointerEvents=x===this?pT(c==null?void 0:c.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var p;return(p=c.currentAnimation)===null||p===void 0?void 0:p.stop()}),this.root.nodes.forEach(Rre),this.root.sharedNodes.clear()}}}function aVe(e){e.updateLayout()}function oVe(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,c=r.source!==e.layout.source;s==="size"?Xu(x=>{const E=c?r.measuredBox[x]:r.layoutBox[x],A=wu(E);E.min=n[x].min,E.max=E.min+A}):sge(s,r.layoutBox,n)&&Xu(x=>{const E=c?r.measuredBox[x]:r.layoutBox[x],A=wu(n[x]);E.max=E.min+A,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+A)});const p=Rb();e5(p,n,r.layoutBox);const o=Rb();c?e5(o,e.applyTransform(i,!0),r.measuredBox):e5(o,n,r.layoutBox);const g=!nge(p);let y=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:E,layout:A}=x;if(E&&A){const M=ao();t5(M,r.layoutBox,E.layoutBox);const R=ao();t5(R,n,A.layoutBox),ige(M,R)||(y=!0),x.options.layoutRoot&&(e.relativeTarget=R,e.relativeTargetOrigin=M,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:o,layoutDelta:p,hasLayoutChanged:g,hasRelativeTargetChanged:y})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function sVe(e){O6&&Eg.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function lVe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uVe(e){e.clearSnapshot()}function Rre(e){e.clearMeasurements()}function cVe(e){e.isLayoutDirty=!1}function dVe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $re(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function fVe(e){e.resolveTargetDelta()}function pVe(e){e.calcProjection()}function hVe(e){e.resetSkewAndRotation()}function mVe(e){e.removeLeadSnapshot()}function Lre(e,t,r){e.translate=Wa(t.translate,0,r),e.scale=Wa(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Bre(e,t,r,n){e.min=Wa(t.min,r.min,n),e.max=Wa(t.max,r.max,n)}function gVe(e,t,r,n){Bre(e.x,t.x,r.x,n),Bre(e.y,t.y,r.y,n)}function yVe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const vVe={duration:.45,ease:[.4,0,.1,1]},zre=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Nre=zre("applewebkit/")&&!zre("chrome/")?Math.round:Vs;function Fre(e){e.min=Nre(e.min),e.max=Nre(e.max)}function _Ve(e){Fre(e.x),Fre(e.y)}function sge(e,t,r){return e==="position"||e==="preserve-aspect"&&!bje(kre(t),kre(r),.2)}function bVe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const xVe=oge({attachResizeListener:(e,t)=>Op(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),O$={current:void 0},lge=oge({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!O$.current){const e=new xVe({});e.mount(window),e.setOptions({layoutScroll:!0}),O$.current=e}return O$.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),wVe={pan:{Feature:Lje},drag:{Feature:$je,ProjectionNode:lge,MeasureLayout:ege}};function jre(e,t){const r=t?"pointerenter":"pointerleave",n=t?"onHoverStart":"onHoverEnd",i=(s,c)=>{if(s.pointerType==="touch"||K0e())return;const p=e.getProps();e.animationState&&p.whileHover&&e.animationState.setActive("whileHover",t);const o=p[n];o&&Hi.postRender(()=>o(s,c))};return Zp(e.current,r,i,{passive:!e.getProps()[n]})}class SVe extends X1{mount(){this.unmount=qp(jre(this.node,!0),jre(this.node,!1))}unmount(){}}class EVe extends X1{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qp(Op(this.node.current,"focus",()=>this.onFocus()),Op(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const uge=(e,t)=>t?e===t?!0:uge(e,t.parentElement):!1;function D$(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,jI(r))}class AVe extends X1{constructor(){super(...arguments),this.removeStartListeners=Vs,this.removeEndListeners=Vs,this.removeAccessibleListeners=Vs,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),s=Zp(window,"pointerup",(p,o)=>{if(!this.checkPressEnd())return;const{onTap:g,onTapCancel:y,globalTapTarget:x}=this.node.getProps(),E=!x&&!uge(this.node.current,p.target)?y:g;E&&Hi.update(()=>E(p,o))},{passive:!(n.onTap||n.onPointerUp)}),c=Zp(window,"pointercancel",(p,o)=>this.cancelPress(p,o),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=qp(s,c),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const c=p=>{p.key!=="Enter"||!this.checkPressEnd()||D$("up",(o,g)=>{const{onTap:y}=this.node.getProps();y&&Hi.postRender(()=>y(o,g))})};this.removeEndListeners(),this.removeEndListeners=Op(this.node.current,"keyup",c),D$("down",(p,o)=>{this.startPress(p,o)})},r=Op(this.node.current,"keydown",t),n=()=>{this.isPressing&&D$("cancel",(s,c)=>this.cancelPress(s,c))},i=Op(this.node.current,"blur",n);this.removeAccessibleListeners=qp(r,i)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Hi.postRender(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!K0e()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Hi.postRender(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Zp(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Op(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=qp(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const dF=new WeakMap,R$=new WeakMap,TVe=e=>{const t=dF.get(e.target);t&&t(e)},PVe=e=>{e.forEach(TVe)};function CVe({root:e,...t}){const r=e||document;R$.has(r)||R$.set(r,{});const n=R$.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(PVe,{root:e,...t})),n[i]}function IVe(e,t,r){const n=CVe(t);return dF.set(e,r),n.observe(e),()=>{dF.delete(e),n.unobserve(e)}}const MVe={some:0,all:1};class kVe extends X1{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:MVe[i]},p=o=>{const{isIntersecting:g}=o;if(this.isInView===g||(this.isInView=g,s&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:x}=this.node.getProps(),E=g?y:x;E&&E(o)};return IVe(this.node.current,c,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(OVe(t,r))&&this.startObserver()}unmount(){}}function OVe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const cge={inView:{Feature:kVe},tap:{Feature:AVe},focus:{Feature:EVe},hover:{Feature:SVe}},DVe={layout:{ProjectionNode:lge,MeasureLayout:ege}},m9=se.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),UI=se.createContext({}),lK=typeof window<"u",uK=lK?se.useLayoutEffect:se.useEffect,cK=se.createContext({strict:!1});let Vre=!1;function RVe(e,t,r,n,i){var s;const{visualElement:c}=se.useContext(UI),p=se.useContext(cK),o=se.useContext(VI),g=se.useContext(m9).reducedMotion,y=se.useRef();n=n||p.renderer,!y.current&&n&&(y.current=n(e,{visualState:t,parent:c,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:g}));const x=y.current,E=se.useContext(Q0e);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&LVe(y.current,r,i,E),se.useInsertionEffect(()=>{x&&x.update(r,o)});const A=r[$0e],M=se.useRef(!!A&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,A)));return uK(()=>{x&&(x.updateFeatures(),sK.render(x.render),M.current&&x.animationState&&x.animationState.animateChanges())}),se.useEffect(()=>{x&&(!M.current&&x.animationState&&x.animationState.animateChanges(),M.current=!1,Vre||(Vre=!0,queueMicrotask($Ve)))}),x}function $Ve(){window.MotionHandoffIsComplete=!0}function LVe(e,t,r,n){const{layoutId:i,layout:s,drag:c,dragConstraints:p,layoutScroll:o,layoutRoot:g}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:dge(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!c||p&&Db(p),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:o,layoutRoot:g})}function dge(e){if(e)return e.options.allowProjection!==!1?e.projection:dge(e.parent)}function BVe(e,t,r){return se.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Db(r)&&(r.current=n))},[t])}function WI(e){return j5(e.animate)||KW.some(t=>V5(e[t]))}function fge(e){return!!(WI(e)||e.variants)}function zVe(e,t){if(WI(e)){const{initial:r,animate:n}=e;return{initial:r===!1||V5(r)?r:void 0,animate:V5(n)?n:void 0}}return e.inherit!==!1?t:{}}function NVe(e){const{initial:t,animate:r}=zVe(e,se.useContext(UI));return se.useMemo(()=>({initial:t,animate:r}),[Ure(t),Ure(r)])}function Ure(e){return Array.isArray(e)?e.join(" "):e}const Wre={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bx={};for(const e in Wre)Bx[e]={isEnabled:t=>Wre[e].some(r=>!!t[r])};function fF(e){for(const t in e)Bx[t]={...Bx[t],...e[t]}}const FVe=Symbol.for("motionComponentSymbol");function jVe({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){e&&fF(e);function s(p,o){let g;const y={...se.useContext(m9),...p,layoutId:VVe(p)},{isStatic:x}=y,E=NVe(p),A=n(p,x);if(!x&&lK){UVe();const M=WVe(y);g=M.MeasureLayout,E.visualElement=RVe(i,A,y,t,M.ProjectionNode)}return H.jsxs(UI.Provider,{value:E,children:[g&&E.visualElement?H.jsx(g,{visualElement:E.visualElement,...y}):null,r(i,p,BVe(A,E.visualElement,o),A,x,E.visualElement)]})}const c=se.forwardRef(s);return c[FVe]=i,c}function VVe({layoutId:e}){const t=se.useContext(oK).id;return t&&e!==void 0?t+"-"+e:e}function UVe(e,t){se.useContext(cK).strict}function WVe(e){const{drag:t,layout:r}=Bx;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const KVe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dK(e){return typeof e!="string"||e.includes("-")?!1:!!(KVe.indexOf(e)>-1||/[A-Z]/u.test(e))}function pge(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const hge=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mge(e,t,r,n){pge(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(hge.has(i)?i:FI(i),t.attrs[i])}function gge(e,{layout:t,layoutId:r}){return Z1.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!SP[e]||e==="opacity")}function fK(e,t,r){var n;const{style:i}=e,s={};for(const c in i)(es(i[c])||t.style&&es(t.style[c])||gge(c,e)||((n=r==null?void 0:r.getValue(c))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[c]=i[c]);return r&&i&&typeof i.willChange=="string"&&(r.applyWillChange=!1),s}function yge(e,t,r){const n=fK(e,t,r);for(const i in e)if(es(e[i])||es(t[i])){const s=d9.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}function KI(e){const t=se.useRef(null);return t.current===null&&(t.current=e()),t.current}function HVe({applyWillChange:e=!1,scrapeMotionValuesFromProps:t,createRenderState:r,onMount:n},i,s,c,p){const o={latestValues:qVe(i,s,c,p?!1:e,t),renderState:r()};return n&&(o.mount=g=>n(i,g,o)),o}const vge=e=>(t,r)=>{const n=se.useContext(UI),i=se.useContext(VI),s=()=>HVe(e,t,n,i,r);return r?s():KI(s)};function GVe(e,t){const r=B0e(t);r&&zI(e,r)}function Kre(e,t,r){const n=Array.isArray(t)?t:[t];for(let i=0;i<n.length;i++){const s=UW(e,n[i]);if(s){const{transitionEnd:c,transition:p,...o}=s;r(o,c)}}}function qVe(e,t,r,n,i){var s;const c={},p=[],o=n&&((s=e.style)===null||s===void 0?void 0:s.willChange)===void 0,g=i(e,{});for(const k in g)c[k]=pT(g[k]);let{initial:y,animate:x}=e;const E=WI(e),A=fge(e);t&&A&&!E&&e.inherit!==!1&&(y===void 0&&(y=t.initial),x===void 0&&(x=t.animate));let M=r?r.initial===!1:!1;M=M||y===!1;const R=M?x:y;return R&&typeof R!="boolean"&&!j5(R)&&Kre(e,R,(k,D)=>{for(const $ in k){let B=k[$];if(Array.isArray(B)){const V=M?B.length-1:0;B=B[V]}B!==null&&(c[$]=B)}for(const $ in D)c[$]=D[$]}),o&&(x&&y!==!1&&!j5(x)&&Kre(e,x,k=>{for(const D in k)GVe(p,D)}),p.length&&(c.willChange=p.join(","))),c}const pK=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),_ge=()=>({...pK(),attrs:{}}),bge=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ZVe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XVe=d9.length;function YVe(e,t,r){let n="",i=!0;for(let s=0;s<XVe;s++){const c=d9[s],p=e[c];if(p===void 0)continue;let o=!0;if(typeof p=="number"?o=p===(c.startsWith("scale")?1:0):o=parseFloat(p)===0,!o||r){const g=bge(p,JW[c]);if(!o){i=!1;const y=ZVe[c]||c;n+=`${y}(${g}) `}r&&(t[c]=g)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function hK(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let c=!1,p=!1;for(const o in t){const g=t[o];if(Z1.has(o)){c=!0;continue}else if(i0e(o)){i[o]=g;continue}else{const y=bge(g,JW[o]);o.startsWith("origin")?(p=!0,s[o]=y):n[o]=y}}if(t.transform||(c||r?n.transform=YVe(t,e.transform,r):n.transform&&(n.transform="none")),p){const{originX:o="50%",originY:g="50%",originZ:y=0}=s;n.transformOrigin=`${o} ${g} ${y}`}}function Hre(e,t,r){return typeof e=="string"?e:kn.transform(t+r*e)}function JVe(e,t,r){const n=Hre(t,e.x,e.width),i=Hre(r,e.y,e.height);return`${n} ${i}`}const QVe={offset:"stroke-dashoffset",array:"stroke-dasharray"},eUe={offset:"strokeDashoffset",array:"strokeDasharray"};function tUe(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?QVe:eUe;e[s.offset]=kn.transform(-n);const c=kn.transform(t),p=kn.transform(r);e[s.array]=`${c} ${p}`}function mK(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:s,pathLength:c,pathSpacing:p=1,pathOffset:o=0,...g},y,x){if(hK(e,g,x),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:A,dimensions:M}=e;E.transform&&(M&&(A.transform=E.transform),delete E.transform),M&&(i!==void 0||s!==void 0||A.transform)&&(A.transformOrigin=JVe(M,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(E.x=t),r!==void 0&&(E.y=r),n!==void 0&&(E.scale=n),c!==void 0&&tUe(E,c,p,o,!1)}const gK=e=>typeof e=="string"&&e.toLowerCase()==="svg",rUe={useVisualState:vge({scrapeMotionValuesFromProps:yge,createRenderState:_ge,onMount:(e,t,{renderState:r,latestValues:n})=>{Hi.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Hi.render(()=>{mK(r,n,gK(t.tagName),e.transformTemplate),mge(t,r)})}})},nUe={useVisualState:vge({applyWillChange:!0,scrapeMotionValuesFromProps:fK,createRenderState:pK})};function xge(e,t,r){for(const n in t)!es(t[n])&&!gge(n,r)&&(e[n]=t[n])}function iUe({transformTemplate:e},t){return se.useMemo(()=>{const r=pK();return hK(r,t,e),Object.assign({},r.vars,r.style)},[t])}function aUe(e,t){const r=e.style||{},n={};return xge(n,r,e),Object.assign(n,iUe(e,t)),n}function oUe(e,t){const r={},n=aUe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const sUe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function EP(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||sUe.has(e)}let wge=e=>!EP(e);function lUe(e){e&&(wge=t=>t.startsWith("on")?!EP(t):e(t))}try{lUe(require("@emotion/is-prop-valid").default)}catch{}function uUe(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(wge(i)||r===!0&&EP(i)||!t&&!EP(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function cUe(e,t,r,n){const i=se.useMemo(()=>{const s=_ge();return mK(s,t,gK(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};xge(s,e.style,e),i.style={...s,...i.style}}return i}function dUe(e=!1){return(r,n,i,{latestValues:s},c)=>{const o=(dK(r)?cUe:oUe)(n,s,c,r),g=uUe(n,typeof r=="string",e),y=r!==se.Fragment?{...g,...o,ref:i}:{},{children:x}=n,E=se.useMemo(()=>es(x)?x.get():x,[x]);return se.createElement(r,{...y,children:E})}}function Sge(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...dK(n)?rUe:nUe,preloadedFeatures:e,useRender:dUe(i),createVisualElement:t,Component:n};return jVe(c)}}const pF={current:null},Ege={current:!1};function fUe(){if(Ege.current=!0,!!lK)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pF.current=e.matches;e.addListener(t),t()}else pF.current=!1}function pUe(e,t,r){for(const n in t){const i=t[n],s=r[n];if(es(i))e.addValue(n,i);else if(es(s))e.addValue(n,Lx(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const c=e.getValue(n);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=e.getStaticValue(n);e.addValue(n,Lx(c!==void 0?c:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Gre=new WeakMap,hUe=[...s0e,Ds,$1],mUe=e=>hUe.find(o0e(e)),qre=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],gUe=KW.length;class yUe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:c},p={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=XW,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,Hi.render(this.render,!1,!0))};const{latestValues:o,renderState:g}=c;this.latestValues=o,this.baseTarget={...o},this.initialValues=r.initial?{...o}:{},this.renderState=g,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=p,this.blockInitialAnimation=!!s,this.isControllingVariants=WI(r),this.isVariantNode=fge(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...x}=this.scrapeMotionValuesFromProps(r,{},this);for(const E in x){const A=x[E];o[E]!==void 0&&es(A)&&A.set(o[E],!1)}}mount(t){this.current=t,Gre.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Ege.current||fUe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pF.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Gre.delete(this.current),this.projection&&this.projection.unmount(),fh(this.notifyUpdate),fh(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Z1.has(t),i=r.on("change",p=>{this.latestValues[t]=p,this.props.onUpdate&&Hi.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s(),c&&c(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Bx){const r=Bx[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ao()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<qre.length;n++){const i=qre[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,c=t[s];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=pUe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<gUe;n++){const i=KW[n],s=this.props[i];(V5(s)||s===!1)&&(r[i]=s)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Lx(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(r0e(i)||t0e(i))?i=parseFloat(i):!mUe(i)&&$1.test(r)&&(i=m0e(t,r)),this.setBaseTarget(t,es(i)?i.get():i)),es(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=UW(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);c&&(i=c[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!es(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new aK),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Age extends yUe{constructor(){super(...arguments),this.KeyframeResolver=g0e}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}}function vUe(e){return window.getComputedStyle(e)}class _Ue extends Age{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=pge}readValueFromInstance(t,r){if(Z1.has(r)){const n=QW(r);return n&&n.default||0}else{const n=vUe(t),i=(i0e(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Y0e(t,r)}build(t,r,n){hK(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return fK(t,r,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;es(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class bUe extends Age{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ao}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Z1.has(r)){const n=QW(r);return n&&n.default||0}return r=hge.has(r)?r:FI(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return yge(t,r,n)}build(t,r,n){mK(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,i){mge(t,r,n,i)}mount(t){this.isSVGTag=gK(t.tagName),super.mount(t)}}const Tge=(e,t)=>dK(e)?new bUe(t):new _Ue(t,{allowProjection:e!==se.Fragment}),xUe=Sge({...N0e,...cge,...wVe,...DVe},Tge),wUe=J1e(xUe),SUe=Sge(),hF=J1e(SUe);class EUe extends se.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function AUe({children:e,isPresent:t}){const r=se.useId(),n=se.useRef(null),i=se.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=se.useContext(m9);return se.useInsertionEffect(()=>{const{width:c,height:p,top:o,left:g}=i.current;if(t||!n.current||!c||!p)return;n.current.dataset.motionPopId=r;const y=document.createElement("style");return s&&(y.nonce=s),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${p}px !important;
            top: ${o}px !important;
            left: ${g}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[t]),H.jsx(EUe,{isPresent:t,childRef:n,sizeRef:i,children:se.cloneElement(e,{ref:n})})}const TUe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:c})=>{const p=KI(PUe),o=se.useId(),g=se.useMemo(()=>({id:o,initial:t,isPresent:r,custom:i,onExitComplete:y=>{p.set(y,!0);for(const x of p.values())if(!x)return;n&&n()},register:y=>(p.set(y,!1),()=>p.delete(y))}),s?[Math.random()]:[r]);return se.useMemo(()=>{p.forEach((y,x)=>p.set(x,!1))},[r]),se.useEffect(()=>{!r&&!p.size&&n&&n()},[r]),c==="popLayout"&&(e=H.jsx(AUe,{isPresent:r,children:e})),H.jsx(VI.Provider,{value:g,children:e})};function PUe(){return new Map}const VE=e=>e.key||"";function Zre(e){const t=[];return se.Children.forEach(e,r=>{se.isValidElement(r)&&t.push(r)}),t}const Pge=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:c="sync"})=>{const p=se.useMemo(()=>Zre(e),[e]),o=p.map(VE),g=se.useRef(!0),y=se.useRef(p),x=KI(()=>new Map),[E,A]=se.useState(p),[M,R]=se.useState(p);uK(()=>{g.current=!1,y.current=p;for(let $=0;$<M.length;$++){const B=VE(M[$]);o.includes(B)?x.delete(B):x.get(B)!==!0&&x.set(B,!1)}},[M,o.length,o.join("-")]);const k=[];if(p!==E){let $=[...p];for(let B=0;B<M.length;B++){const V=M[B],U=VE(V);o.includes(U)||($.splice(B,0,V),k.push(V))}c==="wait"&&k.length&&($=k),R(Zre($)),A(p);return}const{forceRender:D}=se.useContext(oK);return H.jsx(H.Fragment,{children:M.map($=>{const B=VE($),V=p===M||o.includes(B),U=()=>{if(x.has(B))x.set(B,!0);else return;let Z=!0;x.forEach(ne=>{ne||(Z=!1)}),Z&&(D==null||D(),R(y.current),i&&i())};return H.jsx(TUe,{isPresent:V,initial:!g.current||n?void 0:!1,custom:V?void 0:r,presenceAffectsLayout:s,mode:c,onExitComplete:V?void 0:U,children:$},B)})})};function mF({children:e,features:t,strict:r=!1}){const[,n]=se.useState(!$$(t)),i=se.useRef(void 0);if(!$$(t)){const{renderer:s,...c}=t;i.current=s,fF(c)}return se.useEffect(()=>{$$(t)&&t().then(({renderer:s,...c})=>{fF(c),i.current=s,n(!0)})},[]),H.jsx(cK.Provider,{value:{renderer:i.current,strict:r},children:e})}function $$(e){return typeof e=="function"}const gF={renderer:Tge,...N0e,...cge};function Cge(e){const t=KI(()=>Lx(e)),{isStatic:r}=se.useContext(m9);if(r){const[,n]=se.useState(e);se.useEffect(()=>t.on("change",n),[])}return t}function Xre(e){return typeof e=="number"?e:parseFloat(e)}function CUe(e,t={}){const{isStatic:r}=se.useContext(m9),n=se.useRef(null),i=Cge(es(e)?Xre(e.get()):e),s=se.useRef(i.get()),c=se.useRef(()=>{}),p=()=>{const g=n.current;g&&g.time===0&&g.sample(Ho.delta),o(),n.current=LFe({keyframes:[i.get(),s.current],velocity:i.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:c.current})},o=()=>{n.current&&n.current.stop()};return se.useInsertionEffect(()=>i.attach((g,y)=>r?y(g):(s.current=g,c.current=y,Hi.update(p),i.get()),o),[JSON.stringify(t)]),uK(()=>{if(es(e))return e.on("change",g=>i.set(Xre(g)))},[i]),i}function IUe(e,t,r){return typeof e=="string"?e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}const MUe={some:0,all:1};function kUe(e,t,{root:r,margin:n,amount:i="some"}={}){const s=IUe(e),c=new WeakMap,p=g=>{g.forEach(y=>{const x=c.get(y.target);if(y.isIntersecting!==!!x)if(y.isIntersecting){const E=t(y);typeof E=="function"?c.set(y.target,E):o.unobserve(y.target)}else x&&(x(y),c.delete(y.target))})},o=new IntersectionObserver(p,{root:r,rootMargin:n,threshold:typeof i=="number"?i:MUe[i]});return s.forEach(g=>o.observe(g)),()=>o.disconnect()}function OUe(e,{root:t,margin:r,amount:n,once:i=!1}={}){const[s,c]=se.useState(!1);return se.useEffect(()=>{if(!e.current||i&&s)return;const p=()=>(c(!0),i?void 0:()=>c(!1)),o={root:t&&t.current||void 0,margin:r,amount:n};return kUe(e.current,p,o)},[t,e,r,i,n]),s}function Ige(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Ige(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function bi(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Ige(e))&&(n&&(n+=" "),n+=t);return n}const yK="-",DUe=e=>{const t=$Ue(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const p=c.split(yK);return p[0]===""&&p.length!==1&&p.shift(),Mge(p,t)||RUe(c)},getConflictingClassGroupIds:(c,p)=>{const o=r[c]||[];return p&&n[c]?[...o,...n[c]]:o}}},Mge=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?Mge(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(yK);return(c=t.validators.find(({validator:p})=>p(s)))==null?void 0:c.classGroupId},Yre=/^\[(.+)\]$/,RUe=e=>{if(Yre.test(e)){const t=Yre.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},$Ue=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return BUe(Object.entries(e.classGroups),r).forEach(([s,c])=>{yF(c,n,s,t)}),n},yF=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:Jre(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(LUe(i)){yF(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,c])=>{yF(c,Jre(t,s),r,n)})})},Jre=(e,t)=>{let r=e;return t.split(yK).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},LUe=e=>e.isThemeGetter,BUe=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([c,p])=>[t+c,p])):s);return[r,i]}):e,zUe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,c)=>{r.set(s,c),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let c=r.get(s);if(c!==void 0)return c;if((c=n.get(s))!==void 0)return i(s,c),c},set(s,c){r.has(s)?r.set(s,c):i(s,c)}}},kge="!",NUe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,c=p=>{const o=[];let g=0,y=0,x;for(let k=0;k<p.length;k++){let D=p[k];if(g===0){if(D===i&&(n||p.slice(k,k+s)===t)){o.push(p.slice(y,k)),y=k+s;continue}if(D==="/"){x=k;continue}}D==="["?g++:D==="]"&&g--}const E=o.length===0?p:p.substring(y),A=E.startsWith(kge),M=A?E.substring(1):E,R=x&&x>y?x-y:void 0;return{modifiers:o,hasImportantModifier:A,baseClassName:M,maybePostfixModifierPosition:R}};return r?p=>r({className:p,parseClassName:c}):c},FUe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},jUe=e=>({cache:zUe(e.cacheSize),parseClassName:NUe(e),...DUe(e)}),VUe=/\s+/,UUe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],c=e.trim().split(VUe);let p="";for(let o=c.length-1;o>=0;o-=1){const g=c[o],{modifiers:y,hasImportantModifier:x,baseClassName:E,maybePostfixModifierPosition:A}=r(g);let M=!!A,R=n(M?E.substring(0,A):E);if(!R){if(!M){p=g+(p.length>0?" "+p:p);continue}if(R=n(E),!R){p=g+(p.length>0?" "+p:p);continue}M=!1}const k=FUe(y).join(":"),D=x?k+kge:k,$=D+R;if(s.includes($))continue;s.push($);const B=i(R,M);for(let V=0;V<B.length;++V){const U=B[V];s.push(D+U)}p=g+(p.length>0?" "+p:p)}return p};function WUe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Oge(t))&&(n&&(n+=" "),n+=r);return n}const Oge=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Oge(e[n]))&&(r&&(r+=" "),r+=t);return r};function KUe(e,...t){let r,n,i,s=c;function c(o){const g=t.reduce((y,x)=>x(y),e());return r=jUe(g),n=r.cache.get,i=r.cache.set,s=p,p(o)}function p(o){const g=n(o);if(g)return g;const y=UUe(o,r);return i(o,y),y}return function(){return s(WUe.apply(null,arguments))}}const va=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Dge=/^\[(?:([a-z-]+):)?(.+)\]$/i,HUe=/^\d+\/\d+$/,GUe=new Set(["px","full","screen"]),qUe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZUe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XUe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,YUe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JUe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ep=e=>nx(e)||GUe.has(e)||HUe.test(e),Tm=e=>q4(e,"length",oWe),nx=e=>!!e&&!Number.isNaN(Number(e)),L$=e=>q4(e,"number",nx),w2=e=>!!e&&Number.isInteger(Number(e)),QUe=e=>e.endsWith("%")&&nx(e.slice(0,-1)),ti=e=>Dge.test(e),Pm=e=>qUe.test(e),eWe=new Set(["length","size","percentage"]),tWe=e=>q4(e,eWe,Rge),rWe=e=>q4(e,"position",Rge),nWe=new Set(["image","url"]),iWe=e=>q4(e,nWe,lWe),aWe=e=>q4(e,"",sWe),S2=()=>!0,q4=(e,t,r)=>{const n=Dge.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},oWe=e=>ZUe.test(e)&&!XUe.test(e),Rge=()=>!1,sWe=e=>YUe.test(e),lWe=e=>JUe.test(e),uWe=()=>{const e=va("colors"),t=va("spacing"),r=va("blur"),n=va("brightness"),i=va("borderColor"),s=va("borderRadius"),c=va("borderSpacing"),p=va("borderWidth"),o=va("contrast"),g=va("grayscale"),y=va("hueRotate"),x=va("invert"),E=va("gap"),A=va("gradientColorStops"),M=va("gradientColorStopPositions"),R=va("inset"),k=va("margin"),D=va("opacity"),$=va("padding"),B=va("saturate"),V=va("scale"),U=va("sepia"),Z=va("skew"),ne=va("space"),j=va("translate"),fe=()=>["auto","contain","none"],be=()=>["auto","hidden","clip","visible","scroll"],pe=()=>["auto",ti,t],le=()=>[ti,t],G=()=>["",ep,Tm],N=()=>["auto",nx,ti],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>["start","end","center","between","around","evenly","stretch"],we=()=>["","0",ti],ye=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[nx,ti];return{cacheSize:500,separator:":",theme:{colors:[S2],spacing:[ep,Tm],blur:["none","",Pm,ti],brightness:ue(),borderColor:[e],borderRadius:["none","","full",Pm,ti],borderSpacing:le(),borderWidth:G(),contrast:ue(),grayscale:we(),hueRotate:ue(),invert:we(),gap:le(),gradientColorStops:[e],gradientColorStopPositions:[QUe,Tm],inset:pe(),margin:pe(),opacity:ue(),padding:le(),saturate:ue(),scale:ue(),sepia:we(),skew:ue(),space:le(),translate:le()},classGroups:{aspect:[{aspect:["auto","square","video",ti]}],container:["container"],columns:[{columns:[Pm]}],"break-after":[{"break-after":ye()}],"break-before":[{"break-before":ye()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),ti]}],overflow:[{overflow:be()}],"overflow-x":[{"overflow-x":be()}],"overflow-y":[{"overflow-y":be()}],overscroll:[{overscroll:fe()}],"overscroll-x":[{"overscroll-x":fe()}],"overscroll-y":[{"overscroll-y":fe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[R]}],"inset-x":[{"inset-x":[R]}],"inset-y":[{"inset-y":[R]}],start:[{start:[R]}],end:[{end:[R]}],top:[{top:[R]}],right:[{right:[R]}],bottom:[{bottom:[R]}],left:[{left:[R]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",w2,ti]}],basis:[{basis:pe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ti]}],grow:[{grow:we()}],shrink:[{shrink:we()}],order:[{order:["first","last","none",w2,ti]}],"grid-cols":[{"grid-cols":[S2]}],"col-start-end":[{col:["auto",{span:["full",w2,ti]},ti]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[S2]}],"row-start-end":[{row:["auto",{span:[w2,ti]},ti]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ti]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ti]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...he()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...he(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...he(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[$]}],px:[{px:[$]}],py:[{py:[$]}],ps:[{ps:[$]}],pe:[{pe:[$]}],pt:[{pt:[$]}],pr:[{pr:[$]}],pb:[{pb:[$]}],pl:[{pl:[$]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[ne]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ne]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ti,t]}],"min-w":[{"min-w":[ti,t,"min","max","fit"]}],"max-w":[{"max-w":[ti,t,"none","full","min","max","fit","prose",{screen:[Pm]},Pm]}],h:[{h:[ti,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ti,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ti,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ti,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Pm,Tm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",L$]}],"font-family":[{font:[S2]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ti]}],"line-clamp":[{"line-clamp":["none",nx,L$]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ep,ti]}],"list-image":[{"list-image":["none",ti]}],"list-style-type":[{list:["none","disc","decimal",ti]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[D]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ep,Tm]}],"underline-offset":[{"underline-offset":["auto",ep,ti]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:le()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ti]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ti]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[D]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),rWe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tWe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iWe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[M]}],"gradient-via-pos":[{via:[M]}],"gradient-to-pos":[{to:[M]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[D]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[D]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[ep,ti]}],"outline-w":[{outline:[ep,Tm]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[D]}],"ring-offset-w":[{"ring-offset":[ep,Tm]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Pm,aWe]}],"shadow-color":[{shadow:[S2]}],opacity:[{opacity:[D]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[o]}],"drop-shadow":[{"drop-shadow":["","none",Pm,ti]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[x]}],saturate:[{saturate:[B]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[o]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[D]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ti]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",ti]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",ti]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[V]}],"scale-x":[{"scale-x":[V]}],"scale-y":[{"scale-y":[V]}],rotate:[{rotate:[w2,ti]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ti]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ti]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":le()}],"scroll-mx":[{"scroll-mx":le()}],"scroll-my":[{"scroll-my":le()}],"scroll-ms":[{"scroll-ms":le()}],"scroll-me":[{"scroll-me":le()}],"scroll-mt":[{"scroll-mt":le()}],"scroll-mr":[{"scroll-mr":le()}],"scroll-mb":[{"scroll-mb":le()}],"scroll-ml":[{"scroll-ml":le()}],"scroll-p":[{"scroll-p":le()}],"scroll-px":[{"scroll-px":le()}],"scroll-py":[{"scroll-py":le()}],"scroll-ps":[{"scroll-ps":le()}],"scroll-pe":[{"scroll-pe":le()}],"scroll-pt":[{"scroll-pt":le()}],"scroll-pr":[{"scroll-pr":le()}],"scroll-pb":[{"scroll-pb":le()}],"scroll-pl":[{"scroll-pl":le()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ti]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ep,Tm,L$]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cWe=KUe(uWe);function ph(...e){return cWe(bi(e))}function dWe({tabs:e}){const[t,r]=se.useState(e[0]);return H.jsx("div",{className:"flex flex-wrap items-center justify-center gap-0 p-0 rounded-full w-fit bg-black/10",children:e.map(n=>H.jsx(fWe,{text:n,selected:t===n,setSelected:r},n))})}const fWe=({text:e,selected:t,setSelected:r})=>H.jsxs("button",{onClick:()=>r(e),className:ph("relative rounded-md p-2 text-sm transition-all",t?"text-white font-bold":"text-black font-bold"),children:[H.jsx("p",{className:"relative z-50 min-w-20",children:e}),t&&H.jsx(wUe.span,{layoutId:"tabs",transition:{type:"spring",duration:.5},className:"absolute inset-0 bg-black rounded-full"})]});function $ge(e){return H.jsx("footer",{className:"p-4 text-white bg-black footer footer-center",children:H.jsx("aside",{children:H.jsxs("p",{className:"text-lg",children:["Copyright © ",new Date().getFullYear()," - All right reserved by Exira Investments Pvt."]})})})}function pWe(){return H.jsxs("div",{className:"flex flex-col",children:[H.jsxs("div",{className:"container flex flex-col items-center justify-between px-4 mx-auto space-y-8 md:flex-row md:space-x-4 md:space-y-0",children:[H.jsxs("div",{className:"flex flex-col items-start pl-4 text-left md:pl-8 gap-y-6",children:[H.jsxs("div",{children:[H.jsx("div",{className:"mb-3 text-3xl md:text-4xl",children:"The New Age of Investment"}),H.jsxs("div",{className:"flex flex-col text-5xl gap-y-3 md:text-8xl",children:[H.jsx("div",{className:"font-bold",children:"Own Real Estate Shares"}),H.jsx("div",{className:"font-bold",children:"Own the Future"})]})]}),H.jsxs("div",{className:"flex flex-row my-3 gap-x-4 md:gap-x-8",children:[H.jsx("button",{className:"px-4 py-2 md:px-6 md:py-3 text-black bg-white border-[3px] w-40 md:w-48 border-black rounded-full hover:bg-black hover:text-white",children:"Get Started"}),H.jsx("button",{className:"px-4 py-2 md:px-6 md:py-3 text-white bg-black border-[3px] w-40 md:w-48 border-black rounded-full hover:bg-white hover:text-black",children:"Get Started"})]})]}),H.jsx("div",{className:"w-full max-w-md md:max-w-lg lg:max-w-xl",children:H.jsx("img",{src:oNe,alt:"placeholder",className:"object-cover w-full h-auto"})})]}),H.jsx("div",{className:"flex flex-col items-center justify-center w-full px-4 mt-8 mb-40 md:px-8",children:H.jsx(sNe,{})}),H.jsxs("div",{className:"flex flex-row items-center justify-center my-28 gap-x-20",children:[H.jsxs("div",{className:"flex flex-col items-start",children:[H.jsx("p",{className:"text-4xl font-bold",children:"Real Estate: The Secure Choice"}),H.jsx("p",{className:"text-lg w-[40rem] text-left",children:"While stock markets fluctuate, real estate offers a reliable and safer investment option."})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-3",children:[H.jsxs("div",{className:"flex flex-row items-center justify-between p-3 px-8 py-4 gap-x-20 rounded-2xl bg-black/10 w-[40rem]",children:[H.jsxs("div",{className:"flex flex-row items-center gap-x-4",children:[H.jsx(gs,{icon:Gze,size:"xl"}),H.jsx("p",{className:"text-xl",children:"Fractional Ownership, Full Potential"})]}),H.jsx("button",{className:"p-2 px-6 py-3 font-bold text-white bg-black border-2 rounded-full hover:bg-white hover:border-black hover:text-black ",children:"View"})]}),H.jsxs("div",{className:"flex flex-row items-center justify-between p-3 px-8 py-4 gap-x-20 rounded-2xl bg-black/10 w-[40rem]",children:[H.jsxs("div",{className:"flex flex-row items-center gap-x-4",children:[H.jsx(gs,{icon:Yze,size:"xl"}),H.jsx("p",{className:"text-xl",children:"Property-Backed Security"})]}),H.jsx("button",{className:"p-2 px-6 py-3 font-bold text-white bg-black border-2 rounded-full hover:bg-white hover:border-black hover:text-black ",children:"View"})]}),H.jsxs("div",{className:"flex w-[40rem] flex-row items-center justify-between p-3 px-8 py-4 gap-x-20 rounded-2xl bg-black/10",children:[H.jsxs("div",{className:"flex flex-row items-center gap-x-4",children:[H.jsx(gs,{icon:qze,size:"xl"}),H.jsx("p",{className:"text-xl",children:"Diversify with Ease"})]}),H.jsx("button",{className:"p-2 px-6 py-3 font-bold text-white bg-black border-2 rounded-full hover:bg-white hover:border-black hover:text-black ",children:"View"})]}),H.jsxs("div",{className:"flex flex-row w-[40rem] items-center justify-between p-3 px-8 py-4 gap-x-20 rounded-2xl bg-black/10",children:[H.jsxs("div",{className:"flex flex-row items-center gap-x-4",children:[H.jsx(gs,{icon:Qze,size:"xl"}),H.jsx("p",{className:"text-xl",children:"Flexible for Every Investor"})]}),H.jsx("button",{className:"p-2 px-6 py-3 font-bold text-white bg-black border-2 rounded-full hover:bg-white hover:border-black hover:text-black ",children:"View"})]}),H.jsxs("div",{className:"flex flex-row items-center w-[40rem] justify-between p-3 px-8 py-4 gap-x-20 rounded-2xl bg-black/10",children:[H.jsxs("div",{className:"flex flex-row items-center gap-x-4",children:[H.jsx(gs,{icon:nNe,size:"xl"}),H.jsx("p",{className:"text-xl",children:"Stable Growth, Less Risk"})]}),H.jsx("button",{className:"p-2 px-6 py-3 font-bold text-white bg-black border-2 rounded-full hover:bg-white hover:border-black hover:text-black ",children:"View"})]})]})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center my-28",children:[H.jsxs("div",{className:"flex flex-col gap-y-2",children:[H.jsx("p",{className:"text-4xl font-bold",children:"Powered by Solana"}),H.jsx("p",{className:"text-lg w-[70rem] leading-tight",children:"Our platform is currently being developed on Solana as part of the ongoing hackathon. Solana's high speed and low fees make it the perfect foundation for our vision. Stay tuned as we leverage the power of Solana to deliver a seamless experience."})]}),H.jsx("div",{className:"px-10 py-4 my-8 bg-black rounded-2xl",children:H.jsx("img",{src:aNe,alt:"placeholder",className:"w-40 h-auto cover"})})]}),H.jsxs("div",{className:"flex flex-row justify-center gap-x-10 my-28",children:[H.jsxs("div",{className:"flex flex-col gap-y-3",children:[H.jsxs("div",{className:"flex flex-col gap-y-2",children:[H.jsx("p",{className:"text-4xl font-bold text-left",children:"Seamless Crypto for Everyone"}),H.jsx("p",{className:"text-lg text-left w-[40rem] leading-tight",children:"No more worries about wallet, lost private key, gas and so on. Provest fully abstracts the complexity and give you a seamless crypto experience in a secure way. It’s your wallet, your crypto, your shares."})]}),H.jsxs("div",{className:"flex flex-col mt-3 gap-y-3",children:[H.jsxs("div",{className:"flex flex-row items-center gap-x-3",children:[H.jsx("div",{className:"flex flex-col items-center justify-center w-10 h-10 bg-black rounded-full ",children:H.jsx("p",{className:"text-sm font-bold text-white",children:"1"})}),H.jsx("p",{className:"",children:"Fully Self-Custodial"})]}),H.jsxs("div",{className:"flex flex-row items-center gap-x-3",children:[H.jsx("div",{className:"flex flex-col items-center justify-center w-10 h-10 bg-black rounded-full ",children:H.jsx("p",{className:"text-sm font-bold text-white",children:"2"})}),H.jsx("p",{className:"",children:"Recoverable Wallets"})]}),H.jsxs("div",{className:"flex flex-row items-center gap-x-3",children:[H.jsx("div",{className:"flex flex-col items-center justify-center w-10 h-10 bg-black rounded-full ",children:H.jsx("p",{className:"text-sm font-bold text-white",children:"3"})}),H.jsx("p",{className:"",children:"Exportable Private Key"})]})]}),H.jsxs("div",{className:"mt-8 w-[30rem] text-left",children:[H.jsx("div",{className:"py-0 my-0 divider"}),H.jsx("div",{children:H.jsx("p",{className:"text-sm italic",children:"NOTE: Advanced crypto users who already own a external wallet can login with their wallet and invest using the crypto funds they own."})})]})]}),H.jsx("div",{className:"flex flex-row items-center justify-center",children:H.jsxs("ul",{className:"items-start timeline timeline-vertical",children:[H.jsxs("li",{className:"grid grid-cols-1",children:[H.jsx("div",{className:"timeline-middle",children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:H.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),H.jsx("div",{className:"my-3 border-none crypto-shadow timeline-end timeline-box",children:H.jsx("div",{className:"px-4 py-3 w-[25rem]",children:H.jsx("p",{className:"text-xl",children:"Login with your email"})})}),H.jsx("hr",{})]}),H.jsxs("li",{className:"grid grid-cols-1",children:[H.jsx("hr",{}),H.jsx("div",{className:"timeline-middle",children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:H.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),H.jsx("div",{className:"my-3 border-none crypto-shadow timeline-end timeline-box",children:H.jsx("div",{className:"px-4 py-3 w-[25rem]",children:H.jsx("p",{className:"text-xl",children:"Select Property to Invest"})})}),H.jsx("hr",{})]}),H.jsxs("li",{className:"grid grid-cols-1",children:[H.jsx("hr",{}),H.jsx("div",{className:"timeline-middle",children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:H.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),H.jsx("div",{className:"my-3 border-none crypto-shadow timeline-end timeline-box",children:H.jsxs("div",{className:"px-4 py-3 w-[25rem]",children:[H.jsx("p",{className:"text-xl",children:"Pay with currency of your choice"}),H.jsxs("p",{className:"text-xs",children:["BTC / ETH / POL"," ",H.jsx("span",{className:"font-bold",children:" (or) "})," USD / EUR / INR"]})]})}),H.jsx("hr",{})]}),H.jsxs("li",{className:"grid grid-cols-1",children:[H.jsx("hr",{}),H.jsx("div",{className:"timeline-middle",children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:H.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),H.jsx("div",{className:"my-3 border-none crypto-shadow timeline-end timeline-box",children:H.jsxs("div",{className:"px-4 py-3 w-[25rem] flex flex-row gap-x-3 items-center justify-center",children:[H.jsx(gs,{icon:Zze,style:{color:"#099f36"}}),H.jsx("p",{className:"text-xl",children:"Done"})]})})]})]})})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center my-28",children:[H.jsx("div",{children:H.jsx("p",{className:"mb-16 text-4xl font-bold",children:"Exira Ecosystem"})}),H.jsxs("div",{className:"grid grid-cols-3 grid-rows-2 gap-x-24 gap-y-10",children:[H.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-0",children:[H.jsx("p",{className:"text-6xl font-bold",children:"314,577"}),H.jsx("p",{className:"text-xl",children:"Active Shareholders"})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-0",children:[H.jsx("p",{className:"text-6xl font-bold",children:"4894"}),H.jsx("p",{className:"text-xl",children:"Properties"})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-0",children:[H.jsx("p",{className:"text-6xl font-bold",children:"$1,733,578"}),H.jsx("p",{className:"text-xl",children:"Avg. Daily Transfers"})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-0",children:[H.jsx("p",{className:"text-6xl font-bold",children:"$4,750,796"}),H.jsx("p",{className:"text-xl",children:"Dividends Paid-out"})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-0",children:[H.jsx("p",{className:"text-6xl font-bold",children:"32"}),H.jsx("p",{className:"text-xl",children:"Global Cities"})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-0",children:[H.jsx("p",{className:"text-6xl font-bold",children:"6,344,867"}),H.jsx("p",{className:"text-xl",children:"Active Shares"})]})]})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center my-28",children:[H.jsxs("div",{className:"flex flex-col mb-4 gap-y-0",children:[H.jsx("p",{className:"text-4xl font-bold ",children:"Properties for Everyone's Budget"}),H.jsxs("div",{className:"flex flex-col items-center justify-center my-4",children:[H.jsx("p",{className:"text-md",children:"Show prices in"}),H.jsx("div",{className:"mt-2",children:H.jsx(dWe,{tabs:["USD","EUR","INR"]})})]})]}),H.jsxs("div",{className:"flex flex-row items-center gap-x-12",children:[H.jsxs("div",{className:"flex flex-col p-6 px-10 gap-y-3 rounded-3xl bg-black/10",children:[H.jsx("p",{className:"text-2xl",children:"From as low as,"}),H.jsxs("div",{className:"leading-none",children:[H.jsx("p",{className:"text-6xl font-bold",children:"$30"}),H.jsx("p",{className:"text-lg",children:"per share"})]}),H.jsxs("div",{className:"flex flex-col mt-2 leadi gap-y-0",children:[H.jsx("p",{className:"text-3xl",children:"4,566"}),H.jsx("p",{className:"text-md",children:"Shares Available"})]}),H.jsx("button",{className:"p-2 px-16 py-3 mt-3 text-white bg-black border-2 rounded-full hover:bg-white hover:border-black hover:text-black ",children:"Invest Now"})]}),H.jsxs("div",{className:"flex flex-col p-6 px-10 gap-y-3 rounded-3xl bg-black/10",children:[H.jsx("p",{className:"text-2xl",children:"From as low as,"}),H.jsxs("div",{className:"leading-none",children:[H.jsx("p",{className:"text-6xl font-bold",children:"$30"}),H.jsx("p",{className:"text-lg",children:"per share"})]}),H.jsxs("div",{className:"flex flex-col mt-2 leadi gap-y-0",children:[H.jsx("p",{className:"text-3xl",children:"4,566"}),H.jsx("p",{className:"text-md",children:"Shares Available"})]}),H.jsx("button",{className:"p-2 px-16 py-3 mt-3 text-white bg-black border-2 rounded-full hover:bg-white hover:border-black hover:text-black ",children:"Invest Now"})]}),H.jsxs("div",{className:"flex flex-col p-6 px-10 gap-y-3 rounded-3xl bg-black/10",children:[H.jsx("p",{className:"text-2xl",children:"From as low as,"}),H.jsxs("div",{className:"leading-none",children:[H.jsx("p",{className:"text-6xl font-bold",children:"$30"}),H.jsx("p",{className:"text-lg",children:"per share"})]}),H.jsxs("div",{className:"flex flex-col mt-2 leadi gap-y-0",children:[H.jsx("p",{className:"text-3xl",children:"4,566"}),H.jsx("p",{className:"text-md",children:"Shares Available"})]}),H.jsx("button",{className:"p-2 px-16 py-3 mt-3 text-white bg-black border-2 rounded-full hover:bg-white hover:border-black hover:text-black ",children:"Invest Now"})]})]})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center w-full py-12 bg-black my-28 gap-y-3",children:[H.jsxs("div",{className:"flex flex-col ",children:[H.jsx("p",{className:"text-4xl font-bold text-white",children:"Start building wealth form today"}),H.jsx("p",{className:"text-lg text-white",children:"Real estate shares are the key to building lasting wealth. Begin your journey with us now."})]}),H.jsx("button",{className:"p-2 px-16 py-3 mt-3 text-black bg-white border-2 rounded-full hover:bg-black hover:border-white hover:text-white ",children:"Get Started"})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center mb-44 my-28",children:[H.jsxs("div",{className:"flex flex-col gap-y-2",children:[H.jsx("p",{className:"text-4xl font-bold",children:"Have doubts?"}),H.jsx("p",{className:"text-lg w-[50rem] leading-tight",children:"Get all your doubts cleared and start investing from now. You can find how the investment flow works and other legal documents in the How it works? section."})]}),H.jsxs("div",{className:"flex flex-row items-center justify-center my-4 mt-8 gap-x-8",children:[H.jsxs("div",{className:"flex flex-col p-6 px-10 gap-y-3 justify-between rounded-3xl bg-black/10 w-[20rem] h-[18rem]",children:[H.jsx("p",{className:"text-5xl",children:"AI"}),H.jsx("p",{className:"text-md",children:"Chat with our AI-powered Chatbot to get answers to all your questions instantly"}),H.jsx("button",{className:"w-full p-2 px-16 py-3 mt-3 text-white bg-black border-2 rounded-full hover:bg-white hover:border-black hover:text-black",children:"Chat Now"})]}),H.jsxs("div",{className:"flex flex-col p-6 px-10 gap-y-3 rounded-3xl justify-between  bg-black/10 w-[20rem] h-[18rem]",children:[H.jsx("p",{className:"text-5xl",children:"@"}),H.jsx("p",{className:"text-md",children:"Drop us a mail and we’ll get back to your shortly"}),H.jsx("button",{className:"w-full p-2 px-16 py-3 mt-3 text-white bg-black border-2 rounded-full hover:bg-white hover:border-black hover:text-black",children:"Send Mail"})]})]})]}),H.jsx($ge,{})]})}const E2=({children:e})=>{const{connection:t}=PI(),{publicKey:r}=s9();return t&&r?H.jsx(H.Fragment,{children:e}):(console.warn("Wallet not connected or connection unavailable"),H.jsx(PCe,{to:"/",replace:!0}))};function hWe(){const{connection:e}=PI(),{publicKey:t}=s9(),r=J8(),n=tW(),i=()=>{e&&t?n("/dashboard"):VLe.error("Please connect your wallet")};return H.jsxs("div",{className:"flex flex-row items-center justify-between w-full p-4 px-10 space-x-4 py-7",children:[H.jsx("div",{className:"flex flex-col items-center justify-center",children:H.jsx("div",{className:"text-5xl font-black",children:"Exira"})}),H.jsxs("div",{className:"flex flex-row items-center justify-center gap-x-4",children:[H.jsxs("div",{className:"flex flex-row mr-6 gap-x-12",children:[H.jsx("p",{className:r.pathname==="/"?"text-md hover:cursor-pointer underline font-bold underline-offset-2":"text-md hover:cursor-pointer hover:underline hover:underline-offset-2",onClick:()=>{n("/")},children:"Home"}),H.jsx("p",{className:r.pathname==="/about-us"?"text-md hover:cursor-pointer underline font-bold underline-offset-2":"text-md hover:cursor-pointer hover:underline hover:underline-offset-2",onClick:()=>{n("/about-us")},children:"About Us"}),H.jsx("p",{className:r.pathname==="/how-it-works"?"text-md hover:cursor-pointer underline font-bold underline-offset-2":"text-md hover:cursor-pointer hover:underline hover:underline-offset-2",children:"How it works?"})]}),H.jsxs("div",{className:"flex flex-row items-center gap-x-4",children:[H.jsx(d1e,{style:{backgroundColor:"black",padding:"1rem",height:"45px",fontSize:"15px",borderRadius:"10px",width:"150px",justifyContent:"center"}}),r.pathname.includes("/dashboard")?null:H.jsx("button",{className:"px-6 py-[9px] font-semibold text-white bg-purple-600 border-2 border-purple-600 rounded-lg",onClick:i,children:H.jsxs("div",{className:"flex flex-row items-center gap-x-4",children:[H.jsx("p",{children:"Exira App"}),H.jsx(gs,{icon:rNe})]})})]})]})]})}function mWe(e){return H.jsxs("div",{className:"flex flex-col items-center justify-center",children:[H.jsxs("div",{className:"flex flex-col gap-y-3",children:[H.jsx("div",{className:"text-3xl",children:"Our Vision"}),H.jsxs("div",{className:"flex flex-col gap-y-0",children:[H.jsx("p",{className:"font-black text-9xl",children:"Real Estate"}),H.jsx("p",{className:"font-black text-9xl",children:"For Everyone"})]}),H.jsx("p",{className:"text-2xl text-center w-[80rem] mt-2",children:"We envision a world where real estate investment isn’t limited to a select few, but a powerful tool for everyone to build wealth. Our platform allows people from all walks of life to invest in premium properties, unlocking financial freedom and growth."})]}),H.jsxs("div",{className:"flex flex-col mt-16",children:[H.jsx("p",{className:"text-3xl",children:"Our Values"}),H.jsxs("div",{className:"flex flex-row items-center mt-5 gap-x-36",children:[H.jsx("p",{className:"text-5xl font-black w-[18rem]",children:"Transparency."}),H.jsx("p",{className:"text-5xl font-black w-[18rem]",children:"Accessibility."}),H.jsx("p",{className:"text-5xl font-black w-[18rem]",children:"Security."})]})]}),H.jsxs("div",{className:"flex flex-row items-start justify-center mt-56 mb-20",children:[H.jsxs("div",{className:"flex flex-col items-start gap-y-3",children:[H.jsx("p",{className:"text-4xl font-bold",children:"Who We Are"}),H.jsx("p",{className:"text-xl text-left w-[45rem]",children:"We are a group of passionate entrepreneur and tech innovators who believe in breaking down barriers. We're building a platform that allows everyday people to invest in real estate shares, offering access to properties that were once out of reach."})]}),H.jsxs("div",{className:"flex flex-col items-start justify-center gap-y-10",children:[H.jsxs("div",{className:"flex flex-col gap-y-2",children:[H.jsxs("div",{className:"flex flex-col items-start",children:[H.jsxs("p",{className:"text-xl font-bold",children:["Nimesh Chedella",H.jsx("span",{className:"text-lg font-normal",children:"  Co-Founder, CEO"})]}),H.jsx("p",{className:"italic font-bold text-gray-400 text-md",children:"IIT Madras, Ex-Googler"})]}),H.jsx("div",{children:H.jsx("p",{className:"text-left w-[40rem] text-lg",children:"We are a group of passionate entrepreneur and tech innovators who believe in breaking down barriers. We're building a platform that allows everyday people to invest in real estate shares, offering access to properties that were once out of reach."})})]}),H.jsxs("div",{className:"flex flex-col gap-y-2",children:[H.jsxs("div",{className:"flex flex-col items-start",children:[H.jsxs("p",{className:"text-xl font-bold",children:["Nimesh Chedella",H.jsx("span",{className:"text-lg font-normal",children:"  Co-Founder, CEO"})]}),H.jsx("p",{className:"italic font-bold text-gray-400 text-md",children:"IIT Madras, Ex-Googler"})]}),H.jsx("div",{children:H.jsx("p",{className:"text-left w-[40rem] text-lg",children:"We are a group of passionate entrepreneur and tech innovators who believe in breaking down barriers. We're building a platform that allows everyday people to invest in real estate shares, offering access to properties that were once out of reach."})})]}),H.jsxs("div",{className:"flex flex-col gap-y-2",children:[H.jsxs("div",{className:"flex flex-col items-start",children:[H.jsxs("p",{className:"text-xl font-bold",children:["Nimesh Chedella",H.jsx("span",{className:"text-lg font-normal",children:"  Co-Founder, CEO"})]}),H.jsx("p",{className:"italic font-bold text-gray-400 text-md",children:"IIT Madras, Ex-Googler"})]}),H.jsx("div",{children:H.jsx("p",{className:"text-left w-[40rem] text-lg",children:"We are a group of passionate entrepreneur and tech innovators who believe in breaking down barriers. We're building a platform that allows everyday people to invest in real estate shares, offering access to properties that were once out of reach."})})]})]})]}),H.jsxs("div",{className:"flex flex-col items-start p-20 my-20 bg-black gap-y-2 rounded-3xl w-[70rem]",children:[H.jsxs("div",{className:"flex flex-col items-start mb-8 gap-y-2",children:[H.jsxs("p",{className:"text-5xl font-bold text-white",children:["Why We Are",H.jsx("span",{className:"text-5xl font-bold text-amber-600",children:" Different"}),"?"]}),H.jsx("p",{className:"text-3xl text-left text-white",children:"We’re reimagining real estate investment by combining accessibility, flexibility, and transparency."})]}),H.jsxs("div",{className:"grid items-start grid-cols-2 mt-8 gap-x-20 gap-y-16",children:[H.jsxs("div",{className:"flex flex-col items-start gap-y-2",children:[H.jsxs("p",{className:"text-3xl font-bold text-left text-white",children:["Own a ",H.jsx("span",{className:"text-amber-600",children:"Share of Premium"})," ","Real Estate"]}),H.jsx("p",{className:"text-xl text-left text-white",children:"Start investing in high-value properties with small amounts through fractional ownership. No massive upfront costs—just a simple way to access real estate."})]}),H.jsxs("div",{className:"flex flex-col items-start gap-y-2",children:[H.jsxs("p",{className:"text-3xl font-bold text-left text-white",children:[H.jsx("span",{className:"text-amber-600",children:"Invest and Trade"})," with Flexibility"]}),H.jsx("p",{className:"text-xl text-left text-white",children:"Unlike traditional property investments, your shares are not locked in. Buy, sell, or trade your real estate shares anytime, just like you would in the stock market."})]}),H.jsxs("div",{className:"flex flex-col items-start gap-y-2",children:[H.jsxs("p",{className:"text-3xl font-bold text-left text-white",children:[H.jsx("span",{className:"text-amber-600",children:"Diversify"})," Without the Headache"]}),H.jsx("p",{className:"text-xl text-left text-white",children:"Build a diverse portfolio across different property types—residential, commercial, or industrial—all without the hassle of property management or maintenance."})]}),H.jsxs("div",{className:"flex flex-col items-start gap-y-2",children:[H.jsxs("p",{className:"text-3xl font-bold text-left text-white",children:[H.jsx("span",{className:"text-amber-600",children:"Secure and Stable"})," ","Investments"]}),H.jsx("p",{className:"text-xl text-left text-white",children:"Unlike traditional property investments,Your investments are backed by real properties, which tend to appreciate over time, offering more stability than stocks or crypto. You’re investing in tangible assets with long-term growth potential."})]}),H.jsxs("div",{className:"flex flex-col items-start gap-y-2",children:[H.jsxs("p",{className:"text-3xl font-bold text-left text-white",children:["Full ",H.jsx("span",{className:"text-amber-600",children:"Transparency and Control"})]}),H.jsx("p",{className:"text-xl text-left text-white",children:"Track the performance of your shares in real-time. Know exactly where your money is going, how your investments are performing, and make informed decisions with ease."})]}),H.jsxs("div",{className:"flex flex-col items-start gap-y-2",children:[H.jsxs("p",{className:"text-3xl font-bold text-left text-white",children:[H.jsx("span",{className:"text-amber-600",children:"Diversify"})," Without the Headache"]}),H.jsx("p",{className:"text-xl text-left text-white",children:"Build a diverse portfolio across different property types—residential, commercial, or industrial—all without the hassle of property management or maintenance."})]})]})]}),H.jsxs("div",{className:"my-20",children:[H.jsxs("div",{className:"flex flex-col items-center gap-y-2",children:[H.jsx("p",{className:"text-5xl font-bold",children:"Our Roadmap"}),H.jsx("p",{className:"text-xl text-center w-[50rem]",children:"We’re excited to bring this vision to life. Soon, you’ll be able to start investing in real estate shares, no matter where you are in your financial journey."})]}),H.jsx("div",{className:"w-[50rem] items-center justify-center text-left mt-16",children:H.jsxs("ul",{className:"timeline timeline-snap-icon max-md:timeline-compact timeline-vertical",children:[H.jsxs("li",{children:[H.jsx("div",{className:"timeline-middle",children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:H.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),H.jsxs("div",{className:"mb-10 timeline-start md:text-end",children:[H.jsx("time",{className:"text-lg italic",children:"Q4, 2024"}),H.jsx("div",{className:"text-3xl font-bold",children:"Platform Development & Beta Launch"}),H.jsx("p",{className:"text-xl",children:"We’re focused on building a seamless and secure platform for you to start investing. Soon, we’ll launch our beta version, allowing early users to explore and invest in their first real estate shares."})]}),H.jsx("hr",{})]}),H.jsxs("li",{children:[H.jsx("hr",{}),H.jsx("div",{className:"timeline-middle",children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:H.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),H.jsxs("div",{className:"mb-10 timeline-end",children:[H.jsx("time",{className:"text-lg italic",children:"Q1, 2025"}),H.jsx("div",{className:"text-3xl font-bold",children:"Property Listings & Investment Opportunities"}),H.jsx("p",{className:"text-xl",children:"We’ll introduce a range of high-value properties for fractional ownership. Our marketplace will let you browse, invest, and begin growing your portfolio with ease."})]}),H.jsx("hr",{})]}),H.jsxs("li",{children:[H.jsx("hr",{}),H.jsx("div",{className:"timeline-middle",children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:H.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),H.jsxs("div",{className:"mb-10 timeline-start md:text-end",children:[H.jsx("time",{className:"text-lg italic",children:"Q1, 2025"}),H.jsx("div",{className:"text-3xl font-bold",children:"Real Estate Trading Platform"}),H.jsx("p",{className:"text-xl",children:"We’re developing features that will allow you to actively trade your shares. This means more flexibility to buy, sell, or trade shares as property values change, making real estate a dynamic asset."})]}),H.jsx("hr",{})]}),H.jsxs("li",{children:[H.jsx("hr",{}),H.jsx("div",{className:"timeline-middle",children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:H.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),H.jsxs("div",{className:"mb-10 timeline-end",children:[H.jsx("time",{className:"text-lg italic",children:"Q1, 2025"}),H.jsx("div",{className:"text-3xl font-bold",children:"Expanding Property Types"}),H.jsx("p",{className:"text-xl",children:"From residential to commercial and even industrial, we’ll continue to expand the types of properties available for investment, giving you more choices and opportunities to diversify."})]}),H.jsx("hr",{})]}),H.jsxs("li",{children:[H.jsx("hr",{}),H.jsx("div",{className:"timeline-middle",children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:H.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),H.jsxs("div",{className:"mb-10 timeline-start md:text-end",children:[H.jsx("time",{className:"text-lg italic",children:"Q1, 2025"}),H.jsx("div",{className:"text-3xl font-bold",children:"Scaling & Global Expansion"}),H.jsx("p",{className:"text-xl",children:"Our goal is to bring real estate investment to a global scale. We’ll continue to grow our property listings and enhance our platform to serve investors worldwide."})]})]})]})})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center mt-32 mb-44 gap-y-3",children:[H.jsx("p",{className:"text-4xl font-bold",children:"Got questions or want to know more? We’d love to hear from you!"}),H.jsx("p",{className:"text-3xl",children:"connect@exira.io"})]}),H.jsx($ge,{})]})}function g9(e={}){const{strict:t=!0,errorMessage:r="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:n}=e,i=se.createContext(void 0);i.displayName=n;function s(){var c;const p=se.useContext(i);if(!p&&t){const o=new Error(r);throw o.name="ContextError",(c=Error.captureStackTrace)==null||c.call(Error,o,s),o}return p}return[i.Provider,s,i]}function ts(e){const t=se.useRef(null);return se.useImperativeHandle(e,()=>t.current),t}var gWe=!1;function vK(e){return Array.isArray(e)}function yWe(e){return vK(e)&&e.length===0}function Lge(e){const t=typeof e;return e!=null&&(t==="object"||t==="function")&&!vK(e)}function vWe(e){return Lge(e)&&Object.keys(e).length===0}function _We(e){return vK(e)?yWe(e):Lge(e)?vWe(e):e==null||e===""}function bWe(e){return typeof e=="function"}var zr=e=>e?"true":void 0,Bge=(...e)=>{let t=" ";for(const r of e)if(typeof r=="string"&&r.length>0){t=r;break}return t};function zge(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=zge(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function pi(...e){for(var t=0,r,n,i="";t<e.length;)(r=e[t++])&&(n=zge(r))&&(i&&(i+=" "),i+=n);return i}function xWe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nge={exports:{}},uo=Nge.exports={},Jd,Qd;function vF(){throw new Error("setTimeout has not been defined")}function _F(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Jd=setTimeout:Jd=vF}catch{Jd=vF}try{typeof clearTimeout=="function"?Qd=clearTimeout:Qd=_F}catch{Qd=_F}})();function Fge(e){if(Jd===setTimeout)return setTimeout(e,0);if((Jd===vF||!Jd)&&setTimeout)return Jd=setTimeout,setTimeout(e,0);try{return Jd(e,0)}catch{try{return Jd.call(null,e,0)}catch{return Jd.call(this,e,0)}}}function wWe(e){if(Qd===clearTimeout)return clearTimeout(e);if((Qd===_F||!Qd)&&clearTimeout)return Qd=clearTimeout,clearTimeout(e);try{return Qd(e)}catch{try{return Qd.call(null,e)}catch{return Qd.call(this,e)}}}var Dp=[],ix=!1,Ug,hT=-1;function SWe(){!ix||!Ug||(ix=!1,Ug.length?Dp=Ug.concat(Dp):hT=-1,Dp.length&&jge())}function jge(){if(!ix){var e=Fge(SWe);ix=!0;for(var t=Dp.length;t;){for(Ug=Dp,Dp=[];++hT<t;)Ug&&Ug[hT].run();hT=-1,t=Dp.length}Ug=null,ix=!1,wWe(e)}}uo.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Dp.push(new Vge(e,t)),Dp.length===1&&!ix&&Fge(jge)};function Vge(e,t){this.fun=e,this.array=t}Vge.prototype.run=function(){this.fun.apply(null,this.array)};uo.title="browser";uo.browser=!0;uo.env={};uo.argv=[];uo.version="";uo.versions={};function Sh(){}uo.on=Sh;uo.addListener=Sh;uo.once=Sh;uo.off=Sh;uo.removeListener=Sh;uo.removeAllListeners=Sh;uo.emit=Sh;uo.prependListener=Sh;uo.prependOnceListener=Sh;uo.listeners=function(e){return[]};uo.binding=function(e){throw new Error("process.binding is not supported")};uo.cwd=function(){return"/"};uo.chdir=function(e){throw new Error("process.chdir is not supported")};uo.umask=function(){return 0};var EWe=Nge.exports;const mn=xWe(EWe);var AWe={},Qre={};function bF(e,t,...r){var n;const s=`[Next UI]${t?` [${t}]`:" "}: ${e}`;if(!(typeof console>"u")&&!Qre[s]&&(Qre[s]=!0,((n=mn==null?void 0:AWe)==null?void 0:n.NODE_ENV)!=="production"))return console.warn(s,r)}function TWe(e){return`${e}-${Math.floor(Math.random()*1e6)}`}function PWe(e){for(const t in e)t.startsWith("on")&&delete e[t];return e}function ev(e){if(!e||typeof e!="object")return"";try{return JSON.stringify(e)}catch{return""}}function CWe(e,t,r){return Math.min(Math.max(e,t),r)}function IWe(e,t=100){return Math.min(Math.max(e,0),t)}function MWe(e,t){if(e!=null){if(bWe(e)){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function xF(...e){return t=>{e.forEach(r=>MWe(r,t))}}var kWe=Object.create,Uge=Object.defineProperty,OWe=Object.getOwnPropertyDescriptor,Wge=Object.getOwnPropertyNames,DWe=Object.getPrototypeOf,RWe=Object.prototype.hasOwnProperty,Kge=(e,t)=>function(){return t||(0,e[Wge(e)[0]])((t={exports:{}}).exports,t),t.exports},$We=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Wge(t))!RWe.call(e,i)&&i!==r&&Uge(e,i,{get:()=>t[i],enumerable:!(n=OWe(t,i))||n.enumerable});return e},LWe=(e,t,r)=>(r=e!=null?kWe(DWe(e)):{},$We(!e||!e.__esModule?Uge(r,"default",{value:e,enumerable:!0}):r,e)),BWe=Kge({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react.production.min.js"(e){var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.iterator;function A(ue){return ue===null||typeof ue!="object"?null:(ue=E&&ue[E]||ue["@@iterator"],typeof ue=="function"?ue:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function D(ue,J,de){this.props=ue,this.context=J,this.refs=k,this.updater=de||M}D.prototype.isReactComponent={},D.prototype.setState=function(ue,J){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,J,"setState")},D.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function $(){}$.prototype=D.prototype;function B(ue,J,de){this.props=ue,this.context=J,this.refs=k,this.updater=de||M}var V=B.prototype=new $;V.constructor=B,R(V,D.prototype),V.isPureReactComponent=!0;var U=Array.isArray,Z=Object.prototype.hasOwnProperty,ne={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function fe(ue,J,de){var ke,Oe={},Se=null,We=null;if(J!=null)for(ke in J.ref!==void 0&&(We=J.ref),J.key!==void 0&&(Se=""+J.key),J)Z.call(J,ke)&&!j.hasOwnProperty(ke)&&(Oe[ke]=J[ke]);var Je=arguments.length-2;if(Je===1)Oe.children=de;else if(1<Je){for(var $e=Array(Je),ft=0;ft<Je;ft++)$e[ft]=arguments[ft+2];Oe.children=$e}if(ue&&ue.defaultProps)for(ke in Je=ue.defaultProps,Je)Oe[ke]===void 0&&(Oe[ke]=Je[ke]);return{$$typeof:t,type:ue,key:Se,ref:We,props:Oe,_owner:ne.current}}function be(ue,J){return{$$typeof:t,type:ue.type,key:J,ref:ue.ref,props:ue.props,_owner:ue._owner}}function pe(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===t}function le(ue){var J={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(de){return J[de]})}var G=/\/+/g;function N(ue,J){return typeof ue=="object"&&ue!==null&&ue.key!=null?le(""+ue.key):J.toString(36)}function Y(ue,J,de,ke,Oe){var Se=typeof ue;(Se==="undefined"||Se==="boolean")&&(ue=null);var We=!1;if(ue===null)We=!0;else switch(Se){case"string":case"number":We=!0;break;case"object":switch(ue.$$typeof){case t:case r:We=!0}}if(We)return We=ue,Oe=Oe(We),ue=ke===""?"."+N(We,0):ke,U(Oe)?(de="",ue!=null&&(de=ue.replace(G,"$&/")+"/"),Y(Oe,J,de,"",function(ft){return ft})):Oe!=null&&(pe(Oe)&&(Oe=be(Oe,de+(!Oe.key||We&&We.key===Oe.key?"":(""+Oe.key).replace(G,"$&/")+"/")+ue)),J.push(Oe)),1;if(We=0,ke=ke===""?".":ke+":",U(ue))for(var Je=0;Je<ue.length;Je++){Se=ue[Je];var $e=ke+N(Se,Je);We+=Y(Se,J,de,$e,Oe)}else if($e=A(ue),typeof $e=="function")for(ue=$e.call(ue),Je=0;!(Se=ue.next()).done;)Se=Se.value,$e=ke+N(Se,Je++),We+=Y(Se,J,de,$e,Oe);else if(Se==="object")throw J=String(ue),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return We}function te(ue,J,de){if(ue==null)return ue;var ke=[],Oe=0;return Y(ue,ke,"","",function(Se){return J.call(de,Se,Oe++)}),ke}function re(ue){if(ue._status===-1){var J=ue._result;J=J(),J.then(function(de){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=de)},function(de){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=de)}),ue._status===-1&&(ue._status=0,ue._result=J)}if(ue._status===1)return ue._result.default;throw ue._result}var he={current:null},we={transition:null},ye={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:we,ReactCurrentOwner:ne};e.Children={map:te,forEach:function(ue,J,de){te(ue,function(){J.apply(this,arguments)},de)},count:function(ue){var J=0;return te(ue,function(){J++}),J},toArray:function(ue){return te(ue,function(J){return J})||[]},only:function(ue){if(!pe(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}},e.Component=D,e.Fragment=n,e.Profiler=s,e.PureComponent=B,e.StrictMode=i,e.Suspense=g,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,e.cloneElement=function(ue,J,de){if(ue==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ue+".");var ke=R({},ue.props),Oe=ue.key,Se=ue.ref,We=ue._owner;if(J!=null){if(J.ref!==void 0&&(Se=J.ref,We=ne.current),J.key!==void 0&&(Oe=""+J.key),ue.type&&ue.type.defaultProps)var Je=ue.type.defaultProps;for($e in J)Z.call(J,$e)&&!j.hasOwnProperty($e)&&(ke[$e]=J[$e]===void 0&&Je!==void 0?Je[$e]:J[$e])}var $e=arguments.length-2;if($e===1)ke.children=de;else if(1<$e){Je=Array($e);for(var ft=0;ft<$e;ft++)Je[ft]=arguments[ft+2];ke.children=Je}return{$$typeof:t,type:ue.type,key:Oe,ref:Se,props:ke,_owner:We}},e.createContext=function(ue){return ue={$$typeof:p,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ue.Provider={$$typeof:c,_context:ue},ue.Consumer=ue},e.createElement=fe,e.createFactory=function(ue){var J=fe.bind(null,ue);return J.type=ue,J},e.createRef=function(){return{current:null}},e.forwardRef=function(ue){return{$$typeof:o,render:ue}},e.isValidElement=pe,e.lazy=function(ue){return{$$typeof:x,_payload:{_status:-1,_result:ue},_init:re}},e.memo=function(ue,J){return{$$typeof:y,type:ue,compare:J===void 0?null:J}},e.startTransition=function(ue){var J=we.transition;we.transition={};try{ue()}finally{we.transition=J}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(ue,J){return he.current.useCallback(ue,J)},e.useContext=function(ue){return he.current.useContext(ue)},e.useDebugValue=function(){},e.useDeferredValue=function(ue){return he.current.useDeferredValue(ue)},e.useEffect=function(ue,J){return he.current.useEffect(ue,J)},e.useId=function(){return he.current.useId()},e.useImperativeHandle=function(ue,J,de){return he.current.useImperativeHandle(ue,J,de)},e.useInsertionEffect=function(ue,J){return he.current.useInsertionEffect(ue,J)},e.useLayoutEffect=function(ue,J){return he.current.useLayoutEffect(ue,J)},e.useMemo=function(ue,J){return he.current.useMemo(ue,J)},e.useReducer=function(ue,J,de){return he.current.useReducer(ue,J,de)},e.useRef=function(ue){return he.current.useRef(ue)},e.useState=function(ue){return he.current.useState(ue)},e.useSyncExternalStore=function(ue,J,de){return he.current.useSyncExternalStore(ue,J,de)},e.useTransition=function(){return he.current.useTransition()},e.version="18.2.0"}}),zWe=Kge({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"(e,t){t.exports=BWe()}});/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ene=LWe(zWe()),NWe=(e,t)=>{var r;let n=[];const i=(r=ene.Children.map(e,c=>(0,ene.isValidElement)(c)&&c.type===t?(n.push(c),null):c))==null?void 0:r.filter(Boolean),s=n.length>=0?n:void 0;return[i,s]},FWe=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","enterKeyHint","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),jWe=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),tne=/^(data-.*)$/,VWe=/^(aria-.*)$/,UE=/^(on[A-Z].*)$/;function _l(e,t={}){let{labelable:r=!0,enabled:n=!0,propNames:i,omitPropNames:s,omitEventNames:c,omitDataProps:p,omitEventProps:o}=t,g={};if(!n)return e;for(const y in e)s!=null&&s.has(y)||c!=null&&c.has(y)&&UE.test(y)||UE.test(y)&&!jWe.has(y)||p&&tne.test(y)||o&&UE.test(y)||(Object.prototype.hasOwnProperty.call(e,y)&&(FWe.has(y)||r&&VWe.test(y)||i!=null&&i.has(y)||tne.test(y))||UE.test(y))&&(g[y]=e[y]);return g}var[UWe,Eh]=g9({name:"ProviderContext",strict:!1});const WWe=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),KWe=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function Hge(e){if(Intl.Locale){let r=new Intl.Locale(e).maximize(),n=typeof r.getTextInfo=="function"?r.getTextInfo():r.textInfo;if(n)return n.direction==="rtl";if(r.script)return WWe.has(r.script)}let t=e.split("-")[0];return KWe.has(t)}const AP={prefix:String(Math.round(Math.random()*1e10)),current:0},Gge=Ke.createContext(AP),HWe=Ke.createContext(!1);let GWe=!!(typeof window<"u"&&window.document&&window.document.createElement),B$=new WeakMap;function qWe(e=!1){let t=se.useContext(Gge),r=se.useRef(null);if(r.current===null&&!e){var n,i;let s=(i=Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(n=i.ReactCurrentOwner)===null||n===void 0?void 0:n.current;if(s){let c=B$.get(s);c==null?B$.set(s,{id:t.current,state:s.memoizedState}):s.memoizedState!==c.state&&(t.current=c.id,B$.delete(s))}r.current=++t.current}return r.current}function ZWe(e){let t=se.useContext(Gge);t===AP&&!GWe&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=qWe(!!e),n=`react-aria${t.prefix}`;return e||`${n}-${r}`}function XWe(e){let t=Ke.useId(),[r]=se.useState(HI()),n=r?"react-aria":`react-aria${AP.prefix}`;return e||`${n}-${t}`}const YWe=typeof Ke.useId=="function"?XWe:ZWe;function JWe(){return!1}function QWe(){return!0}function eKe(e){return()=>{}}function HI(){return typeof Ke.useSyncExternalStore=="function"?Ke.useSyncExternalStore(eKe,JWe,QWe):se.useContext(HWe)}const tKe=Symbol.for("react-aria.i18n.locale");function qge(){let e=typeof window<"u"&&window[tKe]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:Hge(e)?"rtl":"ltr"}}let wF=qge(),D6=new Set;function rne(){wF=qge();for(let e of D6)e(wF)}function Zge(){let e=HI(),[t,r]=se.useState(wF);return se.useEffect(()=>(D6.size===0&&window.addEventListener("languagechange",rne),D6.add(r),()=>{D6.delete(r),D6.size===0&&window.removeEventListener("languagechange",rne)}),[]),e?{locale:"en-US",direction:"ltr"}:t}const Xge=Ke.createContext(null);function rKe(e){let{locale:t,children:r}=e,n=Zge(),i=Ke.useMemo(()=>t?{locale:t,direction:Hge(t)?"rtl":"ltr"}:n,[n,t]);return Ke.createElement(Xge.Provider,{value:i},r)}function tv(){let e=Zge();return se.useContext(Xge)||e}var of=function(){return of=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},of.apply(this,arguments)};function Yge(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function nKe(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}const iKe=Symbol.for("react-aria.i18n.locale"),aKe=Symbol.for("react-aria.i18n.strings");let O_;class Z4{getStringForLocale(t,r){let i=this.getStringsForLocale(r)[t];if(!i)throw new Error(`Could not find intl message ${t} in ${r} locale`);return i}getStringsForLocale(t){let r=this.strings[t];return r||(r=oKe(t,this.strings,this.defaultLocale),this.strings[t]=r),r}static getGlobalDictionaryForPackage(t){if(typeof window>"u")return null;let r=window[iKe];if(O_===void 0){let i=window[aKe];if(!i)return null;O_={};for(let s in i)O_[s]=new Z4({[r]:i[s]},r)}let n=O_==null?void 0:O_[t];if(!n)throw new Error(`Strings for package "${t}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return n}constructor(t,r="en-US"){this.strings=Object.fromEntries(Object.entries(t).filter(([,n])=>n)),this.defaultLocale=r}}function oKe(e,t,r="en-US"){if(t[e])return t[e];let n=sKe(e);if(t[n])return t[n];for(let i in t)if(i.startsWith(n+"-"))return t[i];return t[r]}function sKe(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}const nne=new Map,ine=new Map;class Jge{format(t,r){let n=this.strings.getStringForLocale(t,this.locale);return typeof n=="function"?n(r,this):n}plural(t,r,n="cardinal"){let i=r["="+t];if(i)return typeof i=="function"?i():i;let s=this.locale+":"+n,c=nne.get(s);c||(c=new Intl.PluralRules(this.locale,{type:n}),nne.set(s,c));let p=c.select(t);return i=r[p]||r.other,typeof i=="function"?i():i}number(t){let r=ine.get(this.locale);return r||(r=new Intl.NumberFormat(this.locale),ine.set(this.locale,r)),r.format(t)}select(t,r){let n=t[r]||t.other;return typeof n=="function"?n():n}constructor(t,r){this.locale=t,this.strings=r}}const ane=new WeakMap;function lKe(e){let t=ane.get(e);return t||(t=new Z4(e),ane.set(e,t)),t}function uKe(e,t){return t&&Z4.getGlobalDictionaryForPackage(t)||lKe(e)}function y9(e,t){let{locale:r}=tv(),n=uKe(e,t);return se.useMemo(()=>new Jge(r,n),[r,n])}function cKe(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _K(e,t,r){cKe(e,t),t.set(e,r)}const Qa=typeof document<"u"?Ke.useLayoutEffect:()=>{};function fl(e){const t=se.useRef(null);return Qa(()=>{t.current=e},[e]),se.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}function dKe(e){let[t,r]=se.useState(e),n=se.useRef(null),i=fl(()=>{if(!n.current)return;let c=n.current.next();if(c.done){n.current=null;return}t===c.value?i():r(c.value)});Qa(()=>{n.current&&i()});let s=fl(c=>{n.current=c(t),i()});return[t,s]}let fKe=!!(typeof window<"u"&&window.document&&window.document.createElement),TP=new Map;function L1(e){let[t,r]=se.useState(e),n=se.useRef(null),i=YWe(t),s=se.useCallback(c=>{n.current=c},[]);return fKe&&TP.set(i,s),Qa(()=>{let c=i;return()=>{TP.delete(c)}},[i]),se.useEffect(()=>{let c=n.current;c&&(n.current=null,r(c))}),i}function pKe(e,t){if(e===t)return e;let r=TP.get(e);if(r)return r(t),t;let n=TP.get(t);return n?(n(e),e):t}function ax(e=[]){let t=L1(),[r,n]=dKe(t),i=se.useCallback(()=>{n(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,n]);return Qa(i,[t,i,...e]),r}function Ay(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const Ea=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},lc=e=>e&&"window"in e&&e.window===e?e:Ea(e).defaultView||window;function An(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let i in n){let s=t[i],c=n[i];typeof s=="function"&&typeof c=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?t[i]=Ay(s,c):(i==="className"||i==="UNSAFE_className")&&typeof s=="string"&&typeof c=="string"?t[i]=bi(s,c):i==="id"&&s&&c?t.id=pKe(s,c):t[i]=c!==void 0?c:s}}return t}function hKe(...e){return e.length===1?e[0]:t=>{for(let r of e)typeof r=="function"?r(t):r!=null&&(r.current=t)}}const mKe=new Set(["id"]),gKe=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),yKe=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),vKe=/^(data-.*)$/;function X4(e,t={}){let{labelable:r,isLink:n,propNames:i}=t,s={};for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&(mKe.has(c)||r&&gKe.has(c)||n&&yKe.has(c)||i!=null&&i.has(c)||vKe.test(c))&&(s[c]=e[c]);return s}function Rp(e){if(_Ke())e.focus({preventScroll:!0});else{let t=bKe(e);e.focus(),xKe(t)}}let WE=null;function _Ke(){if(WE==null){WE=!1;try{document.createElement("div").focus({get preventScroll(){return WE=!0,!0}})}catch{}}return WE}function bKe(e){let t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function xKe(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}function GI(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function bK(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Ty(){return bK(/^Mac/i)}function wKe(){return bK(/^iPhone/i)}function Qge(){return bK(/^iPad/i)||Ty()&&navigator.maxTouchPoints>1}function xK(){return wKe()||Qge()}function SKe(){return Ty()||xK()}function eye(){return GI(/AppleWebKit/i)&&!EKe()}function EKe(){return GI(/Chrome/i)}function PP(){return GI(/Android/i)}function AKe(){return GI(/Firefox/i)}const tye=se.createContext({isNative:!0,open:CKe,useHref:e=>e});function TKe(e){let{children:t,navigate:r,useHref:n}=e,i=se.useMemo(()=>({isNative:!1,open:(s,c,p,o)=>{rye(s,g=>{PKe(g,c)?r(p,o):B1(g,c)})},useHref:n||(s=>s)}),[r,n]);return Ke.createElement(tye.Provider,{value:i},t)}function qI(){return se.useContext(tye)}function PKe(e,t){let r=e.getAttribute("target");return(!r||r==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function B1(e,t,r=!0){var n,i;let{metaKey:s,ctrlKey:c,altKey:p,shiftKey:o}=t;AKe()&&(!((i=window.event)===null||i===void 0||(n=i.type)===null||n===void 0)&&n.startsWith("key"))&&e.target==="_blank"&&(Ty()?s=!0:c=!0);let g=eye()&&Ty()&&!Qge()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:s,ctrlKey:c,altKey:p,shiftKey:o}):new MouseEvent("click",{metaKey:s,ctrlKey:c,altKey:p,shiftKey:o,bubbles:!0,cancelable:!0});B1.isOpening=r,Rp(e),e.dispatchEvent(g),B1.isOpening=!1}B1.isOpening=!1;function rye(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let r=document.createElement("a");r.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(r.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(r.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(r.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(r.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(r.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(r),t(r),e.removeChild(r)}}function CKe(e,t){rye(e,r=>B1(r,t))}function IKe(e){return{"data-href":e.href,"data-target":e.target,"data-rel":e.rel,"data-download":e.download,"data-ping":e.ping,"data-referrer-policy":e.referrerPolicy}}function MKe(e){let t=qI();return{href:e!=null&&e.href?t.useHref(e==null?void 0:e.href):void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let ib=new Map,SF=new Set;function one(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let t=n=>{if(!e(n)||!n.target)return;let i=ib.get(n.target);i||(i=new Set,ib.set(n.target,i),n.target.addEventListener("transitioncancel",r,{once:!0})),i.add(n.propertyName)},r=n=>{if(!e(n)||!n.target)return;let i=ib.get(n.target);if(i&&(i.delete(n.propertyName),i.size===0&&(n.target.removeEventListener("transitioncancel",r),ib.delete(n.target)),ib.size===0)){for(let s of SF)s();SF.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?one():document.addEventListener("DOMContentLoaded",one));function nye(e){requestAnimationFrame(()=>{ib.size===0?e():SF.add(e)})}function iye(){let e=se.useRef(new Map),t=se.useCallback((i,s,c,p)=>{let o=p!=null&&p.once?(...g)=>{e.current.delete(c),c(...g)}:c;e.current.set(c,{type:s,eventTarget:i,fn:o,options:p}),i.addEventListener(s,c,p)},[]),r=se.useCallback((i,s,c,p)=>{var o;let g=((o=e.current.get(c))===null||o===void 0?void 0:o.fn)||c;i.removeEventListener(s,g,p),e.current.delete(c)},[]),n=se.useCallback(()=>{e.current.forEach((i,s)=>{r(i.eventTarget,i.type,s,i.options)})},[r]);return se.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function aye(e,t){let{id:r,"aria-label":n,"aria-labelledby":i}=e;return r=L1(r),i&&n?i=[...new Set([r,...i.trim().split(/\s+/)])].join(" "):i&&(i=i.trim().split(/\s+/).join(" ")),!n&&!i&&t&&(n=t),{id:r,"aria-label":n,"aria-labelledby":i}}function kKe(e,t){const r=se.useRef(!0),n=se.useRef(null);se.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),se.useEffect(()=>{r.current?r.current=!1:(!n.current||t.some((i,s)=>!Object.is(i,n[s])))&&e(),n.current=t},t)}function OKe(){return typeof window.ResizeObserver<"u"}function DKe(e){const{ref:t,onResize:r}=e;se.useEffect(()=>{let n=t==null?void 0:t.current;if(n)if(OKe()){const i=new window.ResizeObserver(s=>{s.length&&r()});return i.observe(n),()=>{n&&i.unobserve(n)}}else return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)}},[r,t])}function oye(e,t){Qa(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function EF(e,t){let r=window.getComputedStyle(e),n=/(auto|scroll)/.test(r.overflow+r.overflowX+r.overflowY);return n&&t&&(n=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),n}function RKe(e,t){const r=[];for(;e&&e!==document.documentElement;)EF(e,t)&&r.push(e),e=e.parentElement;return r}let $Ke=0;const z$=new Map;function wK(e){let[t,r]=se.useState();return Qa(()=>{if(!e)return;let n=z$.get(e);if(n)r(n.element.id);else{let i=`react-aria-description-${$Ke++}`;r(i);let s=document.createElement("div");s.id=i,s.style.display="none",s.textContent=e,document.body.appendChild(s),n={refCount:0,element:s},z$.set(e,n)}return n.refCount++,()=>{n&&--n.refCount===0&&(n.element.remove(),z$.delete(e))}},[e]),{"aria-describedby":e?t:void 0}}function LKe(e,t,r,n){let i=fl(r),s=r==null;se.useEffect(()=>{if(s||!e.current)return;let c=e.current;return c.addEventListener(t,i,n),()=>{c.removeEventListener(t,i,n)}},[e,t,n,s,i])}function sye(e,t){let r=sne(e,t,"left"),n=sne(e,t,"top"),i=t.offsetWidth,s=t.offsetHeight,c=e.scrollLeft,p=e.scrollTop,{borderTopWidth:o,borderLeftWidth:g}=getComputedStyle(e),y=e.scrollLeft+parseInt(g,10),x=e.scrollTop+parseInt(o,10),E=y+e.clientWidth,A=x+e.clientHeight;r<=c?c=r-parseInt(g,10):r+i>E&&(c+=r+i-E),n<=x?p=n-parseInt(o,10):n+s>A&&(p+=n+s-A),e.scrollLeft=c,e.scrollTop=p}function sne(e,t,r){const n=r==="left"?"offsetLeft":"offsetTop";let i=0;for(;t.offsetParent&&(i+=t[n],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[n];break}t=t.offsetParent}return i}function lne(e,t){if(document.contains(e)){let c=document.scrollingElement||document.documentElement;if(window.getComputedStyle(c).overflow==="hidden"){let o=RKe(e);for(let g of o)sye(g,e)}else{var r;let{left:o,top:g}=e.getBoundingClientRect();e==null||(r=e.scrollIntoView)===null||r===void 0||r.call(e,{block:"nearest"});let{left:y,top:x}=e.getBoundingClientRect();if(Math.abs(o-y)>1||Math.abs(g-x)>1){var n,i,s;t==null||(i=t.containingElement)===null||i===void 0||(n=i.scrollIntoView)===null||n===void 0||n.call(i,{block:"center",inline:"center"}),(s=e.scrollIntoView)===null||s===void 0||s.call(e,{block:"nearest"})}}}}function AF(e){return e.mozInputSource===0&&e.isTrusted?!0:PP()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function BKe(e){return!PP()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}function zKe(e,t,r){let n=se.useRef(t),i=fl(()=>{r&&r(n.current)});se.useEffect(()=>{var s;let c=e==null||(s=e.current)===null||s===void 0?void 0:s.form;return c==null||c.addEventListener("reset",i),()=>{c==null||c.removeEventListener("reset",i)}},[e,i])}function v9(e,t,r){let[n,i]=se.useState(e||t),s=se.useRef(e!==void 0),c=e!==void 0;se.useEffect(()=>{let g=s.current;g!==c&&console.warn(`WARN: A component changed from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}.`),s.current=c},[c]);let p=c?e:n,o=se.useCallback((g,...y)=>{let x=(E,...A)=>{r&&(Object.is(p,E)||r(E,...A)),c||(p=E)};typeof g=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i((A,...M)=>{let R=g(c?p:A,...M);return x(R,...y),c?A:R})):(c||i(g),x(g,...y))},[c,p,r]);return[p,o]}function CP(e,t=-1/0,r=1/0){return Math.min(Math.max(e,t),r)}let N$=new Map,TF=!1;try{TF=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let IP=!1;try{IP=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const lye={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class NKe{format(t){let r="";if(!TF&&this.options.signDisplay!=null?r=jKe(this.numberFormatter,this.options.signDisplay,t):r=this.numberFormatter.format(t),this.options.style==="unit"&&!IP){var n;let{unit:i,unitDisplay:s="short",locale:c}=this.resolvedOptions();if(!i)return r;let p=(n=lye[i])===null||n===void 0?void 0:n[s];r+=p[c]||p.default}return r}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,r){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,r);if(r<t)throw new RangeError("End date must be >= start date");return`${this.format(t)} – ${this.format(r)}`}formatRangeToParts(t,r){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,r);if(r<t)throw new RangeError("End date must be >= start date");let n=this.numberFormatter.formatToParts(t),i=this.numberFormatter.formatToParts(r);return[...n.map(s=>({...s,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!TF&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!IP&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,r={}){this.numberFormatter=FKe(t,r),this.options=r}}function FKe(e,t={}){let{numberingSystem:r}=t;if(r&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${r}`),t.style==="unit"&&!IP){var n;let{unit:c,unitDisplay:p="short"}=t;if(!c)throw new Error('unit option must be provided with style: "unit"');if(!(!((n=lye[c])===null||n===void 0)&&n[p]))throw new Error(`Unsupported unit ${c} with unitDisplay = ${p}`);t={...t,style:"decimal"}}let i=e+(t?Object.entries(t).sort((c,p)=>c[0]<p[0]?-1:1).join():"");if(N$.has(i))return N$.get(i);let s=new Intl.NumberFormat(e,t);return N$.set(i,s),s}function jKe(e,t,r){if(t==="auto")return e.format(r);if(t==="never")return e.format(Math.abs(r));{let n=!1;if(t==="always"?n=r>0||Object.is(r,0):t==="exceptZero"&&(Object.is(r,-0)||Object.is(r,0)?r=Math.abs(r):n=r>0),n){let i=e.format(-r),s=e.format(r),c=i.replace(s,"").replace(/\u200e|\u061C/,"");return[...c].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(s,"!!!").replace(c,"+").replace("!!!",s)}else return e.format(r)}}function VKe(e={}){let{locale:t}=tv();return se.useMemo(()=>new NKe(t,e),[t,e])}let F$=new Map;function uye(e){let{locale:t}=tv(),r=t+(e?Object.entries(e).sort((i,s)=>i[0]<s[0]?-1:1).join():"");if(F$.has(r))return F$.get(r);let n=new Intl.Collator(t,e);return F$.set(r,n),n}const Bb={top:"top",bottom:"top",left:"left",right:"left"},MP={top:"bottom",bottom:"top",left:"right",right:"left"},UKe={top:"left",left:"top"},PF={top:"height",left:"width"},cye={width:"totalWidth",height:"totalHeight"},KE={};let kl=typeof document<"u"&&window.visualViewport;function une(e){let t=0,r=0,n=0,i=0,s=0,c=0,p={},o=(kl==null?void 0:kl.scale)>1;if(e.tagName==="BODY"){let x=document.documentElement;n=x.clientWidth,i=x.clientHeight;var g;t=(g=kl==null?void 0:kl.width)!==null&&g!==void 0?g:n;var y;r=(y=kl==null?void 0:kl.height)!==null&&y!==void 0?y:i,p.top=x.scrollTop||e.scrollTop,p.left=x.scrollLeft||e.scrollLeft,kl&&(s=kl.offsetTop,c=kl.offsetLeft)}else({width:t,height:r,top:s,left:c}=ox(e)),p.top=e.scrollTop,p.left=e.scrollLeft,n=t,i=r;return eye()&&(e.tagName==="BODY"||e.tagName==="HTML")&&o&&(p.top=0,p.left=0,s=kl.pageTop,c=kl.pageLeft),{width:t,height:r,totalWidth:n,totalHeight:i,scroll:p,top:s,left:c}}function WKe(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function cne(e,t,r,n,i,s,c){let p=i.scroll[e],o=n[PF[e]],g=n.scroll[Bb[e]]+s,y=o+n.scroll[Bb[e]]-s,x=t-p+c[e]-n[Bb[e]],E=t-p+r+c[e]-n[Bb[e]];return x<g?g-x:E>y?Math.max(y-E,g-x):0}function KKe(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function dne(e){if(KE[e])return KE[e];let[t,r]=e.split(" "),n=Bb[t]||"right",i=UKe[n];Bb[r]||(r="center");let s=PF[n],c=PF[i];return KE[e]={placement:t,crossPlacement:r,axis:n,crossAxis:i,size:s,crossSize:c},KE[e]}function j$(e,t,r,n,i,s,c,p,o,g){let{placement:y,crossPlacement:x,axis:E,crossAxis:A,size:M,crossSize:R}=n,k={};k[A]=e[A],x==="center"?k[A]+=(e[R]-r[R])/2:x!==A&&(k[A]+=e[R]-r[R]),k[A]+=s;const D=e[A]-r[R]+o+g,$=e[A]+e[R]-o-g;if(k[A]=CP(k[A],D,$),y===E){const B=p?c[M]:t[cye[M]];k[MP[E]]=Math.floor(B-e[E]+i)}else k[E]=Math.floor(e[E]+e[M]+i);return k}function HKe(e,t,r,n,i,s,c,p){const o=n?r.height:t[cye.height];let g=e.top!=null?r.top+e.top:r.top+(o-e.bottom-c),y=p!=="top"?Math.max(0,t.height+t.top+t.scroll.top-g-(i.top+i.bottom+s)):Math.max(0,g+c-(t.top+t.scroll.top)-(i.top+i.bottom+s));return Math.min(t.height-s*2,y)}function fne(e,t,r,n,i,s){let{placement:c,axis:p,size:o}=s;return c===p?Math.max(0,r[p]-e[p]-e.scroll[p]+t[p]-n[p]-n[MP[p]]-i):Math.max(0,e[o]+e[p]+e.scroll[p]-t[p]-r[p]-r[o]-n[p]-n[MP[p]]-i)}function GKe(e,t,r,n,i,s,c,p,o,g,y,x,E,A,M,R){let k=dne(e),{size:D,crossAxis:$,crossSize:B,placement:V,crossPlacement:U}=k,Z=j$(t,p,r,k,y,x,g,E,M,R),ne=y,j=fne(p,g,t,i,s+y,k);if(c&&n[D]>j){let we=dne(`${MP[V]} ${U}`),ye=j$(t,p,r,we,y,x,g,E,M,R);fne(p,g,t,i,s+y,we)>j&&(k=we,Z=ye,ne=y)}let fe="bottom";k.axis==="top"?k.placement==="top"?fe="top":k.placement==="bottom"&&(fe="bottom"):k.crossAxis==="top"&&(k.crossPlacement==="top"?fe="bottom":k.crossPlacement==="bottom"&&(fe="top"));let be=cne($,Z[$],r[B],p,o,s,g);Z[$]+=be;let pe=HKe(Z,p,g,E,i,s,r.height,fe);A&&A<pe&&(pe=A),r.height=Math.min(r.height,pe),Z=j$(t,p,r,k,ne,x,g,E,M,R),be=cne($,Z[$],r[B],p,o,s,g),Z[$]+=be;let le={},G=t[$]+.5*t[B]-Z[$];const N=M/2+R,Y=r[B]-M/2-R,te=t[$]-Z[$]+M/2,re=t[$]+t[B]-Z[$]-M/2,he=CP(G,te,re);return le[$]=CP(he,N,Y),{position:Z,maxHeight:pe,arrowOffsetLeft:le.left,arrowOffsetTop:le.top,placement:k.placement}}function qKe(e){let{placement:t,targetNode:r,overlayNode:n,scrollNode:i,padding:s,shouldFlip:c,boundaryElement:p,offset:o,crossOffset:g,maxHeight:y,arrowSize:x=0,arrowBoundaryOffset:E=0}=e,A=n instanceof HTMLElement?ZKe(n):document.documentElement,M=A===document.documentElement;const R=window.getComputedStyle(A).position;let k=!!R&&R!=="static",D=M?ox(r):pne(r,A);if(!M){let{marginTop:j,marginLeft:fe}=window.getComputedStyle(r);D.top+=parseInt(j,10)||0,D.left+=parseInt(fe,10)||0}let $=ox(n),B=KKe(n);$.width+=B.left+B.right,$.height+=B.top+B.bottom;let V=WKe(i),U=une(p),Z=une(A),ne=p.tagName==="BODY"?ox(A):pne(A,p);return A.tagName==="HTML"&&p.tagName==="BODY"&&(Z.scroll.top=0,Z.scroll.left=0),GKe(t,D,$,V,B,s,c,U,Z,ne,o,g,k,y,x,E)}function ox(e){let{top:t,left:r,width:n,height:i}=e.getBoundingClientRect(),{scrollTop:s,scrollLeft:c,clientTop:p,clientLeft:o}=document.documentElement;return{top:t+s-p,left:r+c-o,width:n,height:i}}function pne(e,t){let r=window.getComputedStyle(e),n;if(r.position==="fixed"){let{top:i,left:s,width:c,height:p}=e.getBoundingClientRect();n={top:i,left:s,width:c,height:p}}else{n=ox(e);let i=ox(t),s=window.getComputedStyle(t);i.top+=(parseInt(s.borderTopWidth,10)||0)-t.scrollTop,i.left+=(parseInt(s.borderLeftWidth,10)||0)-t.scrollLeft,n.top-=i.top,n.left-=i.left}return n.top-=parseInt(r.marginTop,10)||0,n.left-=parseInt(r.marginLeft,10)||0,n}function ZKe(e){let t=e.offsetParent;if(t&&t===document.body&&window.getComputedStyle(t).position==="static"&&!hne(t)&&(t=document.documentElement),t==null)for(t=e.parentElement;t&&!hne(t);)t=t.parentElement;return t||document.documentElement}function hne(e){let t=window.getComputedStyle(e);return t.transform!=="none"||/transform|perspective/.test(t.willChange)||t.filter!=="none"||t.contain==="paint"||"backdropFilter"in t&&t.backdropFilter!=="none"||"WebkitBackdropFilter"in t&&t.WebkitBackdropFilter!=="none"}const dye=new WeakMap;function XKe(e){let{triggerRef:t,isOpen:r,onClose:n}=e;se.useEffect(()=>{if(!r||n===null)return;let i=s=>{let c=s.target;if(!t.current||c instanceof Node&&!c.contains(t.current))return;let p=n||dye.get(t.current);p&&p()};return window.addEventListener("scroll",i,!0),()=>{window.removeEventListener("scroll",i,!0)}},[r,n,t])}let io=typeof document<"u"&&window.visualViewport;function YKe(e){let{direction:t}=tv(),{arrowSize:r=0,targetRef:n,overlayRef:i,scrollRef:s=i,placement:c="bottom",containerPadding:p=12,shouldFlip:o=!0,boundaryElement:g=typeof document<"u"?document.body:null,offset:y=0,crossOffset:x=0,shouldUpdatePosition:E=!0,isOpen:A=!0,onClose:M,maxHeight:R,arrowBoundaryOffset:k=0}=e,[D,$]=se.useState({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),B=[E,c,i.current,n.current,s.current,p,o,g,y,x,A,t,R,k,r],V=se.useRef(io==null?void 0:io.scale);se.useEffect(()=>{A&&(V.current=io==null?void 0:io.scale)},[A]);let U=se.useCallback(()=>{if(E===!1||!A||!i.current||!n.current||!s.current||!g||(io==null?void 0:io.scale)!==V.current)return;let j=i.current;if(!R&&i.current){var fe;j.style.top="0px",j.style.bottom="";var be;j.style.maxHeight=((be=(fe=window.visualViewport)===null||fe===void 0?void 0:fe.height)!==null&&be!==void 0?be:window.innerHeight)+"px"}let pe=qKe({placement:QKe(c,t),overlayNode:i.current,targetNode:n.current,scrollNode:s.current,padding:p,shouldFlip:o,boundaryElement:g,offset:y,crossOffset:x,maxHeight:R,arrowSize:r,arrowBoundaryOffset:k});j.style.top="",j.style.bottom="",Object.keys(pe.position).forEach(le=>j.style[le]=pe.position[le]+"px"),j.style.maxHeight=pe.maxHeight!=null?pe.maxHeight+"px":void 0,$(pe)},B);Qa(U,B),JKe(U),DKe({ref:i,onResize:U});let Z=se.useRef(!1);Qa(()=>{let j,fe=()=>{Z.current=!0,clearTimeout(j),j=setTimeout(()=>{Z.current=!1},500),U()},be=()=>{Z.current&&fe()};return io==null||io.addEventListener("resize",fe),io==null||io.addEventListener("scroll",be),()=>{io==null||io.removeEventListener("resize",fe),io==null||io.removeEventListener("scroll",be)}},[U]);let ne=se.useCallback(()=>{Z.current||M()},[M,Z]);return XKe({triggerRef:n,isOpen:A,onClose:M&&ne}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...D.position,maxHeight:D.maxHeight}},placement:D.placement,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:D.arrowOffsetLeft,top:D.arrowOffsetTop}},updatePosition:U}}function JKe(e){Qa(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function QKe(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}let zb="default",CF="",mT=new WeakMap;function mne(e){if(xK()){if(zb==="default"){const t=Ea(e);CF=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}zb="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(mT.set(e,e.style.userSelect),e.style.userSelect="none")}function HE(e){if(xK()){if(zb!=="disabled")return;zb="restoring",setTimeout(()=>{nye(()=>{if(zb==="restoring"){const t=Ea(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=CF||""),CF="",zb="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&mT.has(e)){let t=mT.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),mT.delete(e)}}const SK=Ke.createContext({register:()=>{}});SK.displayName="PressResponderContext";function eHe(e,t){return t.get?t.get.call(e):t.value}function fye(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function EK(e,t){var r=fye(e,t,"get");return eHe(e,r)}function tHe(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function zx(e,t,r){var n=fye(e,t,"set");return tHe(e,n,r),r}function rHe(e){let t=se.useContext(SK);if(t){let{register:r,...n}=t;e=An(n,e),r()}return oye(t,e.ref),e}var GE=new WeakMap;let qE=class{continuePropagation(){zx(this,GE,!1)}get shouldStopPropagation(){return EK(this,GE)}constructor(t,r,n){_K(this,GE,{writable:!0,value:void 0}),zx(this,GE,!0),this.type=t,this.pointerType=r,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey}};const gne=Symbol("linkClicked");function rv(e){let{onPress:t,onPressChange:r,onPressStart:n,onPressEnd:i,onPressUp:s,isDisabled:c,isPressed:p,preventFocusOnPress:o,shouldCancelOnPointerExit:g,allowTextSelectionOnPress:y,ref:x,...E}=rHe(e),[A,M]=se.useState(!1),R=se.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:k,removeAllGlobalListeners:D}=iye(),$=fl((j,fe)=>{let be=R.current;if(c||be.didFirePressStart)return!1;let pe=!0;if(be.isTriggeringEvent=!0,n){let le=new qE("pressstart",fe,j);n(le),pe=le.shouldStopPropagation}return r&&r(!0),be.isTriggeringEvent=!1,be.didFirePressStart=!0,M(!0),pe}),B=fl((j,fe,be=!0)=>{let pe=R.current;if(!pe.didFirePressStart)return!1;pe.ignoreClickAfterPress=!0,pe.didFirePressStart=!1,pe.isTriggeringEvent=!0;let le=!0;if(i){let G=new qE("pressend",fe,j);i(G),le=G.shouldStopPropagation}if(r&&r(!1),M(!1),t&&be&&!c){let G=new qE("press",fe,j);t(G),le&&(le=G.shouldStopPropagation)}return pe.isTriggeringEvent=!1,le}),V=fl((j,fe)=>{let be=R.current;if(c)return!1;if(s){be.isTriggeringEvent=!0;let pe=new qE("pressup",fe,j);return s(pe),be.isTriggeringEvent=!1,pe.shouldStopPropagation}return!0}),U=fl(j=>{let fe=R.current;fe.isPressed&&fe.target&&(fe.isOverTarget&&fe.pointerType!=null&&B(tp(fe.target,j),fe.pointerType,!1),fe.isPressed=!1,fe.isOverTarget=!1,fe.activePointerId=null,fe.pointerType=null,D(),y||HE(fe.target))}),Z=fl(j=>{g&&U(j)}),ne=se.useMemo(()=>{let j=R.current,fe={onKeyDown(pe){if(V$(pe.nativeEvent,pe.currentTarget)&&pe.currentTarget.contains(pe.target)){var le;vne(pe.target,pe.key)&&pe.preventDefault();let G=!0;if(!j.isPressed&&!pe.repeat){j.target=pe.currentTarget,j.isPressed=!0,G=$(pe,"keyboard");let N=pe.currentTarget,Y=te=>{V$(te,N)&&!te.repeat&&N.contains(te.target)&&j.target&&V(tp(j.target,te),"keyboard")};k(Ea(pe.currentTarget),"keyup",Ay(Y,be),!0)}G&&pe.stopPropagation(),pe.metaKey&&Ty()&&((le=j.metaKeyEvents)===null||le===void 0||le.set(pe.key,pe.nativeEvent))}else pe.key==="Meta"&&(j.metaKeyEvents=new Map)},onClick(pe){if(!(pe&&!pe.currentTarget.contains(pe.target))&&pe&&pe.button===0&&!j.isTriggeringEvent&&!B1.isOpening){let le=!0;if(c&&pe.preventDefault(),!j.ignoreClickAfterPress&&!j.ignoreEmulatedMouseEvents&&!j.isPressed&&(j.pointerType==="virtual"||AF(pe.nativeEvent))){!c&&!o&&Rp(pe.currentTarget);let G=$(pe,"virtual"),N=V(pe,"virtual"),Y=B(pe,"virtual");le=G&&N&&Y}j.ignoreEmulatedMouseEvents=!1,j.ignoreClickAfterPress=!1,le&&pe.stopPropagation()}}},be=pe=>{var le;if(j.isPressed&&j.target&&V$(pe,j.target)){var G;vne(pe.target,pe.key)&&pe.preventDefault();let Y=pe.target;B(tp(j.target,pe),"keyboard",j.target.contains(Y)),D(),pe.key!=="Enter"&&AK(j.target)&&j.target.contains(Y)&&!pe[gne]&&(pe[gne]=!0,B1(j.target,pe,!1)),j.isPressed=!1,(G=j.metaKeyEvents)===null||G===void 0||G.delete(pe.key)}else if(pe.key==="Meta"&&(!((le=j.metaKeyEvents)===null||le===void 0)&&le.size)){var N;let Y=j.metaKeyEvents;j.metaKeyEvents=void 0;for(let te of Y.values())(N=j.target)===null||N===void 0||N.dispatchEvent(new KeyboardEvent("keyup",te))}};if(typeof PointerEvent<"u"){fe.onPointerDown=N=>{if(N.button!==0||!N.currentTarget.contains(N.target))return;if(BKe(N.nativeEvent)){j.pointerType="virtual";return}U$(N.currentTarget)&&N.preventDefault(),j.pointerType=N.pointerType;let Y=!0;j.isPressed||(j.isPressed=!0,j.isOverTarget=!0,j.activePointerId=N.pointerId,j.target=N.currentTarget,!c&&!o&&Rp(N.currentTarget),y||mne(j.target),Y=$(N,j.pointerType),k(Ea(N.currentTarget),"pointermove",pe,!1),k(Ea(N.currentTarget),"pointerup",le,!1),k(Ea(N.currentTarget),"pointercancel",G,!1)),Y&&N.stopPropagation()},fe.onMouseDown=N=>{N.currentTarget.contains(N.target)&&N.button===0&&(U$(N.currentTarget)&&N.preventDefault(),N.stopPropagation())},fe.onPointerUp=N=>{!N.currentTarget.contains(N.target)||j.pointerType==="virtual"||N.button===0&&D_(N,N.currentTarget)&&V(N,j.pointerType||N.pointerType)};let pe=N=>{N.pointerId===j.activePointerId&&(j.target&&D_(N,j.target)?!j.isOverTarget&&j.pointerType!=null&&(j.isOverTarget=!0,$(tp(j.target,N),j.pointerType)):j.target&&j.isOverTarget&&j.pointerType!=null&&(j.isOverTarget=!1,B(tp(j.target,N),j.pointerType,!1),Z(N)))},le=N=>{N.pointerId===j.activePointerId&&j.isPressed&&N.button===0&&j.target&&(D_(N,j.target)&&j.pointerType!=null?B(tp(j.target,N),j.pointerType):j.isOverTarget&&j.pointerType!=null&&B(tp(j.target,N),j.pointerType,!1),j.isPressed=!1,j.isOverTarget=!1,j.activePointerId=null,j.pointerType=null,D(),y||HE(j.target))},G=N=>{U(N)};fe.onDragStart=N=>{N.currentTarget.contains(N.target)&&U(N)}}else{fe.onMouseDown=G=>{if(G.button!==0||!G.currentTarget.contains(G.target))return;if(U$(G.currentTarget)&&G.preventDefault(),j.ignoreEmulatedMouseEvents){G.stopPropagation();return}j.isPressed=!0,j.isOverTarget=!0,j.target=G.currentTarget,j.pointerType=AF(G.nativeEvent)?"virtual":"mouse",!c&&!o&&Rp(G.currentTarget),$(G,j.pointerType)&&G.stopPropagation(),k(Ea(G.currentTarget),"mouseup",pe,!1)},fe.onMouseEnter=G=>{if(!G.currentTarget.contains(G.target))return;let N=!0;j.isPressed&&!j.ignoreEmulatedMouseEvents&&j.pointerType!=null&&(j.isOverTarget=!0,N=$(G,j.pointerType)),N&&G.stopPropagation()},fe.onMouseLeave=G=>{if(!G.currentTarget.contains(G.target))return;let N=!0;j.isPressed&&!j.ignoreEmulatedMouseEvents&&j.pointerType!=null&&(j.isOverTarget=!1,N=B(G,j.pointerType,!1),Z(G)),N&&G.stopPropagation()},fe.onMouseUp=G=>{G.currentTarget.contains(G.target)&&!j.ignoreEmulatedMouseEvents&&G.button===0&&V(G,j.pointerType||"mouse")};let pe=G=>{if(G.button===0){if(j.isPressed=!1,D(),j.ignoreEmulatedMouseEvents){j.ignoreEmulatedMouseEvents=!1;return}j.target&&D_(G,j.target)&&j.pointerType!=null?B(tp(j.target,G),j.pointerType):j.target&&j.isOverTarget&&j.pointerType!=null&&B(tp(j.target,G),j.pointerType,!1),j.isOverTarget=!1}};fe.onTouchStart=G=>{if(!G.currentTarget.contains(G.target))return;let N=nHe(G.nativeEvent);if(!N)return;j.activePointerId=N.identifier,j.ignoreEmulatedMouseEvents=!0,j.isOverTarget=!0,j.isPressed=!0,j.target=G.currentTarget,j.pointerType="touch",!c&&!o&&Rp(G.currentTarget),y||mne(j.target),$(G,j.pointerType)&&G.stopPropagation(),k(lc(G.currentTarget),"scroll",le,!0)},fe.onTouchMove=G=>{if(!G.currentTarget.contains(G.target))return;if(!j.isPressed){G.stopPropagation();return}let N=yne(G.nativeEvent,j.activePointerId),Y=!0;N&&D_(N,G.currentTarget)?!j.isOverTarget&&j.pointerType!=null&&(j.isOverTarget=!0,Y=$(G,j.pointerType)):j.isOverTarget&&j.pointerType!=null&&(j.isOverTarget=!1,Y=B(G,j.pointerType,!1),Z(G)),Y&&G.stopPropagation()},fe.onTouchEnd=G=>{if(!G.currentTarget.contains(G.target))return;if(!j.isPressed){G.stopPropagation();return}let N=yne(G.nativeEvent,j.activePointerId),Y=!0;N&&D_(N,G.currentTarget)&&j.pointerType!=null?(V(G,j.pointerType),Y=B(G,j.pointerType)):j.isOverTarget&&j.pointerType!=null&&(Y=B(G,j.pointerType,!1)),Y&&G.stopPropagation(),j.isPressed=!1,j.activePointerId=null,j.isOverTarget=!1,j.ignoreEmulatedMouseEvents=!0,j.target&&!y&&HE(j.target),D()},fe.onTouchCancel=G=>{G.currentTarget.contains(G.target)&&(G.stopPropagation(),j.isPressed&&U(G))};let le=G=>{j.isPressed&&G.target.contains(j.target)&&U({currentTarget:j.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};fe.onDragStart=G=>{G.currentTarget.contains(G.target)&&U(G)}}return fe},[k,c,o,D,y,U,Z,B,$,V]);return se.useEffect(()=>()=>{var j;y||HE((j=R.current.target)!==null&&j!==void 0?j:void 0)},[y]),{isPressed:p||A,pressProps:An(E,ne)}}function AK(e){return e.tagName==="A"&&e.hasAttribute("href")}function V$(e,t){const{key:r,code:n}=e,i=t,s=i.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(i instanceof lc(i).HTMLInputElement&&!pye(i,r)||i instanceof lc(i).HTMLTextAreaElement||i.isContentEditable)&&!((s==="link"||!s&&AK(i))&&r!=="Enter")}function nHe(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function yne(e,t){const r=e.changedTouches;for(let n=0;n<r.length;n++){const i=r[n];if(i.identifier===t)return i}return null}function tp(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function iHe(e){let t=0,r=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?r=e.height/2:e.radiusY!==void 0&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function aHe(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function D_(e,t){let r=t.getBoundingClientRect(),n=iHe(e);return aHe(r,n)}function U$(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function vne(e,t){return e instanceof HTMLInputElement?!pye(e,t):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!AK(e)}const oHe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function pye(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":oHe.has(e.type)}function sHe({children:e}){let t=se.useMemo(()=>({register:()=>{}}),[]);return Ke.createElement(SK.Provider,{value:t},e)}let lHe=class{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=t}};function hye(e){let t=se.useRef({isFocused:!1,observer:null});Qa(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=fl(n=>{e==null||e(n)});return se.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=n.target,s=c=>{t.current.isFocused=!1,i.disabled&&r(new lHe("blur",c)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var c;(c=t.current.observer)===null||c===void 0||c.disconnect();let p=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:p})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:p}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function TK(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:i}=e;const s=se.useCallback(o=>{if(o.target===o.currentTarget)return n&&n(o),i&&i(!1),!0},[n,i]),c=hye(s),p=se.useCallback(o=>{const g=Ea(o.target);o.target===o.currentTarget&&g.activeElement===o.target&&(r&&r(o),i&&i(!0),c(o))},[i,r,c]);return{focusProps:{onFocus:!t&&(r||i||n)?p:void 0,onBlur:!t&&(n||i)?s:void 0}}}let nv=null,IF=new Set,r5=new Map,Py=!1,MF=!1;const uHe={Tab:!0,Escape:!0};function ZI(e,t){for(let r of IF)r(e,t)}function cHe(e){return!(e.metaKey||!Ty()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function kP(e){Py=!0,cHe(e)&&(nv="keyboard",ZI("keyboard",e))}function tc(e){nv="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Py=!0,ZI("pointer",e))}function mye(e){AF(e)&&(Py=!0,nv="virtual")}function gye(e){e.target===window||e.target===document||(!Py&&!MF&&(nv="virtual",ZI("virtual",e)),Py=!1,MF=!1)}function yye(){Py=!1,MF=!0}function kF(e){if(typeof window>"u"||r5.get(lc(e)))return;const t=lc(e),r=Ea(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Py=!0,n.apply(this,arguments)},r.addEventListener("keydown",kP,!0),r.addEventListener("keyup",kP,!0),r.addEventListener("click",mye,!0),t.addEventListener("focus",gye,!0),t.addEventListener("blur",yye,!1),typeof PointerEvent<"u"?(r.addEventListener("pointerdown",tc,!0),r.addEventListener("pointermove",tc,!0),r.addEventListener("pointerup",tc,!0)):(r.addEventListener("mousedown",tc,!0),r.addEventListener("mousemove",tc,!0),r.addEventListener("mouseup",tc,!0)),t.addEventListener("beforeunload",()=>{vye(e)},{once:!0}),r5.set(t,{focus:n})}const vye=(e,t)=>{const r=lc(e),n=Ea(e);t&&n.removeEventListener("DOMContentLoaded",t),r5.has(r)&&(r.HTMLElement.prototype.focus=r5.get(r).focus,n.removeEventListener("keydown",kP,!0),n.removeEventListener("keyup",kP,!0),n.removeEventListener("click",mye,!0),r.removeEventListener("focus",gye,!0),r.removeEventListener("blur",yye,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",tc,!0),n.removeEventListener("pointermove",tc,!0),n.removeEventListener("pointerup",tc,!0)):(n.removeEventListener("mousedown",tc,!0),n.removeEventListener("mousemove",tc,!0),n.removeEventListener("mouseup",tc,!0)),r5.delete(r))};function dHe(e){const t=Ea(e);let r;return t.readyState!=="loading"?kF(e):(r=()=>{kF(e)},t.addEventListener("DOMContentLoaded",r)),()=>vye(e,r)}typeof document<"u"&&dHe();function PK(){return nv!=="pointer"}function OF(){return nv}function fHe(e){nv=e,ZI(e,null)}const pHe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function hHe(e,t,r){var n;const i=typeof window<"u"?lc(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?lc(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?lc(r==null?void 0:r.target).HTMLElement:HTMLElement,p=typeof window<"u"?lc(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return e=e||(r==null?void 0:r.target)instanceof i&&!pHe.has(r==null||(n=r.target)===null||n===void 0?void 0:n.type)||(r==null?void 0:r.target)instanceof s||(r==null?void 0:r.target)instanceof c&&(r==null?void 0:r.target.isContentEditable),!(e&&t==="keyboard"&&r instanceof p&&!uHe[r.key])}function mHe(e,t,r){kF(),se.useEffect(()=>{let n=(i,s)=>{hHe(!!(r!=null&&r.isTextInput),i,s)&&e(PK())};return IF.add(n),()=>{IF.delete(n)}},t)}function XI(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=e,s=se.useRef({isFocusWithin:!1}),c=se.useCallback(g=>{s.current.isFocusWithin&&!g.currentTarget.contains(g.relatedTarget)&&(s.current.isFocusWithin=!1,r&&r(g),i&&i(!1))},[r,i,s]),p=hye(c),o=se.useCallback(g=>{!s.current.isFocusWithin&&document.activeElement===g.target&&(n&&n(g),i&&i(!0),s.current.isFocusWithin=!0,p(g))},[n,i,p]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:o,onBlur:c}}}let OP=!1,W$=0;function DF(){OP=!0,setTimeout(()=>{OP=!1},50)}function _ne(e){e.pointerType==="touch"&&DF()}function gHe(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",_ne):document.addEventListener("touchend",DF),W$++,()=>{W$--,!(W$>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",_ne):document.removeEventListener("touchend",DF))}}function Y4(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:i}=e,[s,c]=se.useState(!1),p=se.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;se.useEffect(gHe,[]);let{hoverProps:o,triggerHoverEnd:g}=se.useMemo(()=>{let y=(A,M)=>{if(p.pointerType=M,i||M==="touch"||p.isHovered||!A.currentTarget.contains(A.target))return;p.isHovered=!0;let R=A.currentTarget;p.target=R,t&&t({type:"hoverstart",target:R,pointerType:M}),r&&r(!0),c(!0)},x=(A,M)=>{if(p.pointerType="",p.target=null,M==="touch"||!p.isHovered)return;p.isHovered=!1;let R=A.currentTarget;n&&n({type:"hoverend",target:R,pointerType:M}),r&&r(!1),c(!1)},E={};return typeof PointerEvent<"u"?(E.onPointerEnter=A=>{OP&&A.pointerType==="mouse"||y(A,A.pointerType)},E.onPointerLeave=A=>{!i&&A.currentTarget.contains(A.target)&&x(A,A.pointerType)}):(E.onTouchStart=()=>{p.ignoreEmulatedMouseEvents=!0},E.onMouseEnter=A=>{!p.ignoreEmulatedMouseEvents&&!OP&&y(A,"mouse"),p.ignoreEmulatedMouseEvents=!1},E.onMouseLeave=A=>{!i&&A.currentTarget.contains(A.target)&&x(A,"mouse")}),{hoverProps:E,triggerHoverEnd:x}},[t,r,n,i,p]);return se.useEffect(()=>{i&&g({currentTarget:p.target},p.pointerType)},[i]),{hoverProps:o,isHovered:s}}function yHe(e){let{ref:t,onInteractOutside:r,isDisabled:n,onInteractOutsideStart:i}=e,s=se.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),c=fl(o=>{r&&ZE(o,t)&&(i&&i(o),s.current.isPointerDown=!0)}),p=fl(o=>{r&&r(o)});se.useEffect(()=>{let o=s.current;if(n)return;const g=t.current,y=Ea(g);if(typeof PointerEvent<"u"){let x=E=>{o.isPointerDown&&ZE(E,t)&&p(E),o.isPointerDown=!1};return y.addEventListener("pointerdown",c,!0),y.addEventListener("pointerup",x,!0),()=>{y.removeEventListener("pointerdown",c,!0),y.removeEventListener("pointerup",x,!0)}}else{let x=A=>{o.ignoreEmulatedMouseEvents?o.ignoreEmulatedMouseEvents=!1:o.isPointerDown&&ZE(A,t)&&p(A),o.isPointerDown=!1},E=A=>{o.ignoreEmulatedMouseEvents=!0,o.isPointerDown&&ZE(A,t)&&p(A),o.isPointerDown=!1};return y.addEventListener("mousedown",c,!0),y.addEventListener("mouseup",x,!0),y.addEventListener("touchstart",c,!0),y.addEventListener("touchend",E,!0),()=>{y.removeEventListener("mousedown",c,!0),y.removeEventListener("mouseup",x,!0),y.removeEventListener("touchstart",c,!0),y.removeEventListener("touchend",E,!0)}}},[t,n,c,p])}function ZE(e,t){if(e.button>0)return!1;if(e.target){const r=e.target.ownerDocument;if(!r||!r.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}function bne(e){if(!e)return;let t=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(n),t&&r.stopPropagation()}}function _ye(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:bne(e.onKeyDown),onKeyUp:bne(e.onKeyUp)}}}const vHe=500;function bye(e){let{isDisabled:t,onLongPressStart:r,onLongPressEnd:n,onLongPress:i,threshold:s=vHe,accessibilityDescription:c}=e;const p=se.useRef();let{addGlobalListener:o,removeGlobalListener:g}=iye(),{pressProps:y}=rv({isDisabled:t,onPressStart(E){if(E.continuePropagation(),(E.pointerType==="mouse"||E.pointerType==="touch")&&(r&&r({...E,type:"longpressstart"}),p.current=setTimeout(()=>{E.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),i&&i({...E,type:"longpress"}),p.current=void 0},s),E.pointerType==="touch")){let A=M=>{M.preventDefault()};o(E.target,"contextmenu",A,{once:!0}),o(window,"pointerup",()=>{setTimeout(()=>{g(E.target,"contextmenu",A)},30)},{once:!0})}},onPressEnd(E){p.current&&clearTimeout(p.current),n&&(E.pointerType==="mouse"||E.pointerType==="touch")&&n({...E,type:"longpressend"})}}),x=wK(i&&!t?c:void 0);return{longPressProps:An(y,x)}}function Cy(e){const t=Ea(e);if(OF()==="virtual"){let r=t.activeElement;nye(()=>{t.activeElement===r&&e.isConnected&&Rp(e)})}else Rp(e)}function _He(e){const t=lc(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:r,visibility:n}=e.style,i=r!=="none"&&n!=="hidden"&&n!=="collapse";if(i){const{getComputedStyle:s}=e.ownerDocument.defaultView;let{display:c,visibility:p}=s(e);i=c!=="none"&&p!=="hidden"&&p!=="collapse"}return i}function bHe(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function xye(e,t){return e.nodeName!=="#comment"&&_He(e)&&bHe(e,t)&&(!e.parentElement||xye(e.parentElement,e))}const xne=Ke.createContext(null);let ha=null;function wye(e){let{children:t,contain:r,restoreFocus:n,autoFocus:i}=e,s=se.useRef(null),c=se.useRef(null),p=se.useRef([]),{parentNode:o}=se.useContext(xne)||{},g=se.useMemo(()=>new RF({scopeRef:p}),[p]);Qa(()=>{let E=o||mo.root;if(mo.getTreeNode(E.scopeRef)&&ha&&!RP(ha,E.scopeRef)){let A=mo.getTreeNode(ha);A&&(E=A)}E.addChild(g),mo.addNode(g)},[g,o]),Qa(()=>{let E=mo.getTreeNode(p);E&&(E.contain=!!r)},[r]),Qa(()=>{var E;let A=(E=s.current)===null||E===void 0?void 0:E.nextSibling,M=[];for(;A&&A!==c.current;)M.push(A),A=A.nextSibling;p.current=M},[t]),PHe(p,n,r),EHe(p,r),IHe(p,n,r),THe(p,i),se.useEffect(()=>{const E=Ea(p.current?p.current[0]:void 0).activeElement;let A=null;if(Ns(E,p.current)){for(let M of mo.traverse())M.scopeRef&&Ns(E,M.scopeRef.current)&&(A=M);A===mo.getTreeNode(p)&&(ha=A.scopeRef)}},[p]),Qa(()=>()=>{var E,A,M;let R=(M=(A=mo.getTreeNode(p))===null||A===void 0||(E=A.parent)===null||E===void 0?void 0:E.scopeRef)!==null&&M!==void 0?M:null;(p===ha||RP(p,ha))&&(!R||mo.getTreeNode(R))&&(ha=R),mo.removeTreeNode(p)},[p]);let y=se.useMemo(()=>xHe(p),[]),x=se.useMemo(()=>({focusManager:y,parentNode:g}),[g,y]);return Ke.createElement(xne.Provider,{value:x},Ke.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:s}),t,Ke.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:c}))}function xHe(e){return{focusNext(t={}){let r=e.current,{from:n,tabbable:i,wrap:s,accept:c}=t,p=n||Ea(r[0]).activeElement,o=r[0].previousElementSibling,g=Wg(r),y=Lp(g,{tabbable:i,accept:c},r);y.currentNode=Ns(p,r)?p:o;let x=y.nextNode();return!x&&s&&(y.currentNode=o,x=y.nextNode()),x&&$p(x,!0),x},focusPrevious(t={}){let r=e.current,{from:n,tabbable:i,wrap:s,accept:c}=t,p=n||Ea(r[0]).activeElement,o=r[r.length-1].nextElementSibling,g=Wg(r),y=Lp(g,{tabbable:i,accept:c},r);y.currentNode=Ns(p,r)?p:o;let x=y.previousNode();return!x&&s&&(y.currentNode=o,x=y.previousNode()),x&&$p(x,!0),x},focusFirst(t={}){let r=e.current,{tabbable:n,accept:i}=t,s=Wg(r),c=Lp(s,{tabbable:n,accept:i},r);c.currentNode=r[0].previousElementSibling;let p=c.nextNode();return p&&$p(p,!0),p},focusLast(t={}){let r=e.current,{tabbable:n,accept:i}=t,s=Wg(r),c=Lp(s,{tabbable:n,accept:i},r);c.currentNode=r[r.length-1].nextElementSibling;let p=c.previousNode();return p&&$p(p,!0),p}}}const CK=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],wHe=CK.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";CK.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const SHe=CK.join(':not([hidden]):not([tabindex="-1"]),');function Wg(e){return e[0].parentElement}function R6(e){let t=mo.getTreeNode(ha);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function EHe(e,t){let r=se.useRef(),n=se.useRef();Qa(()=>{let i=e.current;if(!t){n.current&&(cancelAnimationFrame(n.current),n.current=void 0);return}const s=Ea(i?i[0]:void 0);let c=g=>{if(g.key!=="Tab"||g.altKey||g.ctrlKey||g.metaKey||!R6(e)||g.isComposing)return;let y=s.activeElement,x=e.current;if(!x||!Ns(y,x))return;let E=Wg(x),A=Lp(E,{tabbable:!0},x);if(!y)return;A.currentNode=y;let M=g.shiftKey?A.previousNode():A.nextNode();M||(A.currentNode=g.shiftKey?x[x.length-1].nextElementSibling:x[0].previousElementSibling,M=g.shiftKey?A.previousNode():A.nextNode()),g.preventDefault(),M&&$p(M,!0)},p=g=>{(!ha||RP(ha,e))&&Ns(g.target,e.current)?(ha=e,r.current=g.target):R6(e)&&!DP(g.target,e)?r.current?r.current.focus():ha&&ha.current&&$P(ha.current):R6(e)&&(r.current=g.target)},o=g=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{if(s.activeElement&&R6(e)&&!DP(s.activeElement,e))if(ha=e,s.body.contains(g.target)){var y;r.current=g.target,(y=r.current)===null||y===void 0||y.focus()}else ha.current&&$P(ha.current)})};return s.addEventListener("keydown",c,!1),s.addEventListener("focusin",p,!1),i==null||i.forEach(g=>g.addEventListener("focusin",p,!1)),i==null||i.forEach(g=>g.addEventListener("focusout",o,!1)),()=>{s.removeEventListener("keydown",c,!1),s.removeEventListener("focusin",p,!1),i==null||i.forEach(g=>g.removeEventListener("focusin",p,!1)),i==null||i.forEach(g=>g.removeEventListener("focusout",o,!1))}},[e,t]),Qa(()=>()=>{n.current&&cancelAnimationFrame(n.current)},[n])}function Sye(e){return DP(e)}function Ns(e,t){return!e||!t?!1:t.some(r=>r.contains(e))}function DP(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:r}of mo.traverse(mo.getTreeNode(t)))if(r&&Ns(e,r.current))return!0;return!1}function AHe(e){return DP(e,ha)}function RP(e,t){var r;let n=(r=mo.getTreeNode(t))===null||r===void 0?void 0:r.parent;for(;n;){if(n.scopeRef===e)return!0;n=n.parent}return!1}function $p(e,t=!1){if(e!=null&&!t)try{Cy(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function $P(e,t=!0){let r=e[0].previousElementSibling,n=Wg(e),i=Lp(n,{tabbable:t},e);i.currentNode=r;let s=i.nextNode();t&&!s&&(n=Wg(e),i=Lp(n,{tabbable:!1},e),i.currentNode=r,s=i.nextNode()),$p(s)}function THe(e,t){const r=Ke.useRef(t);se.useEffect(()=>{if(r.current){ha=e;const n=Ea(e.current?e.current[0]:void 0);!Ns(n.activeElement,ha.current)&&e.current&&$P(e.current)}r.current=!1},[e])}function PHe(e,t,r){Qa(()=>{if(t||r)return;let n=e.current;const i=Ea(n?n[0]:void 0);let s=c=>{let p=c.target;Ns(p,e.current)?ha=e:Sye(p)||(ha=null)};return i.addEventListener("focusin",s,!1),n==null||n.forEach(c=>c.addEventListener("focusin",s,!1)),()=>{i.removeEventListener("focusin",s,!1),n==null||n.forEach(c=>c.removeEventListener("focusin",s,!1))}},[e,t,r])}function CHe(e){let t=mo.getTreeNode(ha);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function IHe(e,t,r){const n=se.useRef(typeof document<"u"?Ea(e.current?e.current[0]:void 0).activeElement:null);Qa(()=>{let i=e.current;const s=Ea(i?i[0]:void 0);if(!t||r)return;let c=()=>{(!ha||RP(ha,e))&&Ns(s.activeElement,e.current)&&(ha=e)};return s.addEventListener("focusin",c,!1),i==null||i.forEach(p=>p.addEventListener("focusin",c,!1)),()=>{s.removeEventListener("focusin",c,!1),i==null||i.forEach(p=>p.removeEventListener("focusin",c,!1))}},[e,r]),Qa(()=>{const i=Ea(e.current?e.current[0]:void 0);if(!t)return;let s=c=>{if(c.key!=="Tab"||c.altKey||c.ctrlKey||c.metaKey||!R6(e)||c.isComposing)return;let p=i.activeElement;if(!Ns(p,e.current))return;let o=mo.getTreeNode(e);if(!o)return;let g=o.nodeToRestore,y=Lp(i.body,{tabbable:!0});y.currentNode=p;let x=c.shiftKey?y.previousNode():y.nextNode();if((!g||!i.body.contains(g)||g===i.body)&&(g=void 0,o.nodeToRestore=void 0),(!x||!Ns(x,e.current))&&g){y.currentNode=g;do x=c.shiftKey?y.previousNode():y.nextNode();while(Ns(x,e.current));c.preventDefault(),c.stopPropagation(),x?$p(x,!0):Sye(g)?$p(g,!0):p.blur()}};return r||i.addEventListener("keydown",s,!0),()=>{r||i.removeEventListener("keydown",s,!0)}},[e,t,r]),Qa(()=>{const i=Ea(e.current?e.current[0]:void 0);if(!t)return;let s=mo.getTreeNode(e);if(s){var c;return s.nodeToRestore=(c=n.current)!==null&&c!==void 0?c:void 0,()=>{let p=mo.getTreeNode(e);if(!p)return;let o=p.nodeToRestore;if(t&&o&&(Ns(i.activeElement,e.current)||i.activeElement===i.body&&CHe(e))){let g=mo.clone();requestAnimationFrame(()=>{if(i.activeElement===i.body){let y=g.getTreeNode(e);for(;y;){if(y.nodeToRestore&&y.nodeToRestore.isConnected){$p(y.nodeToRestore);return}y=y.parent}for(y=g.getTreeNode(e);y;){if(y.scopeRef&&y.scopeRef.current&&mo.getTreeNode(y.scopeRef)){$P(y.scopeRef.current,!0);return}y=y.parent}}})}}}},[e,t])}function Lp(e,t,r){let n=t!=null&&t.tabbable?SHe:wHe,i=Ea(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(s){var c;return!(t==null||(c=t.from)===null||c===void 0)&&c.contains(s)?NodeFilter.FILTER_REJECT:s.matches(n)&&xye(s)&&(!r||Ns(s,r))&&(!(t!=null&&t.accept)||t.accept(s))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(i.currentNode=t.from),i}let MHe=class Eye{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,r,n){let i=this.fastMap.get(r??null);if(!i)return;let s=new RF({scopeRef:t});i.addChild(s),s.parent=i,this.fastMap.set(t,s),n&&(s.nodeToRestore=n)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let r=this.fastMap.get(t);if(!r)return;let n=r.parent;for(let s of this.traverse())s!==r&&r.nodeToRestore&&s.nodeToRestore&&r.scopeRef&&r.scopeRef.current&&Ns(s.nodeToRestore,r.scopeRef.current)&&(s.nodeToRestore=r.nodeToRestore);let i=r.children;n&&(n.removeChild(r),i.size>0&&i.forEach(s=>n&&n.addChild(s))),this.fastMap.delete(r.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let r of t.children)yield*this.traverse(r)}clone(){var t;let r=new Eye;var n;for(let i of this.traverse())r.addTreeNode(i.scopeRef,(n=(t=i.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&n!==void 0?n:null,i.nodeToRestore);return r}constructor(){this.fastMap=new Map,this.root=new RF({scopeRef:null}),this.fastMap.set(null,this.root)}},RF=class{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}},mo=new MHe;function _d(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,i=se.useRef({isFocused:!1,isFocusVisible:t||PK()}),[s,c]=se.useState(!1),[p,o]=se.useState(()=>i.current.isFocused&&i.current.isFocusVisible),g=se.useCallback(()=>o(i.current.isFocused&&i.current.isFocusVisible),[]),y=se.useCallback(A=>{i.current.isFocused=A,c(A),g()},[g]);mHe(A=>{i.current.isFocusVisible=A,g()},[],{isTextInput:r});let{focusProps:x}=TK({isDisabled:n,onFocusChange:y}),{focusWithinProps:E}=XI({isDisabled:!n,onFocusWithinChange:y});return{isFocused:s,isFocusVisible:p,focusProps:n?E:x}}let kHe=Ke.createContext(null);function OHe(e){let t=se.useContext(kHe)||{};oye(t,e);let{ref:r,...n}=t;return n}function IK(e,t){let{focusProps:r}=TK(e),{keyboardProps:n}=_ye(e),i=An(r,n),s=OHe(t),c=e.isDisabled?{}:s,p=se.useRef(e.autoFocus);return se.useEffect(()=>{p.current&&t.current&&Cy(t.current),p.current=!1},[t]),{focusableProps:An({...i,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},c)}}const rp=[];function DHe(e,t){let{onClose:r,shouldCloseOnBlur:n,isOpen:i,isDismissable:s=!1,isKeyboardDismissDisabled:c=!1,shouldCloseOnInteractOutside:p}=e;se.useEffect(()=>(i&&rp.push(t),()=>{let M=rp.indexOf(t);M>=0&&rp.splice(M,1)}),[i,t]);let o=()=>{rp[rp.length-1]===t&&r&&r()},g=M=>{(!p||p(M.target))&&rp[rp.length-1]===t&&(M.stopPropagation(),M.preventDefault())},y=M=>{(!p||p(M.target))&&(rp[rp.length-1]===t&&(M.stopPropagation(),M.preventDefault()),o())},x=M=>{M.key==="Escape"&&!c&&!M.nativeEvent.isComposing&&(M.stopPropagation(),M.preventDefault(),o())};yHe({ref:t,onInteractOutside:s&&i?y:null,onInteractOutsideStart:g});let{focusWithinProps:E}=XI({isDisabled:!n,onBlurWithin:M=>{!M.relatedTarget||AHe(M.relatedTarget)||(!p||p(M.relatedTarget))&&r()}}),A=M=>{M.target===M.currentTarget&&M.preventDefault()};return{overlayProps:{onKeyDown:x,...E},underlayProps:{onPointerDown:A}}}function Aye(e,t,r){let{type:n}=e,{isOpen:i}=t;se.useEffect(()=>{r&&r.current&&dye.set(r.current,t.close)});let s;n==="menu"?s=!0:n==="listbox"&&(s="listbox");let c=L1();return{triggerProps:{"aria-haspopup":s,"aria-expanded":i,"aria-controls":i?c:null,onPress:t.toggle},overlayProps:{id:c}}}const $F=Ke.createContext(null);function RHe(e){let{children:t}=e,r=se.useContext($F),[n,i]=se.useState(0),s=se.useMemo(()=>({parent:r,modalCount:n,addModal(){i(c=>c+1),r&&r.addModal()},removeModal(){i(c=>c-1),r&&r.removeModal()}}),[r,n]);return Ke.createElement($F.Provider,{value:s},t)}function $He(){let e=se.useContext($F);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:null}}}function LHe(e){let{modalProviderProps:t}=$He();return Ke.createElement("div",{"data-overlay-container":!0,...e,...t})}function BHe(e){return Ke.createElement(RHe,null,Ke.createElement(LHe,e))}var Tye={};Tye={dismiss:"تجاهل"};var Pye={};Pye={dismiss:"Отхвърляне"};var Cye={};Cye={dismiss:"Odstranit"};var Iye={};Iye={dismiss:"Luk"};var Mye={};Mye={dismiss:"Schließen"};var kye={};kye={dismiss:"Απόρριψη"};var Oye={};Oye={dismiss:"Dismiss"};var Dye={};Dye={dismiss:"Descartar"};var Rye={};Rye={dismiss:"Lõpeta"};var $ye={};$ye={dismiss:"Hylkää"};var Lye={};Lye={dismiss:"Rejeter"};var Bye={};Bye={dismiss:"התעלם"};var zye={};zye={dismiss:"Odbaci"};var Nye={};Nye={dismiss:"Elutasítás"};var Fye={};Fye={dismiss:"Ignora"};var jye={};jye={dismiss:"閉じる"};var Vye={};Vye={dismiss:"무시"};var Uye={};Uye={dismiss:"Atmesti"};var Wye={};Wye={dismiss:"Nerādīt"};var Kye={};Kye={dismiss:"Lukk"};var Hye={};Hye={dismiss:"Negeren"};var Gye={};Gye={dismiss:"Zignoruj"};var qye={};qye={dismiss:"Descartar"};var Zye={};Zye={dismiss:"Dispensar"};var Xye={};Xye={dismiss:"Revocare"};var Yye={};Yye={dismiss:"Пропустить"};var Jye={};Jye={dismiss:"Zrušiť"};var Qye={};Qye={dismiss:"Opusti"};var eve={};eve={dismiss:"Odbaci"};var tve={};tve={dismiss:"Avvisa"};var rve={};rve={dismiss:"Kapat"};var nve={};nve={dismiss:"Скасувати"};var ive={};ive={dismiss:"取消"};var ave={};ave={dismiss:"關閉"};var ove={};ove={"ar-AE":Tye,"bg-BG":Pye,"cs-CZ":Cye,"da-DK":Iye,"de-DE":Mye,"el-GR":kye,"en-US":Oye,"es-ES":Dye,"et-EE":Rye,"fi-FI":$ye,"fr-FR":Lye,"he-IL":Bye,"hr-HR":zye,"hu-HU":Nye,"it-IT":Fye,"ja-JP":jye,"ko-KR":Vye,"lt-LT":Uye,"lv-LV":Wye,"nb-NO":Kye,"nl-NL":Hye,"pl-PL":Gye,"pt-BR":qye,"pt-PT":Zye,"ro-RO":Xye,"ru-RU":Yye,"sk-SK":Jye,"sl-SI":Qye,"sr-SP":eve,"sv-SE":tve,"tr-TR":rve,"uk-UA":nve,"zh-CN":ive,"zh-TW":ave};const wne={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function zHe(e={}){let{style:t,isFocusable:r}=e,[n,i]=se.useState(!1),{focusWithinProps:s}=XI({isDisabled:!r,onFocusWithinChange:p=>i(p)}),c=se.useMemo(()=>n?t:t?{...wne,...t}:wne,[n]);return{visuallyHiddenProps:{...s,style:c}}}function _9(e){let{children:t,elementType:r="div",isFocusable:n,style:i,...s}=e,{visuallyHiddenProps:c}=zHe(e);return Ke.createElement(r,An(s,c),t)}function NHe(e){return e&&e.__esModule?e.default:e}function Sne(e){let{onDismiss:t,...r}=e,n=y9(NHe(ove),"@react-aria/overlays"),i=aye(r,n.format("dismiss")),s=()=>{t&&t()};return Ke.createElement(_9,null,Ke.createElement("button",{...i,tabIndex:-1,onClick:s,style:{width:1,height:1}}))}let A2=new WeakMap,Wu=[];function FHe(e,t=document.body){let r=new Set(e),n=new Set,i=o=>{for(let E of o.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(E);let g=E=>{if(r.has(E)||n.has(E.parentElement)&&E.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let A of r)if(E.contains(A))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},y=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:g}),x=g(o);if(x===NodeFilter.FILTER_ACCEPT&&s(o),x!==NodeFilter.FILTER_REJECT){let E=y.nextNode();for(;E!=null;)s(E),E=y.nextNode()}},s=o=>{var g;let y=(g=A2.get(o))!==null&&g!==void 0?g:0;o.getAttribute("aria-hidden")==="true"&&y===0||(y===0&&o.setAttribute("aria-hidden","true"),n.add(o),A2.set(o,y+1))};Wu.length&&Wu[Wu.length-1].disconnect(),i(t);let c=new MutationObserver(o=>{for(let g of o)if(!(g.type!=="childList"||g.addedNodes.length===0)&&![...r,...n].some(y=>y.contains(g.target))){for(let y of g.removedNodes)y instanceof Element&&(r.delete(y),n.delete(y));for(let y of g.addedNodes)(y instanceof HTMLElement||y instanceof SVGElement)&&(y.dataset.liveAnnouncer==="true"||y.dataset.reactAriaTopLayer==="true")?r.add(y):y instanceof Element&&i(y)}});c.observe(t,{childList:!0,subtree:!0});let p={observe(){c.observe(t,{childList:!0,subtree:!0})},disconnect(){c.disconnect()}};return Wu.push(p),()=>{c.disconnect();for(let o of n){let g=A2.get(o);g===1?(o.removeAttribute("aria-hidden"),A2.delete(o)):A2.set(o,g-1)}p===Wu[Wu.length-1]?(Wu.pop(),Wu.length&&Wu[Wu.length-1].observe()):Wu.splice(Wu.indexOf(p),1)}}const jHe=se.createContext({});function VHe(){var e;return(e=se.useContext(jHe))!==null&&e!==void 0?e:{}}const sve=Ke.createContext(null);function UHe(e){let t=HI(),{portalContainer:r=t?null:document.body,isExiting:n}=e,[i,s]=se.useState(!1),c=se.useMemo(()=>({contain:i,setContain:s}),[i,s]),{getContainer:p}=VHe();if(!e.portalContainer&&p&&(r=p()),!r)return null;let o=e.children;return e.disableFocusManagement||(o=Ke.createElement(wye,{restoreFocus:!0,contain:i&&!n},o)),o=Ke.createElement(sve.Provider,{value:c},Ke.createElement(sHe,null,o)),jPe.createPortal(o,r)}function WHe(){let e=se.useContext(sve),t=e==null?void 0:e.setContain;Qa(()=>{t==null||t(!0)},[t])}var KHe=({children:e,navigate:t,disableAnimation:r=!1,disableRipple:n=!1,skipFramerMotionAnimations:i=r,validationBehavior:s="aria",locale:c="en-US",defaultDates:p,createCalendar:o,...g})=>{let y=e;t&&(y=H.jsx(TKe,{navigate:t,children:y}));const x=se.useMemo(()=>(r&&i&&(GW.skipAnimations=!0),{createCalendar:o,defaultDates:p,disableAnimation:r,disableRipple:n,validationBehavior:s}),[o,p==null?void 0:p.maxDate,p==null?void 0:p.minDate,r,n,s]);return H.jsx(UWe,{value:x,children:H.jsx(rKe,{locale:c,children:H.jsx(BHe,{...g,children:y})})})};function La(e){return se.forwardRef(e)}var iv=(e,t,r=!0)=>{if(!t)return[e,{}];const n=t.reduce((i,s)=>s in e?{...i,[s]:e[s]}:i,{});return r?[Object.keys(e).filter(s=>!t.includes(s)).reduce((s,c)=>({...s,[c]:e[c]}),{}),n]:[e,n]},HHe={default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground",foreground:"bg-foreground text-background"},GHe={default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground",foreground:"shadow-lg shadow-foreground/40 bg-foreground text-background"},qHe={default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger",foreground:"bg-transparent border-foreground text-foreground"},ZHe={default:"bg-default/40 text-default-foreground",primary:"bg-primary/20 text-primary",secondary:"bg-secondary/20 text-secondary",success:"bg-success/20 text-success-600 dark:text-success",warning:"bg-warning/20 text-warning-600 dark:text-warning",danger:"bg-danger/20 text-danger dark:text-danger-500",foreground:"bg-foreground/10 text-foreground"},XHe={default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger",foreground:"border-default bg-default-100 text-foreground"},YHe={default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger",foreground:"bg-transparent text-foreground"},JHe={default:"border-default text-default-foreground hover:!bg-default",primary:"border-primary text-primary hover:!text-primary-foreground hover:!bg-primary",secondary:"border-secondary text-secondary hover:text-secondary-foreground hover:!bg-secondary",success:"border-success text-success hover:!text-success-foreground hover:!bg-success",warning:"border-warning text-warning hover:!text-warning-foreground hover:!bg-warning",danger:"border-danger text-danger hover:!text-danger-foreground hover:!bg-danger",foreground:"border-foreground text-foreground hover:!bg-foreground"},zn={solid:HHe,shadow:GHe,bordered:qHe,flat:ZHe,faded:XHe,light:YHe,ghost:JHe},XE=["small","medium","large"],Ene={theme:{opacity:["disabled"],spacing:["divider"],borderWidth:XE,borderRadius:XE},classGroups:{shadow:[{shadow:XE}],"font-size":[{text:["tiny",...XE]}],"bg-image":["bg-stripe-gradient"]}},Ane=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ru=e=>!e||typeof e!="object"||Object.keys(e).length===0,QHe=(e,t)=>JSON.stringify(e)===JSON.stringify(t);function lve(e,t){e.forEach(function(r){Array.isArray(r)?lve(r,t):t.push(r)})}function uve(e){let t=[];return lve(e,t),t}var cve=(...e)=>uve(e).filter(Boolean),dve=(e,t)=>{let r={},n=Object.keys(e),i=Object.keys(t);for(let s of n)if(i.includes(s)){let c=e[s],p=t[s];typeof c=="object"&&typeof p=="object"?r[s]=dve(c,p):Array.isArray(c)||Array.isArray(p)?r[s]=cve(p,c):r[s]=p+" "+c}else r[s]=e[s];for(let s of i)n.includes(s)||(r[s]=t[s]);return r},Tne=e=>!e||typeof e!="string"?e:e.replace(/\s+/g," ").trim();function eGe(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=fve(t))&&(n&&(n+=" "),n+=r);return n}function fve(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=fve(e[n]))&&(r&&(r+=" "),r+=t);return r}var MK="-";function tGe(e){var t=nGe(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,i=n===void 0?{}:n;function s(p){var o=p.split(MK);return o[0]===""&&o.length!==1&&o.shift(),pve(o,t)||rGe(p)}function c(p,o){var g=r[p]||[];return o&&i[p]?[].concat(g,i[p]):g}return{getClassGroupId:s,getConflictingClassGroupIds:c}}function pve(e,t){var c;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),i=n?pve(e.slice(1),n):void 0;if(i)return i;if(t.validators.length!==0){var s=e.join(MK);return(c=t.validators.find(function(p){var o=p.validator;return o(s)}))==null?void 0:c.classGroupId}}var Pne=/^\[(.+)\]$/;function rGe(e){if(Pne.test(e)){var t=Pne.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function nGe(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},i=aGe(Object.entries(e.classGroups),r);return i.forEach(function(s){var c=s[0],p=s[1];LF(p,n,c,t)}),n}function LF(e,t,r,n){e.forEach(function(i){if(typeof i=="string"){var s=i===""?t:Cne(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(iGe(i)){LF(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(function(c){var p=c[0],o=c[1];LF(o,Cne(t,p),r,n)})})}function Cne(e,t){var r=e;return t.split(MK).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function iGe(e){return e.isThemeGetter}function aGe(e,t){return t?e.map(function(r){var n=r[0],i=r[1],s=i.map(function(c){return typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(function(p){var o=p[0],g=p[1];return[t+o,g]})):c});return[n,s]}):e}function oGe(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function i(s,c){r.set(s,c),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(c){var p=r.get(c);if(p!==void 0)return p;if((p=n.get(c))!==void 0)return i(c,p),p},set:function(c,p){r.has(c)?r.set(c,p):i(c,p)}}}var hve="!";function sGe(e){var t=e.separator||":",r=t.length===1,n=t[0],i=t.length;return function(c){for(var p=[],o=0,g=0,y,x=0;x<c.length;x++){var E=c[x];if(o===0){if(E===n&&(r||c.slice(x,x+i)===t)){p.push(c.slice(g,x)),g=x+i;continue}if(E==="/"){y=x;continue}}E==="["?o++:E==="]"&&o--}var A=p.length===0?c:c.substring(g),M=A.startsWith(hve),R=M?A.substring(1):A,k=y&&y>g?y-g:void 0;return{modifiers:p,hasImportantModifier:M,baseClassName:R,maybePostfixModifierPosition:k}}}function lGe(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var i=n[0]==="[";i?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function uGe(e){return{cache:oGe(e.cacheSize),splitModifiers:sGe(e),...tGe(e)}}var cGe=/\s+/;function dGe(e,t){var r=t.splitModifiers,n=t.getClassGroupId,i=t.getConflictingClassGroupIds,s=new Set;return e.trim().split(cGe).map(function(c){var p=r(c),o=p.modifiers,g=p.hasImportantModifier,y=p.baseClassName,x=p.maybePostfixModifierPosition,E=n(x?y.substring(0,x):y),A=!!x;if(!E){if(!x)return{isTailwindClass:!1,originalClassName:c};if(E=n(y),!E)return{isTailwindClass:!1,originalClassName:c};A=!1}var M=lGe(o).join(":"),R=g?M+hve:M;return{isTailwindClass:!0,modifierId:R,classGroupId:E,originalClassName:c,hasPostfixModifier:A}}).reverse().filter(function(c){if(!c.isTailwindClass)return!0;var p=c.modifierId,o=c.classGroupId,g=c.hasPostfixModifier,y=p+o;return s.has(y)?!1:(s.add(y),i(o,g).forEach(function(x){return s.add(p+x)}),!0)}).reverse().map(function(c){return c.originalClassName}).join(" ")}function BF(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i,s,c=p;function p(g){var y=t[0],x=t.slice(1),E=x.reduce(function(A,M){return M(A)},y());return n=uGe(E),i=n.cache.get,s=n.cache.set,c=o,o(g)}function o(g){var y=i(g);if(y)return y;var x=dGe(g,n);return s(g,x),x}return function(){return c(eGe.apply(null,arguments))}}function _a(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var mve=/^\[(?:([a-z-]+):)?(.+)\]$/i,fGe=/^\d+\/\d+$/,pGe=new Set(["px","full","screen"]),hGe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mGe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gGe=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Kc(e){return Kg(e)||pGe.has(e)||fGe.test(e)||zF(e)}function zF(e){return av(e,"length",wGe)}function yGe(e){return av(e,"size",gve)}function vGe(e){return av(e,"position",gve)}function _Ge(e){return av(e,"url",SGe)}function YE(e){return av(e,"number",Kg)}function Kg(e){return!Number.isNaN(Number(e))}function bGe(e){return e.endsWith("%")&&Kg(e.slice(0,-1))}function T2(e){return Ine(e)||av(e,"number",Ine)}function yi(e){return mve.test(e)}function P2(){return!0}function Cm(e){return hGe.test(e)}function xGe(e){return av(e,"",EGe)}function av(e,t,r){var n=mve.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function wGe(e){return mGe.test(e)}function gve(){return!1}function SGe(e){return e.startsWith("url(")}function Ine(e){return Number.isInteger(Number(e))}function EGe(e){return gGe.test(e)}function NF(){var e=_a("colors"),t=_a("spacing"),r=_a("blur"),n=_a("brightness"),i=_a("borderColor"),s=_a("borderRadius"),c=_a("borderSpacing"),p=_a("borderWidth"),o=_a("contrast"),g=_a("grayscale"),y=_a("hueRotate"),x=_a("invert"),E=_a("gap"),A=_a("gradientColorStops"),M=_a("gradientColorStopPositions"),R=_a("inset"),k=_a("margin"),D=_a("opacity"),$=_a("padding"),B=_a("saturate"),V=_a("scale"),U=_a("sepia"),Z=_a("skew"),ne=_a("space"),j=_a("translate"),fe=function(){return["auto","contain","none"]},be=function(){return["auto","hidden","clip","visible","scroll"]},pe=function(){return["auto",yi,t]},le=function(){return[yi,t]},G=function(){return["",Kc]},N=function(){return["auto",Kg,yi]},Y=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},te=function(){return["solid","dashed","dotted","double","none"]},re=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},he=function(){return["start","end","center","between","around","evenly","stretch"]},we=function(){return["","0",yi]},ye=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ue=function(){return[Kg,YE]},J=function(){return[Kg,yi]};return{cacheSize:500,theme:{colors:[P2],spacing:[Kc],blur:["none","",Cm,yi],brightness:ue(),borderColor:[e],borderRadius:["none","","full",Cm,yi],borderSpacing:le(),borderWidth:G(),contrast:ue(),grayscale:we(),hueRotate:J(),invert:we(),gap:le(),gradientColorStops:[e],gradientColorStopPositions:[bGe,zF],inset:pe(),margin:pe(),opacity:ue(),padding:le(),saturate:ue(),scale:ue(),sepia:we(),skew:J(),space:le(),translate:le()},classGroups:{aspect:[{aspect:["auto","square","video",yi]}],container:["container"],columns:[{columns:[Cm]}],"break-after":[{"break-after":ye()}],"break-before":[{"break-before":ye()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Y(),[yi])}],overflow:[{overflow:be()}],"overflow-x":[{"overflow-x":be()}],"overflow-y":[{"overflow-y":be()}],overscroll:[{overscroll:fe()}],"overscroll-x":[{"overscroll-x":fe()}],"overscroll-y":[{"overscroll-y":fe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[R]}],"inset-x":[{"inset-x":[R]}],"inset-y":[{"inset-y":[R]}],start:[{start:[R]}],end:[{end:[R]}],top:[{top:[R]}],right:[{right:[R]}],bottom:[{bottom:[R]}],left:[{left:[R]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",T2]}],basis:[{basis:pe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yi]}],grow:[{grow:we()}],shrink:[{shrink:we()}],order:[{order:["first","last","none",T2]}],"grid-cols":[{"grid-cols":[P2]}],"col-start-end":[{col:["auto",{span:["full",T2]},yi]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[P2]}],"row-start-end":[{row:["auto",{span:[T2]},yi]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yi]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yi]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal"].concat(he())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(he(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(he(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[$]}],px:[{px:[$]}],py:[{py:[$]}],ps:[{ps:[$]}],pe:[{pe:[$]}],pt:[{pt:[$]}],pr:[{pr:[$]}],pb:[{pb:[$]}],pl:[{pl:[$]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[ne]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ne]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",yi,t]}],"min-w":[{"min-w":["min","max","fit",yi,Kc]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Cm]},Cm,yi]}],h:[{h:[yi,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",yi,Kc]}],"max-h":[{"max-h":[yi,t,"min","max","fit"]}],"font-size":[{text:["base",Cm,zF]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",YE]}],"font-family":[{font:[P2]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yi]}],"line-clamp":[{"line-clamp":["none",Kg,YE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yi,Kc]}],"list-image":[{"list-image":["none",yi]}],"list-style-type":[{list:["none","disc","decimal",yi]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[D]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(te(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Kc]}],"underline-offset":[{"underline-offset":["auto",yi,Kc]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:le()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yi]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yi]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[D]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Y(),[vGe])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yGe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_Ge]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[M]}],"gradient-via-pos":[{via:[M]}],"gradient-to-pos":[{to:[M]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[D]}],"border-style":[{border:[].concat(te(),["hidden"])}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[D]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(te())}],"outline-offset":[{"outline-offset":[yi,Kc]}],"outline-w":[{outline:[Kc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[D]}],"ring-offset-w":[{"ring-offset":[Kc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Cm,xGe]}],"shadow-color":[{shadow:[P2]}],opacity:[{opacity:[D]}],"mix-blend":[{"mix-blend":re()}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[o]}],"drop-shadow":[{"drop-shadow":["","none",Cm,yi]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[x]}],saturate:[{saturate:[B]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[o]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[D]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yi]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",yi]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",yi]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[V]}],"scale-x":[{"scale-x":[V]}],"scale-y":[{"scale-y":[V]}],rotate:[{rotate:[T2,yi]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yi]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yi]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":le()}],"scroll-mx":[{"scroll-mx":le()}],"scroll-my":[{"scroll-my":le()}],"scroll-ms":[{"scroll-ms":le()}],"scroll-me":[{"scroll-me":le()}],"scroll-mt":[{"scroll-mt":le()}],"scroll-mr":[{"scroll-mr":le()}],"scroll-mb":[{"scroll-mb":le()}],"scroll-ml":[{"scroll-ml":le()}],"scroll-p":[{"scroll-p":le()}],"scroll-px":[{"scroll-px":le()}],"scroll-py":[{"scroll-py":le()}],"scroll-ps":[{"scroll-ps":le()}],"scroll-pe":[{"scroll-pe":le()}],"scroll-pt":[{"scroll-pt":le()}],"scroll-pr":[{"scroll-pr":le()}],"scroll-pb":[{"scroll-pb":le()}],"scroll-pl":[{"scroll-pl":le()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yi]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Kc,YE]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function AGe(e,t){for(var r in t)yve(e,r,t[r]);return e}var TGe=Object.prototype.hasOwnProperty,PGe=new Set(["string","number","boolean"]);function yve(e,t,r){if(!TGe.call(e,t)||PGe.has(typeof r)||r===null){e[t]=r;return}if(Array.isArray(r)&&Array.isArray(e[t])){e[t]=e[t].concat(r);return}if(typeof r=="object"&&typeof e[t]=="object"){if(e[t]===null){e[t]=r;return}for(var n in r)yve(e[t],n,r[n])}}function CGe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return typeof e=="function"?BF.apply(void 0,[NF,e].concat(r)):BF.apply(void 0,[function(){return AGe(NF(),e)}].concat(r))}var IGe=BF(NF),MGe={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},vve=e=>e||void 0,K5=(...e)=>vve(uve(e).filter(Boolean).join(" ")),K$=null,LP={},FF=!1,C2=(...e)=>t=>t.twMerge?((!K$||FF)&&(FF=!1,K$=ru(LP)?IGe:CGe(LP)),vve(K$(K5(e)))):K5(e),Mne=(e,t)=>{for(let r in t)e.hasOwnProperty(r)?e[r]=K5(e[r],t[r]):e[r]=t[r];return e},kGe=(e,t)=>{let{extend:r=null,slots:n={},variants:i={},compoundVariants:s=[],compoundSlots:c=[],defaultVariants:p={}}=e,o={...MGe,...t},g=r!=null&&r.base?K5(r.base,e==null?void 0:e.base):e==null?void 0:e.base,y=r!=null&&r.variants&&!ru(r.variants)?dve(i,r.variants):i,x=r!=null&&r.defaultVariants&&!ru(r.defaultVariants)?{...r.defaultVariants,...p}:p;!ru(o.twMergeConfig)&&!QHe(o.twMergeConfig,LP)&&(FF=!0,LP=o.twMergeConfig);let E=ru(r==null?void 0:r.slots),A=ru(n)?{}:{base:K5(e==null?void 0:e.base,E&&(r==null?void 0:r.base)),...n},M=E?A:Mne({...r==null?void 0:r.slots},ru(A)?{base:e==null?void 0:e.base}:A),R=D=>{if(ru(y)&&ru(n)&&E)return C2(g,D==null?void 0:D.class,D==null?void 0:D.className)(o);if(s&&!Array.isArray(s))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof s}`);if(c&&!Array.isArray(c))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof c}`);let $=(le,G,N=[],Y)=>{let te=N;if(typeof G=="string")te=te.concat(Tne(G).split(" ").map(re=>`${le}:${re}`));else if(Array.isArray(G))te=te.concat(G.reduce((re,he)=>re.concat(`${le}:${he}`),[]));else if(typeof G=="object"&&typeof Y=="string"){for(let re in G)if(G.hasOwnProperty(re)&&re===Y){let he=G[re];if(he&&typeof he=="string"){let we=Tne(he);te[Y]?te[Y]=te[Y].concat(we.split(" ").map(ye=>`${le}:${ye}`)):te[Y]=we.split(" ").map(ye=>`${le}:${ye}`)}else Array.isArray(he)&&he.length>0&&(te[Y]=he.reduce((we,ye)=>we.concat(`${le}:${ye}`),[]))}}return te},B=(le,G=y,N=null,Y=null)=>{var te;let re=G[le];if(!re||ru(re))return null;let he=(te=Y==null?void 0:Y[le])!=null?te:D==null?void 0:D[le];if(he===null)return null;let we=Ane(he),ye=Array.isArray(o.responsiveVariants)&&o.responsiveVariants.length>0||o.responsiveVariants===!0,ue=x==null?void 0:x[le],J=[];if(typeof we=="object"&&ye)for(let[ke,Oe]of Object.entries(we)){let Se=re[Oe];if(ke==="initial"){ue=Oe;continue}Array.isArray(o.responsiveVariants)&&!o.responsiveVariants.includes(ke)||(J=$(ke,Se,J,N))}let de=re[we]||re[Ane(ue)];return typeof J=="object"&&typeof N=="string"&&J[N]?Mne(J,de):J.length>0?(J.push(de),J):de},V=()=>y?Object.keys(y).map(le=>B(le,y)):null,U=(le,G)=>{if(!y||typeof y!="object")return null;let N=new Array;for(let Y in y){let te=B(Y,y,le,G),re=le==="base"&&typeof te=="string"?te:te&&te[le];re&&(N[N.length]=re)}return N},Z={};for(let le in D)D[le]!==void 0&&(Z[le]=D[le]);let ne=(le,G)=>{var N;let Y=typeof(D==null?void 0:D[le])=="object"?{[le]:(N=D[le])==null?void 0:N.initial}:{};return{...x,...Z,...Y,...G}},j=(le=[],G)=>{let N=[];for(let{class:Y,className:te,...re}of le){let he=!0;for(let[we,ye]of Object.entries(re)){let ue=ne(we,G);if(Array.isArray(ye)){if(!ye.includes(ue[we])){he=!1;break}}else if(ue[we]!==ye){he=!1;break}}he&&(Y&&N.push(Y),te&&N.push(te))}return N},fe=le=>{let G=j(s,le),N=j(r==null?void 0:r.compoundVariants,le);return cve(N,G)},be=le=>{let G=fe(le);if(!Array.isArray(G))return G;let N={};for(let Y of G)if(typeof Y=="string"&&(N.base=C2(N.base,Y)(o)),typeof Y=="object")for(let[te,re]of Object.entries(Y))N[te]=C2(N[te],re)(o);return N},pe=le=>{if(c.length<1)return null;let G={};for(let{slots:N=[],class:Y,className:te,...re}of c){if(!ru(re)){let he=!0;for(let we of Object.keys(re)){let ye=ne(we,le)[we];if(ye===void 0||(Array.isArray(re[we])?!re[we].includes(ye):re[we]!==ye)){he=!1;break}}if(!he)continue}for(let he of N)G[he]=G[he]||[],G[he].push([Y,te])}return G};if(!ru(n)||!E){let le={};if(typeof M=="object"&&!ru(M))for(let G of Object.keys(M))le[G]=N=>{var Y,te;return C2(M[G],U(G,N),((Y=be(N))!=null?Y:[])[G],((te=pe(N))!=null?te:[])[G],N==null?void 0:N.class,N==null?void 0:N.className)(o)};return le}return C2(g,V(),fe(),D==null?void 0:D.class,D==null?void 0:D.className)(o)},k=()=>{if(!(!y||typeof y!="object"))return Object.keys(y)};return R.variantKeys=k(),R.extend=r,R.base=g,R.slots=M,R.variants=y,R.defaultVariants=x,R.compoundSlots=c,R.compoundVariants=s,R},ns=(e,t)=>{var r,n,i;return kGe(e,{...t,twMerge:(r=t==null?void 0:t.twMerge)!=null?r:!0,twMergeConfig:{...t==null?void 0:t.twMergeConfig,theme:{...(n=t==null?void 0:t.twMergeConfig)==null?void 0:n.theme,...Ene.theme},classGroups:{...(i=t==null?void 0:t.twMergeConfig)==null?void 0:i.classGroups,...Ene.classGroups}}})},v1=["outline-none","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],_ve=["outline-none","group-data-[focus-visible=true]:z-10","group-data-[focus-visible=true]:ring-2","group-data-[focus-visible=true]:ring-focus","group-data-[focus-visible=true]:ring-offset-2","group-data-[focus-visible=true]:ring-offset-background"],R_={default:["[&+.border-medium.border-default]:ms-[calc(theme(borderWidth.medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(theme(borderWidth.medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(theme(borderWidth.medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(theme(borderWidth.medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(theme(borderWidth.medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(theme(borderWidth.medium)*-1)]"]},kne=ns({base:"w-px h-px inline-block",variants:{isInline:{true:"inline-block",false:"block"}},defaultVariants:{isInline:!1}}),One=ns({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",circle1:["absolute","w-full","h-full","rounded-full","animate-spinner-ease-spin","border-2","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["absolute","w-full","h-full","rounded-full","opacity-75","animate-spinner-linear-spin","border-2","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"],label:"text-foreground dark:text-foreground-dark font-regular"},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current"},white:{circle1:"border-b-white",circle2:"border-b-white"},default:{circle1:"border-b-default",circle2:"border-b-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground"}}),Dne=ns({slots:{base:"flex flex-col relative gap-4",wrapper:["p-4","z-0","flex","flex-col","relative","justify-between","gap-4","shadow-small","bg-content1","overflow-auto"],table:"min-w-full h-auto",thead:"[&>tr]:first:rounded-lg",tbody:"",tr:["group","outline-none",...v1],th:["group","px-3","h-10","align-middle","bg-default-100","whitespace-nowrap","text-foreground-500","text-tiny","font-semibold","first:rounded-l-lg","rtl:first:rounded-r-lg","rtl:first:rounded-l-[unset]","last:rounded-r-lg","rtl:last:rounded-l-lg","rtl:last:rounded-r-[unset]","outline-none","data-[sortable=true]:cursor-pointer","data-[hover=true]:text-foreground-400",...v1],td:["py-2","px-3","relative","align-middle","whitespace-normal","text-small","font-normal","outline-none","[&>*]:z-1","[&>*]:relative",...v1,"before:content-['']","before:absolute","before:z-0","before:inset-0","before:opacity-0","data-[selected=true]:before:opacity-100","group-data-[disabled=true]:text-foreground-300","group-data-[disabled=true]:cursor-not-allowed"],tfoot:"",sortIcon:["ml-2","mb-px","opacity-0","text-inherit","inline-block","transition-transform-opacity","data-[visible=true]:opacity-100","group-data-[hover=true]:opacity-100","data-[direction=ascending]:rotate-180"],emptyWrapper:"text-foreground-400 align-middle text-center h-40",loadingWrapper:"absolute inset-0 flex items-center justify-center"},variants:{color:{default:{td:"before:bg-default/60 data-[selected=true]:text-default-foreground"},primary:{td:"before:bg-primary/20 data-[selected=true]:text-primary"},secondary:{td:"before:bg-secondary/20 data-[selected=true]:text-secondary"},success:{td:"before:bg-success/20 data-[selected=true]:text-success-600 dark:data-[selected=true]:text-success"},warning:{td:"before:bg-warning/20 data-[selected=true]:text-warning-600 dark:data-[selected=true]:text-warning"},danger:{td:"before:bg-danger/20 data-[selected=true]:text-danger dark:data-[selected=true]:text-danger-500"}},layout:{auto:{table:"table-auto"},fixed:{table:"table-fixed"}},radius:{none:{wrapper:"rounded-none"},sm:{wrapper:"rounded-small"},md:{wrapper:"rounded-medium"},lg:{wrapper:"rounded-large"}},shadow:{none:{wrapper:"shadow-none"},sm:{wrapper:"shadow-small"},md:{wrapper:"shadow-medium"},lg:{wrapper:"shadow-large"}},hideHeader:{true:{thead:"hidden"}},isStriped:{true:{td:["group-data-[odd=true]:before:bg-default-100","group-data-[odd=true]:before:opacity-100","group-data-[odd=true]:before:-z-10"]}},isCompact:{true:{td:"py-1"},false:{}},isHeaderSticky:{true:{thead:"sticky top-0 z-20 [&>tr]:first:shadow-small"}},isSelectable:{true:{tr:"cursor-default",td:["group-aria-[selected=false]:group-data-[hover=true]:before:bg-default-100","group-aria-[selected=false]:group-data-[hover=true]:before:opacity-70"]}},isMultiSelectable:{true:{td:["group-data-[first=true]:first:before:rounded-tl-lg","group-data-[first=true]:rtl:first:before:rounded-tr-lg","group-data-[first=true]:rtl:first:before:rounded-tl-[unset]","group-data-[first=true]:last:before:rounded-tr-lg","group-data-[first=true]:rtl:last:before:rounded-tl-lg","group-data-[first=true]:rtl:last:before:rounded-tr-[unset]","group-data-[middle=true]:before:rounded-none","group-data-[last=true]:first:before:rounded-bl-lg","group-data-[last=true]:rtl:first:before:rounded-br-lg","group-data-[last=true]:rtl:first:before:rounded-bl-[unset]","group-data-[last=true]:last:before:rounded-br-lg","group-data-[last=true]:rtl:last:before:rounded-bl-lg","group-data-[last=true]:rtl:last:before:rounded-br-[unset]"]},false:{td:["first:before:rounded-l-lg","rtl:first:before:rounded-r-lg","rtl:first:before:rounded-l-[unset]","last:before:rounded-r-lg","rtl:last:before:rounded-l-lg","rtl:last:before:rounded-r-[unset]"]}},fullWidth:{true:{base:"w-full",wrapper:"w-full",table:"w-full"}},align:{start:{th:"text-start",td:"text-start"},center:{th:"text-center",td:"text-center"},end:{th:"text-end",td:"text-end"}}},defaultVariants:{layout:"auto",shadow:"sm",radius:"lg",color:"default",isCompact:!1,hideHeader:!1,isStriped:!1,fullWidth:!0,align:"start"},compoundVariants:[{isStriped:!0,color:"default",class:{td:"group-data-[odd=true]:data-[selected=true]:before:bg-default/60"}},{isStriped:!0,color:"primary",class:{td:"group-data-[odd=true]:data-[selected=true]:before:bg-primary/20"}},{isStriped:!0,color:"secondary",class:{td:"group-data-[odd=true]:data-[selected=true]:before:bg-secondary/20"}},{isStriped:!0,color:"success",class:{td:"group-data-[odd=true]:data-[selected=true]:before:bg-success/20"}},{isStriped:!0,color:"warning",class:{td:"group-data-[odd=true]:data-[selected=true]:before:bg-warning/20"}},{isStriped:!0,color:"danger",class:{td:"group-data-[odd=true]:data-[selected=true]:before:bg-danger/20"}}]}),OGe=ns({slots:{base:"w-full relative flex flex-col gap-1 p-1",list:"w-full flex flex-col gap-0.5 outline-none",emptyContent:["h-10","px-2","py-1.5","w-full","h-full","text-foreground-400","text-start"]}}),Rne=ns({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","subpixel-antialiased","outline-none","cursor-pointer","tap-highlight-transparent",...v1,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal truncate",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:["border-small border-transparent hover:border-default data-[hover=true]:bg-default-100","data-[selectable=true]:focus:border-default data-[selectable=true]:focus:bg-default-100"]},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},showDivider:{true:{base:["mb-1.5","after:content-['']","after:absolute","after:-bottom-1","after:left-0","after:right-0","after:h-divider","after:bg-divider"]},false:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{base:"data-[hover=true]:transition-colors"}}},defaultVariants:{variant:"solid",color:"default",showDivider:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:["data-[hover=true]:bg-default","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"solid",color:"primary",class:{base:["data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"solid",color:"secondary",class:{base:["data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"solid",color:"success",class:{base:["data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"solid",color:"warning",class:{base:["data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"solid",color:"danger",class:{base:["data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"shadow",color:"default",class:{base:["data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:shadow-default/50 data-[selectable=true]:focus:bg-default data-[selectable=true]:focus:text-default-foreground"]}},{variant:"shadow",color:"primary",class:{base:["data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:shadow-primary/30 data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"shadow",color:"secondary",class:{base:["data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:shadow-secondary/30 data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"shadow",color:"success",class:{base:["data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:shadow-success/30 data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"shadow",color:"warning",class:{base:["data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:shadow-warning/30 data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"shadow",color:"danger",class:{base:["data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:shadow-danger/30 data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"bordered",color:"default",class:{base:["data-[hover=true]:border-default","data-[selectable=true]:focus:border-default"]}},{variant:"bordered",color:"primary",class:{base:["data-[hover=true]:border-primary data-[hover=true]:text-primary","data-[selectable=true]:focus:border-primary data-[selectable=true]:focus:text-primary"]}},{variant:"bordered",color:"secondary",class:{base:["data-[hover=true]:border-secondary data-[hover=true]:text-secondary","data-[selectable=true]:focus:border-secondary data-[selectable=true]:focus:text-secondary"]}},{variant:"bordered",color:"success",class:{base:["data-[hover=true]:border-success data-[hover=true]:text-success","data-[selectable=true]:focus:border-success data-[selectable=true]:focus:text-success"]}},{variant:"bordered",color:"warning",class:{base:["data-[hover=true]:border-warning data-[hover=true]:text-warning","data-[selectable=true]:focus:border-warning data-[selectable=true]:focus:text-warning"]}},{variant:"bordered",color:"danger",class:{base:["data-[hover=true]:border-danger data-[hover=true]:text-danger","data-[selectable=true]:focus:border-danger data-[selectable=true]:focus:text-danger"]}},{variant:"flat",color:"default",class:{base:["data-[hover=true]:bg-default/40","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default/40","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"flat",color:"primary",class:{base:["data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary","data-[selectable=true]:focus:bg-primary/20 data-[selectable=true]:focus:text-primary"]}},{variant:"flat",color:"secondary",class:{base:["data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary","data-[selectable=true]:focus:bg-secondary/20 data-[selectable=true]:focus:text-secondary"]}},{variant:"flat",color:"success",class:{base:["data-[hover=true]:bg-success/20 data-[hover=true]:text-success","data-[selectable=true]:focus:bg-success/20 data-[selectable=true]:focus:text-success"]}},{variant:"flat",color:"warning",class:{base:["data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning","data-[selectable=true]:focus:bg-warning/20 data-[selectable=true]:focus:text-warning"]}},{variant:"flat",color:"danger",class:{base:["data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger","data-[selectable=true]:focus:bg-danger/20 data-[selectable=true]:focus:text-danger"]}},{variant:"faded",color:"default",class:{base:["data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"faded",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"faded",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"faded",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"faded",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"faded",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}},{variant:"light",color:"default",class:{base:["data-[hover=true]:text-default-500","data-[selectable=true]:focus:text-default-500"]}},{variant:"light",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"light",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"light",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"light",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"light",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}}]}),DGe=ns({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}}),$ne=ns({slots:{base:["z-0","relative","bg-transparent","before:content-['']","before:hidden","before:z-[-1]","before:absolute","before:rotate-45","before:w-2.5","before:h-2.5","before:rounded-sm","data-[arrow=true]:before:block","data-[placement=top]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top]:before:left-1/2","data-[placement=top]:before:-translate-x-1/2","data-[placement=top-start]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-start]:before:left-3","data-[placement=top-end]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-end]:before:right-3","data-[placement=bottom]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom]:before:left-1/2","data-[placement=bottom]:before:-translate-x-1/2","data-[placement=bottom-start]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-start]:before:left-3","data-[placement=bottom-end]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-end]:before:right-3","data-[placement=left]:before:-right-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=left]:before:top-1/2","data-[placement=left]:before:-translate-y-1/2","data-[placement=left-start]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-start]:before:top-1/4","data-[placement=left-end]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-end]:before:bottom-1/4","data-[placement=right]:before:-left-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=right]:before:top-1/2","data-[placement=right]:before:-translate-y-1/2","data-[placement=right-start]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-start]:before:top-1/4","data-[placement=right-end]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-end]:before:bottom-1/4",...v1],content:["z-10","px-2.5","py-1","w-full","inline-flex","flex-col","items-center","justify-center","box-border","subpixel-antialiased","outline-none","box-border"],trigger:["z-10"],backdrop:["hidden"],arrow:[]},variants:{size:{sm:{content:"text-tiny"},md:{content:"text-small"},lg:{content:"text-medium"}},color:{default:{base:"before:bg-content1 before:shadow-small",content:"bg-content1"},foreground:{base:"before:bg-foreground",content:zn.solid.foreground},primary:{base:"before:bg-primary",content:zn.solid.primary},secondary:{base:"before:bg-secondary",content:zn.solid.secondary},success:{base:"before:bg-success",content:zn.solid.success},warning:{base:"before:bg-warning",content:zn.solid.warning},danger:{base:"before:bg-danger",content:zn.solid.danger}},radius:{none:{content:"rounded-none"},sm:{content:"rounded-small"},md:{content:"rounded-medium"},lg:{content:"rounded-large"},full:{content:"rounded-full"}},shadow:{sm:{content:"shadow-small"},md:{content:"shadow-medium"},lg:{content:"shadow-large"}},backdrop:{transparent:{},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-sm backdrop-saturate-150 bg-overlay/30"}},triggerScaleOnOpen:{true:{trigger:["aria-expanded:scale-[0.97]","aria-expanded:opacity-70","subpixel-antialiased"]},false:{}},disableAnimation:{true:{base:"animate-none"}},isTriggerDisabled:{true:{trigger:"opacity-disabled pointer-events-none"},false:{}}},defaultVariants:{color:"default",radius:"lg",size:"md",shadow:"md",backdrop:"transparent",triggerScaleOnOpen:!0},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"block w-full h-full fixed inset-0 -z-30"}}]}),Lne=ns({slots:{base:"flex flex-col gap-2 w-full",label:"",labelWrapper:"flex justify-between",value:"",track:"z-0 relative bg-default-300/50 overflow-hidden",indicator:"h-full"},variants:{color:{default:{indicator:"bg-default-400"},primary:{indicator:"bg-primary"},secondary:{indicator:"bg-secondary"},success:{indicator:"bg-success"},warning:{indicator:"bg-warning"},danger:{indicator:"bg-danger"}},size:{sm:{label:"text-small",value:"text-small",track:"h-1"},md:{label:"text-medium",value:"text-medium",track:"h-3"},lg:{label:"text-large",value:"text-large",track:"h-5"}},radius:{none:{track:"rounded-none",indicator:"rounded-none"},sm:{track:"rounded-small",indicator:"rounded-small"},md:{track:"rounded-medium",indicator:"rounded-medium"},lg:{track:"rounded-large",indicator:"rounded-large"},full:{track:"rounded-full",indicator:"rounded-full"}},isStriped:{true:{indicator:"bg-stripe-gradient bg-[length:1.25rem_1.25rem]"}},isIndeterminate:{true:{indicator:["absolute","w-full","origin-left","animate-indeterminate-bar"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-transform !duration-500"}}},defaultVariants:{color:"primary",size:"md",radius:"full",isStriped:!1,isIndeterminate:!1,isDisabled:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{indicator:"!transition-none motion-reduce:transition-none"}}]},{twMerge:!0}),RGe=ns({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),$Ge=ns({base:["w-full","p-1","min-w-[200px]"]});ns({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","outline-none","cursor-pointer","tap-highlight-transparent","data-[pressed=true]:opacity-70",...v1,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal truncate",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:"border-small border-transparent hover:border-default data-[hover=true]:bg-default-100"},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{}}},defaultVariants:{variant:"solid",color:"default"},compoundVariants:[{variant:"solid",color:"default",class:{base:"data-[hover=true]:bg-default data-[hover=true]:text-default-foreground"}},{variant:"solid",color:"primary",class:{base:"data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground"}},{variant:"solid",color:"secondary",class:{base:"data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground"}},{variant:"solid",color:"success",class:{base:"data-[hover=true]:bg-success data-[hover=true]:text-success-foreground"}},{variant:"solid",color:"warning",class:{base:"data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground"}},{variant:"solid",color:"danger",class:{base:"data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground"}},{variant:"shadow",color:"default",class:{base:"data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground"}},{variant:"shadow",color:"primary",class:{base:"data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground"}},{variant:"shadow",color:"secondary",class:{base:"data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground"}},{variant:"shadow",color:"success",class:{base:"data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground"}},{variant:"shadow",color:"warning",class:{base:"data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground"}},{variant:"shadow",color:"danger",class:{base:"data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground"}},{variant:"bordered",color:"default",class:{base:"data-[hover=true]:border-default"}},{variant:"bordered",color:"primary",class:{base:"data-[hover=true]:border-primary data-[hover=true]:text-primary"}},{variant:"bordered",color:"secondary",class:{base:"data-[hover=true]:border-secondary data-[hover=true]:text-secondary"}},{variant:"bordered",color:"success",class:{base:"data-[hover=true]:border-success data-[hover=true]:text-success"}},{variant:"bordered",color:"warning",class:{base:"data-[hover=true]:border-warning data-[hover=true]:text-warning"}},{variant:"bordered",color:"danger",class:{base:"data-[hover=true]:border-danger data-[hover=true]:text-danger"}},{variant:"flat",color:"default",class:{base:"data-[hover=true]:bg-default/40 data-[hover=true]:text-default-foreground"}},{variant:"flat",color:"primary",class:{base:"data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary"}},{variant:"flat",color:"secondary",class:{base:"data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary"}},{variant:"flat",color:"success",class:{base:"data-[hover=true]:bg-success/20 data-[hover=true]:text-success "}},{variant:"flat",color:"warning",class:{base:"data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning"}},{variant:"flat",color:"danger",class:{base:"data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger"}},{variant:"faded",color:"default",class:{base:"data-[hover=true]:text-default-foreground"}},{variant:"faded",color:"primary",class:{base:"data-[hover=true]:text-primary"}},{variant:"faded",color:"secondary",class:{base:"data-[hover=true]:text-secondary"}},{variant:"faded",color:"success",class:{base:"data-[hover=true]:text-success"}},{variant:"faded",color:"warning",class:{base:"data-[hover=true]:text-warning"}},{variant:"faded",color:"danger",class:{base:"data-[hover=true]:text-danger"}},{variant:"light",color:"default",class:{base:"data-[hover=true]:text-default-500"}},{variant:"light",color:"primary",class:{base:"data-[hover=true]:text-primary"}},{variant:"light",color:"secondary",class:{base:"data-[hover=true]:text-secondary"}},{variant:"light",color:"success",class:{base:"data-[hover=true]:text-success"}},{variant:"light",color:"warning",class:{base:"data-[hover=true]:text-warning"}},{variant:"light",color:"danger",class:{base:"data-[hover=true]:text-danger"}}]});ns({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}});ns({base:"w-full flex flex-col gap-0.5 p-1"});var Bne=ns({slots:{base:"group flex flex-col data-[hidden=true]:hidden",label:["absolute","z-10","pointer-events-none","origin-top-left","rtl:origin-top-right","subpixel-antialiased","block","text-small","text-foreground-500"],mainWrapper:"h-full",inputWrapper:"relative w-full inline-flex tap-highlight-transparent flex-row items-center shadow-sm px-3 gap-3",innerWrapper:"inline-flex w-full items-center h-full box-border",input:["w-full font-normal bg-transparent !outline-none placeholder:text-foreground-500 focus-visible:outline-none","data-[has-start-content=true]:ps-1.5","data-[has-end-content=true]:pe-1.5","file:cursor-pointer file:bg-transparent file:border-0","autofill:bg-transparent bg-clip-text"],clearButton:["p-2","-m-2","z-10","hidden","absolute","right-3","rtl:right-auto","rtl:left-3","appearance-none","outline-none","select-none","opacity-0","hover:!opacity-100","cursor-pointer","active:!opacity-70","rounded-full",...v1],helperWrapper:"hidden group-data-[has-helper=true]:flex p-1 relative flex-col gap-1.5",description:"text-tiny text-foreground-400",errorMessage:"text-tiny text-danger"},variants:{variant:{flat:{inputWrapper:["bg-default-100","data-[hover=true]:bg-default-200","group-data-[focus=true]:bg-default-100"]},faded:{inputWrapper:["bg-default-100","border-medium","border-default-200","data-[hover=true]:border-default-400"],value:"group-data-[has-value=true]:text-default-foreground"},bordered:{inputWrapper:["border-medium","border-default-200","data-[hover=true]:border-default-400","group-data-[focus=true]:border-default-foreground"]},underlined:{inputWrapper:["!px-1","!pb-0","!gap-0","relative","box-border","border-b-medium","shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","border-default-200","!rounded-none","hover:border-default-300","after:content-['']","after:w-0","after:origin-center","after:bg-default-foreground","after:absolute","after:left-1/2","after:-translate-x-1/2","after:-bottom-[2px]","after:h-[2px]","group-data-[focus=true]:after:w-full"],innerWrapper:"pb-1",label:"group-data-[filled-within=true]:text-foreground"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{label:"text-tiny",inputWrapper:"h-8 min-h-8 px-2 rounded-small",input:"text-small",clearButton:"text-medium"},md:{inputWrapper:"h-10 min-h-10 rounded-medium",input:"text-small",clearButton:"text-large"},lg:{inputWrapper:"h-12 min-h-12 rounded-large",input:"text-medium",clearButton:"text-large"}},radius:{none:{inputWrapper:"rounded-none"},sm:{inputWrapper:"rounded-small"},md:{inputWrapper:"rounded-medium"},lg:{inputWrapper:"rounded-large"},full:{inputWrapper:"rounded-full"}},labelPlacement:{outside:{mainWrapper:"flex flex-col"},"outside-left":{base:"flex-row items-center flex-nowrap data-[has-helper=true]:items-start",inputWrapper:"flex-1",mainWrapper:"flex flex-col",label:"relative text-foreground pr-2 rtl:pr-0 rtl:pl-2"},inside:{label:"text-tiny cursor-text",inputWrapper:"flex-col items-start justify-center gap-0",innerWrapper:"group-data-[has-label=true]:items-end"}},fullWidth:{true:{base:"w-full"}},isClearable:{true:{input:"peer pr-6 rtl:pr-0 rtl:pl-6",clearButton:"peer-data-[filled=true]:opacity-70 peer-data-[filled=true]:block"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none",inputWrapper:"pointer-events-none",label:"pointer-events-none"}},isInvalid:{true:{label:"!text-danger",input:"!placeholder:text-danger !text-danger"}},isRequired:{true:{label:"after:content-['*'] after:text-danger after:ml-0.5 rtl:after:ml-[unset] rtl:after:mr-0.5"}},isMultiline:{true:{label:"relative",inputWrapper:"!h-auto",innerWrapper:"items-start group-data-[has-label=true]:items-start",input:"resize-none data-[hide-scroll=true]:scrollbar-hide"}},disableAnimation:{true:{input:"transition-none",inputWrapper:"transition-none",label:"transition-none"},false:{inputWrapper:"transition-background motion-reduce:transition-none !duration-150",label:["will-change-auto","!duration-200","!ease-out","motion-reduce:transition-none","transition-[transform,color,left,opacity]"],clearButton:["transition-opacity","motion-reduce:transition-none"]}}},defaultVariants:{variant:"flat",color:"default",size:"md",fullWidth:!0,labelPlacement:"inside",isDisabled:!1,isMultiline:!1},compoundVariants:[{variant:"flat",color:"default",class:{input:"group-data-[has-value=true]:text-default-foreground"}},{variant:"flat",color:"primary",class:{inputWrapper:["bg-primary-50","data-[hover=true]:bg-primary-100","text-primary","group-data-[focus=true]:bg-primary-50","placeholder:text-primary"],input:"placeholder:text-primary",label:"text-primary"}},{variant:"flat",color:"secondary",class:{inputWrapper:["bg-secondary-50","text-secondary","data-[hover=true]:bg-secondary-100","group-data-[focus=true]:bg-secondary-50","placeholder:text-secondary"],input:"placeholder:text-secondary",label:"text-secondary"}},{variant:"flat",color:"success",class:{inputWrapper:["bg-success-50","text-success-600","dark:text-success","placeholder:text-success-600","dark:placeholder:text-success","data-[hover=true]:bg-success-100","group-data-[focus=true]:bg-success-50"],input:"placeholder:text-success-600 dark:placeholder:text-success",label:"text-success-600 dark:text-success"}},{variant:"flat",color:"warning",class:{inputWrapper:["bg-warning-50","text-warning-600","dark:text-warning","placeholder:text-warning-600","dark:placeholder:text-warning","data-[hover=true]:bg-warning-100","group-data-[focus=true]:bg-warning-50"],input:"placeholder:text-warning-600 dark:placeholder:text-warning",label:"text-warning-600 dark:text-warning"}},{variant:"flat",color:"danger",class:{inputWrapper:["bg-danger-50","text-danger","dark:text-danger-500","placeholder:text-danger","dark:placeholder:text-danger-500","data-[hover=true]:bg-danger-100","group-data-[focus=true]:bg-danger-50"],input:"placeholder:text-danger dark:placeholder:text-danger-500",label:"text-danger dark:text-danger-500"}},{variant:"faded",color:"primary",class:{label:"text-primary",inputWrapper:"data-[hover=true]:border-primary focus-within:border-primary"}},{variant:"faded",color:"secondary",class:{label:"text-secondary",inputWrapper:"data-[hover=true]:border-secondary focus-within:border-secondary"}},{variant:"faded",color:"success",class:{label:"text-success",inputWrapper:"data-[hover=true]:border-success focus-within:border-success"}},{variant:"faded",color:"warning",class:{label:"text-warning",inputWrapper:"data-[hover=true]:border-warning focus-within:border-warning"}},{variant:"faded",color:"danger",class:{label:"text-danger",inputWrapper:"data-[hover=true]:border-danger focus-within:border-danger"}},{variant:"underlined",color:"default",class:{input:"group-data-[has-value=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{inputWrapper:"after:bg-primary",label:"text-primary"}},{variant:"underlined",color:"secondary",class:{inputWrapper:"after:bg-secondary",label:"text-secondary"}},{variant:"underlined",color:"success",class:{inputWrapper:"after:bg-success",label:"text-success"}},{variant:"underlined",color:"warning",class:{inputWrapper:"after:bg-warning",label:"text-warning"}},{variant:"underlined",color:"danger",class:{inputWrapper:"after:bg-danger",label:"text-danger"}},{variant:"bordered",color:"primary",class:{inputWrapper:"group-data-[focus=true]:border-primary",label:"text-primary"}},{variant:"bordered",color:"secondary",class:{inputWrapper:"group-data-[focus=true]:border-secondary",label:"text-secondary"}},{variant:"bordered",color:"success",class:{inputWrapper:"group-data-[focus=true]:border-success",label:"text-success"}},{variant:"bordered",color:"warning",class:{inputWrapper:"group-data-[focus=true]:border-warning",label:"text-warning"}},{variant:"bordered",color:"danger",class:{inputWrapper:"group-data-[focus=true]:border-danger",label:"text-danger"}},{labelPlacement:"inside",color:"default",class:{label:"group-data-[filled-within=true]:text-default-600"}},{labelPlacement:"outside",color:"default",class:{label:"group-data-[filled-within=true]:text-foreground"}},{radius:"full",size:["sm"],class:{inputWrapper:"px-3"}},{radius:"full",size:"md",class:{inputWrapper:"px-4"}},{radius:"full",size:"lg",class:{inputWrapper:"px-5"}},{disableAnimation:!1,variant:["faded","bordered"],class:{inputWrapper:"transition-colors motion-reduce:transition-none"}},{disableAnimation:!1,variant:"underlined",class:{inputWrapper:"after:transition-width motion-reduce:after:transition-none"}},{variant:["flat","faded"],class:{inputWrapper:[..._ve]}},{isInvalid:!0,variant:"flat",class:{inputWrapper:["!bg-danger-50","data-[hover=true]:!bg-danger-100","group-data-[focus=true]:!bg-danger-50"]}},{isInvalid:!0,variant:"bordered",class:{inputWrapper:"!border-danger group-data-[focus=true]:!border-danger"}},{isInvalid:!0,variant:"underlined",class:{inputWrapper:"after:!bg-danger"}},{labelPlacement:"inside",size:"sm",class:{inputWrapper:"h-12 py-1.5 px-3"}},{labelPlacement:"inside",size:"md",class:{inputWrapper:"h-14 py-2"}},{labelPlacement:"inside",size:"lg",class:{label:"text-small",inputWrapper:"h-16 py-2.5 gap-0"}},{labelPlacement:"inside",size:"sm",variant:["bordered","faded"],class:{inputWrapper:"py-1"}},{labelPlacement:["inside","outside"],class:{label:["group-data-[filled-within=true]:pointer-events-auto"]}},{labelPlacement:"outside",isMultiline:!1,class:{base:"group relative justify-end",label:["pb-0","z-20","top-1/2","-translate-y-1/2","group-data-[filled-within=true]:left-0"]}},{labelPlacement:["inside"],class:{label:["group-data-[filled-within=true]:scale-85"]}},{labelPlacement:["inside"],variant:"flat",class:{innerWrapper:"pb-0.5"}},{variant:"underlined",size:"sm",class:{innerWrapper:"pb-1"}},{variant:"underlined",size:["md","lg"],class:{innerWrapper:"pb-1.5"}},{labelPlacement:"inside",size:["sm","md"],class:{label:"text-small"}},{labelPlacement:"inside",isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px)]"]}},{labelPlacement:"inside",isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px)]"]}},{labelPlacement:"inside",isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px)]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_5px)]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_3.5px)]"]}},{labelPlacement:"inside",variant:"underlined",size:"lg",isMultiline:!1,class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_4px)]"]}},{labelPlacement:"outside",size:"sm",isMultiline:!1,class:{label:["left-2","text-tiny","group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.tiny)/2_+_16px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_8px)]"}},{labelPlacement:"outside",size:"md",isMultiline:!1,class:{label:["left-3","rtl:left-auto","rtl:right-3","text-small","group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_20px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_10px)]"}},{labelPlacement:"outside",size:"lg",isMultiline:!1,class:{label:["left-3","rtl:left-auto","rtl:right-3","text-medium","group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_24px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_12px)]"}},{labelPlacement:"outside-left",size:"sm",class:{label:"group-data-[has-helper=true]:pt-2"}},{labelPlacement:"outside-left",size:"md",class:{label:"group-data-[has-helper=true]:pt-3"}},{labelPlacement:"outside-left",size:"lg",class:{label:"group-data-[has-helper=true]:pt-4"}},{labelPlacement:["outside","outside-left"],isMultiline:!0,class:{inputWrapper:"py-2"}},{labelPlacement:"outside",isMultiline:!0,class:{label:"pb-1.5"}},{labelPlacement:"inside",isMultiline:!0,class:{label:"pb-0.5",input:"pt-0"}},{isMultiline:!0,disableAnimation:!1,class:{input:"transition-height !duration-100 motion-reduce:transition-none"}},{labelPlacement:["inside","outside"],class:{label:["pe-2","max-w-full","text-ellipsis","overflow-hidden"]}},{isMultiline:!0,radius:"full",class:{inputWrapper:"data-[has-multiple-rows=true]:rounded-large"}}]}),LGe=ns({slots:{base:"group relative max-w-fit inline-flex items-center justify-start cursor-pointer tap-highlight-transparent p-2 -m-2",wrapper:["relative","inline-flex","items-center","justify-center","flex-shrink-0","overflow-hidden","before:content-['']","before:absolute","before:inset-0","before:border-solid","before:border-2","before:box-border","before:border-default","after:content-['']","after:absolute","after:inset-0","after:scale-50","after:opacity-0","after:origin-center","group-data-[selected=true]:after:scale-100","group-data-[selected=true]:after:opacity-100","group-data-[hover=true]:before:bg-default-100",..._ve],icon:"z-10 w-4 h-3 opacity-0 group-data-[selected=true]:opacity-100",label:"relative text-foreground select-none"},variants:{color:{default:{wrapper:"after:bg-default after:text-default-foreground text-default-foreground"},primary:{wrapper:"after:bg-primary after:text-primary-foreground text-primary-foreground"},secondary:{wrapper:"after:bg-secondary after:text-secondary-foreground text-secondary-foreground"},success:{wrapper:"after:bg-success after:text-success-foreground text-success-foreground"},warning:{wrapper:"after:bg-warning after:text-warning-foreground text-warning-foreground"},danger:{wrapper:"after:bg-danger after:text-danger-foreground text-danger-foreground"}},size:{sm:{wrapper:["w-4 h-4 mr-2 rtl:ml-2 rtl:mr-[unset]","rounded-[calc(theme(borderRadius.medium)*0.5)]","before:rounded-[calc(theme(borderRadius.medium)*0.5)]","after:rounded-[calc(theme(borderRadius.medium)*0.5)]"],label:"text-small",icon:"w-3 h-2"},md:{wrapper:["w-5 h-5 mr-2 rtl:ml-2 rtl:mr-[unset]","rounded-[calc(theme(borderRadius.medium)*0.6)]","before:rounded-[calc(theme(borderRadius.medium)*0.6)]","after:rounded-[calc(theme(borderRadius.medium)*0.6)]"],label:"text-medium",icon:"w-4 h-3"},lg:{wrapper:["w-6 h-6 mr-2 rtl:ml-2 rtl:mr-[unset]","rounded-[calc(theme(borderRadius.medium)*0.7)]","before:rounded-[calc(theme(borderRadius.medium)*0.7)]","after:rounded-[calc(theme(borderRadius.medium)*0.7)]"],label:"text-large",icon:"w-5 h-4"}},radius:{none:{wrapper:"rounded-none before:rounded-none after:rounded-none"},sm:{wrapper:["rounded-[calc(theme(borderRadius.medium)*0.5)]","before:rounded-[calc(theme(borderRadius.medium)*0.5)]","after:rounded-[calc(theme(borderRadius.medium)*0.5)]"]},md:{wrapper:["rounded-[calc(theme(borderRadius.medium)*0.6)]","before:rounded-[calc(theme(borderRadius.medium)*0.6)]","after:rounded-[calc(theme(borderRadius.medium)*0.6)]"]},lg:{wrapper:["rounded-[calc(theme(borderRadius.medium)*0.7)]","before:rounded-[calc(theme(borderRadius.medium)*0.7)]","after:rounded-[calc(theme(borderRadius.medium)*0.7)]"]},full:{wrapper:"rounded-full before:rounded-full after:rounded-full"}},lineThrough:{true:{label:["inline-flex","items-center","justify-center","before:content-['']","before:absolute","before:bg-foreground","before:w-0","before:h-0.5","group-data-[selected=true]:opacity-60","group-data-[selected=true]:before:w-full"]}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},isInvalid:{true:{wrapper:"before:border-danger",label:"text-danger"}},disableAnimation:{true:{wrapper:"transition-none",icon:"transition-none",label:"transition-none"},false:{wrapper:["before:transition-colors","group-data-[pressed=true]:scale-95","transition-transform","after:transition-transform-opacity","after:!ease-linear","after:!duration-200","motion-reduce:transition-none"],icon:"transition-opacity motion-reduce:transition-none",label:"transition-colors-opacity before:transition-width motion-reduce:transition-none"}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,lineThrough:!1}});ns({slots:{base:"relative flex flex-col gap-2",label:"relative text-medium text-foreground-500",wrapper:"flex flex-col flex-wrap gap-2 data-[orientation=horizontal]:flex-row",description:"text-small text-foreground-400",errorMessage:"text-small text-danger"},variants:{isRequired:{true:{label:"after:content-['*'] after:text-danger after:ml-0.5"}},isInvalid:{true:{description:"text-danger"}},disableAnimation:{true:{},false:{description:"transition-colors !duration-150 motion-reduce:transition-none"}}},defaultVariants:{isInvalid:!1,isRequired:!1}});var BGe=ns({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-none","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent","data-[pressed=true]:scale-[0.97]",...v1],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-3 min-w-16 h-8 text-tiny gap-2 rounded-small",md:"px-4 min-w-20 h-10 text-small gap-2 rounded-medium",lg:"px-6 min-w-24 h-12 text-medium gap-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-0 !gap-0",false:"[&>svg]:max-w-[theme(spacing.8)]"},disableAnimation:{true:"!transition-none data-[pressed=true]:scale-100",false:"transition-transform-colors-opacity motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1},compoundVariants:[{variant:"solid",color:"default",class:zn.solid.default},{variant:"solid",color:"primary",class:zn.solid.primary},{variant:"solid",color:"secondary",class:zn.solid.secondary},{variant:"solid",color:"success",class:zn.solid.success},{variant:"solid",color:"warning",class:zn.solid.warning},{variant:"solid",color:"danger",class:zn.solid.danger},{variant:"shadow",color:"default",class:zn.shadow.default},{variant:"shadow",color:"primary",class:zn.shadow.primary},{variant:"shadow",color:"secondary",class:zn.shadow.secondary},{variant:"shadow",color:"success",class:zn.shadow.success},{variant:"shadow",color:"warning",class:zn.shadow.warning},{variant:"shadow",color:"danger",class:zn.shadow.danger},{variant:"bordered",color:"default",class:zn.bordered.default},{variant:"bordered",color:"primary",class:zn.bordered.primary},{variant:"bordered",color:"secondary",class:zn.bordered.secondary},{variant:"bordered",color:"success",class:zn.bordered.success},{variant:"bordered",color:"warning",class:zn.bordered.warning},{variant:"bordered",color:"danger",class:zn.bordered.danger},{variant:"flat",color:"default",class:zn.flat.default},{variant:"flat",color:"primary",class:zn.flat.primary},{variant:"flat",color:"secondary",class:zn.flat.secondary},{variant:"flat",color:"success",class:zn.flat.success},{variant:"flat",color:"warning",class:zn.flat.warning},{variant:"flat",color:"danger",class:zn.flat.danger},{variant:"faded",color:"default",class:zn.faded.default},{variant:"faded",color:"primary",class:zn.faded.primary},{variant:"faded",color:"secondary",class:zn.faded.secondary},{variant:"faded",color:"success",class:zn.faded.success},{variant:"faded",color:"warning",class:zn.faded.warning},{variant:"faded",color:"danger",class:zn.faded.danger},{variant:"light",color:"default",class:[zn.light.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[zn.light.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[zn.light.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[zn.light.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[zn.light.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[zn.light.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:zn.ghost.default},{variant:"ghost",color:"primary",class:zn.ghost.primary},{variant:"ghost",color:"secondary",class:zn.ghost.secondary},{variant:"ghost",color:"success",class:zn.ghost.success},{variant:"ghost",color:"warning",class:zn.ghost.warning},{variant:"ghost",color:"danger",class:zn.ghost.danger},{isInGroup:!0,class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,radius:"none",class:"rounded-none first:rounded-s-none last:rounded-e-none"},{isInGroup:!0,radius:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,radius:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,radius:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,radius:"full",class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,variant:["ghost","bordered"],color:"default",className:R_.default},{isInGroup:!0,variant:["ghost","bordered"],color:"primary",className:R_.primary},{isInGroup:!0,variant:["ghost","bordered"],color:"secondary",className:R_.secondary},{isInGroup:!0,variant:["ghost","bordered"],color:"success",className:R_.success},{isInGroup:!0,variant:["ghost","bordered"],color:"warning",className:R_.warning},{isInGroup:!0,variant:["ghost","bordered"],color:"danger",className:R_.danger},{isIconOnly:!0,size:"sm",class:"min-w-8 w-8 h-8"},{isIconOnly:!0,size:"md",class:"min-w-10 w-10 h-10"},{isIconOnly:!0,size:"lg",class:"min-w-12 w-12 h-12"},{variant:["solid","faded","flat","bordered","shadow"],class:"data-[hover=true]:opacity-hover"}]});ns({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});function jF(e){return SKe()?e.altKey:e.ctrlKey}function ab(e){return Ty()?e.metaKey:e.ctrlKey}const zGe=1e3;function NGe(e){let{keyboardDelegate:t,selectionManager:r,onTypeSelect:n}=e,i=se.useRef({search:"",timeout:null}).current,s=c=>{let p=FGe(c.key);if(!p||c.ctrlKey||c.metaKey||!c.currentTarget.contains(c.target))return;p===" "&&i.search.trim().length>0&&(c.preventDefault(),"continuePropagation"in c||c.stopPropagation()),i.search+=p;let o=t.getKeyForSearch(i.search,r.focusedKey);o==null&&(o=t.getKeyForSearch(i.search)),o!=null&&(r.setFocusedKey(o),n&&n(o)),clearTimeout(i.timeout),i.timeout=setTimeout(()=>{i.search=""},zGe)};return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?s:null}}}function FGe(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function jGe(e){let{selectionManager:t,keyboardDelegate:r,ref:n,autoFocus:i=!1,shouldFocusWrap:s=!1,disallowEmptySelection:c=!1,disallowSelectAll:p=!1,selectOnFocus:o=t.selectionBehavior==="replace",disallowTypeAhead:g=!1,shouldUseVirtualFocus:y,allowsTabNavigation:x=!1,isVirtualized:E,scrollRef:A=n,linkBehavior:M="action"}=e,{direction:R}=tv(),k=qI(),D=be=>{if(be.altKey&&be.key==="Tab"&&be.preventDefault(),!n.current.contains(be.target))return;const pe=(ye,ue)=>{if(ye!=null){if(t.isLink(ye)&&M==="selection"&&o&&!jF(be)){Z8.flushSync(()=>{t.setFocusedKey(ye,ue)});let J=A.current.querySelector(`[data-key="${CSS.escape(ye.toString())}"]`),de=t.getItemProps(ye);k.open(J,be,de.href,de.routerOptions);return}if(t.setFocusedKey(ye,ue),t.isLink(ye)&&M==="override")return;be.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(ye):o&&!jF(be)&&t.replaceSelection(ye)}};switch(be.key){case"ArrowDown":if(r.getKeyBelow){var le,G;be.preventDefault();let ye=t.focusedKey!=null?r.getKeyBelow(t.focusedKey):(le=r.getFirstKey)===null||le===void 0?void 0:le.call(r);ye==null&&s&&(ye=(G=r.getFirstKey)===null||G===void 0?void 0:G.call(r,t.focusedKey)),pe(ye)}break;case"ArrowUp":if(r.getKeyAbove){var N,Y;be.preventDefault();let ye=t.focusedKey!=null?r.getKeyAbove(t.focusedKey):(N=r.getLastKey)===null||N===void 0?void 0:N.call(r);ye==null&&s&&(ye=(Y=r.getLastKey)===null||Y===void 0?void 0:Y.call(r,t.focusedKey)),pe(ye)}break;case"ArrowLeft":if(r.getKeyLeftOf){var te,re;be.preventDefault();let ye=r.getKeyLeftOf(t.focusedKey);ye==null&&s&&(ye=R==="rtl"?(te=r.getFirstKey)===null||te===void 0?void 0:te.call(r,t.focusedKey):(re=r.getLastKey)===null||re===void 0?void 0:re.call(r,t.focusedKey)),pe(ye,R==="rtl"?"first":"last")}break;case"ArrowRight":if(r.getKeyRightOf){var he,we;be.preventDefault();let ye=r.getKeyRightOf(t.focusedKey);ye==null&&s&&(ye=R==="rtl"?(he=r.getLastKey)===null||he===void 0?void 0:he.call(r,t.focusedKey):(we=r.getFirstKey)===null||we===void 0?void 0:we.call(r,t.focusedKey)),pe(ye,R==="rtl"?"last":"first")}break;case"Home":if(r.getFirstKey){be.preventDefault();let ye=r.getFirstKey(t.focusedKey,ab(be));t.setFocusedKey(ye),ab(be)&&be.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(ye):o&&t.replaceSelection(ye)}break;case"End":if(r.getLastKey){be.preventDefault();let ye=r.getLastKey(t.focusedKey,ab(be));t.setFocusedKey(ye),ab(be)&&be.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(ye):o&&t.replaceSelection(ye)}break;case"PageDown":if(r.getKeyPageBelow){be.preventDefault();let ye=r.getKeyPageBelow(t.focusedKey);pe(ye)}break;case"PageUp":if(r.getKeyPageAbove){be.preventDefault();let ye=r.getKeyPageAbove(t.focusedKey);pe(ye)}break;case"a":ab(be)&&t.selectionMode==="multiple"&&p!==!0&&(be.preventDefault(),t.selectAll());break;case"Escape":!c&&t.selectedKeys.size!==0&&(be.stopPropagation(),be.preventDefault(),t.clearSelection());break;case"Tab":if(!x){if(be.shiftKey)n.current.focus();else{let ye=Lp(n.current,{tabbable:!0}),ue,J;do J=ye.lastChild(),J&&(ue=J);while(J);ue&&!ue.contains(document.activeElement)&&Rp(ue)}break}}},$=se.useRef({top:0,left:0});LKe(A,"scroll",E?null:()=>{$.current={top:A.current.scrollTop,left:A.current.scrollLeft}});let B=be=>{if(t.isFocused){be.currentTarget.contains(be.target)||t.setFocused(!1);return}if(be.currentTarget.contains(be.target)){if(t.setFocused(!0),t.focusedKey==null){let G=Y=>{Y!=null&&(t.setFocusedKey(Y),o&&t.replaceSelection(Y))},N=be.relatedTarget;var pe,le;N&&be.currentTarget.compareDocumentPosition(N)&Node.DOCUMENT_POSITION_FOLLOWING?G((pe=t.lastSelectedKey)!==null&&pe!==void 0?pe:r.getLastKey()):G((le=t.firstSelectedKey)!==null&&le!==void 0?le:r.getFirstKey())}else E||(A.current.scrollTop=$.current.top,A.current.scrollLeft=$.current.left);if(!E&&t.focusedKey!=null){let G=A.current.querySelector(`[data-key="${CSS.escape(t.focusedKey.toString())}"]`);G&&(G.contains(document.activeElement)||Rp(G),OF()==="keyboard"&&lne(G,{containingElement:n.current}))}}},V=be=>{be.currentTarget.contains(be.relatedTarget)||t.setFocused(!1)};const U=se.useRef(i);se.useEffect(()=>{if(U.current){let be=null;i==="first"&&(be=r.getFirstKey()),i==="last"&&(be=r.getLastKey());let pe=t.selectedKeys;if(pe.size){for(let le of pe)if(t.canSelectItem(le)){be=le;break}}t.setFocused(!0),t.setFocusedKey(be),be==null&&!y&&Cy(n.current)}},[]);let Z=se.useRef(t.focusedKey);se.useEffect(()=>{let be=OF();if(t.isFocused&&t.focusedKey!=null&&(A!=null&&A.current)){let pe=A.current.querySelector(`[data-key="${CSS.escape(t.focusedKey.toString())}"]`);pe&&(be==="keyboard"||U.current)&&(E||sye(A.current,pe),be!=="virtual"&&lne(pe,{containingElement:n.current}))}t.isFocused&&t.focusedKey==null&&Z.current!=null&&Cy(n.current),Z.current=t.focusedKey,U.current=!1},[E,A,t.focusedKey,t.isFocused,n]);let ne={onKeyDown:D,onFocus:B,onBlur:V,onMouseDown(be){A.current===be.target&&be.preventDefault()}},{typeSelectProps:j}=NGe({keyboardDelegate:r,selectionManager:t});g||(ne=An(j,ne));let fe;return y||(fe=t.focusedKey==null?0:-1),{collectionProps:{...ne,tabIndex:fe}}}function VGe(e){let{selectionManager:t,key:r,ref:n,shouldSelectOnPressUp:i,shouldUseVirtualFocus:s,focus:c,isDisabled:p,onAction:o,allowsDifferentPressOrigin:g,linkBehavior:y="action"}=e,x=qI(),E=re=>{if(re.pointerType==="keyboard"&&jF(re))t.toggleSelection(r);else{if(t.selectionMode==="none")return;if(t.isLink(r)){if(y==="selection"){let he=t.getItemProps(r);x.open(n.current,re,he.href,he.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(y==="override"||y==="none")return}t.selectionMode==="single"?t.isSelected(r)&&!t.disallowEmptySelection?t.toggleSelection(r):t.replaceSelection(r):re&&re.shiftKey?t.extendSelection(r):t.selectionBehavior==="toggle"||re&&(ab(re)||re.pointerType==="touch"||re.pointerType==="virtual")?t.toggleSelection(r):t.replaceSelection(r)}};se.useEffect(()=>{r===t.focusedKey&&t.isFocused&&!s&&(c?c():document.activeElement!==n.current&&Cy(n.current))},[n,r,t.focusedKey,t.childFocusStrategy,t.isFocused,s]),p=p||t.isDisabled(r);let A={};!s&&!p?A={tabIndex:r===t.focusedKey?0:-1,onFocus(re){re.target===n.current&&t.setFocusedKey(r)}}:p&&(A.onMouseDown=re=>{re.preventDefault()});let M=t.isLink(r)&&y==="override",R=t.isLink(r)&&y!=="selection"&&y!=="none",k=!p&&t.canSelectItem(r)&&!M,D=(o||R)&&!p,$=D&&(t.selectionBehavior==="replace"?!k:!k||t.isEmpty),B=D&&k&&t.selectionBehavior==="replace",V=$||B,U=se.useRef(null),Z=V&&k,ne=se.useRef(!1),j=se.useRef(!1),fe=re=>{if(o&&o(),R){let he=t.getItemProps(r);x.open(n.current,re,he.href,he.routerOptions)}},be={};i?(be.onPressStart=re=>{U.current=re.pointerType,ne.current=Z,re.pointerType==="keyboard"&&(!V||Nne())&&E(re)},g?(be.onPressUp=$?null:re=>{re.pointerType!=="keyboard"&&k&&E(re)},be.onPress=$?fe:null):be.onPress=re=>{if($||B&&re.pointerType!=="mouse"){if(re.pointerType==="keyboard"&&!zne())return;fe(re)}else re.pointerType!=="keyboard"&&k&&E(re)}):(be.onPressStart=re=>{U.current=re.pointerType,ne.current=Z,j.current=$,k&&(re.pointerType==="mouse"&&!$||re.pointerType==="keyboard"&&(!D||Nne()))&&E(re)},be.onPress=re=>{(re.pointerType==="touch"||re.pointerType==="pen"||re.pointerType==="virtual"||re.pointerType==="keyboard"&&V&&zne()||re.pointerType==="mouse"&&j.current)&&(V?fe(re):k&&E(re))}),A["data-key"]=r,be.preventFocusOnPress=s;let{pressProps:pe,isPressed:le}=rv(be),G=B?re=>{U.current==="mouse"&&(re.stopPropagation(),re.preventDefault(),fe(re))}:void 0,{longPressProps:N}=bye({isDisabled:!Z,onLongPress(re){re.pointerType==="touch"&&(E(re),t.setSelectionBehavior("toggle"))}}),Y=re=>{U.current==="touch"&&ne.current&&re.preventDefault()},te=t.isLink(r)?re=>{B1.isOpening||re.preventDefault()}:void 0;return{itemProps:An(A,k||$?pe:{},Z?N:{},{onDoubleClick:G,onDragStartCapture:Y,onClick:te}),isPressed:le,isSelected:t.isSelected(r),isFocused:t.isFocused&&t.focusedKey===r,isDisabled:p,allowsSelection:k,hasAction:V}}function zne(){let e=window.event;return(e==null?void 0:e.key)==="Enter"}function Nne(){let e=window.event;return(e==null?void 0:e.key)===" "||(e==null?void 0:e.code)==="Space"}class UGe{isDisabled(t){var r;return this.disabledBehavior==="all"&&(((r=t.props)===null||r===void 0?void 0:r.isDisabled)||this.disabledKeys.has(t.key))}getNextKey(t){for(t=this.collection.getKeyAfter(t);t!=null;){let r=this.collection.getItem(t);if(r.type==="item"&&!this.isDisabled(r))return t;t=this.collection.getKeyAfter(t)}return null}getPreviousKey(t){for(t=this.collection.getKeyBefore(t);t!=null;){let r=this.collection.getItem(t);if(r.type==="item"&&!this.isDisabled(r))return t;t=this.collection.getKeyBefore(t)}return null}findKey(t,r,n){let i=this.getItem(t);if(!i)return null;let s=i.getBoundingClientRect();do t=r(t),i=this.getItem(t);while(i&&n(s,i.getBoundingClientRect()));return t}isSameRow(t,r){return t.top===r.top||t.left!==r.left}isSameColumn(t,r){return t.left===r.left||t.top!==r.top}getKeyBelow(t){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(t,r=>this.getNextKey(r),this.isSameRow):this.getNextKey(t)}getKeyAbove(t){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(t,r=>this.getPreviousKey(r),this.isSameRow):this.getPreviousKey(t)}getNextColumn(t,r){return r?this.getPreviousKey(t):this.getNextKey(t)}getKeyRightOf(t){return this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(t,this.direction==="rtl"):this.findKey(t,r=>this.getNextColumn(r,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(t,this.direction==="rtl"):null}getKeyLeftOf(t){return this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(t,this.direction==="ltr"):this.findKey(t,r=>this.getNextColumn(r,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(t,this.direction==="ltr"):null}getFirstKey(){let t=this.collection.getFirstKey();for(;t!=null;){let r=this.collection.getItem(t);if((r==null?void 0:r.type)==="item"&&!this.isDisabled(r))return t;t=this.collection.getKeyAfter(t)}return null}getLastKey(){let t=this.collection.getLastKey();for(;t!=null;){let r=this.collection.getItem(t);if(r.type==="item"&&!this.isDisabled(r))return t;t=this.collection.getKeyBefore(t)}return null}getItem(t){return t!==null?this.ref.current.querySelector(`[data-key="${CSS.escape(t.toString())}"]`):null}getKeyPageAbove(t){let r=this.ref.current,n=this.getItem(t);if(!n)return null;if(!EF(r))return this.getFirstKey();let i=r.getBoundingClientRect(),s=n.getBoundingClientRect();if(this.orientation==="horizontal"){let c=i.x-r.scrollLeft,p=Math.max(0,s.x-c+s.width-i.width);for(;n&&s.x-c>p;)t=this.getKeyAbove(t),n=t==null?null:this.getItem(t),s=n==null?void 0:n.getBoundingClientRect()}else{let c=i.y-r.scrollTop,p=Math.max(0,s.y-c+s.height-i.height);for(;n&&s.y-c>p;)t=this.getKeyAbove(t),n=t==null?null:this.getItem(t),s=n==null?void 0:n.getBoundingClientRect()}return t??this.getFirstKey()}getKeyPageBelow(t){let r=this.ref.current,n=this.getItem(t);if(!n)return null;if(!EF(r))return this.getLastKey();let i=r.getBoundingClientRect(),s=n.getBoundingClientRect();if(this.orientation==="horizontal"){let c=i.x-r.scrollLeft,p=Math.min(r.scrollWidth,s.x-c-s.width+i.width);for(;n&&s.x-c<p;)t=this.getKeyBelow(t),n=t==null?null:this.getItem(t),s=n==null?void 0:n.getBoundingClientRect()}else{let c=i.y-r.scrollTop,p=Math.min(r.scrollHeight,s.y-c-s.height+i.height);for(;n&&s.y-c<p;)t=this.getKeyBelow(t),n=t==null?null:this.getItem(t),s=n==null?void 0:n.getBoundingClientRect()}return t??this.getLastKey()}getKeyForSearch(t,r){if(!this.collator)return null;let n=this.collection,i=r||this.getFirstKey();for(;i!=null;){let s=n.getItem(i),c=s.textValue.slice(0,t.length);if(s.textValue&&this.collator.compare(c,t)===0)return i;i=this.getKeyBelow(i)}return null}constructor(...t){if(t.length===1){let r=t[0];this.collection=r.collection,this.ref=r.ref,this.collator=r.collator,this.disabledKeys=r.disabledKeys||new Set,this.disabledBehavior=r.disabledBehavior||"all",this.orientation=r.orientation,this.direction=r.direction,this.layout=r.layout||"stack"}else this.collection=t[0],this.disabledKeys=t[1],this.ref=t[2],this.collator=t[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all";this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function WGe(e){let{selectionManager:t,collection:r,disabledKeys:n,ref:i,keyboardDelegate:s}=e,c=uye({usage:"search",sensitivity:"base"}),p=t.disabledBehavior,o=se.useMemo(()=>s||new UGe({collection:r,disabledKeys:n,disabledBehavior:p,ref:i,collator:c}),[s,r,n,i,c,p]),{collectionProps:g}=jGe({...e,ref:i,selectionManager:t,keyboardDelegate:o});return{listProps:g}}var KGe=e=>H.jsx("svg",{"aria-hidden":"true",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...e,children:H.jsx("path",{d:"M12 2a10 10 0 1010 10A10.016 10.016 0 0012 2zm3.36 12.3a.754.754 0 010 1.06.748.748 0 01-1.06 0l-2.3-2.3-2.3 2.3a.748.748 0 01-1.06 0 .754.754 0 010-1.06l2.3-2.3-2.3-2.3A.75.75 0 019.7 8.64l2.3 2.3 2.3-2.3a.75.75 0 011.06 1.06l-2.3 2.3z",fill:"currentColor"})}),HGe=({strokeWidth:e=1.5,...t})=>H.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:e,viewBox:"0 0 24 24",width:"1em",...t,children:H.jsx("path",{d:"m6 9 6 6 6-6"})}),$_={ease:[.36,.66,.4,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1],spring:[.155,1.105,.295,1.12],springOut:[.57,-.15,.62,.07],softSpring:[.16,1.11,.3,1.02]},Fne={scaleSpring:{enter:{transform:"scale(1)",opacity:1,transition:{type:"spring",bounce:0,duration:.2}},exit:{transform:"scale(0.85)",opacity:0,transition:{type:"easeOut",duration:.15}}},scaleSpringOpacity:{initial:{opacity:0,transform:"scale(0.8)"},enter:{opacity:1,transform:"scale(1)",transition:{type:"spring",bounce:0,duration:.3}},exit:{opacity:0,transform:"scale(0.96)",transition:{type:"easeOut",bounce:0,duration:.15}}},scale:{enter:{scale:1},exit:{scale:.95}},scaleFadeIn:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.25,ease:$_.easeIn}},exit:{transform:"scale(0.95)",opacity:0,transition:{duration:.2,ease:$_.easeOut}}},scaleInOut:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.4,ease:$_.ease}},exit:{transform:"scale(1.03)",opacity:0,transition:{duration:.3,ease:$_.ease}}},fade:{enter:{opacity:1,transition:{duration:.4,ease:$_.ease}},exit:{opacity:0,transition:{duration:.3,ease:$_.ease}}},collapse:{enter:{opacity:1,height:"auto",transition:{height:{type:"spring",bounce:0,duration:.3},opacity:{easings:"ease",duration:.4}}},exit:{opacity:0,height:0,transition:{easings:"ease",duration:.3}}}};class GGe{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let r=this.keyMap.get(t);return r?r.prevKey:null}getKeyAfter(t){let r=this.keyMap.get(t);return r?r.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){return this.keyMap.get(t)}at(t){const r=[...this.getKeys()];return this.getItem(r[t])}constructor(t,{expandedKeys:r}={}){this.keyMap=new Map,this.iterable=t,r=r||new Set;let n=c=>{if(this.keyMap.set(c.key,c),c.childNodes&&(c.type==="section"||r.has(c.key)))for(let p of c.childNodes)n(p)};for(let c of t)n(c);let i,s=0;for(let[c,p]of this.keyMap)i?(i.nextKey=c,p.prevKey=i.key):(this.firstKey=c,p.prevKey=void 0),p.type==="item"&&(p.index=s++),i=p,i.nextKey=void 0;this.lastKey=i==null?void 0:i.key}}class nd extends Set{constructor(t,r,n){super(t),t instanceof nd?(this.anchorKey=r||t.anchorKey,this.currentKey=n||t.currentKey):(this.anchorKey=r,this.currentKey=n)}}function qGe(e,t,r){let[n,i]=se.useState(e||t),s=se.useRef(e!==void 0),c=e!==void 0;se.useEffect(()=>{let g=s.current;g!==c&&console.warn(`WARN: A component changed from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}.`),s.current=c},[c]);let p=c?e:n,o=se.useCallback((g,...y)=>{let x=(E,...A)=>{r&&(Object.is(p,E)||r(E,...A)),c||(p=E)};typeof g=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i((A,...M)=>{let R=g(c?p:A,...M);return x(R,...y),c?A:R})):(c||i(g),x(g,...y))},[c,p,r]);return[p,o]}function ZGe(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}function bve(e){let{selectionMode:t="none",disallowEmptySelection:r,allowDuplicateSelectionEvents:n,selectionBehavior:i="toggle",disabledBehavior:s="all"}=e,c=se.useRef(!1),[,p]=se.useState(!1),o=se.useRef(null),g=se.useRef(null),[,y]=se.useState(null),x=se.useMemo(()=>jne(e.selectedKeys),[e.selectedKeys]),E=se.useMemo(()=>jne(e.defaultSelectedKeys,new nd),[e.defaultSelectedKeys]),[A,M]=qGe(x,E,e.onSelectionChange),R=se.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),[k,D]=se.useState(i);i==="replace"&&k==="toggle"&&typeof A=="object"&&A.size===0&&D("replace");let $=se.useRef(i);return se.useEffect(()=>{i!==$.current&&(D(i),$.current=i)},[i]),{selectionMode:t,disallowEmptySelection:r,selectionBehavior:k,setSelectionBehavior:D,get isFocused(){return c.current},setFocused(B){c.current=B,p(B)},get focusedKey(){return o.current},get childFocusStrategy(){return g.current},setFocusedKey(B,V="first"){o.current=B,g.current=V,y(B)},selectedKeys:A,setSelectedKeys(B){(n||!ZGe(B,A))&&M(B)},disabledKeys:R,disabledBehavior:s}}function jne(e,t){return e?e==="all"?"all":new nd(e):t}function XGe(e,t){return typeof t.getChildren=="function"?t.getChildren(e.key):e.childNodes}function YGe(e){return JGe(e)}function JGe(e,t){for(let r of e)return r}function H$(e,t,r){if(t.parentKey===r.parentKey)return t.index-r.index;let n=[...Vne(e,t),t],i=[...Vne(e,r),r],s=n.slice(0,i.length).findIndex((c,p)=>c!==i[p]);return s!==-1?(t=n[s],r=i[s],t.index-r.index):n.findIndex(c=>c===r)>=0?1:(i.findIndex(c=>c===t)>=0,-1)}function Vne(e,t){let r=[];for(;(t==null?void 0:t.parentKey)!=null;)t=e.getItem(t.parentKey),r.unshift(t);return r}class xve{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(t){this.state.setSelectionBehavior(t)}get isFocused(){return this.state.isFocused}setFocused(t){this.state.setFocused(t)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(t,r){(t==null||this.collection.getItem(t))&&this.state.setFocusedKey(t,r)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(t){return this.state.selectionMode==="none"?!1:(t=this.getKey(t),this.state.selectedKeys==="all"?this.canSelectItem(t):this.state.selectedKeys.has(t))}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let t=this.getSelectAllKeys(),r=this.state.selectedKeys;return this._isSelectAll=t.every(n=>r.has(n)),this._isSelectAll}get firstSelectedKey(){let t=null;for(let r of this.state.selectedKeys){let n=this.collection.getItem(r);(!t||n&&H$(this.collection,n,t)<0)&&(t=n)}return t==null?void 0:t.key}get lastSelectedKey(){let t=null;for(let r of this.state.selectedKeys){let n=this.collection.getItem(r);(!t||n&&H$(this.collection,n,t)>0)&&(t=n)}return t==null?void 0:t.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(t);return}t=this.getKey(t);let r;if(this.state.selectedKeys==="all")r=new nd([t],t,t);else{let n=this.state.selectedKeys,i=n.anchorKey||t;r=new nd(n,i,t);for(let s of this.getKeyRange(i,n.currentKey||t))r.delete(s);for(let s of this.getKeyRange(t,i))this.canSelectItem(s)&&r.add(s)}this.state.setSelectedKeys(r)}getKeyRange(t,r){let n=this.collection.getItem(t),i=this.collection.getItem(r);return n&&i?H$(this.collection,n,i)<=0?this.getKeyRangeInternal(t,r):this.getKeyRangeInternal(r,t):[]}getKeyRangeInternal(t,r){let n=[],i=t;for(;i;){let s=this.collection.getItem(i);if((s&&s.type==="item"||s.type==="cell"&&this.allowsCellSelection)&&n.push(i),i===r)return n;i=this.collection.getKeyAfter(i)}return[]}getKey(t){let r=this.collection.getItem(t);if(!r||r.type==="cell"&&this.allowsCellSelection)return t;for(;r.type!=="item"&&r.parentKey!=null;)r=this.collection.getItem(r.parentKey);return!r||r.type!=="item"?null:r.key}toggleSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(t)){this.replaceSelection(t);return}if(t=this.getKey(t),t==null)return;let r=new nd(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);r.has(t)?r.delete(t):this.canSelectItem(t)&&(r.add(t),r.anchorKey=t,r.currentKey=t),!(this.disallowEmptySelection&&r.size===0)&&this.state.setSelectedKeys(r)}replaceSelection(t){if(this.selectionMode==="none"||(t=this.getKey(t),t==null))return;let r=this.canSelectItem(t)?new nd([t],t,t):new nd;this.state.setSelectedKeys(r)}setSelectedKeys(t){if(this.selectionMode==="none")return;let r=new nd;for(let n of t)if(n=this.getKey(n),n!=null&&(r.add(n),this.selectionMode==="single"))break;this.state.setSelectedKeys(r)}getSelectAllKeys(){let t=[],r=n=>{for(;n!=null;){if(this.canSelectItem(n)){let i=this.collection.getItem(n);i.type==="item"&&t.push(n),i.hasChildNodes&&(this.allowsCellSelection||i.type!=="item")&&r(YGe(XGe(i,this.collection)).key)}n=this.collection.getKeyAfter(n)}};return r(this.collection.getFirstKey()),t}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new nd)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(t,r){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(t)&&!this.disallowEmptySelection?this.toggleSelection(t):this.replaceSelection(t):this.selectionBehavior==="toggle"||r&&(r.pointerType==="touch"||r.pointerType==="virtual")?this.toggleSelection(t):this.replaceSelection(t))}isSelectionEqual(t){if(t===this.state.selectedKeys)return!0;let r=this.selectedKeys;if(t.size!==r.size)return!1;for(let n of t)if(!r.has(n))return!1;for(let n of r)if(!t.has(n))return!1;return!0}canSelectItem(t){var r;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(t))return!1;let n=this.collection.getItem(t);return!(!n||!(n==null||(r=n.props)===null||r===void 0)&&r.isDisabled||n.type==="cell"&&!this.allowsCellSelection)}isDisabled(t){var r,n;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(t)||!!(!((n=this.collection.getItem(t))===null||n===void 0||(r=n.props)===null||r===void 0)&&r.isDisabled))}isLink(t){var r,n;return!!(!((n=this.collection.getItem(t))===null||n===void 0||(r=n.props)===null||r===void 0)&&r.href)}getItemProps(t){var r;return(r=this.collection.getItem(t))===null||r===void 0?void 0:r.props}constructor(t,r,n){this.collection=t,this.state=r;var i;this.allowsCellSelection=(i=n==null?void 0:n.allowsCellSelection)!==null&&i!==void 0?i:!1,this._isSelectAll=null}}function wve(e){return null}wve.getCollectionNode=function*(t,r){let{childItems:n,title:i,children:s}=t,c=t.title||t.children,p=t.textValue||(typeof c=="string"?c:"")||t["aria-label"]||"";!p&&!(r!=null&&r.suppressTextValueWarning)&&console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:t,rendered:c,textValue:p,"aria-label":t["aria-label"],hasChildNodes:QGe(t),*childNodes(){if(n)for(let o of n)yield{type:"item",value:o};else if(i){let o=[];Ke.Children.forEach(s,g=>{o.push({type:"item",element:g})}),yield*o}}}};function QGe(e){return e.hasChildItems!=null?e.hasChildItems:!!(e.childItems||e.title&&Ke.Children.count(e.children)>0)}let eqe=wve;class tqe{build(t,r){return this.context=r,Une(()=>this.iterateCollection(t))}*iterateCollection(t){let{children:r,items:n}=t;if(typeof r=="function"){if(!n)throw new Error("props.children was a function but props.items is missing");for(let i of t.items)yield*this.getFullNode({value:i},{renderer:r})}else{let i=[];Ke.Children.forEach(r,c=>{i.push(c)});let s=0;for(let c of i){let p=this.getFullNode({element:c,index:s},{});for(let o of p)s++,yield o}}}getKey(t,r,n,i){if(t.key!=null)return t.key;if(r.type==="cell"&&r.key!=null)return`${i}${r.key}`;let s=r.value;if(s!=null){var c;let p=(c=s.key)!==null&&c!==void 0?c:s.id;if(p==null)throw new Error("No key found for item");return p}return i?`${i}.${r.index}`:`$.${r.index}`}getChildState(t,r){return{renderer:r.renderer||t.renderer}}*getFullNode(t,r,n,i){let s=t.element;if(!s&&t.value&&r&&r.renderer){let o=this.cache.get(t.value);if(o&&(!o.shouldInvalidate||!o.shouldInvalidate(this.context))){o.index=t.index,o.parentKey=i?i.key:null,yield o;return}s=r.renderer(t.value)}if(Ke.isValidElement(s)){let o=s.type;if(typeof o!="function"&&typeof o.getCollectionNode!="function"){let E=typeof s.type=="function"?s.type.name:s.type;throw new Error(`Unknown element <${E}> in collection.`)}let g=o.getCollectionNode(s.props,this.context),y=t.index,x=g.next();for(;!x.done&&x.value;){let E=x.value;t.index=y;let A=E.key;A||(A=E.element?null:this.getKey(s,t,r,n));let R=[...this.getFullNode({...E,key:A,index:y,wrapper:rqe(t.wrapper,E.wrapper)},this.getChildState(r,E),n?`${n}${s.key}`:s.key,i)];for(let k of R){if(k.value=E.value||t.value,k.value&&this.cache.set(k.value,k),t.type&&k.type!==t.type)throw new Error(`Unsupported type <${G$(k.type)}> in <${G$(i.type)}>. Only <${G$(t.type)}> is supported.`);y++,yield k}x=g.next(R)}return}if(t.key==null)return;let c=this,p={type:t.type,props:t.props,key:t.key,parentKey:i?i.key:null,value:t.value,level:i?i.level+1:0,index:t.index,rendered:t.rendered,textValue:t.textValue,"aria-label":t["aria-label"],wrapper:t.wrapper,shouldInvalidate:t.shouldInvalidate,hasChildNodes:t.hasChildNodes,childNodes:Une(function*(){if(!t.hasChildNodes)return;let o=0;for(let g of t.childNodes()){g.key!=null&&(g.key=`${p.key}${g.key}`),g.index=o;let y=c.getFullNode(g,c.getChildState(r,g),p.key,p);for(let x of y)o++,yield x}})};yield p}constructor(){this.cache=new WeakMap}}function Une(e){let t=[],r=null;return{*[Symbol.iterator](){for(let n of t)yield n;r||(r=e());for(let n of r)t.push(n),yield n}}}function rqe(e,t){if(e&&t)return r=>e(t(r));if(e)return e;if(t)return t}function G$(e){return e[0].toUpperCase()+e.slice(1)}function Sve(e,t,r){let n=se.useMemo(()=>new tqe,[]),{children:i,items:s,collection:c}=e;return se.useMemo(()=>{if(c)return c;let o=n.build({children:i,items:s},r);return t(o)},[n,i,s,c,r,t])}function ob(e,t){return typeof t.getChildren=="function"?t.getChildren(e.key):e.childNodes}function Eve(e){return Ave(e,0)}function Ave(e,t){if(t<0)return;let r=0;for(let n of e){if(r===t)return n;r++}}function VF(e){let t;for(let r of e)t=r;return t}const Wne=new WeakMap;function nqe(e){let t=Wne.get(e);if(t!=null)return t;t=0;let r=n=>{for(let i of n)i.type==="section"?r(ob(i,e)):t++};return r(e),Wne.set(e,t),t}function iqe(e){let{onExpandedChange:t}=e,[r,n]=v9(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,t),i=bve(e),s=se.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),c=Sve(e,se.useCallback(o=>new GGe(o,{expandedKeys:r}),[r]),null);return se.useEffect(()=>{i.focusedKey!=null&&!c.getItem(i.focusedKey)&&i.setFocusedKey(null)},[c,i.focusedKey]),{collection:c,expandedKeys:r,disabledKeys:s,toggleKey:o=>{n(aqe(r,o))},setExpandedKeys:n,selectionManager:new xve(c,i)}}function aqe(e,t){let r=new Set(e);return r.has(t)?r.delete(t):r.add(t),r}function oqe(e){let t=_l(e,{enabled:typeof e.elementType=="string"}),r;return e.orientation==="vertical"&&(r="vertical"),e.elementType!=="hr"?{separatorProps:{...t,role:"separator","aria-orientation":r}}:{separatorProps:t}}function sqe(e){const{as:t,className:r,orientation:n,...i}=e;let s=t||"hr";s==="hr"&&n==="vertical"&&(s="div");const{separatorProps:c}=oqe({elementType:typeof s=="string"?s:"hr",orientation:n}),p=se.useMemo(()=>RGe({orientation:n,className:r}),[n,r]),o=se.useCallback((g={})=>({className:p,role:"separator","data-orientation":n,...c,...i,...g}),[p,n,c,i]);return{Component:s,getDividerProps:o}}var Tve=La((e,t)=>{const{Component:r,getDividerProps:n}=sqe({...e});return H.jsx(r,{ref:t,...n()})});Tve.displayName="NextUI.Divider";var lqe=Tve,uqe=e=>{const t={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return(t==null?void 0:t[e])||{}},cqe=e=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"})[e],dqe=(e,t)=>{if(t.includes("-")){const[r]=t.split("-");if(r.includes(e))return!1}return!0},Kne=(e,t)=>{if(t.includes("-")){const[,r]=t.split("-");return`${e}-${r}`}return e},I2=new WeakMap,Ku=[];function fqe(e,t=document.body){let r=new Set(e),n=new Set,i=o=>{for(let E of o.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(E);let g=E=>{const A=E.parentElement;if(r.has(E)||n.has(A)&&A.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let M of r)if(E.contains(M))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},y=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:g}),x=g(o);if(x===NodeFilter.FILTER_ACCEPT&&s(o),x!==NodeFilter.FILTER_REJECT){let E=y.nextNode();for(;E!=null;)s(E),E=y.nextNode()}},s=o=>{var g;let y=(g=I2.get(o))!=null?g:0;o.getAttribute("aria-hidden")==="true"&&y===0||(y===0&&o.setAttribute("aria-hidden","true"),n.add(o),I2.set(o,y+1))};Ku.length&&Ku[Ku.length-1].disconnect(),i(t);let c=new MutationObserver(o=>{for(let g of o)if(!(g.type!=="childList"||g.addedNodes.length===0)&&![...r,...n].some(y=>y.contains(g.target))){for(let y of g.removedNodes)y instanceof Element&&(r.delete(y),n.delete(y));for(let y of g.addedNodes)(y instanceof HTMLElement||y instanceof SVGElement)&&(y.dataset.liveAnnouncer==="true"||y.dataset.reactAriaTopLayer==="true")?r.add(y):y instanceof Element&&i(y)}});c.observe(t,{childList:!0,subtree:!0});let p={observe(){c.observe(t,{childList:!0,subtree:!0})},disconnect(){c.disconnect()}};return Ku.push(p),()=>{c.disconnect();for(let o of n){let g=I2.get(o);g!=null&&(g===1?(o.removeAttribute("aria-hidden"),I2.delete(o)):I2.set(o,g-1))}p===Ku[Ku.length-1]?(Ku.pop(),Ku.length&&Ku[Ku.length-1].observe()):Ku.splice(Ku.indexOf(p),1)}}var Pve=(e,t,r)=>{const n=t==null?void 0:t.current;if(!n||!n.contains(e)){const i=document.querySelectorAll("body > span[data-focus-scope-start]");let s=[];if(i.forEach(c=>{s.push(c.nextElementSibling)}),s.length===1)return r.close(),!1}return!n||!n.contains(e)},YI=globalThis!=null&&globalThis.document?se.useLayoutEffect:se.useEffect,[TMt,pqe]=g9({name:"ButtonGroupContext",strict:!1});function Cve(e,t){let{elementType:r="button",isDisabled:n,onPress:i,onPressStart:s,onPressEnd:c,onPressChange:p,preventFocusOnPress:o,allowFocusWhenDisabled:g,onClick:y,href:x,target:E,rel:A,type:M="button",allowTextSelectionOnPress:R}=e,k;r==="button"?k={type:M,disabled:n}:k={role:"button",tabIndex:n?void 0:0,href:r==="a"&&n?void 0:x,target:r==="a"?E:void 0,type:r==="input"?M:void 0,disabled:r==="input"?n:void 0,"aria-disabled":!n||r==="input"?void 0:n,rel:r==="a"?A:void 0};let{pressProps:D,isPressed:$}=rv({onPressStart:s,onPressEnd:c,onPressChange:p,onPress:i,isDisabled:n,preventFocusOnPress:o,allowTextSelectionOnPress:R,ref:t}),{focusableProps:B}=IK(e,t);g&&(B.tabIndex=n?-1:B.tabIndex);let V=An(B,D,X4(e,{labelable:!0}));return{isPressed:$,buttonProps:An(k,V,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:U=>{y==null||y(U)}})}}var Ive=e=>{const{ripples:t=[],motionProps:r,color:n="currentColor",style:i,onClear:s}=e;return H.jsx(H.Fragment,{children:t.map(c=>{const p=CWe(.01*c.size,.2,c.size>100?.75:.5);return H.jsx(mF,{features:gF,children:H.jsx(Pge,{mode:"popLayout",children:H.jsx(hF.span,{animate:{transform:"scale(2)",opacity:0},className:"nextui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:n,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:c.y,left:c.x,width:`${c.size}px`,height:`${c.size}px`,...i},transition:{duration:p},onAnimationComplete:()=>{s(c.key)},...r})})},c.key)})})};Ive.displayName="NextUI.Ripple";var hqe=Ive;function mqe(e={}){const[t,r]=se.useState([]),n=se.useCallback(s=>{const c=s.currentTarget,p=Math.max(c.clientWidth,c.clientHeight),o=c.getBoundingClientRect();r(g=>[...g,{key:TWe(g.length.toString()),size:p,x:s.clientX-o.left-p/2,y:s.clientY-o.top-p/2}])},[]),i=se.useCallback(s=>{r(c=>c.filter(p=>p.key!==s))},[]);return{ripples:t,onClick:n,onClear:i,...e}}function gqe(e){var t,r,n,i,s,c,p,o,g;const y=pqe(),x=Eh(),E=!!y,{ref:A,as:M,children:R,startContent:k,endContent:D,autoFocus:$,className:B,spinner:V,isLoading:U=!1,disableRipple:Z=!1,fullWidth:ne=(t=y==null?void 0:y.fullWidth)!=null?t:!1,radius:j=y==null?void 0:y.radius,size:fe=(r=y==null?void 0:y.size)!=null?r:"md",color:be=(n=y==null?void 0:y.color)!=null?n:"default",variant:pe=(i=y==null?void 0:y.variant)!=null?i:"solid",disableAnimation:le=(c=(s=y==null?void 0:y.disableAnimation)!=null?s:x==null?void 0:x.disableAnimation)!=null?c:!1,isDisabled:G=(p=y==null?void 0:y.isDisabled)!=null?p:!1,isIconOnly:N=(o=y==null?void 0:y.isIconOnly)!=null?o:!1,spinnerPlacement:Y="start",onPress:te,onClick:re,...he}=e,we=M||"button",ye=typeof we=="string",ue=ts(A),J=(g=Z||(x==null?void 0:x.disableRipple))!=null?g:le,{isFocusVisible:de,isFocused:ke,focusProps:Oe}=_d({autoFocus:$}),Se=G||U,We=se.useMemo(()=>BGe({size:fe,color:be,variant:pe,radius:j,fullWidth:ne,isDisabled:Se,isInGroup:E,disableAnimation:le,isIconOnly:N,className:B}),[fe,be,pe,j,ne,Se,E,N,le,B]),{onClick:Je,onClear:$e,ripples:ft}=mqe(),Me=se.useCallback(xn=>{J||Se||le||ue.current&&Je(xn)},[J,Se,le,ue,Je]),{buttonProps:Te,isPressed:Le}=Cve({elementType:M,isDisabled:Se,onPress:te,onClick:Ay(re,Me),...he},ue),{isHovered:Ne,hoverProps:At}=Y4({isDisabled:Se}),Ct=se.useCallback((xn={})=>({"data-disabled":zr(Se),"data-focus":zr(ke),"data-pressed":zr(Le),"data-focus-visible":zr(de),"data-hover":zr(Ne),"data-loading":zr(U),...An(Te,Oe,At,_l(he,{enabled:ye}),_l(xn))}),[U,Se,ke,Le,ye,de,Ne,Te,Oe,At,he]),Lt=xn=>se.isValidElement(xn)?se.cloneElement(xn,{"aria-hidden":!0,focusable:!1,tabIndex:-1}):null,sr=Lt(k),Bt=Lt(D),tr=se.useMemo(()=>({sm:"sm",md:"sm",lg:"md"})[fe],[fe]),Xt=se.useCallback(()=>({ripples:ft,onClear:$e}),[ft,$e]);return{Component:we,children:R,domRef:ue,spinner:V,styles:We,startContent:sr,endContent:Bt,isLoading:U,spinnerPlacement:Y,spinnerSize:tr,disableRipple:J,getButtonProps:Ct,getRippleProps:Xt,isIconOnly:N}}function yqe(e){const[t,r]=iv(e,One.variantKeys),{children:n,className:i,classNames:s,label:c,...p}=t,o=se.useMemo(()=>One({...r}),[ev(r)]),g=pi(s==null?void 0:s.base,i),y=c||n,x=se.useMemo(()=>y&&typeof y=="string"?y:p["aria-label"]?"":"Loading",[n,y,p["aria-label"]]),E=se.useCallback(()=>({"aria-label":x,className:o.base({class:g}),...p}),[x,o,g,p]);return{label:y,slots:o,classNames:s,getSpinnerProps:E}}var Mve=La((e,t)=>{const{slots:r,classNames:n,label:i,getSpinnerProps:s}=yqe({...e});return H.jsxs("div",{ref:t,...s(),children:[H.jsxs("div",{className:r.wrapper({class:n==null?void 0:n.wrapper}),children:[H.jsx("i",{className:r.circle1({class:n==null?void 0:n.circle1})}),H.jsx("i",{className:r.circle2({class:n==null?void 0:n.circle2})})]}),i&&H.jsx("span",{className:r.label({class:n==null?void 0:n.label}),children:i})]})});Mve.displayName="NextUI.Spinner";var vqe=Mve,kve=La((e,t)=>{const{Component:r,domRef:n,children:i,styles:s,spinnerSize:c,spinner:p=H.jsx(vqe,{color:"current",size:c}),spinnerPlacement:o,startContent:g,endContent:y,isLoading:x,disableRipple:E,getButtonProps:A,getRippleProps:M,isIconOnly:R}=gqe({...e,ref:t});return H.jsxs(r,{ref:n,className:s,...A(),children:[g,x&&o==="start"&&p,x&&R?null:i,x&&o==="end"&&p,y,!E&&H.jsx(hqe,{...M()})]})});kve.displayName="NextUI.Button";var yl=kve;function Ove(e,t,r){let{validationBehavior:n,focus:i}=e;Qa(()=>{if(n==="native"&&(r!=null&&r.current)){let o=t.realtimeValidation.isInvalid?t.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";r.current.setCustomValidity(o),r.current.hasAttribute("title")||(r.current.title=""),t.realtimeValidation.isInvalid||t.updateValidation(bqe(r.current))}});let s=fl(()=>{t.resetValidation()}),c=fl(o=>{var g;t.displayValidation.isInvalid||t.commitValidation();let y=r==null||(g=r.current)===null||g===void 0?void 0:g.form;if(!o.defaultPrevented&&r&&y&&xqe(y)===r.current){var x;i?i():(x=r.current)===null||x===void 0||x.focus(),fHe("keyboard")}o.preventDefault()}),p=fl(()=>{t.commitValidation()});se.useEffect(()=>{let o=r==null?void 0:r.current;if(!o)return;let g=o.form;return o.addEventListener("invalid",c),o.addEventListener("change",p),g==null||g.addEventListener("reset",s),()=>{o.removeEventListener("invalid",c),o.removeEventListener("change",p),g==null||g.removeEventListener("reset",s)}},[r,c,p,s,n])}function _qe(e){let t=e.validity;return{badInput:t.badInput,customError:t.customError,patternMismatch:t.patternMismatch,rangeOverflow:t.rangeOverflow,rangeUnderflow:t.rangeUnderflow,stepMismatch:t.stepMismatch,tooLong:t.tooLong,tooShort:t.tooShort,typeMismatch:t.typeMismatch,valueMissing:t.valueMissing,valid:t.valid}}function bqe(e){return{isInvalid:!e.validity.valid,validationDetails:_qe(e),validationErrors:e.validationMessage?[e.validationMessage]:[]}}function xqe(e){for(let t=0;t<e.elements.length;t++){let r=e.elements[t];if(!r.validity.valid)return r}return null}const Dve={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},Rve={...Dve,customError:!0,valid:!1},sb={isInvalid:!1,validationDetails:Dve,validationErrors:[]},wqe=se.createContext({}),UF="__formValidationState"+Date.now();function kK(e){if(e[UF]){let{realtimeValidation:t,displayValidation:r,updateValidation:n,resetValidation:i,commitValidation:s}=e[UF];return{realtimeValidation:t,displayValidation:r,updateValidation:n,resetValidation:i,commitValidation:s}}return Sqe(e)}function Sqe(e){let{isInvalid:t,validationState:r,name:n,value:i,builtinValidation:s,validate:c,validationBehavior:p="aria"}=e;r&&(t||(t=r==="invalid"));let o=t!==void 0?{isInvalid:t,validationErrors:[],validationDetails:Rve}:null,g=se.useMemo(()=>Hne(Eqe(c,i)),[c,i]);s!=null&&s.validationDetails.valid&&(s=null);let y=se.useContext(wqe),x=se.useMemo(()=>n?Array.isArray(n)?n.flatMap(be=>WF(y[be])):WF(y[n]):[],[y,n]),[E,A]=se.useState(y),[M,R]=se.useState(!1);y!==E&&(A(y),R(!1));let k=se.useMemo(()=>Hne(M?[]:x),[M,x]),D=se.useRef(sb),[$,B]=se.useState(sb),V=se.useRef(sb),U=()=>{if(!Z)return;ne(!1);let be=g||s||D.current;q$(be,V.current)||(V.current=be,B(be))},[Z,ne]=se.useState(!1);return se.useEffect(U),{realtimeValidation:o||k||g||s||sb,displayValidation:p==="native"?o||k||$:o||k||g||s||$,updateValidation(be){p==="aria"&&!q$($,be)?B(be):D.current=be},resetValidation(){let be=sb;q$(be,V.current)||(V.current=be,B(be)),p==="native"&&ne(!1),R(!0)},commitValidation(){p==="native"&&ne(!0),R(!0)}}}function WF(e){return e?Array.isArray(e)?e:[e]:[]}function Eqe(e,t){if(typeof e=="function"){let r=e(t);if(r&&typeof r!="boolean")return WF(r)}return[]}function Hne(e){return e.length?{isInvalid:!0,validationErrors:e,validationDetails:Rve}:null}function q$(e,t){return e===t?!0:e&&t&&e.isInvalid===t.isInvalid&&e.validationErrors.length===t.validationErrors.length&&e.validationErrors.every((r,n)=>r===t.validationErrors[n])&&Object.entries(e.validationDetails).every(([r,n])=>t.validationDetails[r]===n)}const OK=typeof document<"u"?Ke.useLayoutEffect:()=>{};function Dg(e){const t=se.useRef(null);return OK(()=>{t.current=e},[e]),se.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}let Gne=new Map;function Aqe(e,t){if(e===t)return e;let r=Gne.get(e);if(r)return r(t),t;let n=Gne.get(t);return n?(n(e),e):t}function $ve(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const fu=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Nx=e=>e&&"window"in e&&e.window===e?e:fu(e).defaultView||window;function ly(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let i in n){let s=t[i],c=n[i];typeof s=="function"&&typeof c=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?t[i]=$ve(s,c):(i==="className"||i==="UNSAFE_className")&&typeof s=="string"&&typeof c=="string"?t[i]=bi(s,c):i==="id"&&s&&c?t.id=Aqe(s,c):t[i]=c!==void 0?c:s}}return t}const Tqe=new Set(["id"]),Pqe=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Cqe=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Iqe=/^(data-.*)$/;function Mqe(e,t={}){let{labelable:r,isLink:n,propNames:i}=t,s={};for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&(Tqe.has(c)||r&&Pqe.has(c)||n&&Cqe.has(c)||i!=null&&i.has(c)||Iqe.test(c))&&(s[c]=e[c]);return s}function Hg(e){if(kqe())e.focus({preventScroll:!0});else{let t=Oqe(e);e.focus(),Dqe(t)}}let JE=null;function kqe(){if(JE==null){JE=!1;try{document.createElement("div").focus({get preventScroll(){return JE=!0,!0}})}catch{}}return JE}function Oqe(e){let t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function Dqe(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}function JI(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function DK(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Y1(e){let t=null;return()=>(t==null&&(t=e()),t)}const H5=Y1(function(){return DK(/^Mac/i)}),Rqe=Y1(function(){return DK(/^iPhone/i)}),Lve=Y1(function(){return DK(/^iPad/i)||H5()&&navigator.maxTouchPoints>1}),Bve=Y1(function(){return Rqe()||Lve()}),$qe=Y1(function(){return JI(/AppleWebKit/i)&&!Lqe()}),Lqe=Y1(function(){return JI(/Chrome/i)}),zve=Y1(function(){return JI(/Android/i)}),Bqe=Y1(function(){return JI(/Firefox/i)});function G5(e,t,r=!0){var n,i;let{metaKey:s,ctrlKey:c,altKey:p,shiftKey:o}=t;Bqe()&&(!((i=window.event)===null||i===void 0||(n=i.type)===null||n===void 0)&&n.startsWith("key"))&&e.target==="_blank"&&(H5()?s=!0:c=!0);let g=$qe()&&H5()&&!Lve()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:s,ctrlKey:c,altKey:p,shiftKey:o}):new MouseEvent("click",{metaKey:s,ctrlKey:c,altKey:p,shiftKey:o,bubbles:!0,cancelable:!0});G5.isOpening=r,Hg(e),e.dispatchEvent(g),G5.isOpening=!1}G5.isOpening=!1;let lb=new Map,KF=new Set;function qne(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let t=n=>{if(!e(n)||!n.target)return;let i=lb.get(n.target);i||(i=new Set,lb.set(n.target,i),n.target.addEventListener("transitioncancel",r,{once:!0})),i.add(n.propertyName)},r=n=>{if(!e(n)||!n.target)return;let i=lb.get(n.target);if(i&&(i.delete(n.propertyName),i.size===0&&(n.target.removeEventListener("transitioncancel",r),lb.delete(n.target)),lb.size===0)){for(let s of KF)s();KF.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?qne():document.addEventListener("DOMContentLoaded",qne));function Nve(e){requestAnimationFrame(()=>{lb.size===0?e():KF.add(e)})}function zqe(){let e=se.useRef(new Map),t=se.useCallback((i,s,c,p)=>{let o=p!=null&&p.once?(...g)=>{e.current.delete(c),c(...g)}:c;e.current.set(c,{type:s,eventTarget:i,fn:o,options:p}),i.addEventListener(s,c,p)},[]),r=se.useCallback((i,s,c,p)=>{var o;let g=((o=e.current.get(c))===null||o===void 0?void 0:o.fn)||c;i.removeEventListener(s,g,p),e.current.delete(c)},[]),n=se.useCallback(()=>{e.current.forEach((i,s)=>{r(i.eventTarget,i.type,s,i.options)})},[r]);return se.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function Fve(e,t){OK(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function HF(e){return e.mozInputSource===0&&e.isTrusted?!0:zve()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Nqe(e){return!zve()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}function Fqe(e,t,r){let n=se.useRef(t),i=Dg(()=>{r&&r(n.current)});se.useEffect(()=>{var s;let c=e==null||(s=e.current)===null||s===void 0?void 0:s.form;return c==null||c.addEventListener("reset",i),()=>{c==null||c.removeEventListener("reset",i)}},[e,i])}let Nb="default",GF="",gT=new WeakMap;function Zne(e){if(Bve()){if(Nb==="default"){const t=fu(e);GF=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}Nb="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(gT.set(e,e.style.userSelect),e.style.userSelect="none")}function QE(e){if(Bve()){if(Nb!=="disabled")return;Nb="restoring",setTimeout(()=>{Nve(()=>{if(Nb==="restoring"){const t=fu(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=GF||""),GF="",Nb="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&gT.has(e)){let t=gT.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),gT.delete(e)}}const jve=Ke.createContext({register:()=>{}});jve.displayName="PressResponderContext";function jqe(e){let t=se.useContext(jve);if(t){let{register:r,...n}=t;e=ly(n,e),r()}return Fve(t,e.ref),e}var eA=new WeakMap;let tA=class{continuePropagation(){zx(this,eA,!1)}get shouldStopPropagation(){return EK(this,eA)}constructor(t,r,n,i){_K(this,eA,{writable:!0,value:void 0}),zx(this,eA,!0);var s;let c=(s=i==null?void 0:i.target)!==null&&s!==void 0?s:n.currentTarget;const p=c==null?void 0:c.getBoundingClientRect();let o,g=0,y,x=null;n.clientX!=null&&n.clientY!=null&&(y=n.clientX,x=n.clientY),p&&(y!=null&&x!=null?(o=y-p.left,g=x-p.top):(o=p.width/2,g=p.height/2)),this.type=t,this.pointerType=r,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.x=o,this.y=g}};const Xne=Symbol("linkClicked");function Yne(e){let{onPress:t,onPressChange:r,onPressStart:n,onPressEnd:i,onPressUp:s,isDisabled:c,isPressed:p,preventFocusOnPress:o,shouldCancelOnPointerExit:g,allowTextSelectionOnPress:y,ref:x,...E}=jqe(e),[A,M]=se.useState(!1),R=se.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:k,removeAllGlobalListeners:D}=zqe(),$=Dg((j,fe)=>{let be=R.current;if(c||be.didFirePressStart)return!1;let pe=!0;if(be.isTriggeringEvent=!0,n){let le=new tA("pressstart",fe,j);n(le),pe=le.shouldStopPropagation}return r&&r(!0),be.isTriggeringEvent=!1,be.didFirePressStart=!0,M(!0),pe}),B=Dg((j,fe,be=!0)=>{let pe=R.current;if(!pe.didFirePressStart)return!1;pe.ignoreClickAfterPress=!0,pe.didFirePressStart=!1,pe.isTriggeringEvent=!0;let le=!0;if(i){let G=new tA("pressend",fe,j);i(G),le=G.shouldStopPropagation}if(r&&r(!1),M(!1),t&&be&&!c){let G=new tA("press",fe,j);t(G),le&&(le=G.shouldStopPropagation)}return pe.isTriggeringEvent=!1,le}),V=Dg((j,fe)=>{let be=R.current;if(c)return!1;if(s){be.isTriggeringEvent=!0;let pe=new tA("pressup",fe,j);return s(pe),be.isTriggeringEvent=!1,pe.shouldStopPropagation}return!0}),U=Dg(j=>{let fe=R.current;fe.isPressed&&fe.target&&(fe.isOverTarget&&fe.pointerType!=null&&B(np(fe.target,j),fe.pointerType,!1),fe.isPressed=!1,fe.isOverTarget=!1,fe.activePointerId=null,fe.pointerType=null,D(),y||QE(fe.target))}),Z=Dg(j=>{g&&U(j)}),ne=se.useMemo(()=>{let j=R.current,fe={onKeyDown(pe){if(Z$(pe.nativeEvent,pe.currentTarget)&&pe.currentTarget.contains(pe.target)){var le;Qne(pe.target,pe.key)&&pe.preventDefault();let G=!0;if(!j.isPressed&&!pe.repeat){j.target=pe.currentTarget,j.isPressed=!0,G=$(pe,"keyboard");let N=pe.currentTarget,Y=te=>{Z$(te,N)&&!te.repeat&&N.contains(te.target)&&j.target&&V(np(j.target,te),"keyboard")};k(fu(pe.currentTarget),"keyup",$ve(Y,be),!0)}G&&pe.stopPropagation(),pe.metaKey&&H5()&&((le=j.metaKeyEvents)===null||le===void 0||le.set(pe.key,pe.nativeEvent))}else pe.key==="Meta"&&(j.metaKeyEvents=new Map)},onClick(pe){if(!(pe&&!pe.currentTarget.contains(pe.target))&&pe&&pe.button===0&&!j.isTriggeringEvent&&!G5.isOpening){let le=!0;if(c&&pe.preventDefault(),!j.ignoreClickAfterPress&&!j.ignoreEmulatedMouseEvents&&!j.isPressed&&(j.pointerType==="virtual"||HF(pe.nativeEvent))){!c&&!o&&Hg(pe.currentTarget);let G=$(pe,"virtual"),N=V(pe,"virtual"),Y=B(pe,"virtual");le=G&&N&&Y}j.ignoreEmulatedMouseEvents=!1,j.ignoreClickAfterPress=!1,le&&pe.stopPropagation()}}},be=pe=>{var le;if(j.isPressed&&j.target&&Z$(pe,j.target)){var G;Qne(pe.target,pe.key)&&pe.preventDefault();let Y=pe.target;B(np(j.target,pe),"keyboard",j.target.contains(Y)),D(),pe.key!=="Enter"&&RK(j.target)&&j.target.contains(Y)&&!pe[Xne]&&(pe[Xne]=!0,G5(j.target,pe,!1)),j.isPressed=!1,(G=j.metaKeyEvents)===null||G===void 0||G.delete(pe.key)}else if(pe.key==="Meta"&&(!((le=j.metaKeyEvents)===null||le===void 0)&&le.size)){var N;let Y=j.metaKeyEvents;j.metaKeyEvents=void 0;for(let te of Y.values())(N=j.target)===null||N===void 0||N.dispatchEvent(new KeyboardEvent("keyup",te))}};if(typeof PointerEvent<"u"){fe.onPointerDown=N=>{if(N.button!==0||!N.currentTarget.contains(N.target))return;if(Nqe(N.nativeEvent)){j.pointerType="virtual";return}X$(N.currentTarget)&&N.preventDefault(),j.pointerType=N.pointerType;let Y=!0;j.isPressed||(j.isPressed=!0,j.isOverTarget=!0,j.activePointerId=N.pointerId,j.target=N.currentTarget,!c&&!o&&Hg(N.currentTarget),y||Zne(j.target),Y=$(N,j.pointerType),k(fu(N.currentTarget),"pointermove",pe,!1),k(fu(N.currentTarget),"pointerup",le,!1),k(fu(N.currentTarget),"pointercancel",G,!1)),Y&&N.stopPropagation()},fe.onMouseDown=N=>{N.currentTarget.contains(N.target)&&N.button===0&&(X$(N.currentTarget)&&N.preventDefault(),N.stopPropagation())},fe.onPointerUp=N=>{!N.currentTarget.contains(N.target)||j.pointerType==="virtual"||N.button===0&&L_(N,N.currentTarget)&&V(N,j.pointerType||N.pointerType)};let pe=N=>{N.pointerId===j.activePointerId&&(j.target&&L_(N,j.target)?!j.isOverTarget&&j.pointerType!=null&&(j.isOverTarget=!0,$(np(j.target,N),j.pointerType)):j.target&&j.isOverTarget&&j.pointerType!=null&&(j.isOverTarget=!1,B(np(j.target,N),j.pointerType,!1),Z(N)))},le=N=>{N.pointerId===j.activePointerId&&j.isPressed&&N.button===0&&j.target&&(L_(N,j.target)&&j.pointerType!=null?B(np(j.target,N),j.pointerType):j.isOverTarget&&j.pointerType!=null&&B(np(j.target,N),j.pointerType,!1),j.isPressed=!1,j.isOverTarget=!1,j.activePointerId=null,j.pointerType=null,D(),y||QE(j.target))},G=N=>{U(N)};fe.onDragStart=N=>{N.currentTarget.contains(N.target)&&U(N)}}else{fe.onMouseDown=G=>{if(G.button!==0||!G.currentTarget.contains(G.target))return;if(X$(G.currentTarget)&&G.preventDefault(),j.ignoreEmulatedMouseEvents){G.stopPropagation();return}j.isPressed=!0,j.isOverTarget=!0,j.target=G.currentTarget,j.pointerType=HF(G.nativeEvent)?"virtual":"mouse",!c&&!o&&Hg(G.currentTarget),$(G,j.pointerType)&&G.stopPropagation(),k(fu(G.currentTarget),"mouseup",pe,!1)},fe.onMouseEnter=G=>{if(!G.currentTarget.contains(G.target))return;let N=!0;j.isPressed&&!j.ignoreEmulatedMouseEvents&&j.pointerType!=null&&(j.isOverTarget=!0,N=$(G,j.pointerType)),N&&G.stopPropagation()},fe.onMouseLeave=G=>{if(!G.currentTarget.contains(G.target))return;let N=!0;j.isPressed&&!j.ignoreEmulatedMouseEvents&&j.pointerType!=null&&(j.isOverTarget=!1,N=B(G,j.pointerType,!1),Z(G)),N&&G.stopPropagation()},fe.onMouseUp=G=>{G.currentTarget.contains(G.target)&&!j.ignoreEmulatedMouseEvents&&G.button===0&&V(G,j.pointerType||"mouse")};let pe=G=>{if(G.button===0){if(j.isPressed=!1,D(),j.ignoreEmulatedMouseEvents){j.ignoreEmulatedMouseEvents=!1;return}j.target&&L_(G,j.target)&&j.pointerType!=null?B(np(j.target,G),j.pointerType):j.target&&j.isOverTarget&&j.pointerType!=null&&B(np(j.target,G),j.pointerType,!1),j.isOverTarget=!1}};fe.onTouchStart=G=>{if(!G.currentTarget.contains(G.target))return;let N=Vqe(G.nativeEvent);if(!N)return;j.activePointerId=N.identifier,j.ignoreEmulatedMouseEvents=!0,j.isOverTarget=!0,j.isPressed=!0,j.target=G.currentTarget,j.pointerType="touch",!c&&!o&&Hg(G.currentTarget),y||Zne(j.target),$(Im(j.target,G),j.pointerType)&&G.stopPropagation(),k(Nx(G.currentTarget),"scroll",le,!0)},fe.onTouchMove=G=>{if(!G.currentTarget.contains(G.target))return;if(!j.isPressed){G.stopPropagation();return}let N=Jne(G.nativeEvent,j.activePointerId),Y=!0;N&&L_(N,G.currentTarget)?!j.isOverTarget&&j.pointerType!=null&&(j.isOverTarget=!0,Y=$(Im(j.target,G),j.pointerType)):j.isOverTarget&&j.pointerType!=null&&(j.isOverTarget=!1,Y=B(Im(j.target,G),j.pointerType,!1),Z(Im(j.target,G))),Y&&G.stopPropagation()},fe.onTouchEnd=G=>{if(!G.currentTarget.contains(G.target))return;if(!j.isPressed){G.stopPropagation();return}let N=Jne(G.nativeEvent,j.activePointerId),Y=!0;N&&L_(N,G.currentTarget)&&j.pointerType!=null?(V(Im(j.target,G),j.pointerType),Y=B(Im(j.target,G),j.pointerType)):j.isOverTarget&&j.pointerType!=null&&(Y=B(Im(j.target,G),j.pointerType,!1)),Y&&G.stopPropagation(),j.isPressed=!1,j.activePointerId=null,j.isOverTarget=!1,j.ignoreEmulatedMouseEvents=!0,j.target&&!y&&QE(j.target),D()},fe.onTouchCancel=G=>{G.currentTarget.contains(G.target)&&(G.stopPropagation(),j.isPressed&&U(Im(j.target,G)))};let le=G=>{j.isPressed&&G.target.contains(j.target)&&U({currentTarget:j.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};fe.onDragStart=G=>{G.currentTarget.contains(G.target)&&U(G)}}return fe},[k,c,o,D,y,U,Z,B,$,V]);return se.useEffect(()=>()=>{var j;y||QE((j=R.current.target)!==null&&j!==void 0?j:void 0)},[y]),{isPressed:p||A,pressProps:ly(E,ne)}}function RK(e){return e.tagName==="A"&&e.hasAttribute("href")}function Z$(e,t){const{key:r,code:n}=e,i=t,s=i.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(i instanceof Nx(i).HTMLInputElement&&!Vve(i,r)||i instanceof Nx(i).HTMLTextAreaElement||i.isContentEditable)&&!((s==="link"||!s&&RK(i))&&r!=="Enter")}function Vqe(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function Jne(e,t){const r=e.changedTouches;for(let n=0;n<r.length;n++){const i=r[n];if(i.identifier===t)return i}return null}function Im(e,t){let r=0,n=0;return t.targetTouches&&t.targetTouches.length===1&&(r=t.targetTouches[0].clientX,n=t.targetTouches[0].clientY),{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:r,clientY:n}}function np(e,t){let r=t.clientX,n=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:r,clientY:n}}function Uqe(e){let t=0,r=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?r=e.height/2:e.radiusY!==void 0&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function Wqe(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function L_(e,t){let r=t.getBoundingClientRect(),n=Uqe(e);return Wqe(r,n)}function X$(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function Qne(e,t){return e instanceof HTMLInputElement?!Vve(e,t):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!RK(e)}const Kqe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Vve(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Kqe.has(e.type)}class Hqe{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=t}}function Gqe(e){let t=se.useRef({isFocused:!1,observer:null});OK(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=Dg(n=>{e==null||e(n)});return se.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=n.target,s=c=>{t.current.isFocused=!1,i.disabled&&r(new Hqe("blur",c)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var c;(c=t.current.observer)===null||c===void 0||c.disconnect();let p=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:p})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:p}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function qqe(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:i}=e;const s=se.useCallback(o=>{if(o.target===o.currentTarget)return n&&n(o),i&&i(!1),!0},[n,i]),c=Gqe(s),p=se.useCallback(o=>{const g=fu(o.target);o.target===o.currentTarget&&g.activeElement===o.target&&(r&&r(o),i&&i(!0),c(o))},[i,r,c]);return{focusProps:{onFocus:!t&&(r||i||n)?p:void 0,onBlur:!t&&(n||i)?s:void 0}}}let b9=null,Zqe=new Set,n5=new Map,Iy=!1,qF=!1;function $K(e,t){for(let r of Zqe)r(e,t)}function Xqe(e){return!(e.metaKey||!H5()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function BP(e){Iy=!0,Xqe(e)&&(b9="keyboard",$K("keyboard",e))}function rc(e){b9="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Iy=!0,$K("pointer",e))}function Uve(e){HF(e)&&(Iy=!0,b9="virtual")}function Wve(e){e.target===window||e.target===document||(!Iy&&!qF&&(b9="virtual",$K("virtual",e)),Iy=!1,qF=!1)}function Kve(){Iy=!1,qF=!0}function eie(e){if(typeof window>"u"||n5.get(Nx(e)))return;const t=Nx(e),r=fu(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Iy=!0,n.apply(this,arguments)},r.addEventListener("keydown",BP,!0),r.addEventListener("keyup",BP,!0),r.addEventListener("click",Uve,!0),t.addEventListener("focus",Wve,!0),t.addEventListener("blur",Kve,!1),typeof PointerEvent<"u"?(r.addEventListener("pointerdown",rc,!0),r.addEventListener("pointermove",rc,!0),r.addEventListener("pointerup",rc,!0)):(r.addEventListener("mousedown",rc,!0),r.addEventListener("mousemove",rc,!0),r.addEventListener("mouseup",rc,!0)),t.addEventListener("beforeunload",()=>{Hve(e)},{once:!0}),n5.set(t,{focus:n})}const Hve=(e,t)=>{const r=Nx(e),n=fu(e);t&&n.removeEventListener("DOMContentLoaded",t),n5.has(r)&&(r.HTMLElement.prototype.focus=n5.get(r).focus,n.removeEventListener("keydown",BP,!0),n.removeEventListener("keyup",BP,!0),n.removeEventListener("click",Uve,!0),r.removeEventListener("focus",Wve,!0),r.removeEventListener("blur",Kve,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",rc,!0),n.removeEventListener("pointermove",rc,!0),n.removeEventListener("pointerup",rc,!0)):(n.removeEventListener("mousedown",rc,!0),n.removeEventListener("mousemove",rc,!0),n.removeEventListener("mouseup",rc,!0)),n5.delete(r))};function Yqe(e){const t=fu(e);let r;return t.readyState!=="loading"?eie(e):(r=()=>{eie(e)},t.addEventListener("DOMContentLoaded",r)),()=>Hve(e,r)}typeof document<"u"&&Yqe();function Jqe(){return b9}function tie(e){if(!e)return;let t=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(n),t&&r.stopPropagation()}}function Qqe(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:tie(e.onKeyDown),onKeyUp:tie(e.onKeyUp)}}}function eZe(e){const t=fu(e);if(Jqe()==="virtual"){let r=t.activeElement;Nve(()=>{t.activeElement===r&&e.isConnected&&Hg(e)})}else Hg(e)}let tZe=Ke.createContext(null);function rZe(e){let t=se.useContext(tZe)||{};Fve(t,e);let{ref:r,...n}=t;return n}function nZe(e,t){let{focusProps:r}=qqe(e),{keyboardProps:n}=Qqe(e),i=ly(r,n),s=rZe(t),c=e.isDisabled?{}:s,p=se.useRef(e.autoFocus);return se.useEffect(()=>{p.current&&t.current&&eZe(t.current),p.current=!1},[t]),{focusableProps:ly({...i,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},c)}}function iZe(e,t,r){let{isDisabled:n=!1,isReadOnly:i=!1,value:s,name:c,children:p,"aria-label":o,"aria-labelledby":g,validationState:y="valid",isInvalid:x}=e,E=Z=>{Z.stopPropagation(),t.setSelected(Z.target.checked)},A=p!=null,M=o!=null||g!=null;!A&&!M&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let{pressProps:R,isPressed:k}=Yne({isDisabled:n}),{pressProps:D,isPressed:$}=Yne({isDisabled:n||i,onPress(){t.toggle()}}),{focusableProps:B}=nZe(e,r),V=ly(R,B),U=Mqe(e,{labelable:!0});return Fqe(r,t.isSelected,t.setSelected),{labelProps:ly(D,{onClick:Z=>Z.preventDefault()}),inputProps:ly(U,{"aria-invalid":x||y==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":i||void 0,onChange:E,disabled:n,...s==null?{}:{value:s},name:c,type:"checkbox",...V}),isSelected:t.isSelected,isPressed:k||$,isDisabled:n,isReadOnly:i,isInvalid:x||y==="invalid"}}function Gve(e,t,r){let n=kK({...e,value:t.isSelected}),{isInvalid:i,validationErrors:s,validationDetails:c}=n.displayValidation,{labelProps:p,inputProps:o,isSelected:g,isPressed:y,isDisabled:x,isReadOnly:E}=iZe({...e,isInvalid:i},t,r);Ove(e,n,r);let{isIndeterminate:A,isRequired:M,validationBehavior:R="aria"}=e;return se.useEffect(()=>{r.current&&(r.current.indeterminate=!!A)}),{labelProps:p,inputProps:{...o,checked:g,"aria-required":M&&R==="aria"||void 0,required:M&&R==="native"},isSelected:g,isPressed:y,isDisabled:x,isReadOnly:E,isInvalid:i,validationErrors:s,validationDetails:c}}const aZe=new WeakMap;function qve(e){let{id:t,label:r,"aria-labelledby":n,"aria-label":i,labelElementType:s="label"}=e;t=L1(t);let c=L1(),p={};r?(n=n?`${c} ${n}`:c,p={id:c,htmlFor:s==="label"?t:void 0}):!n&&!i&&console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility");let o=aye({id:t,"aria-label":i,"aria-labelledby":n});return{labelProps:p,fieldProps:o}}function oZe(e){let{description:t,errorMessage:r,isInvalid:n,validationState:i}=e,{labelProps:s,fieldProps:c}=qve(e),p=ax([!!t,!!r,n,i]),o=ax([!!t,!!r,n,i]);return c=An(c,{"aria-describedby":[p,o,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:s,fieldProps:c,descriptionProps:{id:p},errorMessageProps:{id:o}}}function Zve(e={}){let{isReadOnly:t}=e,[r,n]=v9(e.isSelected,e.defaultSelected||!1,e.onChange);function i(c){t||n(c)}function s(){t||n(!r)}return{isSelected:r,setSelected:i,toggle:s}}function sZe(e,t,r){const n=Zve({isReadOnly:e.isReadOnly||t.isReadOnly,isSelected:t.isSelected(e.value),onChange(k){k?t.addValue(e.value):t.removeValue(e.value),e.onChange&&e.onChange(k)}});let{name:i,descriptionId:s,errorMessageId:c,validationBehavior:p}=aZe.get(t);var o;p=(o=e.validationBehavior)!==null&&o!==void 0?o:p;let{realtimeValidation:g}=kK({...e,value:n.isSelected,name:void 0,validationBehavior:"aria"}),y=se.useRef(sb),x=()=>{t.setInvalid(e.value,g.isInvalid?g:y.current)};se.useEffect(x);let E=t.realtimeValidation.isInvalid?t.realtimeValidation:g,A=p==="native"?t.displayValidation:E;var M;let R=Gve({...e,isReadOnly:e.isReadOnly||t.isReadOnly,isDisabled:e.isDisabled||t.isDisabled,name:e.name||i,isRequired:(M=e.isRequired)!==null&&M!==void 0?M:t.isRequired,validationBehavior:p,[UF]:{realtimeValidation:E,displayValidation:A,resetValidation:t.resetValidation,commitValidation:t.commitValidation,updateValidation(k){y.current=k,x()}}},n,r);return{...R,inputProps:{...R.inputProps,"aria-describedby":[e["aria-describedby"],t.isInvalid?c:null,s].filter(Boolean).join(" ")||void 0}}}var[CMt,lZe]=g9({name:"CheckboxGroupContext",strict:!1});function uZe(e){const{isSelected:t,disableAnimation:r,...n}=e;return H.jsx("svg",{"aria-hidden":"true",role:"presentation",viewBox:"0 0 17 18",...n,children:H.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,style:!r&&t?{transition:"stroke-dashoffset 250ms linear 0.2s"}:{}})})}function cZe(e){const{isSelected:t,disableAnimation:r,...n}=e;return H.jsx("svg",{stroke:"currentColor",strokeWidth:3,viewBox:"0 0 24 24",...n,children:H.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function dZe(e){const{isIndeterminate:t,...r}=e,n=t?cZe:uZe;return H.jsx(n,{...r})}function fZe(e,t=[]){const r=se.useRef(e);return YI(()=>{r.current=e}),se.useCallback((...n)=>{var i;return(i=r.current)==null?void 0:i.call(r,...n)},t)}function pZe(e={}){var t,r,n,i,s,c,p,o;const g=Eh(),y=lZe(),x=!!y,{as:E,ref:A,value:M="",children:R,icon:k,name:D,isRequired:$,isReadOnly:B=!1,autoFocus:V=!1,isSelected:U,size:Z=(t=y==null?void 0:y.size)!=null?t:"md",color:ne=(r=y==null?void 0:y.color)!=null?r:"primary",radius:j=y==null?void 0:y.radius,lineThrough:fe=(n=y==null?void 0:y.lineThrough)!=null?n:!1,isDisabled:be=(i=y==null?void 0:y.isDisabled)!=null?i:!1,disableAnimation:pe=(c=(s=y==null?void 0:y.disableAnimation)!=null?s:g==null?void 0:g.disableAnimation)!=null?c:!1,validationState:le,isInvalid:G=le?le==="invalid":(p=y==null?void 0:y.isInvalid)!=null?p:!1,isIndeterminate:N=!1,validationBehavior:Y=(o=y==null?void 0:y.validationBehavior)!=null?o:"aria",defaultSelected:te,classNames:re,className:he,onValueChange:we,...ye}=e;y&&gWe&&(U&&bF("The Checkbox.Group is being used, `isSelected` will be ignored. Use the `value` of the Checkbox.Group instead.","Checkbox"),te&&bF("The Checkbox.Group is being used, `defaultSelected` will be ignored. Use the `defaultValue` of the Checkbox.Group instead.","Checkbox"));const ue=E||"label",J=se.useRef(null),de=se.useRef(null);let ke=e.onChange;x&&(ke=Ay(()=>{y.groupState.resetValidation()},ke));const Oe=se.useId(),Se=se.useMemo(()=>({name:D,value:M,children:R,autoFocus:V,defaultSelected:te,validationBehavior:Y,isIndeterminate:N,isRequired:$,isInvalid:G,isSelected:U,isDisabled:be,isReadOnly:B,"aria-label":Bge(ye["aria-label"],R),"aria-labelledby":ye["aria-labelledby"]||Oe,onChange:we}),[M,D,Oe,R,V,G,N,be,B,U,te,Y,ye["aria-label"],ye["aria-labelledby"],we]),We=Zve(Se),{inputProps:Je,isSelected:$e,isDisabled:ft,isReadOnly:Me,isPressed:Te}=x?sZe({...Se},y.groupState,de):Gve({...Se},We,de),Le=ft||Me,[Ne,At]=se.useState(!1),{pressProps:Ct}=rv({isDisabled:Le,onPressStart(ve){ve.pointerType!=="keyboard"&&At(!0)},onPressEnd(ve){ve.pointerType!=="keyboard"&&At(!1)}}),Lt=Le?!1:Ne||Te,{hoverProps:sr,isHovered:Bt}=Y4({isDisabled:Je.disabled}),{focusProps:tr,isFocused:Xt,isFocusVisible:xn}=_d({autoFocus:Je.autoFocus}),Nr=se.useMemo(()=>LGe({color:ne,size:Z,radius:j,isInvalid:G,lineThrough:fe,isDisabled:ft,disableAnimation:pe}),[ne,Z,j,G,fe,ft,pe]);YI(()=>{if(!de.current)return;const ve=!!de.current.checked;We.setSelected(ve)},[de.current]);const gt=fZe(ke),kt=se.useCallback(ve=>{if(Me||ft){ve.preventDefault();return}gt==null||gt(ve)},[Me,ft,gt]),Zt=pi(re==null?void 0:re.base,he),ur=se.useCallback(()=>({ref:J,className:Nr.base({class:Zt}),"data-disabled":zr(ft),"data-selected":zr($e||N),"data-invalid":zr(G),"data-hover":zr(Bt),"data-focus":zr(Xt),"data-pressed":zr(Lt),"data-readonly":zr(Je.readOnly),"data-focus-visible":zr(xn),"data-indeterminate":zr(N),...An(sr,Ct,ye)}),[Nr,Zt,ft,$e,N,G,Bt,Xt,Lt,Je.readOnly,xn,sr,Ct,ye]),yr=se.useCallback((ve={})=>({...ve,"aria-hidden":!0,className:pi(Nr.wrapper({class:pi(re==null?void 0:re.wrapper,ve==null?void 0:ve.className)}))}),[Nr,re==null?void 0:re.wrapper]),kr=se.useCallback(()=>({ref:xF(de,A),...An(Je,tr),onChange:Ay(Je.onChange,kt)}),[Je,tr,kt]),Be=se.useCallback(()=>({id:Oe,className:Nr.label({class:re==null?void 0:re.label})}),[Nr,re==null?void 0:re.label,ft,$e,G]),ge=se.useCallback(()=>({isSelected:$e,isIndeterminate:N,disableAnimation:pe,className:Nr.icon({class:re==null?void 0:re.icon})}),[Nr,re==null?void 0:re.icon,$e,N,pe]);return{Component:ue,icon:k,children:R,isSelected:$e,isDisabled:ft,isInvalid:G,isFocused:Xt,isHovered:Bt,isFocusVisible:xn,getBaseProps:ur,getWrapperProps:yr,getInputProps:kr,getLabelProps:Be,getIconProps:ge}}var Xve=La((e,t)=>{const{Component:r,children:n,icon:i=H.jsx(dZe,{}),getBaseProps:s,getWrapperProps:c,getInputProps:p,getIconProps:o,getLabelProps:g}=pZe({...e,ref:t}),y=typeof i=="function"?i(o()):se.cloneElement(i,o());return H.jsxs(r,{...s(),children:[H.jsx(_9,{elementType:"span",children:H.jsx("input",{...p()})}),H.jsx("span",{...c(),children:y}),n&&H.jsx("span",{...g(),children:n})]})});Xve.displayName="NextUI.Checkbox";var Yve=Xve;function Jve(e){let[t,r]=v9(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const n=se.useCallback(()=>{r(!0)},[r]),i=se.useCallback(()=>{r(!1)},[r]),s=se.useCallback(()=>{r(!t)},[r,t]);return{isOpen:t,setOpen:r,open:n,close:i,toggle:s}}function hZe(e={}){const{rerender:t=!1,delay:r=0}=e,n=se.useRef(!1),[i,s]=se.useState(!1);return se.useEffect(()=>{n.current=!0;let c=null;return t&&(r>0?c=setTimeout(()=>{s(!0)},r):s(!0)),()=>{n.current=!1,t&&s(!1),c&&clearTimeout(c)}},[t]),[se.useCallback(()=>n.current,[]),i]}function mZe(e){let{value:t=0,minValue:r=0,maxValue:n=100,valueLabel:i,isIndeterminate:s,formatOptions:c={style:"percent"}}=e,p=X4(e,{labelable:!0}),{labelProps:o,fieldProps:g}=qve({...e,labelElementType:"span"});t=CP(t,r,n);let y=(t-r)/(n-r),x=VKe(c);if(!s&&!i){let E=c.style==="percent"?y:t;i=x.format(E)}return{progressBarProps:An(p,{...g,"aria-valuenow":s?void 0:t,"aria-valuemin":r,"aria-valuemax":n,"aria-valuetext":s?void 0:i,role:"progressbar"}),labelProps:o}}function gZe(e){var t,r;const n=Eh(),[i,s]=iv(e,Lne.variantKeys),{ref:c,as:p,id:o,className:g,classNames:y,label:x,valueLabel:E,value:A=0,minValue:M=0,maxValue:R=100,showValueLabel:k=!1,formatOptions:D={style:"percent"},...$}=i,B=p||"div",V=ts(c),U=pi(y==null?void 0:y.base,g),[,Z]=hZe({rerender:!0,delay:100}),ne=e.isIndeterminate,j=(r=(t=e.disableAnimation)!=null?t:n==null?void 0:n.disableAnimation)!=null?r:!1,{progressBarProps:fe,labelProps:be}=mZe({id:o,label:x,value:A,minValue:M,maxValue:R,valueLabel:E,formatOptions:D,isIndeterminate:ne,"aria-labelledby":e["aria-labelledby"],"aria-label":e["aria-label"]}),pe=se.useMemo(()=>Lne({...s,disableAnimation:j}),[ev(s),j]),le=j?!0:Z,G=se.useMemo(()=>ne||!le?void 0:IWe((A-M)/(R-M)*100),[le,ne,A,M,R]),N=se.useCallback((te={})=>({ref:V,"data-indeterminate":zr(ne),"data-disabled":zr(e.isDisabled),className:pe.base({class:U}),...An(fe,$,te)}),[V,pe,ne,e.isDisabled,U,fe,$]),Y=se.useCallback((te={})=>({className:pe.label({class:y==null?void 0:y.label}),...An(be,te)}),[pe,y,be]);return{Component:B,domRef:V,slots:pe,classNames:y,label:x,percentage:G,showValueLabel:k,getProgressBarProps:N,getLabelProps:Y}}var Qve=La((e,t)=>{const{Component:r,slots:n,classNames:i,label:s,percentage:c,showValueLabel:p,getProgressBarProps:o,getLabelProps:g}=gZe({...e,ref:t}),y=o(),x=s||p;return H.jsxs(r,{...y,children:[x?H.jsxs("div",{className:n.labelWrapper({class:i==null?void 0:i.labelWrapper}),children:[s&&H.jsx("span",{...g(),children:s}),p&&H.jsx("span",{className:n.value({class:i==null?void 0:i.value}),children:y["aria-valuetext"]})]}):null,H.jsx("div",{className:n.track({class:i==null?void 0:i.track}),children:H.jsx("div",{className:n.indicator({class:i==null?void 0:i.indicator}),style:{transform:`translateX(-${100-(c||0)}%)`}})})]})});Qve.displayName="NextUI.Progress";var yZe=Qve;function vZe(e,t){let{inputElementType:r="input",isDisabled:n=!1,isRequired:i=!1,isReadOnly:s=!1,type:c="text",validationBehavior:p="aria"}=e,[o,g]=v9(e.value,e.defaultValue||"",e.onChange),{focusableProps:y}=IK(e,t),x=kK({...e,value:o}),{isInvalid:E,validationErrors:A,validationDetails:M}=x.displayValidation,{labelProps:R,fieldProps:k,descriptionProps:D,errorMessageProps:$}=oZe({...e,isInvalid:E,errorMessage:e.errorMessage||A}),B=X4(e,{labelable:!0});const V={type:c,pattern:e.pattern};return zKe(t,o,g),Ove(e,x,t),se.useEffect(()=>{if(t.current instanceof lc(t.current).HTMLTextAreaElement){let U=t.current;Object.defineProperty(U,"defaultValue",{get:()=>U.value,set:()=>{},configurable:!0})}},[t]),{labelProps:R,inputProps:An(B,r==="input"&&V,{disabled:n,readOnly:s,required:i&&p==="native","aria-required":i&&p==="aria"||void 0,"aria-invalid":E||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],value:o,onChange:U=>g(U.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,placeholder:e.placeholder,inputMode:e.inputMode,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...y,...k}),descriptionProps:D,errorMessageProps:$,isInvalid:E,validationErrors:A,validationDetails:M}}function _Ze(e){var t,r,n,i;const s=Eh(),[c,p]=iv(e,Bne.variantKeys),{ref:o,as:g,type:y,label:x,baseRef:E,wrapperRef:A,description:M,className:R,classNames:k,autoFocus:D,startContent:$,endContent:B,onClear:V,onChange:U,validationState:Z,validationBehavior:ne=(t=s==null?void 0:s.validationBehavior)!=null?t:"aria",innerWrapperRef:j,onValueChange:fe=()=>{},...be}=c,pe=se.useCallback(ln=>{fe(ln??"")},[fe]),[le,G]=se.useState(!1),N=g||"div",Y=(n=(r=e.disableAnimation)!=null?r:s==null?void 0:s.disableAnimation)!=null?n:!1,te=ts(o),re=ts(E),he=ts(A),we=ts(j),[ye,ue]=v9(c.value,(i=c.defaultValue)!=null?i:"",pe),J=["date","time","month","week","range"].includes(y),de=!_We(ye)||J,ke=de||le,Oe=y==="hidden",Se=e.isMultiline,We=y==="file",Je=pi(k==null?void 0:k.base,R,de?"is-filled":""),$e=se.useCallback(()=>{var ln;ue(""),V==null||V(),(ln=te.current)==null||ln.focus()},[ue,V]);YI(()=>{te.current&&ue(te.current.value)},[te.current]);const{labelProps:ft,inputProps:Me,isInvalid:Te,validationErrors:Le,validationDetails:Ne,descriptionProps:At,errorMessageProps:Ct}=vZe({...e,validationBehavior:ne,autoCapitalize:e.autoCapitalize,value:ye,"aria-label":Bge(e["aria-label"],e.label,e.placeholder),inputElementType:Se?"textarea":"input",onChange:ue},te);We&&(delete Me.value,delete Me.onChange);const{isFocusVisible:Lt,isFocused:sr,focusProps:Bt}=_d({autoFocus:D,isTextInput:!0}),{isHovered:tr,hoverProps:Xt}=Y4({isDisabled:!!(e!=null&&e.isDisabled)}),{focusProps:xn,isFocusVisible:Nr}=_d(),{focusWithinProps:gt}=XI({onFocusWithinChange:G}),{pressProps:kt}=rv({isDisabled:!!(e!=null&&e.isDisabled),onPress:$e}),Zt=Z==="invalid"||e.isInvalid||Te,ur=se.useMemo(()=>{var ln;if(We){if(!e.labelPlacement)return"outside";if(e.labelPlacement==="inside")return bF("Input with file type doesn't support inside label. Converting to outside ..."),"outside"}return(!e.labelPlacement||e.labelPlacement==="inside")&&!x?"outside":(ln=e.labelPlacement)!=null?ln:"inside"},[e.labelPlacement,x]),yr=typeof c.errorMessage=="function"?c.errorMessage({isInvalid:Zt,validationErrors:Le,validationDetails:Ne}):c.errorMessage||(Le==null?void 0:Le.join(" ")),kr=!!V||e.isClearable,Be=!!x||!!M||!!yr,ge=!!c.placeholder,ve=!!x,Qe=!!M||!!yr,bt=ur==="outside"||ur==="outside-left",It=ur==="inside",Tt=te.current?(!te.current.value||te.current.value===""||!ye||ye==="")&&ge:!1,fn=ur==="outside-left",Mr=!!$,Hr=bt?ur==="outside-left"||ge||ur==="outside"&&Mr:!1,li=ur==="outside"&&!ge&&!Mr,Ir=se.useMemo(()=>Bne({...p,isInvalid:Zt,labelPlacement:ur,isClearable:kr,disableAnimation:Y}),[ev(p),Zt,ur,kr,Mr,Y]),Li=se.useCallback((ln={})=>({ref:re,className:Ir.base({class:Je}),"data-slot":"base","data-filled":zr(de||ge||Mr||Tt||We),"data-filled-within":zr(ke||ge||Mr||Tt||We),"data-focus-within":zr(le),"data-focus-visible":zr(Lt),"data-readonly":zr(e.isReadOnly),"data-focus":zr(sr),"data-hover":zr(tr),"data-required":zr(e.isRequired),"data-invalid":zr(Zt),"data-disabled":zr(e.isDisabled),"data-has-elements":zr(Be),"data-has-helper":zr(Qe),"data-has-label":zr(ve),"data-has-value":zr(!Tt),"data-hidden":zr(Oe),...gt,...ln}),[Ir,Je,de,sr,tr,Zt,Qe,ve,Be,Tt,Mr,le,Lt,ke,ge,gt,Oe,e.isReadOnly,e.isRequired,e.isDisabled]),Iu=se.useCallback((ln={})=>({"data-slot":"label",className:Ir.label({class:k==null?void 0:k.label}),...ft,...ln}),[Ir,ft,k==null?void 0:k.label]),Bi=se.useCallback((ln={})=>({ref:te,"data-slot":"input","data-filled":zr(de),"data-filled-within":zr(ke),"data-has-start-content":zr(Mr),"data-has-end-content":zr(!!B),className:Ir.input({class:pi(k==null?void 0:k.input,de?"is-filled":"")}),...An(Bt,Me,_l(be,{enabled:!0,labelable:!0,omitEventNames:new Set(Object.keys(Me))}),ln),"aria-readonly":zr(e.isReadOnly),onChange:Ay(Me.onChange,U)}),[Ir,ye,Bt,Me,be,de,ke,Mr,B,k==null?void 0:k.input,e.isReadOnly,e.isRequired,U]),Mi=se.useCallback((ln={})=>({ref:he,"data-slot":"input-wrapper","data-hover":zr(tr),"data-focus-visible":zr(Lt),"data-focus":zr(sr),className:Ir.inputWrapper({class:pi(k==null?void 0:k.inputWrapper,de?"is-filled":"")}),...An(ln,Xt),onClick:jn=>{te.current&&jn.currentTarget===jn.target&&te.current.focus()},style:{cursor:"text",...ln.style}}),[Ir,tr,Lt,sr,ye,k==null?void 0:k.inputWrapper]),Gl=se.useCallback((ln={})=>({...ln,ref:we,"data-slot":"inner-wrapper",onClick:jn=>{te.current&&jn.currentTarget===jn.target&&te.current.focus()},className:Ir.innerWrapper({class:pi(k==null?void 0:k.innerWrapper,ln==null?void 0:ln.className)})}),[Ir,k==null?void 0:k.innerWrapper]),zi=se.useCallback((ln={})=>({...ln,"data-slot":"main-wrapper",className:Ir.mainWrapper({class:pi(k==null?void 0:k.mainWrapper,ln==null?void 0:ln.className)})}),[Ir,k==null?void 0:k.mainWrapper]),Pi=se.useCallback((ln={})=>({...ln,"data-slot":"helper-wrapper",className:Ir.helperWrapper({class:pi(k==null?void 0:k.helperWrapper,ln==null?void 0:ln.className)})}),[Ir,k==null?void 0:k.helperWrapper]),ql=se.useCallback((ln={})=>({...ln,...At,"data-slot":"description",className:Ir.description({class:pi(k==null?void 0:k.description,ln==null?void 0:ln.className)})}),[Ir,k==null?void 0:k.description]),ui=se.useCallback((ln={})=>({...ln,...Ct,"data-slot":"error-message",className:Ir.errorMessage({class:pi(k==null?void 0:k.errorMessage,ln==null?void 0:ln.className)})}),[Ir,Ct,k==null?void 0:k.errorMessage]),Ji=se.useCallback((ln={})=>({...ln,role:"button",tabIndex:0,"aria-label":"clear input","data-slot":"clear-button","data-focus-visible":zr(Nr),className:Ir.clearButton({class:pi(k==null?void 0:k.clearButton,ln==null?void 0:ln.className)}),...An(kt,xn)}),[Ir,Nr,kt,xn,k==null?void 0:k.clearButton]);return{Component:N,classNames:k,domRef:te,label:x,description:M,startContent:$,endContent:B,labelPlacement:ur,isClearable:kr,hasHelper:Qe,hasStartContent:Mr,isLabelOutside:Hr,isOutsideLeft:fn,isLabelOutsideAsPlaceholder:li,shouldLabelBeOutside:bt,shouldLabelBeInside:It,hasPlaceholder:ge,isInvalid:Zt,errorMessage:yr,getBaseProps:Li,getLabelProps:Iu,getInputProps:Bi,getMainWrapperProps:zi,getInputWrapperProps:Mi,getInnerWrapperProps:Gl,getHelperWrapperProps:Pi,getDescriptionProps:ql,getErrorMessageProps:ui,getClearButtonProps:Ji}}var e_e=La((e,t)=>{const{Component:r,label:n,description:i,isClearable:s,startContent:c,endContent:p,labelPlacement:o,hasHelper:g,isOutsideLeft:y,shouldLabelBeOutside:x,errorMessage:E,isInvalid:A,getBaseProps:M,getLabelProps:R,getInputProps:k,getInnerWrapperProps:D,getInputWrapperProps:$,getMainWrapperProps:B,getHelperWrapperProps:V,getDescriptionProps:U,getErrorMessageProps:Z,getClearButtonProps:ne}=_Ze({...e,ref:t}),j=n?H.jsx("label",{...R(),children:n}):null,fe=se.useMemo(()=>s?H.jsx("span",{...ne(),children:p||H.jsx(KGe,{})}):p,[s,ne]),be=se.useMemo(()=>g?H.jsx("div",{...V(),children:A&&E?H.jsx("div",{...Z(),children:E}):i?H.jsx("div",{...U(),children:i}):null}):null,[g,A,E,i,V,Z,U]),pe=se.useMemo(()=>H.jsxs("div",{...D(),children:[c,H.jsx("input",{...k()}),fe]}),[c,fe,k,D]),le=se.useMemo(()=>x?H.jsxs("div",{...B(),children:[H.jsxs("div",{...$(),children:[y?null:j,pe]}),be]}):H.jsxs(H.Fragment,{children:[H.jsxs("div",{...$(),children:[j,pe]}),be]}),[o,be,x,j,pe,E,i,B,$,Z,U]);return H.jsxs(r,{...M(),children:[y?j:null,le]})});e_e.displayName="NextUI.Input";var x9=e_e;function bZe(e,t){const{triggerRef:r,popoverRef:n,showArrow:i,offset:s=7,crossOffset:c=0,scrollRef:p,shouldFlip:o,boundaryElement:g,isDismissable:y=!0,shouldCloseOnBlur:x=!0,placement:E="top",containerPadding:A,shouldCloseOnInteractOutside:M,isNonModal:R,isKeyboardDismissDisabled:k,updatePositionDeps:D=[],...$}=e,B=R??!0,{overlayProps:V,underlayProps:U}=DHe({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:x,isDismissable:y,isKeyboardDismissDisabled:k,shouldCloseOnInteractOutside:M||(be=>Pve(be,r,t))},n),{overlayProps:Z,arrowProps:ne,placement:j,updatePosition:fe}=YKe({...$,shouldFlip:o,crossOffset:c,targetRef:r,overlayRef:n,isOpen:t.isOpen,scrollRef:p,boundaryElement:g,containerPadding:A,placement:cqe(E),offset:i?s+3:s,onClose:B?t.close:()=>{}});return YI(()=>{D.length&&fe()},D),se.useEffect(()=>{if(t.isOpen&&!B&&n.current)return fqe([n.current])},[B,t.isOpen,n]),{popoverProps:An(V,Z),arrowProps:ne,underlayProps:U,placement:j}}function xZe(e){var t,r,n;const i=Eh(),[s,c]=iv(e,$ne.variantKeys),{as:p,ref:o,children:g,state:y,triggerRef:x,scrollRef:E,defaultOpen:A,onOpenChange:M,isOpen:R,isNonModal:k=!0,shouldFlip:D=!0,containerPadding:$=12,shouldBlockScroll:B=!1,isDismissable:V=!0,shouldCloseOnBlur:U,portalContainer:Z,updatePositionDeps:ne,dialogProps:j,placement:fe="top",triggerType:be="dialog",showArrow:pe=!1,offset:le=7,crossOffset:G=0,boundaryElement:N,isKeyboardDismissDisabled:Y,shouldCloseOnInteractOutside:te,motionProps:re,className:he,classNames:we,onClose:ye,...ue}=s,J=p||"div",de=ts(o),ke=se.useRef(null),Oe=se.useRef(!1),Se=x||ke,We=(r=(t=e.disableAnimation)!=null?t:i==null?void 0:i.disableAnimation)!=null?r:!1,Je=Jve({isOpen:R,defaultOpen:A,onOpenChange:Zt=>{M==null||M(Zt),Zt||ye==null||ye()}}),$e=y||Je,{popoverProps:ft,underlayProps:Me,placement:Te}=bZe({triggerRef:Se,isNonModal:k,popoverRef:de,placement:fe,offset:le,scrollRef:E,isDismissable:V,shouldCloseOnBlur:U,boundaryElement:N,crossOffset:G,shouldFlip:D,containerPadding:$,updatePositionDeps:ne,isKeyboardDismissDisabled:Y,shouldCloseOnInteractOutside:te},$e),{triggerProps:Le}=Aye({type:be},$e,Se),{isFocusVisible:Ne,isFocused:At,focusProps:Ct}=_d(),Lt=se.useMemo(()=>$ne({...c}),[ev(c)]),sr=pi(we==null?void 0:we.base,he),Bt=(Zt={})=>({ref:de,...An(ft,ue,Zt),style:An(ft.style,ue.style,Zt.style)}),tr=(Zt={})=>({"data-slot":"base","data-open":zr($e.isOpen),"data-focus":zr(At),"data-arrow":zr(pe),"data-focus-visible":zr(Ne),"data-placement":Kne(Te,fe),...An(Ct,j,Zt),className:Lt.base({class:pi(sr)}),style:{outline:"none"}}),Xt=se.useCallback((Zt={})=>({"data-slot":"content","data-open":zr($e.isOpen),"data-arrow":zr(pe),"data-placement":Kne(Te,fe),className:Lt.content({class:pi(we==null?void 0:we.content,Zt.className)})}),[Lt,$e.isOpen,pe,Te,fe,we]),xn=se.useMemo(()=>dqe(Te,fe)&&Te||fe,[Te,fe]),Nr=se.useCallback(Zt=>{var ur;let yr;return Zt.pointerType==="touch"&&((e==null?void 0:e.backdrop)==="blur"||(e==null?void 0:e.backdrop)==="opaque")?yr=setTimeout(()=>{Oe.current=!0},100):Oe.current=!0,(ur=Le.onPress)==null||ur.call(Le,Zt),()=>{clearTimeout(yr)}},[Le==null?void 0:Le.onPress]),gt=se.useCallback((Zt={},ur=null)=>{const{isDisabled:yr,...kr}=Zt;return{"data-slot":"trigger","aria-haspopup":"dialog",...An(Le,kr),onPress:Nr,isDisabled:yr,className:Lt.trigger({class:pi(we==null?void 0:we.trigger,Zt.className),isTriggerDisabled:yr}),ref:hKe(ur,Se)}},[$e,Le,Nr,Se]),kt=se.useCallback((Zt={})=>({"data-slot":"backdrop",className:Lt.backdrop({class:we==null?void 0:we.backdrop}),onClick:ur=>{if(!Oe.current){ur.preventDefault();return}$e.close(),Oe.current=!1},...Me,...Zt}),[Lt,$e.isOpen,we,Me]);return se.useEffect(()=>{if($e.isOpen&&(de!=null&&de.current))return FHe([de==null?void 0:de.current])},[$e.isOpen,de]),{state:$e,Component:J,children:g,classNames:we,showArrow:pe,triggerRef:Se,placement:xn,isNonModal:k,popoverRef:de,portalContainer:Z,isOpen:$e.isOpen,onClose:$e.close,disableAnimation:We,shouldBlockScroll:B,backdrop:(n=e.backdrop)!=null?n:"transparent",motionProps:re,getBackdropProps:kt,getPopoverProps:Bt,getTriggerProps:gt,getDialogProps:tr,getContentProps:Xt}}function wZe(e,t){let{role:r="dialog"}=e,n=ax();n=e["aria-label"]?void 0:n;let i=se.useRef(!1);return se.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){Cy(t.current);let s=setTimeout(()=>{document.activeElement===t.current&&(i.current=!0,t.current&&(t.current.blur(),Cy(t.current)),i.current=!1)},500);return()=>{clearTimeout(s)}}},[t]),WHe(),{dialogProps:{...X4(e,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||n,onBlur:s=>{i.current&&s.stopPropagation()}},titleProps:{id:n}}}var[SZe,t_e]=g9({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),yT="right-scroll-bar-position",vT="width-before-scroll-bar",EZe="with-scroll-bars-hidden",AZe="--removed-body-scroll-bar-size";function Y$(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function TZe(e,t){var r=se.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var PZe=typeof window<"u"?se.useLayoutEffect:se.useEffect,rie=new WeakMap;function CZe(e,t){var r=TZe(null,function(n){return e.forEach(function(i){return Y$(i,n)})});return PZe(function(){var n=rie.get(r);if(n){var i=new Set(n),s=new Set(e),c=r.current;i.forEach(function(p){s.has(p)||Y$(p,null)}),s.forEach(function(p){i.has(p)||Y$(p,c)})}rie.set(r,e)},[e]),r}function IZe(e){return e}function MZe(e,t){t===void 0&&(t=IZe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var c=t(s,n);return r.push(c),function(){r=r.filter(function(p){return p!==c})}},assignSyncMedium:function(s){for(n=!0;r.length;){var c=r;r=[],c.forEach(s)}r={push:function(p){return s(p)},filter:function(){return r}}},assignMedium:function(s){n=!0;var c=[];if(r.length){var p=r;r=[],p.forEach(s),c=r}var o=function(){var y=c;c=[],y.forEach(s)},g=function(){return Promise.resolve().then(o)};g(),r={push:function(y){c.push(y),g()},filter:function(y){return c=c.filter(y),r}}}};return i}function kZe(e){e===void 0&&(e={});var t=MZe(null);return t.options=of({async:!0,ssr:!1},e),t}var r_e=function(e){var t=e.sideCar,r=Yge(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return se.createElement(n,of({},r))};r_e.isSideCarExport=!0;function OZe(e,t){return e.useMedium(t),r_e}var n_e=kZe(),J$=function(){},QI=se.forwardRef(function(e,t){var r=se.useRef(null),n=se.useState({onScrollCapture:J$,onWheelCapture:J$,onTouchMoveCapture:J$}),i=n[0],s=n[1],c=e.forwardProps,p=e.children,o=e.className,g=e.removeScrollBar,y=e.enabled,x=e.shards,E=e.sideCar,A=e.noIsolation,M=e.inert,R=e.allowPinchZoom,k=e.as,D=k===void 0?"div":k,$=e.gapMode,B=Yge(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),V=E,U=CZe([r,t]),Z=of(of({},B),i);return se.createElement(se.Fragment,null,y&&se.createElement(V,{sideCar:n_e,removeScrollBar:g,shards:x,noIsolation:A,inert:M,setCallbacks:s,allowPinchZoom:!!R,lockRef:r,gapMode:$}),c?se.cloneElement(se.Children.only(p),of(of({},Z),{ref:U})):se.createElement(D,of({},Z,{className:o,ref:U}),p))});QI.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};QI.classNames={fullWidth:vT,zeroRight:yT};var DZe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RZe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=DZe();return t&&e.setAttribute("nonce",t),e}function $Ze(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function LZe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var BZe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=RZe())&&($Ze(t,r),LZe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},zZe=function(){var e=BZe();return function(t,r){se.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},i_e=function(){var e=zZe(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},NZe={left:0,top:0,right:0,gap:0},Q$=function(e){return parseInt(e||"",10)||0},FZe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Q$(r),Q$(n),Q$(i)]},jZe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return NZe;var t=FZe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},VZe=i_e(),sx="data-scroll-locked",UZe=function(e,t,r,n){var i=e.left,s=e.top,c=e.right,p=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(EZe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(p,"px ").concat(n,`;
  }
  body[`).concat(sx,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(p,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yT,` {
    right: `).concat(p,"px ").concat(n,`;
  }
  
  .`).concat(vT,` {
    margin-right: `).concat(p,"px ").concat(n,`;
  }
  
  .`).concat(yT," .").concat(yT,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(vT," .").concat(vT,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(sx,`] {
    `).concat(AZe,": ").concat(p,`px;
  }
`)},nie=function(){var e=parseInt(document.body.getAttribute(sx)||"0",10);return isFinite(e)?e:0},WZe=function(){se.useEffect(function(){return document.body.setAttribute(sx,(nie()+1).toString()),function(){var e=nie()-1;e<=0?document.body.removeAttribute(sx):document.body.setAttribute(sx,e.toString())}},[])},KZe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;WZe();var s=se.useMemo(function(){return jZe(i)},[i]);return se.createElement(VZe,{styles:UZe(s,!t,i,r?"":"!important")})},ZF=!1;if(typeof window<"u")try{var rA=Object.defineProperty({},"passive",{get:function(){return ZF=!0,!0}});window.addEventListener("test",rA,rA),window.removeEventListener("test",rA,rA)}catch{ZF=!1}var B_=ZF?{passive:!1}:!1,HZe=function(e){return e.tagName==="TEXTAREA"},a_e=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!HZe(e)&&r[t]==="visible")},GZe=function(e){return a_e(e,"overflowY")},qZe=function(e){return a_e(e,"overflowX")},iie=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=o_e(e,n);if(i){var s=s_e(e,n),c=s[1],p=s[2];if(c>p)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},ZZe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},XZe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},o_e=function(e,t){return e==="v"?GZe(t):qZe(t)},s_e=function(e,t){return e==="v"?ZZe(t):XZe(t)},YZe=function(e,t){return e==="h"&&t==="rtl"?-1:1},JZe=function(e,t,r,n,i){var s=YZe(e,window.getComputedStyle(t).direction),c=s*n,p=r.target,o=t.contains(p),g=!1,y=c>0,x=0,E=0;do{var A=s_e(e,p),M=A[0],R=A[1],k=A[2],D=R-k-s*M;(M||D)&&o_e(e,p)&&(x+=D,E+=M),p instanceof ShadowRoot?p=p.host:p=p.parentNode}while(!o&&p!==document.body||o&&(t.contains(p)||t===p));return(y&&(Math.abs(x)<1||!i)||!y&&(Math.abs(E)<1||!i))&&(g=!0),g},nA=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},aie=function(e){return[e.deltaX,e.deltaY]},oie=function(e){return e&&"current"in e?e.current:e},QZe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eXe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tXe=0,z_=[];function rXe(e){var t=se.useRef([]),r=se.useRef([0,0]),n=se.useRef(),i=se.useState(tXe++)[0],s=se.useState(i_e)[0],c=se.useRef(e);se.useEffect(function(){c.current=e},[e]),se.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var R=nKe([e.lockRef.current],(e.shards||[]).map(oie),!0).filter(Boolean);return R.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),R.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var p=se.useCallback(function(R,k){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!c.current.allowPinchZoom;var D=nA(R),$=r.current,B="deltaX"in R?R.deltaX:$[0]-D[0],V="deltaY"in R?R.deltaY:$[1]-D[1],U,Z=R.target,ne=Math.abs(B)>Math.abs(V)?"h":"v";if("touches"in R&&ne==="h"&&Z.type==="range")return!1;var j=iie(ne,Z);if(!j)return!0;if(j?U=ne:(U=ne==="v"?"h":"v",j=iie(ne,Z)),!j)return!1;if(!n.current&&"changedTouches"in R&&(B||V)&&(n.current=U),!U)return!0;var fe=n.current||U;return JZe(fe,k,R,fe==="h"?B:V,!0)},[]),o=se.useCallback(function(R){var k=R;if(!(!z_.length||z_[z_.length-1]!==s)){var D="deltaY"in k?aie(k):nA(k),$=t.current.filter(function(U){return U.name===k.type&&(U.target===k.target||k.target===U.shadowParent)&&QZe(U.delta,D)})[0];if($&&$.should){k.cancelable&&k.preventDefault();return}if(!$){var B=(c.current.shards||[]).map(oie).filter(Boolean).filter(function(U){return U.contains(k.target)}),V=B.length>0?p(k,B[0]):!c.current.noIsolation;V&&k.cancelable&&k.preventDefault()}}},[]),g=se.useCallback(function(R,k,D,$){var B={name:R,delta:k,target:D,should:$,shadowParent:nXe(D)};t.current.push(B),setTimeout(function(){t.current=t.current.filter(function(V){return V!==B})},1)},[]),y=se.useCallback(function(R){r.current=nA(R),n.current=void 0},[]),x=se.useCallback(function(R){g(R.type,aie(R),R.target,p(R,e.lockRef.current))},[]),E=se.useCallback(function(R){g(R.type,nA(R),R.target,p(R,e.lockRef.current))},[]);se.useEffect(function(){return z_.push(s),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:E}),document.addEventListener("wheel",o,B_),document.addEventListener("touchmove",o,B_),document.addEventListener("touchstart",y,B_),function(){z_=z_.filter(function(R){return R!==s}),document.removeEventListener("wheel",o,B_),document.removeEventListener("touchmove",o,B_),document.removeEventListener("touchstart",y,B_)}},[]);var A=e.removeScrollBar,M=e.inert;return se.createElement(se.Fragment,null,M?se.createElement(s,{styles:eXe(i)}):null,A?se.createElement(KZe,{gapMode:e.gapMode}):null)}function nXe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const iXe=OZe(n_e,rXe);var l_e=se.forwardRef(function(e,t){return se.createElement(QI,of({},e,{ref:t,sideCar:iXe}))});l_e.classNames=QI.classNames;var u_e=La((e,t)=>{const{as:r,children:n,className:i,...s}=e,{Component:c,isOpen:p,placement:o,backdrop:g,motionProps:y,disableAnimation:x,shouldBlockScroll:E,getPopoverProps:A,getDialogProps:M,getBackdropProps:R,getContentProps:k,isNonModal:D,onClose:$}=t_e(),B=se.useRef(null),{dialogProps:V,titleProps:U}=wZe({},B),Z=M({ref:B,...V,...s}),ne=r||c||"div",j=H.jsxs(H.Fragment,{children:[!D&&H.jsx(Sne,{onDismiss:$}),H.jsx(ne,{...Z,children:H.jsx("div",{...k({className:i}),children:typeof n=="function"?n(U):n})}),H.jsx(Sne,{onDismiss:$})]}),fe=se.useMemo(()=>g==="transparent"?null:x?H.jsx("div",{...R()}):H.jsx(mF,{features:gF,children:H.jsx(hF.div,{animate:"enter",exit:"exit",initial:"exit",variants:Fne.fade,...R()})}),[g,x,R]),be=H.jsx(l_e,{enabled:E&&p,removeScrollBar:!1,children:x?j:H.jsx(mF,{features:gF,children:H.jsx(hF.div,{animate:"enter",exit:"exit",initial:"initial",style:{...uqe(o==="center"?"top":o)},variants:Fne.scaleSpringOpacity,...y,children:j})})});return H.jsxs("div",{...A(),children:[fe,be]})});u_e.displayName="NextUI.PopoverContent";var aXe=u_e,c_e=La((e,t)=>{const{triggerRef:r,getTriggerProps:n}=t_e(),{children:i,...s}=e,c=se.useMemo(()=>typeof i=="string"?H.jsx("p",{children:i}):se.Children.only(i),[i]),{onPress:p,isDisabled:o,...g}=se.useMemo(()=>n(An(s,c.props),c.ref),[n,c.props,s,c.ref]),[,y]=NWe(i,yl),{buttonProps:x}=Cve({onPress:p,isDisabled:o},r),E=se.useMemo(()=>(y==null?void 0:y[0])!==void 0,[y]);return se.cloneElement(c,An(g,E?{onPress:p,isDisabled:o}:x))});c_e.displayName="NextUI.PopoverTrigger";var oXe=c_e,d_e=La((e,t)=>{const{children:r,...n}=e,i=xZe({...n,ref:t}),[s,c]=se.Children.toArray(r),p=H.jsx(UHe,{portalContainer:i.portalContainer,children:c});return H.jsxs(SZe,{value:i,children:[s,i.disableAnimation&&i.isOpen?p:H.jsx(Pge,{children:i.isOpen?p:null})]})});d_e.displayName="NextUI.Popover";var sXe=d_e,[lXe,f_e]=g9({name:"DropdownContext",errorMessage:"useDropdownContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Dropdown />`"});function uXe(e){const{isSelected:t,disableAnimation:r,...n}=e;return H.jsx("svg",{"aria-hidden":"true","data-selected":t,role:"presentation",viewBox:"0 0 17 18",...n,children:H.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:r?{}:{transition:"stroke-dashoffset 200ms ease"}})})}var p_e=new WeakMap;function cXe(e,t,r){let{shouldFocusWrap:n=!0,onKeyDown:i,onKeyUp:s,...c}=e;!e["aria-label"]&&!e["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let p=X4(e,{labelable:!0}),{listProps:o}=WGe({...c,ref:r,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,shouldFocusWrap:n,linkBehavior:"override"});return p_e.set(t,{onClose:e.onClose,onAction:e.onAction}),{menuProps:An(p,{onKeyDown:i,onKeyUp:s},{role:"menu",...o,onKeyDown:g=>{g.key!=="Escape"&&o.onKeyDown&&o.onKeyDown(g)}})}}function dXe(e,t,r){var n,i;let{key:s,closeOnSelect:c,isVirtualized:p,"aria-haspopup":o,onPressStart:g,onPressUp:y,onPress:x,onPressChange:E,onPressEnd:A,onHoverStart:M,onHoverChange:R,onHoverEnd:k,onKeyDown:D,onKeyUp:$,onFocus:B,onFocusChange:V,onBlur:U,onClick:Z}=e,ne=!!o,j=(n=e.isDisabled)!=null?n:t.selectionManager.isDisabled(s),fe=(i=e.isSelected)!=null?i:t.selectionManager.isSelected(s),be=p_e.get(t),pe=t.collection.getItem(s),le=e.onClose||be.onClose,G=qI(),N=Te=>{var Le;ne||((Le=pe==null?void 0:pe.props)!=null&&Le.onAction&&pe.props.onAction(),e.onAction?e.onAction(s):be.onAction&&be.onAction(s),Te.target instanceof HTMLAnchorElement&&G.open(Te.target,Te,pe.props.href,pe.props.routerOptions))},Y="menuitem";ne||(t.selectionManager.selectionMode==="single"?Y="menuitemradio":t.selectionManager.selectionMode==="multiple"&&(Y="menuitemcheckbox"));let te=ax(),re=ax(),he=ax(),we={"aria-disabled":j||void 0,role:Y,"aria-label":e["aria-label"],"aria-labelledby":te,"aria-describedby":[re,he].filter(Boolean).join(" ")||void 0,"aria-controls":e["aria-controls"],"aria-haspopup":o,"aria-expanded":e["aria-expanded"]};t.selectionManager.selectionMode!=="none"&&!ne&&(we["aria-checked"]=fe),p&&(we["aria-posinset"]=pe==null?void 0:pe.index,we["aria-setsize"]=nqe(t.collection));let ye=Te=>{Te.pointerType==="keyboard"&&N(Te),g==null||g(Te)},ue=Te=>{Te.pointerType!=="keyboard"&&(setTimeout(()=>{N(Te)}),!ne&&le&&(c??(t.selectionManager.selectionMode!=="multiple"||t.selectionManager.isLink(s)))&&setTimeout(()=>{le==null||le()})),y==null||y(Te)},{itemProps:J,isFocused:de}=VGe({selectionManager:t.selectionManager,key:s,ref:r,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none"}),{pressProps:ke,isPressed:Oe}=rv({onPressStart:ye,onPress:x,onPressUp:ue,onPressChange:E,onPressEnd:A,isDisabled:j}),{isHovered:Se,hoverProps:We}=Y4({isDisabled:j,onHoverStart(Te){PK()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(s)),M==null||M(Te)},onHoverChange:R,onHoverEnd:k}),{keyboardProps:Je}=_ye({onKeyDown:Te=>{if(Te.repeat){Te.continuePropagation();return}switch(Te.key){case" ":!j&&t.selectionManager.selectionMode==="none"&&!ne&&c!==!1&&le&&le();break;case"Enter":!j&&c!==!1&&!ne&&le&&le();break;default:ne||Te.continuePropagation(),D==null||D(Te);break}},onKeyUp:$}),{focusProps:$e}=TK({onBlur:U,onFocus:B,onFocusChange:V}),ft=X4(pe.props);delete ft.id;let Me=MKe(pe.props);return{menuItemProps:{...we,...An(ft,Me,ne?{onFocus:J.onFocus}:J,ke,We,Je,$e,{onClick:Ay(Z,ke.onClick)}),tabIndex:J.tabIndex!=null?-1:void 0},labelProps:{id:te},descriptionProps:{id:re},keyboardShortcutProps:{id:he},isHovered:Se,isFocused:de,isSelected:fe,isPressed:Oe,isDisabled:j}}var fXe=700;function pXe(){return HI()||typeof window>"u"?!1:window.screen.width<=fXe}function hXe(e){var t,r;const n=Eh(),[i,s]=iv(e,Rne.variantKeys),{as:c,item:p,state:o,shortcut:g,description:y,startContent:x,endContent:E,isVirtualized:A,selectedIcon:M,className:R,classNames:k,onAction:D,autoFocus:$,onClick:B,onPress:V,onPressStart:U,onPressUp:Z,onPressEnd:ne,onPressChange:j,hideSelectedIcon:fe=!1,isReadOnly:be=!1,closeOnSelect:pe,onClose:le,...G}=i,N=(r=(t=e.disableAnimation)!=null?t:n==null?void 0:n.disableAnimation)!=null?r:!1,Y=se.useRef(null),te=c||(G!=null&&G.href?"a":"li"),re=typeof te=="string",{rendered:he,key:we}=p,ye=o.disabledKeys.has(we)||e.isDisabled,ue=o.selectionManager.selectionMode!=="none",J=pXe(),{isFocusVisible:de,focusProps:ke}=_d({autoFocus:$}),{isHovered:Oe,isPressed:Se,isFocused:We,isSelected:Je,menuItemProps:$e,labelProps:ft,descriptionProps:Me,keyboardShortcutProps:Te}=dXe({key:we,onClose:le,isDisabled:ye,onPress:V,onClick:B,onPressStart:U,onPressUp:Z,onPressEnd:ne,onPressChange:j,"aria-label":i["aria-label"],closeOnSelect:pe,isVirtualized:A,onAction:D},o,Y);let Le=$e;const Ne=se.useMemo(()=>Rne({...s,isDisabled:ye,disableAnimation:N}),[ev(s),ye,N]),At=pi(k==null?void 0:k.base,R);be&&(Le=PWe(Le));const Ct=(Xt={})=>({ref:Y,...An(be?{}:ke,_l(G,{enabled:re}),Le,Xt),"data-focus":zr(We),"data-selectable":zr(ue),"data-hover":zr(J?Oe||Se:Oe),"data-disabled":zr(ye),"data-selected":zr(Je),"data-pressed":zr(Se),"data-focus-visible":zr(de),className:Ne.base({class:pi(At,Xt.className)})}),Lt=(Xt={})=>({...An(ft,Xt),className:Ne.title({class:k==null?void 0:k.title})}),sr=(Xt={})=>({...An(Me,Xt),className:Ne.description({class:k==null?void 0:k.description})}),Bt=(Xt={})=>({...An(Te,Xt),className:Ne.shortcut({class:k==null?void 0:k.shortcut})}),tr=se.useCallback((Xt={})=>({"aria-hidden":zr(!0),"data-disabled":zr(ye),className:Ne.selectedIcon({class:k==null?void 0:k.selectedIcon}),...Xt}),[ye,Ne,k]);return{Component:te,domRef:Y,slots:Ne,classNames:k,isSelectable:ue,isSelected:Je,isDisabled:ye,rendered:he,shortcut:g,description:y,startContent:x,endContent:E,selectedIcon:M,disableAnimation:N,getItemProps:Ct,getLabelProps:Lt,hideSelectedIcon:fe,getDescriptionProps:sr,getKeyboardShortcutProps:Bt,getSelectedIconProps:tr}}var h_e=La((e,t)=>{const{Component:r,slots:n,classNames:i,rendered:s,shortcut:c,description:p,isSelectable:o,isSelected:g,isDisabled:y,selectedIcon:x,startContent:E,endContent:A,disableAnimation:M,hideSelectedIcon:R,getItemProps:k,getLabelProps:D,getDescriptionProps:$,getKeyboardShortcutProps:B,getSelectedIconProps:V}=hXe(e),U=se.useMemo(()=>{const Z=H.jsx(uXe,{disableAnimation:M,isSelected:g});return typeof x=="function"?x({icon:Z,isSelected:g,isDisabled:y}):x||Z},[x,g,y,M]);return H.jsxs(r,{...k(),children:[E,p?H.jsxs("div",{className:n.wrapper({class:i==null?void 0:i.wrapper}),children:[H.jsx("span",{...D(),children:s}),H.jsx("span",{...$(),children:p})]}):H.jsx("span",{...D(),children:s}),c&&H.jsx("kbd",{...B(),children:c}),o&&!R&&H.jsx("span",{...V(),children:U}),A]})});h_e.displayName="NextUI.MenuItem";var m_e=h_e,g_e={};g_e={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var y_e={};y_e={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var v_e={};v_e={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var __e={};__e={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var b_e={};b_e={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var x_e={};x_e={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var w_e={};w_e={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var S_e={};S_e={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var E_e={};E_e={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var A_e={};A_e={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var T_e={};T_e={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var P_e={};P_e={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var C_e={};C_e={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var I_e={};I_e={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var M_e={};M_e={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var k_e={};k_e={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var O_e={};O_e={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var D_e={};D_e={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var R_e={};R_e={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var $_e={};$_e={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var L_e={};L_e={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var B_e={};B_e={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var z_e={};z_e={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var N_e={};N_e={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var F_e={};F_e={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var j_e={};j_e={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var V_e={};V_e={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var U_e={};U_e={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var W_e={};W_e={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var K_e={};K_e={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var H_e={};H_e={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var G_e={};G_e={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var q_e={};q_e={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var Z_e={};Z_e={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var X_e={};X_e={"ar-AE":g_e,"bg-BG":y_e,"cs-CZ":v_e,"da-DK":__e,"de-DE":b_e,"el-GR":x_e,"en-US":w_e,"es-ES":S_e,"et-EE":E_e,"fi-FI":A_e,"fr-FR":T_e,"he-IL":P_e,"hr-HR":C_e,"hu-HU":I_e,"it-IT":M_e,"ja-JP":k_e,"ko-KR":O_e,"lt-LT":D_e,"lv-LV":R_e,"nb-NO":$_e,"nl-NL":L_e,"pl-PL":B_e,"pt-BR":z_e,"pt-PT":N_e,"ro-RO":F_e,"ru-RU":j_e,"sk-SK":V_e,"sl-SI":U_e,"sr-SP":W_e,"sv-SE":K_e,"tr-TR":H_e,"uk-UA":G_e,"zh-CN":q_e,"zh-TW":Z_e};function mXe(e){return e&&e.__esModule?e.default:e}function gXe(e,t,r){let{type:n="menu",isDisabled:i,trigger:s="press"}=e,c=L1(),{triggerProps:p,overlayProps:o}=Aye({type:n},t,r),g=A=>{if(!i&&!(s==="longPress"&&!A.altKey)&&r&&r.current)switch(A.key){case"Enter":case" ":if(s==="longPress")return;case"ArrowDown":"continuePropagation"in A||A.stopPropagation(),A.preventDefault(),t.toggle("first");break;case"ArrowUp":"continuePropagation"in A||A.stopPropagation(),A.preventDefault(),t.toggle("last");break;default:"continuePropagation"in A&&A.continuePropagation()}},y=y9(mXe(X_e),"@react-aria/menu"),{longPressProps:x}=bye({isDisabled:i||s!=="longPress",accessibilityDescription:y.format("longPressMessage"),onLongPressStart(){t.close()},onLongPress(){t.open("first")}}),E={onPressStart(A){A.pointerType!=="touch"&&A.pointerType!=="keyboard"&&!i&&t.open(A.pointerType==="virtual"?"first":null)},onPress(A){A.pointerType==="touch"&&!i&&t.toggle()}};return delete p.onPress,{menuTriggerProps:{...p,...s==="press"?E:x,id:c,onKeyDown:g},menuProps:{...o,"aria-labelledby":c,autoFocus:t.focusStrategy||!0,onClose:t.close}}}function yXe(e){let{heading:t,"aria-label":r}=e,n=L1();return{itemProps:{role:"presentation"},headingProps:t?{id:n,role:"presentation"}:{},groupProps:{role:"group","aria-label":r,"aria-labelledby":t?n:void 0}}}var Y_e=La(({item:e,state:t,as:r,variant:n,color:i,disableAnimation:s,onAction:c,closeOnSelect:p,className:o,classNames:g,showDivider:y=!1,hideSelectedIcon:x,dividerProps:E={},itemClasses:A,title:M,...R},k)=>{const D=r||"li",$=se.useMemo(()=>DGe(),[]),B=pi(g==null?void 0:g.base,o),V=pi(g==null?void 0:g.divider,E==null?void 0:E.className),{itemProps:U,headingProps:Z,groupProps:ne}=yXe({heading:e.rendered,"aria-label":e["aria-label"]});return H.jsxs(D,{"data-slot":"base",...An(U,R),className:$.base({class:B}),children:[e.rendered&&H.jsx("span",{...Z,className:$.heading({class:g==null?void 0:g.heading}),"data-slot":"heading",children:e.rendered}),H.jsxs("ul",{...ne,className:$.group({class:g==null?void 0:g.group}),"data-has-title":!!e.rendered,"data-slot":"group",children:[[...e.childNodes].map(j=>{const{key:fe,props:be}=j;let pe=H.jsx(m_e,{classNames:A,closeOnSelect:p,color:i,disableAnimation:s,hideSelectedIcon:x,item:j,state:t,variant:n,onAction:c,...be},fe);return j.wrapper&&(pe=j.wrapper(pe)),pe}),y&&H.jsx(lqe,{as:"li",className:$.divider({class:V}),...E})]})]})});Y_e.displayName="NextUI.MenuSection";var vXe=Y_e;function _Xe(e){var t;const r=Eh(),{as:n,ref:i,variant:s,color:c,children:p,disableAnimation:o=(t=r==null?void 0:r.disableAnimation)!=null?t:!1,onAction:g,closeOnSelect:y,itemClasses:x,className:E,state:A,topContent:M,bottomContent:R,hideEmptyContent:k=!1,hideSelectedIcon:D=!1,emptyContent:$="No items.",menuProps:B,onClose:V,classNames:U,...Z}=e,ne=n||"ul",j=ts(i),fe=typeof ne=="string",be=iqe({...Z,...B,children:p}),pe=A||be,{menuProps:le}=cXe({...Z,...B},pe,j),G=se.useMemo(()=>OGe({className:E}),[E]),N=pi(U==null?void 0:U.base,E);return{Component:ne,state:pe,variant:s,color:c,disableAnimation:o,onAction:g,onClose:V,topContent:M,bottomContent:R,closeOnSelect:y,className:E,itemClasses:x,getBaseProps:(he={})=>({ref:j,"data-slot":"base",className:G.base({class:N}),..._l(Z,{enabled:fe}),...he}),getListProps:(he={})=>({"data-slot":"list",className:G.list({class:U==null?void 0:U.list}),...le,...he}),hideEmptyContent:k,hideSelectedIcon:D,getEmptyContentProps:(he={})=>({children:$,className:G.emptyContent({class:U==null?void 0:U.emptyContent}),...he})}}function J_e(e,t){const{Component:r,state:n,closeOnSelect:i,color:s,disableAnimation:c,hideSelectedIcon:p,hideEmptyContent:o,variant:g,onClose:y,onAction:x,topContent:E,bottomContent:A,itemClasses:M,getBaseProps:R,getListProps:k,getEmptyContentProps:D}=_Xe({...e,ref:t}),$=H.jsxs(r,{...k(),children:[!n.collection.size&&!o&&H.jsx("li",{children:H.jsx("div",{...D()})}),[...n.collection].map(B=>{const V={closeOnSelect:i,color:s,disableAnimation:c,item:B,state:n,variant:g,onClose:y,onAction:x,hideSelectedIcon:p,...B.props};if(B.type==="section")return H.jsx(vXe,{...V,itemClasses:M},B.key);let U=H.jsx(m_e,{...V,classNames:M},B.key);return B.wrapper&&(U=B.wrapper(U)),U})]});return H.jsxs("div",{...R(),children:[E,$,A]})}var bXe=La(J_e);J_e.displayName="NextUI.Menu";var xXe=eqe,ta=xXe;function Q_e(e,t){const{getMenuProps:r}=f_e();return H.jsx(aXe,{children:H.jsx(wye,{contain:!0,restoreFocus:!0,children:H.jsx(bXe,{...r(e,t)})})})}var Vl=La(Q_e);Q_e.displayName="NextUI.DropdownMenu";var ebe=La((e,t)=>{const{getMenuTriggerProps:r}=f_e(),{children:n,...i}=e;return H.jsx(oXe,{...r(i),children:n})});ebe.displayName="NextUI.DropdownTrigger";var Ul=ebe;function wXe(e){let t=Jve(e),[r,n]=se.useState(null),[i,s]=se.useState([]),c=()=>{s([]),t.close()};return{focusStrategy:r,...t,open(g=null){n(g),t.open()},toggle(g=null){n(g),t.toggle()},close(){c()},expandedKeysStack:i,openSubmenu:(g,y)=>{s(x=>y>x.length?x:[...x.slice(0,y),g])},closeSubmenu:(g,y)=>{s(x=>x[y]===g?x.slice(0,y):x)}}}function SXe(e){var t;const r=Eh(),{as:n,triggerRef:i,isOpen:s,defaultOpen:c,onOpenChange:p,isDisabled:o,type:g="menu",trigger:y="press",placement:x="bottom",closeOnSelect:E=!0,shouldBlockScroll:A=!0,classNames:M,disableAnimation:R=(t=r==null?void 0:r.disableAnimation)!=null?t:!1,onClose:k,className:D,...$}=e,B=n||"div",V=se.useRef(null),U=i||V,Z=se.useRef(null),ne=se.useRef(null),j=wXe({trigger:y,isOpen:s,defaultOpen:c,onOpenChange:te=>{p==null||p(te),te||k==null||k()}}),{menuTriggerProps:fe,menuProps:be}=gXe({type:g,trigger:y,isDisabled:o},j,U),pe=se.useMemo(()=>$Ge({className:D}),[D]),le=te=>{te!==void 0&&!te||E&&j.close()},G=(te={})=>{const re=An($,te);return{state:j,placement:x,ref:ne,disableAnimation:R,shouldBlockScroll:A,scrollRef:Z,triggerRef:U,...re,classNames:{...M,...te.classNames,content:pi(pe,M==null?void 0:M.content,te.className)},shouldCloseOnInteractOutside:re!=null&&re.shouldCloseOnInteractOutside?re.shouldCloseOnInteractOutside:he=>Pve(he,V,j)}},N=(te={},re=null)=>{const{onPress:he,onPressStart:we,...ye}=fe;return{...An(ye,{isDisabled:o},te),ref:xF(re,V)}},Y=(te,re=null)=>({ref:xF(re,Z),menuProps:be,closeOnSelect:E,...An(te,{onAction:()=>le(te==null?void 0:te.closeOnSelect),onClose:j.close})});return{Component:B,menuRef:Z,menuProps:be,classNames:pe,closeOnSelect:E,onClose:j.close,autoFocus:j.focusStrategy||!0,disableAnimation:R,getPopoverProps:G,getMenuProps:Y,getMenuTriggerProps:N}}var tbe=e=>{const{children:t,...r}=e,n=SXe(r),[i,s]=Ke.Children.toArray(t);return H.jsx(lXe,{value:n,children:H.jsxs(sXe,{...n.getPopoverProps(),children:[i,s]})})};tbe.displayName="NextUI.Dropdown";var Wl=tbe;const LK=new WeakMap;function XF(e){return typeof e=="string"?e.replace(/\s*/g,""):""+e}function EXe(e,t){let r=LK.get(e);if(!r)throw new Error("Unknown grid");return`${r}-${XF(t)}`}function rbe(e,t,r){let n=LK.get(e);if(!n)throw new Error("Unknown grid");return`${n}-${XF(t)}-${XF(r)}`}function nbe(e,t){return[...e.collection.rowHeaderColumnKeys].map(r=>rbe(e,t,r)).join(" ")}var ibe={};ibe={ascending:"تصاعدي",ascendingSort:e=>`ترتيب حسب العمود ${e.columnName} بترتيب تصاعدي`,columnSize:e=>`${e.value} بالبكسل`,descending:"تنازلي",descendingSort:e=>`ترتيب حسب العمود ${e.columnName} بترتيب تنازلي`,resizerDescription:"اضغط على مفتاح Enter لبدء تغيير الحجم",select:"تحديد",selectAll:"تحديد الكل",sortable:"عمود قابل للترتيب"};var abe={};abe={ascending:"възходящ",ascendingSort:e=>`сортирано по колона ${e.columnName} във възходящ ред`,columnSize:e=>`${e.value} пиксела`,descending:"низходящ",descendingSort:e=>`сортирано по колона ${e.columnName} в низходящ ред`,resizerDescription:"Натиснете „Enter“, за да започнете да преоразмерявате",select:"Изберете",selectAll:"Изберете всичко",sortable:"сортираща колона"};var obe={};obe={ascending:"vzestupně",ascendingSort:e=>`řazeno vzestupně podle sloupce ${e.columnName}`,columnSize:e=>`${e.value} pixelů`,descending:"sestupně",descendingSort:e=>`řazeno sestupně podle sloupce ${e.columnName}`,resizerDescription:"Stisknutím klávesy Enter začnete měnit velikost",select:"Vybrat",selectAll:"Vybrat vše",sortable:"sloupec s možností řazení"};var sbe={};sbe={ascending:"stigende",ascendingSort:e=>`sorteret efter kolonne ${e.columnName} i stigende rækkefølge`,columnSize:e=>`${e.value} pixels`,descending:"faldende",descendingSort:e=>`sorteret efter kolonne ${e.columnName} i faldende rækkefølge`,resizerDescription:"Tryk på Enter for at ændre størrelse",select:"Vælg",selectAll:"Vælg alle",sortable:"sorterbar kolonne"};var lbe={};lbe={ascending:"aufsteigend",ascendingSort:e=>`sortiert nach Spalte ${e.columnName} in aufsteigender Reihenfolge`,columnSize:e=>`${e.value} Pixel`,descending:"absteigend",descendingSort:e=>`sortiert nach Spalte ${e.columnName} in absteigender Reihenfolge`,resizerDescription:"Eingabetaste zum Starten der Größenänderung drücken",select:"Auswählen",selectAll:"Alles auswählen",sortable:"sortierbare Spalte"};var ube={};ube={ascending:"αύξουσα",ascendingSort:e=>`διαλογή ανά στήλη ${e.columnName} σε αύξουσα σειρά`,columnSize:e=>`${e.value} pixel`,descending:"φθίνουσα",descendingSort:e=>`διαλογή ανά στήλη ${e.columnName} σε φθίνουσα σειρά`,resizerDescription:"Πατήστε Enter για έναρξη της αλλαγής μεγέθους",select:"Επιλογή",selectAll:"Επιλογή όλων",sortable:"Στήλη διαλογής"};var cbe={};cbe={select:"Select",selectAll:"Select All",sortable:"sortable column",ascending:"ascending",descending:"descending",ascendingSort:e=>`sorted by column ${e.columnName} in ascending order`,descendingSort:e=>`sorted by column ${e.columnName} in descending order`,columnSize:e=>`${e.value} pixels`,resizerDescription:"Press Enter to start resizing"};var dbe={};dbe={ascending:"de subida",ascendingSort:e=>`ordenado por columna ${e.columnName} en orden de subida`,columnSize:e=>`${e.value} píxeles`,descending:"de bajada",descendingSort:e=>`ordenado por columna ${e.columnName} en orden de bajada`,resizerDescription:"Pulse Intro para empezar a redimensionar",select:"Seleccionar",selectAll:"Seleccionar todos",sortable:"columna ordenable"};var fbe={};fbe={ascending:"tõusev järjestus",ascendingSort:e=>`sorditud veeru järgi ${e.columnName} tõusvas järjestuses`,columnSize:e=>`${e.value} pikslit`,descending:"laskuv järjestus",descendingSort:e=>`sorditud veeru järgi ${e.columnName} laskuvas järjestuses`,resizerDescription:"Suuruse muutmise alustamiseks vajutage klahvi Enter",select:"Vali",selectAll:"Vali kõik",sortable:"sorditav veerg"};var pbe={};pbe={ascending:"nouseva",ascendingSort:e=>`lajiteltu sarakkeen ${e.columnName} mukaan nousevassa järjestyksessä`,columnSize:e=>`${e.value} pikseliä`,descending:"laskeva",descendingSort:e=>`lajiteltu sarakkeen ${e.columnName} mukaan laskevassa järjestyksessä`,resizerDescription:"Aloita koon muutos painamalla Enter-näppäintä",select:"Valitse",selectAll:"Valitse kaikki",sortable:"lajiteltava sarake"};var hbe={};hbe={ascending:"croissant",ascendingSort:e=>`trié en fonction de la colonne ${e.columnName} par ordre croissant`,columnSize:e=>`${e.value} pixels`,descending:"décroissant",descendingSort:e=>`trié en fonction de la colonne ${e.columnName} par ordre décroissant`,resizerDescription:"Appuyez sur Entrée pour commencer le redimensionnement.",select:"Sélectionner",selectAll:"Sélectionner tout",sortable:"colonne triable"};var mbe={};mbe={ascending:"עולה",ascendingSort:e=>`מוין לפי עמודה ${e.columnName} בסדר עולה`,columnSize:e=>`${e.value} פיקסלים`,descending:"יורד",descendingSort:e=>`מוין לפי עמודה ${e.columnName} בסדר יורד`,resizerDescription:"הקש Enter כדי לשנות את הגודל",select:"בחר",selectAll:"בחר הכול",sortable:"עמודה שניתן למיין"};var gbe={};gbe={ascending:"rastući",ascendingSort:e=>`razvrstano po stupcima ${e.columnName} rastućem redoslijedom`,columnSize:e=>`${e.value} piksela`,descending:"padajući",descendingSort:e=>`razvrstano po stupcima ${e.columnName} padajućim redoslijedom`,resizerDescription:"Pritisnite Enter da biste započeli promenu veličine",select:"Odaberite",selectAll:"Odaberite sve",sortable:"stupac koji se može razvrstati"};var ybe={};ybe={ascending:"növekvő",ascendingSort:e=>`rendezve a(z) ${e.columnName} oszlop szerint, növekvő sorrendben`,columnSize:e=>`${e.value} képpont`,descending:"csökkenő",descendingSort:e=>`rendezve a(z) ${e.columnName} oszlop szerint, csökkenő sorrendben`,resizerDescription:"Nyomja le az Enter billentyűt az átméretezés megkezdéséhez",select:"Kijelölés",selectAll:"Összes kijelölése",sortable:"rendezendő oszlop"};var vbe={};vbe={ascending:"crescente",ascendingSort:e=>`in ordine crescente in base alla colonna ${e.columnName}`,columnSize:e=>`${e.value} pixel`,descending:"decrescente",descendingSort:e=>`in ordine decrescente in base alla colonna ${e.columnName}`,resizerDescription:"Premi Invio per iniziare a ridimensionare",select:"Seleziona",selectAll:"Seleziona tutto",sortable:"colonna ordinabile"};var _be={};_be={ascending:"昇順",ascendingSort:e=>`列 ${e.columnName} を昇順で並べ替え`,columnSize:e=>`${e.value} ピクセル`,descending:"降順",descendingSort:e=>`列 ${e.columnName} を降順で並べ替え`,resizerDescription:"Enter キーを押してサイズ変更を開始",select:"選択",selectAll:"すべて選択",sortable:"並べ替え可能な列"};var bbe={};bbe={ascending:"오름차순",ascendingSort:e=>`${e.columnName} 열을 기준으로 오름차순으로 정렬됨`,columnSize:e=>`${e.value} 픽셀`,descending:"내림차순",descendingSort:e=>`${e.columnName} 열을 기준으로 내림차순으로 정렬됨`,resizerDescription:"크기 조정을 시작하려면 Enter를 누르세요.",select:"선택",selectAll:"모두 선택",sortable:"정렬 가능한 열"};var xbe={};xbe={ascending:"didėjančia tvarka",ascendingSort:e=>`surikiuota pagal stulpelį ${e.columnName} didėjančia tvarka`,columnSize:e=>`${e.value} piks.`,descending:"mažėjančia tvarka",descendingSort:e=>`surikiuota pagal stulpelį ${e.columnName} mažėjančia tvarka`,resizerDescription:"Paspauskite „Enter“, kad pradėtumėte keisti dydį",select:"Pasirinkti",selectAll:"Pasirinkti viską",sortable:"rikiuojamas stulpelis"};var wbe={};wbe={ascending:"augošā secībā",ascendingSort:e=>`kārtots pēc kolonnas ${e.columnName} augošā secībā`,columnSize:e=>`${e.value} pikseļi`,descending:"dilstošā secībā",descendingSort:e=>`kārtots pēc kolonnas ${e.columnName} dilstošā secībā`,resizerDescription:"Nospiediet Enter, lai sāktu izmēru mainīšanu",select:"Atlasīt",selectAll:"Atlasīt visu",sortable:"kārtojamā kolonna"};var Sbe={};Sbe={ascending:"stigende",ascendingSort:e=>`sortert etter kolonne ${e.columnName} i stigende rekkefølge`,columnSize:e=>`${e.value} piksler`,descending:"synkende",descendingSort:e=>`sortert etter kolonne ${e.columnName} i synkende rekkefølge`,resizerDescription:"Trykk på Enter for å starte størrelsesendring",select:"Velg",selectAll:"Velg alle",sortable:"kolonne som kan sorteres"};var Ebe={};Ebe={ascending:"oplopend",ascendingSort:e=>`gesorteerd in oplopende volgorde in kolom ${e.columnName}`,columnSize:e=>`${e.value} pixels`,descending:"aflopend",descendingSort:e=>`gesorteerd in aflopende volgorde in kolom ${e.columnName}`,resizerDescription:"Druk op Enter om het formaat te wijzigen",select:"Selecteren",selectAll:"Alles selecteren",sortable:"sorteerbare kolom"};var Abe={};Abe={ascending:"rosnąco",ascendingSort:e=>`posortowano według kolumny ${e.columnName} w porządku rosnącym`,columnSize:e=>`Liczba pikseli: ${e.value}`,descending:"malejąco",descendingSort:e=>`posortowano według kolumny ${e.columnName} w porządku malejącym`,resizerDescription:"Naciśnij Enter, aby rozpocząć zmienianie rozmiaru",select:"Zaznacz",selectAll:"Zaznacz wszystko",sortable:"kolumna z możliwością sortowania"};var Tbe={};Tbe={ascending:"crescente",ascendingSort:e=>`classificado pela coluna ${e.columnName} em ordem crescente`,columnSize:e=>`${e.value} pixels`,descending:"decrescente",descendingSort:e=>`classificado pela coluna ${e.columnName} em ordem decrescente`,resizerDescription:"Pressione Enter para começar a redimensionar",select:"Selecionar",selectAll:"Selecionar tudo",sortable:"coluna classificável"};var Pbe={};Pbe={ascending:"ascendente",ascendingSort:e=>`Ordenar por coluna ${e.columnName} em ordem ascendente`,columnSize:e=>`${e.value} pixels`,descending:"descendente",descendingSort:e=>`Ordenar por coluna ${e.columnName} em ordem descendente`,resizerDescription:"Prima Enter para iniciar o redimensionamento",select:"Selecionar",selectAll:"Selecionar tudo",sortable:"Coluna ordenável"};var Cbe={};Cbe={ascending:"crescătoare",ascendingSort:e=>`sortate după coloana ${e.columnName} în ordine crescătoare`,columnSize:e=>`${e.value} pixeli`,descending:"descrescătoare",descendingSort:e=>`sortate după coloana ${e.columnName} în ordine descrescătoare`,resizerDescription:"Apăsați pe Enter pentru a începe redimensionarea",select:"Selectare",selectAll:"Selectare totală",sortable:"coloană sortabilă"};var Ibe={};Ibe={ascending:"возрастание",ascendingSort:e=>`сортировать столбец ${e.columnName} в порядке возрастания`,columnSize:e=>`${e.value} пикс.`,descending:"убывание",descendingSort:e=>`сортировать столбец ${e.columnName} в порядке убывания`,resizerDescription:"Нажмите клавишу Enter для начала изменения размеров",select:"Выбрать",selectAll:"Выбрать все",sortable:"сортируемый столбец"};var Mbe={};Mbe={ascending:"vzostupne",ascendingSort:e=>`zoradené zostupne podľa stĺpca ${e.columnName}`,columnSize:e=>`Počet pixelov: ${e.value}`,descending:"zostupne",descendingSort:e=>`zoradené zostupne podľa stĺpca ${e.columnName}`,resizerDescription:"Stlačením klávesu Enter začnete zmenu veľkosti",select:"Vybrať",selectAll:"Vybrať všetko",sortable:"zoraditeľný stĺpec"};var kbe={};kbe={ascending:"naraščajoče",ascendingSort:e=>`razvrščeno po stolpcu ${e.columnName} v naraščajočem vrstnem redu`,columnSize:e=>`${e.value} slikovnih pik`,descending:"padajoče",descendingSort:e=>`razvrščeno po stolpcu ${e.columnName} v padajočem vrstnem redu`,resizerDescription:"Pritisnite tipko Enter da začnete spreminjati velikost",select:"Izberite",selectAll:"Izberite vse",sortable:"razvrstljivi stolpec"};var Obe={};Obe={ascending:"rastući",ascendingSort:e=>`sortirano po kolonama ${e.columnName} rastućim redosledom`,columnSize:e=>`${e.value} piksela`,descending:"padajući",descendingSort:e=>`sortirano po kolonama ${e.columnName} padajućim redosledom`,resizerDescription:"Pritisnite Enter da biste započeli promenu veličine",select:"Izaberite",selectAll:"Izaberite sve",sortable:"kolona koja se može sortirati"};var Dbe={};Dbe={ascending:"stigande",ascendingSort:e=>`sorterat på kolumn ${e.columnName} i stigande ordning`,columnSize:e=>`${e.value} pixlar`,descending:"fallande",descendingSort:e=>`sorterat på kolumn ${e.columnName} i fallande ordning`,resizerDescription:"Tryck på Retur för att börja ändra storlek",select:"Markera",selectAll:"Markera allt",sortable:"sorterbar kolumn"};var Rbe={};Rbe={ascending:"artan sırada",ascendingSort:e=>`${e.columnName} sütuna göre artan düzende sırala`,columnSize:e=>`${e.value} piksel`,descending:"azalan sırada",descendingSort:e=>`${e.columnName} sütuna göre azalan düzende sırala`,resizerDescription:"Yeniden boyutlandırmak için Enter'a basın",select:"Seç",selectAll:"Tümünü Seç",sortable:"Sıralanabilir sütun"};var $be={};$be={ascending:"висхідний",ascendingSort:e=>`відсортовано за стовпцем ${e.columnName} у висхідному порядку`,columnSize:e=>`${e.value} пікс.`,descending:"низхідний",descendingSort:e=>`відсортовано за стовпцем ${e.columnName} у низхідному порядку`,resizerDescription:"Натисніть Enter, щоб почати зміну розміру",select:"Вибрати",selectAll:"Вибрати все",sortable:"сортувальний стовпець"};var Lbe={};Lbe={ascending:"升序",ascendingSort:e=>`按列 ${e.columnName} 升序排序`,columnSize:e=>`${e.value} 像素`,descending:"降序",descendingSort:e=>`按列 ${e.columnName} 降序排序`,resizerDescription:"按“输入”键开始调整大小。",select:"选择",selectAll:"全选",sortable:"可排序的列"};var Bbe={};Bbe={ascending:"遞增",ascendingSort:e=>`已依據「${e.columnName}」欄遞增排序`,columnSize:e=>`${e.value} 像素`,descending:"遞減",descendingSort:e=>`已依據「${e.columnName}」欄遞減排序`,resizerDescription:"按 Enter 鍵以開始調整大小",select:"選取",selectAll:"全選",sortable:"可排序的欄"};var eM={};eM={"ar-AE":ibe,"bg-BG":abe,"cs-CZ":obe,"da-DK":sbe,"de-DE":lbe,"el-GR":ube,"en-US":cbe,"es-ES":dbe,"et-EE":fbe,"fi-FI":pbe,"fr-FR":hbe,"he-IL":mbe,"hr-HR":gbe,"hu-HU":ybe,"it-IT":vbe,"ja-JP":_be,"ko-KR":bbe,"lt-LT":xbe,"lv-LV":wbe,"nb-NO":Sbe,"nl-NL":Ebe,"pl-PL":Abe,"pt-BR":Tbe,"pt-PT":Pbe,"ro-RO":Cbe,"ru-RU":Ibe,"sk-SK":Mbe,"sl-SI":kbe,"sr-SP":Obe,"sv-SE":Dbe,"tr-TR":Rbe,"uk-UA":$be,"zh-CN":Lbe,"zh-TW":Bbe};const w9=typeof document<"u"?Ke.useLayoutEffect:()=>{};function ub(e){const t=se.useRef(null);return w9(()=>{t.current=e},[e]),se.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}const zP={prefix:String(Math.round(Math.random()*1e10)),current:0},zbe=Ke.createContext(zP),AXe=Ke.createContext(!1);let TXe=!!(typeof window<"u"&&window.document&&window.document.createElement),eL=new WeakMap;function PXe(e=!1){let t=se.useContext(zbe),r=se.useRef(null);if(r.current===null&&!e){var n,i;let s=(i=Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(n=i.ReactCurrentOwner)===null||n===void 0?void 0:n.current;if(s){let c=eL.get(s);c==null?eL.set(s,{id:t.current,state:s.memoizedState}):s.memoizedState!==c.state&&(t.current=c.id,eL.delete(s))}r.current=++t.current}return r.current}function CXe(e){let t=se.useContext(zbe);t===zP&&!TXe&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=PXe(!!e),n=`react-aria${t.prefix}`;return e||`${n}-${r}`}function IXe(e){let t=Ke.useId(),[r]=se.useState(BK()),n=r?"react-aria":`react-aria${zP.prefix}`;return e||`${n}-${t}`}const MXe=typeof Ke.useId=="function"?IXe:CXe;function kXe(){return!1}function OXe(){return!0}function DXe(e){return()=>{}}function BK(){return typeof Ke.useSyncExternalStore=="function"?Ke.useSyncExternalStore(DXe,kXe,OXe):se.useContext(AXe)}let RXe=!!(typeof window<"u"&&window.document&&window.document.createElement),NP=new Map;function Nbe(e){let[t,r]=se.useState(e),n=se.useRef(null),i=MXe(t),s=se.useCallback(c=>{n.current=c},[]);return RXe&&NP.set(i,s),w9(()=>{let c=i;return()=>{NP.delete(c)}},[i]),se.useEffect(()=>{let c=n.current;c&&(n.current=null,r(c))}),i}function $Xe(e,t){if(e===t)return e;let r=NP.get(e);if(r)return r(t),t;let n=NP.get(t);return n?(n(e),e):t}function zK(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const pu=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},My=e=>e&&"window"in e&&e.window===e?e:pu(e).defaultView||window;function ov(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let i in n){let s=t[i],c=n[i];typeof s=="function"&&typeof c=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?t[i]=zK(s,c):(i==="className"||i==="UNSAFE_className")&&typeof s=="string"&&typeof c=="string"?t[i]=bi(s,c):i==="id"&&s&&c?t.id=$Xe(s,c):t[i]=c!==void 0?c:s}}return t}const LXe=new Set(["id"]),BXe=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),zXe=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),NXe=/^(data-.*)$/;function FXe(e,t={}){let{labelable:r,isLink:n,propNames:i}=t,s={};for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&(LXe.has(c)||r&&BXe.has(c)||n&&zXe.has(c)||i!=null&&i.has(c)||NXe.test(c))&&(s[c]=e[c]);return s}function Bp(e){if(jXe())e.focus({preventScroll:!0});else{let t=VXe(e);e.focus(),UXe(t)}}let iA=null;function jXe(){if(iA==null){iA=!1;try{document.createElement("div").focus({get preventScroll(){return iA=!0,!0}})}catch{}}return iA}function VXe(e){let t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function UXe(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}function tM(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function NK(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Ah(e){let t=null;return()=>(t==null&&(t=e()),t)}const ky=Ah(function(){return NK(/^Mac/i)}),WXe=Ah(function(){return NK(/^iPhone/i)}),Fbe=Ah(function(){return NK(/^iPad/i)||ky()&&navigator.maxTouchPoints>1}),FK=Ah(function(){return WXe()||Fbe()}),KXe=Ah(function(){return ky()||FK()}),HXe=Ah(function(){return tM(/AppleWebKit/i)&&!GXe()}),GXe=Ah(function(){return tM(/Chrome/i)}),jbe=Ah(function(){return tM(/Android/i)}),qXe=Ah(function(){return tM(/Firefox/i)}),ZXe=se.createContext({isNative:!0,open:YXe,useHref:e=>e});function Vbe(){return se.useContext(ZXe)}function Oy(e,t,r=!0){var n,i;let{metaKey:s,ctrlKey:c,altKey:p,shiftKey:o}=t;qXe()&&(!((i=window.event)===null||i===void 0||(n=i.type)===null||n===void 0)&&n.startsWith("key"))&&e.target==="_blank"&&(ky()?s=!0:c=!0);let g=HXe()&&ky()&&!Fbe()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:s,ctrlKey:c,altKey:p,shiftKey:o}):new MouseEvent("click",{metaKey:s,ctrlKey:c,altKey:p,shiftKey:o,bubbles:!0,cancelable:!0});Oy.isOpening=r,Bp(e),e.dispatchEvent(g),Oy.isOpening=!1}Oy.isOpening=!1;function XXe(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let r=document.createElement("a");r.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(r.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(r.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(r.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(r.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(r.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(r),t(r),e.removeChild(r)}}function YXe(e,t){XXe(e,r=>Oy(r,t))}let cb=new Map,YF=new Set;function sie(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let t=n=>{if(!e(n)||!n.target)return;let i=cb.get(n.target);i||(i=new Set,cb.set(n.target,i),n.target.addEventListener("transitioncancel",r,{once:!0})),i.add(n.propertyName)},r=n=>{if(!e(n)||!n.target)return;let i=cb.get(n.target);if(i&&(i.delete(n.propertyName),i.size===0&&(n.target.removeEventListener("transitioncancel",r),cb.delete(n.target)),cb.size===0)){for(let s of YF)s();YF.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?sie():document.addEventListener("DOMContentLoaded",sie));function Ube(e){requestAnimationFrame(()=>{cb.size===0?e():YF.add(e)})}function Wbe(){let e=se.useRef(new Map),t=se.useCallback((i,s,c,p)=>{let o=p!=null&&p.once?(...g)=>{e.current.delete(c),c(...g)}:c;e.current.set(c,{type:s,eventTarget:i,fn:o,options:p}),i.addEventListener(s,c,p)},[]),r=se.useCallback((i,s,c,p)=>{var o;let g=((o=e.current.get(c))===null||o===void 0?void 0:o.fn)||c;i.removeEventListener(s,g,p),e.current.delete(c)},[]),n=se.useCallback(()=>{e.current.forEach((i,s)=>{r(i.eventTarget,i.type,s,i.options)})},[r]);return se.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function JXe(e,t){const r=se.useRef(!0),n=se.useRef(null);se.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),se.useEffect(()=>{r.current?r.current=!1:(!n.current||t.some((i,s)=>!Object.is(i,n[s])))&&e(),n.current=t},t)}function QXe(e,t){w9(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function JF(e,t){let r=window.getComputedStyle(e),n=/(auto|scroll)/.test(r.overflow+r.overflowX+r.overflowY);return n&&t&&(n=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),n}function N_(e,t){let r=e;for(JF(r,t)&&(r=r.parentElement);r&&!JF(r,t);)r=r.parentElement;return r||document.scrollingElement||document.documentElement}function eYe(e,t){const r=[];for(;e&&e!==document.documentElement;)JF(e,t)&&r.push(e),e=e.parentElement;return r}let tYe=0;const tL=new Map;function Kbe(e){let[t,r]=se.useState();return w9(()=>{if(!e)return;let n=tL.get(e);if(n)r(n.element.id);else{let i=`react-aria-description-${tYe++}`;r(i);let s=document.createElement("div");s.id=i,s.style.display="none",s.textContent=e,document.body.appendChild(s),n={refCount:0,element:s},tL.set(e,n)}return n.refCount++,()=>{n&&--n.refCount===0&&(n.element.remove(),tL.delete(e))}},[e]),{"aria-describedby":e?t:void 0}}function lie(e,t,r,n){let i=ub(r),s=r==null;se.useEffect(()=>{if(s||!e.current)return;let c=e.current;return c.addEventListener(t,i,n),()=>{c.removeEventListener(t,i,n)}},[e,t,n,s,i])}function Hbe(e,t){let r=uie(e,t,"left"),n=uie(e,t,"top"),i=t.offsetWidth,s=t.offsetHeight,c=e.scrollLeft,p=e.scrollTop,{borderTopWidth:o,borderLeftWidth:g}=getComputedStyle(e),y=e.scrollLeft+parseInt(g,10),x=e.scrollTop+parseInt(o,10),E=y+e.clientWidth,A=x+e.clientHeight;r<=c?c=r-parseInt(g,10):r+i>E&&(c+=r+i-E),n<=x?p=n-parseInt(o,10):n+s>A&&(p+=n+s-A),e.scrollLeft=c,e.scrollTop=p}function uie(e,t,r){const n=r==="left"?"offsetLeft":"offsetTop";let i=0;for(;t.offsetParent&&(i+=t[n],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[n];break}t=t.offsetParent}return i}function Vm(e,t){if(document.contains(e)){let c=document.scrollingElement||document.documentElement;if(window.getComputedStyle(c).overflow==="hidden"){let o=eYe(e);for(let g of o)Hbe(g,e)}else{var r;let{left:o,top:g}=e.getBoundingClientRect();e==null||(r=e.scrollIntoView)===null||r===void 0||r.call(e,{block:"nearest"});let{left:y,top:x}=e.getBoundingClientRect();if(Math.abs(o-y)>1||Math.abs(g-x)>1){var n,i,s;t==null||(i=t.containingElement)===null||i===void 0||(n=i.scrollIntoView)===null||n===void 0||n.call(i,{block:"center",inline:"center"}),(s=e.scrollIntoView)===null||s===void 0||s.call(e,{block:"nearest"})}}}}function QF(e){return e.mozInputSource===0&&e.isTrusted?!0:jbe()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function rYe(e){return!jbe()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}function ej(e){return KXe()?e.altKey:e.ctrlKey}function db(e){return ky()?e.metaKey:e.ctrlKey}const nYe=1e3;function iYe(e){let{keyboardDelegate:t,selectionManager:r,onTypeSelect:n}=e,i=se.useRef({search:"",timeout:null}).current,s=c=>{let p=aYe(c.key);if(!p||c.ctrlKey||c.metaKey||!c.currentTarget.contains(c.target))return;p===" "&&i.search.trim().length>0&&(c.preventDefault(),"continuePropagation"in c||c.stopPropagation()),i.search+=p;let o=t.getKeyForSearch(i.search,r.focusedKey);o==null&&(o=t.getKeyForSearch(i.search)),o!=null&&(r.setFocusedKey(o),n&&n(o)),clearTimeout(i.timeout),i.timeout=setTimeout(()=>{i.search=""},nYe)};return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?s:null}}}function aYe(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}let Fb="default",tj="",_T=new WeakMap;function cie(e){if(FK()){if(Fb==="default"){const t=pu(e);tj=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}Fb="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(_T.set(e,e.style.userSelect),e.style.userSelect="none")}function aA(e){if(FK()){if(Fb!=="disabled")return;Fb="restoring",setTimeout(()=>{Ube(()=>{if(Fb==="restoring"){const t=pu(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=tj||""),tj="",Fb="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&_T.has(e)){let t=_T.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),_T.delete(e)}}const Gbe=Ke.createContext({register:()=>{}});Gbe.displayName="PressResponderContext";function oYe(e){let t=se.useContext(Gbe);if(t){let{register:r,...n}=t;e=ov(n,e),r()}return QXe(t,e.ref),e}var oA=new WeakMap;class sA{continuePropagation(){zx(this,oA,!1)}get shouldStopPropagation(){return EK(this,oA)}constructor(t,r,n,i){_K(this,oA,{writable:!0,value:void 0}),zx(this,oA,!0);var s;let c=(s=i==null?void 0:i.target)!==null&&s!==void 0?s:n.currentTarget;const p=c==null?void 0:c.getBoundingClientRect();let o,g=0,y,x=null;n.clientX!=null&&n.clientY!=null&&(y=n.clientX,x=n.clientY),p&&(y!=null&&x!=null?(o=y-p.left,g=x-p.top):(o=p.width/2,g=p.height/2)),this.type=t,this.pointerType=r,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.x=o,this.y=g}}const die=Symbol("linkClicked");function qbe(e){let{onPress:t,onPressChange:r,onPressStart:n,onPressEnd:i,onPressUp:s,isDisabled:c,isPressed:p,preventFocusOnPress:o,shouldCancelOnPointerExit:g,allowTextSelectionOnPress:y,ref:x,...E}=oYe(e),[A,M]=se.useState(!1),R=se.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:k,removeAllGlobalListeners:D}=Wbe(),$=ub((j,fe)=>{let be=R.current;if(c||be.didFirePressStart)return!1;let pe=!0;if(be.isTriggeringEvent=!0,n){let le=new sA("pressstart",fe,j);n(le),pe=le.shouldStopPropagation}return r&&r(!0),be.isTriggeringEvent=!1,be.didFirePressStart=!0,M(!0),pe}),B=ub((j,fe,be=!0)=>{let pe=R.current;if(!pe.didFirePressStart)return!1;pe.ignoreClickAfterPress=!0,pe.didFirePressStart=!1,pe.isTriggeringEvent=!0;let le=!0;if(i){let G=new sA("pressend",fe,j);i(G),le=G.shouldStopPropagation}if(r&&r(!1),M(!1),t&&be&&!c){let G=new sA("press",fe,j);t(G),le&&(le=G.shouldStopPropagation)}return pe.isTriggeringEvent=!1,le}),V=ub((j,fe)=>{let be=R.current;if(c)return!1;if(s){be.isTriggeringEvent=!0;let pe=new sA("pressup",fe,j);return s(pe),be.isTriggeringEvent=!1,pe.shouldStopPropagation}return!0}),U=ub(j=>{let fe=R.current;fe.isPressed&&fe.target&&(fe.isOverTarget&&fe.pointerType!=null&&B(ip(fe.target,j),fe.pointerType,!1),fe.isPressed=!1,fe.isOverTarget=!1,fe.activePointerId=null,fe.pointerType=null,D(),y||aA(fe.target))}),Z=ub(j=>{g&&U(j)}),ne=se.useMemo(()=>{let j=R.current,fe={onKeyDown(pe){if(rL(pe.nativeEvent,pe.currentTarget)&&pe.currentTarget.contains(pe.target)){var le;pie(pe.target,pe.key)&&pe.preventDefault();let G=!0;if(!j.isPressed&&!pe.repeat){j.target=pe.currentTarget,j.isPressed=!0,G=$(pe,"keyboard");let N=pe.currentTarget,Y=te=>{rL(te,N)&&!te.repeat&&N.contains(te.target)&&j.target&&V(ip(j.target,te),"keyboard")};k(pu(pe.currentTarget),"keyup",zK(Y,be),!0)}G&&pe.stopPropagation(),pe.metaKey&&ky()&&((le=j.metaKeyEvents)===null||le===void 0||le.set(pe.key,pe.nativeEvent))}else pe.key==="Meta"&&(j.metaKeyEvents=new Map)},onClick(pe){if(!(pe&&!pe.currentTarget.contains(pe.target))&&pe&&pe.button===0&&!j.isTriggeringEvent&&!Oy.isOpening){let le=!0;if(c&&pe.preventDefault(),!j.ignoreClickAfterPress&&!j.ignoreEmulatedMouseEvents&&!j.isPressed&&(j.pointerType==="virtual"||QF(pe.nativeEvent))){!c&&!o&&Bp(pe.currentTarget);let G=$(pe,"virtual"),N=V(pe,"virtual"),Y=B(pe,"virtual");le=G&&N&&Y}j.ignoreEmulatedMouseEvents=!1,j.ignoreClickAfterPress=!1,le&&pe.stopPropagation()}}},be=pe=>{var le;if(j.isPressed&&j.target&&rL(pe,j.target)){var G;pie(pe.target,pe.key)&&pe.preventDefault();let Y=pe.target;B(ip(j.target,pe),"keyboard",j.target.contains(Y)),D(),pe.key!=="Enter"&&jK(j.target)&&j.target.contains(Y)&&!pe[die]&&(pe[die]=!0,Oy(j.target,pe,!1)),j.isPressed=!1,(G=j.metaKeyEvents)===null||G===void 0||G.delete(pe.key)}else if(pe.key==="Meta"&&(!((le=j.metaKeyEvents)===null||le===void 0)&&le.size)){var N;let Y=j.metaKeyEvents;j.metaKeyEvents=void 0;for(let te of Y.values())(N=j.target)===null||N===void 0||N.dispatchEvent(new KeyboardEvent("keyup",te))}};if(typeof PointerEvent<"u"){fe.onPointerDown=N=>{if(N.button!==0||!N.currentTarget.contains(N.target))return;if(rYe(N.nativeEvent)){j.pointerType="virtual";return}nL(N.currentTarget)&&N.preventDefault(),j.pointerType=N.pointerType;let Y=!0;j.isPressed||(j.isPressed=!0,j.isOverTarget=!0,j.activePointerId=N.pointerId,j.target=N.currentTarget,!c&&!o&&Bp(N.currentTarget),y||cie(j.target),Y=$(N,j.pointerType),k(pu(N.currentTarget),"pointermove",pe,!1),k(pu(N.currentTarget),"pointerup",le,!1),k(pu(N.currentTarget),"pointercancel",G,!1)),Y&&N.stopPropagation()},fe.onMouseDown=N=>{N.currentTarget.contains(N.target)&&N.button===0&&(nL(N.currentTarget)&&N.preventDefault(),N.stopPropagation())},fe.onPointerUp=N=>{!N.currentTarget.contains(N.target)||j.pointerType==="virtual"||N.button===0&&F_(N,N.currentTarget)&&V(N,j.pointerType||N.pointerType)};let pe=N=>{N.pointerId===j.activePointerId&&(j.target&&F_(N,j.target)?!j.isOverTarget&&j.pointerType!=null&&(j.isOverTarget=!0,$(ip(j.target,N),j.pointerType)):j.target&&j.isOverTarget&&j.pointerType!=null&&(j.isOverTarget=!1,B(ip(j.target,N),j.pointerType,!1),Z(N)))},le=N=>{N.pointerId===j.activePointerId&&j.isPressed&&N.button===0&&j.target&&(F_(N,j.target)&&j.pointerType!=null?B(ip(j.target,N),j.pointerType):j.isOverTarget&&j.pointerType!=null&&B(ip(j.target,N),j.pointerType,!1),j.isPressed=!1,j.isOverTarget=!1,j.activePointerId=null,j.pointerType=null,D(),y||aA(j.target))},G=N=>{U(N)};fe.onDragStart=N=>{N.currentTarget.contains(N.target)&&U(N)}}else{fe.onMouseDown=G=>{if(G.button!==0||!G.currentTarget.contains(G.target))return;if(nL(G.currentTarget)&&G.preventDefault(),j.ignoreEmulatedMouseEvents){G.stopPropagation();return}j.isPressed=!0,j.isOverTarget=!0,j.target=G.currentTarget,j.pointerType=QF(G.nativeEvent)?"virtual":"mouse",!c&&!o&&Bp(G.currentTarget),$(G,j.pointerType)&&G.stopPropagation(),k(pu(G.currentTarget),"mouseup",pe,!1)},fe.onMouseEnter=G=>{if(!G.currentTarget.contains(G.target))return;let N=!0;j.isPressed&&!j.ignoreEmulatedMouseEvents&&j.pointerType!=null&&(j.isOverTarget=!0,N=$(G,j.pointerType)),N&&G.stopPropagation()},fe.onMouseLeave=G=>{if(!G.currentTarget.contains(G.target))return;let N=!0;j.isPressed&&!j.ignoreEmulatedMouseEvents&&j.pointerType!=null&&(j.isOverTarget=!1,N=B(G,j.pointerType,!1),Z(G)),N&&G.stopPropagation()},fe.onMouseUp=G=>{G.currentTarget.contains(G.target)&&!j.ignoreEmulatedMouseEvents&&G.button===0&&V(G,j.pointerType||"mouse")};let pe=G=>{if(G.button===0){if(j.isPressed=!1,D(),j.ignoreEmulatedMouseEvents){j.ignoreEmulatedMouseEvents=!1;return}j.target&&F_(G,j.target)&&j.pointerType!=null?B(ip(j.target,G),j.pointerType):j.target&&j.isOverTarget&&j.pointerType!=null&&B(ip(j.target,G),j.pointerType,!1),j.isOverTarget=!1}};fe.onTouchStart=G=>{if(!G.currentTarget.contains(G.target))return;let N=sYe(G.nativeEvent);if(!N)return;j.activePointerId=N.identifier,j.ignoreEmulatedMouseEvents=!0,j.isOverTarget=!0,j.isPressed=!0,j.target=G.currentTarget,j.pointerType="touch",!c&&!o&&Bp(G.currentTarget),y||cie(j.target),$(Mm(j.target,G),j.pointerType)&&G.stopPropagation(),k(My(G.currentTarget),"scroll",le,!0)},fe.onTouchMove=G=>{if(!G.currentTarget.contains(G.target))return;if(!j.isPressed){G.stopPropagation();return}let N=fie(G.nativeEvent,j.activePointerId),Y=!0;N&&F_(N,G.currentTarget)?!j.isOverTarget&&j.pointerType!=null&&(j.isOverTarget=!0,Y=$(Mm(j.target,G),j.pointerType)):j.isOverTarget&&j.pointerType!=null&&(j.isOverTarget=!1,Y=B(Mm(j.target,G),j.pointerType,!1),Z(Mm(j.target,G))),Y&&G.stopPropagation()},fe.onTouchEnd=G=>{if(!G.currentTarget.contains(G.target))return;if(!j.isPressed){G.stopPropagation();return}let N=fie(G.nativeEvent,j.activePointerId),Y=!0;N&&F_(N,G.currentTarget)&&j.pointerType!=null?(V(Mm(j.target,G),j.pointerType),Y=B(Mm(j.target,G),j.pointerType)):j.isOverTarget&&j.pointerType!=null&&(Y=B(Mm(j.target,G),j.pointerType,!1)),Y&&G.stopPropagation(),j.isPressed=!1,j.activePointerId=null,j.isOverTarget=!1,j.ignoreEmulatedMouseEvents=!0,j.target&&!y&&aA(j.target),D()},fe.onTouchCancel=G=>{G.currentTarget.contains(G.target)&&(G.stopPropagation(),j.isPressed&&U(Mm(j.target,G)))};let le=G=>{j.isPressed&&G.target.contains(j.target)&&U({currentTarget:j.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};fe.onDragStart=G=>{G.currentTarget.contains(G.target)&&U(G)}}return fe},[k,c,o,D,y,U,Z,B,$,V]);return se.useEffect(()=>()=>{var j;y||aA((j=R.current.target)!==null&&j!==void 0?j:void 0)},[y]),{isPressed:p||A,pressProps:ov(E,ne)}}function jK(e){return e.tagName==="A"&&e.hasAttribute("href")}function rL(e,t){const{key:r,code:n}=e,i=t,s=i.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(i instanceof My(i).HTMLInputElement&&!Zbe(i,r)||i instanceof My(i).HTMLTextAreaElement||i.isContentEditable)&&!((s==="link"||!s&&jK(i))&&r!=="Enter")}function sYe(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function fie(e,t){const r=e.changedTouches;for(let n=0;n<r.length;n++){const i=r[n];if(i.identifier===t)return i}return null}function Mm(e,t){let r=0,n=0;return t.targetTouches&&t.targetTouches.length===1&&(r=t.targetTouches[0].clientX,n=t.targetTouches[0].clientY),{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:r,clientY:n}}function ip(e,t){let r=t.clientX,n=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:r,clientY:n}}function lYe(e){let t=0,r=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?r=e.height/2:e.radiusY!==void 0&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function uYe(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function F_(e,t){let r=t.getBoundingClientRect(),n=lYe(e);return uYe(r,n)}function nL(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function pie(e,t){return e instanceof HTMLInputElement?!Zbe(e,t):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!jK(e)}const cYe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Zbe(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":cYe.has(e.type)}let z1=null,rj=new Set,i5=new Map,Dy=!1,nj=!1;function VK(e,t){for(let r of rj)r(e,t)}function dYe(e){return!(e.metaKey||!ky()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function FP(e){Dy=!0,dYe(e)&&(z1="keyboard",VK("keyboard",e))}function nc(e){z1="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Dy=!0,VK("pointer",e))}function Xbe(e){QF(e)&&(Dy=!0,z1="virtual")}function Ybe(e){e.target===window||e.target===document||(!Dy&&!nj&&(z1="virtual",VK("virtual",e)),Dy=!1,nj=!1)}function Jbe(){Dy=!1,nj=!0}function ij(e){if(typeof window>"u"||i5.get(My(e)))return;const t=My(e),r=pu(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Dy=!0,n.apply(this,arguments)},r.addEventListener("keydown",FP,!0),r.addEventListener("keyup",FP,!0),r.addEventListener("click",Xbe,!0),t.addEventListener("focus",Ybe,!0),t.addEventListener("blur",Jbe,!1),typeof PointerEvent<"u"?(r.addEventListener("pointerdown",nc,!0),r.addEventListener("pointermove",nc,!0),r.addEventListener("pointerup",nc,!0)):(r.addEventListener("mousedown",nc,!0),r.addEventListener("mousemove",nc,!0),r.addEventListener("mouseup",nc,!0)),t.addEventListener("beforeunload",()=>{Qbe(e)},{once:!0}),i5.set(t,{focus:n})}const Qbe=(e,t)=>{const r=My(e),n=pu(e);t&&n.removeEventListener("DOMContentLoaded",t),i5.has(r)&&(r.HTMLElement.prototype.focus=i5.get(r).focus,n.removeEventListener("keydown",FP,!0),n.removeEventListener("keyup",FP,!0),n.removeEventListener("click",Xbe,!0),r.removeEventListener("focus",Ybe,!0),r.removeEventListener("blur",Jbe,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",nc,!0),n.removeEventListener("pointermove",nc,!0),n.removeEventListener("pointerup",nc,!0)):(n.removeEventListener("mousedown",nc,!0),n.removeEventListener("mousemove",nc,!0),n.removeEventListener("mouseup",nc,!0)),i5.delete(r))};function fYe(e){const t=pu(e);let r;return t.readyState!=="loading"?ij(e):(r=()=>{ij(e)},t.addEventListener("DOMContentLoaded",r)),()=>Qbe(e,r)}typeof document<"u"&&fYe();function pYe(){return z1!=="pointer"}function aj(){return z1}function hYe(){ij();let[e,t]=se.useState(z1);return se.useEffect(()=>{let r=()=>{t(z1)};return rj.add(r),()=>{rj.delete(r)}},[]),BK()?null:e}const mYe=500;function gYe(e){let{isDisabled:t,onLongPressStart:r,onLongPressEnd:n,onLongPress:i,threshold:s=mYe,accessibilityDescription:c}=e;const p=se.useRef(void 0);let{addGlobalListener:o,removeGlobalListener:g}=Wbe(),{pressProps:y}=qbe({isDisabled:t,onPressStart(E){if(E.continuePropagation(),(E.pointerType==="mouse"||E.pointerType==="touch")&&(r&&r({...E,type:"longpressstart"}),p.current=setTimeout(()=>{E.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),i&&i({...E,type:"longpress"}),p.current=void 0},s),E.pointerType==="touch")){let A=M=>{M.preventDefault()};o(E.target,"contextmenu",A,{once:!0}),o(window,"pointerup",()=>{setTimeout(()=>{g(E.target,"contextmenu",A)},30)},{once:!0})}},onPressEnd(E){p.current&&clearTimeout(p.current),n&&(E.pointerType==="mouse"||E.pointerType==="touch")&&n({...E,type:"longpressend"})}}),x=Kbe(i&&!t?c:void 0);return{longPressProps:ov(y,x)}}function td(e){const t=pu(e);if(aj()==="virtual"){let r=t.activeElement;Ube(()=>{t.activeElement===r&&e.isConnected&&Bp(e)})}else Bp(e)}function yYe(e){const t=My(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:r,visibility:n}=e.style,i=r!=="none"&&n!=="hidden"&&n!=="collapse";if(i){const{getComputedStyle:s}=e.ownerDocument.defaultView;let{display:c,visibility:p}=s(e);i=c!=="none"&&p!=="hidden"&&p!=="collapse"}return i}function vYe(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function exe(e,t){return e.nodeName!=="#comment"&&yYe(e)&&vYe(e,t)&&(!e.parentElement||exe(e.parentElement,e))}const UK=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],_Ye=UK.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";UK.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const bYe=UK.join(':not([hidden]):not([tabindex="-1"]),');function txe(e,t){return!e||!t?!1:t.some(r=>r.contains(e))}function jP(e,t,r){let n=t!=null&&t.tabbable?bYe:_Ye,i=pu(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(s){var c;return!(t==null||(c=t.from)===null||c===void 0)&&c.contains(s)?NodeFilter.FILTER_REJECT:s.matches(n)&&exe(s)&&(!r||txe(s,r))&&(!(t!=null&&t.accept)||t.accept(s))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(i.currentNode=t.from),i}class WK{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,r,n){let i=this.fastMap.get(r??null);if(!i)return;let s=new hie({scopeRef:t});i.addChild(s),s.parent=i,this.fastMap.set(t,s),n&&(s.nodeToRestore=n)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let r=this.fastMap.get(t);if(!r)return;let n=r.parent;for(let s of this.traverse())s!==r&&r.nodeToRestore&&s.nodeToRestore&&r.scopeRef&&r.scopeRef.current&&txe(s.nodeToRestore,r.scopeRef.current)&&(s.nodeToRestore=r.nodeToRestore);let i=r.children;n&&(n.removeChild(r),i.size>0&&i.forEach(s=>n&&n.addChild(s))),this.fastMap.delete(r.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let r of t.children)yield*this.traverse(r)}clone(){var t;let r=new WK;var n;for(let i of this.traverse())r.addTreeNode(i.scopeRef,(n=(t=i.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&n!==void 0?n:null,i.nodeToRestore);return r}constructor(){this.fastMap=new Map,this.root=new hie({scopeRef:null}),this.fastMap.set(null,this.root)}}class hie{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}new WK;function xYe(e,t){let r=t==null?void 0:t.isDisabled,[n,i]=se.useState(!1);return w9(()=>{if(e!=null&&e.current&&!r){let s=()=>{if(e.current){let p=jP(e.current,{tabbable:!0});i(!!p.nextNode())}};s();let c=new MutationObserver(s);return c.observe(e.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{c.disconnect()}}}),r?!1:n}const wYe=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),SYe=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function EYe(e){if(Intl.Locale){let r=new Intl.Locale(e).maximize(),n=typeof r.getTextInfo=="function"?r.getTextInfo():r.textInfo;if(n)return n.direction==="rtl";if(r.script)return wYe.has(r.script)}let t=e.split("-")[0];return SYe.has(t)}const AYe=Symbol.for("react-aria.i18n.locale");function rxe(){let e=typeof window<"u"&&window[AYe]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:EYe(e)?"rtl":"ltr"}}let oj=rxe(),$6=new Set;function mie(){oj=rxe();for(let e of $6)e(oj)}function TYe(){let e=BK(),[t,r]=se.useState(oj);return se.useEffect(()=>($6.size===0&&window.addEventListener("languagechange",mie),$6.add(r),()=>{$6.delete(r),$6.size===0&&window.removeEventListener("languagechange",mie)}),[]),e?{locale:"en-US",direction:"ltr"}:t}const PYe=Ke.createContext(null);function S9(){let e=TYe();return se.useContext(PYe)||e}const gie=new WeakMap;function CYe(e){let t=gie.get(e);return t||(t=new Z4(e),gie.set(e,t)),t}function IYe(e,t){return t&&Z4.getGlobalDictionaryForPackage(t)||CYe(e)}function KK(e,t){let{locale:r}=S9(),n=IYe(e,t);return se.useMemo(()=>new Jge(r,n),[r,n])}let iL=new Map;function MYe(e){let{locale:t}=S9(),r=t+(e?Object.entries(e).sort((i,s)=>i[0]<s[0]?-1:1).join():"");if(iL.has(r))return iL.get(r);let n=new Intl.Collator(t,e);return iL.set(r,n),n}function kYe(e){let{selectionManager:t,keyboardDelegate:r,ref:n,autoFocus:i=!1,shouldFocusWrap:s=!1,disallowEmptySelection:c=!1,disallowSelectAll:p=!1,selectOnFocus:o=t.selectionBehavior==="replace",disallowTypeAhead:g=!1,shouldUseVirtualFocus:y,allowsTabNavigation:x=!1,isVirtualized:E,scrollRef:A=n,linkBehavior:M="action"}=e,{direction:R}=S9(),k=Vbe(),D=be=>{if(be.altKey&&be.key==="Tab"&&be.preventDefault(),!n.current.contains(be.target))return;const pe=(ye,ue)=>{if(ye!=null){if(t.isLink(ye)&&M==="selection"&&o&&!ej(be)){Z8.flushSync(()=>{t.setFocusedKey(ye,ue)});let J=A.current.querySelector(`[data-key="${CSS.escape(ye.toString())}"]`),de=t.getItemProps(ye);k.open(J,be,de.href,de.routerOptions);return}if(t.setFocusedKey(ye,ue),t.isLink(ye)&&M==="override")return;be.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(ye):o&&!ej(be)&&t.replaceSelection(ye)}};switch(be.key){case"ArrowDown":if(r.getKeyBelow){var le,G;be.preventDefault();let ye=t.focusedKey!=null?r.getKeyBelow(t.focusedKey):(le=r.getFirstKey)===null||le===void 0?void 0:le.call(r);ye==null&&s&&(ye=(G=r.getFirstKey)===null||G===void 0?void 0:G.call(r,t.focusedKey)),pe(ye)}break;case"ArrowUp":if(r.getKeyAbove){var N,Y;be.preventDefault();let ye=t.focusedKey!=null?r.getKeyAbove(t.focusedKey):(N=r.getLastKey)===null||N===void 0?void 0:N.call(r);ye==null&&s&&(ye=(Y=r.getLastKey)===null||Y===void 0?void 0:Y.call(r,t.focusedKey)),pe(ye)}break;case"ArrowLeft":if(r.getKeyLeftOf){var te,re;be.preventDefault();let ye=r.getKeyLeftOf(t.focusedKey);ye==null&&s&&(ye=R==="rtl"?(te=r.getFirstKey)===null||te===void 0?void 0:te.call(r,t.focusedKey):(re=r.getLastKey)===null||re===void 0?void 0:re.call(r,t.focusedKey)),pe(ye,R==="rtl"?"first":"last")}break;case"ArrowRight":if(r.getKeyRightOf){var he,we;be.preventDefault();let ye=r.getKeyRightOf(t.focusedKey);ye==null&&s&&(ye=R==="rtl"?(he=r.getLastKey)===null||he===void 0?void 0:he.call(r,t.focusedKey):(we=r.getFirstKey)===null||we===void 0?void 0:we.call(r,t.focusedKey)),pe(ye,R==="rtl"?"last":"first")}break;case"Home":if(r.getFirstKey){be.preventDefault();let ye=r.getFirstKey(t.focusedKey,db(be));t.setFocusedKey(ye),db(be)&&be.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(ye):o&&t.replaceSelection(ye)}break;case"End":if(r.getLastKey){be.preventDefault();let ye=r.getLastKey(t.focusedKey,db(be));t.setFocusedKey(ye),db(be)&&be.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(ye):o&&t.replaceSelection(ye)}break;case"PageDown":if(r.getKeyPageBelow){be.preventDefault();let ye=r.getKeyPageBelow(t.focusedKey);pe(ye)}break;case"PageUp":if(r.getKeyPageAbove){be.preventDefault();let ye=r.getKeyPageAbove(t.focusedKey);pe(ye)}break;case"a":db(be)&&t.selectionMode==="multiple"&&p!==!0&&(be.preventDefault(),t.selectAll());break;case"Escape":!c&&t.selectedKeys.size!==0&&(be.stopPropagation(),be.preventDefault(),t.clearSelection());break;case"Tab":if(!x){if(be.shiftKey)n.current.focus();else{let ye=jP(n.current,{tabbable:!0}),ue,J;do J=ye.lastChild(),J&&(ue=J);while(J);ue&&!ue.contains(document.activeElement)&&Bp(ue)}break}}},$=se.useRef({top:0,left:0});lie(A,"scroll",E?null:()=>{$.current={top:A.current.scrollTop,left:A.current.scrollLeft}});let B=be=>{if(t.isFocused){be.currentTarget.contains(be.target)||t.setFocused(!1);return}if(be.currentTarget.contains(be.target)){if(t.setFocused(!0),t.focusedKey==null){let G=Y=>{Y!=null&&(t.setFocusedKey(Y),o&&t.replaceSelection(Y))},N=be.relatedTarget;var pe,le;N&&be.currentTarget.compareDocumentPosition(N)&Node.DOCUMENT_POSITION_FOLLOWING?G((pe=t.lastSelectedKey)!==null&&pe!==void 0?pe:r.getLastKey()):G((le=t.firstSelectedKey)!==null&&le!==void 0?le:r.getFirstKey())}else E||(A.current.scrollTop=$.current.top,A.current.scrollLeft=$.current.left);if(t.focusedKey!=null){let G=A.current.querySelector(`[data-key="${CSS.escape(t.focusedKey.toString())}"]`);G&&(G.contains(document.activeElement)||Bp(G),aj()==="keyboard"&&Vm(G,{containingElement:n.current}))}}},V=be=>{be.currentTarget.contains(be.relatedTarget)||t.setFocused(!1)};const U=se.useRef(i);se.useEffect(()=>{if(U.current){let be=null;i==="first"&&(be=r.getFirstKey()),i==="last"&&(be=r.getLastKey());let pe=t.selectedKeys;if(pe.size){for(let le of pe)if(t.canSelectItem(le)){be=le;break}}t.setFocused(!0),t.setFocusedKey(be),be==null&&!y&&td(n.current)}},[]);let Z=se.useRef(t.focusedKey);se.useEffect(()=>{if(t.isFocused&&t.focusedKey!=null&&(t.focusedKey!==Z.current||U.current)&&(A!=null&&A.current)){let be=aj(),pe=n.current.querySelector(`[data-key="${CSS.escape(t.focusedKey.toString())}"]`);if(!pe)return;(be==="keyboard"||U.current)&&(Hbe(A.current,pe),be!=="virtual"&&Vm(pe,{containingElement:n.current}))}!y&&t.isFocused&&t.focusedKey==null&&Z.current!=null&&td(n.current),Z.current=t.focusedKey,U.current=!1}),lie(n,"react-aria-focus-scope-restore",be=>{be.preventDefault(),t.setFocused(!0)});let ne={onKeyDown:D,onFocus:B,onBlur:V,onMouseDown(be){A.current===be.target&&be.preventDefault()}},{typeSelectProps:j}=iYe({keyboardDelegate:r,selectionManager:t});g||(ne=ov(j,ne));let fe;return y||(fe=t.focusedKey==null?0:-1),{collectionProps:{...ne,tabIndex:fe}}}function nxe(e){let{selectionManager:t,key:r,ref:n,shouldSelectOnPressUp:i,shouldUseVirtualFocus:s,focus:c,isDisabled:p,onAction:o,allowsDifferentPressOrigin:g,linkBehavior:y="action"}=e,x=Vbe(),E=re=>{if(re.pointerType==="keyboard"&&ej(re))t.toggleSelection(r);else{if(t.selectionMode==="none")return;if(t.isLink(r)){if(y==="selection"){let he=t.getItemProps(r);x.open(n.current,re,he.href,he.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(y==="override"||y==="none")return}t.selectionMode==="single"?t.isSelected(r)&&!t.disallowEmptySelection?t.toggleSelection(r):t.replaceSelection(r):re&&re.shiftKey?t.extendSelection(r):t.selectionBehavior==="toggle"||re&&(db(re)||re.pointerType==="touch"||re.pointerType==="virtual")?t.toggleSelection(r):t.replaceSelection(r)}};se.useEffect(()=>{r===t.focusedKey&&t.isFocused&&!s&&(c?c():document.activeElement!==n.current&&td(n.current))},[n,r,t.focusedKey,t.childFocusStrategy,t.isFocused,s]),p=p||t.isDisabled(r);let A={};!s&&!p?A={tabIndex:r===t.focusedKey?0:-1,onFocus(re){re.target===n.current&&t.setFocusedKey(r)}}:p&&(A.onMouseDown=re=>{re.preventDefault()});let M=t.isLink(r)&&y==="override",R=t.isLink(r)&&y!=="selection"&&y!=="none",k=!p&&t.canSelectItem(r)&&!M,D=(o||R)&&!p,$=D&&(t.selectionBehavior==="replace"?!k:!k||t.isEmpty),B=D&&k&&t.selectionBehavior==="replace",V=$||B,U=se.useRef(null),Z=V&&k,ne=se.useRef(!1),j=se.useRef(!1),fe=re=>{if(o&&o(),R){let he=t.getItemProps(r);x.open(n.current,re,he.href,he.routerOptions)}},be={};i?(be.onPressStart=re=>{U.current=re.pointerType,ne.current=Z,re.pointerType==="keyboard"&&(!V||vie())&&E(re)},g?(be.onPressUp=$?null:re=>{re.pointerType!=="keyboard"&&k&&E(re)},be.onPress=$?fe:null):be.onPress=re=>{if($||B&&re.pointerType!=="mouse"){if(re.pointerType==="keyboard"&&!yie())return;fe(re)}else re.pointerType!=="keyboard"&&k&&E(re)}):(be.onPressStart=re=>{U.current=re.pointerType,ne.current=Z,j.current=$,k&&(re.pointerType==="mouse"&&!$||re.pointerType==="keyboard"&&(!D||vie()))&&E(re)},be.onPress=re=>{(re.pointerType==="touch"||re.pointerType==="pen"||re.pointerType==="virtual"||re.pointerType==="keyboard"&&V&&yie()||re.pointerType==="mouse"&&j.current)&&(V?fe(re):k&&E(re))}),A["data-key"]=r,be.preventFocusOnPress=s;let{pressProps:pe,isPressed:le}=qbe(be),G=B?re=>{U.current==="mouse"&&(re.stopPropagation(),re.preventDefault(),fe(re))}:void 0,{longPressProps:N}=gYe({isDisabled:!Z,onLongPress(re){re.pointerType==="touch"&&(E(re),t.setSelectionBehavior("toggle"))}}),Y=re=>{U.current==="touch"&&ne.current&&re.preventDefault()},te=t.isLink(r)?re=>{Oy.isOpening||re.preventDefault()}:void 0;return{itemProps:ov(A,k||$?pe:{},Z?N:{},{onDoubleClick:G,onDragStartCapture:Y,onClick:te}),isPressed:le,isSelected:t.isSelected(r),isFocused:t.isFocused&&t.focusedKey===r,isDisabled:p,allowsSelection:k,hasAction:V}}function yie(){let e=window.event;return(e==null?void 0:e.key)==="Enter"}function vie(){let e=window.event;return(e==null?void 0:e.key)===" "||(e==null?void 0:e.code)==="Space"}class OYe{getItemRect(t){let r=this.ref.current,n=t!=null?r.querySelector(`[data-key="${CSS.escape(t.toString())}"]`):null;if(!n)return null;let i=r.getBoundingClientRect(),s=n.getBoundingClientRect();return{x:s.left-i.left+r.scrollLeft,y:s.top-i.top+r.scrollTop,width:s.width,height:s.height}}getContentSize(){let t=this.ref.current;return{width:t.scrollWidth,height:t.scrollHeight}}getVisibleRect(){let t=this.ref.current;return{x:t.scrollLeft,y:t.scrollTop,width:t.offsetWidth,height:t.offsetHeight}}constructor(t){this.ref=t}}function Hc(e,t){return typeof t.getChildren=="function"?t.getChildren(e.key):e.childNodes}function M2(e){return Ag(e,0)}function Ag(e,t){if(t<0)return;let r=0;for(let n of e){if(r===t)return n;r++}}function lA(e){let t;for(let r of e)t=r;return t}class ixe{isCell(t){return t.type==="cell"}isRow(t){return t.type==="row"||t.type==="item"}isDisabled(t){var r;return this.disabledBehavior==="all"&&(((r=t.props)===null||r===void 0?void 0:r.isDisabled)||this.disabledKeys.has(t.key))}findPreviousKey(t,r){let n=t!=null?this.collection.getKeyBefore(t):this.collection.getLastKey();for(;n!=null;){let i=this.collection.getItem(n);if(!this.isDisabled(i)&&(!r||r(i)))return n;n=this.collection.getKeyBefore(n)}}findNextKey(t,r){let n=t!=null?this.collection.getKeyAfter(t):this.collection.getFirstKey();for(;n!=null;){let i=this.collection.getItem(n);if(!this.isDisabled(i)&&(!r||r(i)))return n;n=this.collection.getKeyAfter(n)}}getKeyBelow(t){let r=this.collection.getItem(t);if(r&&(this.isCell(r)&&(t=r.parentKey),t=this.findNextKey(t,n=>n.type==="item"),t!=null)){if(this.isCell(r)){let n=this.collection.getItem(t);return Ag(Hc(n,this.collection),r.index).key}if(this.focusMode==="row")return t}}getKeyAbove(t){let r=this.collection.getItem(t);if(r&&(this.isCell(r)&&(t=r.parentKey),t=this.findPreviousKey(t,n=>n.type==="item"),t!=null)){if(this.isCell(r)){let n=this.collection.getItem(t);return Ag(Hc(n,this.collection),r.index).key}if(this.focusMode==="row")return t}}getKeyRightOf(t){let r=this.collection.getItem(t);if(r){if(this.isRow(r)){let n=Hc(r,this.collection);return this.direction==="rtl"?lA(n).key:M2(n).key}if(this.isCell(r)){let n=this.collection.getItem(r.parentKey),i=Hc(n,this.collection),s=this.direction==="rtl"?Ag(i,r.index-1):Ag(i,r.index+1);return s?s.key:this.focusMode==="row"?r.parentKey:this.direction==="rtl"?this.getFirstKey(t):this.getLastKey(t)}}}getKeyLeftOf(t){let r=this.collection.getItem(t);if(r){if(this.isRow(r)){let n=Hc(r,this.collection);return this.direction==="rtl"?M2(n).key:lA(n).key}if(this.isCell(r)){let n=this.collection.getItem(r.parentKey),i=Hc(n,this.collection),s=this.direction==="rtl"?Ag(i,r.index+1):Ag(i,r.index-1);return s?s.key:this.focusMode==="row"?r.parentKey:this.direction==="rtl"?this.getLastKey(t):this.getFirstKey(t)}}}getFirstKey(t,r){let n;if(t!=null){if(n=this.collection.getItem(t),!n)return;if(this.isCell(n)&&!r){let i=this.collection.getItem(n.parentKey);return M2(Hc(i,this.collection)).key}}if(t=this.findNextKey(null,i=>i.type==="item"),t!=null&&n&&this.isCell(n)&&r||this.focusMode==="cell"){let i=this.collection.getItem(t);t=M2(Hc(i,this.collection)).key}return t}getLastKey(t,r){let n;if(t!=null){if(n=this.collection.getItem(t),!n)return;if(this.isCell(n)&&!r){let i=this.collection.getItem(n.parentKey),s=Hc(i,this.collection);return lA(s).key}}if(t=this.findPreviousKey(null,i=>i.type==="item"),t!=null&&n&&this.isCell(n)&&r||this.focusMode==="cell"){let i=this.collection.getItem(t),s=Hc(i,this.collection);t=lA(s).key}return t}getKeyPageAbove(t){let r=this.layoutDelegate.getItemRect(t);if(!r)return null;let n=Math.max(0,r.y+r.height-this.layoutDelegate.getVisibleRect().height);for(;r&&r.y>n;)t=this.getKeyAbove(t),r=this.layoutDelegate.getItemRect(t);return t}getKeyPageBelow(t){let r=this.layoutDelegate.getItemRect(t);if(!r)return null;let n=this.layoutDelegate.getVisibleRect().height,i=Math.min(this.layoutDelegate.getContentSize().height,r.y+n);for(;r&&r.y+r.height<i;){let s=this.getKeyBelow(t);if(s==null)break;r=this.layoutDelegate.getItemRect(s),t=s}return t}getKeyForSearch(t,r){if(!this.collator)return null;let n=this.collection,i=r??this.getFirstKey(),s=n.getItem(i);s.type==="cell"&&(i=s.parentKey);let c=!1;for(;i!=null;){let p=n.getItem(i);if(p.textValue){let o=p.textValue.slice(0,t.length);if(this.collator.compare(o,t)===0)return this.isRow(p)&&this.focusMode==="cell"?M2(Hc(p,this.collection)).key:p.key}i=this.findNextKey(i,o=>o.type==="item"),i==null&&!c&&(i=this.getFirstKey(),c=!0)}return null}constructor(t){this.collection=t.collection,this.disabledKeys=t.disabledKeys,this.disabledBehavior=t.disabledBehavior||"all",this.direction=t.direction,this.collator=t.collator,this.layoutDelegate=t.layoutDelegate||(t.layout?new DYe(t.layout):new OYe(t.ref)),this.focusMode=t.focusMode||"row"}}class DYe{getContentSize(){return this.layout.getContentSize()}getItemRect(t){var r;return((r=this.layout.getLayoutInfo(t))===null||r===void 0?void 0:r.rect)||null}getVisibleRect(){return this.layout.virtualizer.visibleRect}constructor(t){this.layout=t}}const HK=new WeakMap;var axe={};axe={deselectedItem:e=>`${e.item} غير المحدد`,longPressToSelect:"اضغط مطولًا للدخول إلى وضع التحديد.",select:"تحديد",selectedAll:"جميع العناصر المحددة.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"لم يتم تحديد عناصر",one:()=>`${t.number(e.count)} عنصر محدد`,other:()=>`${t.number(e.count)} عنصر محدد`})}.`,selectedItem:e=>`${e.item} المحدد`};var oxe={};oxe={deselectedItem:e=>`${e.item} не е избран.`,longPressToSelect:"Натиснете и задръжте за да влезете в избирателен режим.",select:"Изберете",selectedAll:"Всички елементи са избрани.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Няма избрани елементи",one:()=>`${t.number(e.count)} избран елемент`,other:()=>`${t.number(e.count)} избрани елементи`})}.`,selectedItem:e=>`${e.item} избран.`};var sxe={};sxe={deselectedItem:e=>`Položka ${e.item} není vybrána.`,longPressToSelect:"Dlouhým stisknutím přejdete do režimu výběru.",select:"Vybrat",selectedAll:"Vybrány všechny položky.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nevybrány žádné položky",one:()=>`Vybrána ${t.number(e.count)} položka`,other:()=>`Vybráno ${t.number(e.count)} položek`})}.`,selectedItem:e=>`Vybrána položka ${e.item}.`};var lxe={};lxe={deselectedItem:e=>`${e.item} ikke valgt.`,longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"Vælg",selectedAll:"Alle elementer valgt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ingen elementer valgt",one:()=>`${t.number(e.count)} element valgt`,other:()=>`${t.number(e.count)} elementer valgt`})}.`,selectedItem:e=>`${e.item} valgt.`};var uxe={};uxe={deselectedItem:e=>`${e.item} nicht ausgewählt.`,longPressToSelect:"Gedrückt halten, um Auswahlmodus zu öffnen.",select:"Auswählen",selectedAll:"Alle Elemente ausgewählt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Keine Elemente ausgewählt",one:()=>`${t.number(e.count)} Element ausgewählt`,other:()=>`${t.number(e.count)} Elemente ausgewählt`})}.`,selectedItem:e=>`${e.item} ausgewählt.`};var cxe={};cxe={deselectedItem:e=>`Δεν επιλέχθηκε το στοιχείο ${e.item}.`,longPressToSelect:"Πατήστε παρατεταμένα για να μπείτε σε λειτουργία επιλογής.",select:"Επιλογή",selectedAll:"Επιλέχθηκαν όλα τα στοιχεία.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Δεν επιλέχθηκαν στοιχεία",one:()=>`Επιλέχθηκε ${t.number(e.count)} στοιχείο`,other:()=>`Επιλέχθηκαν ${t.number(e.count)} στοιχεία`})}.`,selectedItem:e=>`Επιλέχθηκε το στοιχείο ${e.item}.`};var dxe={};dxe={deselectedItem:e=>`${e.item} not selected.`,select:"Select",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"No items selected",one:()=>`${t.number(e.count)} item selected`,other:()=>`${t.number(e.count)} items selected`})}.`,selectedAll:"All items selected.",selectedItem:e=>`${e.item} selected.`,longPressToSelect:"Long press to enter selection mode."};var fxe={};fxe={deselectedItem:e=>`${e.item} no seleccionado.`,longPressToSelect:"Mantenga pulsado para abrir el modo de selección.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ningún elemento seleccionado",one:()=>`${t.number(e.count)} elemento seleccionado`,other:()=>`${t.number(e.count)} elementos seleccionados`})}.`,selectedItem:e=>`${e.item} seleccionado.`};var pxe={};pxe={deselectedItem:e=>`${e.item} pole valitud.`,longPressToSelect:"Valikurežiimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"Kõik üksused valitud.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Üksusi pole valitud",one:()=>`${t.number(e.count)} üksus valitud`,other:()=>`${t.number(e.count)} üksust valitud`})}.`,selectedItem:e=>`${e.item} valitud.`};var hxe={};hxe={deselectedItem:e=>`Kohdetta ${e.item} ei valittu.`,longPressToSelect:"Siirry valintatilaan painamalla pitkään.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ei yhtään kohdetta valittu",one:()=>`${t.number(e.count)} kohde valittu`,other:()=>`${t.number(e.count)} kohdetta valittu`})}.`,selectedItem:e=>`${e.item} valittu.`};var mxe={};mxe={deselectedItem:e=>`${e.item} non sélectionné.`,longPressToSelect:"Appuyez de manière prolongée pour passer en mode de sélection.",select:"Sélectionner",selectedAll:"Tous les éléments sélectionnés.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Aucun élément sélectionné",one:()=>`${t.number(e.count)} élément sélectionné`,other:()=>`${t.number(e.count)} éléments sélectionnés`})}.`,selectedItem:e=>`${e.item} sélectionné.`};var gxe={};gxe={deselectedItem:e=>`${e.item} לא נבחר.`,longPressToSelect:"הקשה ארוכה לכניסה למצב בחירה.",select:"בחר",selectedAll:"כל הפריטים נבחרו.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"לא נבחרו פריטים",one:()=>`פריט ${t.number(e.count)} נבחר`,other:()=>`${t.number(e.count)} פריטים נבחרו`})}.`,selectedItem:e=>`${e.item} נבחר.`};var yxe={};yxe={deselectedItem:e=>`Stavka ${e.item} nije odabrana.`,longPressToSelect:"Dugo pritisnite za ulazak u način odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nije odabrana nijedna stavka",one:()=>`Odabrana je ${t.number(e.count)} stavka`,other:()=>`Odabrano je ${t.number(e.count)} stavki`})}.`,selectedItem:e=>`Stavka ${e.item} je odabrana.`};var vxe={};vxe={deselectedItem:e=>`${e.item} nincs kijelölve.`,longPressToSelect:"Nyomja hosszan a kijelöléshez.",select:"Kijelölés",selectedAll:"Az összes elem kijelölve.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Egy elem sincs kijelölve",one:()=>`${t.number(e.count)} elem kijelölve`,other:()=>`${t.number(e.count)} elem kijelölve`})}.`,selectedItem:e=>`${e.item} kijelölve.`};var _xe={};_xe={deselectedItem:e=>`${e.item} non selezionato.`,longPressToSelect:"Premi a lungo per passare alla modalità di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nessun elemento selezionato",one:()=>`${t.number(e.count)} elemento selezionato`,other:()=>`${t.number(e.count)} elementi selezionati`})}.`,selectedItem:e=>`${e.item} selezionato.`};var bxe={};bxe={deselectedItem:e=>`${e.item} が選択されていません。`,longPressToSelect:"長押しして選択モードを開きます。",select:"選択",selectedAll:"すべての項目を選択しました。",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"項目が選択されていません",one:()=>`${t.number(e.count)} 項目を選択しました`,other:()=>`${t.number(e.count)} 項目を選択しました`})}。`,selectedItem:e=>`${e.item} を選択しました。`};var xxe={};xxe={deselectedItem:e=>`${e.item}이(가) 선택되지 않았습니다.`,longPressToSelect:"선택 모드로 들어가려면 길게 누르십시오.",select:"선택",selectedAll:"모든 항목이 선택되었습니다.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"선택된 항목이 없습니다",one:()=>`${t.number(e.count)}개 항목이 선택되었습니다`,other:()=>`${t.number(e.count)}개 항목이 선택되었습니다`})}.`,selectedItem:e=>`${e.item}이(가) 선택되었습니다.`};var wxe={};wxe={deselectedItem:e=>`${e.item} nepasirinkta.`,longPressToSelect:"Norėdami įjungti pasirinkimo režimą, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nepasirinktas nė vienas elementas",one:()=>`Pasirinktas ${t.number(e.count)} elementas`,other:()=>`Pasirinkta elementų: ${t.number(e.count)}`})}.`,selectedItem:e=>`Pasirinkta: ${e.item}.`};var Sxe={};Sxe={deselectedItem:e=>`Vienums ${e.item} nav atlasīts.`,longPressToSelect:"Ilgi turiet nospiestu. lai ieslēgtu atlases režīmu.",select:"Atlasīt",selectedAll:"Atlasīti visi vienumi.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nav atlasīts neviens vienums",one:()=>`Atlasīto vienumu skaits: ${t.number(e.count)}`,other:()=>`Atlasīto vienumu skaits: ${t.number(e.count)}`})}.`,selectedItem:e=>`Atlasīts vienums ${e.item}.`};var Exe={};Exe={deselectedItem:e=>`${e.item} er ikke valgt.`,longPressToSelect:"Bruk et langt trykk for å gå inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ingen elementer er valgt",one:()=>`${t.number(e.count)} element er valgt`,other:()=>`${t.number(e.count)} elementer er valgt`})}.`,selectedItem:e=>`${e.item} er valgt.`};var Axe={};Axe={deselectedItem:e=>`${e.item} niet geselecteerd.`,longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Geen items geselecteerd",one:()=>`${t.number(e.count)} item geselecteerd`,other:()=>`${t.number(e.count)} items geselecteerd`})}.`,selectedItem:e=>`${e.item} geselecteerd.`};var Txe={};Txe={deselectedItem:e=>`Nie zaznaczono ${e.item}.`,longPressToSelect:"Naciśnij i przytrzymaj, aby wejść do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nie zaznaczono żadnych elementów",one:()=>`${t.number(e.count)} zaznaczony element`,other:()=>`${t.number(e.count)} zaznaczonych elementów`})}.`,selectedItem:e=>`Zaznaczono ${e.item}.`};var Pxe={};Pxe={deselectedItem:e=>`${e.item} não selecionado.`,longPressToSelect:"Mantenha pressionado para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>`${t.number(e.count)} item selecionado`,other:()=>`${t.number(e.count)} itens selecionados`})}.`,selectedItem:e=>`${e.item} selecionado.`};var Cxe={};Cxe={deselectedItem:e=>`${e.item} não selecionado.`,longPressToSelect:"Prima continuamente para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>`${t.number(e.count)} item selecionado`,other:()=>`${t.number(e.count)} itens selecionados`})}.`,selectedItem:e=>`${e.item} selecionado.`};var Ixe={};Ixe={deselectedItem:e=>`${e.item} neselectat.`,longPressToSelect:"Apăsați lung pentru a intra în modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Niciun element selectat",one:()=>`${t.number(e.count)} element selectat`,other:()=>`${t.number(e.count)} elemente selectate`})}.`,selectedItem:e=>`${e.item} selectat.`};var Mxe={};Mxe={deselectedItem:e=>`${e.item} не выбрано.`,longPressToSelect:"Нажмите и удерживайте для входа в режим выбора.",select:"Выбрать",selectedAll:"Выбраны все элементы.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Нет выбранных элементов",one:()=>`${t.number(e.count)} элемент выбран`,other:()=>`${t.number(e.count)} элементов выбрано`})}.`,selectedItem:e=>`${e.item} выбрано.`};var kxe={};kxe={deselectedItem:e=>`Nevybraté položky: ${e.item}.`,longPressToSelect:"Dlhším stlačením prejdite do režimu výberu.",select:"Vybrať",selectedAll:"Všetky vybraté položky.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Žiadne vybraté položky",one:()=>`${t.number(e.count)} vybratá položka`,other:()=>`Počet vybratých položiek:${t.number(e.count)}`})}.`,selectedItem:e=>`Vybraté položky: ${e.item}.`};var Oxe={};Oxe={deselectedItem:e=>`Element ${e.item} ni izbran.`,longPressToSelect:"Za izbirni način pritisnite in dlje časa držite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Noben element ni izbran",one:()=>`${t.number(e.count)} element je izbran`,other:()=>`${t.number(e.count)} elementov je izbranih`})}.`,selectedItem:e=>`Element ${e.item} je izbran.`};var Dxe={};Dxe={deselectedItem:e=>`${e.item} nije izabrano.`,longPressToSelect:"Dugo pritisnite za ulazak u režim biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nije izabrana nijedna stavka",one:()=>`Izabrana je ${t.number(e.count)} stavka`,other:()=>`Izabrano je ${t.number(e.count)} stavki`})}.`,selectedItem:e=>`${e.item} je izabrano.`};var Rxe={};Rxe={deselectedItem:e=>`${e.item} ej markerat.`,longPressToSelect:"Tryck länge när du vill öppna väljarläge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Inga markerade objekt",one:()=>`${t.number(e.count)} markerat objekt`,other:()=>`${t.number(e.count)} markerade objekt`})}.`,selectedItem:e=>`${e.item} markerat.`};var $xe={};$xe={deselectedItem:e=>`${e.item} seçilmedi.`,longPressToSelect:"Seçim moduna girmek için uzun basın.",select:"Seç",selectedAll:"Tüm ögeler seçildi.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Hiçbir öge seçilmedi",one:()=>`${t.number(e.count)} öge seçildi`,other:()=>`${t.number(e.count)} öge seçildi`})}.`,selectedItem:e=>`${e.item} seçildi.`};var Lxe={};Lxe={deselectedItem:e=>`${e.item} не вибрано.`,longPressToSelect:"Виконайте довге натиснення, щоб перейти в режим вибору.",select:"Вибрати",selectedAll:"Усі елементи вибрано.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Жодних елементів не вибрано",one:()=>`${t.number(e.count)} елемент вибрано`,other:()=>`Вибрано елементів: ${t.number(e.count)}`})}.`,selectedItem:e=>`${e.item} вибрано.`};var Bxe={};Bxe={deselectedItem:e=>`未选择 ${e.item}。`,longPressToSelect:"长按以进入选择模式。",select:"选择",selectedAll:"已选择所有项目。",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"未选择项目",one:()=>`已选择 ${t.number(e.count)} 个项目`,other:()=>`已选择 ${t.number(e.count)} 个项目`})}。`,selectedItem:e=>`已选择 ${e.item}。`};var zxe={};zxe={deselectedItem:e=>`未選取「${e.item}」。`,longPressToSelect:"長按以進入選擇模式。",select:"選取",selectedAll:"已選取所有項目。",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"未選取任何項目",one:()=>`已選取 ${t.number(e.count)} 個項目`,other:()=>`已選取 ${t.number(e.count)} 個項目`})}。`,selectedItem:e=>`已選取「${e.item}」。`};var rM={};rM={"ar-AE":axe,"bg-BG":oxe,"cs-CZ":sxe,"da-DK":lxe,"de-DE":uxe,"el-GR":cxe,"en-US":dxe,"es-ES":fxe,"et-EE":pxe,"fi-FI":hxe,"fr-FR":mxe,"he-IL":gxe,"hr-HR":yxe,"hu-HU":vxe,"it-IT":_xe,"ja-JP":bxe,"ko-KR":xxe,"lt-LT":wxe,"lv-LV":Sxe,"nb-NO":Exe,"nl-NL":Axe,"pl-PL":Txe,"pt-BR":Pxe,"pt-PT":Cxe,"ro-RO":Ixe,"ru-RU":Mxe,"sk-SK":kxe,"sl-SI":Oxe,"sr-SP":Dxe,"sv-SE":Rxe,"tr-TR":$xe,"uk-UA":Lxe,"zh-CN":Bxe,"zh-TW":zxe};const Nxe=7e3;let aL=null;function Fxe(e,t="assertive",r=Nxe){aL||(aL=new RYe),aL.announce(e,t,r)}class RYe{createLog(t){let r=document.createElement("div");return r.setAttribute("role","log"),r.setAttribute("aria-live",t),r.setAttribute("aria-relevant","additions"),r}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(t,r="assertive",n=Nxe){if(!this.node)return;let i=document.createElement("div");i.textContent=t,r==="assertive"?this.assertiveLog.appendChild(i):this.politeLog.appendChild(i),t!==""&&setTimeout(()=>{i.remove()},n)}clear(t){this.node&&((!t||t==="assertive")&&(this.assertiveLog.innerHTML=""),(!t||t==="polite")&&(this.politeLog.innerHTML=""))}constructor(){this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node)}}function $Ye(e){return e&&e.__esModule?e.default:e}function LYe(e,t){let{getRowText:r=c=>{var p,o,g,y;return(y=(p=(o=t.collection).getTextValue)===null||p===void 0?void 0:p.call(o,c))!==null&&y!==void 0?y:(g=t.collection.getItem(c))===null||g===void 0?void 0:g.textValue}}=e,n=KK($Ye(rM),"@react-aria/grid"),i=t.selectionManager.rawSelection,s=se.useRef(i);JXe(()=>{var c;if(!t.selectionManager.isFocused){s.current=i;return}let p=_ie(i,s.current),o=_ie(s.current,i),g=t.selectionManager.selectionBehavior==="replace",y=[];if(t.selectionManager.selectedKeys.size===1&&g){if(t.collection.getItem(t.selectionManager.selectedKeys.keys().next().value)){let x=r(t.selectionManager.selectedKeys.keys().next().value);x&&y.push(n.format("selectedItem",{item:x}))}}else if(p.size===1&&o.size===0){let x=r(p.keys().next().value);x&&y.push(n.format("selectedItem",{item:x}))}else if(o.size===1&&p.size===0&&t.collection.getItem(o.keys().next().value)){let x=r(o.keys().next().value);x&&y.push(n.format("deselectedItem",{item:x}))}t.selectionManager.selectionMode==="multiple"&&(y.length===0||i==="all"||i.size>1||s.current==="all"||((c=s.current)===null||c===void 0?void 0:c.size)>1)&&y.push(i==="all"?n.format("selectedAll"):n.format("selectedCount",{count:i.size})),y.length>0&&Fxe(y.join(" ")),s.current=i},[i])}function _ie(e,t){let r=new Set;if(e==="all"||t==="all")return r;for(let n of e.keys())t.has(n)||r.add(n);return r}function BYe(e){return e&&e.__esModule?e.default:e}function zYe(e){let t=KK(BYe(rM),"@react-aria/grid"),r=hYe(),n=(r==="pointer"||r==="virtual"||r==null)&&typeof window<"u"&&"ontouchstart"in window,i=se.useMemo(()=>{let c=e.selectionManager.selectionMode,p=e.selectionManager.selectionBehavior,o;return n&&(o=t.format("longPressToSelect")),p==="replace"&&c!=="none"&&e.hasItemActions?o:void 0},[e.selectionManager.selectionMode,e.selectionManager.selectionBehavior,e.hasItemActions,t,n]);return Kbe(i)}function NYe(e,t,r){let{isVirtualized:n,keyboardDelegate:i,focusMode:s,scrollRef:c,getRowText:p,onRowAction:o,onCellAction:g}=e,{selectionManager:y}=t;!e["aria-label"]&&!e["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let x=MYe({usage:"search",sensitivity:"base"}),{direction:E}=S9(),A=t.selectionManager.disabledBehavior,M=se.useMemo(()=>i||new ixe({collection:t.collection,disabledKeys:t.disabledKeys,disabledBehavior:A,ref:r,direction:E,collator:x,focusMode:s}),[i,t.collection,t.disabledKeys,A,r,E,x,s]),{collectionProps:R}=kYe({ref:r,selectionManager:y,keyboardDelegate:M,isVirtualized:n,scrollRef:c}),k=Nbe(e.id);HK.set(t,{keyboardDelegate:M,actions:{onRowAction:o,onCellAction:g}});let D=zYe({selectionManager:y,hasItemActions:!!(o||g)}),$=FXe(e,{labelable:!0}),B=se.useCallback(ne=>{if(y.isFocused){ne.currentTarget.contains(ne.target)||y.setFocused(!1);return}ne.currentTarget.contains(ne.target)&&y.setFocused(!0)},[y]),V=se.useMemo(()=>({onBlur:R.onBlur,onFocus:B}),[B,R.onBlur]),U=xYe(r,{isDisabled:t.collection.size!==0}),Z=ov($,{role:"grid",id:k,"aria-multiselectable":y.selectionMode==="multiple"?"true":void 0},t.isKeyboardNavigationDisabled?V:R,t.collection.size===0&&{tabIndex:U?-1:0},D);return n&&(Z["aria-rowcount"]=t.collection.size,Z["aria-colcount"]=t.collection.columnCount),LYe({getRowText:p},t),{gridProps:Z}}function FYe(){return{rowGroupProps:{role:"rowgroup"}}}function jYe(e,t,r){var n,i;let{node:s,isVirtualized:c,shouldSelectOnPressUp:p,onAction:o}=e,{actions:g}=HK.get(t),y=g.onRowAction?()=>g.onRowAction(s.key):o,{itemProps:x,...E}=nxe({selectionManager:t.selectionManager,key:s.key,ref:r,isVirtualized:c,shouldSelectOnPressUp:p,onAction:y||!(s==null||(n=s.props)===null||n===void 0)&&n.onAction?zK(s==null||(i=s.props)===null||i===void 0?void 0:i.onAction,y):void 0,isDisabled:t.collection.size===0}),A=t.selectionManager.isSelected(s.key),M={role:"row","aria-selected":t.selectionManager.selectionMode!=="none"?A:void 0,"aria-disabled":E.isDisabled||void 0,...x};return c&&(M["aria-rowindex"]=s.index+1),{rowProps:M,...E}}function jxe(e,t,r){let{node:n,isVirtualized:i,focusMode:s="child",shouldSelectOnPressUp:c,onAction:p}=e,{direction:o}=S9(),{keyboardDelegate:g,actions:{onCellAction:y}}=HK.get(t),x=se.useRef(null),E=()=>{let B=jP(r.current);if(s==="child"){if(r.current.contains(document.activeElement)&&r.current!==document.activeElement)return;let V=t.selectionManager.childFocusStrategy==="last"?oL(B):B.firstChild();if(V){td(V);return}}(x.current!=null&&n.key!==x.current||!r.current.contains(document.activeElement))&&td(r.current)},{itemProps:A,isPressed:M}=nxe({selectionManager:t.selectionManager,key:n.key,ref:r,isVirtualized:i,focus:E,shouldSelectOnPressUp:c,onAction:y?()=>y(n.key):p,isDisabled:t.collection.size===0}),D=ov(A,{role:"gridcell",onKeyDownCapture:B=>{if(!B.currentTarget.contains(B.target)||t.isKeyboardNavigationDisabled)return;let V=jP(r.current);switch(V.currentNode=document.activeElement,B.key){case"ArrowLeft":{let U=o==="rtl"?V.nextNode():V.previousNode();if(s==="child"&&U===r.current&&(U=null),B.preventDefault(),B.stopPropagation(),U)td(U),Vm(U,{containingElement:N_(r.current)});else{if(g.getKeyLeftOf(n.key)!==n.key){r.current.parentElement.dispatchEvent(new KeyboardEvent(B.nativeEvent.type,B.nativeEvent));break}s==="cell"&&o==="rtl"?(td(r.current),Vm(r.current,{containingElement:N_(r.current)})):(V.currentNode=r.current,U=o==="rtl"?V.firstChild():oL(V),U&&(td(U),Vm(U,{containingElement:N_(r.current)})))}break}case"ArrowRight":{let U=o==="rtl"?V.previousNode():V.nextNode();if(s==="child"&&U===r.current&&(U=null),B.preventDefault(),B.stopPropagation(),U)td(U),Vm(U,{containingElement:N_(r.current)});else{if(g.getKeyRightOf(n.key)!==n.key){r.current.parentElement.dispatchEvent(new KeyboardEvent(B.nativeEvent.type,B.nativeEvent));break}s==="cell"&&o==="ltr"?(td(r.current),Vm(r.current,{containingElement:N_(r.current)})):(V.currentNode=r.current,U=o==="rtl"?oL(V):V.firstChild(),U&&(td(U),Vm(U,{containingElement:N_(r.current)})))}break}case"ArrowUp":case"ArrowDown":!B.altKey&&r.current.contains(B.target)&&(B.stopPropagation(),B.preventDefault(),r.current.parentElement.dispatchEvent(new KeyboardEvent(B.nativeEvent.type,B.nativeEvent)));break}},onFocus:B=>{if(x.current=n.key,B.target!==r.current){pYe()||t.selectionManager.setFocusedKey(n.key);return}requestAnimationFrame(()=>{s==="child"&&document.activeElement===r.current&&E()})}});var $;return i&&(D["aria-colindex"]=(($=n.colIndex)!==null&&$!==void 0?$:n.index)+1),c&&D.tabIndex!=null&&D.onPointerDown==null&&(D.onPointerDown=B=>{let V=B.currentTarget,U=V.getAttribute("tabindex");V.removeAttribute("tabindex"),requestAnimationFrame(()=>{V.setAttribute("tabindex",U)})}),{gridCellProps:D,isPressed:M}}function oL(e){let t,r;do r=e.lastChild(),r&&(t=r);while(r);return t}function VYe(e){return e&&e.__esModule?e.default:e}function UYe(e,t){let{key:r}=e,n=t.selectionManager,i=Nbe(),s=!t.selectionManager.canSelectItem(r),c=t.selectionManager.isSelected(r),p=()=>n.toggleSelection(r);const o=KK(VYe(rM),"@react-aria/grid");return{checkboxProps:{id:i,"aria-label":o.format("select"),isSelected:c,isDisabled:s,onChange:p}}}class WYe extends ixe{isCell(t){return t.type==="cell"||t.type==="rowheader"||t.type==="column"}getKeyBelow(t){let r=this.collection.getItem(t);if(r){if(r.type==="column"){let n=Eve(ob(r,this.collection));if(n)return n.key;let i=this.getFirstKey();if(i==null)return;let s=this.collection.getItem(i);return Ave(ob(s,this.collection),r.index).key}return super.getKeyBelow(t)}}getKeyAbove(t){let r=this.collection.getItem(t);if(!r)return;if(r.type==="column"){let i=this.collection.getItem(r.parentKey);return i&&i.type==="column"?i.key:void 0}let n=super.getKeyAbove(t);return n!=null&&this.collection.getItem(n).type!=="headerrow"?n:this.isCell(r)?this.collection.columns[r.index].key:this.collection.columns[0].key}findNextColumnKey(t){let r=this.findNextKey(t.key,i=>i.type==="column");if(r!=null)return r;let n=this.collection.headerRows[t.level];for(let i of ob(n,this.collection))if(i.type==="column")return i.key}findPreviousColumnKey(t){let r=this.findPreviousKey(t.key,s=>s.type==="column");if(r!=null)return r;let n=this.collection.headerRows[t.level],i=[...ob(n,this.collection)];for(let s=i.length-1;s>=0;s--){let c=i[s];if(c.type==="column")return c.key}}getKeyRightOf(t){let r=this.collection.getItem(t);if(r)return r.type==="column"?this.direction==="rtl"?this.findPreviousColumnKey(r):this.findNextColumnKey(r):super.getKeyRightOf(t)}getKeyLeftOf(t){let r=this.collection.getItem(t);if(r)return r.type==="column"?this.direction==="rtl"?this.findNextColumnKey(r):this.findPreviousColumnKey(r):super.getKeyLeftOf(t)}getKeyForSearch(t,r){if(!this.collator)return null;let n=this.collection,i=r??this.getFirstKey();if(i==null)return null;let s=n.getItem(i);s.type==="cell"&&(i=s.parentKey);let c=!1;for(;i!=null;){let p=n.getItem(i);for(let o of ob(p,this.collection)){let g=n.columns[o.index];if(n.rowHeaderColumnKeys.has(g.key)&&o.textValue){let y=o.textValue.slice(0,t.length);if(this.collator.compare(y,t)===0)return(r!=null?n.getItem(r):s).type==="cell"?o.key:p.key}}i=this.getKeyBelow(i),i==null&&!c&&(i=this.getFirstKey(),c=!0)}return null}}let KYe=!1;function VP(){return KYe}function HYe(e){return e&&e.__esModule?e.default:e}function GYe(e,t,r){let{keyboardDelegate:n,isVirtualized:i,layout:s}=e,c=uye({usage:"search",sensitivity:"base"}),{direction:p}=tv(),o=t.selectionManager.disabledBehavior,g=se.useMemo(()=>n||new WYe({collection:t.collection,disabledKeys:t.disabledKeys,disabledBehavior:o,ref:r,direction:p,collator:c,layout:s}),[n,t.collection,t.disabledKeys,o,r,p,c,s]),y=L1(e.id);LK.set(t,y);let{gridProps:x}=NYe({...e,id:y,keyboardDelegate:g},t,r);i&&(x["aria-rowcount"]=t.collection.size+t.collection.headerRows.length),VP()&&"expandedKeys"in t&&(x.role="treegrid");let{column:E,direction:A}=t.sortDescriptor||{},M=y9(HYe(eM),"@react-aria/table"),R=se.useMemo(()=>{var D;let $=(D=t.collection.columns.find(B=>B.key===E))===null||D===void 0?void 0:D.textValue;return A&&E?M.format(`${A}Sort`,{columnName:$}):void 0},[A,E,t.collection.columns]),k=wK(R);return kKe(()=>{Fxe(R,"assertive",500)},[R]),{gridProps:An(x,k,{"aria-describedby":[k["aria-describedby"],x["aria-describedby"]].filter(Boolean).join(" ")})}}function qYe(e){return e&&e.__esModule?e.default:e}function Vxe(e,t,r){var n,i;let{node:s}=e,c=s.props.allowsSorting,{gridCellProps:p}=jxe({...e,focusMode:"child"},t,r),o=s.props.isSelectionCell&&t.selectionManager.selectionMode==="single",{pressProps:g}=rv({isDisabled:!c||o,onPress(){t.sort(s.key)},ref:r}),{focusableProps:y}=IK({},r),x=null,E=((n=t.sortDescriptor)===null||n===void 0?void 0:n.column)===s.key,A=(i=t.sortDescriptor)===null||i===void 0?void 0:i.direction;s.props.allowsSorting&&!PP()&&(x=E?A:"none");let M=y9(qYe(eM),"@react-aria/table"),R;c&&(R=`${M.format("sortable")}`,E&&A&&PP()&&(R=`${R}, ${M.format(A)}`));let k=wK(R),D=t.collection.size===0;return se.useEffect(()=>{D&&t.selectionManager.focusedKey===s.key&&t.selectionManager.setFocusedKey(null)},[D,t.selectionManager,s.key]),{columnHeaderProps:{...An(p,g,y,k,D&&{tabIndex:-1}),role:"columnheader",id:EXe(t,s.key),"aria-colspan":s.colspan&&s.colspan>1?s.colspan:null,"aria-sort":x}}}const bie={expand:{ltr:"ArrowRight",rtl:"ArrowLeft"},collapse:{ltr:"ArrowLeft",rtl:"ArrowRight"}};function ZYe(e,t,r){let{node:n,isVirtualized:i}=e,{rowProps:s,...c}=jYe(e,t,r),{direction:p}=tv();i&&!(VP()&&"expandedKeys"in t)?s["aria-rowindex"]=n.index+1+t.collection.headerRows.length:delete s["aria-rowindex"];let o={};if(VP()&&"expandedKeys"in t){let A=t.keyMap.get(n.key);if(A!=null){var g,y,x;let M=((g=A.props)===null||g===void 0?void 0:g.UNSTABLE_childItems)||((x=A.props)===null||x===void 0||(y=x.children)===null||y===void 0?void 0:y.length)>t.userColumnCount;o={onKeyDown:R=>{(R.key===bie.expand[p]&&t.selectionManager.focusedKey===A.key&&M&&t.expandedKeys!=="all"&&!t.expandedKeys.has(A.key)||R.key===bie.collapse[p]&&t.selectionManager.focusedKey===A.key&&M&&(t.expandedKeys==="all"||t.expandedKeys.has(A.key)))&&(t.toggleKey(A.key),R.stopPropagation())},"aria-expanded":M?t.expandedKeys==="all"||t.expandedKeys.has(n.key):void 0,"aria-level":A.level,"aria-posinset":A.indexOfType+1,"aria-setsize":A.level>1?VF(t.keyMap.get(A==null?void 0:A.parentKey).childNodes).indexOfType+1:VF(t.keyMap.get(t.collection.body.key).childNodes).indexOfType+1}}}let E=c.hasAction?IKe(n.props):{};return{rowProps:{...An(s,o,E),"aria-labelledby":nbe(t,n.key)},...c}}function XYe(e,t,r){let{node:n,isVirtualized:i}=e,s={role:"row"};return i&&!(VP()&&"expandedKeys"in t)&&(s["aria-rowindex"]=n.index+1),{rowProps:s}}function Uxe(e,t,r){let{gridCellProps:n,isPressed:i}=jxe(e,t,r),s=e.node.column.key;return t.collection.rowHeaderColumnKeys.has(s)&&(n.role="rowheader",n.id=rbe(t,e.node.parentKey,s)),{gridCellProps:n,isPressed:i}}function YYe(e){return e&&e.__esModule?e.default:e}function JYe(e,t){let{key:r}=e;const{checkboxProps:n}=UYe(e,t);return{checkboxProps:{...n,"aria-labelledby":`${n.id} ${nbe(t,r)}`}}}function QYe(e){let{isEmpty:t,isSelectAll:r,selectionMode:n}=e.selectionManager;return{checkboxProps:{"aria-label":y9(YYe(eM),"@react-aria/table").format(n==="single"?"select":"selectAll"),isSelected:r,isDisabled:n!=="multiple"||e.collection.size===0,isIndeterminate:!t&&!r,onChange:()=>e.selectionManager.toggleSelectAll()}}}function Wxe(){return FYe()}var Kxe=La((e,t)=>{var r,n;const{as:i,className:s,node:c,slots:p,state:o,selectionMode:g,color:y,checkboxesProps:x,disableAnimation:E,classNames:A,...M}=e,R=i||"th",k=typeof R=="string",D=ts(t),{columnHeaderProps:$}=Vxe({node:c},o,D),{isFocusVisible:B,focusProps:V}=_d(),{checkboxProps:U}=QYe(o),Z=pi(A==null?void 0:A.th,s,(r=c.props)==null?void 0:r.className),ne=g==="single",{onChange:j,...fe}=U;return H.jsx(R,{ref:D,"data-focus-visible":zr(B),...An($,V,_l(c.props,{enabled:k}),_l(M,{enabled:k})),className:(n=p.th)==null?void 0:n.call(p,{class:Z}),children:ne?H.jsx(_9,{children:U["aria-label"]}):H.jsx(Yve,{color:y,disableAnimation:E,onValueChange:j,...An(x,fe)})})});Kxe.displayName="NextUI.TableSelectAllCheckbox";var eJe=Kxe;function xie(e,t){return typeof t.getChildren=="function"?t.getChildren(e.key):e.childNodes}function tJe(e){return rJe(e)}function rJe(e,t){for(let r of e)return r}function nJe(e){let t;for(let r of e)t=r;return t}function iJe(e){let{collection:t,focusMode:r}=e,n=e.UNSAFE_selectionState||bve(e),i=se.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),s=n.setFocusedKey;n.setFocusedKey=(o,g)=>{if(r==="cell"&&o!=null){let E=t.getItem(o);if((E==null?void 0:E.type)==="item"){var y,x;let A=xie(E,t);g==="last"?o=(y=nJe(A))===null||y===void 0?void 0:y.key:o=(x=tJe(A))===null||x===void 0?void 0:x.key}}s(o,g)};let c=se.useMemo(()=>new xve(t,n),[t,n]);const p=se.useRef(null);return se.useEffect(()=>{if(n.focusedKey!=null&&!t.getItem(n.focusedKey)){const o=p.current.getItem(n.focusedKey),g=o.parentKey!=null&&(o.type==="cell"||o.type==="rowheader"||o.type==="column")?p.current.getItem(o.parentKey):o,y=p.current.rows,x=t.rows,E=y.length-x.length;let A=Math.min(E>1?Math.max(g.index-E+1,0):g.index,x.length-1),M;for(;A>=0;){if(!c.isDisabled(x[A].key)&&x[A].type!=="headerrow"){M=x[A];break}A<x.length-1?A++:(A>g.index&&(A=g.index),A--)}if(M){const R=M.hasChildNodes?[...xie(M,t)]:[],k=M.hasChildNodes&&g!==o&&o.index<R.length?R[o.index].key:M.key;n.setFocusedKey(k)}else n.setFocusedKey(null)}p.current=t},[t,c,n,n.focusedKey]),{collection:t,disabledKeys:i,isKeyboardNavigationDisabled:!1,selectionManager:c}}class aJe{*[Symbol.iterator](){yield*[...this.rows]}get size(){return[...this.rows].length}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let r=this.keyMap.get(t);return r?r.prevKey:null}getKeyAfter(t){let r=this.keyMap.get(t);return r?r.nextKey:null}getFirstKey(){var t;return(t=[...this.rows][0])===null||t===void 0?void 0:t.key}getLastKey(){var t;let r=[...this.rows];return(t=r[r.length-1])===null||t===void 0?void 0:t.key}getItem(t){return this.keyMap.get(t)}at(t){const r=[...this.getKeys()];return this.getItem(r[t])}getChildren(t){let r=this.keyMap.get(t);return(r==null?void 0:r.childNodes)||[]}constructor(t){this.keyMap=new Map,this.keyMap=new Map,this.columnCount=t==null?void 0:t.columnCount,this.rows=[];let r=s=>{let c=this.keyMap.get(s.key);t.visitNode&&(s=t.visitNode(s)),this.keyMap.set(s.key,s);let p=new Set,o;for(let g of s.childNodes)g.type==="cell"&&g.parentKey==null&&(g.parentKey=s.key),p.add(g.key),o?(o.nextKey=g.key,g.prevKey=o.key):g.prevKey=null,r(g),o=g;if(o&&(o.nextKey=null),c)for(let g of c.childNodes)p.has(g.key)||n(g)},n=s=>{this.keyMap.delete(s.key);for(let c of s.childNodes)this.keyMap.get(c.key)===c&&n(c)},i;t.items.forEach((s,c)=>{let p={level:0,key:"row-"+c,type:"row",value:void 0,hasChildNodes:!0,childNodes:[...s.childNodes],rendered:void 0,textValue:void 0,...s};i?(i.nextKey=p.key,p.prevKey=i.key):p.prevKey=null,this.rows.push(p),r(p),i=p}),i&&(i.nextKey=null)}}const Hxe="row-header-column-"+Math.random().toString(36).slice(2);let sj="row-header-column-"+Math.random().toString(36).slice(2);for(;Hxe===sj;)sj="row-header-column-"+Math.random().toString(36).slice(2);function oJe(e,t){if(t.length===0)return[];let r=[],n=new Map;for(let o of t){let g=o.parentKey,y=[o];for(;g;){let x=e.get(g);if(!x)break;if(n.has(x)){x.colspan++;let{column:E,index:A}=n.get(x);if(A>y.length)break;for(let M=A;M<y.length;M++)E.splice(M,0,null);for(let M=y.length;M<E.length;M++)E[M]&&n.has(E[M])&&(n.get(E[M]).index=M)}else x.colspan=1,y.push(x),n.set(x,{column:y,index:y.length-1});g=x.parentKey}r.push(y),o.index=r.length-1}let i=Math.max(...r.map(o=>o.length)),s=Array(i).fill(0).map(()=>[]),c=0;for(let o of r){let g=i-1;for(let y of o){if(y){let x=s[g],E=x.reduce((A,M)=>A+M.colspan,0);if(E<c){let A={type:"placeholder",key:"placeholder-"+y.key,colspan:c-E,index:E,value:null,rendered:null,level:g,hasChildNodes:!1,childNodes:[],textValue:null};x.length>0&&(x[x.length-1].nextKey=A.key,A.prevKey=x[x.length-1].key),x.push(A)}x.length>0&&(x[x.length-1].nextKey=y.key,y.prevKey=x[x.length-1].key),y.level=g,y.colIndex=c,x.push(y)}g--}c++}let p=0;for(let o of s){let g=o.reduce((y,x)=>y+x.colspan,0);if(g<t.length){let y={type:"placeholder",key:"placeholder-"+o[o.length-1].key,colspan:t.length-g,index:g,value:null,rendered:null,level:p,hasChildNodes:!1,childNodes:[],textValue:null,prevKey:o[o.length-1].key};o.push(y)}p++}return s.map((o,g)=>({type:"headerrow",key:"headerrow-"+g,index:g,value:null,rendered:null,level:0,hasChildNodes:!0,childNodes:o,textValue:null}))}class sJe extends aJe{*[Symbol.iterator](){yield*this.body.childNodes}get size(){return this._size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let r=this.keyMap.get(t);return r?r.prevKey:null}getKeyAfter(t){let r=this.keyMap.get(t);return r?r.nextKey:null}getFirstKey(){var t;return(t=Eve(this.body.childNodes))===null||t===void 0?void 0:t.key}getLastKey(){var t;return(t=VF(this.body.childNodes))===null||t===void 0?void 0:t.key}getItem(t){return this.keyMap.get(t)}at(t){const r=[...this.getKeys()];return this.getItem(r[t])}getTextValue(t){let r=this.getItem(t);if(!r)return"";if(r.textValue)return r.textValue;let n=this.rowHeaderColumnKeys;if(n){let i=[];for(let s of r.childNodes){let c=this.columns[s.index];if(n.has(c.key)&&s.textValue&&i.push(s.textValue),i.length===n.size)break}return i.join(" ")}return""}constructor(t,r,n){let i=new Set,s,c=[];if(n!=null&&n.showSelectionCheckboxes){let x={type:"column",key:Hxe,value:null,textValue:"",level:0,index:n!=null&&n.showDragButtons?1:0,hasChildNodes:!1,rendered:null,childNodes:[],props:{isSelectionCell:!0}};c.unshift(x)}if(n!=null&&n.showDragButtons){let x={type:"column",key:sj,value:null,textValue:"",level:0,index:0,hasChildNodes:!1,rendered:null,childNodes:[],props:{isDragButtonCell:!0}};c.unshift(x)}let p=[],o=new Map,g=x=>{switch(x.type){case"body":s=x;break;case"column":o.set(x.key,x),x.hasChildNodes||(c.push(x),x.props.isRowHeader&&i.add(x.key));break;case"item":p.push(x);return}for(let E of x.childNodes)g(E)};for(let x of t)g(x);let y=oJe(o,c);y.forEach((x,E)=>p.splice(E,0,x)),super({columnCount:c.length,items:p,visitNode:x=>(x.column=c[x.index],x)}),this._size=0,this.columns=c,this.rowHeaderColumnKeys=i,this.body=s,this.headerRows=y,this._size=[...s.childNodes].length,this.rowHeaderColumnKeys.size===0&&this.rowHeaderColumnKeys.add(this.columns.find(x=>{var E,A;return!(!((E=x.props)===null||E===void 0)&&E.isDragButtonCell)&&!(!((A=x.props)===null||A===void 0)&&A.isSelectionCell)}).key)}}const lJe={ascending:"descending",descending:"ascending"};function uJe(e){let[t,r]=se.useState(!1),{selectionMode:n="none",showSelectionCheckboxes:i,showDragButtons:s}=e,c=se.useMemo(()=>({showSelectionCheckboxes:i&&n!=="none",showDragButtons:s,selectionMode:n,columns:[]}),[e.children,i,n,s]),p=Sve(e,se.useCallback(y=>new sJe(y,null,c),[c]),c),{disabledKeys:o,selectionManager:g}=iJe({...e,collection:p,disabledBehavior:e.disabledBehavior||"selection"});return{collection:p,disabledKeys:o,selectionManager:g,showSelectionCheckboxes:e.showSelectionCheckboxes||!1,sortDescriptor:e.sortDescriptor,isKeyboardNavigationDisabled:p.size===0||t,setKeyboardNavigationDisabled:r,sort(y,x){var E;e.onSortChange({column:y,direction:x??(((E=e.sortDescriptor)===null||E===void 0?void 0:E.column)===y?lJe[e.sortDescriptor.direction]:"ascending")})}}}function Gxe(e){return null}Gxe.getCollectionNode=function*(t,r){let{children:n,columns:i}=t;if(r.columns=[],typeof n=="function"){if(!i)throw new Error("props.children was a function but props.columns is missing");for(let s of i)yield{type:"column",value:s,renderer:n}}else{let s=[];Ke.Children.forEach(n,c=>{s.push({type:"column",element:c})}),yield*s}};let cJe=Gxe;function qxe(e){return null}qxe.getCollectionNode=function*(t){let{children:r,items:n}=t;yield{type:"body",hasChildNodes:!0,props:t,*childNodes(){if(typeof r=="function"){if(!n)throw new Error("props.children was a function but props.items is missing");for(let i of n)yield{type:"item",value:i,renderer:r}}else{let i=[];Ke.Children.forEach(r,s=>{i.push({type:"item",element:s})}),yield*i}}}};let dJe=qxe;function Zxe(e){return null}Zxe.getCollectionNode=function*(t,r){let{title:n,children:i,childColumns:s}=t,c=n||i,p=t.textValue||(typeof c=="string"?c:"")||t["aria-label"],o=yield{type:"column",hasChildNodes:!!s||n&&Ke.Children.count(i)>0,rendered:c,textValue:p,props:t,*childNodes(){if(s)for(let y of s)yield{type:"column",value:y};else if(n){let y=[];Ke.Children.forEach(i,x=>{y.push({type:"column",element:x})}),yield*y}},shouldInvalidate(y){return g(y),!1}},g=y=>{for(let x of o)x.hasChildNodes||y.columns.push(x)};g(r)};let fJe=Zxe;function lj(e){return null}lj.getCollectionNode=function*(t,r){let{children:n,textValue:i,UNSTABLE_childItems:s}=t;yield{type:"item",props:t,textValue:i,"aria-label":t["aria-label"],hasChildNodes:!0,*childNodes(){if(r.showDragButtons&&(yield{type:"cell",key:"header-drag",props:{isDragButtonCell:!0}}),r.showSelectionCheckboxes&&r.selectionMode!=="none"&&(yield{type:"cell",key:"header",props:{isSelectionCell:!0}}),typeof n=="function"){for(let c of r.columns)yield{type:"cell",element:n(c.key),key:c.key};if(s)for(let c of s)yield{type:"item",value:c}}else{let c=[],p=[];if(Ke.Children.forEach(n,o=>{if(o.type===lj){if(c.length<r.columns.length)throw new Error("All of a Row's child Cells must be positioned before any child Rows.");p.push({type:"item",element:o})}else c.push({type:"cell",element:o})}),c.length!==r.columns.length)throw new Error(`Cell count must match column count. Found ${c.length} cells and ${r.columns.length} columns.`);yield*c,yield*p}},shouldInvalidate(c){return c.columns.length!==r.columns.length||c.columns.some((p,o)=>p.key!==r.columns[o].key)||c.showSelectionCheckboxes!==r.showSelectionCheckboxes||c.showDragButtons!==r.showDragButtons||c.selectionMode!==r.selectionMode}}};let pJe=lj;function Xxe(e){return null}Xxe.getCollectionNode=function*(t){let{children:r}=t,n=t.textValue||(typeof r=="string"?r:"")||t["aria-label"]||"";yield{type:"cell",props:t,rendered:r,textValue:n,"aria-label":t["aria-label"],hasChildNodes:!1}};let hJe=Xxe;function mJe(e){var t;const r=Eh(),[n,i]=iv(e,Dne.variantKeys),{ref:s,as:c,baseRef:p,children:o,className:g,classNames:y,layoutNode:x,removeWrapper:E=!1,disableAnimation:A=(t=r==null?void 0:r.disableAnimation)!=null?t:!1,selectionMode:M="none",topContentPlacement:R="inside",bottomContentPlacement:k="inside",selectionBehavior:D=M==="none"?null:"toggle",disabledBehavior:$="selection",showSelectionCheckboxes:B=M==="multiple"&&D!=="replace",BaseComponent:V="div",checkboxesProps:U,topContent:Z,bottomContent:ne,onRowAction:j,onCellAction:fe,...be}=n,pe=c||"table",le=typeof pe=="string",G=ts(s),N=ts(p),Y=uJe({...e,children:o,showSelectionCheckboxes:B}),{collection:te}=Y,{gridProps:re}=GYe({...e,layout:x},Y,G),he=M!=="none",we=M==="multiple",ye=se.useMemo(()=>Dne({...i,isSelectable:he,isMultiSelectable:we}),[ev(i),he,we]),ue=pi(y==null?void 0:y.base,g),J=se.useMemo(()=>{var Se;return{state:Y,slots:ye,isSelectable:he,collection:te,classNames:y,color:e==null?void 0:e.color,disableAnimation:A,checkboxesProps:U,isHeaderSticky:(Se=e==null?void 0:e.isHeaderSticky)!=null?Se:!1,selectionMode:M,selectionBehavior:D,disabledBehavior:$,showSelectionCheckboxes:B,onRowAction:j,onCellAction:fe}},[ye,Y,te,he,y,M,D,U,$,A,B,e==null?void 0:e.color,e==null?void 0:e.isHeaderSticky,j,fe]),de=se.useCallback(Se=>({...Se,ref:N,className:ye.base({class:pi(ue,Se==null?void 0:Se.className)})}),[ue,ye]),ke=se.useCallback(Se=>({...Se,ref:N,className:ye.wrapper({class:pi(y==null?void 0:y.wrapper,Se==null?void 0:Se.className)})}),[y==null?void 0:y.wrapper,ye]),Oe=se.useCallback(Se=>({...An(re,_l(be,{enabled:le}),Se),onKeyDownCapture:void 0,ref:G,className:ye.table({class:pi(y==null?void 0:y.table,Se==null?void 0:Se.className)})}),[y==null?void 0:y.table,le,ye,re,be]);return{BaseComponent:V,Component:pe,children:o,state:Y,collection:te,values:J,topContent:Z,bottomContent:ne,removeWrapper:E,topContentPlacement:R,bottomContentPlacement:k,getBaseProps:de,getWrapperProps:ke,getTableProps:Oe}}var Yxe=La((e,t)=>{var r,n,i;const{as:s,className:c,node:p,rowKey:o,slots:g,state:y,classNames:x,...E}=e,A=s||"td",M=typeof A=="string",R=ts(t),{gridCellProps:k}=Uxe({node:p},y,R),D=pi(x==null?void 0:x.td,c,(r=p.props)==null?void 0:r.className),{isFocusVisible:$,focusProps:B}=_d(),V=y.selectionManager.isSelected(o),U=se.useMemo(()=>{const ne=typeof p.rendered;return ne!=="object"&&ne!=="function"?H.jsx("span",{children:p.rendered}):p.rendered},[p.rendered]),Z=((n=p.column)==null?void 0:n.props)||{};return H.jsx(A,{ref:R,"data-focus-visible":zr($),"data-selected":zr(V),...An(k,B,_l(p.props,{enabled:M}),E),className:(i=g.td)==null?void 0:i.call(g,{align:Z.align,class:D}),children:U})});Yxe.displayName="NextUI.TableCell";var gJe=Yxe,Jxe=La((e,t)=>{var r,n;const{as:i,className:s,node:c,rowKey:p,slots:o,state:g,color:y,disableAnimation:x,checkboxesProps:E,selectionMode:A,classNames:M,...R}=e,k=i||"td",D=typeof k=="string",$=ts(t),{gridCellProps:B}=Uxe({node:c},g,$),{isFocusVisible:V,focusProps:U}=_d(),{checkboxProps:Z}=JYe({key:(c==null?void 0:c.parentKey)||c.key},g),ne=pi(M==null?void 0:M.td,s,(r=c.props)==null?void 0:r.className),j=A==="single",{onChange:fe,...be}=Z,pe=g.selectionManager.isSelected(p);return H.jsx(k,{ref:$,"data-focus-visible":zr(V),"data-selected":zr(pe),...An(B,U,_l(c.props,{enabled:D}),R),className:(n=o.td)==null?void 0:n.call(o,{class:ne}),children:j?H.jsx(_9,{children:Z["aria-label"]}):H.jsx(Yve,{color:y,disableAnimation:x,onValueChange:fe,...An(E,be)})})});Jxe.displayName="NextUI.TableCheckboxCell";var yJe=Jxe,Qxe=La((e,t)=>{var r,n;const{as:i,className:s,children:c,node:p,slots:o,state:g,isSelectable:y,classNames:x,...E}=e,A=i||(e!=null&&e.href?"a":"tr"),M=typeof A=="string",R=ts(t),{rowProps:k}=ZYe({node:p},g,R),D=pi(x==null?void 0:x.tr,s,(r=p.props)==null?void 0:r.className),{isFocusVisible:$,focusProps:B}=_d(),V=g.disabledKeys.has(p.key),U=g.selectionManager.isSelected(p.key),{isHovered:Z,hoverProps:ne}=Y4({isDisabled:V}),{isFirst:j,isLast:fe,isMiddle:be,isOdd:pe}=se.useMemo(()=>{const le=p.key===g.collection.getFirstKey(),G=p.key===g.collection.getLastKey(),N=!le&&!G,Y=p!=null&&p.index?(p.index+1)%2===0:!1;return{isFirst:le,isLast:G,isMiddle:N,isOdd:Y}},[p,g.collection]);return H.jsx(A,{ref:R,"data-disabled":zr(V),"data-first":zr(j),"data-focus-visible":zr($),"data-hover":zr(Z),"data-last":zr(fe),"data-middle":zr(be),"data-odd":zr(pe),"data-selected":zr(U),...An(k,B,y?ne:{},_l(p.props,{enabled:M}),E),className:(n=o.tr)==null?void 0:n.call(o,{class:D}),children:c})});Qxe.displayName="NextUI.TableRow";var vJe=Qxe,e4e=La((e,t)=>{var r;const{as:n,className:i,slots:s,state:c,collection:p,isSelectable:o,color:g,disableAnimation:y,checkboxesProps:x,selectionMode:E,classNames:A,...M}=e,R=n||"tbody",k=typeof R=="string",D=ts(t),{rowGroupProps:$}=Wxe(),B=pi(A==null?void 0:A.tbody,i),V=p==null?void 0:p.body.props,U=(V==null?void 0:V.isLoading)||(V==null?void 0:V.loadingState)==="loading"||(V==null?void 0:V.loadingState)==="loadingMore",Z=se.useMemo(()=>[...p.body.childNodes].map(fe=>H.jsx(vJe,{classNames:A,isSelectable:o,node:fe,slots:s,state:c,children:[...fe.childNodes].map(be=>be.props.isSelectionCell?H.jsx(yJe,{checkboxesProps:x,classNames:A,color:g,disableAnimation:y,node:be,rowKey:fe.key,selectionMode:E,slots:s,state:c},be.key):H.jsx(gJe,{classNames:A,node:be,rowKey:fe.key,slots:s,state:c},be.key))},fe.key)),[p.body.childNodes,A,o,s,c]);let ne,j;return p.size===0&&V.emptyContent&&(ne=H.jsx("tr",{role:"row",children:H.jsx("td",{className:s==null?void 0:s.emptyWrapper({class:A==null?void 0:A.emptyWrapper}),colSpan:p.columnCount,role:"gridcell",children:!U&&V.emptyContent})})),U&&V.loadingContent&&(j=H.jsxs("tr",{role:"row",children:[H.jsx("td",{className:s==null?void 0:s.loadingWrapper({class:A==null?void 0:A.loadingWrapper}),colSpan:p.columnCount,role:"gridcell",children:V.loadingContent}),!ne&&p.size===0?H.jsx("td",{className:s==null?void 0:s.emptyWrapper({class:A==null?void 0:A.emptyWrapper})}):null]})),H.jsxs(R,{ref:D,...An($,_l(V,{enabled:k}),M),className:(r=s.tbody)==null?void 0:r.call(s,{class:B}),"data-empty":zr(p.size===0),"data-loading":zr(U),children:[Z,j,ne]})});e4e.displayName="NextUI.TableBody";var _Je=e4e,t4e=La((e,t)=>{var r,n,i,s,c;const{as:p,className:o,state:g,node:y,slots:x,classNames:E,...A}=e,M=p||"th",R=typeof M=="string",k=ts(t),{columnHeaderProps:D}=Vxe({node:y},g,k),$=pi(E==null?void 0:E.th,o,(r=y.props)==null?void 0:r.className),{isFocusVisible:B,focusProps:V}=_d(),{isHovered:U,hoverProps:Z}=Y4({}),{hideHeader:ne,align:j,...fe}=y.props,be=fe.allowsSorting;return H.jsxs(M,{ref:k,colSpan:y.colspan,"data-focus-visible":zr(B),"data-hover":zr(U),"data-sortable":zr(be),...An(D,V,_l(fe,{enabled:R}),be?Z:{},A),className:(n=x.th)==null?void 0:n.call(x,{align:j,class:$}),children:[ne?H.jsx(_9,{children:y.rendered}):y.rendered,be&&H.jsx(HGe,{"aria-hidden":"true",className:(i=x.sortIcon)==null?void 0:i.call(x,{class:E==null?void 0:E.sortIcon}),"data-direction":(s=g.sortDescriptor)==null?void 0:s.direction,"data-visible":zr(((c=g.sortDescriptor)==null?void 0:c.column)===y.key),strokeWidth:3})]})});t4e.displayName="NextUI.TableColumnHeader";var bJe=t4e,r4e=La((e,t)=>{var r,n;const{as:i,className:s,children:c,node:p,slots:o,classNames:g,state:y,...x}=e,E=i||"tr",A=typeof E=="string",M=ts(t),{rowProps:R}=XYe({node:p},y),k=pi(g==null?void 0:g.tr,s,(r=p.props)==null?void 0:r.className);return H.jsx(E,{ref:M,...An(R,_l(p.props,{enabled:A}),x),className:(n=o.tr)==null?void 0:n.call(o,{class:k}),children:c})});r4e.displayName="NextUI.TableHeaderRow";var xJe=r4e,n4e=La((e,t)=>{var r;const{as:n,className:i,children:s,slots:c,classNames:p,...o}=e,g=n||"thead",y=ts(t),{rowGroupProps:x}=Wxe(),E=pi(p==null?void 0:p.thead,i);return H.jsx(g,{ref:y,className:(r=c.thead)==null?void 0:r.call(c,{class:E}),...An(x,o),children:s})});n4e.displayName="NextUI.TableRowGroup";var wJe=n4e,SJe={px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},wie=e=>{var t;return(t=SJe[e])!=null?t:e};function EJe(e){const[t,r]=iv(e,kne.variantKeys),{as:n,className:i,x:s=1,y:c=1,...p}=t,o=n||"span",g=se.useMemo(()=>kne({...r,className:i}),[ev(r),i]),y=wie(s),x=wie(c);return{Component:o,getSpacerProps:(A={})=>({...A,...p,"aria-hidden":zr(!0),className:pi(g,A.className),style:{...A.style,...p.style,marginLeft:y,marginTop:x}})}}var i4e=La((e,t)=>{const{Component:r,getSpacerProps:n}=EJe({...e});return H.jsx(r,{ref:t,...n()})});i4e.displayName="NextUI.Spacer";var AJe=i4e,a4e=La((e,t)=>{const{BaseComponent:r,Component:n,collection:i,values:s,topContent:c,topContentPlacement:p,bottomContentPlacement:o,bottomContent:g,removeWrapper:y,getBaseProps:x,getWrapperProps:E,getTableProps:A}=mJe({...e,ref:t}),M=se.useCallback(({children:R})=>y?R:H.jsx(r,{...E(),children:R}),[y,E]);return H.jsxs("div",{...x(),children:[p==="outside"&&c,H.jsx(M,{children:H.jsxs(H.Fragment,{children:[p==="inside"&&c,H.jsxs(n,{...A(),children:[H.jsxs(wJe,{classNames:s.classNames,slots:s.slots,children:[i.headerRows.map(R=>H.jsx(xJe,{classNames:s.classNames,node:R,slots:s.slots,state:s.state,children:[...R.childNodes].map(k=>{var D;return(D=k==null?void 0:k.props)!=null&&D.isSelectionCell?H.jsx(eJe,{checkboxesProps:s.checkboxesProps,classNames:s.classNames,color:s.color,disableAnimation:s.disableAnimation,node:k,selectionMode:s.selectionMode,slots:s.slots,state:s.state},k==null?void 0:k.key):H.jsx(bJe,{classNames:s.classNames,node:k,slots:s.slots,state:s.state},k==null?void 0:k.key)})},R==null?void 0:R.key)),H.jsx(AJe,{as:"tr",tabIndex:-1,y:1})]}),H.jsx(_Je,{checkboxesProps:s.checkboxesProps,classNames:s.classNames,collection:s.collection,color:s.color,disableAnimation:s.disableAnimation,isSelectable:s.isSelectable,selectionMode:s.selectionMode,slots:s.slots,state:s.state})]}),o==="inside"&&g]})}),o==="outside"&&g]})});a4e.displayName="NextUI.Table";var E9=a4e,TJe=pJe,A9=TJe,PJe=dJe,T9=PJe,CJe=hJe,P9=CJe,IJe=fJe,C9=IJe,MJe=cJe,I9=MJe;const M9=e=>H.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...e,children:[H.jsx("path",{d:"M11.5 21C16.7467 21 21 16.7467 21 11.5C21 6.25329 16.7467 2 11.5 2C6.25329 2 2 6.25329 2 11.5C2 16.7467 6.25329 21 11.5 21Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),H.jsx("path",{d:"M22 22L20 20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}),Kl=({strokeWidth:e=1.5,...t})=>H.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...t,children:H.jsx("path",{d:"m19.92 8.95-6.52 6.52c-.77.77-2.03.77-2.8 0L4.08 8.95",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:e})}),kJe=[{uid:"residential",name:"Residential"},{uid:"commercial",name:"Commercial"},{uid:"industrial",name:"Industrial"}],OJe=[{uid:"india",name:"India"},{uid:"france",name:"France"},{uid:"russia",name:"Russia"},{uid:"usa",name:"USA"}],DJe=[{uid:"0-100",name:"$0 - $100"},{uid:"101-500",name:"$101 - $500"},{uid:"501-1000",name:"$501 - $1000"},{uid:"1001+",name:"$1001+"}],RJe=[{uid:"propertyName",name:"Property Name"},{uid:"location",name:"Location"},{uid:"propertyType",name:"Property Type"},{uid:"ticketPrice",name:"Ticket Price"},{uid:"currentPrice",name:"Current Price"},{uid:"totalShares",name:"Total Shares"},{uid:"actions",name:"Actions"}],$Je=[{id:1,propertyName:"Riverside Apartments",location:"Bengaluru, India",country:"India",propertyType:"Residential",ticketPrice:"$25",currentPrice:"Not Trading",totalShares:"4533 / 6800"},{id:2,propertyName:"Central Mall",location:"Paris, France",country:"France",propertyType:"Commercial",ticketPrice:"$345",currentPrice:"Not Trading",totalShares:"90 / 980"},{id:3,propertyName:"Dzokevic Warehouse",location:"St.Petersburg, Russia",country:"Russia",propertyType:"Industrial",ticketPrice:"$85",currentPrice:"$85.5 / share",totalShares:"90 / 980"},{id:4,propertyName:"Sunset Condos",location:"Mumbai, India",country:"India",propertyType:"Residential",ticketPrice:"$50",currentPrice:"Not Trading",totalShares:"2000 / 3000"},{id:5,propertyName:"Tech Park",location:"San Francisco, USA",country:"USA",propertyType:"Commercial",ticketPrice:"$1200",currentPrice:"$1250 / share",totalShares:"50 / 100"}];function LJe(){const[e,t]=Ke.useState(""),[r,n]=Ke.useState(new Set(["all"])),[i,s]=Ke.useState(new Set(["all"])),[c,p]=Ke.useState(new Set(["all"])),[o,g]=Ke.useState({column:"propertyName",direction:"ascending"}),y=Ke.useMemo(()=>{let A=[...$Je];return e&&(A=A.filter(M=>M.propertyName.toLowerCase().includes(e.toLowerCase()))),r.has("all")||(A=A.filter(M=>r.has(M.propertyType.toLowerCase()))),i.has("all")||(A=A.filter(M=>i.has(M.country.toLowerCase()))),c.has("all")||(A=A.filter(M=>{const R=parseFloat(M.ticketPrice.replace("$",""));return Array.from(c).some(k=>{const[D,$]=k.split("-").map(Number);return R>=D&&($?R<=$:!0)})})),A},[e,r,i,c]),x=Ke.useMemo(()=>[...y].sort((A,M)=>{const R=A[o.column],k=M[o.column];let D;switch(o.column){case"propertyName":case"propertyType":D=R.localeCompare(k);break;case"location":const[$,B]=A.location.split(", "),[V,U]=M.location.split(", ");D=B.localeCompare(U)||$.localeCompare(V);break;case"ticketPrice":case"currentPrice":const Z=R.includes("Not Trading"),ne=k.includes("Not Trading");if(Z&&ne)D=0;else if(Z)D=1;else if(ne)D=-1;else{const be=parseFloat(R.replace(/[^0-9.-]+/g,"")),pe=parseFloat(k.replace(/[^0-9.-]+/g,""));D=be-pe}break;case"totalShares":const j=parseInt(R.split(" / ")[0]),fe=parseInt(k.split(" / ")[0]);D=j-fe;break;default:D=0}return o.direction==="descending"?-D:D}),[o,y]),E=Ke.useCallback((A,M)=>{const R=A[M];switch(M){case"actions":return H.jsx("button",{className:"px-4 py-2 font-bold text-white bg-black border-2 border-black rounded-full hover:bg-white hover:text-black",children:"View"});default:return R}},[]);return H.jsxs("div",{className:"w-full max-w-full px-4 mx-auto",children:[H.jsxs("div",{className:"flex items-center justify-between mb-6",children:[H.jsxs("div",{className:"flex flex-col items-start",children:[H.jsx("h2",{className:"text-2xl font-normal",children:"Explore Properties"}),H.jsx("h1",{className:"text-5xl font-bold",children:"Your Next Investment"})]}),H.jsxs("div",{className:"text-right",children:[H.jsx("p",{className:"text-2xl",children:"Total Asset Value"}),H.jsx("p",{className:"text-5xl font-bold",children:"₹ 8,56,52,600"})]})]}),H.jsxs("div",{className:"flex items-center justify-between gap-4 mt-8 mb-6",children:[H.jsxs("div",{className:"flex flex-row gap-x-4",children:[H.jsxs(Wl,{children:[H.jsx(Ul,{children:H.jsx(yl,{endContent:H.jsx(Kl,{}),variant:"flat",className:"h-12 text-md",children:"Property Type"})}),H.jsxs(Vl,{disallowEmptySelection:!0,selectedKeys:r,selectionMode:"multiple",onSelectionChange:n,closeOnSelect:!1,children:[H.jsx(ta,{children:"All Types"},"all"),kJe.map(A=>H.jsx(ta,{children:A.name},A.uid))]})]}),H.jsxs(Wl,{children:[H.jsx(Ul,{children:H.jsx(yl,{endContent:H.jsx(Kl,{}),variant:"flat",className:"h-12 text-md",children:"Location"})}),H.jsxs(Vl,{disallowEmptySelection:!0,selectedKeys:i,selectionMode:"multiple",onSelectionChange:s,closeOnSelect:!1,children:[H.jsx(ta,{children:"All Locations"},"all"),OJe.map(A=>H.jsx(ta,{children:A.name},A.uid))]})]}),H.jsxs(Wl,{children:[H.jsx(Ul,{children:H.jsx(yl,{endContent:H.jsx(Kl,{}),variant:"flat",className:"h-12 text-md",children:"Price"})}),H.jsxs(Vl,{disallowEmptySelection:!0,selectedKeys:c,selectionMode:"multiple",onSelectionChange:p,closeOnSelect:!1,children:[H.jsx(ta,{children:"All Prices"},"all"),DJe.map(A=>H.jsx(ta,{children:A.name},A.uid))]})]})]}),H.jsx(x9,{className:"w-full max-w-lg text-xl",placeholder:"Search for a property by name, location, etc...",startContent:H.jsx(M9,{}),value:e,onValueChange:t,size:"lg"})]}),H.jsxs(E9,{"aria-label":"Property investment table",sortDescriptor:o,onSortChange:g,children:[H.jsx(I9,{columns:RJe,children:A=>H.jsx(C9,{allowsSorting:!0,align:A.uid==="actions"?"center":"start",className:"text-black text-md",children:A.name},A.uid)}),H.jsx(T9,{items:x,children:A=>H.jsx(A9,{children:M=>H.jsx(P9,{className:"text-md",children:E(A,M)})},A.id)})]})]})}const BJe=[{uid:"residential",name:"Residential"},{uid:"commercial",name:"Commercial"},{uid:"industrial",name:"Industrial"}],zJe=[{uid:"india",name:"India"},{uid:"france",name:"France"},{uid:"russia",name:"Russia"},{uid:"usa",name:"USA"}],NJe=[{uid:"0-100",name:"$0 - $100"},{uid:"101-500",name:"$101 - $500"},{uid:"501-1000",name:"$501 - $1000"},{uid:"1001+",name:"$1001+"}],FJe=[{uid:"propertyName",name:"Property Name"},{uid:"location",name:"Location"},{uid:"propertyType",name:"Property Type"},{uid:"ticketPrice",name:"Ticket Price"},{uid:"currentPrice",name:"Current Price"},{uid:"totalShares",name:"Total Shares"},{uid:"actions",name:"Actions"}],jJe=[{id:1,propertyName:"Riverside Apartments",location:"Bengaluru, India",country:"India",propertyType:"Residential",ticketPrice:"$25",currentPrice:"Not Trading",totalShares:"4533 / 6800"},{id:2,propertyName:"Central Mall",location:"Paris, France",country:"France",propertyType:"Commercial",ticketPrice:"$345",currentPrice:"Not Trading",totalShares:"90 / 980"},{id:3,propertyName:"Dzokevic Warehouse",location:"St.Petersburg, Russia",country:"Russia",propertyType:"Industrial",ticketPrice:"$85",currentPrice:"$85.5 / share",totalShares:"90 / 980"},{id:4,propertyName:"Sunset Condos",location:"Mumbai, India",country:"India",propertyType:"Residential",ticketPrice:"$50",currentPrice:"Not Trading",totalShares:"2000 / 3000"},{id:5,propertyName:"Tech Park",location:"San Francisco, USA",country:"USA",propertyType:"Commercial",ticketPrice:"$1200",currentPrice:"$1250 / share",totalShares:"50 / 100"}];function VJe(){const[e,t]=Ke.useState(""),[r,n]=Ke.useState(new Set(["all"])),[i,s]=Ke.useState(new Set(["all"])),[c,p]=Ke.useState(new Set(["all"])),[o,g]=Ke.useState({column:"propertyName",direction:"ascending"}),y=Ke.useMemo(()=>{let A=[...jJe];return e&&(A=A.filter(M=>M.propertyName.toLowerCase().includes(e.toLowerCase()))),r.has("all")||(A=A.filter(M=>r.has(M.propertyType.toLowerCase()))),i.has("all")||(A=A.filter(M=>i.has(M.country.toLowerCase()))),c.has("all")||(A=A.filter(M=>{const R=parseFloat(M.ticketPrice.replace("$",""));return Array.from(c).some(k=>{const[D,$]=k.split("-").map(Number);return R>=D&&($?R<=$:!0)})})),A=A.filter(M=>M.currentPrice==="Not Trading"),A},[e,r,i,c]),x=Ke.useMemo(()=>[...y].sort((A,M)=>{const R=A[o.column],k=M[o.column];let D;switch(o.column){case"propertyName":case"propertyType":D=R.localeCompare(k);break;case"location":const[$,B]=A.location.split(", "),[V,U]=M.location.split(", ");D=B.localeCompare(U)||$.localeCompare(V);break;case"ticketPrice":case"currentPrice":const Z=R.includes("Not Trading"),ne=k.includes("Not Trading");if(Z&&ne)D=0;else if(Z)D=1;else if(ne)D=-1;else{const be=parseFloat(R.replace(/[^0-9.-]+/g,"")),pe=parseFloat(k.replace(/[^0-9.-]+/g,""));D=be-pe}break;case"totalShares":const j=parseInt(R.split(" / ")[0]),fe=parseInt(k.split(" / ")[0]);D=j-fe;break;default:D=0}return o.direction==="descending"?-D:D}),[o,y]),E=Ke.useCallback((A,M)=>{const R=A[M];switch(M){case"actions":return H.jsx("button",{className:"px-4 py-2 font-bold text-white bg-black border-2 border-black rounded-full hover:bg-white hover:text-black",children:"View"});default:return R}},[]);return H.jsxs("div",{className:"w-full max-w-full px-4 mx-auto",children:[H.jsxs("div",{className:"flex items-center justify-between mb-6",children:[H.jsxs("div",{className:"flex flex-col items-start",children:[H.jsx("h2",{className:"text-2xl font-normal",children:"Explore Properties"}),H.jsx("h1",{className:"text-5xl font-bold",children:"Invest Early and Secure Your Future"})]}),H.jsxs("div",{className:"text-right",children:[H.jsx("p",{className:"text-2xl",children:"Total Asset Value"}),H.jsx("p",{className:"text-5xl font-bold",children:"₹ 8,56,52,600"})]})]}),H.jsxs("div",{className:"flex items-center justify-between gap-4 mt-8 mb-6",children:[H.jsxs("div",{className:"flex flex-row gap-x-4",children:[H.jsxs(Wl,{children:[H.jsx(Ul,{children:H.jsx(yl,{endContent:H.jsx(Kl,{}),variant:"flat",className:"h-12 text-md",children:"Property Type"})}),H.jsxs(Vl,{disallowEmptySelection:!0,selectedKeys:r,selectionMode:"multiple",onSelectionChange:n,closeOnSelect:!1,children:[H.jsx(ta,{children:"All Types"},"all"),BJe.map(A=>H.jsx(ta,{children:A.name},A.uid))]})]}),H.jsxs(Wl,{children:[H.jsx(Ul,{children:H.jsx(yl,{endContent:H.jsx(Kl,{}),variant:"flat",className:"h-12 text-md",children:"Location"})}),H.jsxs(Vl,{disallowEmptySelection:!0,selectedKeys:i,selectionMode:"multiple",onSelectionChange:s,closeOnSelect:!1,children:[H.jsx(ta,{children:"All Locations"},"all"),zJe.map(A=>H.jsx(ta,{children:A.name},A.uid))]})]}),H.jsxs(Wl,{children:[H.jsx(Ul,{children:H.jsx(yl,{endContent:H.jsx(Kl,{}),variant:"flat",className:"h-12 text-md",children:"Price"})}),H.jsxs(Vl,{disallowEmptySelection:!0,selectedKeys:c,selectionMode:"multiple",onSelectionChange:p,closeOnSelect:!1,children:[H.jsx(ta,{children:"All Prices"},"all"),NJe.map(A=>H.jsx(ta,{children:A.name},A.uid))]})]})]}),H.jsx(x9,{className:"w-full max-w-lg text-xl",placeholder:"Search for a property by name, location, etc...",startContent:H.jsx(M9,{}),value:e,onValueChange:t,size:"lg"})]}),H.jsxs(E9,{"aria-label":"Property investment table",sortDescriptor:o,onSortChange:g,children:[H.jsx(I9,{columns:FJe,children:A=>H.jsx(C9,{allowsSorting:!0,align:A.uid==="actions"?"center":"start",className:"text-black text-md",children:A.name},A.uid)}),H.jsx(T9,{items:x,children:A=>H.jsx(A9,{children:M=>H.jsx(P9,{className:"text-md",children:E(A,M)})},A.id)})]})]})}const UJe=[{uid:"residential",name:"Residential"},{uid:"commercial",name:"Commercial"},{uid:"industrial",name:"Industrial"}],WJe=[{uid:"india",name:"India"},{uid:"france",name:"France"},{uid:"russia",name:"Russia"},{uid:"usa",name:"USA"}],KJe=[{uid:"0-100",name:"$0 - $100"},{uid:"101-500",name:"$101 - $500"},{uid:"501-1000",name:"$501 - $1000"},{uid:"1001+",name:"$1001+"}],HJe=[{uid:"propertyName",name:"Property Name"},{uid:"location",name:"Location"},{uid:"propertyType",name:"Property Type"},{uid:"ticketPrice",name:"Ticket Price"},{uid:"currentPrice",name:"Current Price"},{uid:"totalShares",name:"Total Shares"},{uid:"actions",name:"Actions"}],GJe=[{id:1,propertyName:"Riverside Apartments",location:"Bengaluru, India",country:"India",propertyType:"Residential",ticketPrice:"$25",currentPrice:"Not Trading",totalShares:"4533 / 6800"},{id:2,propertyName:"Central Mall",location:"Paris, France",country:"France",propertyType:"Commercial",ticketPrice:"$345",currentPrice:"Not Trading",totalShares:"90 / 980"},{id:3,propertyName:"Dzokevic Warehouse",location:"St.Petersburg, Russia",country:"Russia",propertyType:"Industrial",ticketPrice:"$85",currentPrice:"$85.5 / share",totalShares:"90 / 980"},{id:4,propertyName:"Sunset Condos",location:"Mumbai, India",country:"India",propertyType:"Residential",ticketPrice:"$50",currentPrice:"Not Trading",totalShares:"2000 / 3000"},{id:5,propertyName:"Tech Park",location:"San Francisco, USA",country:"USA",propertyType:"Commercial",ticketPrice:"$1200",currentPrice:"$1250 / share",totalShares:"50 / 100"}];function qJe(){const[e,t]=Ke.useState(""),[r,n]=Ke.useState(new Set(["all"])),[i,s]=Ke.useState(new Set(["all"])),[c,p]=Ke.useState(new Set(["all"])),[o,g]=Ke.useState({column:"propertyName",direction:"ascending"}),y=Ke.useMemo(()=>{let A=[...GJe];return e&&(A=A.filter(M=>M.propertyName.toLowerCase().includes(e.toLowerCase()))),r.has("all")||(A=A.filter(M=>r.has(M.propertyType.toLowerCase()))),i.has("all")||(A=A.filter(M=>i.has(M.country.toLowerCase()))),c.has("all")||(A=A.filter(M=>{const R=parseFloat(M.ticketPrice.replace("$",""));return Array.from(c).some(k=>{const[D,$]=k.split("-").map(Number);return R>=D&&($?R<=$:!0)})})),A=A.filter(M=>M.currentPrice!=="Not Trading"),A},[e,r,i,c]),x=Ke.useMemo(()=>[...y].sort((A,M)=>{const R=A[o.column],k=M[o.column];let D;switch(o.column){case"propertyName":case"propertyType":D=R.localeCompare(k);break;case"location":const[$,B]=A.location.split(", "),[V,U]=M.location.split(", ");D=B.localeCompare(U)||$.localeCompare(V);break;case"ticketPrice":case"currentPrice":const Z=R.includes("Not Trading"),ne=k.includes("Not Trading");if(Z&&ne)D=0;else if(Z)D=1;else if(ne)D=-1;else{const be=parseFloat(R.replace(/[^0-9.-]+/g,"")),pe=parseFloat(k.replace(/[^0-9.-]+/g,""));D=be-pe}break;case"totalShares":const j=parseInt(R.split(" / ")[0]),fe=parseInt(k.split(" / ")[0]);D=j-fe;break;default:D=0}return o.direction==="descending"?-D:D}),[o,y]),E=Ke.useCallback((A,M)=>{const R=A[M];switch(M){case"actions":return H.jsx("button",{className:"px-4 py-2 font-bold text-white bg-black border-2 border-black rounded-full hover:bg-white hover:text-black",children:"View"});default:return R}},[]);return H.jsxs("div",{className:"w-full max-w-full px-4 mx-auto",children:[H.jsxs("div",{className:"flex items-center justify-between mb-6",children:[H.jsxs("div",{className:"flex flex-col items-start",children:[H.jsx("h2",{className:"text-2xl font-normal",children:"Explore Properties"}),H.jsx("h1",{className:"text-5xl font-bold",children:"Find and Trade Profitable Shares"})]}),H.jsxs("div",{className:"text-right",children:[H.jsx("p",{className:"text-2xl",children:"Total Asset Value"}),H.jsx("p",{className:"text-5xl font-bold",children:"₹ 8,56,52,600"})]})]}),H.jsxs("div",{className:"flex items-center justify-between gap-4 mt-8 mb-6",children:[H.jsxs("div",{className:"flex flex-row gap-x-4",children:[H.jsxs(Wl,{children:[H.jsx(Ul,{children:H.jsx(yl,{endContent:H.jsx(Kl,{}),variant:"flat",className:"h-12 text-md",children:"Property Type"})}),H.jsxs(Vl,{disallowEmptySelection:!0,selectedKeys:r,selectionMode:"multiple",onSelectionChange:n,closeOnSelect:!1,children:[H.jsx(ta,{children:"All Types"},"all"),UJe.map(A=>H.jsx(ta,{children:A.name},A.uid))]})]}),H.jsxs(Wl,{children:[H.jsx(Ul,{children:H.jsx(yl,{endContent:H.jsx(Kl,{}),variant:"flat",className:"h-12 text-md",children:"Location"})}),H.jsxs(Vl,{disallowEmptySelection:!0,selectedKeys:i,selectionMode:"multiple",onSelectionChange:s,closeOnSelect:!1,children:[H.jsx(ta,{children:"All Locations"},"all"),WJe.map(A=>H.jsx(ta,{children:A.name},A.uid))]})]}),H.jsxs(Wl,{children:[H.jsx(Ul,{children:H.jsx(yl,{endContent:H.jsx(Kl,{}),variant:"flat",className:"h-12 text-md",children:"Price"})}),H.jsxs(Vl,{disallowEmptySelection:!0,selectedKeys:c,selectionMode:"multiple",onSelectionChange:p,closeOnSelect:!1,children:[H.jsx(ta,{children:"All Prices"},"all"),KJe.map(A=>H.jsx(ta,{children:A.name},A.uid))]})]})]}),H.jsx(x9,{className:"w-full max-w-lg text-xl",placeholder:"Search for a property by name, location, etc...",startContent:H.jsx(M9,{}),value:e,onValueChange:t,size:"lg"})]}),H.jsxs(E9,{"aria-label":"Property investment table",sortDescriptor:o,onSortChange:g,children:[H.jsx(I9,{columns:HJe,children:A=>H.jsx(C9,{allowsSorting:!0,align:A.uid==="actions"?"center":"start",className:"text-black text-md",children:A.name},A.uid)}),H.jsx(T9,{items:x,children:A=>H.jsx(A9,{children:M=>H.jsx(P9,{className:"text-md",children:E(A,M)})},A.id)})]})]})}var o4e={exports:{}};(function(e,t){var r={};(function(n,i){e.exports=i()})(Er,function(){var n,i,s;function c(o,g){if(!n)n=g;else if(!i)i=g;else{var y="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+n+")(sharedChunk); ("+i+")(sharedChunk); self.onerror = null;",x={};n(x),s=g(x),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(s.workerUrl=window.URL.createObjectURL(new Blob([y],{type:"text/javascript"})))}}c(["exports"],function(o){var g="3.6.0";let y;const x={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(y==null){const l=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{y=r.API_URL_REGEX!=null?new RegExp(r.API_URL_REGEX):l}catch{y=l}}return y},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!x.API_URL)return null;try{const l=new URL(x.API_URL);return l.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":l.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",RASTERARRAYS_URL_PREFIX:"rasterarrays/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:"mapbox://styles/mapbox/standard",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm",MESHOPT_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_base_v0.20.wasm",MESHOPT_SIMD_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_simd_v0.20.wasm",GLYPHS_URL:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",TILES3D_URL_PREFIX:"3dtiles/v1"};function E(l){return x.API_URL_REGEX.test(l)}function A(l){return l.indexOf("mapbox:")===0}function M(l){return x.API_CDN_URL_REGEX.test(l)}function R(l){return x.API_SPRITE_REGEX.test(l)}function k(l){return x.API_STYLE_REGEX.test(l)&&!R(l)}const D={create:"create",load:"load",fullLoad:"fullLoad"},$={mark(l){performance.mark(l)},measure(l,a,u){performance.measure(l,a,u)}};function B(l){const a=l.name.split("?")[0];return M(a)&&a.includes("mapbox-gl.js")?"javascript":M(a)&&a.includes("mapbox-gl.css")?"css":function(u){return x.API_FONTS_REGEX.test(u)}(a)?"fontRange":R(a)?"sprite":k(a)?"style":function(u){return x.API_TILEJSON_REGEX.test(u)}(a)?"tilejson":"other"}function V(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var U={},Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.setMatrixArrayType=function(l){Z.ARRAY_TYPE=j=l},Z.toRadian=function(l){return l*be},Z.equals=function(l,a){return Math.abs(l-a)<=ne*Math.max(1,Math.abs(l),Math.abs(a))},Z.RANDOM=Z.ARRAY_TYPE=Z.EPSILON=void 0;var ne=1e-6;Z.EPSILON=ne;var j=typeof Float32Array<"u"?Float32Array:Array;Z.ARRAY_TYPE=j;var fe=Math.random;Z.RANDOM=fe;var be=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var l=0,a=arguments.length;a--;)l+=arguments[a]*arguments[a];return Math.sqrt(l)});var pe={};function le(l){return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},le(l)}Object.defineProperty(pe,"__esModule",{value:!0}),pe.create=function(){var l=new G.ARRAY_TYPE(4);return G.ARRAY_TYPE!=Float32Array&&(l[1]=0,l[2]=0),l[0]=1,l[3]=1,l},pe.clone=function(l){var a=new G.ARRAY_TYPE(4);return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a},pe.copy=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l},pe.identity=function(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l},pe.fromValues=function(l,a,u,f){var h=new G.ARRAY_TYPE(4);return h[0]=l,h[1]=a,h[2]=u,h[3]=f,h},pe.set=function(l,a,u,f,h){return l[0]=a,l[1]=u,l[2]=f,l[3]=h,l},pe.transpose=function(l,a){if(l===a){var u=a[1];l[1]=a[2],l[2]=u}else l[0]=a[0],l[1]=a[2],l[2]=a[1],l[3]=a[3];return l},pe.invert=function(l,a){var u=a[0],f=a[1],h=a[2],v=a[3],_=u*v-h*f;return _?(l[0]=v*(_=1/_),l[1]=-f*_,l[2]=-h*_,l[3]=u*_,l):null},pe.adjoint=function(l,a){var u=a[0];return l[0]=a[3],l[1]=-a[1],l[2]=-a[2],l[3]=u,l},pe.determinant=function(l){return l[0]*l[3]-l[2]*l[1]},pe.multiply=Y,pe.rotate=function(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3],S=Math.sin(u),P=Math.cos(u);return l[0]=f*P+v*S,l[1]=h*P+_*S,l[2]=f*-S+v*P,l[3]=h*-S+_*P,l},pe.scale=function(l,a,u){var f=a[1],h=a[2],v=a[3],_=u[0],S=u[1];return l[0]=a[0]*_,l[1]=f*_,l[2]=h*S,l[3]=v*S,l},pe.fromRotation=function(l,a){var u=Math.sin(a),f=Math.cos(a);return l[0]=f,l[1]=u,l[2]=-u,l[3]=f,l},pe.fromScaling=function(l,a){return l[0]=a[0],l[1]=0,l[2]=0,l[3]=a[1],l},pe.str=function(l){return"mat2("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+")"},pe.frob=function(l){return Math.hypot(l[0],l[1],l[2],l[3])},pe.LDU=function(l,a,u,f){return l[2]=f[2]/f[0],u[0]=f[0],u[1]=f[1],u[3]=f[3]-l[2]*u[1],[l,a,u]},pe.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l[2]=a[2]+u[2],l[3]=a[3]+u[3],l},pe.subtract=te,pe.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]&&l[2]===a[2]&&l[3]===a[3]},pe.equals=function(l,a){var u=l[0],f=l[1],h=l[2],v=l[3],_=a[0],S=a[1],P=a[2],I=a[3];return Math.abs(u-_)<=G.EPSILON*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(f-S)<=G.EPSILON*Math.max(1,Math.abs(f),Math.abs(S))&&Math.abs(h-P)<=G.EPSILON*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(v-I)<=G.EPSILON*Math.max(1,Math.abs(v),Math.abs(I))},pe.multiplyScalar=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l[2]=a[2]*u,l[3]=a[3]*u,l},pe.multiplyScalarAndAdd=function(l,a,u,f){return l[0]=a[0]+u[0]*f,l[1]=a[1]+u[1]*f,l[2]=a[2]+u[2]*f,l[3]=a[3]+u[3]*f,l},pe.sub=pe.mul=void 0;var G=function(l,a){if(l&&l.__esModule)return l;if(l===null||le(l)!=="object"&&typeof l!="function")return{default:l};var u=N(void 0);if(u&&u.has(l))return u.get(l);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in l)if(v!=="default"&&Object.prototype.hasOwnProperty.call(l,v)){var _=h?Object.getOwnPropertyDescriptor(l,v):null;_&&(_.get||_.set)?Object.defineProperty(f,v,_):f[v]=l[v]}return f.default=l,u&&u.set(l,f),f}(Z);function N(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(N=function(f){return f?u:a})(l)}function Y(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3],S=u[0],P=u[1],I=u[2],L=u[3];return l[0]=f*S+v*P,l[1]=h*S+_*P,l[2]=f*I+v*L,l[3]=h*I+_*L,l}function te(l,a,u){return l[0]=a[0]-u[0],l[1]=a[1]-u[1],l[2]=a[2]-u[2],l[3]=a[3]-u[3],l}pe.mul=Y,pe.sub=te;var re={};function he(l){return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},he(l)}Object.defineProperty(re,"__esModule",{value:!0}),re.create=function(){var l=new we.ARRAY_TYPE(6);return we.ARRAY_TYPE!=Float32Array&&(l[1]=0,l[2]=0,l[4]=0,l[5]=0),l[0]=1,l[3]=1,l},re.clone=function(l){var a=new we.ARRAY_TYPE(6);return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],a},re.copy=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5],l},re.identity=function(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,l},re.fromValues=function(l,a,u,f,h,v){var _=new we.ARRAY_TYPE(6);return _[0]=l,_[1]=a,_[2]=u,_[3]=f,_[4]=h,_[5]=v,_},re.set=function(l,a,u,f,h,v,_){return l[0]=a,l[1]=u,l[2]=f,l[3]=h,l[4]=v,l[5]=_,l},re.invert=function(l,a){var u=a[0],f=a[1],h=a[2],v=a[3],_=a[4],S=a[5],P=u*v-f*h;return P?(l[0]=v*(P=1/P),l[1]=-f*P,l[2]=-h*P,l[3]=u*P,l[4]=(h*S-v*_)*P,l[5]=(f*_-u*S)*P,l):null},re.determinant=function(l){return l[0]*l[3]-l[1]*l[2]},re.multiply=ue,re.rotate=function(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3],S=a[4],P=a[5],I=Math.sin(u),L=Math.cos(u);return l[0]=f*L+v*I,l[1]=h*L+_*I,l[2]=f*-I+v*L,l[3]=h*-I+_*L,l[4]=S,l[5]=P,l},re.scale=function(l,a,u){var f=a[1],h=a[2],v=a[3],_=a[4],S=a[5],P=u[0],I=u[1];return l[0]=a[0]*P,l[1]=f*P,l[2]=h*I,l[3]=v*I,l[4]=_,l[5]=S,l},re.translate=function(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3],S=a[4],P=a[5],I=u[0],L=u[1];return l[0]=f,l[1]=h,l[2]=v,l[3]=_,l[4]=f*I+v*L+S,l[5]=h*I+_*L+P,l},re.fromRotation=function(l,a){var u=Math.sin(a),f=Math.cos(a);return l[0]=f,l[1]=u,l[2]=-u,l[3]=f,l[4]=0,l[5]=0,l},re.fromScaling=function(l,a){return l[0]=a[0],l[1]=0,l[2]=0,l[3]=a[1],l[4]=0,l[5]=0,l},re.fromTranslation=function(l,a){return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=a[0],l[5]=a[1],l},re.str=function(l){return"mat2d("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+", "+l[4]+", "+l[5]+")"},re.frob=function(l){return Math.hypot(l[0],l[1],l[2],l[3],l[4],l[5],1)},re.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l[2]=a[2]+u[2],l[3]=a[3]+u[3],l[4]=a[4]+u[4],l[5]=a[5]+u[5],l},re.subtract=J,re.multiplyScalar=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l[2]=a[2]*u,l[3]=a[3]*u,l[4]=a[4]*u,l[5]=a[5]*u,l},re.multiplyScalarAndAdd=function(l,a,u,f){return l[0]=a[0]+u[0]*f,l[1]=a[1]+u[1]*f,l[2]=a[2]+u[2]*f,l[3]=a[3]+u[3]*f,l[4]=a[4]+u[4]*f,l[5]=a[5]+u[5]*f,l},re.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]&&l[2]===a[2]&&l[3]===a[3]&&l[4]===a[4]&&l[5]===a[5]},re.equals=function(l,a){var u=l[0],f=l[1],h=l[2],v=l[3],_=l[4],S=l[5],P=a[0],I=a[1],L=a[2],F=a[3],W=a[4],X=a[5];return Math.abs(u-P)<=we.EPSILON*Math.max(1,Math.abs(u),Math.abs(P))&&Math.abs(f-I)<=we.EPSILON*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(h-L)<=we.EPSILON*Math.max(1,Math.abs(h),Math.abs(L))&&Math.abs(v-F)<=we.EPSILON*Math.max(1,Math.abs(v),Math.abs(F))&&Math.abs(_-W)<=we.EPSILON*Math.max(1,Math.abs(_),Math.abs(W))&&Math.abs(S-X)<=we.EPSILON*Math.max(1,Math.abs(S),Math.abs(X))},re.sub=re.mul=void 0;var we=function(l,a){if(l&&l.__esModule)return l;if(l===null||he(l)!=="object"&&typeof l!="function")return{default:l};var u=ye(void 0);if(u&&u.has(l))return u.get(l);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in l)if(v!=="default"&&Object.prototype.hasOwnProperty.call(l,v)){var _=h?Object.getOwnPropertyDescriptor(l,v):null;_&&(_.get||_.set)?Object.defineProperty(f,v,_):f[v]=l[v]}return f.default=l,u&&u.set(l,f),f}(Z);function ye(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(ye=function(f){return f?u:a})(l)}function ue(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3],S=a[4],P=a[5],I=u[0],L=u[1],F=u[2],W=u[3],X=u[4],ee=u[5];return l[0]=f*I+v*L,l[1]=h*I+_*L,l[2]=f*F+v*W,l[3]=h*F+_*W,l[4]=f*X+v*ee+S,l[5]=h*X+_*ee+P,l}function J(l,a,u){return l[0]=a[0]-u[0],l[1]=a[1]-u[1],l[2]=a[2]-u[2],l[3]=a[3]-u[3],l[4]=a[4]-u[4],l[5]=a[5]-u[5],l}re.mul=ue,re.sub=J;var de={};function ke(l){return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ke(l)}Object.defineProperty(de,"__esModule",{value:!0}),de.create=function(){var l=new Oe.ARRAY_TYPE(9);return Oe.ARRAY_TYPE!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[5]=0,l[6]=0,l[7]=0),l[0]=1,l[4]=1,l[8]=1,l},de.fromMat4=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[4],l[4]=a[5],l[5]=a[6],l[6]=a[8],l[7]=a[9],l[8]=a[10],l},de.clone=function(l){var a=new Oe.ARRAY_TYPE(9);return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],a[6]=l[6],a[7]=l[7],a[8]=l[8],a},de.copy=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5],l[6]=a[6],l[7]=a[7],l[8]=a[8],l},de.fromValues=function(l,a,u,f,h,v,_,S,P){var I=new Oe.ARRAY_TYPE(9);return I[0]=l,I[1]=a,I[2]=u,I[3]=f,I[4]=h,I[5]=v,I[6]=_,I[7]=S,I[8]=P,I},de.set=function(l,a,u,f,h,v,_,S,P,I){return l[0]=a,l[1]=u,l[2]=f,l[3]=h,l[4]=v,l[5]=_,l[6]=S,l[7]=P,l[8]=I,l},de.identity=function(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=1,l[5]=0,l[6]=0,l[7]=0,l[8]=1,l},de.transpose=function(l,a){if(l===a){var u=a[1],f=a[2],h=a[5];l[1]=a[3],l[2]=a[6],l[3]=u,l[5]=a[7],l[6]=f,l[7]=h}else l[0]=a[0],l[1]=a[3],l[2]=a[6],l[3]=a[1],l[4]=a[4],l[5]=a[7],l[6]=a[2],l[7]=a[5],l[8]=a[8];return l},de.invert=function(l,a){var u=a[0],f=a[1],h=a[2],v=a[3],_=a[4],S=a[5],P=a[6],I=a[7],L=a[8],F=L*_-S*I,W=-L*v+S*P,X=I*v-_*P,ee=u*F+f*W+h*X;return ee?(l[0]=F*(ee=1/ee),l[1]=(-L*f+h*I)*ee,l[2]=(S*f-h*_)*ee,l[3]=W*ee,l[4]=(L*u-h*P)*ee,l[5]=(-S*u+h*v)*ee,l[6]=X*ee,l[7]=(-I*u+f*P)*ee,l[8]=(_*u-f*v)*ee,l):null},de.adjoint=function(l,a){var u=a[0],f=a[1],h=a[2],v=a[3],_=a[4],S=a[5],P=a[6],I=a[7],L=a[8];return l[0]=_*L-S*I,l[1]=h*I-f*L,l[2]=f*S-h*_,l[3]=S*P-v*L,l[4]=u*L-h*P,l[5]=h*v-u*S,l[6]=v*I-_*P,l[7]=f*P-u*I,l[8]=u*_-f*v,l},de.determinant=function(l){var a=l[3],u=l[4],f=l[5],h=l[6],v=l[7],_=l[8];return l[0]*(_*u-f*v)+l[1]*(-_*a+f*h)+l[2]*(v*a-u*h)},de.multiply=We,de.translate=function(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3],S=a[4],P=a[5],I=a[6],L=a[7],F=a[8],W=u[0],X=u[1];return l[0]=f,l[1]=h,l[2]=v,l[3]=_,l[4]=S,l[5]=P,l[6]=W*f+X*_+I,l[7]=W*h+X*S+L,l[8]=W*v+X*P+F,l},de.rotate=function(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3],S=a[4],P=a[5],I=a[6],L=a[7],F=a[8],W=Math.sin(u),X=Math.cos(u);return l[0]=X*f+W*_,l[1]=X*h+W*S,l[2]=X*v+W*P,l[3]=X*_-W*f,l[4]=X*S-W*h,l[5]=X*P-W*v,l[6]=I,l[7]=L,l[8]=F,l},de.scale=function(l,a,u){var f=u[0],h=u[1];return l[0]=f*a[0],l[1]=f*a[1],l[2]=f*a[2],l[3]=h*a[3],l[4]=h*a[4],l[5]=h*a[5],l[6]=a[6],l[7]=a[7],l[8]=a[8],l},de.fromTranslation=function(l,a){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=1,l[5]=0,l[6]=a[0],l[7]=a[1],l[8]=1,l},de.fromRotation=function(l,a){var u=Math.sin(a),f=Math.cos(a);return l[0]=f,l[1]=u,l[2]=0,l[3]=-u,l[4]=f,l[5]=0,l[6]=0,l[7]=0,l[8]=1,l},de.fromScaling=function(l,a){return l[0]=a[0],l[1]=0,l[2]=0,l[3]=0,l[4]=a[1],l[5]=0,l[6]=0,l[7]=0,l[8]=1,l},de.fromMat2d=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=0,l[3]=a[2],l[4]=a[3],l[5]=0,l[6]=a[4],l[7]=a[5],l[8]=1,l},de.fromQuat=function(l,a){var u=a[0],f=a[1],h=a[2],v=a[3],_=u+u,S=f+f,P=h+h,I=u*_,L=f*_,F=f*S,W=h*_,X=h*S,ee=h*P,ae=v*_,oe=v*S,_e=v*P;return l[0]=1-F-ee,l[3]=L-_e,l[6]=W+oe,l[1]=L+_e,l[4]=1-I-ee,l[7]=X-ae,l[2]=W-oe,l[5]=X+ae,l[8]=1-I-F,l},de.normalFromMat4=function(l,a){var u=a[0],f=a[1],h=a[2],v=a[3],_=a[4],S=a[5],P=a[6],I=a[7],L=a[8],F=a[9],W=a[10],X=a[11],ee=a[12],ae=a[13],oe=a[14],_e=a[15],Re=u*S-f*_,De=u*P-h*_,ze=u*I-v*_,qe=f*P-h*S,Ze=f*I-v*S,rt=h*I-v*P,ut=L*ae-F*ee,mt=L*oe-W*ee,St=L*_e-X*ee,yt=F*oe-W*ae,Ot=F*_e-X*ae,Ht=W*_e-X*oe,Dt=Re*Ht-De*Ot+ze*yt+qe*St-Ze*mt+rt*ut;return Dt?(l[0]=(S*Ht-P*Ot+I*yt)*(Dt=1/Dt),l[1]=(P*St-_*Ht-I*mt)*Dt,l[2]=(_*Ot-S*St+I*ut)*Dt,l[3]=(h*Ot-f*Ht-v*yt)*Dt,l[4]=(u*Ht-h*St+v*mt)*Dt,l[5]=(f*St-u*Ot-v*ut)*Dt,l[6]=(ae*rt-oe*Ze+_e*qe)*Dt,l[7]=(oe*ze-ee*rt-_e*De)*Dt,l[8]=(ee*Ze-ae*ze+_e*Re)*Dt,l):null},de.projection=function(l,a,u){return l[0]=2/a,l[1]=0,l[2]=0,l[3]=0,l[4]=-2/u,l[5]=0,l[6]=-1,l[7]=1,l[8]=1,l},de.str=function(l){return"mat3("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+", "+l[4]+", "+l[5]+", "+l[6]+", "+l[7]+", "+l[8]+")"},de.frob=function(l){return Math.hypot(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8])},de.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l[2]=a[2]+u[2],l[3]=a[3]+u[3],l[4]=a[4]+u[4],l[5]=a[5]+u[5],l[6]=a[6]+u[6],l[7]=a[7]+u[7],l[8]=a[8]+u[8],l},de.subtract=Je,de.multiplyScalar=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l[2]=a[2]*u,l[3]=a[3]*u,l[4]=a[4]*u,l[5]=a[5]*u,l[6]=a[6]*u,l[7]=a[7]*u,l[8]=a[8]*u,l},de.multiplyScalarAndAdd=function(l,a,u,f){return l[0]=a[0]+u[0]*f,l[1]=a[1]+u[1]*f,l[2]=a[2]+u[2]*f,l[3]=a[3]+u[3]*f,l[4]=a[4]+u[4]*f,l[5]=a[5]+u[5]*f,l[6]=a[6]+u[6]*f,l[7]=a[7]+u[7]*f,l[8]=a[8]+u[8]*f,l},de.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]&&l[2]===a[2]&&l[3]===a[3]&&l[4]===a[4]&&l[5]===a[5]&&l[6]===a[6]&&l[7]===a[7]&&l[8]===a[8]},de.equals=function(l,a){var u=l[0],f=l[1],h=l[2],v=l[3],_=l[4],S=l[5],P=l[6],I=l[7],L=l[8],F=a[0],W=a[1],X=a[2],ee=a[3],ae=a[4],oe=a[5],_e=a[6],Re=a[7],De=a[8];return Math.abs(u-F)<=Oe.EPSILON*Math.max(1,Math.abs(u),Math.abs(F))&&Math.abs(f-W)<=Oe.EPSILON*Math.max(1,Math.abs(f),Math.abs(W))&&Math.abs(h-X)<=Oe.EPSILON*Math.max(1,Math.abs(h),Math.abs(X))&&Math.abs(v-ee)<=Oe.EPSILON*Math.max(1,Math.abs(v),Math.abs(ee))&&Math.abs(_-ae)<=Oe.EPSILON*Math.max(1,Math.abs(_),Math.abs(ae))&&Math.abs(S-oe)<=Oe.EPSILON*Math.max(1,Math.abs(S),Math.abs(oe))&&Math.abs(P-_e)<=Oe.EPSILON*Math.max(1,Math.abs(P),Math.abs(_e))&&Math.abs(I-Re)<=Oe.EPSILON*Math.max(1,Math.abs(I),Math.abs(Re))&&Math.abs(L-De)<=Oe.EPSILON*Math.max(1,Math.abs(L),Math.abs(De))},de.sub=de.mul=void 0;var Oe=function(l,a){if(l&&l.__esModule)return l;if(l===null||ke(l)!=="object"&&typeof l!="function")return{default:l};var u=Se(void 0);if(u&&u.has(l))return u.get(l);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in l)if(v!=="default"&&Object.prototype.hasOwnProperty.call(l,v)){var _=h?Object.getOwnPropertyDescriptor(l,v):null;_&&(_.get||_.set)?Object.defineProperty(f,v,_):f[v]=l[v]}return f.default=l,u&&u.set(l,f),f}(Z);function Se(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(Se=function(f){return f?u:a})(l)}function We(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3],S=a[4],P=a[5],I=a[6],L=a[7],F=a[8],W=u[0],X=u[1],ee=u[2],ae=u[3],oe=u[4],_e=u[5],Re=u[6],De=u[7],ze=u[8];return l[0]=W*f+X*_+ee*I,l[1]=W*h+X*S+ee*L,l[2]=W*v+X*P+ee*F,l[3]=ae*f+oe*_+_e*I,l[4]=ae*h+oe*S+_e*L,l[5]=ae*v+oe*P+_e*F,l[6]=Re*f+De*_+ze*I,l[7]=Re*h+De*S+ze*L,l[8]=Re*v+De*P+ze*F,l}function Je(l,a,u){return l[0]=a[0]-u[0],l[1]=a[1]-u[1],l[2]=a[2]-u[2],l[3]=a[3]-u[3],l[4]=a[4]-u[4],l[5]=a[5]-u[5],l[6]=a[6]-u[6],l[7]=a[7]-u[7],l[8]=a[8]-u[8],l}de.mul=We,de.sub=Je;var $e={};function ft(l){return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ft(l)}Object.defineProperty($e,"__esModule",{value:!0}),$e.create=function(){var l=new Me.ARRAY_TYPE(16);return Me.ARRAY_TYPE!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0),l[0]=1,l[5]=1,l[10]=1,l[15]=1,l},$e.clone=function(l){var a=new Me.ARRAY_TYPE(16);return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],a[6]=l[6],a[7]=l[7],a[8]=l[8],a[9]=l[9],a[10]=l[10],a[11]=l[11],a[12]=l[12],a[13]=l[13],a[14]=l[14],a[15]=l[15],a},$e.copy=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5],l[6]=a[6],l[7]=a[7],l[8]=a[8],l[9]=a[9],l[10]=a[10],l[11]=a[11],l[12]=a[12],l[13]=a[13],l[14]=a[14],l[15]=a[15],l},$e.fromValues=function(l,a,u,f,h,v,_,S,P,I,L,F,W,X,ee,ae){var oe=new Me.ARRAY_TYPE(16);return oe[0]=l,oe[1]=a,oe[2]=u,oe[3]=f,oe[4]=h,oe[5]=v,oe[6]=_,oe[7]=S,oe[8]=P,oe[9]=I,oe[10]=L,oe[11]=F,oe[12]=W,oe[13]=X,oe[14]=ee,oe[15]=ae,oe},$e.set=function(l,a,u,f,h,v,_,S,P,I,L,F,W,X,ee,ae,oe){return l[0]=a,l[1]=u,l[2]=f,l[3]=h,l[4]=v,l[5]=_,l[6]=S,l[7]=P,l[8]=I,l[9]=L,l[10]=F,l[11]=W,l[12]=X,l[13]=ee,l[14]=ae,l[15]=oe,l},$e.identity=Le,$e.transpose=function(l,a){if(l===a){var u=a[1],f=a[2],h=a[3],v=a[6],_=a[7],S=a[11];l[1]=a[4],l[2]=a[8],l[3]=a[12],l[4]=u,l[6]=a[9],l[7]=a[13],l[8]=f,l[9]=v,l[11]=a[14],l[12]=h,l[13]=_,l[14]=S}else l[0]=a[0],l[1]=a[4],l[2]=a[8],l[3]=a[12],l[4]=a[1],l[5]=a[5],l[6]=a[9],l[7]=a[13],l[8]=a[2],l[9]=a[6],l[10]=a[10],l[11]=a[14],l[12]=a[3],l[13]=a[7],l[14]=a[11],l[15]=a[15];return l},$e.invert=function(l,a){var u=a[0],f=a[1],h=a[2],v=a[3],_=a[4],S=a[5],P=a[6],I=a[7],L=a[8],F=a[9],W=a[10],X=a[11],ee=a[12],ae=a[13],oe=a[14],_e=a[15],Re=u*S-f*_,De=u*P-h*_,ze=u*I-v*_,qe=f*P-h*S,Ze=f*I-v*S,rt=h*I-v*P,ut=L*ae-F*ee,mt=L*oe-W*ee,St=L*_e-X*ee,yt=F*oe-W*ae,Ot=F*_e-X*ae,Ht=W*_e-X*oe,Dt=Re*Ht-De*Ot+ze*yt+qe*St-Ze*mt+rt*ut;return Dt?(l[0]=(S*Ht-P*Ot+I*yt)*(Dt=1/Dt),l[1]=(h*Ot-f*Ht-v*yt)*Dt,l[2]=(ae*rt-oe*Ze+_e*qe)*Dt,l[3]=(W*Ze-F*rt-X*qe)*Dt,l[4]=(P*St-_*Ht-I*mt)*Dt,l[5]=(u*Ht-h*St+v*mt)*Dt,l[6]=(oe*ze-ee*rt-_e*De)*Dt,l[7]=(L*rt-W*ze+X*De)*Dt,l[8]=(_*Ot-S*St+I*ut)*Dt,l[9]=(f*St-u*Ot-v*ut)*Dt,l[10]=(ee*Ze-ae*ze+_e*Re)*Dt,l[11]=(F*ze-L*Ze-X*Re)*Dt,l[12]=(S*mt-_*yt-P*ut)*Dt,l[13]=(u*yt-f*mt+h*ut)*Dt,l[14]=(ae*De-ee*qe-oe*Re)*Dt,l[15]=(L*qe-F*De+W*Re)*Dt,l):null},$e.adjoint=function(l,a){var u=a[0],f=a[1],h=a[2],v=a[3],_=a[4],S=a[5],P=a[6],I=a[7],L=a[8],F=a[9],W=a[10],X=a[11],ee=a[12],ae=a[13],oe=a[14],_e=a[15];return l[0]=S*(W*_e-X*oe)-F*(P*_e-I*oe)+ae*(P*X-I*W),l[1]=-(f*(W*_e-X*oe)-F*(h*_e-v*oe)+ae*(h*X-v*W)),l[2]=f*(P*_e-I*oe)-S*(h*_e-v*oe)+ae*(h*I-v*P),l[3]=-(f*(P*X-I*W)-S*(h*X-v*W)+F*(h*I-v*P)),l[4]=-(_*(W*_e-X*oe)-L*(P*_e-I*oe)+ee*(P*X-I*W)),l[5]=u*(W*_e-X*oe)-L*(h*_e-v*oe)+ee*(h*X-v*W),l[6]=-(u*(P*_e-I*oe)-_*(h*_e-v*oe)+ee*(h*I-v*P)),l[7]=u*(P*X-I*W)-_*(h*X-v*W)+L*(h*I-v*P),l[8]=_*(F*_e-X*ae)-L*(S*_e-I*ae)+ee*(S*X-I*F),l[9]=-(u*(F*_e-X*ae)-L*(f*_e-v*ae)+ee*(f*X-v*F)),l[10]=u*(S*_e-I*ae)-_*(f*_e-v*ae)+ee*(f*I-v*S),l[11]=-(u*(S*X-I*F)-_*(f*X-v*F)+L*(f*I-v*S)),l[12]=-(_*(F*oe-W*ae)-L*(S*oe-P*ae)+ee*(S*W-P*F)),l[13]=u*(F*oe-W*ae)-L*(f*oe-h*ae)+ee*(f*W-h*F),l[14]=-(u*(S*oe-P*ae)-_*(f*oe-h*ae)+ee*(f*P-h*S)),l[15]=u*(S*W-P*F)-_*(f*W-h*F)+L*(f*P-h*S),l},$e.determinant=function(l){var a=l[0],u=l[1],f=l[2],h=l[3],v=l[4],_=l[5],S=l[6],P=l[7],I=l[8],L=l[9],F=l[10],W=l[11],X=l[12],ee=l[13],ae=l[14],oe=l[15];return(a*_-u*v)*(F*oe-W*ae)-(a*S-f*v)*(L*oe-W*ee)+(a*P-h*v)*(L*ae-F*ee)+(u*S-f*_)*(I*oe-W*X)-(u*P-h*_)*(I*ae-F*X)+(f*P-h*S)*(I*ee-L*X)},$e.multiply=Ne,$e.translate=function(l,a,u){var f,h,v,_,S,P,I,L,F,W,X,ee,ae=u[0],oe=u[1],_e=u[2];return a===l?(l[12]=a[0]*ae+a[4]*oe+a[8]*_e+a[12],l[13]=a[1]*ae+a[5]*oe+a[9]*_e+a[13],l[14]=a[2]*ae+a[6]*oe+a[10]*_e+a[14],l[15]=a[3]*ae+a[7]*oe+a[11]*_e+a[15]):(h=a[1],v=a[2],_=a[3],S=a[4],P=a[5],I=a[6],L=a[7],F=a[8],W=a[9],X=a[10],ee=a[11],l[0]=f=a[0],l[1]=h,l[2]=v,l[3]=_,l[4]=S,l[5]=P,l[6]=I,l[7]=L,l[8]=F,l[9]=W,l[10]=X,l[11]=ee,l[12]=f*ae+S*oe+F*_e+a[12],l[13]=h*ae+P*oe+W*_e+a[13],l[14]=v*ae+I*oe+X*_e+a[14],l[15]=_*ae+L*oe+ee*_e+a[15]),l},$e.scale=function(l,a,u){var f=u[0],h=u[1],v=u[2];return l[0]=a[0]*f,l[1]=a[1]*f,l[2]=a[2]*f,l[3]=a[3]*f,l[4]=a[4]*h,l[5]=a[5]*h,l[6]=a[6]*h,l[7]=a[7]*h,l[8]=a[8]*v,l[9]=a[9]*v,l[10]=a[10]*v,l[11]=a[11]*v,l[12]=a[12],l[13]=a[13],l[14]=a[14],l[15]=a[15],l},$e.rotate=function(l,a,u,f){var h,v,_,S,P,I,L,F,W,X,ee,ae,oe,_e,Re,De,ze,qe,Ze,rt,ut,mt,St,yt,Ot=f[0],Ht=f[1],Dt=f[2],Jt=Math.hypot(Ot,Ht,Dt);return Jt<Me.EPSILON?null:(Ot*=Jt=1/Jt,Ht*=Jt,Dt*=Jt,h=Math.sin(u),v=Math.cos(u),P=a[1],I=a[2],L=a[3],W=a[5],X=a[6],ee=a[7],oe=a[9],_e=a[10],Re=a[11],De=Ot*Ot*(_=1-v)+v,Ze=Ot*Ht*_-Dt*h,rt=Ht*Ht*_+v,ut=Dt*Ht*_+Ot*h,mt=Ot*Dt*_+Ht*h,St=Ht*Dt*_-Ot*h,yt=Dt*Dt*_+v,l[0]=(S=a[0])*De+(F=a[4])*(ze=Ht*Ot*_+Dt*h)+(ae=a[8])*(qe=Dt*Ot*_-Ht*h),l[1]=P*De+W*ze+oe*qe,l[2]=I*De+X*ze+_e*qe,l[3]=L*De+ee*ze+Re*qe,l[4]=S*Ze+F*rt+ae*ut,l[5]=P*Ze+W*rt+oe*ut,l[6]=I*Ze+X*rt+_e*ut,l[7]=L*Ze+ee*rt+Re*ut,l[8]=S*mt+F*St+ae*yt,l[9]=P*mt+W*St+oe*yt,l[10]=I*mt+X*St+_e*yt,l[11]=L*mt+ee*St+Re*yt,a!==l&&(l[12]=a[12],l[13]=a[13],l[14]=a[14],l[15]=a[15]),l)},$e.rotateX=function(l,a,u){var f=Math.sin(u),h=Math.cos(u),v=a[4],_=a[5],S=a[6],P=a[7],I=a[8],L=a[9],F=a[10],W=a[11];return a!==l&&(l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[12]=a[12],l[13]=a[13],l[14]=a[14],l[15]=a[15]),l[4]=v*h+I*f,l[5]=_*h+L*f,l[6]=S*h+F*f,l[7]=P*h+W*f,l[8]=I*h-v*f,l[9]=L*h-_*f,l[10]=F*h-S*f,l[11]=W*h-P*f,l},$e.rotateY=function(l,a,u){var f=Math.sin(u),h=Math.cos(u),v=a[0],_=a[1],S=a[2],P=a[3],I=a[8],L=a[9],F=a[10],W=a[11];return a!==l&&(l[4]=a[4],l[5]=a[5],l[6]=a[6],l[7]=a[7],l[12]=a[12],l[13]=a[13],l[14]=a[14],l[15]=a[15]),l[0]=v*h-I*f,l[1]=_*h-L*f,l[2]=S*h-F*f,l[3]=P*h-W*f,l[8]=v*f+I*h,l[9]=_*f+L*h,l[10]=S*f+F*h,l[11]=P*f+W*h,l},$e.rotateZ=function(l,a,u){var f=Math.sin(u),h=Math.cos(u),v=a[0],_=a[1],S=a[2],P=a[3],I=a[4],L=a[5],F=a[6],W=a[7];return a!==l&&(l[8]=a[8],l[9]=a[9],l[10]=a[10],l[11]=a[11],l[12]=a[12],l[13]=a[13],l[14]=a[14],l[15]=a[15]),l[0]=v*h+I*f,l[1]=_*h+L*f,l[2]=S*h+F*f,l[3]=P*h+W*f,l[4]=I*h-v*f,l[5]=L*h-_*f,l[6]=F*h-S*f,l[7]=W*h-P*f,l},$e.fromTranslation=function(l,a){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=a[0],l[13]=a[1],l[14]=a[2],l[15]=1,l},$e.fromScaling=function(l,a){return l[0]=a[0],l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=a[1],l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=a[2],l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},$e.fromRotation=function(l,a,u){var f,h,v,_=u[0],S=u[1],P=u[2],I=Math.hypot(_,S,P);return I<Me.EPSILON?null:(_*=I=1/I,S*=I,P*=I,f=Math.sin(a),h=Math.cos(a),l[0]=_*_*(v=1-h)+h,l[1]=S*_*v+P*f,l[2]=P*_*v-S*f,l[3]=0,l[4]=_*S*v-P*f,l[5]=S*S*v+h,l[6]=P*S*v+_*f,l[7]=0,l[8]=_*P*v+S*f,l[9]=S*P*v-_*f,l[10]=P*P*v+h,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l)},$e.fromXRotation=function(l,a){var u=Math.sin(a),f=Math.cos(a);return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=f,l[6]=u,l[7]=0,l[8]=0,l[9]=-u,l[10]=f,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},$e.fromYRotation=function(l,a){var u=Math.sin(a),f=Math.cos(a);return l[0]=f,l[1]=0,l[2]=-u,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=u,l[9]=0,l[10]=f,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},$e.fromZRotation=function(l,a){var u=Math.sin(a),f=Math.cos(a);return l[0]=f,l[1]=u,l[2]=0,l[3]=0,l[4]=-u,l[5]=f,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},$e.fromRotationTranslation=At,$e.fromQuat2=function(l,a){var u=new Me.ARRAY_TYPE(3),f=-a[0],h=-a[1],v=-a[2],_=a[3],S=a[4],P=a[5],I=a[6],L=a[7],F=f*f+h*h+v*v+_*_;return F>0?(u[0]=2*(S*_+L*f+P*v-I*h)/F,u[1]=2*(P*_+L*h+I*f-S*v)/F,u[2]=2*(I*_+L*v+S*h-P*f)/F):(u[0]=2*(S*_+L*f+P*v-I*h),u[1]=2*(P*_+L*h+I*f-S*v),u[2]=2*(I*_+L*v+S*h-P*f)),At(l,a,u),l},$e.getTranslation=function(l,a){return l[0]=a[12],l[1]=a[13],l[2]=a[14],l},$e.getScaling=Ct,$e.getRotation=function(l,a){var u=new Me.ARRAY_TYPE(3);Ct(u,a);var f=1/u[0],h=1/u[1],v=1/u[2],_=a[0]*f,S=a[1]*h,P=a[2]*v,I=a[4]*f,L=a[5]*h,F=a[6]*v,W=a[8]*f,X=a[9]*h,ee=a[10]*v,ae=_+L+ee,oe=0;return ae>0?(oe=2*Math.sqrt(ae+1),l[3]=.25*oe,l[0]=(F-X)/oe,l[1]=(W-P)/oe,l[2]=(S-I)/oe):_>L&&_>ee?(oe=2*Math.sqrt(1+_-L-ee),l[3]=(F-X)/oe,l[0]=.25*oe,l[1]=(S+I)/oe,l[2]=(W+P)/oe):L>ee?(oe=2*Math.sqrt(1+L-_-ee),l[3]=(W-P)/oe,l[0]=(S+I)/oe,l[1]=.25*oe,l[2]=(F+X)/oe):(oe=2*Math.sqrt(1+ee-_-L),l[3]=(S-I)/oe,l[0]=(W+P)/oe,l[1]=(F+X)/oe,l[2]=.25*oe),l},$e.fromRotationTranslationScale=function(l,a,u,f){var h=a[0],v=a[1],_=a[2],S=a[3],P=h+h,I=v+v,L=_+_,F=h*P,W=h*I,X=h*L,ee=v*I,ae=v*L,oe=_*L,_e=S*P,Re=S*I,De=S*L,ze=f[0],qe=f[1],Ze=f[2];return l[0]=(1-(ee+oe))*ze,l[1]=(W+De)*ze,l[2]=(X-Re)*ze,l[3]=0,l[4]=(W-De)*qe,l[5]=(1-(F+oe))*qe,l[6]=(ae+_e)*qe,l[7]=0,l[8]=(X+Re)*Ze,l[9]=(ae-_e)*Ze,l[10]=(1-(F+ee))*Ze,l[11]=0,l[12]=u[0],l[13]=u[1],l[14]=u[2],l[15]=1,l},$e.fromRotationTranslationScaleOrigin=function(l,a,u,f,h){var v=a[0],_=a[1],S=a[2],P=a[3],I=v+v,L=_+_,F=S+S,W=v*I,X=v*L,ee=v*F,ae=_*L,oe=_*F,_e=S*F,Re=P*I,De=P*L,ze=P*F,qe=f[0],Ze=f[1],rt=f[2],ut=h[0],mt=h[1],St=h[2],yt=(1-(ae+_e))*qe,Ot=(X+ze)*qe,Ht=(ee-De)*qe,Dt=(X-ze)*Ze,Jt=(1-(W+_e))*Ze,Mt=(oe+Re)*Ze,Ft=(ee+De)*rt,er=(oe-Re)*rt,$t=(1-(W+ae))*rt;return l[0]=yt,l[1]=Ot,l[2]=Ht,l[3]=0,l[4]=Dt,l[5]=Jt,l[6]=Mt,l[7]=0,l[8]=Ft,l[9]=er,l[10]=$t,l[11]=0,l[12]=u[0]+ut-(yt*ut+Dt*mt+Ft*St),l[13]=u[1]+mt-(Ot*ut+Jt*mt+er*St),l[14]=u[2]+St-(Ht*ut+Mt*mt+$t*St),l[15]=1,l},$e.fromQuat=function(l,a){var u=a[0],f=a[1],h=a[2],v=a[3],_=u+u,S=f+f,P=h+h,I=u*_,L=f*_,F=f*S,W=h*_,X=h*S,ee=h*P,ae=v*_,oe=v*S,_e=v*P;return l[0]=1-F-ee,l[1]=L+_e,l[2]=W-oe,l[3]=0,l[4]=L-_e,l[5]=1-I-ee,l[6]=X+ae,l[7]=0,l[8]=W+oe,l[9]=X-ae,l[10]=1-I-F,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},$e.frustum=function(l,a,u,f,h,v,_){var S=1/(u-a),P=1/(h-f),I=1/(v-_);return l[0]=2*v*S,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=2*v*P,l[6]=0,l[7]=0,l[8]=(u+a)*S,l[9]=(h+f)*P,l[10]=(_+v)*I,l[11]=-1,l[12]=0,l[13]=0,l[14]=_*v*2*I,l[15]=0,l},$e.perspectiveNO=Lt,$e.perspectiveZO=function(l,a,u,f,h){var v,_=1/Math.tan(a/2);return l[0]=_/u,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=_,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,h!=null&&h!==1/0?(l[10]=h*(v=1/(f-h)),l[14]=h*f*v):(l[10]=-1,l[14]=-f),l},$e.perspectiveFromFieldOfView=function(l,a,u,f){var h=Math.tan(a.upDegrees*Math.PI/180),v=Math.tan(a.downDegrees*Math.PI/180),_=Math.tan(a.leftDegrees*Math.PI/180),S=Math.tan(a.rightDegrees*Math.PI/180),P=2/(_+S),I=2/(h+v);return l[0]=P,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=I,l[6]=0,l[7]=0,l[8]=-(_-S)*P*.5,l[9]=(h-v)*I*.5,l[10]=f/(u-f),l[11]=-1,l[12]=0,l[13]=0,l[14]=f*u/(u-f),l[15]=0,l},$e.orthoNO=sr,$e.orthoZO=function(l,a,u,f,h,v,_){var S=1/(a-u),P=1/(f-h),I=1/(v-_);return l[0]=-2*S,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*P,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=I,l[11]=0,l[12]=(a+u)*S,l[13]=(h+f)*P,l[14]=v*I,l[15]=1,l},$e.lookAt=function(l,a,u,f){var h,v,_,S,P,I,L,F,W,X,ee=a[0],ae=a[1],oe=a[2],_e=f[0],Re=f[1],De=f[2],ze=u[0],qe=u[1],Ze=u[2];return Math.abs(ee-ze)<Me.EPSILON&&Math.abs(ae-qe)<Me.EPSILON&&Math.abs(oe-Ze)<Me.EPSILON?Le(l):(L=ee-ze,F=ae-qe,W=oe-Ze,h=Re*(W*=X=1/Math.hypot(L,F,W))-De*(F*=X),v=De*(L*=X)-_e*W,_=_e*F-Re*L,(X=Math.hypot(h,v,_))?(h*=X=1/X,v*=X,_*=X):(h=0,v=0,_=0),S=F*_-W*v,P=W*h-L*_,I=L*v-F*h,(X=Math.hypot(S,P,I))?(S*=X=1/X,P*=X,I*=X):(S=0,P=0,I=0),l[0]=h,l[1]=S,l[2]=L,l[3]=0,l[4]=v,l[5]=P,l[6]=F,l[7]=0,l[8]=_,l[9]=I,l[10]=W,l[11]=0,l[12]=-(h*ee+v*ae+_*oe),l[13]=-(S*ee+P*ae+I*oe),l[14]=-(L*ee+F*ae+W*oe),l[15]=1,l)},$e.targetTo=function(l,a,u,f){var h=a[0],v=a[1],_=a[2],S=f[0],P=f[1],I=f[2],L=h-u[0],F=v-u[1],W=_-u[2],X=L*L+F*F+W*W;X>0&&(L*=X=1/Math.sqrt(X),F*=X,W*=X);var ee=P*W-I*F,ae=I*L-S*W,oe=S*F-P*L;return(X=ee*ee+ae*ae+oe*oe)>0&&(ee*=X=1/Math.sqrt(X),ae*=X,oe*=X),l[0]=ee,l[1]=ae,l[2]=oe,l[3]=0,l[4]=F*oe-W*ae,l[5]=W*ee-L*oe,l[6]=L*ae-F*ee,l[7]=0,l[8]=L,l[9]=F,l[10]=W,l[11]=0,l[12]=h,l[13]=v,l[14]=_,l[15]=1,l},$e.str=function(l){return"mat4("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+", "+l[4]+", "+l[5]+", "+l[6]+", "+l[7]+", "+l[8]+", "+l[9]+", "+l[10]+", "+l[11]+", "+l[12]+", "+l[13]+", "+l[14]+", "+l[15]+")"},$e.frob=function(l){return Math.hypot(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])},$e.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l[2]=a[2]+u[2],l[3]=a[3]+u[3],l[4]=a[4]+u[4],l[5]=a[5]+u[5],l[6]=a[6]+u[6],l[7]=a[7]+u[7],l[8]=a[8]+u[8],l[9]=a[9]+u[9],l[10]=a[10]+u[10],l[11]=a[11]+u[11],l[12]=a[12]+u[12],l[13]=a[13]+u[13],l[14]=a[14]+u[14],l[15]=a[15]+u[15],l},$e.subtract=Bt,$e.multiplyScalar=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l[2]=a[2]*u,l[3]=a[3]*u,l[4]=a[4]*u,l[5]=a[5]*u,l[6]=a[6]*u,l[7]=a[7]*u,l[8]=a[8]*u,l[9]=a[9]*u,l[10]=a[10]*u,l[11]=a[11]*u,l[12]=a[12]*u,l[13]=a[13]*u,l[14]=a[14]*u,l[15]=a[15]*u,l},$e.multiplyScalarAndAdd=function(l,a,u,f){return l[0]=a[0]+u[0]*f,l[1]=a[1]+u[1]*f,l[2]=a[2]+u[2]*f,l[3]=a[3]+u[3]*f,l[4]=a[4]+u[4]*f,l[5]=a[5]+u[5]*f,l[6]=a[6]+u[6]*f,l[7]=a[7]+u[7]*f,l[8]=a[8]+u[8]*f,l[9]=a[9]+u[9]*f,l[10]=a[10]+u[10]*f,l[11]=a[11]+u[11]*f,l[12]=a[12]+u[12]*f,l[13]=a[13]+u[13]*f,l[14]=a[14]+u[14]*f,l[15]=a[15]+u[15]*f,l},$e.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]&&l[2]===a[2]&&l[3]===a[3]&&l[4]===a[4]&&l[5]===a[5]&&l[6]===a[6]&&l[7]===a[7]&&l[8]===a[8]&&l[9]===a[9]&&l[10]===a[10]&&l[11]===a[11]&&l[12]===a[12]&&l[13]===a[13]&&l[14]===a[14]&&l[15]===a[15]},$e.equals=function(l,a){var u=l[0],f=l[1],h=l[2],v=l[3],_=l[4],S=l[5],P=l[6],I=l[7],L=l[8],F=l[9],W=l[10],X=l[11],ee=l[12],ae=l[13],oe=l[14],_e=l[15],Re=a[0],De=a[1],ze=a[2],qe=a[3],Ze=a[4],rt=a[5],ut=a[6],mt=a[7],St=a[8],yt=a[9],Ot=a[10],Ht=a[11],Dt=a[12],Jt=a[13],Mt=a[14],Ft=a[15];return Math.abs(u-Re)<=Me.EPSILON*Math.max(1,Math.abs(u),Math.abs(Re))&&Math.abs(f-De)<=Me.EPSILON*Math.max(1,Math.abs(f),Math.abs(De))&&Math.abs(h-ze)<=Me.EPSILON*Math.max(1,Math.abs(h),Math.abs(ze))&&Math.abs(v-qe)<=Me.EPSILON*Math.max(1,Math.abs(v),Math.abs(qe))&&Math.abs(_-Ze)<=Me.EPSILON*Math.max(1,Math.abs(_),Math.abs(Ze))&&Math.abs(S-rt)<=Me.EPSILON*Math.max(1,Math.abs(S),Math.abs(rt))&&Math.abs(P-ut)<=Me.EPSILON*Math.max(1,Math.abs(P),Math.abs(ut))&&Math.abs(I-mt)<=Me.EPSILON*Math.max(1,Math.abs(I),Math.abs(mt))&&Math.abs(L-St)<=Me.EPSILON*Math.max(1,Math.abs(L),Math.abs(St))&&Math.abs(F-yt)<=Me.EPSILON*Math.max(1,Math.abs(F),Math.abs(yt))&&Math.abs(W-Ot)<=Me.EPSILON*Math.max(1,Math.abs(W),Math.abs(Ot))&&Math.abs(X-Ht)<=Me.EPSILON*Math.max(1,Math.abs(X),Math.abs(Ht))&&Math.abs(ee-Dt)<=Me.EPSILON*Math.max(1,Math.abs(ee),Math.abs(Dt))&&Math.abs(ae-Jt)<=Me.EPSILON*Math.max(1,Math.abs(ae),Math.abs(Jt))&&Math.abs(oe-Mt)<=Me.EPSILON*Math.max(1,Math.abs(oe),Math.abs(Mt))&&Math.abs(_e-Ft)<=Me.EPSILON*Math.max(1,Math.abs(_e),Math.abs(Ft))},$e.sub=$e.mul=$e.ortho=$e.perspective=void 0;var Me=function(l,a){if(l&&l.__esModule)return l;if(l===null||ft(l)!=="object"&&typeof l!="function")return{default:l};var u=Te(void 0);if(u&&u.has(l))return u.get(l);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in l)if(v!=="default"&&Object.prototype.hasOwnProperty.call(l,v)){var _=h?Object.getOwnPropertyDescriptor(l,v):null;_&&(_.get||_.set)?Object.defineProperty(f,v,_):f[v]=l[v]}return f.default=l,u&&u.set(l,f),f}(Z);function Te(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(Te=function(f){return f?u:a})(l)}function Le(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}function Ne(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3],S=a[4],P=a[5],I=a[6],L=a[7],F=a[8],W=a[9],X=a[10],ee=a[11],ae=a[12],oe=a[13],_e=a[14],Re=a[15],De=u[0],ze=u[1],qe=u[2],Ze=u[3];return l[0]=De*f+ze*S+qe*F+Ze*ae,l[1]=De*h+ze*P+qe*W+Ze*oe,l[2]=De*v+ze*I+qe*X+Ze*_e,l[3]=De*_+ze*L+qe*ee+Ze*Re,l[4]=(De=u[4])*f+(ze=u[5])*S+(qe=u[6])*F+(Ze=u[7])*ae,l[5]=De*h+ze*P+qe*W+Ze*oe,l[6]=De*v+ze*I+qe*X+Ze*_e,l[7]=De*_+ze*L+qe*ee+Ze*Re,l[8]=(De=u[8])*f+(ze=u[9])*S+(qe=u[10])*F+(Ze=u[11])*ae,l[9]=De*h+ze*P+qe*W+Ze*oe,l[10]=De*v+ze*I+qe*X+Ze*_e,l[11]=De*_+ze*L+qe*ee+Ze*Re,l[12]=(De=u[12])*f+(ze=u[13])*S+(qe=u[14])*F+(Ze=u[15])*ae,l[13]=De*h+ze*P+qe*W+Ze*oe,l[14]=De*v+ze*I+qe*X+Ze*_e,l[15]=De*_+ze*L+qe*ee+Ze*Re,l}function At(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3],S=f+f,P=h+h,I=v+v,L=f*S,F=f*P,W=f*I,X=h*P,ee=h*I,ae=v*I,oe=_*S,_e=_*P,Re=_*I;return l[0]=1-(X+ae),l[1]=F+Re,l[2]=W-_e,l[3]=0,l[4]=F-Re,l[5]=1-(L+ae),l[6]=ee+oe,l[7]=0,l[8]=W+_e,l[9]=ee-oe,l[10]=1-(L+X),l[11]=0,l[12]=u[0],l[13]=u[1],l[14]=u[2],l[15]=1,l}function Ct(l,a){var u=a[4],f=a[5],h=a[6],v=a[8],_=a[9],S=a[10];return l[0]=Math.hypot(a[0],a[1],a[2]),l[1]=Math.hypot(u,f,h),l[2]=Math.hypot(v,_,S),l}function Lt(l,a,u,f,h){var v,_=1/Math.tan(a/2);return l[0]=_/u,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=_,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,h!=null&&h!==1/0?(l[10]=(h+f)*(v=1/(f-h)),l[14]=2*h*f*v):(l[10]=-1,l[14]=-2*f),l}function sr(l,a,u,f,h,v,_){var S=1/(a-u),P=1/(f-h),I=1/(v-_);return l[0]=-2*S,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*P,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*I,l[11]=0,l[12]=(a+u)*S,l[13]=(h+f)*P,l[14]=(_+v)*I,l[15]=1,l}function Bt(l,a,u){return l[0]=a[0]-u[0],l[1]=a[1]-u[1],l[2]=a[2]-u[2],l[3]=a[3]-u[3],l[4]=a[4]-u[4],l[5]=a[5]-u[5],l[6]=a[6]-u[6],l[7]=a[7]-u[7],l[8]=a[8]-u[8],l[9]=a[9]-u[9],l[10]=a[10]-u[10],l[11]=a[11]-u[11],l[12]=a[12]-u[12],l[13]=a[13]-u[13],l[14]=a[14]-u[14],l[15]=a[15]-u[15],l}$e.perspective=Lt,$e.ortho=sr,$e.mul=Ne,$e.sub=Bt;var tr={},Xt={};function xn(l){return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},xn(l)}Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.create=kt,Xt.clone=function(l){var a=new Nr.ARRAY_TYPE(3);return a[0]=l[0],a[1]=l[1],a[2]=l[2],a},Xt.length=Zt,Xt.fromValues=function(l,a,u){var f=new Nr.ARRAY_TYPE(3);return f[0]=l,f[1]=a,f[2]=u,f},Xt.copy=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l},Xt.set=function(l,a,u,f){return l[0]=a,l[1]=u,l[2]=f,l},Xt.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l[2]=a[2]+u[2],l},Xt.subtract=ur,Xt.multiply=yr,Xt.divide=kr,Xt.ceil=function(l,a){return l[0]=Math.ceil(a[0]),l[1]=Math.ceil(a[1]),l[2]=Math.ceil(a[2]),l},Xt.floor=function(l,a){return l[0]=Math.floor(a[0]),l[1]=Math.floor(a[1]),l[2]=Math.floor(a[2]),l},Xt.min=function(l,a,u){return l[0]=Math.min(a[0],u[0]),l[1]=Math.min(a[1],u[1]),l[2]=Math.min(a[2],u[2]),l},Xt.max=function(l,a,u){return l[0]=Math.max(a[0],u[0]),l[1]=Math.max(a[1],u[1]),l[2]=Math.max(a[2],u[2]),l},Xt.round=function(l,a){return l[0]=Math.round(a[0]),l[1]=Math.round(a[1]),l[2]=Math.round(a[2]),l},Xt.scale=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l[2]=a[2]*u,l},Xt.scaleAndAdd=function(l,a,u,f){return l[0]=a[0]+u[0]*f,l[1]=a[1]+u[1]*f,l[2]=a[2]+u[2]*f,l},Xt.distance=Be,Xt.squaredDistance=ge,Xt.squaredLength=ve,Xt.negate=function(l,a){return l[0]=-a[0],l[1]=-a[1],l[2]=-a[2],l},Xt.inverse=function(l,a){return l[0]=1/a[0],l[1]=1/a[1],l[2]=1/a[2],l},Xt.normalize=function(l,a){var u=a[0],f=a[1],h=a[2],v=u*u+f*f+h*h;return v>0&&(v=1/Math.sqrt(v)),l[0]=a[0]*v,l[1]=a[1]*v,l[2]=a[2]*v,l},Xt.dot=Qe,Xt.cross=function(l,a,u){var f=a[0],h=a[1],v=a[2],_=u[0],S=u[1],P=u[2];return l[0]=h*P-v*S,l[1]=v*_-f*P,l[2]=f*S-h*_,l},Xt.lerp=function(l,a,u,f){var h=a[0],v=a[1],_=a[2];return l[0]=h+f*(u[0]-h),l[1]=v+f*(u[1]-v),l[2]=_+f*(u[2]-_),l},Xt.hermite=function(l,a,u,f,h,v){var _=v*v,S=_*(2*v-3)+1,P=_*(v-2)+v,I=_*(v-1),L=_*(3-2*v);return l[0]=a[0]*S+u[0]*P+f[0]*I+h[0]*L,l[1]=a[1]*S+u[1]*P+f[1]*I+h[1]*L,l[2]=a[2]*S+u[2]*P+f[2]*I+h[2]*L,l},Xt.bezier=function(l,a,u,f,h,v){var _=1-v,S=_*_,P=v*v,I=S*_,L=3*v*S,F=3*P*_,W=P*v;return l[0]=a[0]*I+u[0]*L+f[0]*F+h[0]*W,l[1]=a[1]*I+u[1]*L+f[1]*F+h[1]*W,l[2]=a[2]*I+u[2]*L+f[2]*F+h[2]*W,l},Xt.random=function(l,a){a=a||1;var u=2*Nr.RANDOM()*Math.PI,f=2*Nr.RANDOM()-1,h=Math.sqrt(1-f*f)*a;return l[0]=Math.cos(u)*h,l[1]=Math.sin(u)*h,l[2]=f*a,l},Xt.transformMat4=function(l,a,u){var f=a[0],h=a[1],v=a[2],_=u[3]*f+u[7]*h+u[11]*v+u[15];return l[0]=(u[0]*f+u[4]*h+u[8]*v+u[12])/(_=_||1),l[1]=(u[1]*f+u[5]*h+u[9]*v+u[13])/_,l[2]=(u[2]*f+u[6]*h+u[10]*v+u[14])/_,l},Xt.transformMat3=function(l,a,u){var f=a[0],h=a[1],v=a[2];return l[0]=f*u[0]+h*u[3]+v*u[6],l[1]=f*u[1]+h*u[4]+v*u[7],l[2]=f*u[2]+h*u[5]+v*u[8],l},Xt.transformQuat=function(l,a,u){var f=u[0],h=u[1],v=u[2],_=a[0],S=a[1],P=a[2],I=h*P-v*S,L=v*_-f*P,F=f*S-h*_,W=h*F-v*L,X=v*I-f*F,ee=f*L-h*I,ae=2*u[3];return L*=ae,F*=ae,X*=2,ee*=2,l[0]=_+(I*=ae)+(W*=2),l[1]=S+L+X,l[2]=P+F+ee,l},Xt.rotateX=function(l,a,u,f){var h=[],v=[];return h[0]=a[0]-u[0],h[1]=a[1]-u[1],h[2]=a[2]-u[2],v[0]=h[0],v[1]=h[1]*Math.cos(f)-h[2]*Math.sin(f),v[2]=h[1]*Math.sin(f)+h[2]*Math.cos(f),l[0]=v[0]+u[0],l[1]=v[1]+u[1],l[2]=v[2]+u[2],l},Xt.rotateY=function(l,a,u,f){var h=[],v=[];return h[0]=a[0]-u[0],h[1]=a[1]-u[1],h[2]=a[2]-u[2],v[0]=h[2]*Math.sin(f)+h[0]*Math.cos(f),v[1]=h[1],v[2]=h[2]*Math.cos(f)-h[0]*Math.sin(f),l[0]=v[0]+u[0],l[1]=v[1]+u[1],l[2]=v[2]+u[2],l},Xt.rotateZ=function(l,a,u,f){var h=[],v=[];return h[0]=a[0]-u[0],h[1]=a[1]-u[1],h[2]=a[2]-u[2],v[0]=h[0]*Math.cos(f)-h[1]*Math.sin(f),v[1]=h[0]*Math.sin(f)+h[1]*Math.cos(f),v[2]=h[2],l[0]=v[0]+u[0],l[1]=v[1]+u[1],l[2]=v[2]+u[2],l},Xt.angle=function(l,a){var u=l[0],f=l[1],h=l[2],v=a[0],_=a[1],S=a[2],P=Math.sqrt(u*u+f*f+h*h)*Math.sqrt(v*v+_*_+S*S),I=P&&Qe(l,a)/P;return Math.acos(Math.min(Math.max(I,-1),1))},Xt.zero=function(l){return l[0]=0,l[1]=0,l[2]=0,l},Xt.str=function(l){return"vec3("+l[0]+", "+l[1]+", "+l[2]+")"},Xt.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]&&l[2]===a[2]},Xt.equals=function(l,a){var u=l[0],f=l[1],h=l[2],v=a[0],_=a[1],S=a[2];return Math.abs(u-v)<=Nr.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(f-_)<=Nr.EPSILON*Math.max(1,Math.abs(f),Math.abs(_))&&Math.abs(h-S)<=Nr.EPSILON*Math.max(1,Math.abs(h),Math.abs(S))},Xt.forEach=Xt.sqrLen=Xt.len=Xt.sqrDist=Xt.dist=Xt.div=Xt.mul=Xt.sub=void 0;var Nr=function(l,a){if(l&&l.__esModule)return l;if(l===null||xn(l)!=="object"&&typeof l!="function")return{default:l};var u=gt(void 0);if(u&&u.has(l))return u.get(l);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in l)if(v!=="default"&&Object.prototype.hasOwnProperty.call(l,v)){var _=h?Object.getOwnPropertyDescriptor(l,v):null;_&&(_.get||_.set)?Object.defineProperty(f,v,_):f[v]=l[v]}return f.default=l,u&&u.set(l,f),f}(Z);function gt(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(gt=function(f){return f?u:a})(l)}function kt(){var l=new Nr.ARRAY_TYPE(3);return Nr.ARRAY_TYPE!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0),l}function Zt(l){return Math.hypot(l[0],l[1],l[2])}function ur(l,a,u){return l[0]=a[0]-u[0],l[1]=a[1]-u[1],l[2]=a[2]-u[2],l}function yr(l,a,u){return l[0]=a[0]*u[0],l[1]=a[1]*u[1],l[2]=a[2]*u[2],l}function kr(l,a,u){return l[0]=a[0]/u[0],l[1]=a[1]/u[1],l[2]=a[2]/u[2],l}function Be(l,a){return Math.hypot(a[0]-l[0],a[1]-l[1],a[2]-l[2])}function ge(l,a){var u=a[0]-l[0],f=a[1]-l[1],h=a[2]-l[2];return u*u+f*f+h*h}function ve(l){var a=l[0],u=l[1],f=l[2];return a*a+u*u+f*f}function Qe(l,a){return l[0]*a[0]+l[1]*a[1]+l[2]*a[2]}Xt.sub=ur,Xt.mul=yr,Xt.div=kr,Xt.dist=Be,Xt.sqrDist=ge,Xt.len=Zt,Xt.sqrLen=ve;var bt,It=(bt=kt(),function(l,a,u,f,h,v){var _,S;for(a||(a=3),u||(u=0),S=f?Math.min(f*a+u,l.length):l.length,_=u;_<S;_+=a)bt[0]=l[_],bt[1]=l[_+1],bt[2]=l[_+2],h(bt,bt,v),l[_]=bt[0],l[_+1]=bt[1],l[_+2]=bt[2];return l});Xt.forEach=It;var Tt={};function fn(l){return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},fn(l)}Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.create=li,Tt.clone=function(l){var a=new Mr.ARRAY_TYPE(4);return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a},Tt.fromValues=function(l,a,u,f){var h=new Mr.ARRAY_TYPE(4);return h[0]=l,h[1]=a,h[2]=u,h[3]=f,h},Tt.copy=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l},Tt.set=function(l,a,u,f,h){return l[0]=a,l[1]=u,l[2]=f,l[3]=h,l},Tt.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l[2]=a[2]+u[2],l[3]=a[3]+u[3],l},Tt.subtract=Ir,Tt.multiply=Li,Tt.divide=Iu,Tt.ceil=function(l,a){return l[0]=Math.ceil(a[0]),l[1]=Math.ceil(a[1]),l[2]=Math.ceil(a[2]),l[3]=Math.ceil(a[3]),l},Tt.floor=function(l,a){return l[0]=Math.floor(a[0]),l[1]=Math.floor(a[1]),l[2]=Math.floor(a[2]),l[3]=Math.floor(a[3]),l},Tt.min=function(l,a,u){return l[0]=Math.min(a[0],u[0]),l[1]=Math.min(a[1],u[1]),l[2]=Math.min(a[2],u[2]),l[3]=Math.min(a[3],u[3]),l},Tt.max=function(l,a,u){return l[0]=Math.max(a[0],u[0]),l[1]=Math.max(a[1],u[1]),l[2]=Math.max(a[2],u[2]),l[3]=Math.max(a[3],u[3]),l},Tt.round=function(l,a){return l[0]=Math.round(a[0]),l[1]=Math.round(a[1]),l[2]=Math.round(a[2]),l[3]=Math.round(a[3]),l},Tt.scale=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l[2]=a[2]*u,l[3]=a[3]*u,l},Tt.scaleAndAdd=function(l,a,u,f){return l[0]=a[0]+u[0]*f,l[1]=a[1]+u[1]*f,l[2]=a[2]+u[2]*f,l[3]=a[3]+u[3]*f,l},Tt.distance=Bi,Tt.squaredDistance=Mi,Tt.length=Gl,Tt.squaredLength=zi,Tt.negate=function(l,a){return l[0]=-a[0],l[1]=-a[1],l[2]=-a[2],l[3]=-a[3],l},Tt.inverse=function(l,a){return l[0]=1/a[0],l[1]=1/a[1],l[2]=1/a[2],l[3]=1/a[3],l},Tt.normalize=function(l,a){var u=a[0],f=a[1],h=a[2],v=a[3],_=u*u+f*f+h*h+v*v;return _>0&&(_=1/Math.sqrt(_)),l[0]=u*_,l[1]=f*_,l[2]=h*_,l[3]=v*_,l},Tt.dot=function(l,a){return l[0]*a[0]+l[1]*a[1]+l[2]*a[2]+l[3]*a[3]},Tt.cross=function(l,a,u,f){var h=u[0]*f[1]-u[1]*f[0],v=u[0]*f[2]-u[2]*f[0],_=u[0]*f[3]-u[3]*f[0],S=u[1]*f[2]-u[2]*f[1],P=u[1]*f[3]-u[3]*f[1],I=u[2]*f[3]-u[3]*f[2],L=a[0],F=a[1],W=a[2],X=a[3];return l[0]=F*I-W*P+X*S,l[1]=-L*I+W*_-X*v,l[2]=L*P-F*_+X*h,l[3]=-L*S+F*v-W*h,l},Tt.lerp=function(l,a,u,f){var h=a[0],v=a[1],_=a[2],S=a[3];return l[0]=h+f*(u[0]-h),l[1]=v+f*(u[1]-v),l[2]=_+f*(u[2]-_),l[3]=S+f*(u[3]-S),l},Tt.random=function(l,a){var u,f,h,v,_,S;a=a||1;do _=(u=2*Mr.RANDOM()-1)*u+(f=2*Mr.RANDOM()-1)*f;while(_>=1);do S=(h=2*Mr.RANDOM()-1)*h+(v=2*Mr.RANDOM()-1)*v;while(S>=1);var P=Math.sqrt((1-_)/S);return l[0]=a*u,l[1]=a*f,l[2]=a*h*P,l[3]=a*v*P,l},Tt.transformMat4=function(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3];return l[0]=u[0]*f+u[4]*h+u[8]*v+u[12]*_,l[1]=u[1]*f+u[5]*h+u[9]*v+u[13]*_,l[2]=u[2]*f+u[6]*h+u[10]*v+u[14]*_,l[3]=u[3]*f+u[7]*h+u[11]*v+u[15]*_,l},Tt.transformQuat=function(l,a,u){var f=a[0],h=a[1],v=a[2],_=u[0],S=u[1],P=u[2],I=u[3],L=I*f+S*v-P*h,F=I*h+P*f-_*v,W=I*v+_*h-S*f,X=-_*f-S*h-P*v;return l[0]=L*I+X*-_+F*-P-W*-S,l[1]=F*I+X*-S+W*-_-L*-P,l[2]=W*I+X*-P+L*-S-F*-_,l[3]=a[3],l},Tt.zero=function(l){return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l},Tt.str=function(l){return"vec4("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+")"},Tt.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]&&l[2]===a[2]&&l[3]===a[3]},Tt.equals=function(l,a){var u=l[0],f=l[1],h=l[2],v=l[3],_=a[0],S=a[1],P=a[2],I=a[3];return Math.abs(u-_)<=Mr.EPSILON*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(f-S)<=Mr.EPSILON*Math.max(1,Math.abs(f),Math.abs(S))&&Math.abs(h-P)<=Mr.EPSILON*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(v-I)<=Mr.EPSILON*Math.max(1,Math.abs(v),Math.abs(I))},Tt.forEach=Tt.sqrLen=Tt.len=Tt.sqrDist=Tt.dist=Tt.div=Tt.mul=Tt.sub=void 0;var Mr=function(l,a){if(l&&l.__esModule)return l;if(l===null||fn(l)!=="object"&&typeof l!="function")return{default:l};var u=Hr(void 0);if(u&&u.has(l))return u.get(l);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in l)if(v!=="default"&&Object.prototype.hasOwnProperty.call(l,v)){var _=h?Object.getOwnPropertyDescriptor(l,v):null;_&&(_.get||_.set)?Object.defineProperty(f,v,_):f[v]=l[v]}return f.default=l,u&&u.set(l,f),f}(Z);function Hr(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(Hr=function(f){return f?u:a})(l)}function li(){var l=new Mr.ARRAY_TYPE(4);return Mr.ARRAY_TYPE!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0,l[3]=0),l}function Ir(l,a,u){return l[0]=a[0]-u[0],l[1]=a[1]-u[1],l[2]=a[2]-u[2],l[3]=a[3]-u[3],l}function Li(l,a,u){return l[0]=a[0]*u[0],l[1]=a[1]*u[1],l[2]=a[2]*u[2],l[3]=a[3]*u[3],l}function Iu(l,a,u){return l[0]=a[0]/u[0],l[1]=a[1]/u[1],l[2]=a[2]/u[2],l[3]=a[3]/u[3],l}function Bi(l,a){return Math.hypot(a[0]-l[0],a[1]-l[1],a[2]-l[2],a[3]-l[3])}function Mi(l,a){var u=a[0]-l[0],f=a[1]-l[1],h=a[2]-l[2],v=a[3]-l[3];return u*u+f*f+h*h+v*v}function Gl(l){return Math.hypot(l[0],l[1],l[2],l[3])}function zi(l){var a=l[0],u=l[1],f=l[2],h=l[3];return a*a+u*u+f*f+h*h}Tt.sub=Ir,Tt.mul=Li,Tt.div=Iu,Tt.dist=Bi,Tt.sqrDist=Mi,Tt.len=Gl,Tt.sqrLen=zi;var Pi=function(){var l=li();return function(a,u,f,h,v,_){var S,P;for(u||(u=4),f||(f=0),P=h?Math.min(h*u+f,a.length):a.length,S=f;S<P;S+=u)l[0]=a[S],l[1]=a[S+1],l[2]=a[S+2],l[3]=a[S+3],v(l,l,_),a[S]=l[0],a[S+1]=l[1],a[S+2]=l[2],a[S+3]=l[3];return a}}();function ql(l){return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ql(l)}Tt.forEach=Pi,Object.defineProperty(tr,"__esModule",{value:!0}),tr.create=Gi,tr.identity=function(l){return l[0]=0,l[1]=0,l[2]=0,l[3]=1,l},tr.setAxisAngle=Kn,tr.getAxisAngle=function(l,a){var u=2*Math.acos(a[3]),f=Math.sin(u/2);return f>ui.EPSILON?(l[0]=a[0]/f,l[1]=a[1]/f,l[2]=a[2]/f):(l[0]=1,l[1]=0,l[2]=0),u},tr.getAngle=function(l,a){var u=tt(l,a);return Math.acos(2*u*u-1)},tr.multiply=Ed,tr.rotateX=function(l,a,u){u*=.5;var f=a[0],h=a[1],v=a[2],_=a[3],S=Math.sin(u),P=Math.cos(u);return l[0]=f*P+_*S,l[1]=h*P+v*S,l[2]=v*P-h*S,l[3]=_*P-f*S,l},tr.rotateY=function(l,a,u){u*=.5;var f=a[0],h=a[1],v=a[2],_=a[3],S=Math.sin(u),P=Math.cos(u);return l[0]=f*P-v*S,l[1]=h*P+_*S,l[2]=v*P+f*S,l[3]=_*P-h*S,l},tr.rotateZ=function(l,a,u){u*=.5;var f=a[0],h=a[1],v=a[2],_=a[3],S=Math.sin(u),P=Math.cos(u);return l[0]=f*P+h*S,l[1]=h*P-f*S,l[2]=v*P+_*S,l[3]=_*P-v*S,l},tr.calculateW=function(l,a){var u=a[0],f=a[1],h=a[2];return l[0]=u,l[1]=f,l[2]=h,l[3]=Math.sqrt(Math.abs(1-u*u-f*f-h*h)),l},tr.exp=it,tr.ln=xe,tr.pow=function(l,a,u){return xe(l,a),et(l,l,u),it(l,l),l},tr.slerp=Ce,tr.random=function(l){var a=ui.RANDOM(),u=ui.RANDOM(),f=ui.RANDOM(),h=Math.sqrt(1-a),v=Math.sqrt(a);return l[0]=h*Math.sin(2*Math.PI*u),l[1]=h*Math.cos(2*Math.PI*u),l[2]=v*Math.sin(2*Math.PI*f),l[3]=v*Math.cos(2*Math.PI*f),l},tr.invert=function(l,a){var u=a[0],f=a[1],h=a[2],v=a[3],_=u*u+f*f+h*h+v*v,S=_?1/_:0;return l[0]=-u*S,l[1]=-f*S,l[2]=-h*S,l[3]=v*S,l},tr.conjugate=function(l,a){return l[0]=-a[0],l[1]=-a[1],l[2]=-a[2],l[3]=a[3],l},tr.fromMat3=je,tr.fromEuler=function(l,a,u,f){var h=.5*Math.PI/180;a*=h,u*=h,f*=h;var v=Math.sin(a),_=Math.cos(a),S=Math.sin(u),P=Math.cos(u),I=Math.sin(f),L=Math.cos(f);return l[0]=v*P*L-_*S*I,l[1]=_*S*L+v*P*I,l[2]=_*P*I-v*S*L,l[3]=_*P*L+v*S*I,l},tr.str=function(l){return"quat("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+")"},tr.setAxes=tr.sqlerp=tr.rotationTo=tr.equals=tr.exactEquals=tr.normalize=tr.sqrLen=tr.squaredLength=tr.len=tr.length=tr.lerp=tr.dot=tr.scale=tr.mul=tr.add=tr.set=tr.copy=tr.fromValues=tr.clone=void 0;var ui=Mu(Z),Ji=Mu(de),ln=Mu(Xt),jn=Mu(Tt);function Qi(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(Qi=function(f){return f?u:a})(l)}function Mu(l,a){if(l&&l.__esModule)return l;if(l===null||ql(l)!=="object"&&typeof l!="function")return{default:l};var u=Qi(a);if(u&&u.has(l))return u.get(l);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in l)if(v!=="default"&&Object.prototype.hasOwnProperty.call(l,v)){var _=h?Object.getOwnPropertyDescriptor(l,v):null;_&&(_.get||_.set)?Object.defineProperty(f,v,_):f[v]=l[v]}return f.default=l,u&&u.set(l,f),f}function Gi(){var l=new ui.ARRAY_TYPE(4);return ui.ARRAY_TYPE!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0),l[3]=1,l}function Kn(l,a,u){u*=.5;var f=Math.sin(u);return l[0]=f*a[0],l[1]=f*a[1],l[2]=f*a[2],l[3]=Math.cos(u),l}function Ed(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3],S=u[0],P=u[1],I=u[2],L=u[3];return l[0]=f*L+_*S+h*I-v*P,l[1]=h*L+_*P+v*S-f*I,l[2]=v*L+_*I+f*P-h*S,l[3]=_*L-f*S-h*P-v*I,l}function it(l,a){var u=a[0],f=a[1],h=a[2],v=a[3],_=Math.sqrt(u*u+f*f+h*h),S=Math.exp(v),P=_>0?S*Math.sin(_)/_:0;return l[0]=u*P,l[1]=f*P,l[2]=h*P,l[3]=S*Math.cos(_),l}function xe(l,a){var u=a[0],f=a[1],h=a[2],v=a[3],_=Math.sqrt(u*u+f*f+h*h),S=_>0?Math.atan2(_,v)/_:0;return l[0]=u*S,l[1]=f*S,l[2]=h*S,l[3]=.5*Math.log(u*u+f*f+h*h+v*v),l}function Ce(l,a,u,f){var h,v,_,S,P,I=a[0],L=a[1],F=a[2],W=a[3],X=u[0],ee=u[1],ae=u[2],oe=u[3];return(v=I*X+L*ee+F*ae+W*oe)<0&&(v=-v,X=-X,ee=-ee,ae=-ae,oe=-oe),1-v>ui.EPSILON?(h=Math.acos(v),_=Math.sin(h),S=Math.sin((1-f)*h)/_,P=Math.sin(f*h)/_):(S=1-f,P=f),l[0]=S*I+P*X,l[1]=S*L+P*ee,l[2]=S*F+P*ae,l[3]=S*W+P*oe,l}function je(l,a){var u,f=a[0]+a[4]+a[8];if(f>0)u=Math.sqrt(f+1),l[3]=.5*u,l[0]=(a[5]-a[7])*(u=.5/u),l[1]=(a[6]-a[2])*u,l[2]=(a[1]-a[3])*u;else{var h=0;a[4]>a[0]&&(h=1),a[8]>a[3*h+h]&&(h=2);var v=(h+1)%3,_=(h+2)%3;u=Math.sqrt(a[3*h+h]-a[3*v+v]-a[3*_+_]+1),l[h]=.5*u,l[3]=(a[3*v+_]-a[3*_+v])*(u=.5/u),l[v]=(a[3*v+h]+a[3*h+v])*u,l[_]=(a[3*_+h]+a[3*h+_])*u}return l}tr.clone=jn.clone,tr.fromValues=jn.fromValues,tr.copy=jn.copy,tr.set=jn.set,tr.add=jn.add,tr.mul=Ed;var et=jn.scale;tr.scale=et;var tt=jn.dot;tr.dot=tt,tr.lerp=jn.lerp;var dt=jn.length;tr.length=dt,tr.len=dt;var Et=jn.squaredLength;tr.squaredLength=Et,tr.sqrLen=Et;var ct=jn.normalize;tr.normalize=ct,tr.exactEquals=jn.exactEquals,tr.equals=jn.equals;var wt,Wt,Ut,dr=(wt=ln.create(),Wt=ln.fromValues(1,0,0),Ut=ln.fromValues(0,1,0),function(l,a,u){var f=ln.dot(a,u);return f<-.999999?(ln.cross(wt,Wt,a),ln.len(wt)<1e-6&&ln.cross(wt,Ut,a),ln.normalize(wt,wt),Kn(l,wt,Math.PI),l):f>.999999?(l[0]=0,l[1]=0,l[2]=0,l[3]=1,l):(ln.cross(wt,a,u),l[0]=wt[0],l[1]=wt[1],l[2]=wt[2],l[3]=1+f,ct(l,l))});tr.rotationTo=dr;var Ar,Fr,Pn=(Ar=Gi(),Fr=Gi(),function(l,a,u,f,h,v){return Ce(Ar,a,h,v),Ce(Fr,u,f,v),Ce(l,Ar,Fr,2*v*(1-v)),l});tr.sqlerp=Pn;var Zr,wn=(Zr=Ji.create(),function(l,a,u,f){return Zr[0]=u[0],Zr[3]=u[1],Zr[6]=u[2],Zr[1]=f[0],Zr[4]=f[1],Zr[7]=f[2],Zr[2]=-a[0],Zr[5]=-a[1],Zr[8]=-a[2],ct(l,je(l,Zr))});tr.setAxes=wn;var xr={};function gi(l){return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},gi(l)}Object.defineProperty(xr,"__esModule",{value:!0}),xr.create=function(){var l=new Cn.ARRAY_TYPE(8);return Cn.ARRAY_TYPE!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0,l[4]=0,l[5]=0,l[6]=0,l[7]=0),l[3]=1,l},xr.clone=function(l){var a=new Cn.ARRAY_TYPE(8);return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],a[6]=l[6],a[7]=l[7],a},xr.fromValues=function(l,a,u,f,h,v,_,S){var P=new Cn.ARRAY_TYPE(8);return P[0]=l,P[1]=a,P[2]=u,P[3]=f,P[4]=h,P[5]=v,P[6]=_,P[7]=S,P},xr.fromRotationTranslationValues=function(l,a,u,f,h,v,_){var S=new Cn.ARRAY_TYPE(8);S[0]=l,S[1]=a,S[2]=u,S[3]=f;var P=.5*h,I=.5*v,L=.5*_;return S[4]=P*f+I*u-L*a,S[5]=I*f+L*l-P*u,S[6]=L*f+P*a-I*l,S[7]=-P*l-I*a-L*u,S},xr.fromRotationTranslation=_o,xr.fromTranslation=function(l,a){return l[0]=0,l[1]=0,l[2]=0,l[3]=1,l[4]=.5*a[0],l[5]=.5*a[1],l[6]=.5*a[2],l[7]=0,l},xr.fromRotation=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=0,l[5]=0,l[6]=0,l[7]=0,l},xr.fromMat4=function(l,a){var u=vn.create();Ui.getRotation(u,a);var f=new Cn.ARRAY_TYPE(3);return Ui.getTranslation(f,a),_o(l,u,f),l},xr.copy=Fo,xr.identity=function(l){return l[0]=0,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,l[6]=0,l[7]=0,l},xr.set=function(l,a,u,f,h,v,_,S,P){return l[0]=a,l[1]=u,l[2]=f,l[3]=h,l[4]=v,l[5]=_,l[6]=S,l[7]=P,l},xr.getDual=function(l,a){return l[0]=a[4],l[1]=a[5],l[2]=a[6],l[3]=a[7],l},xr.setDual=function(l,a){return l[4]=a[0],l[5]=a[1],l[6]=a[2],l[7]=a[3],l},xr.getTranslation=function(l,a){var u=a[4],f=a[5],h=a[6],v=a[7],_=-a[0],S=-a[1],P=-a[2],I=a[3];return l[0]=2*(u*I+v*_+f*P-h*S),l[1]=2*(f*I+v*S+h*_-u*P),l[2]=2*(h*I+v*P+u*S-f*_),l},xr.translate=function(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3],S=.5*u[0],P=.5*u[1],I=.5*u[2],L=a[4],F=a[5],W=a[6],X=a[7];return l[0]=f,l[1]=h,l[2]=v,l[3]=_,l[4]=_*S+h*I-v*P+L,l[5]=_*P+v*S-f*I+F,l[6]=_*I+f*P-h*S+W,l[7]=-f*S-h*P-v*I+X,l},xr.rotateX=function(l,a,u){var f=-a[0],h=-a[1],v=-a[2],_=a[3],S=a[4],P=a[5],I=a[6],L=a[7],F=S*_+L*f+P*v-I*h,W=P*_+L*h+I*f-S*v,X=I*_+L*v+S*h-P*f,ee=L*_-S*f-P*h-I*v;return vn.rotateX(l,a,u),l[4]=F*(_=l[3])+ee*(f=l[0])+W*(v=l[2])-X*(h=l[1]),l[5]=W*_+ee*h+X*f-F*v,l[6]=X*_+ee*v+F*h-W*f,l[7]=ee*_-F*f-W*h-X*v,l},xr.rotateY=function(l,a,u){var f=-a[0],h=-a[1],v=-a[2],_=a[3],S=a[4],P=a[5],I=a[6],L=a[7],F=S*_+L*f+P*v-I*h,W=P*_+L*h+I*f-S*v,X=I*_+L*v+S*h-P*f,ee=L*_-S*f-P*h-I*v;return vn.rotateY(l,a,u),l[4]=F*(_=l[3])+ee*(f=l[0])+W*(v=l[2])-X*(h=l[1]),l[5]=W*_+ee*h+X*f-F*v,l[6]=X*_+ee*v+F*h-W*f,l[7]=ee*_-F*f-W*h-X*v,l},xr.rotateZ=function(l,a,u){var f=-a[0],h=-a[1],v=-a[2],_=a[3],S=a[4],P=a[5],I=a[6],L=a[7],F=S*_+L*f+P*v-I*h,W=P*_+L*h+I*f-S*v,X=I*_+L*v+S*h-P*f,ee=L*_-S*f-P*h-I*v;return vn.rotateZ(l,a,u),l[4]=F*(_=l[3])+ee*(f=l[0])+W*(v=l[2])-X*(h=l[1]),l[5]=W*_+ee*h+X*f-F*v,l[6]=X*_+ee*v+F*h-W*f,l[7]=ee*_-F*f-W*h-X*v,l},xr.rotateByQuatAppend=function(l,a,u){var f=u[0],h=u[1],v=u[2],_=u[3],S=a[0],P=a[1],I=a[2],L=a[3];return l[0]=S*_+L*f+P*v-I*h,l[1]=P*_+L*h+I*f-S*v,l[2]=I*_+L*v+S*h-P*f,l[3]=L*_-S*f-P*h-I*v,l[4]=(S=a[4])*_+(L=a[7])*f+(P=a[5])*v-(I=a[6])*h,l[5]=P*_+L*h+I*f-S*v,l[6]=I*_+L*v+S*h-P*f,l[7]=L*_-S*f-P*h-I*v,l},xr.rotateByQuatPrepend=function(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3],S=u[0],P=u[1],I=u[2],L=u[3];return l[0]=f*L+_*S+h*I-v*P,l[1]=h*L+_*P+v*S-f*I,l[2]=v*L+_*I+f*P-h*S,l[3]=_*L-f*S-h*P-v*I,l[4]=f*(L=u[7])+_*(S=u[4])+h*(I=u[6])-v*(P=u[5]),l[5]=h*L+_*P+v*S-f*I,l[6]=v*L+_*I+f*P-h*S,l[7]=_*L-f*S-h*P-v*I,l},xr.rotateAroundAxis=function(l,a,u,f){if(Math.abs(f)<Cn.EPSILON)return Fo(l,a);var h=Math.hypot(u[0],u[1],u[2]);f*=.5;var v=Math.sin(f),_=v*u[0]/h,S=v*u[1]/h,P=v*u[2]/h,I=Math.cos(f),L=a[0],F=a[1],W=a[2],X=a[3];l[0]=L*I+X*_+F*P-W*S,l[1]=F*I+X*S+W*_-L*P,l[2]=W*I+X*P+L*S-F*_,l[3]=X*I-L*_-F*S-W*P;var ee=a[4],ae=a[5],oe=a[6],_e=a[7];return l[4]=ee*I+_e*_+ae*P-oe*S,l[5]=ae*I+_e*S+oe*_-ee*P,l[6]=oe*I+_e*P+ee*S-ae*_,l[7]=_e*I-ee*_-ae*S-oe*P,l},xr.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l[2]=a[2]+u[2],l[3]=a[3]+u[3],l[4]=a[4]+u[4],l[5]=a[5]+u[5],l[6]=a[6]+u[6],l[7]=a[7]+u[7],l},xr.multiply=Cf,xr.scale=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l[2]=a[2]*u,l[3]=a[3]*u,l[4]=a[4]*u,l[5]=a[5]*u,l[6]=a[6]*u,l[7]=a[7]*u,l},xr.lerp=function(l,a,u,f){var h=1-f;return w3(a,u)<0&&(f=-f),l[0]=a[0]*h+u[0]*f,l[1]=a[1]*h+u[1]*f,l[2]=a[2]*h+u[2]*f,l[3]=a[3]*h+u[3]*f,l[4]=a[4]*h+u[4]*f,l[5]=a[5]*h+u[5]*f,l[6]=a[6]*h+u[6]*f,l[7]=a[7]*h+u[7]*f,l},xr.invert=function(l,a){var u=a0(a);return l[0]=-a[0]/u,l[1]=-a[1]/u,l[2]=-a[2]/u,l[3]=a[3]/u,l[4]=-a[4]/u,l[5]=-a[5]/u,l[6]=-a[6]/u,l[7]=a[7]/u,l},xr.conjugate=function(l,a){return l[0]=-a[0],l[1]=-a[1],l[2]=-a[2],l[3]=a[3],l[4]=-a[4],l[5]=-a[5],l[6]=-a[6],l[7]=a[7],l},xr.normalize=function(l,a){var u=a0(a);if(u>0){u=Math.sqrt(u);var f=a[0]/u,h=a[1]/u,v=a[2]/u,_=a[3]/u,S=a[4],P=a[5],I=a[6],L=a[7],F=f*S+h*P+v*I+_*L;l[0]=f,l[1]=h,l[2]=v,l[3]=_,l[4]=(S-f*F)/u,l[5]=(P-h*F)/u,l[6]=(I-v*F)/u,l[7]=(L-_*F)/u}return l},xr.str=function(l){return"quat2("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+", "+l[4]+", "+l[5]+", "+l[6]+", "+l[7]+")"},xr.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]&&l[2]===a[2]&&l[3]===a[3]&&l[4]===a[4]&&l[5]===a[5]&&l[6]===a[6]&&l[7]===a[7]},xr.equals=function(l,a){var u=l[0],f=l[1],h=l[2],v=l[3],_=l[4],S=l[5],P=l[6],I=l[7],L=a[0],F=a[1],W=a[2],X=a[3],ee=a[4],ae=a[5],oe=a[6],_e=a[7];return Math.abs(u-L)<=Cn.EPSILON*Math.max(1,Math.abs(u),Math.abs(L))&&Math.abs(f-F)<=Cn.EPSILON*Math.max(1,Math.abs(f),Math.abs(F))&&Math.abs(h-W)<=Cn.EPSILON*Math.max(1,Math.abs(h),Math.abs(W))&&Math.abs(v-X)<=Cn.EPSILON*Math.max(1,Math.abs(v),Math.abs(X))&&Math.abs(_-ee)<=Cn.EPSILON*Math.max(1,Math.abs(_),Math.abs(ee))&&Math.abs(S-ae)<=Cn.EPSILON*Math.max(1,Math.abs(S),Math.abs(ae))&&Math.abs(P-oe)<=Cn.EPSILON*Math.max(1,Math.abs(P),Math.abs(oe))&&Math.abs(I-_e)<=Cn.EPSILON*Math.max(1,Math.abs(I),Math.abs(_e))},xr.sqrLen=xr.squaredLength=xr.len=xr.length=xr.dot=xr.mul=xr.setReal=xr.getReal=void 0;var Cn=qa(Z),vn=qa(tr),Ui=qa($e);function Wi(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(Wi=function(f){return f?u:a})(l)}function qa(l,a){if(l&&l.__esModule)return l;if(l===null||gi(l)!=="object"&&typeof l!="function")return{default:l};var u=Wi(a);if(u&&u.has(l))return u.get(l);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in l)if(v!=="default"&&Object.prototype.hasOwnProperty.call(l,v)){var _=h?Object.getOwnPropertyDescriptor(l,v):null;_&&(_.get||_.set)?Object.defineProperty(f,v,_):f[v]=l[v]}return f.default=l,u&&u.set(l,f),f}function _o(l,a,u){var f=.5*u[0],h=.5*u[1],v=.5*u[2],_=a[0],S=a[1],P=a[2],I=a[3];return l[0]=_,l[1]=S,l[2]=P,l[3]=I,l[4]=f*I+h*P-v*S,l[5]=h*I+v*_-f*P,l[6]=v*I+f*S-h*_,l[7]=-f*_-h*S-v*P,l}function Fo(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5],l[6]=a[6],l[7]=a[7],l}function Cf(l,a,u){var f=a[0],h=a[1],v=a[2],_=a[3],S=u[4],P=u[5],I=u[6],L=u[7],F=a[4],W=a[5],X=a[6],ee=a[7],ae=u[0],oe=u[1],_e=u[2],Re=u[3];return l[0]=f*Re+_*ae+h*_e-v*oe,l[1]=h*Re+_*oe+v*ae-f*_e,l[2]=v*Re+_*_e+f*oe-h*ae,l[3]=_*Re-f*ae-h*oe-v*_e,l[4]=f*L+_*S+h*I-v*P+F*Re+ee*ae+W*_e-X*oe,l[5]=h*L+_*P+v*S-f*I+W*Re+ee*oe+X*ae-F*_e,l[6]=v*L+_*I+f*P-h*S+X*Re+ee*_e+F*oe-W*ae,l[7]=_*L-f*S-h*P-v*I+ee*Re-F*ae-W*oe-X*_e,l}xr.getReal=vn.copy,xr.setReal=vn.copy,xr.mul=Cf;var w3=vn.dot;xr.dot=w3;var S3=vn.length;xr.length=S3,xr.len=S3;var a0=vn.squaredLength;xr.squaredLength=a0,xr.sqrLen=a0;var cn={};function mv(l){return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},mv(l)}Object.defineProperty(cn,"__esModule",{value:!0}),cn.create=A3,cn.clone=function(l){var a=new Ad.ARRAY_TYPE(2);return a[0]=l[0],a[1]=l[1],a},cn.fromValues=function(l,a){var u=new Ad.ARRAY_TYPE(2);return u[0]=l,u[1]=a,u},cn.copy=function(l,a){return l[0]=a[0],l[1]=a[1],l},cn.set=function(l,a,u){return l[0]=a,l[1]=u,l},cn.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l},cn.subtract=T3,cn.multiply=P3,cn.divide=C3,cn.ceil=function(l,a){return l[0]=Math.ceil(a[0]),l[1]=Math.ceil(a[1]),l},cn.floor=function(l,a){return l[0]=Math.floor(a[0]),l[1]=Math.floor(a[1]),l},cn.min=function(l,a,u){return l[0]=Math.min(a[0],u[0]),l[1]=Math.min(a[1],u[1]),l},cn.max=function(l,a,u){return l[0]=Math.max(a[0],u[0]),l[1]=Math.max(a[1],u[1]),l},cn.round=function(l,a){return l[0]=Math.round(a[0]),l[1]=Math.round(a[1]),l},cn.scale=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l},cn.scaleAndAdd=function(l,a,u,f){return l[0]=a[0]+u[0]*f,l[1]=a[1]+u[1]*f,l},cn.distance=I3,cn.squaredDistance=M3,cn.length=o0,cn.squaredLength=s0,cn.negate=function(l,a){return l[0]=-a[0],l[1]=-a[1],l},cn.inverse=function(l,a){return l[0]=1/a[0],l[1]=1/a[1],l},cn.normalize=function(l,a){var u=a[0],f=a[1],h=u*u+f*f;return h>0&&(h=1/Math.sqrt(h)),l[0]=a[0]*h,l[1]=a[1]*h,l},cn.dot=function(l,a){return l[0]*a[0]+l[1]*a[1]},cn.cross=function(l,a,u){var f=a[0]*u[1]-a[1]*u[0];return l[0]=l[1]=0,l[2]=f,l},cn.lerp=function(l,a,u,f){var h=a[0],v=a[1];return l[0]=h+f*(u[0]-h),l[1]=v+f*(u[1]-v),l},cn.random=function(l,a){a=a||1;var u=2*Ad.RANDOM()*Math.PI;return l[0]=Math.cos(u)*a,l[1]=Math.sin(u)*a,l},cn.transformMat2=function(l,a,u){var f=a[0],h=a[1];return l[0]=u[0]*f+u[2]*h,l[1]=u[1]*f+u[3]*h,l},cn.transformMat2d=function(l,a,u){var f=a[0],h=a[1];return l[0]=u[0]*f+u[2]*h+u[4],l[1]=u[1]*f+u[3]*h+u[5],l},cn.transformMat3=function(l,a,u){var f=a[0],h=a[1];return l[0]=u[0]*f+u[3]*h+u[6],l[1]=u[1]*f+u[4]*h+u[7],l},cn.transformMat4=function(l,a,u){var f=a[0],h=a[1];return l[0]=u[0]*f+u[4]*h+u[12],l[1]=u[1]*f+u[5]*h+u[13],l},cn.rotate=function(l,a,u,f){var h=a[0]-u[0],v=a[1]-u[1],_=Math.sin(f),S=Math.cos(f);return l[0]=h*S-v*_+u[0],l[1]=h*_+v*S+u[1],l},cn.angle=function(l,a){var u=l[0],f=l[1],h=a[0],v=a[1],_=Math.sqrt(u*u+f*f)*Math.sqrt(h*h+v*v);return Math.acos(Math.min(Math.max(_&&(u*h+f*v)/_,-1),1))},cn.zero=function(l){return l[0]=0,l[1]=0,l},cn.str=function(l){return"vec2("+l[0]+", "+l[1]+")"},cn.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]},cn.equals=function(l,a){var u=l[0],f=l[1],h=a[0],v=a[1];return Math.abs(u-h)<=Ad.EPSILON*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(f-v)<=Ad.EPSILON*Math.max(1,Math.abs(f),Math.abs(v))},cn.forEach=cn.sqrLen=cn.sqrDist=cn.dist=cn.div=cn.mul=cn.sub=cn.len=void 0;var Ad=function(l,a){if(l&&l.__esModule)return l;if(l===null||mv(l)!=="object"&&typeof l!="function")return{default:l};var u=E3(void 0);if(u&&u.has(l))return u.get(l);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in l)if(v!=="default"&&Object.prototype.hasOwnProperty.call(l,v)){var _=h?Object.getOwnPropertyDescriptor(l,v):null;_&&(_.get||_.set)?Object.defineProperty(f,v,_):f[v]=l[v]}return f.default=l,u&&u.set(l,f),f}(Z);function E3(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(E3=function(f){return f?u:a})(l)}function A3(){var l=new Ad.ARRAY_TYPE(2);return Ad.ARRAY_TYPE!=Float32Array&&(l[0]=0,l[1]=0),l}function T3(l,a,u){return l[0]=a[0]-u[0],l[1]=a[1]-u[1],l}function P3(l,a,u){return l[0]=a[0]*u[0],l[1]=a[1]*u[1],l}function C3(l,a,u){return l[0]=a[0]/u[0],l[1]=a[1]/u[1],l}function I3(l,a){return Math.hypot(a[0]-l[0],a[1]-l[1])}function M3(l,a){var u=a[0]-l[0],f=a[1]-l[1];return u*u+f*f}function o0(l){return Math.hypot(l[0],l[1])}function s0(l){var a=l[0],u=l[1];return a*a+u*u}cn.len=o0,cn.sub=T3,cn.mul=P3,cn.div=C3,cn.dist=I3,cn.sqrDist=M3,cn.sqrLen=s0;var gv=function(){var l=A3();return function(a,u,f,h,v,_){var S,P;for(u||(u=2),f||(f=0),P=h?Math.min(h*u+f,a.length):a.length,S=f;S<P;S+=u)l[0]=a[S],l[1]=a[S+1],v(l,l,_),a[S]=l[0],a[S+1]=l[1];return a}}();function yv(l){return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},yv(l)}cn.forEach=gv,Object.defineProperty(U,"__esModule",{value:!0}),o.aB=U.vec4=o.$=U.vec3=U.vec2=U.quat2=o.aw=U.quat=o.ae=U.mat4=o.bE=U.mat3=U.mat2d=o.aD=U.mat2=U.glMatrix=void 0;var uS=Hs(Z);U.glMatrix=uS;var cS=Hs(pe);o.aD=U.mat2=cS;var Oh=Hs(re);U.mat2d=Oh;var On=Hs(de);o.bE=U.mat3=On;var Qk=Hs($e);o.ae=U.mat4=Qk;var eO=Hs(tr);o.aw=U.quat=eO;var tO=Hs(xr);U.quat2=tO;var dS=Hs(cn);U.vec2=dS;var rO=Hs(Xt);o.$=U.vec3=rO;var k3=Hs(Tt);function l0(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(l0=function(f){return f?u:a})(l)}function Hs(l,a){if(l&&l.__esModule)return l;if(l===null||yv(l)!=="object"&&typeof l!="function")return{default:l};var u=l0(a);if(u&&u.has(l))return u.get(l);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in l)if(v!=="default"&&Object.prototype.hasOwnProperty.call(l,v)){var _=h?Object.getOwnPropertyDescriptor(l,v):null;_&&(_.get||_.set)?Object.defineProperty(f,v,_):f[v]=l[v]}return f.default=l,u&&u.set(l,f),f}o.aB=U.vec4=k3;var fS=pS;function pS(l,a,u,f){this.cx=3*l,this.bx=3*(u-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(f-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=a,this.p2x=u,this.p2y=f}pS.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,a){if(a===void 0&&(a=1e-6),l<0)return 0;if(l>1)return 1;for(var u=l,f=0;f<8;f++){var h=this.sampleCurveX(u)-l;if(Math.abs(h)<a)return u;var v=this.sampleCurveDerivativeX(u);if(Math.abs(v)<1e-6)break;u-=h/v}var _=0,S=1;for(u=l,f=0;f<20&&(h=this.sampleCurveX(u),!(Math.abs(h-l)<a));f++)l>h?_=u:S=u,u=.5*(S-_)+_;return u},solve:function(l,a){return this.sampleCurveY(this.solveCurveX(l,a))}};var O3=V(fS),u0=If;function If(l,a){this.x=l,this.y=a}If.prototype={clone:function(){return new If(this.x,this.y)},add:function(l){return this.clone()._add(l)},sub:function(l){return this.clone()._sub(l)},multByPoint:function(l){return this.clone()._multByPoint(l)},divByPoint:function(l){return this.clone()._divByPoint(l)},mult:function(l){return this.clone()._mult(l)},div:function(l){return this.clone()._div(l)},rotate:function(l){return this.clone()._rotate(l)},rotateAround:function(l,a){return this.clone()._rotateAround(l,a)},matMult:function(l){return this.clone()._matMult(l)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(l){return this.x===l.x&&this.y===l.y},dist:function(l){return Math.sqrt(this.distSqr(l))},distSqr:function(l){var a=l.x-this.x,u=l.y-this.y;return a*a+u*u},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith:function(l){return this.angleWithSep(l.x,l.y)},angleWithSep:function(l,a){return Math.atan2(this.x*a-this.y*l,this.x*l+this.y*a)},_matMult:function(l){var a=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=a,this},_add:function(l){return this.x+=l.x,this.y+=l.y,this},_sub:function(l){return this.x-=l.x,this.y-=l.y,this},_mult:function(l){return this.x*=l,this.y*=l,this},_div:function(l){return this.x/=l,this.y/=l,this},_multByPoint:function(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint:function(l){return this.x/=l.x,this.y/=l.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var l=this.y;return this.y=this.x,this.x=-l,this},_rotate:function(l){var a=Math.cos(l),u=Math.sin(l),f=u*this.x+a*this.y;return this.x=a*this.x-u*this.y,this.y=f,this},_rotateAround:function(l,a){var u=Math.cos(l),f=Math.sin(l),h=a.y+f*(this.x-a.x)+u*(this.y-a.y);return this.x=a.x+u*(this.x-a.x)-f*(this.y-a.y),this.y=h,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},If.convert=function(l){return l instanceof If?l:Array.isArray(l)?new If(l[0],l[1]):l};var or=V(u0);function Dh(l,a){if(Array.isArray(l)){if(!Array.isArray(a)||l.length!==a.length)return!1;for(let u=0;u<l.length;u++)if(!Dh(l[u],a[u]))return!1;return!0}if(typeof l=="object"&&l!==null&&a!==null){if(typeof a!="object"||Object.keys(l).length!==Object.keys(a).length)return!1;for(const u in l)if(!Dh(l[u],a[u]))return!1;return!0}return l===a}const hS=Math.PI/180,Rh=180/Math.PI;function Sn(l){return l*hS}function os(l){return l*Rh}const c0=[[0,0],[1,0],[1,1],[0,1]];function vv(l){if(l<=0)return 0;if(l>=1)return 1;const a=l*l,u=a*l;return 4*(l<.5?u:3*(l-a)+u-.75)}function _v(l,a,u,f){const h=new O3(l,a,u,f);return function(v){return h.solve(v)}}const Zl=_v(.25,.1,.25,1);function pn(l,a,u){return Math.min(u,Math.max(a,l))}function D3(l,a,u){return(u=pn((u-l)/(a-l),0,1))*u*(3-2*u)}function $h(l,a,u){const f=u-a,h=((l-a)%f+f)%f+a;return h===a?u:h}function d0(l,a,u){if(!l.length)return u(null,[]);let f=l.length;const h=new Array(l.length);let v=null;l.forEach((_,S)=>{a(_,(P,I)=>{P&&(v=P),h[S]=I,--f==0&&u(v,h)})})}function R3(l){const a=[];for(const u in l)a.push(l[u]);return a}function bo(l,...a){for(const u of a)for(const f in u)l[f]=u[f];return l}let mS=1;function bv(){return mS++}function Lh(){return function l(a){return a?(a^Math.random()*(16>>a/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,l)}()}function Mf(l){return l<=1?1:Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))}function $3(l){return!!l&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(l)}function xv(l,a){l.forEach(u=>{a[u]&&(a[u]=a[u].bind(a))})}function f0(l,a){return l.indexOf(a,l.length-a.length)!==-1}function p0(l,a,u){const f={};for(const h in l)f[h]=a.call(this,l[h],h,l);return f}function xo(l,a,u){const f={};for(const h in l)a.call(this,l[h],h,l)&&(f[h]=l[h]);return f}function ss(l){return Array.isArray(l)?l.map(ss):typeof l=="object"&&l?p0(l,ss):l}const wo={};function la(l){wo[l]||(typeof console<"u"&&console.warn(l),wo[l]=!0)}function Td(l,a,u){return(u.y-l.y)*(a.x-l.x)>(a.y-l.y)*(u.x-l.x)}function nO(l){let a=0;for(let u,f,h=0,v=l.length,_=v-1;h<v;_=h++)u=l[h],f=l[_],a+=(f.x-u.x)*(u.y+f.y);return a}function Bh([l,a,u]){const f=Sn(a+90),h=Sn(u);return{x:l*Math.cos(f)*Math.sin(h),y:l*Math.sin(f)*Math.sin(h),z:l*Math.cos(h),azimuthal:a,polar:u}}function zh(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function h0(l){const a={};if(l.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(u,f,h,v)=>{const _=h||v;return a[f]=!_||_.toLowerCase(),""}),a["max-age"]){const u=parseInt(a["max-age"],10);isNaN(u)?delete a["max-age"]:a["max-age"]=u}return a}let L3,m0,Pd,g0,Cd,y0,v0=null;function wv(l){try{const a=self[l];return a.setItem("_mapbox_test_",1),a.removeItem("_mapbox_test_"),!0}catch{return!1}}function Id(l,a){return[l[4*a],l[4*a+1],l[4*a+2],l[4*a+3]]}function Sv(l,a,u,f){for(;a<u;){const h=a+u>>1;l[h]<f?a=h+1:u=h}return a}function Ev(l,a,u,f){for(;a<u;){const h=a+u>>1;l[h]<=f?a=h+1:u=h}return a}function gS(l){return l>0?1/(1.001-l):1+l}function yS(l){return l>0?1-1/(1.001-l):-l}function B3(){return L3==null&&(L3=self.OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),L3}const So={now:()=>g0!==void 0?g0:performance.now(),setNow(l){g0=l},restoreNow(){g0=void 0},frame(l){const a=requestAnimationFrame(l);return{cancel:()=>cancelAnimationFrame(a)}},getImageData(l,a=0){const{width:u,height:f}=l;Cd||(Cd=document.createElement("canvas"));const h=Cd.getContext("2d",{willReadFrequently:!0});if(!h)throw new Error("failed to create canvas 2d context");return(u>Cd.width||f>Cd.height)&&(Cd.width=u,Cd.height=f),h.clearRect(-a,-a,u+2*a,f+2*a),h.drawImage(l,0,0,u,f),h.getImageData(-a,-a,u+2*a,f+2*a)},resolveURL:l=>(m0||(m0=document.createElement("a")),m0.href=l,m0.href),get devicePixelRatio(){return window.devicePixelRatio},get prefersReducedMotion(){return!!window.matchMedia&&(Pd==null&&(Pd=window.matchMedia("(prefers-reduced-motion: reduce)")),Pd.matches)},hasCanvasFingerprintNoise(){if(y0!==void 0)return y0;if(!B3())return y0=!1,!1;const l=new OffscreenCanvas(85,1),a=l.getContext("2d",{willReadFrequently:!0});let u=0;for(let h=0;h<l.width;++h)a.fillStyle=`rgba(${u++},${u++},${u++}, 255)`,a.fillRect(h,0,1,1);const f=a.getImageData(0,0,l.width,l.height);u=0;for(let h=0;h<f.data.length;++h)if(h%4!=3&&u++!==f.data[h])return y0=!0,!0;return y0=!1,!1}};function vS(l,a){const u=l.indexOf("?");if(u<0)return`${l}?${new URLSearchParams(a).toString()}`;const f=new URLSearchParams(l.slice(u));for(const h in a)f.set(h,a[h]);return`${l.slice(0,u)}?${f.toString()}`}function z3(l,a={persistentParams:[]}){const u=l.indexOf("?");if(u<0)return l;const f=new URLSearchParams,h=new URLSearchParams(l.slice(u));for(const _ of a.persistentParams){const S=h.get(_);S&&f.set(_,S)}const v=f.toString();return`${l.slice(0,u)}${v.length>0?`?${v}`:""}`}const _S="mapbox-tiles";let N3=500,F3=50;const bS=["language","worldview","jobid"];let ku,Av;function xS(){try{return caches}catch{}}function _0(){const l=xS();l&&!ku&&(ku=l.open(_S))}let Tv=1/0;const Pv={supported:!1,testSupport:function(l){!Cv&&Nh&&(wS?j3(l):b0=l)}};let b0,Nh,Cv=!1,wS=!1;const SS=typeof self<"u"?self:{};function j3(l){const a=l.createTexture();l.bindTexture(l.TEXTURE_2D,a);try{if(l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,Nh),l.isContextLost())return;Pv.supported=!0}catch{}l.deleteTexture(a),Cv=!0}SS.document&&(Nh=SS.document.createElement("img"),Nh.onload=function(){b0&&j3(b0),b0=null,wS=!0},Nh.onerror=function(){Cv=!0,b0=null},Nh.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const x0={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image",Model:"Model"};typeof Object.freeze=="function"&&Object.freeze(x0);class Iv extends Error{constructor(a,u,f){u===401&&E(f)&&(a+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(a),this.status=u,this.url=f}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const V3=zh()?()=>self.worker&&self.worker.referrer:()=>(location.protocol==="blob:"?parent:self).location.href,Ou=function(l,a){if(!(/^file:/.test(u=l.url)||/^file:/.test(V3())&&!/^\w+:/.test(u))){if(self.fetch&&self.Request&&self.AbortController&&Request.prototype.hasOwnProperty("signal"))return function(f,h){const v=new AbortController,_=new Request(f.url,{method:f.method||"GET",body:f.body,credentials:f.credentials,headers:f.headers,referrer:V3(),referrerPolicy:f.referrerPolicy,signal:v.signal});let S=!1,P=!1;const I=(L=_.url).indexOf("sku=")>0&&E(L);var L;f.type==="json"&&_.headers.set("Accept","application/json");const F=(X,ee,ae)=>{if(P)return;if(X&&X.message!=="SecurityError"&&la(X.toString()),ee&&ae)return W(ee);const oe=Date.now();fetch(_).then(_e=>{if(_e.ok){const Re=I?_e.clone():null;return W(_e,Re,oe)}return h(new Iv(_e.statusText,_e.status,f.url))}).catch(_e=>{_e.name!=="AbortError"&&h(new Error(`${_e.message} ${f.url}`))})},W=(X,ee,ae)=>{(f.type==="arrayBuffer"?X.arrayBuffer():f.type==="json"?X.json():X.text()).then(oe=>{P||(ee&&ae&&function(_e,Re,De){if(_0(),!ku)return;const ze=h0(Re.headers.get("Cache-Control")||"");if(ze["no-store"])return;const qe={status:Re.status,statusText:Re.statusText,headers:new Headers};Re.headers.forEach((ut,mt)=>qe.headers.set(mt,ut)),ze["max-age"]&&qe.headers.set("Expires",new Date(De+1e3*ze["max-age"]).toUTCString());const Ze=qe.headers.get("Expires");if(!Ze||new Date(Ze).getTime()-De<42e4)return;let rt=z3(_e.url,{persistentParams:bS});if(Re.status===206){const ut=_e.headers.get("Range");if(!ut)return;qe.status=200,rt=vS(rt,{range:ut})}(function(ut,mt){if(Av===void 0)try{new Response(new ReadableStream),Av=!0}catch{Av=!1}Av?mt(ut.body):ut.blob().then(mt)})(Re,ut=>{const mt=new Response((St=Re.status)!==200&&St!==404&&[101,103,204,205,304].includes(St)?null:ut,qe);var St;_0(),ku&&ku.then(yt=>yt.put(rt,mt)).catch(yt=>la(yt.message))})}(_,ee,ae),S=!0,h(null,oe,X.headers.get("Cache-Control"),X.headers.get("Expires")))}).catch(oe=>{P||h(new Error(oe.message))})};return I?function(X,ee){if(_0(),!ku)return ee(null);ku.then(ae=>{let oe=z3(X.url,{persistentParams:bS});const _e=X.headers.get("Range");_e&&(oe=vS(oe,{range:_e})),ae.match(oe).then(Re=>{const De=function(ze){if(!ze)return!1;const qe=new Date(ze.headers.get("Expires")||0),Ze=h0(ze.headers.get("Cache-Control")||"");return qe>Date.now()&&!Ze["no-cache"]}(Re);ae.delete(oe),De&&ae.put(oe,Re.clone()),ee(null,Re,De)}).catch(ee)}).catch(ee)}(_,F):F(null,null),{cancel:()=>{P=!0,S||v.abort()}}}(l,a);if(zh()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",l,a,void 0,!0)}var u;return function(f,h){const v=new XMLHttpRequest;v.open(f.method||"GET",f.url,!0),f.type==="arrayBuffer"&&(v.responseType="arraybuffer");for(const _ in f.headers)v.setRequestHeader(_,f.headers[_]);return f.type==="json"&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials=f.credentials==="include",v.onerror=()=>{h(new Error(v.statusText))},v.onload=()=>{if((v.status>=200&&v.status<300||v.status===0)&&v.response!==null){let _=v.response;if(f.type==="json")try{_=JSON.parse(v.response)}catch(S){return h(S)}h(null,_,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else h(new Iv(v.statusText,v.status,f.url))},v.send(f.body),{cancel:()=>v.abort()}}(l,a)},kf=function(l,a){return Ou(bo(l,{type:"arrayBuffer"}),a)};function iO(l){const a=document.createElement("a");return a.href=l,a.protocol===location.protocol&&a.host===location.host}const ES="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let w0,Fh;w0=[],Fh=0;const S0=function(l,a){if(Pv.supported&&(l.headers||(l.headers={}),l.headers.accept="image/webp,*/*"),Fh>=x.MAX_PARALLEL_IMAGE_REQUESTS){const v={requestParameters:l,callback:a,cancelled:!1,cancel(){this.cancelled=!0}};return w0.push(v),v}Fh++;let u=!1;const f=()=>{if(!u)for(u=!0,Fh--;w0.length&&Fh<x.MAX_PARALLEL_IMAGE_REQUESTS;){const v=w0.shift(),{requestParameters:_,callback:S,cancelled:P}=v;P||(v.cancel=S0(_,S).cancel)}},h=kf(l,(v,_,S,P)=>{f(),v?a(v):_&&(self.createImageBitmap?function(I,L){const F=new Blob([new Uint8Array(I)],{type:"image/png"});createImageBitmap(F).then(W=>{L(null,W)}).catch(W=>{L(new Error(`Could not load image because of ${W.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(_,(I,L)=>a(I,L,S,P)):function(I,L){const F=new Image;F.onload=()=>{L(null,F),URL.revokeObjectURL(F.src),F.onload=null,requestAnimationFrame(()=>{F.src=ES})},F.onerror=()=>L(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const W=new Blob([new Uint8Array(I)],{type:"image/png"});F.src=I.byteLength?URL.createObjectURL(W):ES}(_,(I,L)=>a(I,L,S,P)))});return{cancel:()=>{h.cancel(),f()}}},U3="01",W3="NO_ACCESS_TOKEN",aO=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Sl(l){const a=l.match(aO);if(!a)throw new Error("Unable to parse URL object");return{protocol:a[1],authority:a[2],path:a[3]||"/",params:a[4]?a[4].split("&"):[]}}function Of(l){const a=l.params.length?`?${l.params.join("&")}`:"";return`${l.protocol}://${l.authority}${l.path}${a}`}const K3="mapbox.eventData";function AS(l){if(!l)return null;const a=l.split(".");if(!a||a.length!==3)return null;try{return JSON.parse(decodeURIComponent(atob(a[1]).split("").map(u=>"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Df{constructor(a){this.type=a,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(a){const u=AS(x.ACCESS_TOKEN);let f="";return f=u&&u.u?btoa(encodeURIComponent(u.u).replace(/%([0-9A-F]{2})/g,(h,v)=>String.fromCharCode(+("0x"+v)))):x.ACCESS_TOKEN||"",a?`${K3}.${a}:${f}`:`${K3}:${f}`}fetchEventData(){const a=wv("localStorage"),u=this.getStorageKey(),f=this.getStorageKey("uuid");if(a)try{const h=localStorage.getItem(u);h&&(this.eventData=JSON.parse(h));const v=localStorage.getItem(f);v&&(this.anonId=v)}catch{la("Unable to read from LocalStorage")}}saveEventData(){const a=wv("localStorage"),u=this.getStorageKey(),f=this.getStorageKey("uuid"),h=this.anonId;if(a&&h)try{localStorage.setItem(f,h),Object.keys(this.eventData).length>=1&&localStorage.setItem(u,JSON.stringify(this.eventData))}catch{la("Unable to write to LocalStorage")}}processRequests(a){}postEvent(a,u,f,h){if(!x.EVENTS_URL)return;const v=Sl(x.EVENTS_URL);v.params.push(`access_token=${h||x.ACCESS_TOKEN||""}`);const _={event:this.type,created:new Date(a).toISOString()},S=u?bo(_,u):_,P={url:Of(v),headers:{"Content-Type":"text/plain"},body:JSON.stringify([S])};this.pendingRequest=function(I,L){return Ou(bo(I,{method:"POST"}),L)}(P,I=>{this.pendingRequest=null,f(I),this.saveEventData(),this.processRequests(h)})}queueRequest(a,u){this.queue.push(a),this.processRequests(u)}}const TS=new class extends Df{constructor(l){super("appUserTurnstile"),this._customAccessToken=l}postTurnstileEvent(l,a){x.EVENTS_URL&&x.ACCESS_TOKEN&&Array.isArray(l)&&l.some(u=>A(u)||E(u))&&this.queueRequest(Date.now(),a)}processRequests(l){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const a=AS(x.ACCESS_TOKEN),u=a?a.u:x.ACCESS_TOKEN;let f=u!==this.eventData.tokenU;$3(this.anonId)||(this.anonId=Lh(),f=!0);const h=this.queue.shift();if(this.eventData.lastSuccess){const v=new Date(this.eventData.lastSuccess),_=new Date(h),S=(h-this.eventData.lastSuccess)/864e5;f=f||S>=1||S<-1||v.getDate()!==_.getDate()}else f=!0;f?this.postEvent(h,{sdkIdentifier:"mapbox-gl-js",sdkVersion:g,skuId:U3,"enabled.telemetry":!1,userId:this.anonId},v=>{v||(this.eventData.lastSuccess=h,this.eventData.tokenU=u)},l):this.processRequests()}},H3=TS.postTurnstileEvent.bind(TS),jh=new class extends Df{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(l,a,u,f){this.skuToken=a,this.errorCb=f,x.EVENTS_URL&&(u||x.ACCESS_TOKEN?this.queueRequest({id:l,timestamp:Date.now()},u):this.errorCb(new Error(W3)))}processRequests(l){if(this.pendingRequest||this.queue.length===0)return;const{id:a,timestamp:u}=this.queue.shift();a&&this.success[a]||(this.anonId||this.fetchEventData(),$3(this.anonId)||(this.anonId=Lh()),this.postEvent(u,{sdkIdentifier:"mapbox-gl-js",sdkVersion:g,skuId:U3,skuToken:this.skuToken,userId:this.anonId},f=>{f?this.errorCb(f):a&&(this.success[a]=!0)},l))}remove(){this.errorCb=null}},PS=jh.postMapLoadEvent.bind(jh),E0=new class extends Df{constructor(){super("style.load"),this.eventIdPerMapInstanceMap=new Map,this.mapInstanceIdMap=new WeakMap}getMapInstanceId(l){let a=this.mapInstanceIdMap.get(l);return a||(a=Lh(),this.mapInstanceIdMap.set(l,a)),a}getEventId(l){const a=this.eventIdPerMapInstanceMap.get(l)||0;return this.eventIdPerMapInstanceMap.set(l,a+1),a}postStyleLoadEvent(l,a){const{map:u,style:f,importedStyles:h}=a;if(!x.EVENTS_URL||!l&&!x.ACCESS_TOKEN)return;const v=this.getMapInstanceId(u),_={mapInstanceId:v,eventId:this.getEventId(v),style:f};h.length&&(_.importedStyles=h),this.queueRequest({timestamp:Date.now(),payload:_},l)}processRequests(l){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:a,payload:u}=this.queue.shift();this.postEvent(a,u,()=>{},l)}},CS=E0.postStyleLoadEvent.bind(E0),IS=new class extends Df{constructor(){super("gljs.performance")}postPerformanceEvent(l,a){x.EVENTS_URL&&(l||x.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:a},l)}processRequests(l){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:a,performanceData:u}=this.queue.shift(),f=function(h){const v=performance.getEntriesByType("resource"),_=performance.getEntriesByType("mark"),S=function(X){const ee={};if(X){for(const ae in X)if(ae!=="other")for(const oe of X[ae]){const _e=`${ae}ResolveRangeMin`,Re=`${ae}ResolveRangeMax`,De=`${ae}RequestCount`,ze=`${ae}RequestCachedCount`;ee[_e]=Math.min(ee[_e]||1/0,oe.startTime),ee[Re]=Math.max(ee[Re]||-1/0,oe.responseEnd);const qe=Ze=>{ee[Ze]===void 0&&(ee[Ze]=0),++ee[Ze]};oe.transferSize!==void 0&&oe.transferSize===0&&qe(ze),qe(De)}}return ee}(function(X,ee){const ae={};if(X)for(const oe of X){const _e=ee(oe);ae[_e]===void 0&&(ae[_e]=[]),ae[_e].push(oe)}return ae}(v,B)),P=window.devicePixelRatio,I=navigator.connection||navigator.mozConnection||navigator.webkitConnection,L=I?I.effectiveType:void 0,F={counters:[],metadata:[],attributes:[]},W=(X,ee,ae)=>{ae!=null&&X.push({name:ee,value:ae.toString()})};for(const X in S)W(F.counters,X,S[X]);if(h.interactionRange[0]!==1/0&&h.interactionRange[1]!==-1/0&&(W(F.counters,"interactionRangeMin",h.interactionRange[0]),W(F.counters,"interactionRangeMax",h.interactionRange[1])),_)for(const X of Object.keys(D)){const ee=D[X],ae=_.find(oe=>oe.name===ee);ae&&W(F.counters,ee,ae.startTime)}return W(F.counters,"visibilityHidden",h.visibilityHidden),W(F.attributes,"style",function(X){if(X)for(const ee of X){const ae=ee.name.split("?")[0];if(k(ae)){const oe=ae.split("/").slice(-2);if(oe.length===2)return`mapbox://styles/${oe[0]}/${oe[1]}`}}}(v)),W(F.attributes,"terrainEnabled",h.terrainEnabled?"true":"false"),W(F.attributes,"fogEnabled",h.fogEnabled?"true":"false"),W(F.attributes,"projection",h.projection),W(F.attributes,"zoom",h.zoom),W(F.metadata,"devicePixelRatio",P),W(F.metadata,"connectionEffectiveType",L),W(F.metadata,"navigatorUserAgent",navigator.userAgent),W(F.metadata,"screenWidth",window.screen.width),W(F.metadata,"screenHeight",window.screen.height),W(F.metadata,"windowWidth",window.innerWidth),W(F.metadata,"windowHeight",window.innerHeight),W(F.metadata,"mapWidth",h.width/P),W(F.metadata,"mapHeight",h.height/P),W(F.metadata,"webglRenderer",h.renderer),W(F.metadata,"webglVendor",h.vendor),W(F.metadata,"sdkVersion",g),W(F.metadata,"sdkIdentifier","mapbox-gl-js"),F}(u);for(const h of f.metadata);for(const h of f.counters);for(const h of f.attributes);this.postEvent(a,f,()=>{},l)}},oO=IS.postPerformanceEvent.bind(IS),A0=new class extends Df{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(l,a,u,f){if(!x.API_URL||!x.SESSION_PATH)return;const h=Sl(x.API_URL+x.SESSION_PATH);h.params.push(`sku=${a||""}`),h.params.push(`access_token=${f||x.ACCESS_TOKEN||""}`);const v={url:Of(h),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(_,S){return Ou(bo(_,{method:"GET"}),S)}(v,_=>{this.pendingRequest=null,u(_),this.saveEventData(),this.processRequests(f)})}getSessionAPI(l,a,u,f){this.skuToken=a,this.errorCb=f,x.SESSION_PATH&&x.API_URL&&(u||x.ACCESS_TOKEN?this.queueRequest({id:l,timestamp:Date.now()},u):this.errorCb(new Error(W3)))}processRequests(l){if(this.pendingRequest||this.queue.length===0)return;const{id:a,timestamp:u}=this.queue.shift();a&&this.success[a]||this.getSession(u,this.skuToken,f=>{f?this.errorCb(f):a&&(this.success[a]=!0)},l)}remove(){this.errorCb=null}},G3=A0.getSessionAPI.bind(A0),T0=new Set;var Rf={exports:{}},Vh={exports:function(l,a){var u,f,h,v,_,S,P,I;for(f=l.length-(u=3&l.length),h=a,_=3432918353,S=461845907,I=0;I<f;)P=255&l.charCodeAt(I)|(255&l.charCodeAt(++I))<<8|(255&l.charCodeAt(++I))<<16|(255&l.charCodeAt(++I))<<24,++I,h=27492+(65535&(v=5*(65535&(h=(h^=P=(65535&(P=(P=(65535&P)*_+(((P>>>16)*_&65535)<<16)&4294967295)<<15|P>>>17))*S+(((P>>>16)*S&65535)<<16)&4294967295)<<13|h>>>19))+((5*(h>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(P=0,u){case 3:P^=(255&l.charCodeAt(I+2))<<16;case 2:P^=(255&l.charCodeAt(I+1))<<8;case 1:h^=P=(65535&(P=(P=(65535&(P^=255&l.charCodeAt(I)))*_+(((P>>>16)*_&65535)<<16)&4294967295)<<15|P>>>17))*S+(((P>>>16)*S&65535)<<16)&4294967295}return h^=l.length,h=2246822507*(65535&(h^=h>>>16))+((2246822507*(h>>>16)&65535)<<16)&4294967295,h=3266489909*(65535&(h^=h>>>13))+((3266489909*(h>>>16)&65535)<<16)&4294967295,(h^=h>>>16)>>>0}},sO={exports:function(l,a){for(var u,f=l.length,h=a^f,v=0;f>=4;)u=1540483477*(65535&(u=255&l.charCodeAt(v)|(255&l.charCodeAt(++v))<<8|(255&l.charCodeAt(++v))<<16|(255&l.charCodeAt(++v))<<24))+((1540483477*(u>>>16)&65535)<<16),h=1540483477*(65535&h)+((1540483477*(h>>>16)&65535)<<16)^(u=1540483477*(65535&(u^=u>>>24))+((1540483477*(u>>>16)&65535)<<16)),f-=4,++v;switch(f){case 3:h^=(255&l.charCodeAt(v+2))<<16;case 2:h^=(255&l.charCodeAt(v+1))<<8;case 1:h=1540483477*(65535&(h^=255&l.charCodeAt(v)))+((1540483477*(h>>>16)&65535)<<16)}return h=1540483477*(65535&(h^=h>>>13))+((1540483477*(h>>>16)&65535)<<16),(h^=h>>>15)>>>0}},MS=Vh.exports,lO=sO.exports;Rf.exports=MS,Rf.exports.murmur3=MS,Rf.exports.murmur2=lO;var Mv=V(Rf.exports);class Du{constructor(a,...u){bo(this,u[0]||{}),this.type=a}}class P0 extends Du{constructor(a,u={}){super("error",bo({error:a},u))}}function kv(l,a,u){u[l]&&u[l].indexOf(a)!==-1||(u[l]=u[l]||[],u[l].push(a))}function q3(l,a,u){if(u&&u[l]){const f=u[l].indexOf(a);f!==-1&&u[l].splice(f,1)}}class $f{on(a,u){return this._listeners=this._listeners||{},kv(a,u,this._listeners),this}off(a,u){return q3(a,u,this._listeners),q3(a,u,this._oneTimeListeners),this}once(a,u){return u?(this._oneTimeListeners=this._oneTimeListeners||{},kv(a,u,this._oneTimeListeners),this):new Promise(f=>this.once(a,f))}fire(a,u){const f=typeof a=="string"?new Du(a,u):a,h=f.type;if(this.listens(h)){f.target=this;const v=this._listeners&&this._listeners[h]?this._listeners[h].slice():[];for(const P of v)P.call(this,f);const _=this._oneTimeListeners&&this._oneTimeListeners[h]?this._oneTimeListeners[h].slice():[];for(const P of _)q3(h,P,this._oneTimeListeners),P.call(this,f);const S=this._eventedParent;S&&(bo(f,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(f))}else f instanceof P0&&console.error(f.error);return this}listens(a){return!!(this._listeners&&this._listeners[a]&&this._listeners[a].length>0||this._oneTimeListeners&&this._oneTimeListeners[a]&&this._oneTimeListeners[a].length>0||this._eventedParent&&this._eventedParent.listens(a))}setEventedParent(a,u){return this._eventedParent=a,this._eventedParentData=u,this}}o.G=void 0;var kS={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ov(l){return(l=Math.round(l))<0?0:l>255?255:l}function Z3(l){return Ov(l[l.length-1]==="%"?parseFloat(l)/100*255:parseInt(l))}function Dv(l){return(a=l[l.length-1]==="%"?parseFloat(l)/100:parseFloat(l))<0?0:a>1?1:a;var a}function X3(l,a,u){return u<0?u+=1:u>1&&(u-=1),6*u<1?l+(a-l)*u*6:2*u<1?a:3*u<2?l+(a-l)*(2/3-u)*6:l}try{o.G={}.parseCSSColor=function(l){var a,u=l.replace(/ /g,"").toLowerCase();if(u in kS)return kS[u].slice();if(u[0]==="#")return u.length===4?(a=parseInt(u.substr(1),16))>=0&&a<=4095?[(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,1]:null:u.length===7&&(a=parseInt(u.substr(1),16))>=0&&a<=16777215?[(16711680&a)>>16,(65280&a)>>8,255&a,1]:null;var f=u.indexOf("("),h=u.indexOf(")");if(f!==-1&&h+1===u.length){var v=u.substr(0,f),_=u.substr(f+1,h-(f+1)).split(","),S=1;switch(v){case"rgba":if(_.length!==4)return null;S=Dv(_.pop());case"rgb":return _.length!==3?null:[Z3(_[0]),Z3(_[1]),Z3(_[2]),S];case"hsla":if(_.length!==4)return null;S=Dv(_.pop());case"hsl":if(_.length!==3)return null;var P=(parseFloat(_[0])%360+360)%360/360,I=Dv(_[1]),L=Dv(_[2]),F=L<=.5?L*(I+1):L+I-L*I,W=2*L-F;return[Ov(255*X3(W,F,P+1/3)),Ov(255*X3(W,F,P)),Ov(255*X3(W,F,P-1/3)),S];default:return null}}return null}}catch{}class Hn{constructor(a,u,f,h=1){this.r=a,this.g=u,this.b=f,this.a=h}static parse(a){if(!a)return;if(a instanceof Hn)return a;if(typeof a!="string")return;const u=o.G(a);return u?new Hn(u[0]/255*u[3],u[1]/255*u[3],u[2]/255*u[3],u[3]):void 0}toString(){const[a,u,f,h]=this.a===0?[0,0,0,0]:[255*this.r/this.a,255*this.g/this.a,255*this.b/this.a,this.a];return`rgba(${Math.round(a)},${Math.round(u)},${Math.round(f)},${h})`}toRenderColor(a){const{r:u,g:f,b:h,a:v}=this;return new uO(a,u,f,h,v)}}class uO{constructor(a,u,f,h,v){if(a){const _=a.image.height,S=_*_;u=v===0?0:u/v*(_-1),f=v===0?0:f/v*(_-1),h=v===0?0:h/v*(_-1);const P=Math.floor(u),I=Math.floor(f),L=Math.floor(h),F=Math.ceil(u),W=Math.ceil(f),X=Math.ceil(h),ee=u-P,ae=f-I,oe=h-L,_e=a.image.data,Re=4*(P+I*S+L*_),De=4*(P+I*S+X*_),ze=4*(P+W*S+L*_),qe=4*(P+W*S+X*_),Ze=4*(F+I*S+L*_),rt=4*(F+I*S+X*_),ut=4*(F+W*S+L*_),mt=4*(F+W*S+X*_);if(Re<0||mt>=_e.length)throw new Error("out of range");this.r=Rr(Rr(Rr(_e[Re],_e[De],oe),Rr(_e[ze],_e[qe],oe),ae),Rr(Rr(_e[Ze],_e[rt],oe),Rr(_e[ut],_e[mt],oe),ae),ee)/255*v,this.g=Rr(Rr(Rr(_e[Re+1],_e[De+1],oe),Rr(_e[ze+1],_e[qe+1],oe),ae),Rr(Rr(_e[Ze+1],_e[rt+1],oe),Rr(_e[ut+1],_e[mt+1],oe),ae),ee)/255*v,this.b=Rr(Rr(Rr(_e[Re+2],_e[De+2],oe),Rr(_e[ze+2],_e[qe+2],oe),ae),Rr(Rr(_e[Ze+2],_e[rt+2],oe),Rr(_e[ut+2],_e[mt+2],oe),ae),ee)/255*v,this.a=v}else this.r=u,this.g=f,this.b=h,this.a=v}toArray(){const{r:a,g:u,b:f,a:h}=this;return h===0?[0,0,0,0]:[255*a/h,255*u/h,255*f/h,h]}toArray01(){const{r:a,g:u,b:f,a:h}=this;return h===0?[0,0,0,0]:[a/h,u/h,f/h,h]}toArray01Scaled(a){const{r:u,g:f,b:h,a:v}=this;return v===0?[0,0,0]:[u/v*a,f/v*a,h/v*a]}toArray01PremultipliedAlpha(){const{r:a,g:u,b:f,a:h}=this;return[a,u,f,h]}toArray01Linear(){const{r:a,g:u,b:f,a:h}=this;return h===0?[0,0,0,0]:[Math.pow(a/h,2.2),Math.pow(u/h,2.2),Math.pow(f/h,2.2),h]}}function Rr(l,a,u){return l*(1-u)+a*u}function Y3(l,a,u){return l.map((f,h)=>Rr(f,a[h],u))}Hn.black=new Hn(0,0,0,1),Hn.white=new Hn(1,1,1,1),Hn.transparent=new Hn(0,0,0,0),Hn.red=new Hn(1,0,0,1),Hn.blue=new Hn(0,0,1,1);var C0=Object.freeze({__proto__:null,array:Y3,color:function(l,a,u){return new Hn(Rr(l.r,a.r,u),Rr(l.g,a.g,u),Rr(l.b,a.b,u),Rr(l.a,a.a,u))},number:Rr});function Uh(l,...a){for(const u of a)for(const f in u)l[f]=u[f];return l}class Ru extends Error{constructor(a,u){super(u),this.message=u,this.key=a}}class J3{constructor(a,u=[]){this.parent=a,this.bindings={};for(const[f,h]of u)this.bindings[f]=h}concat(a){return new J3(this,a)}get(a){if(this.bindings[a])return this.bindings[a];if(this.parent)return this.parent.get(a);throw new Error(`${a} not found in scope.`)}has(a){return!!this.bindings[a]||!!this.parent&&this.parent.has(a)}}const Gs={kind:"null"},mr={kind:"number"},Dn={kind:"string"},qn={kind:"boolean"},El={kind:"color"},Wh={kind:"object"},Un={kind:"value"},Rv={kind:"collator"},Kh={kind:"formatted"},Lf={kind:"resolvedImage"};function Eo(l,a){return{kind:"array",itemType:l,N:a}}function na(l){if(l.kind==="array"){const a=na(l.itemType);return typeof l.N=="number"?`array<${a}, ${l.N}>`:l.itemType.kind==="value"?"array":`array<${a}>`}return l.kind}const Q3=[Gs,mr,Dn,qn,El,Kh,Wh,Eo(Un),Lf];function I0(l,a){if(a.kind==="error")return null;if(l.kind==="array"){if(a.kind==="array"&&(a.N===0&&a.itemType.kind==="value"||!I0(l.itemType,a.itemType))&&(typeof l.N!="number"||l.N===a.N))return null}else{if(l.kind===a.kind)return null;if(l.kind==="value"){for(const u of Q3)if(!I0(u,a))return null}}return`Expected ${na(l)} but found ${na(a)} instead.`}function Al(l,a){return a.some(u=>u.kind===l.kind)}function M0(l,a){return a.some(u=>u==="null"?l===null:u==="array"?Array.isArray(l):u==="object"?l&&!Array.isArray(l)&&typeof l=="object":u===typeof l)}class $v{constructor(a,u,f){this.sensitivity=a?u?"variant":"case":u?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(a,u){return this.collator.compare(a,u)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Lv{constructor(a,u,f,h,v){this.text=a.normalize?a.normalize():a,this.image=u,this.scale=f,this.fontStack=h,this.textColor=v}}class jo{constructor(a){this.sections=a}static fromString(a){return new jo([new Lv(a,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(a=>a.text.length!==0||a.image&&a.image.namePrimary.length!==0)}static factory(a){return a instanceof jo?a:jo.fromString(a)}toString(){return this.sections.length===0?"":this.sections.map(a=>a.text).join("")}serialize(){const a=["format"];for(const u of this.sections){if(u.image){a.push(["image",u.image.namePrimary]);continue}a.push(u.text);const f={};u.fontStack&&(f["text-font"]=["literal",u.fontStack.split(",")]),u.scale&&(f["font-scale"]=u.scale),u.textColor&&(f["text-color"]=["rgba"].concat(u.textColor.toRenderColor(null).toArray())),a.push(f)}return a}}class qs{constructor(a){this.namePrimary=a.namePrimary,a.nameSecondary&&(this.nameSecondary=a.nameSecondary),this.available=a.available}toString(){return this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}static fromString(a,u){return a?new qs({namePrimary:a,nameSecondary:u,available:!1}):null}serialize(){return this.nameSecondary?["image",this.namePrimary,this.nameSecondary]:["image",this.namePrimary]}}function OS(l,a,u,f){return typeof l=="number"&&l>=0&&l<=255&&typeof a=="number"&&a>=0&&a<=255&&typeof u=="number"&&u>=0&&u<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:`Invalid rgba value [${[l,a,u,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof f=="number"?[l,a,u,f]:[l,a,u]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Hh(l){if(l===null||typeof l=="string"||typeof l=="boolean"||typeof l=="number"||l instanceof Hn||l instanceof $v||l instanceof jo||l instanceof qs)return!0;if(Array.isArray(l)){for(const a of l)if(!Hh(a))return!1;return!0}if(typeof l=="object"){for(const a in l)if(!Hh(l[a]))return!1;return!0}return!1}function Ca(l){if(l===null)return Gs;if(typeof l=="string")return Dn;if(typeof l=="boolean")return qn;if(typeof l=="number")return mr;if(l instanceof Hn)return El;if(l instanceof $v)return Rv;if(l instanceof jo)return Kh;if(l instanceof qs)return Lf;if(Array.isArray(l)){const a=l.length;let u;for(const f of l){const h=Ca(f);if(u){if(u===h)continue;u=Un;break}u=h}return Eo(u||Un,a)}return Wh}function Xl(l){const a=typeof l;return l===null?"":a==="string"||a==="number"||a==="boolean"?String(l):l instanceof Hn||l instanceof jo||l instanceof qs?l.toString():JSON.stringify(l)}class Yl{constructor(a,u){this.type=a,this.value=u}static parse(a,u){if(a.length!==2)return u.error(`'literal' expression requires exactly one argument, but found ${a.length-1} instead.`);if(!Hh(a[1]))return u.error("invalid value");const f=a[1];let h=Ca(f);const v=u.expectedType;return h.kind!=="array"||h.N!==0||!v||v.kind!=="array"||typeof v.N=="number"&&v.N!==0||(h=v),new Yl(h,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Hn?["rgba"].concat(this.value.toRenderColor(null).toArray()):this.value instanceof jo?this.value.serialize():this.value}}class Ba{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}}const ew={string:Dn,number:mr,boolean:qn,object:Wh};class Zs{constructor(a,u){this.type=a,this.args=u}static parse(a,u){if(a.length<2)return u.error("Expected at least one argument.");let f,h=1;const v=a[0];if(v==="array"){let S,P;if(a.length>2){const I=a[1];if(typeof I!="string"||!(I in ew)||I==="object")return u.error('The item type argument of "array" must be one of string, number, boolean',1);S=ew[I],h++}else S=Un;if(a.length>3){if(a[2]!==null&&(typeof a[2]!="number"||a[2]<0||a[2]!==Math.floor(a[2])))return u.error('The length argument to "array" must be a positive integer literal',2);P=a[2],h++}f=Eo(S,P)}else f=ew[v];const _=[];for(;h<a.length;h++){const S=u.parse(a[h],h,Un);if(!S)return null;_.push(S)}return new Zs(f,_)}evaluate(a){for(let u=0;u<this.args.length;u++){const f=this.args[u].evaluate(a);if(!I0(this.type,Ca(f)))return f;if(u===this.args.length-1)throw new Ba(`The expression ${JSON.stringify(this.args[u].serialize())} evaluated to ${na(Ca(f))} but was expected to be of type ${na(this.type)}.`)}return null}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}serialize(){const a=this.type,u=[a.kind];if(a.kind==="array"){const f=a.itemType;if(f.kind==="string"||f.kind==="number"||f.kind==="boolean"){u.push(f.kind);const h=a.N;(typeof h=="number"||this.args.length>1)&&u.push(h)}}return u.concat(this.args.map(f=>f.serialize()))}}class Bf{constructor(a){this.type=Kh,this.sections=a}static parse(a,u){if(a.length<2)return u.error("Expected at least one argument.");const f=a[1];if(!Array.isArray(f)&&typeof f=="object")return u.error("First argument must be an image or text section.");const h=[];let v=!1;for(let _=1;_<=a.length-1;++_){const S=a[_];if(v&&typeof S=="object"&&!Array.isArray(S)){v=!1;let P=null;if(S["font-scale"]&&(P=u.parse(S["font-scale"],1,mr),!P))return null;let I=null;if(S["text-font"]&&(I=u.parse(S["text-font"],1,Eo(Dn)),!I))return null;let L=null;if(S["text-color"]&&(L=u.parse(S["text-color"],1,El),!L))return null;const F=h[h.length-1];F.scale=P,F.font=I,F.textColor=L}else{const P=u.parse(a[_],1,Un);if(!P)return null;const I=P.type.kind;if(I!=="string"&&I!=="value"&&I!=="null"&&I!=="resolvedImage")return u.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");v=!0,h.push({content:P,scale:null,font:null,textColor:null})}}return new Bf(h)}evaluate(a){return new jo(this.sections.map(u=>{const f=u.content.evaluate(a);return Ca(f)===Lf?new Lv("",f,null,null,null):new Lv(Xl(f),null,u.scale?u.scale.evaluate(a):null,u.font?u.font.evaluate(a).join(","):null,u.textColor?u.textColor.evaluate(a):null)}))}eachChild(a){for(const u of this.sections)a(u.content),u.scale&&a(u.scale),u.font&&a(u.font),u.textColor&&a(u.textColor)}outputDefined(){return!1}serialize(){const a=["format"];for(const u of this.sections){a.push(u.content.serialize());const f={};u.scale&&(f["font-scale"]=u.scale.serialize()),u.font&&(f["text-font"]=u.font.serialize()),u.textColor&&(f["text-color"]=u.textColor.serialize()),a.push(f)}return a}}class Tc{constructor(a,u){this.type=Lf,this.inputPrimary=a,this.inputSecondary=u}static parse(a,u){if(a.length<2)return u.error("Expected two or more arguments.");const f=u.parse(a[1],1,Dn);if(!f)return u.error("No image name provided.");if(a.length===2)return new Tc(f);const h=u.parse(a[2],1,Dn);return h?new Tc(f,h):u.error("Secondary image variant is not a string.")}evaluate(a){const u=qs.fromString(this.inputPrimary.evaluate(a),this.inputSecondary?this.inputSecondary.evaluate(a):void 0);return u&&a.availableImages&&(u.available=a.availableImages.indexOf(u.namePrimary)>-1,u.nameSecondary&&u.available&&a.availableImages&&(u.available=a.availableImages.indexOf(u.nameSecondary)>-1)),u}eachChild(a){a(this.inputPrimary),this.inputSecondary&&a(this.inputSecondary)}outputDefined(){return!1}serialize(){return this.inputSecondary?["image",this.inputPrimary.serialize(),this.inputSecondary.serialize()]:["image",this.inputPrimary.serialize()]}}function Md(l){return l instanceof Number?"number":l instanceof String?"string":l instanceof Boolean?"boolean":Array.isArray(l)?"array":l===null?"null":typeof l}const cO={"to-boolean":qn,"to-color":El,"to-number":mr,"to-string":Dn};class Pc{constructor(a,u){this.type=a,this.args=u}static parse(a,u){if(a.length<2)return u.error("Expected at least one argument.");const f=a[0],h=[];let v=Gs;if(f==="to-array"){if(!Array.isArray(a[1]))return null;const _=a[1].length;if(u.expectedType){if(u.expectedType.kind!=="array")return u.error(`Expected ${u.expectedType.kind} but found array.`);v=Eo(u.expectedType.itemType,_)}else{if(!(_>0&&Hh(a[1][0])))return null;v=Eo(Ca(a[1][0]),_)}for(let S=0;S<_;S++){const P=a[1][S];let I;if(Md(P)==="array")I=u.parse(P,void 0,v.itemType);else{const L=Md(P);if(L!==v.itemType.kind)return u.error(`Expected ${v.itemType.kind} but found ${L}.`);I=u.registry.literal.parse(["literal",P===void 0?null:P],u)}if(!I)return null;h.push(I)}}else{if((f==="to-boolean"||f==="to-string")&&a.length!==2)return u.error("Expected one argument.");v=cO[f];for(let _=1;_<a.length;_++){const S=u.parse(a[_],_,Un);if(!S)return null;h.push(S)}}return new Pc(v,h)}evaluate(a){if(this.type.kind==="boolean")return!!this.args[0].evaluate(a);if(this.type.kind==="color"){let u,f;for(const h of this.args){if(u=h.evaluate(a),f=null,u instanceof Hn)return u;if(typeof u=="string"){const v=a.parseColor(u);if(v)return v}else if(Array.isArray(u)&&(f=u.length<3||u.length>4?`Invalid rbga value ${JSON.stringify(u)}: expected an array containing either three or four numeric values.`:OS(u[0],u[1],u[2],u[3]),!f))return new Hn(u[0]/255,u[1]/255,u[2]/255,u[3])}throw new Ba(f||`Could not parse color from value '${typeof u=="string"?u:String(JSON.stringify(u))}'`)}if(this.type.kind==="number"){let u=null;for(const f of this.args){if(u=f.evaluate(a),u===null)return 0;const h=Number(u);if(!isNaN(h))return h}throw new Ba(`Could not convert ${JSON.stringify(u)} to number.`)}return this.type.kind==="formatted"?jo.fromString(Xl(this.args[0].evaluate(a))):this.type.kind==="resolvedImage"?qs.fromString(Xl(this.args[0].evaluate(a))):this.type.kind==="array"?this.args.map(u=>u.evaluate(a)):Xl(this.args[0].evaluate(a))}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Bf([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Tc(this.args[0]).serialize();const a=this.type.kind==="array"?[]:[`to-${this.type.kind}`];return this.eachChild(u=>{a.push(u.serialize())}),a}}const dO=["Unknown","Point","LineString","Polygon"];class tw{constructor(a,u){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.scope=a,this.options=u}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?dO[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(a){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const a=this.featureDistanceData.center,u=this.featureDistanceData.scale,{x:f,y:h}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(f*u-a[0])+this.featureDistanceData.bearing[1]*(h*u-a[1])}return 0}parseColor(a){let u=this._parseColorCache[a];return u||(u=this._parseColorCache[a]=Hn.parse(a)),u}getConfig(a){return this.options?this.options.get(a):null}}class Ss{constructor(a,u,f,h,v){this.name=a,this.type=u,this._evaluate=f,this.args=h,this._overloadIndex=v}evaluate(a){if(!this._evaluate){const u=Ss.definitions[this.name];this._evaluate=Array.isArray(u)?u[2]:u.overloads[this._overloadIndex][1]}return this._evaluate(a,this.args)}eachChild(a){this.args.forEach(a)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(a=>a.serialize()))}static parse(a,u){const f=a[0],h=Ss.definitions[f];if(!h)return u.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);const v=Array.isArray(h)?h[0]:h.type,_=Array.isArray(h)?[[h[1],h[2]]]:h.overloads,S=[];let P=null,I=-1;for(const[L,F]of _){if(Array.isArray(L)&&L.length!==a.length-1)continue;S.push(L),I++,P=new ZS(u.registry,u.path,null,u.scope,void 0,u._scope,u.options);const W=[];let X=!1;for(let ee=1;ee<a.length;ee++){const ae=a[ee],oe=Array.isArray(L)?L[ee-1]:L.type,_e=P.parse(ae,1+W.length,oe);if(!_e){X=!0;break}W.push(_e)}if(!X)if(Array.isArray(L)&&L.length!==W.length)P.error(`Expected ${L.length} arguments, but found ${W.length} instead.`);else{for(let ee=0;ee<W.length;ee++){const ae=Array.isArray(L)?L[ee]:L.type,oe=W[ee];P.concat(ee+1).checkSubtype(ae,oe.type)}if(P.errors.length===0)return new Ss(f,v,F,W,I)}}if(S.length===1)u.errors.push(...P.errors);else{const L=(S.length?S:_.map(([W])=>W)).map(fO).join(" | "),F=[];for(let W=1;W<a.length;W++){const X=u.parse(a[W],1+F.length);if(!X)return null;F.push(na(X.type))}u.error(`Expected arguments of type ${L}, but found (${F.join(", ")}) instead.`)}return null}static register(a,u){Ss.definitions=u;for(const f in u)a[f]=Ss}}function fO(l){return Array.isArray(l)?`(${l.map(na).join(", ")})`:`(${na(l.type)}...)`}class k0{constructor(a,u,f){this.type=Rv,this.locale=f,this.caseSensitive=a,this.diacriticSensitive=u}static parse(a,u){if(a.length!==2)return u.error("Expected one argument.");const f=a[1];if(typeof f!="object"||Array.isArray(f))return u.error("Collator options argument must be an object.");const h=u.parse(f["case-sensitive"]!==void 0&&f["case-sensitive"],1,qn);if(!h)return null;const v=u.parse(f["diacritic-sensitive"]!==void 0&&f["diacritic-sensitive"],1,qn);if(!v)return null;let _=null;return f.locale&&(_=u.parse(f.locale,1,Dn),!_)?null:new k0(h,v,_)}evaluate(a){return new $v(this.caseSensitive.evaluate(a),this.diacriticSensitive.evaluate(a),this.locale?this.locale.evaluate(a):null)}eachChild(a){a(this.caseSensitive),a(this.diacriticSensitive),this.locale&&a(this.locale)}outputDefined(){return!1}serialize(){const a={};return a["case-sensitive"]=this.caseSensitive.serialize(),a["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(a.locale=this.locale.serialize()),["collator",a]}}function Gn(l,a,u=0,f=l.length-1,h=DS){for(;f>u;){if(f-u>600){const P=f-u+1,I=a-u+1,L=Math.log(P),F=.5*Math.exp(2*L/3),W=.5*Math.sqrt(L*F*(P-F)/P)*(I-P/2<0?-1:1);Gn(l,a,Math.max(u,Math.floor(a-I*F/P+W)),Math.min(f,Math.floor(a+(P-I)*F/P+W)),h)}const v=l[a];let _=u,S=f;for(Gh(l,u,a),h(l[f],v)>0&&Gh(l,u,f);_<S;){for(Gh(l,_,S),_++,S--;h(l[_],v)<0;)_++;for(;h(l[S],v)>0;)S--}h(l[u],v)===0?Gh(l,u,S):(S++,Gh(l,S,f)),S<=a&&(u=S+1),a<=S&&(f=S-1)}}function Gh(l,a,u){const f=l[a];l[a]=l[u],l[u]=f}function DS(l,a){return l<a?-1:l>a?1:0}function pO(l){let a=0;for(let u,f,h=0,v=l.length,_=v-1;h<v;_=h++)u=l[h],f=l[_],a+=(f.x-u.x)*(u.y+f.y);return a}function O0(l,a){l[0]=Math.min(l[0],a[0]),l[1]=Math.min(l[1],a[1]),l[2]=Math.max(l[2],a[0]),l[3]=Math.max(l[3],a[1])}function kd(l,a){return!(l[0]<=a[0]||l[2]>=a[2]||l[1]<=a[1]||l[3]>=a[3])}function Bv(l,a,u){const f=l[0]-a[0],h=l[1]-a[1],v=l[0]-u[0],_=l[1]-u[1];return f*_-v*h==0&&f*v<=0&&h*_<=0}function Cc(l,a,u=!1){let f=!1;for(let S=0,P=a.length;S<P;S++){const I=a[S];for(let L=0,F=I.length,W=F-1;L<F;W=L++){const X=I[W],ee=I[L];if(Bv(l,X,ee))return u;(v=X)[1]>(h=l)[1]!=(_=ee)[1]>h[1]&&h[0]<(_[0]-v[0])*(h[1]-v[1])/(_[1]-v[1])+v[0]&&(f=!f)}}var h,v,_;return f}function RS(l,a,u,f){const h=f[0]-u[0],v=f[1]-u[1],_=(l[0]-u[0])*v-h*(l[1]-u[1]),S=(a[0]-u[0])*v-h*(a[1]-u[1]);return _>0&&S<0||_<0&&S>0}function D0(l,a,u,f){return(h=[f[0]-u[0],f[1]-u[1]])[0]*(v=[a[0]-l[0],a[1]-l[1]])[1]-h[1]*v[0]!=0&&!(!RS(l,a,u,f)||!RS(u,f,l,a));var h,v}const Ao=8192;function hO(l,a){const u=(180+l[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l[1]*Math.PI/360)))/360,h=Math.pow(2,a.z);return[Math.round(u*h*Ao),Math.round(f*h*Ao)]}function $S(l,a){for(let u=0;u<a.length;u++)if(Cc(l,a[u]))return!0;return!1}function R0(l,a,u){for(const f of u)for(let h=0,v=f.length,_=v-1;h<v;_=h++)if(D0(l,a,f[_],f[h]))return!0;return!1}function zv(l,a){for(let u=0;u<l.length;++u)if(!Cc(l[u],a))return!1;for(let u=0;u<l.length-1;++u)if(R0(l[u],l[u+1],a))return!1;return!0}function mO(l,a){for(let u=0;u<a.length;u++)if(zv(l,a[u]))return!0;return!1}function rw(l,a,u){const f=[];for(let h=0;h<l.length;h++){const v=[];for(let _=0;_<l[h].length;_++){const S=hO(l[h][_],u);O0(a,S),v.push(S)}f.push(v)}return f}function LS(l,a,u){const f=[];for(let h=0;h<l.length;h++){const v=rw(l[h],a,u);f.push(v)}return f}function nw(l,a,u,f){if(l[0]<u[0]||l[0]>u[2]){const h=.5*f;let v=l[0]-u[0]>h?-f:u[0]-l[0]>h?f:0;v===0&&(v=l[0]-u[2]>h?-f:u[2]-l[0]>h?f:0),l[0]+=v}O0(a,l)}function Nv(l,a,u,f){const h=Math.pow(2,f.z)*Ao,v=[f.x*Ao,f.y*Ao],_=[];if(!l)return _;for(const S of l)for(const P of S){const I=[P.x+v[0],P.y+v[1]];nw(I,a,u,h),_.push(I)}return _}function BS(l,a,u,f){const h=Math.pow(2,f.z)*Ao,v=[f.x*Ao,f.y*Ao],_=[];if(!l)return _;for(const P of l){const I=[];for(const L of P){const F=[L.x+v[0],L.y+v[1]];O0(a,F),I.push(F)}_.push(I)}if(a[2]-a[0]<=h/2){(S=a)[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(const P of _)for(const I of P)nw(I,a,u,h)}var S;return _}class $u{constructor(a,u){this.type=qn,this.geojson=a,this.geometries=u}static parse(a,u){if(a.length!==2)return u.error(`'within' expression requires exactly one argument, but found ${a.length-1} instead.`);if(Hh(a[1])){const f=a[1];if(f.type==="FeatureCollection")for(let h=0;h<f.features.length;++h){const v=f.features[h].geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new $u(f,f.features[h].geometry)}else if(f.type==="Feature"){const h=f.geometry.type;if(h==="Polygon"||h==="MultiPolygon")return new $u(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new $u(f,f)}return u.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(a.geometry()!=null&&a.canonicalID()!=null){if(a.geometryType()==="Point")return function(u,f){const h=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],_=u.canonicalID();if(!_)return!1;if(f.type==="Polygon"){const S=rw(f.coordinates,v,_),P=Nv(u.geometry(),h,v,_);if(!kd(h,v))return!1;for(const I of P)if(!Cc(I,S))return!1}if(f.type==="MultiPolygon"){const S=LS(f.coordinates,v,_),P=Nv(u.geometry(),h,v,_);if(!kd(h,v))return!1;for(const I of P)if(!$S(I,S))return!1}return!0}(a,this.geometries);if(a.geometryType()==="LineString")return function(u,f){const h=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],_=u.canonicalID();if(!_)return!1;if(f.type==="Polygon"){const S=rw(f.coordinates,v,_),P=BS(u.geometry(),h,v,_);if(!kd(h,v))return!1;for(const I of P)if(!zv(I,S))return!1}if(f.type==="MultiPolygon"){const S=LS(f.coordinates,v,_),P=BS(u.geometry(),h,v,_);if(!kd(h,v))return!1;for(const I of P)if(!mO(I,S))return!1}return!0}(a,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}const Fv={kilometers:1,miles:1e3/1609.344,nauticalmiles:1e3/1852,meters:1e3,metres:1e3,yards:1e3/.9144,feet:1e3/.3048,inches:1e3/.0254},zS=1/298.257223563,NS=zS*(2-zS),$0=Math.PI/180;class L0{static fromTile(a,u,f){const h=Math.PI*(1-2*(a+.5)/Math.pow(2,u)),v=Math.atan(.5*(Math.exp(h)-Math.exp(-h)))/$0;return new L0(v,f)}static get units(){return Fv}constructor(a,u){if(a===void 0)throw new Error("No latitude given.");if(u&&!Fv[u])throw new Error(`Unknown unit ${u}. Use one of: ${Object.keys(Fv).join(", ")}`);const f=6378.137*$0*(u?Fv[u]:1),h=Math.cos(a*$0),v=1/(1-NS*(1-h*h)),_=Math.sqrt(v);this.kx=f*_*h,this.ky=f*_*v*(1-NS)}distance(a,u){const f=Xs(a[0]-u[0])*this.kx,h=(a[1]-u[1])*this.ky;return Math.sqrt(f*f+h*h)}bearing(a,u){const f=Xs(u[0]-a[0])*this.kx;return Math.atan2(f,(u[1]-a[1])*this.ky)/$0}destination(a,u,f){const h=f*$0;return this.offset(a,Math.sin(h)*u,Math.cos(h)*u)}offset(a,u,f){return[a[0]+u/this.kx,a[1]+f/this.ky]}lineDistance(a){let u=0;for(let f=0;f<a.length-1;f++)u+=this.distance(a[f],a[f+1]);return u}area(a){let u=0;for(let f=0;f<a.length;f++){const h=a[f];for(let v=0,_=h.length,S=_-1;v<_;S=v++)u+=Xs(h[v][0]-h[S][0])*(h[v][1]+h[S][1])*(f?-1:1)}return Math.abs(u)/2*this.kx*this.ky}along(a,u){let f=0;if(u<=0)return a[0];for(let h=0;h<a.length-1;h++){const v=a[h],_=a[h+1],S=this.distance(v,_);if(f+=S,f>u)return iw(v,_,(u-(f-S))/S)}return a[a.length-1]}pointToSegmentDistance(a,u,f){let[h,v]=u,_=Xs(f[0]-h)*this.kx,S=(f[1]-v)*this.ky;if(_!==0||S!==0){const P=(Xs(a[0]-h)*this.kx*_+(a[1]-v)*this.ky*S)/(_*_+S*S);P>1?(h=f[0],v=f[1]):P>0&&(h+=_/this.kx*P,v+=S/this.ky*P)}return _=Xs(a[0]-h)*this.kx,S=(a[1]-v)*this.ky,Math.sqrt(_*_+S*S)}pointOnLine(a,u){let f=1/0,h=a[0][0],v=a[0][1],_=0,S=0;for(let P=0;P<a.length-1;P++){let I=a[P][0],L=a[P][1],F=Xs(a[P+1][0]-I)*this.kx,W=(a[P+1][1]-L)*this.ky,X=0;F===0&&W===0||(X=(Xs(u[0]-I)*this.kx*F+(u[1]-L)*this.ky*W)/(F*F+W*W),X>1?(I=a[P+1][0],L=a[P+1][1]):X>0&&(I+=F/this.kx*X,L+=W/this.ky*X)),F=Xs(u[0]-I)*this.kx,W=(u[1]-L)*this.ky;const ee=F*F+W*W;ee<f&&(f=ee,h=I,v=L,_=P,S=X)}return{point:[h,v],index:_,t:Math.max(0,Math.min(1,S))}}lineSlice(a,u,f){let h=this.pointOnLine(f,a),v=this.pointOnLine(f,u);if(h.index>v.index||h.index===v.index&&h.t>v.t){const I=h;h=v,v=I}const _=[h.point],S=h.index+1,P=v.index;!FS(f[S],_[0])&&S<=P&&_.push(f[S]);for(let I=S+1;I<=P;I++)_.push(f[I]);return FS(f[P],v.point)||_.push(v.point),_}lineSliceAlong(a,u,f){let h=0;const v=[];for(let _=0;_<f.length-1;_++){const S=f[_],P=f[_+1],I=this.distance(S,P);if(h+=I,h>a&&v.length===0&&v.push(iw(S,P,(a-(h-I))/I)),h>=u)return v.push(iw(S,P,(u-(h-I))/I)),v;h>a&&v.push(P)}return v}bufferPoint(a,u){const f=u/this.ky,h=u/this.kx;return[a[0]-h,a[1]-f,a[0]+h,a[1]+f]}bufferBBox(a,u){const f=u/this.ky,h=u/this.kx;return[a[0]-h,a[1]-f,a[2]+h,a[3]+f]}insideBBox(a,u){return Xs(a[0]-u[0])>=0&&Xs(a[0]-u[2])<=0&&a[1]>=u[1]&&a[1]<=u[3]}}function FS(l,a){return l[0]===a[0]&&l[1]===a[1]}function iw(l,a,u){const f=Xs(a[0]-l[0]);return[l[0]+f*u,l[1]+(a[1]-l[1])*u]}function Xs(l){for(;l<-180;)l+=360;for(;l>180;)l-=360;return l}class Od{constructor(a=[],u=(f,h)=>f<h?-1:f>h?1:0){if(this.data=a,this.length=this.data.length,this.compare=u,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(a){this.data.push(a),this._up(this.length++)}pop(){if(this.length===0)return;const a=this.data[0],u=this.data.pop();return--this.length>0&&(this.data[0]=u,this._down(0)),a}peek(){return this.data[0]}_up(a){const{data:u,compare:f}=this,h=u[a];for(;a>0;){const v=a-1>>1,_=u[v];if(f(h,_)>=0)break;u[a]=_,a=v}u[a]=h}_down(a){const{data:u,compare:f}=this,h=this.length>>1,v=u[a];for(;a<h;){let _=1+(a<<1);const S=_+1;if(S<this.length&&f(u[S],u[_])<0&&(_=S),f(u[_],v)>=0)break;u[a]=u[_],a=_}u[a]=v}}var rr=8192;function jS(l,a){return a.dist-l.dist}const B0=100,aw=50;function VS(l){const a=[1/0,1/0,-1/0,-1/0];if(a.length!==l.length)return!1;for(let u=0;u<a.length;u++)if(a[u]!==l[u])return!1;return!0}function jv(l){return l[1]-l[0]+1}function Ic(l,a){const u=l[1]>=l[0]&&l[1]<a;return u||console.warn("Distance Expression: Index is out of range"),u}function ow(l,a){if(l[0]>l[1])return[null,null];const u=jv(l);if(a){if(u===2)return[l,null];const f=Math.floor(u/2);return[[l[0],l[0]+f],[l[0]+f,l[1]]]}{if(u===1)return[l,null];const f=Math.floor(u/2)-1;return[[l[0],l[0]+f],[l[0]+f+1,l[1]]]}}function Ys(l,a){const u=[1/0,1/0,-1/0,-1/0];if(!Ic(a,l.length))return u;for(let f=a[0];f<=a[1];++f)O0(u,l[f]);return u}function Vv(l){const a=[1/0,1/0,-1/0,-1/0];for(let u=0;u<l.length;++u)for(let f=0;f<l[u].length;++f)O0(a,l[u][f]);return a}function qh(l,a,u){if(VS(l)||VS(a))return NaN;let f=0,h=0;return l[2]<a[0]&&(f=a[0]-l[2]),l[0]>a[2]&&(f=l[0]-a[2]),l[1]>a[3]&&(h=l[1]-a[3]),l[3]<a[1]&&(h=a[1]-l[3]),u.distance([0,0],[f,h])}function US(l){return 360*l-180}function WS(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}function Js(l,a){const u=Math.pow(2,a.z),f=(l.y/rr+a.y)/u;return[US((l.x/rr+a.x)/u),WS(f)]}function KS(l,a){const u=[];for(let f=0;f<l.length;++f)u.push(Js(l[f],a));return u}function HS(l,a,u){const f=u.pointOnLine(a,l).point;return u.distance(l,f)}function sw(l,a,u,f,h){const v=u.slice(f[0],f[1]+1);let _=1/0;for(let S=a[0];S<=a[1];++S)if((_=Math.min(_,HS(l[S],v,h)))===0)return 0;return _}function Zh(l,a,u,f,h){const v=Math.min(h.pointToSegmentDistance(l,u,f),h.pointToSegmentDistance(a,u,f)),_=Math.min(h.pointToSegmentDistance(u,l,a),h.pointToSegmentDistance(f,l,a));return Math.min(v,_)}function gO(l,a,u,f,h){if(!Ic(a,l.length)||!Ic(f,u.length))return NaN;let v=1/0;for(let _=a[0];_<a[1];++_)for(let S=f[0];S<f[1];++S){if(D0(l[_],l[_+1],u[S],u[S+1]))return 0;v=Math.min(v,Zh(l[_],l[_+1],u[S],u[S+1],h))}return v}function yO(l,a,u,f,h){if(!Ic(a,l.length)||!Ic(f,u.length))return NaN;let v=1/0;for(let _=a[0];_<=a[1];++_)for(let S=f[0];S<=f[1];++S)if((v=Math.min(v,h.distance(l[_],u[S])))===0)return v;return v}function vO(l,a,u){if(Cc(l,a,!0))return 0;let f=1/0;for(const h of a){const v=h.length;if(v<2)return console.warn("Distance Expression: Invalid polygon!"),NaN;if(h[0]!==h[v-1]&&(f=Math.min(f,u.pointToSegmentDistance(l,h[v-1],h[0])))===0||(f=Math.min(f,HS(l,h,u)))===0)return f}return f}function _O(l,a,u,f){if(!Ic(a,l.length))return NaN;for(let v=a[0];v<=a[1];++v)if(Cc(l[v],u,!0))return 0;let h=1/0;for(let v=a[0];v<a[1];++v)for(const _ of u)for(let S=0,P=_.length,I=P-1;S<P;I=S++){if(D0(l[v],l[v+1],_[I],_[S]))return 0;h=Math.min(h,Zh(l[v],l[v+1],_[I],_[S],f))}return h}function GS(l,a){for(const u of l)for(let f=0;f<=u.length-1;++f)if(Cc(u[f],a,!0))return!0;return!1}function Uv(l,a,u,f=1/0){const h=Vv(l),v=Vv(a);if(f!==1/0&&qh(h,v,u)>=f)return f;if(kd(h,v)){if(GS(l,a))return 0}else if(GS(a,l))return 0;let _=f;for(const S of l)for(let P=0,I=S.length,L=I-1;P<I;L=P++)for(const F of a)for(let W=0,X=F.length,ee=X-1;W<X;ee=W++){if(D0(S[L],S[P],F[ee],F[W]))return 0;_=Math.min(_,Zh(S[L],S[P],F[ee],F[W],u))}return _}function zf(l,a,u,f,h,v,_){if(v===null||_===null)return;const S=qh(Ys(f,v),Ys(h,_),u);S<a&&l.push({dist:S,range1:v,range2:_})}function Qs(l,a,u,f,h=1/0){let v=Math.min(f.distance(l[0],u[0][0]),h);if(v===0)return v;const _=new Od([{dist:0,range1:[0,l.length-1],range2:[0,0]}],jS),S=a?aw:B0,P=Vv(u);for(;_.length;){const I=_.pop();if(I.dist>=v)continue;const L=I.range1;if(jv(L)<=S){if(!Ic(L,l.length))return NaN;if(a){const F=_O(l,L,u,f);if((v=Math.min(v,F))===0)return v}else for(let F=L[0];F<=L[1];++F){const W=vO(l[F],u,f);if((v=Math.min(v,W))===0)return v}}else{const F=ow(L,a);if(F[0]!==null){const W=qh(Ys(l,F[0]),P,f);W<v&&_.push({dist:W,range1:F[0],range2:[0,0]})}if(F[1]!==null){const W=qh(Ys(l,F[1]),P,f);W<v&&_.push({dist:W,range1:F[1],range2:[0,0]})}}}return v}function z0(l,a,u,f,h,v=1/0){let _=Math.min(v,h.distance(l[0],u[0]));if(_===0)return _;const S=new Od([{dist:0,range1:[0,l.length-1],range2:[0,u.length-1]}],jS),P=a?aw:B0,I=f?aw:B0;for(;S.length;){const L=S.pop();if(L.dist>=_)continue;const F=L.range1,W=L.range2;if(jv(F)<=P&&jv(W)<=I){if(!Ic(F,l.length)||!Ic(W,u.length))return NaN;if(a&&f?_=Math.min(_,gO(l,F,u,W,h)):a||f?a&&!f?_=Math.min(_,sw(u,W,l,F,h)):!a&&f&&(_=Math.min(_,sw(l,F,u,W,h))):_=Math.min(_,yO(l,F,u,W,h)),_===0)return _}else{const X=ow(F,a),ee=ow(W,f);zf(S,_,h,l,u,X[0],ee[0]),zf(S,_,h,l,u,X[0],ee[1]),zf(S,_,h,l,u,X[1],ee[0]),zf(S,_,h,l,u,X[1],ee[1])}}return _}function lw(l,a,u,f,h=1/0){let v=h;const _=Ys(l,[0,l.length-1]);for(const S of u)if(!(v!==1/0&&qh(_,Ys(S,[0,S.length-1]),f)>=v)&&(v=Math.min(v,z0(l,a,S,!0,f,v)),v===0))return v;return v}function Wv(l,a,u,f,h=1/0){let v=h;const _=Ys(l,[0,l.length-1]);for(const S of u){if(v!==1/0&&qh(_,Vv(S),f)>=v)continue;const P=Qs(l,a,S,f,v);if(isNaN(P))return P;if((v=Math.min(v,P))===0)return v}return v}function uw(l){return l==="Point"||l==="MultiPoint"||l==="LineString"||l==="MultiLineString"||l==="Polygon"||l==="MultiPolygon"}class Nf{constructor(a,u){this.type=mr,this.geojson=a,this.geometries=u}static parse(a,u){if(a.length!==2)return u.error(`'distance' expression requires either one argument, but found ' ${a.length-1} instead.`);if(Hh(a[1])){const f=a[1];if(f.type==="FeatureCollection"){for(let h=0;h<f.features.length;++h)if(uw(f.features[h].geometry.type))return new Nf(f,f.features[h].geometry)}else if(f.type==="Feature"){if(uw(f.geometry.type))return new Nf(f,f.geometry)}else if(uw(f.type))return new Nf(f,f)}return u.error("'distance' expression needs to be an array with format ['Distance', GeoJSONObj].")}evaluate(a){const u=a.geometry(),f=a.canonicalID();if(u!=null&&f!=null){if(a.geometryType()==="Point")return function(h,v,_){const S=[];for(const I of h)for(const L of I)S.push(Js(L,v));const P=new L0(S[0][1],"meters");return _.type==="Point"||_.type==="MultiPoint"||_.type==="LineString"?z0(S,!1,_.type==="Point"?[_.coordinates]:_.coordinates,_.type==="LineString",P):_.type==="MultiLineString"?lw(S,!1,_.coordinates,P):_.type==="Polygon"||_.type==="MultiPolygon"?Wv(S,!1,_.type==="Polygon"?[_.coordinates]:_.coordinates,P):null}(u,f,this.geometries);if(a.geometryType()==="LineString")return function(h,v,_){const S=[];for(const I of h){const L=[];for(const F of I)L.push(Js(F,v));S.push(L)}const P=new L0(S[0][0][1],"meters");if(_.type==="Point"||_.type==="MultiPoint"||_.type==="LineString")return lw(_.type==="Point"?[_.coordinates]:_.coordinates,_.type==="LineString",S,P);if(_.type==="MultiLineString"){let I=1/0;for(let L=0;L<_.coordinates.length;L++){const F=lw(_.coordinates[L],!0,S,P,I);if(isNaN(F))return F;if((I=Math.min(I,F))===0)return I}return I}if(_.type==="Polygon"||_.type==="MultiPolygon"){let I=1/0;for(let L=0;L<S.length;L++){const F=Wv(S[L],!0,_.type==="Polygon"?[_.coordinates]:_.coordinates,P,I);if(isNaN(F))return F;if((I=Math.min(I,F))===0)return I}return I}return null}(u,f,this.geometries);if(a.geometryType()==="Polygon")return function(h,v,_){const S=[];for(const I of function(L,F){const W=L.length;if(W<=1)return[L];const X=[];let ee,ae;for(let oe=0;oe<W;oe++){const _e=pO(L[oe]);_e!==0&&(L[oe].area=Math.abs(_e),ae===void 0&&(ae=_e<0),ae===_e<0?(ee&&X.push(ee),ee=[L[oe]]):ee.push(L[oe]))}return ee&&X.push(ee),X}(h)){const L=[];for(let F=0;F<I.length;++F)L.push(KS(I[F],v));S.push(L)}const P=new L0(S[0][0][0][1],"meters");if(_.type==="Point"||_.type==="MultiPoint"||_.type==="LineString")return Wv(_.type==="Point"?[_.coordinates]:_.coordinates,_.type==="LineString",S,P);if(_.type==="MultiLineString"){let I=1/0;for(let L=0;L<_.coordinates.length;L++){const F=Wv(_.coordinates[L],!0,S,P,I);if(isNaN(F))return F;if((I=Math.min(I,F))===0)return I}return I}return _.type==="Polygon"||_.type==="MultiPolygon"?function(I,L,F){let W=1/0;for(const X of I)for(const ee of L){const ae=Uv(X,ee,F,W);if(isNaN(ae))return ae;if((W=Math.min(W,ae))===0)return W}return W}(_.type==="Polygon"?[_.coordinates]:_.coordinates,S,P):null}(u,f,this.geometries);console.warn("Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.")}else console.warn("Distance Expression: requirs valid feature and canonical information.");return null}eachChild(){}outputDefined(){return!0}serialize(){return["distance",this.geojson]}}function N0(l,a){switch(l){case"string":return Xl(a);case"number":return+a;case"boolean":return!!a;case"color":return Hn.parse(a);case"formatted":return jo.fromString(Xl(a));case"resolvedImage":return qs.fromString(Xl(a))}return a}function qS(l,a,u,f){return f!==void 0&&(l=f*Math.round(l/f)),a!==void 0&&l<a&&(l=a),u!==void 0&&l>u&&(l=u),l}class Dd{constructor(a,u,f){this.type=a,this.key=u,this.scope=f}static parse(a,u){let f=u.expectedType;if(f==null&&(f=Un),a.length<2||a.length>3)return u.error("Invalid number of arguments for 'config' expression.");const h=u.parse(a[1],1);if(!(h instanceof Yl))return u.error("Key name of 'config' expression must be a string literal.");if(a.length>=3){const v=u.parse(a[2],2);return v instanceof Yl?new Dd(f,Xl(h.value),Xl(v.value)):u.error("Scope of 'config' expression must be a string literal.")}return new Dd(f,Xl(h.value))}evaluate(a){const u=[this.key,this.scope,a.scope].filter(Boolean).join(""),f=a.getConfig(u);if(!f)return null;const{type:h,value:v,values:_,minValue:S,maxValue:P,stepValue:I}=f,L=f.default.evaluate(a);let F=L;if(v){const W=a.scope;a.scope=(W||"").split("").slice(1).join(""),F=v.evaluate(a),a.scope=W}return h&&(F=N0(h,F)),F===void 0||S===void 0&&P===void 0&&I===void 0||(typeof F=="number"?F=qS(F,S,P,I):Array.isArray(F)&&(F=F.map(W=>typeof W=="number"?qS(W,S,P,I):W))),v!==void 0&&F!==void 0&&_&&!_.includes(F)&&(F=L,h&&(F=N0(h,F))),(h&&h!==this.type||F!==void 0&&Ca(F)!==this.type)&&(F=N0(this.type.kind,F)),F}eachChild(){}outputDefined(){return!1}serialize(){const a=["config",this.key];return this.scope&&a.concat(this.key),a}}function F0(l){if(l instanceof Ss&&(l.name==="get"&&l.args.length===1||l.name==="feature-state"||l.name==="has"&&l.args.length===1||l.name==="properties"||l.name==="geometry-type"||l.name==="id"||/^filter-/.test(l.name))||l instanceof $u||l instanceof Nf)return!1;let a=!0;return l.eachChild(u=>{a&&!F0(u)&&(a=!1)}),a}function Kv(l){if(l instanceof Ss&&l.name==="feature-state")return!1;let a=!0;return l.eachChild(u=>{a&&!Kv(u)&&(a=!1)}),a}function j0(l){if(l instanceof Dd)return new Set([l.key]);let a=new Set;return l.eachChild(u=>{a=new Set([...a,...j0(u)])}),a}function V0(l,a){if(l instanceof Ss&&a.indexOf(l.name)>=0)return!1;let u=!0;return l.eachChild(f=>{u&&!V0(f,a)&&(u=!1)}),u}class U0{constructor(a,u){this.type=u.type,this.name=a,this.boundExpression=u}static parse(a,u){if(a.length!==2||typeof a[1]!="string")return u.error("'var' expression requires exactly one string literal argument.");const f=a[1];return u.scope.has(f)?new U0(f,u.scope.get(f)):u.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(a){return this.boundExpression.evaluate(a)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Hv{constructor(a,u=[],f,h=new J3,v=[],_,S){this.registry=a,this.path=u,this.key=u.map(P=>`[${P}]`).join(""),this.scope=h,this.errors=v,this.expectedType=f,this._scope=_,this.options=S}parse(a,u,f,h,v={}){return u||f?this.concat(u,f,h)._parse(a,v):this._parse(a,v)}_parse(a,u){function f(h,v,_){return _==="assert"?new Zs(v,[h]):_==="coerce"?new Pc(v,[h]):h}if(a!==null&&typeof a!="string"&&typeof a!="boolean"&&typeof a!="number"||(a=["literal",a]),Array.isArray(a)){if(a.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const h=typeof a[0]=="string"?this.registry[a[0]]:void 0;if(h){let v=h.parse(a,this);if(!v)return null;if(this.expectedType){const _=this.expectedType,S=v.type;if(_.kind!=="string"&&_.kind!=="number"&&_.kind!=="boolean"&&_.kind!=="object"&&_.kind!=="array"||S.kind!=="value")if(_.kind!=="color"&&_.kind!=="formatted"&&_.kind!=="resolvedImage"||S.kind!=="value"&&S.kind!=="string"){if(this.checkSubtype(_,S))return null}else v=f(v,_,u.typeAnnotation||"coerce");else v=f(v,_,u.typeAnnotation||"assert")}if(!(v instanceof Yl)&&v.type.kind!=="resolvedImage"&&W0(v)){const _=new tw(this._scope,this.options);try{v=new Yl(v.type,v.evaluate(_))}catch(S){return this.error(S.message),null}}return v}return Pc.parse(["to-array",a],this)}return this.error(a===void 0?"'undefined' value invalid. Use null instead.":typeof a=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof a} instead.`)}concat(a,u,f){const h=typeof a=="number"?this.path.concat(a):this.path,v=f?this.scope.concat(f):this.scope;return new Hv(this.registry,h,u||null,v,this.errors,this._scope,this.options)}error(a,...u){const f=`${this.key}${u.map(h=>`[${h}]`).join("")}`;this.errors.push(new Ru(f,a))}checkSubtype(a,u){const f=I0(a,u);return f&&this.error(f),f}}var ZS=Hv;function W0(l){if(l instanceof U0)return W0(l.boundExpression);if(l instanceof Ss&&l.name==="error"||l instanceof k0||l instanceof $u||l instanceof Nf||l instanceof Dd)return!1;const a=l instanceof Pc||l instanceof Zs;let u=!0;return l.eachChild(f=>{u=a?u&&W0(f):u&&f instanceof Yl}),!!u&&F0(l)&&V0(l,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])}function Ff(l,a){const u=l.length-1;let f,h,v=0,_=u,S=0;for(;v<=_;)if(S=Math.floor((v+_)/2),f=l[S],h=l[S+1],f<=a){if(S===u||a<h)return S;v=S+1}else{if(!(f>a))throw new Ba("Input is not a number.");_=S-1}return 0}class Xh{constructor(a,u,f){this.type=a,this.input=u,this.labels=[],this.outputs=[];for(const[h,v]of f)this.labels.push(h),this.outputs.push(v)}static parse(a,u){if(a.length-1<4)return u.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return u.error("Expected an even number of arguments.");const f=u.parse(a[1],1,mr);if(!f)return null;const h=[];let v=null;u.expectedType&&u.expectedType.kind!=="value"&&(v=u.expectedType);for(let _=1;_<a.length;_+=2){const S=_===1?-1/0:a[_],P=a[_+1],I=_,L=_+1;if(typeof S!="number")return u.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',I);if(h.length&&h[h.length-1][0]>=S)return u.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',I);const F=u.parse(P,L,v);if(!F)return null;v=v||F.type,h.push([S,F])}return new Xh(v,f,h)}evaluate(a){const u=this.labels,f=this.outputs;if(u.length===1)return f[0].evaluate(a);const h=this.input.evaluate(a);if(h<=u[0])return f[0].evaluate(a);const v=u.length;return h>=u[v-1]?f[v-1].evaluate(a):f[Ff(u,h)].evaluate(a)}eachChild(a){a(this.input);for(const u of this.outputs)a(u)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}serialize(){const a=["step",this.input.serialize()];for(let u=0;u<this.labels.length;u++)u>0&&a.push(this.labels[u]),a.push(this.outputs[u].serialize());return a}}const XS=.95047,cw=1.08883,YS=4/29,Rd=6/29,JS=3*Rd*Rd,bO=Rd*Rd*Rd,xO=Math.PI/180,wO=180/Math.PI;function Gv(l){return l>bO?Math.pow(l,1/3):l/JS+YS}function dw(l){return l>Rd?l*l*l:JS*(l-YS)}function fw(l){return 255*(l<=.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055)}function pw(l){return(l/=255)<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function QS(l){const a=pw(l.r),u=pw(l.g),f=pw(l.b),h=Gv((.4124564*a+.3575761*u+.1804375*f)/XS),v=Gv((.2126729*a+.7151522*u+.072175*f)/1);return{l:116*v-16,a:500*(h-v),b:200*(v-Gv((.0193339*a+.119192*u+.9503041*f)/cw)),alpha:l.a}}function e7(l){let a=(l.l+16)/116,u=isNaN(l.a)?a:a+l.a/500,f=isNaN(l.b)?a:a-l.b/200;return a=1*dw(a),u=XS*dw(u),f=cw*dw(f),new Hn(fw(3.2404542*u-1.5371385*a-.4985314*f),fw(-.969266*u+1.8760108*a+.041556*f),fw(.0556434*u-.2040259*a+1.0572252*f),l.alpha)}function SO(l,a,u){const f=a-l;return l+u*(f>180||f<-180?f-360*Math.round(f/360):f)}const K0={forward:QS,reverse:e7,interpolate:function(l,a,u){return{l:Rr(l.l,a.l,u),a:Rr(l.a,a.a,u),b:Rr(l.b,a.b,u),alpha:Rr(l.alpha,a.alpha,u)}}},H0={forward:function(l){const{l:a,a:u,b:f}=QS(l),h=Math.atan2(f,u)*wO;return{h:h<0?h+360:h,c:Math.sqrt(u*u+f*f),l:a,alpha:l.a}},reverse:function(l){const a=l.h*xO,u=l.c;return e7({l:l.l,a:Math.cos(a)*u,b:Math.sin(a)*u,alpha:l.alpha})},interpolate:function(l,a,u){return{h:SO(l.h,a.h,u),c:Rr(l.c,a.c,u),l:Rr(l.l,a.l,u),alpha:Rr(l.alpha,a.alpha,u)}}};var G0=Object.freeze({__proto__:null,hcl:H0,lab:K0});class el{constructor(a,u,f,h,v){this.type=a,this.operator=u,this.interpolation=f,this.input=h,this.labels=[],this.outputs=[];for(const[_,S]of v)this.labels.push(_),this.outputs.push(S)}static interpolationFactor(a,u,f,h){let v=0;if(a.name==="exponential")v=hw(u,a.base,f,h);else if(a.name==="linear")v=hw(u,1,f,h);else if(a.name==="cubic-bezier"){const _=a.controlPoints;v=new O3(_[0],_[1],_[2],_[3]).solve(hw(u,1,f,h))}return v}static parse(a,u){let[f,h,v,..._]=a;if(!Array.isArray(h)||h.length===0)return u.error("Expected an interpolation type expression.",1);if(h[0]==="linear")h={name:"linear"};else if(h[0]==="exponential"){const I=h[1];if(typeof I!="number")return u.error("Exponential interpolation requires a numeric base.",1,1);h={name:"exponential",base:I}}else{if(h[0]!=="cubic-bezier")return u.error(`Unknown interpolation type ${String(h[0])}`,1,0);{const I=h.slice(1);if(I.length!==4||I.some(L=>typeof L!="number"||L<0||L>1))return u.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);h={name:"cubic-bezier",controlPoints:I}}}if(a.length-1<4)return u.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return u.error("Expected an even number of arguments.");if(v=u.parse(v,2,mr),!v)return null;const S=[];let P=null;f==="interpolate-hcl"||f==="interpolate-lab"?P=El:u.expectedType&&u.expectedType.kind!=="value"&&(P=u.expectedType);for(let I=0;I<_.length;I+=2){const L=_[I],F=_[I+1],W=I+3,X=I+4;if(typeof L!="number")return u.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(S.length&&S[S.length-1][0]>=L)return u.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',W);const ee=u.parse(F,X,P);if(!ee)return null;P=P||ee.type,S.push([L,ee])}return P.kind==="number"||P.kind==="color"||P.kind==="array"&&P.itemType.kind==="number"&&typeof P.N=="number"?new el(P,f,h,v,S):u.error(`Type ${na(P)} is not interpolatable.`)}evaluate(a){const u=this.labels,f=this.outputs;if(u.length===1)return f[0].evaluate(a);const h=this.input.evaluate(a);if(h<=u[0])return f[0].evaluate(a);const v=u.length;if(h>=u[v-1])return f[v-1].evaluate(a);const _=Ff(u,h),S=el.interpolationFactor(this.interpolation,h,u[_],u[_+1]),P=f[_].evaluate(a),I=f[_+1].evaluate(a);return this.operator==="interpolate"?C0[this.type.kind.toLowerCase()](P,I,S):this.operator==="interpolate-hcl"?H0.reverse(H0.interpolate(H0.forward(P),H0.forward(I),S)):K0.reverse(K0.interpolate(K0.forward(P),K0.forward(I),S))}eachChild(a){a(this.input);for(const u of this.outputs)a(u)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}serialize(){let a;a=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const u=[this.operator,a,this.input.serialize()];for(let f=0;f<this.labels.length;f++)u.push(this.labels[f],this.outputs[f].serialize());return u}}function hw(l,a,u,f){const h=f-u,v=l-u;return h===0?0:a===1?v/h:(Math.pow(a,v)-1)/(Math.pow(a,h)-1)}class jf{constructor(a,u){this.type=a,this.args=u}static parse(a,u){if(a.length<2)return u.error("Expectected at least one argument.");let f=null;const h=u.expectedType;h&&h.kind!=="value"&&(f=h);const v=[];for(const S of a.slice(1)){const P=u.parse(S,1+v.length,f,void 0,{typeAnnotation:"omit"});if(!P)return null;f=f||P.type,v.push(P)}const _=h&&v.some(S=>I0(h,S.type));return new jf(_?Un:f,v)}evaluate(a){let u,f=null,h=0;for(const v of this.args){if(h++,f=v.evaluate(a),f&&f instanceof qs&&!f.available&&(u||(u=f),f=null,h===this.args.length))return u;if(f!==null)break}return f}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}serialize(){const a=["coalesce"];return this.eachChild(u=>{a.push(u.serialize())}),a}}class qv{constructor(a,u){this.type=u.type,this.bindings=[].concat(a),this.result=u}evaluate(a){return this.result.evaluate(a)}eachChild(a){for(const u of this.bindings)a(u[1]);a(this.result)}static parse(a,u){if(a.length<4)return u.error(`Expected at least 3 arguments, but found ${a.length-1} instead.`);const f=[];for(let v=1;v<a.length-1;v+=2){const _=a[v];if(typeof _!="string")return u.error(`Expected string, but found ${typeof _} instead.`,v);if(/[^a-zA-Z0-9_]/.test(_))return u.error("Variable names must contain only alphanumeric characters or '_'.",v);const S=u.parse(a[v+1],v+1);if(!S)return null;f.push([_,S])}const h=u.parse(a[a.length-1],a.length-1,u.expectedType,f);return h?new qv(f,h):null}outputDefined(){return this.result.outputDefined()}serialize(){const a=["let"];for(const[u,f]of this.bindings)a.push(u,f.serialize());return a.push(this.result.serialize()),a}}class Zv{constructor(a,u,f){this.type=a,this.index=u,this.input=f}static parse(a,u){if(a.length!==3)return u.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const f=u.parse(a[1],1,mr),h=u.parse(a[2],2,Eo(u.expectedType||Un));return f&&h?new Zv(h.type.itemType,f,h):null}evaluate(a){const u=this.index.evaluate(a),f=this.input.evaluate(a);if(u<0)throw new Ba(`Array index out of bounds: ${u} < 0.`);if(u>=f.length)throw new Ba(`Array index out of bounds: ${u} > ${f.length-1}.`);if(u!==Math.floor(u))throw new Ba(`Array index must be an integer, but found ${u} instead.`);return f[u]}eachChild(a){a(this.index),a(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class mw{constructor(a,u){this.type=qn,this.needle=a,this.haystack=u}static parse(a,u){if(a.length!==3)return u.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const f=u.parse(a[1],1,Un),h=u.parse(a[2],2,Un);return f&&h?Al(f.type,[qn,Dn,mr,Gs,Un])?new mw(f,h):u.error(`Expected first argument to be of type boolean, string, number or null, but found ${na(f.type)} instead`):null}evaluate(a){const u=this.needle.evaluate(a),f=this.haystack.evaluate(a);if(f==null)return!1;if(!M0(u,["boolean","string","number","null"]))throw new Ba(`Expected first argument to be of type boolean, string, number or null, but found ${na(Ca(u))} instead.`);if(!M0(f,["string","array"]))throw new Ba(`Expected second argument to be of type array or string, but found ${na(Ca(f))} instead.`);return f.indexOf(u)>=0}eachChild(a){a(this.needle),a(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class q0{constructor(a,u,f){this.type=mr,this.needle=a,this.haystack=u,this.fromIndex=f}static parse(a,u){if(a.length<=2||a.length>=5)return u.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const f=u.parse(a[1],1,Un),h=u.parse(a[2],2,Un);if(!f||!h)return null;if(!Al(f.type,[qn,Dn,mr,Gs,Un]))return u.error(`Expected first argument to be of type boolean, string, number or null, but found ${na(f.type)} instead`);if(a.length===4){const v=u.parse(a[3],3,mr);return v?new q0(f,h,v):null}return new q0(f,h)}evaluate(a){const u=this.needle.evaluate(a),f=this.haystack.evaluate(a);if(!M0(u,["boolean","string","number","null"]))throw new Ba(`Expected first argument to be of type boolean, string, number or null, but found ${na(Ca(u))} instead.`);if(!M0(f,["string","array"]))throw new Ba(`Expected second argument to be of type array or string, but found ${na(Ca(f))} instead.`);if(this.fromIndex){const h=this.fromIndex.evaluate(a);return f.indexOf(u,h)}return f.indexOf(u)}eachChild(a){a(this.needle),a(this.haystack),this.fromIndex&&a(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const a=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),a]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Xv{constructor(a,u,f,h,v,_){this.inputType=a,this.type=u,this.input=f,this.cases=h,this.outputs=v,this.otherwise=_}static parse(a,u){if(a.length<5)return u.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if(a.length%2!=1)return u.error("Expected an even number of arguments.");let f,h;u.expectedType&&u.expectedType.kind!=="value"&&(h=u.expectedType);const v={},_=[];for(let I=2;I<a.length-1;I+=2){let L=a[I];const F=a[I+1];Array.isArray(L)||(L=[L]);const W=u.concat(I);if(L.length===0)return W.error("Expected at least one branch label.");for(const ee of L){if(typeof ee!="number"&&typeof ee!="string")return W.error("Branch labels must be numbers or strings.");if(typeof ee=="number"&&Math.abs(ee)>Number.MAX_SAFE_INTEGER)return W.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ee=="number"&&Math.floor(ee)!==ee)return W.error("Numeric branch labels must be integer values.");if(f){if(W.checkSubtype(f,Ca(ee)))return null}else f=Ca(ee);if(v[String(ee)]!==void 0)return W.error("Branch labels must be unique.");v[String(ee)]=_.length}const X=u.parse(F,I,h);if(!X)return null;h=h||X.type,_.push(X)}const S=u.parse(a[1],1,Un);if(!S)return null;const P=u.parse(a[a.length-1],a.length-1,h);return P?S.type.kind!=="value"&&u.concat(1).checkSubtype(f,S.type)?null:new Xv(f,h,S,v,_,P):null}evaluate(a){const u=this.input.evaluate(a);return(Ca(u)===this.inputType&&this.outputs[this.cases[u]]||this.otherwise).evaluate(a)}eachChild(a){a(this.input),this.outputs.forEach(a),a(this.otherwise)}outputDefined(){return this.outputs.every(a=>a.outputDefined())&&this.otherwise.outputDefined()}serialize(){const a=["match",this.input.serialize()],u=Object.keys(this.cases).sort(),f=[],h={};for(const _ of u){const S=h[this.cases[_]];S===void 0?(h[this.cases[_]]=f.length,f.push([this.cases[_],[_]])):f[S][1].push(_)}const v=_=>this.inputType.kind==="number"?Number(_):_;for(const[_,S]of f)a.push(S.length===1?v(S[0]):S.map(v)),a.push(this.outputs[_].serialize());return a.push(this.otherwise.serialize()),a}}class Yv{constructor(a,u,f){this.type=a,this.branches=u,this.otherwise=f}static parse(a,u){if(a.length<4)return u.error(`Expected at least 3 arguments, but found only ${a.length-1}.`);if(a.length%2!=0)return u.error("Expected an odd number of arguments.");let f;u.expectedType&&u.expectedType.kind!=="value"&&(f=u.expectedType);const h=[];for(let _=1;_<a.length-1;_+=2){const S=u.parse(a[_],_,qn);if(!S)return null;const P=u.parse(a[_+1],_+1,f);if(!P)return null;h.push([S,P]),f=f||P.type}const v=u.parse(a[a.length-1],a.length-1,f);return v?new Yv(f,h,v):null}evaluate(a){for(const[u,f]of this.branches)if(u.evaluate(a))return f.evaluate(a);return this.otherwise.evaluate(a)}eachChild(a){for(const[u,f]of this.branches)a(u),a(f);a(this.otherwise)}outputDefined(){return this.branches.every(([a,u])=>u.outputDefined())&&this.otherwise.outputDefined()}serialize(){const a=["case"];return this.eachChild(u=>{a.push(u.serialize())}),a}}class Z0{constructor(a,u,f,h){this.type=a,this.input=u,this.beginIndex=f,this.endIndex=h}static parse(a,u){if(a.length<=2||a.length>=5)return u.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const f=u.parse(a[1],1,Un),h=u.parse(a[2],2,mr);if(!f||!h)return null;if(!Al(f.type,[Eo(Un),Dn,Un]))return u.error(`Expected first argument to be of type array or string, but found ${na(f.type)} instead`);if(a.length===4){const v=u.parse(a[3],3,mr);return v?new Z0(f.type,f,h,v):null}return new Z0(f.type,f,h)}evaluate(a){const u=this.input.evaluate(a),f=this.beginIndex.evaluate(a);if(!M0(u,["string","array"]))throw new Ba(`Expected first argument to be of type array or string, but found ${na(Ca(u))} instead.`);if(this.endIndex){const h=this.endIndex.evaluate(a);return u.slice(f,h)}return u.slice(f)}eachChild(a){a(this.input),a(this.beginIndex),this.endIndex&&a(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const a=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),a]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function Jv(l,a){return l==="=="||l==="!="?a.kind==="boolean"||a.kind==="string"||a.kind==="number"||a.kind==="null"||a.kind==="value":a.kind==="string"||a.kind==="number"||a.kind==="value"}function Qv(l,a,u,f){return f.compare(a,u)===0}function Yh(l,a,u){const f=l!=="=="&&l!=="!=";return class s4e{constructor(v,_,S){this.type=qn,this.lhs=v,this.rhs=_,this.collator=S,this.hasUntypedArgument=v.type.kind==="value"||_.type.kind==="value"}static parse(v,_){if(v.length!==3&&v.length!==4)return _.error("Expected two or three arguments.");const S=v[0];let P=_.parse(v[1],1,Un);if(!P)return null;if(!Jv(S,P.type))return _.concat(1).error(`"${S}" comparisons are not supported for type '${na(P.type)}'.`);let I=_.parse(v[2],2,Un);if(!I)return null;if(!Jv(S,I.type))return _.concat(2).error(`"${S}" comparisons are not supported for type '${na(I.type)}'.`);if(P.type.kind!==I.type.kind&&P.type.kind!=="value"&&I.type.kind!=="value")return _.error(`Cannot compare types '${na(P.type)}' and '${na(I.type)}'.`);f&&(P.type.kind==="value"&&I.type.kind!=="value"?P=new Zs(I.type,[P]):P.type.kind!=="value"&&I.type.kind==="value"&&(I=new Zs(P.type,[I])));let L=null;if(v.length===4){if(P.type.kind!=="string"&&I.type.kind!=="string"&&P.type.kind!=="value"&&I.type.kind!=="value")return _.error("Cannot use collator to compare non-string types.");if(L=_.parse(v[3],3,Rv),!L)return null}return new s4e(P,I,L)}evaluate(v){const _=this.lhs.evaluate(v),S=this.rhs.evaluate(v);if(f&&this.hasUntypedArgument){const P=Ca(_),I=Ca(S);if(P.kind!==I.kind||P.kind!=="string"&&P.kind!=="number")throw new Ba(`Expected arguments for "${l}" to be (string, string) or (number, number), but found (${P.kind}, ${I.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){const P=Ca(_),I=Ca(S);if(P.kind!=="string"||I.kind!=="string")return a(v,_,S)}return this.collator?u(v,_,S,this.collator.evaluate(v)):a(v,_,S)}eachChild(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)}outputDefined(){return!0}serialize(){const v=[l];return this.eachChild(_=>{v.push(_.serialize())}),v}}}const EO=Yh("==",function(l,a,u){return a===u},Qv),t7=Yh("!=",function(l,a,u){return a!==u},function(l,a,u,f){return!Qv(0,a,u,f)}),AO=Yh("<",function(l,a,u){return a<u},function(l,a,u,f){return f.compare(a,u)<0}),TO=Yh(">",function(l,a,u){return a>u},function(l,a,u,f){return f.compare(a,u)>0}),PO=Yh("<=",function(l,a,u){return a<=u},function(l,a,u,f){return f.compare(a,u)<=0}),CO=Yh(">=",function(l,a,u){return a>=u},function(l,a,u,f){return f.compare(a,u)>=0});class gw{constructor(a,u,f,h,v,_){this.type=Dn,this.number=a,this.locale=u,this.currency=f,this.unit=h,this.minFractionDigits=v,this.maxFractionDigits=_}static parse(a,u){if(a.length!==3)return u.error("Expected two arguments.");const f=u.parse(a[1],1,mr);if(!f)return null;const h=a[2];if(typeof h!="object"||Array.isArray(h))return u.error("NumberFormat options argument must be an object.");let v=null;if(h.locale&&(v=u.parse(h.locale,1,Dn),!v))return null;let _=null;if(h.currency&&(_=u.parse(h.currency,1,Dn),!_))return null;let S=null;if(h.unit&&(S=u.parse(h.unit,1,Dn),!S))return null;let P=null;if(h["min-fraction-digits"]&&(P=u.parse(h["min-fraction-digits"],1,mr),!P))return null;let I=null;return h["max-fraction-digits"]&&(I=u.parse(h["max-fraction-digits"],1,mr),!I)?null:new gw(f,v,_,S,P,I)}evaluate(a){return new Intl.NumberFormat(this.locale?this.locale.evaluate(a):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(a):void 0,unit:this.unit?this.unit.evaluate(a):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(a):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(a):void 0}).format(this.number.evaluate(a))}eachChild(a){a(this.number),this.locale&&a(this.locale),this.currency&&a(this.currency),this.unit&&a(this.unit),this.minFractionDigits&&a(this.minFractionDigits),this.maxFractionDigits&&a(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const a={};return this.locale&&(a.locale=this.locale.serialize()),this.currency&&(a.currency=this.currency.serialize()),this.unit&&(a.unit=this.unit.serialize()),this.minFractionDigits&&(a["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(a["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),a]}}class yw{constructor(a){this.type=mr,this.input=a}static parse(a,u){if(a.length!==2)return u.error(`Expected 1 argument, but found ${a.length-1} instead.`);const f=u.parse(a[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?u.error(`Expected argument of type string or array, but found ${na(f.type)} instead.`):new yw(f):null}evaluate(a){const u=this.input.evaluate(a);if(typeof u=="string"||Array.isArray(u))return u.length;throw new Ba(`Expected value to be of type string or array, but found ${na(Ca(u))} instead.`)}eachChild(a){a(this.input)}outputDefined(){return!1}serialize(){const a=["length"];return this.eachChild(u=>{a.push(u.serialize())}),a}}function r7(l){return function(){l=1831565813+(l|=0)|0;let a=Math.imul(l^l>>>15,1|l);return a=a+Math.imul(a^a>>>7,61|a)^a,((a^a>>>14)>>>0)/4294967296}}const Jh={"==":EO,"!=":t7,">":TO,"<":AO,">=":CO,"<=":PO,array:Zs,at:Zv,boolean:Zs,case:Yv,coalesce:jf,collator:k0,format:Bf,image:Tc,in:mw,"index-of":q0,interpolate:el,"interpolate-hcl":el,"interpolate-lab":el,length:yw,let:qv,literal:Yl,match:Xv,number:Zs,"number-format":gw,object:Zs,slice:Z0,step:Xh,string:Zs,"to-boolean":Pc,"to-color":Pc,"to-number":Pc,"to-string":Pc,var:U0,within:$u,distance:Nf,config:Dd};function n7(l,[a,u,f,h]){a=a.evaluate(l),u=u.evaluate(l),f=f.evaluate(l);const v=h?h.evaluate(l):1,_=OS(a,u,f,v);if(_)throw new Ba(_);return new Hn(a/255*v,u/255*v,f/255*v,v)}function IO(l,[a,u,f,h]){a=a.evaluate(l),u=u.evaluate(l),f=f.evaluate(l);const v=h?h.evaluate(l):1,_=function(I,L,F,W){return typeof I=="number"&&I>=0&&I<=360?typeof L=="number"&&L>=0&&L<=100&&typeof F=="number"&&F>=0&&F<=100?W===void 0||typeof W=="number"&&W>=0&&W<=1?null:`Invalid hsla value [${[I,L,F,W].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(typeof W=="number"?[I,L,F,W]:[I,L,F]).join(", ")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(typeof W=="number"?[I,L,F,W]:[I,L,F]).join(", ")}]: 'h' must be between 0 and 360.`}(a,u,f,v);if(_)throw new Ba(_);const S=`hsla(${a}, ${u}%, ${f}%, ${v})`,P=Hn.parse(S);if(!P)throw new Ba(`Failed to parse HSLA color: ${S}`);return P}function b(l,a){return l in a}function d(l,a){const u=a[l];return u===void 0?null:u}function m(l){return{type:l}}function w(l){return{result:"success",value:l}}function T(l){return{result:"error",value:l}}function C(l,a){return!!l&&!!l.parameters&&l.parameters.indexOf(a)>-1}function O(l){return l["property-type"]==="data-driven"}function z(l){return C(l.expression,"measure-light")}function K(l){return C(l.expression,"zoom")}function q(l){return!!l.expression&&l.expression.interpolated}function Q(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)}function ie(l){return l}function ce(l,a){const u=a.type==="color",f=l.stops&&typeof l.stops[0][0]=="object",h=f||!(f||l.property!==void 0),v=l.type||(q(a)?"exponential":"interval");if(u&&((l=Uh({},l)).stops&&(l.stops=l.stops.map(I=>[I[0],Hn.parse(I[1])])),l.default=Hn.parse(l.default?l.default:a.default)),l.colorSpace&&l.colorSpace!=="rgb"&&!G0[l.colorSpace])throw new Error(`Unknown color space: ${l.colorSpace}`);let _,S,P;if(v==="exponential")_=Pe;else if(v==="interval")_=Ae;else if(v==="categorical"){_=Ee,S=Object.create(null);for(const I of l.stops)S[I[0]]=I[1];P=typeof l.stops[0][0]}else{if(v!=="identity")throw new Error(`Unknown function type "${v}"`);_=Ie}if(f){const I={},L=[];for(let X=0;X<l.stops.length;X++){const ee=l.stops[X],ae=ee[0].zoom;I[ae]===void 0&&(I[ae]={zoom:ae,type:l.type,property:l.property,default:l.default,stops:[]},L.push(ae)),I[ae].stops.push([ee[0].value,ee[1]])}const F=[];for(const X of L)F.push([I[X].zoom,ce(I[X],a)]);const W={name:"linear"};return{kind:"composite",interpolationType:W,interpolationFactor:el.interpolationFactor.bind(void 0,W),zoomStops:F.map(X=>X[0]),evaluate:({zoom:X},ee)=>Pe({stops:F,base:l.base},a,X).evaluate(X,ee)}}if(h){const I=v==="exponential"?{name:"exponential",base:l.base!==void 0?l.base:1}:null;return{kind:"camera",interpolationType:I,interpolationFactor:el.interpolationFactor.bind(void 0,I),zoomStops:l.stops.map(L=>L[0]),evaluate:({zoom:L})=>_(l,a,L,S,P)}}return{kind:"source",evaluate(I,L){const F=L&&L.properties?L.properties[l.property]:void 0;return F===void 0?me(l.default,a.default):_(l,a,F,S,P)}}}function me(l,a,u){return l!==void 0?l:a!==void 0?a:u!==void 0?u:void 0}function Ee(l,a,u,f,h){return me(typeof u===h?f[u]:void 0,l.default,a.default)}function Ae(l,a,u){if(Md(u)!=="number")return me(l.default,a.default);const f=l.stops.length;if(f===1||u<=l.stops[0][0])return l.stops[0][1];if(u>=l.stops[f-1][0])return l.stops[f-1][1];const h=Ff(l.stops.map(v=>v[0]),u);return l.stops[h][1]}function Pe(l,a,u){const f=l.base!==void 0?l.base:1;if(Md(u)!=="number")return me(l.default,a.default);const h=l.stops.length;if(h===1||u<=l.stops[0][0])return l.stops[0][1];if(u>=l.stops[h-1][0])return l.stops[h-1][1];const v=Ff(l.stops.map(L=>L[0]),u),_=function(L,F,W,X){const ee=X-W,ae=L-W;return ee===0?0:F===1?ae/ee:(Math.pow(F,ae)-1)/(Math.pow(F,ee)-1)}(u,f,l.stops[v][0],l.stops[v+1][0]),S=l.stops[v][1],P=l.stops[v+1][1];let I=C0[a.type]||ie;if(l.colorSpace&&l.colorSpace!=="rgb"){const L=G0[l.colorSpace];I=(F,W)=>L.reverse(L.interpolate(L.forward(F),L.forward(W),_))}return typeof S.evaluate=="function"?{evaluate(...L){const F=S.evaluate.apply(void 0,L),W=P.evaluate.apply(void 0,L);if(F!==void 0&&W!==void 0)return I(F,W,_)}}:I(S,P,_)}function Ie(l,a,u){return a.type==="color"?u=Hn.parse(u):a.type==="formatted"?u=jo.fromString(u.toString()):a.type==="resolvedImage"?u=qs.fromString(u.toString()):Md(u)===a.type||a.type==="enum"&&a.values[u]||(u=void 0),me(u,l.default,a.default)}Ss.register(Jh,{error:[{kind:"error"},[Dn],(l,[a])=>{throw new Ba(a.evaluate(l))}],typeof:[Dn,[Un],(l,[a])=>na(Ca(a.evaluate(l)))],"to-rgba":[Eo(mr,4),[El],(l,[a])=>a.evaluate(l).toRenderColor(null).toArray()],rgb:[El,[mr,mr,mr],n7],rgba:[El,[mr,mr,mr,mr],n7],hsl:[El,[mr,mr,mr],IO],hsla:[El,[mr,mr,mr,mr],IO],has:{type:qn,overloads:[[[Dn],(l,[a])=>b(a.evaluate(l),l.properties())],[[Dn,Wh],(l,[a,u])=>b(a.evaluate(l),u.evaluate(l))]]},get:{type:Un,overloads:[[[Dn],(l,[a])=>d(a.evaluate(l),l.properties())],[[Dn,Wh],(l,[a,u])=>d(a.evaluate(l),u.evaluate(l))]]},"feature-state":[Un,[Dn],(l,[a])=>d(a.evaluate(l),l.featureState||{})],properties:[Wh,[],l=>l.properties()],"geometry-type":[Dn,[],l=>l.geometryType()],id:[Un,[],l=>l.id()],zoom:[mr,[],l=>l.globals.zoom],pitch:[mr,[],l=>l.globals.pitch||0],"distance-from-center":[mr,[],l=>l.distanceFromCenter()],"measure-light":[mr,[Dn],(l,[a])=>l.measureLight(a.evaluate(l))],"heatmap-density":[mr,[],l=>l.globals.heatmapDensity||0],"line-progress":[mr,[],l=>l.globals.lineProgress||0],"raster-value":[mr,[],l=>l.globals.rasterValue||0],"raster-particle-speed":[mr,[],l=>l.globals.rasterParticleSpeed||0],"sky-radial-progress":[mr,[],l=>l.globals.skyRadialProgress||0],accumulated:[Un,[],l=>l.globals.accumulated===void 0?null:l.globals.accumulated],"+":[mr,m(mr),(l,a)=>{let u=0;for(const f of a)u+=f.evaluate(l);return u}],"*":[mr,m(mr),(l,a)=>{let u=1;for(const f of a)u*=f.evaluate(l);return u}],"-":{type:mr,overloads:[[[mr,mr],(l,[a,u])=>a.evaluate(l)-u.evaluate(l)],[[mr],(l,[a])=>-a.evaluate(l)]]},"/":[mr,[mr,mr],(l,[a,u])=>a.evaluate(l)/u.evaluate(l)],"%":[mr,[mr,mr],(l,[a,u])=>a.evaluate(l)%u.evaluate(l)],ln2:[mr,[],()=>Math.LN2],pi:[mr,[],()=>Math.PI],e:[mr,[],()=>Math.E],"^":[mr,[mr,mr],(l,[a,u])=>Math.pow(a.evaluate(l),u.evaluate(l))],sqrt:[mr,[mr],(l,[a])=>Math.sqrt(a.evaluate(l))],log10:[mr,[mr],(l,[a])=>Math.log(a.evaluate(l))/Math.LN10],ln:[mr,[mr],(l,[a])=>Math.log(a.evaluate(l))],log2:[mr,[mr],(l,[a])=>Math.log(a.evaluate(l))/Math.LN2],sin:[mr,[mr],(l,[a])=>Math.sin(a.evaluate(l))],cos:[mr,[mr],(l,[a])=>Math.cos(a.evaluate(l))],tan:[mr,[mr],(l,[a])=>Math.tan(a.evaluate(l))],asin:[mr,[mr],(l,[a])=>Math.asin(a.evaluate(l))],acos:[mr,[mr],(l,[a])=>Math.acos(a.evaluate(l))],atan:[mr,[mr],(l,[a])=>Math.atan(a.evaluate(l))],min:[mr,m(mr),(l,a)=>Math.min(...a.map(u=>u.evaluate(l)))],max:[mr,m(mr),(l,a)=>Math.max(...a.map(u=>u.evaluate(l)))],abs:[mr,[mr],(l,[a])=>Math.abs(a.evaluate(l))],round:[mr,[mr],(l,[a])=>{const u=a.evaluate(l);return u<0?-Math.round(-u):Math.round(u)}],floor:[mr,[mr],(l,[a])=>Math.floor(a.evaluate(l))],ceil:[mr,[mr],(l,[a])=>Math.ceil(a.evaluate(l))],"filter-==":[qn,[Dn,Un],(l,[a,u])=>l.properties()[a.value]===u.value],"filter-id-==":[qn,[Un],(l,[a])=>l.id()===a.value],"filter-type-==":[qn,[Dn],(l,[a])=>l.geometryType()===a.value],"filter-<":[qn,[Dn,Un],(l,[a,u])=>{const f=l.properties()[a.value],h=u.value;return typeof f==typeof h&&f<h}],"filter-id-<":[qn,[Un],(l,[a])=>{const u=l.id(),f=a.value;return typeof u==typeof f&&u<f}],"filter->":[qn,[Dn,Un],(l,[a,u])=>{const f=l.properties()[a.value],h=u.value;return typeof f==typeof h&&f>h}],"filter-id->":[qn,[Un],(l,[a])=>{const u=l.id(),f=a.value;return typeof u==typeof f&&u>f}],"filter-<=":[qn,[Dn,Un],(l,[a,u])=>{const f=l.properties()[a.value],h=u.value;return typeof f==typeof h&&f<=h}],"filter-id-<=":[qn,[Un],(l,[a])=>{const u=l.id(),f=a.value;return typeof u==typeof f&&u<=f}],"filter->=":[qn,[Dn,Un],(l,[a,u])=>{const f=l.properties()[a.value],h=u.value;return typeof f==typeof h&&f>=h}],"filter-id->=":[qn,[Un],(l,[a])=>{const u=l.id(),f=a.value;return typeof u==typeof f&&u>=f}],"filter-has":[qn,[Un],(l,[a])=>a.value in l.properties()],"filter-has-id":[qn,[],l=>l.id()!==null&&l.id()!==void 0],"filter-type-in":[qn,[Eo(Dn)],(l,[a])=>a.value.indexOf(l.geometryType())>=0],"filter-id-in":[qn,[Eo(Un)],(l,[a])=>a.value.indexOf(l.id())>=0],"filter-in-small":[qn,[Dn,Eo(Un)],(l,[a,u])=>u.value.indexOf(l.properties()[a.value])>=0],"filter-in-large":[qn,[Dn,Eo(Un)],(l,[a,u])=>function(f,h,v,_){for(;v<=_;){const S=v+_>>1;if(h[S]===f)return!0;h[S]>f?_=S-1:v=S+1}return!1}(l.properties()[a.value],u.value,0,u.value.length-1)],all:{type:qn,overloads:[[[qn,qn],(l,[a,u])=>a.evaluate(l)&&u.evaluate(l)],[m(qn),(l,a)=>{for(const u of a)if(!u.evaluate(l))return!1;return!0}]]},any:{type:qn,overloads:[[[qn,qn],(l,[a,u])=>a.evaluate(l)||u.evaluate(l)],[m(qn),(l,a)=>{for(const u of a)if(u.evaluate(l))return!0;return!1}]]},"!":[qn,[qn],(l,[a])=>!a.evaluate(l)],"is-supported-script":[qn,[Dn],(l,[a])=>{const u=l.globals&&l.globals.isSupportedScript;return!u||u(a.evaluate(l))}],upcase:[Dn,[Dn],(l,[a])=>a.evaluate(l).toUpperCase()],downcase:[Dn,[Dn],(l,[a])=>a.evaluate(l).toLowerCase()],concat:[Dn,m(Un),(l,a)=>a.map(u=>Xl(u.evaluate(l))).join("")],"resolved-locale":[Dn,[Rv],(l,[a])=>a.evaluate(l).resolvedLocale()],random:[mr,[mr,mr,Un],(l,a)=>{const[u,f,h]=a.map(_=>_.evaluate(l));if(u>f||u===f)return u;let v;if(typeof h=="string")v=function(_){let S=0;if(_.length===0)return S;for(let P=0;P<_.length;P++)S=(S<<5)-S+_.charCodeAt(P),S|=0;return S}(h);else{if(typeof h!="number")throw new Ba(`Invalid seed input: ${h}`);v=h}return u+r7(v)()*(f-u)}]});class Ve{constructor(a,u,f,h){this.expression=a,this._warningHistory={},this._evaluator=new tw(f,h),this._defaultValue=u?function(v){return v.type==="color"&&(Q(v.default)||Array.isArray(v.default))?new Hn(0,0,0,0):v.type==="color"?Hn.parse(v.default)||null:v.default===void 0?null:v.default}(u):null,this._enumValues=u&&u.type==="enum"?u.values:null}evaluateWithoutErrorHandling(a,u,f,h,v,_,S,P){return this._evaluator.globals=a,this._evaluator.feature=u,this._evaluator.featureState=f,this._evaluator.canonical=h||null,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=_,this._evaluator.featureTileCoord=S||null,this._evaluator.featureDistanceData=P||null,this.expression.evaluate(this._evaluator)}evaluate(a,u,f,h,v,_,S,P){this._evaluator.globals=a,this._evaluator.feature=u||null,this._evaluator.featureState=f||null,this._evaluator.canonical=h||null,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=_||null,this._evaluator.featureTileCoord=S||null,this._evaluator.featureDistanceData=P||null;try{const I=this.expression.evaluate(this._evaluator);if(I==null||typeof I=="number"&&I!=I)return this._defaultValue;if(this._enumValues&&!(I in this._enumValues))throw new Ba(`Expected value to be one of ${Object.keys(this._enumValues).map(L=>JSON.stringify(L)).join(", ")}, but found ${JSON.stringify(I)} instead.`);return I}catch(I){return this._warningHistory[I.message]||(this._warningHistory[I.message]=!0,typeof console<"u"&&console.warn(`Failed to evaluate expression "${JSON.stringify(this.expression.serialize())}". ${I.message}`)),this._defaultValue}}}function Ue(l){return Array.isArray(l)&&l.length>0&&typeof l[0]=="string"&&l[0]in Jh}function Fe(l,a,u,f){const h=new ZS(Jh,[],a?function(_){const S={color:El,string:Dn,number:mr,enum:Dn,boolean:qn,formatted:Kh,resolvedImage:Lf};return _.type==="array"?Eo(S[_.value]||Un,_.length):S[_.type]}(a):void 0,void 0,void 0,u,f),v=h.parse(l,void 0,void 0,void 0,a&&a.type==="string"?{typeAnnotation:"coerce"}:void 0);return v?w(new Ve(v,a,u,f)):T(h.errors)}class Ye{constructor(a,u,f){this.kind=a,this._styleExpression=u,this.isLightConstant=f,this.isStateDependent=a!=="constant"&&!Kv(u.expression),this.configDependencies=j0(u.expression)}evaluateWithoutErrorHandling(a,u,f,h,v,_){return this._styleExpression.evaluateWithoutErrorHandling(a,u,f,h,v,_)}evaluate(a,u,f,h,v,_){return this._styleExpression.evaluate(a,u,f,h,v,_)}}class He{constructor(a,u,f,h,v){this.kind=a,this.zoomStops=f,this._styleExpression=u,this.isStateDependent=a!=="camera"&&!Kv(u.expression),this.isLightConstant=v,this.configDependencies=j0(u.expression),this.interpolationType=h}evaluateWithoutErrorHandling(a,u,f,h,v,_){return this._styleExpression.evaluateWithoutErrorHandling(a,u,f,h,v,_)}evaluate(a,u,f,h,v,_){return this._styleExpression.evaluate(a,u,f,h,v,_)}interpolationFactor(a,u,f){return this.interpolationType?el.interpolationFactor(this.interpolationType,a,u,f):0}}function Ge(l,a,u,f){if((l=Fe(l,a,u,f)).result==="error")return l;const h=l.value.expression,v=F0(h);if(!v&&!O(a))return T([new Ru("","data expressions not supported")]);const _=V0(h,["zoom","pitch","distance-from-center"]);if(!_&&!K(a))return T([new Ru("","zoom expressions not supported")]);const S=V0(h,["measure-light"]);if(!S&&!z(a))return T([new Ru("","measure-light expression not supported")]);const P=a.expression&&a.expression.relaxZoomRestriction,I=at(h);return I||_||P?I instanceof Ru?T([I]):I instanceof el&&!q(a)?T([new Ru("",'"interpolate" expressions cannot be used with this property')]):w(I?new He(v?"camera":"composite",l.value,I.labels,I instanceof el?I.interpolation:void 0,S):new Ye(v?"constant":"source",l.value,S)):T([new Ru("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression, or in the properties of atmosphere.')])}class nt{constructor(a,u){this._parameters=a,this._specification=u,Uh(this,ce(this._parameters,this._specification))}static deserialize(a){return new nt(a._parameters,a._specification)}static serialize(a){return{_parameters:a._parameters,_specification:a._specification}}}function at(l){let a=null;if(l instanceof qv)a=at(l.result);else if(l instanceof jf){for(const u of l.args)if(a=at(u),a)break}else(l instanceof Xh||l instanceof el)&&l.input instanceof Ss&&l.input.name==="zoom"&&(a=l);return a instanceof Ru||l.eachChild(u=>{const f=at(u);f instanceof Ru?a=f:a&&f&&a!==f&&(a=new Ru("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),a}var pt=Xe,ot=3;function Xe(l,a,u){var f=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;var h=new Int32Array(this.arrayBuffer);l=h[0],this.d=(a=h[1])+2*(u=h[2]);for(var v=0;v<this.d*this.d;v++){var _=h[ot+v],S=h[ot+v+1];f.push(_===S?null:h.subarray(_,S))}var P=h[ot+f.length+1];this.keys=h.subarray(h[ot+f.length],P),this.bboxes=h.subarray(P),this.insert=this._insertReadonly}else{this.d=a+2*u;for(var I=0;I<this.d*this.d;I++)f.push([]);this.keys=[],this.bboxes=[]}this.n=a,this.extent=l,this.padding=u,this.scale=a/l,this.uid=0;var L=u/a*l;this.min=-L,this.max=l+L}Xe.prototype.insert=function(l,a,u,f,h){this._forEachCell(a,u,f,h,this._insertCell,this.uid++),this.keys.push(l),this.bboxes.push(a),this.bboxes.push(u),this.bboxes.push(f),this.bboxes.push(h)},Xe.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Xe.prototype._insertCell=function(l,a,u,f,h,v){this.cells[h].push(v)},Xe.prototype.query=function(l,a,u,f,h){var v=this.min,_=this.max;if(l<=v&&a<=v&&_<=u&&_<=f&&!h)return Array.prototype.slice.call(this.keys);var S=[];return this._forEachCell(l,a,u,f,this._queryCell,S,{},h),S},Xe.prototype._queryCell=function(l,a,u,f,h,v,_,S){var P=this.cells[h];if(P!==null)for(var I=this.keys,L=this.bboxes,F=0;F<P.length;F++){var W=P[F];if(_[W]===void 0){var X=4*W;(S?S(L[X+0],L[X+1],L[X+2],L[X+3]):l<=L[X+2]&&a<=L[X+3]&&u>=L[X+0]&&f>=L[X+1])?(_[W]=!0,v.push(I[W])):_[W]=!1}}},Xe.prototype._forEachCell=function(l,a,u,f,h,v,_,S){for(var P=this._convertToCellCoord(l),I=this._convertToCellCoord(a),L=this._convertToCellCoord(u),F=this._convertToCellCoord(f),W=P;W<=L;W++)for(var X=I;X<=F;X++){var ee=this.d*X+W;if((!S||S(this._convertFromCellCoord(W),this._convertFromCellCoord(X),this._convertFromCellCoord(W+1),this._convertFromCellCoord(X+1)))&&h.call(this,l,a,u,f,ee,v,_,S))return}},Xe.prototype._convertFromCellCoord=function(l){return(l-this.padding)/this.scale},Xe.prototype._convertToCellCoord=function(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))},Xe.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var l=this.cells,a=ot+this.cells.length+1+1,u=0,f=0;f<this.cells.length;f++)u+=this.cells[f].length;var h=new Int32Array(a+u+this.keys.length+this.bboxes.length);h[0]=this.extent,h[1]=this.n,h[2]=this.padding;for(var v=a,_=0;_<l.length;_++){var S=l[_];h[ot+_]=v,h.set(S,v),v+=S.length}return h[ot+l.length]=v,h.set(this.keys,v),h[ot+l.length+1]=v+=this.keys.length,h.set(this.bboxes,v),v+=this.bboxes.length,h.buffer};var xt=V(pt);const vt={};function lt(l,a,u={}){Object.defineProperty(l,"_classRegistryKey",{value:a,writable:!1}),vt[a]={klass:l,omit:u.omit||[]}}lt(Object,"Object"),xt.serialize=function(l,a){const u=l.toArrayBuffer();return a&&a.add(u),{buffer:u}},xt.deserialize=function(l){return new xt(l.buffer)},Object.defineProperty(xt,"name",{value:"Grid"}),lt(xt,"Grid"),lt(Hn,"Color"),lt(Error,"Error"),lt(jo,"Formatted"),lt(Lv,"FormattedSection"),lt(Iv,"AJAXError"),lt(qs,"ResolvedImage"),lt(nt,"StylePropertyFunction"),lt(Ve,"StyleExpression",{omit:["_evaluator"]}),lt(He,"ZoomDependentExpression"),lt(Ye,"ZoomConstantExpression"),lt(Ss,"CompoundExpression",{omit:["_evaluate"]});for(const l in Jh)vt[Jh[l]._classRegistryKey]||lt(Jh[l],`Expression${l}`);function Kt(l){return l&&typeof ArrayBuffer<"u"&&(l instanceof ArrayBuffer||l.constructor&&l.constructor.name==="ArrayBuffer")}function zt(l){return self.ImageBitmap&&l instanceof ImageBitmap}function ht(l,a){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp)return l;if(Kt(l)||zt(l))return a&&a.add(l),l;if(ArrayBuffer.isView(l)){const u=l;return a&&a.add(u.buffer),u}if(l instanceof ImageData)return a&&a.add(l.data.buffer),l;if(Array.isArray(l)){const u=[];for(const f of l)u.push(ht(f,a));return u}if(l instanceof Map){const u={$name:"Map"};for(const[f,h]of l.entries())u[f]=ht(h);return u}if(l instanceof Set){const u={$name:"Set"};let f=0;for(const h of l.values())u[++f]=ht(h);return u}if(typeof l=="object"){const u=l.constructor,f=u._classRegistryKey;if(!f)throw new Error(`can't serialize object of unregistered class ${f}`);const h=u.serialize?u.serialize(l,a):{};if(!u.serialize){for(const v in l)l.hasOwnProperty(v)&&(vt[f].omit.indexOf(v)>=0||(h[v]=ht(l[v],a)));l instanceof Error&&(h.message=l.message)}if(h.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(h.$name=f),h}throw new Error("can't serialize object of type "+typeof l)}function Pt(l){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||Kt(l)||zt(l)||ArrayBuffer.isView(l)||l instanceof ImageData)return l;if(Array.isArray(l))return l.map(Pt);if(typeof l=="object"){const a=l.$name||"Object";if(a==="Map"){const h=new Map;for(const v of Object.keys(l))v!=="$name"&&h.set(v,Pt(l[v]));return h}if(a==="Set"){const h=new Set;for(const v of Object.keys(l))v!=="$name"&&h.add(Pt(l[v]));return h}const{klass:u}=vt[a];if(!u)throw new Error(`can't deserialize unregistered class ${a}`);if(u.deserialize)return u.deserialize(l);const f=Object.create(u.prototype);for(const h of Object.keys(l))h!=="$name"&&(f[h]=Pt(l[h]));return f}throw new Error("can't deserialize object of type "+typeof l)}const st={"Latin-1 Supplement":l=>l>=128&&l<=255,Arabic:l=>l>=1536&&l<=1791,"Arabic Supplement":l=>l>=1872&&l<=1919,"Arabic Extended-A":l=>l>=2208&&l<=2303,"Hangul Jamo":l=>l>=4352&&l<=4607,"Unified Canadian Aboriginal Syllabics":l=>l>=5120&&l<=5759,Khmer:l=>l>=6016&&l<=6143,"Unified Canadian Aboriginal Syllabics Extended":l=>l>=6320&&l<=6399,"General Punctuation":l=>l>=8192&&l<=8303,"Letterlike Symbols":l=>l>=8448&&l<=8527,"Number Forms":l=>l>=8528&&l<=8591,"Miscellaneous Technical":l=>l>=8960&&l<=9215,"Control Pictures":l=>l>=9216&&l<=9279,"Optical Character Recognition":l=>l>=9280&&l<=9311,"Enclosed Alphanumerics":l=>l>=9312&&l<=9471,"Geometric Shapes":l=>l>=9632&&l<=9727,"Miscellaneous Symbols":l=>l>=9728&&l<=9983,"Miscellaneous Symbols and Arrows":l=>l>=11008&&l<=11263,"CJK Radicals Supplement":l=>l>=11904&&l<=12031,"Kangxi Radicals":l=>l>=12032&&l<=12255,"Ideographic Description Characters":l=>l>=12272&&l<=12287,"CJK Symbols and Punctuation":l=>l>=12288&&l<=12351,Hiragana:l=>l>=12352&&l<=12447,Katakana:l=>l>=12448&&l<=12543,Bopomofo:l=>l>=12544&&l<=12591,"Hangul Compatibility Jamo":l=>l>=12592&&l<=12687,Kanbun:l=>l>=12688&&l<=12703,"Bopomofo Extended":l=>l>=12704&&l<=12735,"CJK Strokes":l=>l>=12736&&l<=12783,"Katakana Phonetic Extensions":l=>l>=12784&&l<=12799,"Enclosed CJK Letters and Months":l=>l>=12800&&l<=13055,"CJK Compatibility":l=>l>=13056&&l<=13311,"CJK Unified Ideographs Extension A":l=>l>=13312&&l<=19903,"Yijing Hexagram Symbols":l=>l>=19904&&l<=19967,"CJK Unified Ideographs":l=>l>=19968&&l<=40959,"Yi Syllables":l=>l>=40960&&l<=42127,"Yi Radicals":l=>l>=42128&&l<=42191,"Hangul Jamo Extended-A":l=>l>=43360&&l<=43391,"Hangul Syllables":l=>l>=44032&&l<=55215,"Hangul Jamo Extended-B":l=>l>=55216&&l<=55295,"Private Use Area":l=>l>=57344&&l<=63743,"CJK Compatibility Ideographs":l=>l>=63744&&l<=64255,"Arabic Presentation Forms-A":l=>l>=64336&&l<=65023,"Vertical Forms":l=>l>=65040&&l<=65055,"CJK Compatibility Forms":l=>l>=65072&&l<=65103,"Small Form Variants":l=>l>=65104&&l<=65135,"Arabic Presentation Forms-B":l=>l>=65136&&l<=65279,"Halfwidth and Fullwidth Forms":l=>l>=65280&&l<=65519,"CJK Unified Ideographs Extension B":l=>l>=131072&&l<=173791};function Nt(l){for(const a of l)if(lr(a.charCodeAt(0)))return!0;return!1}function jt(l){for(const a of l)if(!ar(a.charCodeAt(0)))return!1;return!0}function ar(l){return!(st.Arabic(l)||st["Arabic Supplement"](l)||st["Arabic Extended-A"](l)||st["Arabic Presentation Forms-A"](l)||st["Arabic Presentation Forms-B"](l))}function lr(l){return!(l!==746&&l!==747&&(l<4352||!(st["Bopomofo Extended"](l)||st.Bopomofo(l)||st["CJK Compatibility Forms"](l)&&!(l>=65097&&l<=65103)||st["CJK Compatibility Ideographs"](l)||st["CJK Compatibility"](l)||st["CJK Radicals Supplement"](l)||st["CJK Strokes"](l)||!(!st["CJK Symbols and Punctuation"](l)||l>=12296&&l<=12305||l>=12308&&l<=12319||l===12336)||st["CJK Unified Ideographs Extension A"](l)||st["CJK Unified Ideographs"](l)||st["Enclosed CJK Letters and Months"](l)||st["Hangul Compatibility Jamo"](l)||st["Hangul Jamo Extended-A"](l)||st["Hangul Jamo Extended-B"](l)||st["Hangul Jamo"](l)||st["Hangul Syllables"](l)||st.Hiragana(l)||st["Ideographic Description Characters"](l)||st.Kanbun(l)||st["Kangxi Radicals"](l)||st["Katakana Phonetic Extensions"](l)||st.Katakana(l)&&l!==12540||!(!st["Halfwidth and Fullwidth Forms"](l)||l===65288||l===65289||l===65293||l>=65306&&l<=65310||l===65339||l===65341||l===65343||l>=65371&&l<=65503||l===65507||l>=65512&&l<=65519)||!(!st["Small Form Variants"](l)||l>=65112&&l<=65118||l>=65123&&l<=65126)||st["Unified Canadian Aboriginal Syllabics"](l)||st["Unified Canadian Aboriginal Syllabics Extended"](l)||st["Vertical Forms"](l)||st["Yijing Hexagram Symbols"](l)||st["Yi Syllables"](l)||st["Yi Radicals"](l))))}function vr(l){return!(lr(l)||function(a){return!!(st["Latin-1 Supplement"](a)&&(a===167||a===169||a===174||a===177||a===188||a===189||a===190||a===215||a===247)||st["General Punctuation"](a)&&(a===8214||a===8224||a===8225||a===8240||a===8241||a===8251||a===8252||a===8258||a===8263||a===8264||a===8265||a===8273)||st["Letterlike Symbols"](a)||st["Number Forms"](a)||st["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||a===9003||a>=9085&&a<=9114||a>=9150&&a<=9165||a===9167||a>=9169&&a<=9179||a>=9186&&a<=9215)||st["Control Pictures"](a)&&a!==9251||st["Optical Character Recognition"](a)||st["Enclosed Alphanumerics"](a)||st["Geometric Shapes"](a)||st["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||st["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||st["CJK Symbols and Punctuation"](a)||st.Katakana(a)||st["Private Use Area"](a)||st["CJK Compatibility Forms"](a)||st["Small Form Variants"](a)||st["Halfwidth and Fullwidth Forms"](a)||a===8734||a===8756||a===8757||a>=9984&&a<=10087||a>=10102&&a<=10131||a===65532||a===65533)}(l))}function cr(l){return l>=1424&&l<=2303||st["Arabic Presentation Forms-A"](l)||st["Arabic Presentation Forms-B"](l)}function Or(l,a){return!(!a&&cr(l)||l>=2304&&l<=3583||l>=3840&&l<=4255||st.Khmer(l))}function en(l){for(const a of l)if(cr(a.charCodeAt(0)))return!0;return!1}const Br="deferred",nn="loading",En="loaded";let xi=null,ni="unavailable",In=null;const ei=function(l){l&&typeof l=="string"&&l.indexOf("NetworkError")>-1&&(ni="error"),xi&&xi(l)};function dn(){hn.fire(new Du("pluginStateChange",{pluginStatus:ni,pluginURL:In}))}const hn=new $f,tn=function(){return ni},Vn=function(){if(ni!==Br||!In)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ni=nn,dn(),In&&kf({url:In},l=>{l?ei(l):(ni=En,dn())})},yn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>ni===En||yn.applyArabicShaping!=null,isLoading:()=>ni===nn,setState(l){ni=l.pluginStatus,In=l.pluginURL},isParsed:()=>yn.applyArabicShaping!=null&&yn.processBidirectionalText!=null&&yn.processStyledBidirectionalText!=null,getPluginURL:()=>In};class Wr{constructor(a,u){this.zoom=a,u?(this.now=u.now,this.fadeDuration=u.fadeDuration,this.transition=u.transition,this.pitch=u.pitch,this.brightness=u.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0)}isSupportedScript(a){return function(u,f){for(const h of u)if(!Or(h.charCodeAt(0),f))return!1;return!0}(a,yn.isLoaded())}}class ua{constructor(a,u,f,h){this.property=a,this.value=u,this.expression=function(v,_,S,P){if(Q(v))return new nt(v,_);if(Ue(v)||Array.isArray(v)&&v.length>0){const I=Ge(v,_,S,P);if(I.result==="error")throw new Error(I.value.map(L=>`${L.key}: ${L.message}`).join(", "));return I.value}{let I=v;return typeof v=="string"&&_.type==="color"&&(I=Hn.parse(v)),{kind:"constant",configDependencies:new Set,evaluate:()=>I}}}(u===void 0?a.specification.default:u,a.specification,f,h)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(a,u,f){return this.property.possiblyEvaluate(this,a,u,f)}}class ca{constructor(a,u,f){this.property=a,this.value=new ua(a,void 0,u,f)}transitioned(a,u){return new Po(this.property,this.value,u,bo({},a.transition,this.transition),a.now)}untransitioned(){return new Po(this.property,this.value,null,{},0)}}class To{constructor(a,u,f){this._properties=a,this._values=Object.create(a.defaultTransitionablePropertyValues),this._scope=u,this._options=f,this.configDependencies=new Set}getValue(a){return ss(this._values[a].value.value)}setValue(a,u){this._values.hasOwnProperty(a)||(this._values[a]=new ca(this._values[a].property,this._scope,this._options)),this._values[a].value=new ua(this._values[a].property,u===null?void 0:ss(u),this._scope,this._options),this._values[a].value.expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[a].value.expression.configDependencies]))}setTransitionOrValue(a,u){u&&(this._options=u);const f=this._properties.properties;if(a)for(const h in a){const v=a[h];if(f0(h,"-transition")){const _=h.slice(0,-11);f[_]&&this.setTransition(_,v)}else f.hasOwnProperty(h)&&this.setValue(h,v)}}getTransition(a){return ss(this._values[a].transition)}setTransition(a,u){this._values.hasOwnProperty(a)||(this._values[a]=new ca(this._values[a].property)),this._values[a].transition=ss(u)||void 0}serialize(){const a={};for(const u of Object.keys(this._values)){const f=this.getValue(u);f!==void 0&&(a[u]=f);const h=this.getTransition(u);h!==void 0&&(a[`${u}-transition`]=h)}return a}transitioned(a,u){const f=new co(this._properties);for(const h of Object.keys(this._values))f._values[h]=this._values[h].transitioned(a,u._values[h]);return f}untransitioned(){const a=new co(this._properties);for(const u of Object.keys(this._values))a._values[u]=this._values[u].untransitioned();return a}}class Po{constructor(a,u,f,h,v){const _=h.delay||0,S=h.duration||0;v=v||0,this.property=a,this.value=u,this.begin=v+_,this.end=this.begin+S,a.specification.transition&&(h.delay||h.duration)&&(this.prior=f)}possiblyEvaluate(a,u,f){const h=a.now||0,v=this.value.possiblyEvaluate(a,u,f),_=this.prior;if(_){if(h>this.end)return this.prior=null,v;if(this.value.isDataDriven())return this.prior=null,v;if(h<this.begin)return _.possiblyEvaluate(a,u,f);{const S=(h-this.begin)/(this.end-this.begin);return this.property.interpolate(_.possiblyEvaluate(a,u,f),v,vv(S))}}return v}}class co{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitioningPropertyValues)}possiblyEvaluate(a,u,f){const h=new fo(this._properties);for(const v of Object.keys(this._values))h._values[v]=this._values[v].possiblyEvaluate(a,u,f);return h}hasTransition(){for(const a of Object.keys(this._values))if(this._values[a].prior)return!0;return!1}}class Co{constructor(a,u,f){this._properties=a,this._values=Object.create(a.defaultPropertyValues),this._scope=u,this._options=f,this.configDependencies=new Set}getValue(a){return ss(this._values[a].value)}setValue(a,u){this._values[a]=new ua(this._values[a].property,u===null?void 0:ss(u),this._scope,this._options),this._values[a].expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[a].expression.configDependencies]))}serialize(){const a={};for(const u of Object.keys(this._values)){const f=this.getValue(u);f!==void 0&&(a[u]=f)}return a}possiblyEvaluate(a,u,f){const h=new fo(this._properties);for(const v of Object.keys(this._values))h._values[v]=this._values[v].possiblyEvaluate(a,u,f);return h}}class to{constructor(a,u,f){this.property=a,this.value=u,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(a){return this.value.kind==="constant"?this.value.value:a}evaluate(a,u,f,h){return this.property.evaluate(this.value,this.parameters,a,u,f,h)}}class fo{constructor(a){this._properties=a,this._values=Object.create(a.defaultPossiblyEvaluatedValues)}get(a){return this._values[a]}}class Yt{constructor(a){this.specification=a}possiblyEvaluate(a,u){return a.expression.evaluate(u)}interpolate(a,u,f){const h=C0[this.specification.type];return h?h(a,u,f):a}}class br{constructor(a,u){this.specification=a,this.overrides=u}possiblyEvaluate(a,u,f,h){return new to(this,a.expression.kind==="constant"||a.expression.kind==="camera"?{kind:"constant",value:a.expression.evaluate(u,null,{},f,h)}:a.expression,u)}interpolate(a,u,f){if(a.value.kind!=="constant"||u.value.kind!=="constant")return a;if(a.value.value===void 0||u.value.value===void 0)return new to(this,{kind:"constant",value:void 0},a.parameters);const h=C0[this.specification.type];return h?new to(this,{kind:"constant",value:h(a.value.value,u.value.value,f)},a.parameters):a}evaluate(a,u,f,h,v,_){return a.kind==="constant"?a.value:a.evaluate(u,f,h,v,_)}}class Vo{constructor(a){this.specification=a}possiblyEvaluate(a,u,f,h){return!!a.expression.evaluate(u,null,{},f,h)}interpolate(){return!1}}class ci{constructor(a){this.properties=a,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const u=new Wr(0,{});for(const f in a){const h=a[f];h.specification.overridable&&this.overridableProperties.push(f);const v=this.defaultPropertyValues[f]=new ua(h,void 0),_=this.defaultTransitionablePropertyValues[f]=new ca(h);this.defaultTransitioningPropertyValues[f]=_.untransitioned(),this.defaultPossiblyEvaluatedValues[f]=v.possiblyEvaluate(u)}}}lt(br,"DataDrivenProperty"),lt(Yt,"DataConstantProperty"),lt(Vo,"ColorRampProperty");var _t=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"fragment":{"type":"boolean"},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360},"pitch":{"type":"number","default":0},"light":{"type":"light"},"lights":{"required":false,"type":"array","value":"light-3d"},"terrain":{"type":"terrain","optional":true},"fog":{"type":"fog"},"camera":{"type":"camera"},"color-theme":{"type":"colorTheme"},"imports":{"type":"array","value":"import"},"schema":{"type":"schema"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string","default":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"},"models":{"type":"models"}},"model":{"type":"string","required":true},"import":{"id":{"type":"string","required":true},"url":{"type":"string","required":true},"config":{"type":"config"},"data":{"type":"$root"}},"config":{"*":{"type":"*"}},"schema":{"*":{"type":"option"}},"option":{"default":{"type":"*","property-type":"data-constant","expression":{},"required":true},"type":{"type":"enum","values":{"string":1,"number":1,"boolean":1,"color":1}},"array":{"type":"boolean"},"minValue":{"type":"number"},"maxValue":{"type":"number"},"stepValue":{"type":"number"},"values":{"type":"array","value":"*"},"metadata":{"type":"*"}},"models":{"*":{"type":"model"}},"light-3d":{"id":{"type":"string","required":true},"properties":{"type":"properties"},"type":{"type":"enum","values":{"ambient":{},"directional":{},"flat":{}}}},"properties":["properties_light_directional","properties_light_ambient","properties_light_flat"],"properties_light_directional":{"direction":{"type":"array","default":[210,30],"minimum":[0,0],"maximum":[360,90],"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"cast-shadows":{"type":"boolean","default":false,"expression":{},"property-type":"data-constant"},"shadow-intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_ambient":{"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_flat":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_raster_array","source_geojson","source_video","source_image","source_model"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":1,"mapbox":1},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_array":{"experimental":true,"type":{"required":true,"type":"enum","values":{"raster-array":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"rasterLayers":{"type":"*"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":1}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"},"dynamic":{"type":"boolean","default":false}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":1}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":1}},"url":{"required":false,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_model":{"type":{"required":true,"type":"enum","values":{"model":1,"batched-model":1}},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"tiles":{"type":"array","value":"string"}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"raster-particle":{"experimental":true},"hillshade":{},"model":{"experimental":true},"background":{},"sky":{},"slot":{},"clip":{"experimental":true}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"slot":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_clip","layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_raster-particle","layout_hillshade","layout_background","layout_sky","layout_model"],"layout_background":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_model":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"model-id":{"type":"string","default":"","property-type":"data-driven","expression":{"parameters":["zoom","feature"]}}},"layout_clip":{"clip-layer-types":{"type":"array","value":"enum","values":{"model":1,"symbol":1},"default":[],"expression":{},"property-type":"data-constant","experimental":true},"clip-layer-scope":{"type":"array","value":"string","default":[],"expression":{},"property-type":"data-constant","experimental":true}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","experimental":true,"private":true,"default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":1,"round":1,"square":1},"default":"butt","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":1,"round":1,"miter":1,"none":1},"default":"miter","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-z-offset":{"type":"number","experimental":true,"expression":{"parameters":["zoom","feature","line-progress"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":1,"line":1,"line-center":1},"default":"point","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":1,"viewport-y":1,"source":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-z-elevate":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":1,"width":1,"height":1,"both":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":1,"left":1,"center":1,"right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","default":0,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":1,"vertical":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":1,"uppercase":1,"lowercase":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster-particle":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":1,"!=":1,">":1,">=":1,"<":1,"<=":1,"in":1,"!in":1,"all":1,"any":1,"none":1,"has":1,"!has":1}},"geometry_type":{"type":"enum","values":{"Point":1,"LineString":1,"Polygon":1}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":1,"exponential":1,"interval":1,"categorical":1},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":1,"lab":1,"hcl":1},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vertical-range":{"type":"array","default":[0,0],"minimum":0,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}}},"camera":{"camera-projection":{"type":"enum","values":{"perspective":1,"orthographic":1},"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"default":"perspective","property-type":"data-constant"}},"colorTheme":{"data":{"type":"string","property-type":"data-constant","expression":{}}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":1,"equalEarth":1,"equirectangular":1,"lambertConformalConic":1,"mercator":1,"naturalEarth":1,"winkelTripel":1,"globe":1},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_raster-particle","paint_hillshade","paint_background","paint_sky","paint_model"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-wall-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-flood-light-color":{"property-type":"data-constant","type":"color","experimental":true,"default":"#ffffff","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-intensity":{"property-type":"data-constant","type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-wall-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-vertical-scale":{"property-type":"data-constant","type":"number","experimental":true,"default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-rounded-roof":{"property-type":"data-constant","type":"boolean","default":true,"experimental":true,"expression":{"parameters":["zoom"]}},"fill-extrusion-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"fill-extrusion-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"fill-extrusion-line-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-line-alignment":{"type":"enum","values":{"inside":1,"outside":1,"center":1},"default":"center","property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"property-type":"constant"},"line-trim-fade-range":{"type":"array","value":"number","experimental":true,"length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-trim-color":{"type":"color","experimental":true,"default":"transparent","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-border-width":{"type":"number","private":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-border-color":{"type":"color","private":true,"default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-occlusion-opacity":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"property-type":"data-constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-driven"},"text-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-image-cross-fade":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"transition":true},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-color-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-value"]},"property-type":"color-ramp"},"raster-color-mix":{"type":"array","default":[0.2126,0.7152,0.0722,0],"length":4,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-color-range":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":1,"nearest":1},"default":"linear","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"raster-array-band":{"type":"string","required":false,"experimental":true,"property-type":"data-constant"},"raster-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster-particle":{"raster-particle-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-particle-count":{"type":"number","default":512,"minimum":1,"property-type":"data-constant"},"raster-particle-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-particle-speed"]},"property-type":"color-ramp"},"raster-particle-max-speed":{"type":"number","default":1,"minimum":1,"property-type":"data-constant"},"raster-particle-speed-factor":{"type":"number","default":0.2,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-fade-opacity-factor":{"type":"number","default":0.98,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-reset-rate-factor":{"type":"number","default":0.8,"minimum":0,"maximum":1,"property-type":"data-constant"},"raster-particle-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":1,"atmosphere":1},"default":"atmosphere","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","default":10,"minimum":0,"maximum":100,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","value":"number","default":[0,0],"length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","default":90,"minimum":0,"maximum":180,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_model":{"model-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"model-rotation":{"type":"array","value":"number","length":3,"default":[0,0,0],"period":360,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-scale":{"type":"array","value":"number","length":3,"default":[1,1,1],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-translation":{"type":"array","value":"number","length":3,"default":[0,0,0],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-color":{"type":"color","default":"#ffffff","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light","zoom"]},"transition":true},"model-color-mix-intensity":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-type":{"type":"enum","values":{"common-3d":1,"location-indicator":1},"default":"common-3d","property-type":"data-constant"},"model-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-receive-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-ambient-occlusion-intensity":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant","transition":true},"model-emissive-strength":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":5,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-roughness":{"type":"number","default":1,"minimum":0,"maximum":1,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state"]},"transition":true},"model-height-based-emissive-strength-multiplier":{"type":"array","default":[1,1,1,1,0],"length":5,"value":"number","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"model-front-cutoff":{"type":"array","private":true,"value":"number","property-type":"data-constant","expression":{"interpolated":true,"parameters":["zoom"]},"length":3,"default":[0,0,1],"minimum":[0,0,0],"maximum":[1,1,1]}},"transition":{"duration":{"type":"number","default":300,"minimum":0},"delay":{"type":"number","default":0,"minimum":0}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Mc(l){return l instanceof Number||l instanceof String||l instanceof Boolean?l.valueOf():l}function Jl(l){if(Array.isArray(l))return l.map(Jl);if(l instanceof Object&&!(l instanceof Number||l instanceof String||l instanceof Boolean)){const a={};for(const u in l)a[u]=Jl(l[u]);return a}return Mc(l)}function kc(l){if(l===!0||l===!1)return!0;if(!Array.isArray(l)||l.length===0)return!1;switch(l[0]){case"has":return l.length>=2&&l[1]!=="$id"&&l[1]!=="$type";case"in":return l.length>=3&&(typeof l[1]!="string"||Array.isArray(l[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return l.length!==3||Array.isArray(l[1])||Array.isArray(l[2]);case"any":case"all":for(const a of l.slice(1))if(!kc(a)&&typeof a!="boolean")return!1;return!0;default:return!0}}function Oc(l,a="fill"){if(l==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};kc(l)||(l=Qh(l));const u=l;let f=!0;try{f=function(I){if(!$d(I))return I;let L=Jl(I);return t_(L),L=e_(L),L}(u)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(u,null,2)}
        `)}const h=_t[`filter_${a}`],v=Fe(f,h);let _=null;if(v.result==="error")throw new Error(v.value.map(I=>`${I.key}: ${I.message}`).join(", "));_=(I,L,F)=>v.value.evaluate(I,L,{},F);let S=null,P=null;if(f!==u){const I=Fe(u,h);if(I.result==="error")throw new Error(I.value.map(L=>`${L.key}: ${L.message}`).join(", "));S=(L,F,W,X,ee)=>I.value.evaluate(L,F,{},W,void 0,void 0,X,ee),P=!F0(I.value.expression)}return{filter:_,dynamicFilter:S||void 0,needGeometry:r_(f),needFeature:!!P}}function e_(l){if(!Array.isArray(l))return l;const a=function(u){if(vw.has(u[0])){for(let f=1;f<u.length;f++)if($d(u[f]))return!0}return u}(l);return a===!0?a:a.map(u=>e_(u))}function t_(l){let a=!1;const u=[];if(l[0]==="case"){for(let f=1;f<l.length-1;f+=2)a=a||$d(l[f]),u.push(l[f+1]);u.push(l[l.length-1])}else if(l[0]==="match"){a=a||$d(l[1]);for(let f=2;f<l.length-1;f+=2)u.push(l[f+1]);u.push(l[l.length-1])}else if(l[0]==="step"){a=a||$d(l[1]);for(let f=1;f<l.length-1;f+=2)u.push(l[f+1])}a&&(l.length=0,l.push("any",...u));for(let f=1;f<l.length;f++)t_(l[f])}function $d(l){if(!Array.isArray(l))return!1;if((a=l[0])==="pitch"||a==="distance-from-center")return!0;var a;for(let u=1;u<l.length;u++)if($d(l[u]))return!0;return!1}const vw=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Vf(l,a){return l<a?-1:l>a?1:0}function r_(l){if(!Array.isArray(l))return!1;if(l[0]==="within"||l[0]==="distance")return!0;for(let a=1;a<l.length;a++)if(r_(l[a]))return!0;return!1}function Qh(l){if(!l)return!0;const a=l[0];return l.length<=1?a!=="any":a==="=="?MO(l[1],l[2],"=="):a==="!="?i7(MO(l[1],l[2],"==")):a==="<"||a===">"||a==="<="||a===">="?MO(l[1],l[2],a):a==="any"?(u=l.slice(1),["any"].concat(u.map(Qh))):a==="all"?["all"].concat(l.slice(1).map(Qh)):a==="none"?["all"].concat(l.slice(1).map(Qh).map(i7)):a==="in"?Bq(l[1],l.slice(2)):a==="!in"?i7(Bq(l[1],l.slice(2))):a==="has"?zq(l[1]):a!=="!has"||i7(zq(l[1]));var u}function MO(l,a,u){switch(l){case"$type":return[`filter-type-${u}`,a];case"$id":return[`filter-id-${u}`,a];default:return[`filter-${u}`,l,a]}}function Bq(l,a){if(a.length===0)return!1;switch(l){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some(u=>typeof u!=typeof a[0])?["filter-in-large",l,["literal",a.sort(Vf)]]:["filter-in-small",l,["literal",a]]}}function zq(l){switch(l){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",l]}}function i7(l){return["!",l]}const a7="";function Nq(l,a){return a?`${l}${a7}${a}`:l}const Fq="-transition",V9e=new Set(["fill","line","background","hillshade","raster"]);class tl extends $f{constructor(a,u,f,h,v){if(super(),this.id=a.id,this.fqid=Nq(this.id,f),this.type=a.type,this.scope=f,this.lut=h,this.options=v,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.configDependencies=new Set,a.type!=="custom"&&(this.metadata=a.metadata,this.minzoom=a.minzoom,this.maxzoom=a.maxzoom,a.type!=="background"&&a.type!=="sky"&&a.type!=="slot"&&(this.source=a.source,this.sourceLayer=a["source-layer"],this.filter=a.filter),a.slot&&(this.slot=a.slot),u.layout&&(this._unevaluatedLayout=new Co(u.layout,this.scope,v),this.configDependencies=new Set([...this.configDependencies,...this._unevaluatedLayout.configDependencies])),u.paint)){this._transitionablePaint=new To(u.paint,this.scope,v);for(const _ in a.paint)this.setPaintProperty(_,a.paint[_]);for(const _ in a.layout)this.setLayoutProperty(_,a.layout[_]);this.configDependencies=new Set([...this.configDependencies,...this._transitionablePaint.configDependencies]),this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new fo(u.paint)}}onAdd(a){}onRemove(a){}isDraped(a){return V9e.has(this.type)}getLayoutProperty(a){return a==="visibility"?this.visibility:this._unevaluatedLayout.getValue(a)}setLayoutProperty(a,u){if(this.type==="custom"&&a==="visibility")return void(this.visibility=u);const f=this._unevaluatedLayout;f._properties.properties[a]&&(f.setValue(a,u),this.configDependencies=new Set([...this.configDependencies,...f.configDependencies]),a==="visibility"&&this.possiblyEvaluateVisibility())}possiblyEvaluateVisibility(){this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0})}getPaintProperty(a){return f0(a,Fq)?this._transitionablePaint.getTransition(a.slice(0,-11)):this._transitionablePaint.getValue(a)}setPaintProperty(a,u){const f=this._transitionablePaint,h=f._properties.properties;if(f0(a,Fq)){const F=a.slice(0,-11);return h[F]&&f.setTransition(F,u||void 0),!1}if(!h[a])return!1;const v=f._values[a],_=v.value.isDataDriven(),S=v.value;f.setValue(a,u),this.configDependencies=new Set([...this.configDependencies,...f.configDependencies]),this._handleSpecialPaintPropertyUpdate(a);const P=f._values[a].value,I=P.isDataDriven(),L=f0(a,"pattern")||a==="line-dasharray";return I||_||L||this._handleOverridablePaintPropertyUpdate(a,S,P)}_handleSpecialPaintPropertyUpdate(a){}getProgramIds(){return null}getDefaultProgramParams(a,u,f){return null}_handleOverridablePaintPropertyUpdate(a,u,f){return!1}isHidden(a){return!!(this.minzoom&&a<this.minzoom)||!!(this.maxzoom&&a>=this.maxzoom)||this.visibility==="none"}updateTransitions(a){this._transitioningPaint=this._transitionablePaint.transitioned(a,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(a,u){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(a,void 0,u)),this.paint=this._transitioningPaint.possiblyEvaluate(a,void 0,u)}serialize(){return xo({id:this.id,type:this.type,slot:this.slot,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},(a,u)=>!(a===void 0||u==="layout"&&!Object.keys(a).length||u==="paint"&&!Object.keys(a).length))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}hasShadowPass(){return!1}canCastShadows(){return!1}hasLightBeamPass(){return!1}cutoffRange(){return 0}tileCoverLift(){return 0}resize(){}isStateDependent(){for(const a in this.paint._values){const u=this.paint.get(a);if(u instanceof to&&O(u.property.specification)&&(u.value.kind==="source"||u.value.kind==="composite")&&u.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Oc(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}getLayerRenderingStats(){return this._stats}resetLayerRenderingStats(a){this._stats&&(a.renderPass==="shadow"?this._stats.numRenderedVerticesInShadowPass=0:this._stats.numRenderedVerticesInTransparentPass=0)}queryRadius(a){}queryIntersectsFeature(a,u,f,h,v,_,S,P,I){}queryIntersectsMatchingFeature(a,u,f,h){}}const U9e={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class _w{constructor(a,u){this._structArray=a,this._pos1=u*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Ni{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(a,u){return a._trim(),u&&(a.isTransferred=!0,u.add(a.arrayBuffer)),{length:a.length,arrayBuffer:a.arrayBuffer}}static deserialize(a){const u=Object.create(this.prototype);return u.arrayBuffer=a.arrayBuffer,u.length=a.length,u.capacity=a.arrayBuffer.byteLength/u.bytesPerElement,u._refreshViews(),u}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(a){this.reserve(a),this.length=a}reserve(a){if(a>this.capacity){this.capacity=Math.max(a,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const u=this.uint8;this._refreshViews(),u&&this.uint8.set(u)}}_refreshViews(){throw new Error("StructArray#_refreshViews() must be implemented by each concrete StructArray layout")}emplace(...a){throw new Error("StructArray#emplace() must be implemented by each concrete StructArray layout")}emplaceBack(...a){throw new Error("StructArray#emplaceBack() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Xn(l,a=1){let u=0,f=0;return{members:l.map(h=>{const v=U9e[h.type].BYTES_PER_ELEMENT,_=u=jq(u,Math.max(a,v)),S=h.components||1;return f=Math.max(f,v),u+=v*S,{name:h.name,type:h.type,components:S,offset:_}}),size:jq(u,Math.max(f,a)),alignment:a}}function jq(l,a){return Math.ceil(l/a)*a}class Dc extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,u){const f=this.length;return this.resize(f+1),this.emplace(f,a,u)}emplace(a,u,f){const h=2*a;return this.int16[h+0]=u,this.int16[h+1]=f,a}}Dc.prototype.bytesPerElement=4,lt(Dc,"StructArrayLayout2i4");class o7 extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,u,f){const h=this.length;return this.resize(h+1),this.emplace(h,a,u,f)}emplace(a,u,f,h){const v=3*a;return this.int16[v+0]=u,this.int16[v+1]=f,this.int16[v+2]=h,a}}o7.prototype.bytesPerElement=6,lt(o7,"StructArrayLayout3i6");class Uf extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,u,f,h){const v=this.length;return this.resize(v+1),this.emplace(v,a,u,f,h)}emplace(a,u,f,h,v){const _=4*a;return this.int16[_+0]=u,this.int16[_+1]=f,this.int16[_+2]=h,this.int16[_+3]=v,a}}Uf.prototype.bytesPerElement=8,lt(Uf,"StructArrayLayout4i8");class kO extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v){const _=this.length;return this.resize(_+1),this.emplace(_,a,u,f,h,v)}emplace(a,u,f,h,v,_){const S=5*a;return this.int16[S+0]=u,this.int16[S+1]=f,this.int16[S+2]=h,this.int16[S+3]=v,this.int16[S+4]=_,a}}kO.prototype.bytesPerElement=10,lt(kO,"StructArrayLayout5i10");class OO extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v,_,S){const P=this.length;return this.resize(P+1),this.emplace(P,a,u,f,h,v,_,S)}emplace(a,u,f,h,v,_,S,P){const I=6*a,L=12*a,F=3*a;return this.int16[I+0]=u,this.int16[I+1]=f,this.uint8[L+4]=h,this.uint8[L+5]=v,this.uint8[L+6]=_,this.uint8[L+7]=S,this.float32[F+2]=P,a}}OO.prototype.bytesPerElement=12,lt(OO,"StructArrayLayout2i4ub1f12");class em extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,f,h){const v=this.length;return this.resize(v+1),this.emplace(v,a,u,f,h)}emplace(a,u,f,h,v){const _=4*a;return this.float32[_+0]=u,this.float32[_+1]=f,this.float32[_+2]=h,this.float32[_+3]=v,a}}em.prototype.bytesPerElement=16,lt(em,"StructArrayLayout4f16");class tm extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,f){const h=this.length;return this.resize(h+1),this.emplace(h,a,u,f)}emplace(a,u,f,h){const v=3*a;return this.float32[v+0]=u,this.float32[v+1]=f,this.float32[v+2]=h,a}}tm.prototype.bytesPerElement=12,lt(tm,"StructArrayLayout3f12");class rm extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v){const _=this.length;return this.resize(_+1),this.emplace(_,a,u,f,h,v)}emplace(a,u,f,h,v,_){const S=6*a,P=3*a;return this.uint16[S+0]=u,this.uint16[S+1]=f,this.uint16[S+2]=h,this.uint16[S+3]=v,this.float32[P+2]=_,a}}rm.prototype.bytesPerElement=12,lt(rm,"StructArrayLayout4ui1f12");class s7 extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,u,f,h){const v=this.length;return this.resize(v+1),this.emplace(v,a,u,f,h)}emplace(a,u,f,h,v){const _=4*a;return this.uint16[_+0]=u,this.uint16[_+1]=f,this.uint16[_+2]=h,this.uint16[_+3]=v,a}}s7.prototype.bytesPerElement=8,lt(s7,"StructArrayLayout4ui8");class l7 extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v,_){const S=this.length;return this.resize(S+1),this.emplace(S,a,u,f,h,v,_)}emplace(a,u,f,h,v,_,S){const P=6*a;return this.int16[P+0]=u,this.int16[P+1]=f,this.int16[P+2]=h,this.int16[P+3]=v,this.int16[P+4]=_,this.int16[P+5]=S,a}}l7.prototype.bytesPerElement=12,lt(l7,"StructArrayLayout6i12");class DO extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v,_,S,P,I,L,F,W){const X=this.length;return this.resize(X+1),this.emplace(X,a,u,f,h,v,_,S,P,I,L,F,W)}emplace(a,u,f,h,v,_,S,P,I,L,F,W,X){const ee=12*a;return this.int16[ee+0]=u,this.int16[ee+1]=f,this.int16[ee+2]=h,this.int16[ee+3]=v,this.uint16[ee+4]=_,this.uint16[ee+5]=S,this.uint16[ee+6]=P,this.uint16[ee+7]=I,this.int16[ee+8]=L,this.int16[ee+9]=F,this.int16[ee+10]=W,this.int16[ee+11]=X,a}}DO.prototype.bytesPerElement=24,lt(DO,"StructArrayLayout4i4ui4i24");class RO extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v,_){const S=this.length;return this.resize(S+1),this.emplace(S,a,u,f,h,v,_)}emplace(a,u,f,h,v,_,S){const P=10*a,I=5*a;return this.int16[P+0]=u,this.int16[P+1]=f,this.int16[P+2]=h,this.float32[I+2]=v,this.float32[I+3]=_,this.float32[I+4]=S,a}}RO.prototype.bytesPerElement=20,lt(RO,"StructArrayLayout3i3f20");class $O extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a){const u=this.length;return this.resize(u+1),this.emplace(u,a)}emplace(a,u){return this.uint32[1*a+0]=u,a}}$O.prototype.bytesPerElement=4,lt($O,"StructArrayLayout1ul4");class nm extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,u){const f=this.length;return this.resize(f+1),this.emplace(f,a,u)}emplace(a,u,f){const h=2*a;return this.uint16[h+0]=u,this.uint16[h+1]=f,a}}nm.prototype.bytesPerElement=4,lt(nm,"StructArrayLayout2ui4");class LO extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v,_,S,P,I,L,F,W,X){const ee=this.length;return this.resize(ee+1),this.emplace(ee,a,u,f,h,v,_,S,P,I,L,F,W,X)}emplace(a,u,f,h,v,_,S,P,I,L,F,W,X,ee){const ae=20*a,oe=10*a;return this.int16[ae+0]=u,this.int16[ae+1]=f,this.int16[ae+2]=h,this.int16[ae+3]=v,this.int16[ae+4]=_,this.float32[oe+3]=S,this.float32[oe+4]=P,this.float32[oe+5]=I,this.float32[oe+6]=L,this.int16[ae+14]=F,this.uint32[oe+8]=W,this.uint16[ae+18]=X,this.uint16[ae+19]=ee,a}}LO.prototype.bytesPerElement=40,lt(LO,"StructArrayLayout5i4f1i1ul2ui40");class u7 extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v,_,S){const P=this.length;return this.resize(P+1),this.emplace(P,a,u,f,h,v,_,S)}emplace(a,u,f,h,v,_,S,P){const I=8*a;return this.int16[I+0]=u,this.int16[I+1]=f,this.int16[I+2]=h,this.int16[I+4]=v,this.int16[I+5]=_,this.int16[I+6]=S,this.int16[I+7]=P,a}}u7.prototype.bytesPerElement=16,lt(u7,"StructArrayLayout3i2i2i16");class BO extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v){const _=this.length;return this.resize(_+1),this.emplace(_,a,u,f,h,v)}emplace(a,u,f,h,v,_){const S=4*a,P=8*a;return this.float32[S+0]=u,this.float32[S+1]=f,this.float32[S+2]=h,this.int16[P+6]=v,this.int16[P+7]=_,a}}BO.prototype.bytesPerElement=16,lt(BO,"StructArrayLayout2f1f2i16");class zO extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,f,h){const v=this.length;return this.resize(v+1),this.emplace(v,a,u,f,h)}emplace(a,u,f,h,v){const _=12*a,S=3*a;return this.uint8[_+0]=u,this.uint8[_+1]=f,this.float32[S+1]=h,this.float32[S+2]=v,a}}zO.prototype.bytesPerElement=12,lt(zO,"StructArrayLayout2ub2f12");class ro extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,u,f){const h=this.length;return this.resize(h+1),this.emplace(h,a,u,f)}emplace(a,u,f,h){const v=3*a;return this.uint16[v+0]=u,this.uint16[v+1]=f,this.uint16[v+2]=h,a}}ro.prototype.bytesPerElement=6,lt(ro,"StructArrayLayout3ui6");class NO extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v,_,S,P,I,L,F,W,X,ee,ae,oe,_e,Re,De,ze,qe){const Ze=this.length;return this.resize(Ze+1),this.emplace(Ze,a,u,f,h,v,_,S,P,I,L,F,W,X,ee,ae,oe,_e,Re,De,ze,qe)}emplace(a,u,f,h,v,_,S,P,I,L,F,W,X,ee,ae,oe,_e,Re,De,ze,qe,Ze){const rt=30*a,ut=15*a,mt=60*a;return this.int16[rt+0]=u,this.int16[rt+1]=f,this.int16[rt+2]=h,this.float32[ut+2]=v,this.float32[ut+3]=_,this.uint16[rt+8]=S,this.uint16[rt+9]=P,this.uint32[ut+5]=I,this.uint32[ut+6]=L,this.uint32[ut+7]=F,this.uint16[rt+16]=W,this.uint16[rt+17]=X,this.uint16[rt+18]=ee,this.float32[ut+10]=ae,this.float32[ut+11]=oe,this.uint8[mt+48]=_e,this.uint8[mt+49]=Re,this.uint8[mt+50]=De,this.uint32[ut+13]=ze,this.int16[rt+28]=qe,this.uint8[mt+58]=Ze,a}}NO.prototype.bytesPerElement=60,lt(NO,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class FO extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v,_,S,P,I,L,F,W,X,ee,ae,oe,_e,Re,De,ze,qe,Ze,rt,ut,mt,St,yt,Ot,Ht,Dt,Jt,Mt){const Ft=this.length;return this.resize(Ft+1),this.emplace(Ft,a,u,f,h,v,_,S,P,I,L,F,W,X,ee,ae,oe,_e,Re,De,ze,qe,Ze,rt,ut,mt,St,yt,Ot,Ht,Dt,Jt,Mt)}emplace(a,u,f,h,v,_,S,P,I,L,F,W,X,ee,ae,oe,_e,Re,De,ze,qe,Ze,rt,ut,mt,St,yt,Ot,Ht,Dt,Jt,Mt,Ft){const er=20*a,$t=40*a,ir=80*a;return this.float32[er+0]=u,this.float32[er+1]=f,this.int16[$t+4]=h,this.int16[$t+5]=v,this.int16[$t+6]=_,this.int16[$t+7]=S,this.int16[$t+8]=P,this.int16[$t+9]=I,this.int16[$t+10]=L,this.int16[$t+11]=F,this.int16[$t+12]=W,this.uint16[$t+13]=X,this.uint16[$t+14]=ee,this.uint16[$t+15]=ae,this.uint16[$t+16]=oe,this.uint16[$t+17]=_e,this.uint16[$t+18]=Re,this.uint16[$t+19]=De,this.uint16[$t+20]=ze,this.uint16[$t+21]=qe,this.uint16[$t+22]=Ze,this.uint16[$t+23]=rt,this.uint16[$t+24]=ut,this.uint16[$t+25]=mt,this.uint16[$t+26]=St,this.uint16[$t+27]=yt,this.uint32[er+14]=Ot,this.float32[er+15]=Ht,this.float32[er+16]=Dt,this.float32[er+17]=Jt,this.float32[er+18]=Mt,this.uint8[ir+76]=Ft,a}}FO.prototype.bytesPerElement=80,lt(FO,"StructArrayLayout2f9i15ui1ul4f1ub80");class n_ extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a){const u=this.length;return this.resize(u+1),this.emplace(u,a)}emplace(a,u){return this.float32[1*a+0]=u,a}}n_.prototype.bytesPerElement=4,lt(n_,"StructArrayLayout1f4");class X0 extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v){const _=this.length;return this.resize(_+1),this.emplace(_,a,u,f,h,v)}emplace(a,u,f,h,v,_){const S=5*a;return this.float32[S+0]=u,this.float32[S+1]=f,this.float32[S+2]=h,this.float32[S+3]=v,this.float32[S+4]=_,a}}X0.prototype.bytesPerElement=20,lt(X0,"StructArrayLayout5f20");class jO extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v,_,S){const P=this.length;return this.resize(P+1),this.emplace(P,a,u,f,h,v,_,S)}emplace(a,u,f,h,v,_,S,P){const I=7*a;return this.float32[I+0]=u,this.float32[I+1]=f,this.float32[I+2]=h,this.float32[I+3]=v,this.float32[I+4]=_,this.float32[I+5]=S,this.float32[I+6]=P,a}}jO.prototype.bytesPerElement=28,lt(jO,"StructArrayLayout7f28");class VO extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,u,f,h){const v=this.length;return this.resize(v+1),this.emplace(v,a,u,f,h)}emplace(a,u,f,h,v){const _=6*a;return this.uint32[3*a+0]=u,this.uint16[_+2]=f,this.uint16[_+3]=h,this.uint16[_+4]=v,a}}VO.prototype.bytesPerElement=12,lt(VO,"StructArrayLayout1ul3ui12");class bw extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a){const u=this.length;return this.resize(u+1),this.emplace(u,a)}emplace(a,u){return this.uint16[1*a+0]=u,a}}bw.prototype.bytesPerElement=2,lt(bw,"StructArrayLayout1ui2");class xw extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u){const f=this.length;return this.resize(f+1),this.emplace(f,a,u)}emplace(a,u,f){const h=2*a;return this.float32[h+0]=u,this.float32[h+1]=f,a}}xw.prototype.bytesPerElement=8,lt(xw,"StructArrayLayout2f8");class UO extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v,_,S,P,I,L,F,W,X,ee,ae,oe){const _e=this.length;return this.resize(_e+1),this.emplace(_e,a,u,f,h,v,_,S,P,I,L,F,W,X,ee,ae,oe)}emplace(a,u,f,h,v,_,S,P,I,L,F,W,X,ee,ae,oe,_e){const Re=16*a;return this.float32[Re+0]=u,this.float32[Re+1]=f,this.float32[Re+2]=h,this.float32[Re+3]=v,this.float32[Re+4]=_,this.float32[Re+5]=S,this.float32[Re+6]=P,this.float32[Re+7]=I,this.float32[Re+8]=L,this.float32[Re+9]=F,this.float32[Re+10]=W,this.float32[Re+11]=X,this.float32[Re+12]=ee,this.float32[Re+13]=ae,this.float32[Re+14]=oe,this.float32[Re+15]=_e,a}}UO.prototype.bytesPerElement=64,lt(UO,"StructArrayLayout16f64");class c7 extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,f,h,v,_,S){const P=this.length;return this.resize(P+1),this.emplace(P,a,u,f,h,v,_,S)}emplace(a,u,f,h,v,_,S,P){const I=10*a,L=5*a;return this.uint16[I+0]=u,this.uint16[I+1]=f,this.uint16[I+2]=h,this.uint16[I+3]=v,this.float32[L+2]=_,this.float32[L+3]=S,this.float32[L+4]=P,a}}c7.prototype.bytesPerElement=20,lt(c7,"StructArrayLayout4ui3f20");class WO extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a){const u=this.length;return this.resize(u+1),this.emplace(u,a)}emplace(a,u){return this.int16[1*a+0]=u,a}}WO.prototype.bytesPerElement=2,lt(WO,"StructArrayLayout1i2");class KO extends Ni{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer)}emplaceBack(a){const u=this.length;return this.resize(u+1),this.emplace(u,a)}emplace(a,u){return this.uint8[1*a+0]=u,a}}KO.prototype.bytesPerElement=1,lt(KO,"StructArrayLayout1ub1");class Vq extends _w{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Vq.prototype.size=40;class HO extends LO{get(a){return new Vq(this,a)}}lt(HO,"CollisionBoxArray");class Uq extends _w{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(a){this._structArray.uint8[this._pos1+49]=a}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(a){this._structArray.uint8[this._pos1+50]=a}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(a){this._structArray.uint32[this._pos4+13]=a}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(a){this._structArray.uint8[this._pos1+58]=a}}Uq.prototype.size=60;class Wq extends NO{get(a){return new Uq(this,a)}}lt(Wq,"PlacedSymbolArray");class Kq extends _w{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(a){this._structArray.uint32[this._pos4+14]=a}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(a){this._structArray.float32[this._pos4+18]=a}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}Kq.prototype.size=80;class Hq extends FO{get(a){return new Kq(this,a)}}lt(Hq,"SymbolInstanceArray");class Gq extends n_{getoffsetX(a){return this.float32[1*a+0]}}lt(Gq,"GlyphOffsetArray");class qq extends Dc{getx(a){return this.int16[2*a+0]}gety(a){return this.int16[2*a+1]}}lt(qq,"SymbolLineVertexArray");class Zq extends _w{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Zq.prototype.size=12;class Xq extends VO{get(a){return new Zq(this,a)}}lt(Xq,"FeatureIndexArray");class Yq extends nm{geta_centroid_pos0(a){return this.uint16[2*a+0]}geta_centroid_pos1(a){return this.uint16[2*a+1]}}lt(Yq,"FillExtrusionCentroidArray");class Jq extends _w{get a_join_normal_inside_polygon0(){return this._structArray.int16[this._pos2+0]}get a_join_normal_inside_polygon1(){return this._structArray.int16[this._pos2+1]}get a_join_normal_inside_polygon2(){return this._structArray.int16[this._pos2+2]}get a_join_normal_inside_polygon3(){return this._structArray.int16[this._pos2+3]}}Jq.prototype.size=8;class Qq extends Uf{get(a){return new Jq(this,a)}}lt(Qq,"FillExtrusionWallArray");const W9e=Xn([{name:"a_pos",components:2,type:"Int16"}],4),K9e=Xn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Ki{constructor(a=[]){this.segments=a}_prepareSegment(a,u,f,h){let v=this.segments[this.segments.length-1];return a>Ki.MAX_VERTEX_ARRAY_LENGTH&&la(`Max vertices per segment is ${Ki.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${a}`),(!v||v.vertexLength+a>Ki.MAX_VERTEX_ARRAY_LENGTH||v.sortKey!==h)&&(v={vertexOffset:u,primitiveOffset:f,vertexLength:0,primitiveLength:0},h!==void 0&&(v.sortKey=h),this.segments.push(v)),v}prepareSegment(a,u,f,h){return this._prepareSegment(a,u.length,f.length,h)}get(){return this.segments}destroy(){for(const a of this.segments)for(const u in a.vaos)a.vaos[u].destroy()}static simpleSegment(a,u,f,h){return new Ki([{vertexOffset:a,primitiveOffset:u,vertexLength:f,primitiveLength:h,vaos:{},sortKey:0}])}}function eZ(l,a){return 256*(l=pn(Math.floor(l),0,255))+pn(Math.floor(a),0,255)}Ki.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,lt(Ki,"SegmentVector");const H9e=Xn([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),G9e=Xn([{name:"a_dash",components:4,type:"Uint16"}]);class ww{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1}add(a,u,f,h){this.ids.push(tZ(a)),this.positions.push(u,f,h)}eachPosition(a,u){const f=tZ(a);let h=0,v=this.ids.length-1;for(;h<v;){const _=h+v>>1;this.ids[_]>=f?v=_:h=_+1}for(;this.ids[h]===f;)u(this.positions[3*h],this.positions[3*h+1],this.positions[3*h+2]),h++}static serialize(a,u){const f=new Float64Array(a.ids),h=new Uint32Array(a.positions);return GO(f,h,0,f.length-1),u&&(u.add(f.buffer),u.add(h.buffer)),{ids:f,positions:h}}static deserialize(a){const u=new ww;let f;u.ids=a.ids,u.positions=a.positions;for(const h of u.ids)h!==f&&u.uniqueIds.push(h),f=h;return u.indexed=!0,u}}function tZ(l){const a=+l;return!isNaN(a)&&Number.MIN_SAFE_INTEGER<=a&&a<=Number.MAX_SAFE_INTEGER?a:Mv(String(l))}function GO(l,a,u,f){for(;u<f;){const h=l[u+f>>1];let v=u-1,_=f+1;for(;;){do v++;while(l[v]<h);do _--;while(l[_]>h);if(v>=_)break;d7(l,v,_),d7(a,3*v,3*_),d7(a,3*v+1,3*_+1),d7(a,3*v+2,3*_+2)}_-u<f-_?(GO(l,a,u,_),u=_+1):(GO(l,a,_+1,f),f=_)}}function d7(l,a,u){const f=l[a];l[a]=l[u],l[u]=f}lt(ww,"FeaturePositionMap");class Wf{constructor(a){this.gl=a.gl,this.initialized=!1}fetchUniformLocation(a,u){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(a,u),this.initialized=!0),!!this.location}set(a,u,f){throw new Error("Uniform#set() must be implemented by each concrete Uniform")}}class f7 extends Wf{constructor(a){super(a),this.current=0}set(a,u,f){this.fetchUniformLocation(a,u)&&this.current!==f&&(this.current=f,this.gl.uniform1i(this.location,f))}}class Es extends Wf{constructor(a){super(a),this.current=0}set(a,u,f){this.fetchUniformLocation(a,u)&&this.current!==f&&(this.current=f,this.gl.uniform1f(this.location,f))}}class Kf extends Wf{constructor(a){super(a),this.current=[0,0]}set(a,u,f){this.fetchUniformLocation(a,u)&&(f[0]===this.current[0]&&f[1]===this.current[1]||(this.current=f,this.gl.uniform2f(this.location,f[0],f[1])))}}class qO extends Wf{constructor(a){super(a),this.current=[0,0,0]}set(a,u,f){this.fetchUniformLocation(a,u)&&(f[0]===this.current[0]&&f[1]===this.current[1]&&f[2]===this.current[2]||(this.current=f,this.gl.uniform3f(this.location,f[0],f[1],f[2])))}}class ZO extends Wf{constructor(a){super(a),this.current=[0,0,0,0]}set(a,u,f){this.fetchUniformLocation(a,u)&&(f[0]===this.current[0]&&f[1]===this.current[1]&&f[2]===this.current[2]&&f[3]===this.current[3]||(this.current=f,this.gl.uniform4f(this.location,f[0],f[1],f[2],f[3])))}}class rZ extends Wf{constructor(a){super(a),this.current=Hn.transparent.toRenderColor(null)}set(a,u,f){this.fetchUniformLocation(a,u)&&(f.r===this.current.r&&f.g===this.current.g&&f.b===this.current.b&&f.a===this.current.a||(this.current=f,this.gl.uniform4f(this.location,f.r,f.g,f.b,f.a)))}}const q9e=new Float32Array(16);class Sw extends Wf{constructor(a){super(a),this.current=q9e}set(a,u,f){if(this.fetchUniformLocation(a,u)){if(f[12]!==this.current[12]||f[0]!==this.current[0])return this.current=f,void this.gl.uniformMatrix4fv(this.location,!1,f);for(let h=1;h<16;h++)if(f[h]!==this.current[h]){this.current=f,this.gl.uniformMatrix4fv(this.location,!1,f);break}}}}const Z9e=new Float32Array(9),X9e=new Float32Array(4);class XO extends Wf{constructor(a){super(a),this.current=X9e}set(a,u,f){if(this.fetchUniformLocation(a,u)){for(let h=0;h<4;h++)if(f[h]!==this.current[h]){this.current=f,this.gl.uniformMatrix2fv(this.location,!1,f);break}}}}function YO(l){return[eZ(255*l.r,255*l.g),eZ(255*l.b,255*l.a)]}class Ew{constructor(a,u,f,h){this.value=a,this.uniformNames=u.map(v=>`u_${v}`),this.type=f,this.context=h}setUniform(a,u,f,h,v){const _=h.constantOr(this.value);u.set(a,v,_ instanceof Hn?_.toRenderColor(this.context.lut):_)}getBinding(a,u){return this.type==="color"?new rZ(a):new Es(a)}}class i_{constructor(a,u){this.uniformNames=u.map(f=>`u_${f}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(a){this.pixelRatio=a.pixelRatio||1,this.pattern=a.tl.concat(a.br)}setUniform(a,u,f,h,v){const _=v==="u_pattern"||v==="u_dash"?this.pattern:v==="u_pixel_ratio"?this.pixelRatio:null;_&&u.set(a,v,_)}getBinding(a,u){return u==="u_pattern"||u==="u_dash"?new ZO(a):new Es(a)}}class Hf{constructor(a,u,f,h){this.expression=a,this.type=f,this.maxValue=0,this.paintVertexAttributes=u.map(v=>({name:`a_${v}`,type:"Float32",components:f==="color"?2:1,offset:0})),this.paintVertexArray=new h}populatePaintArray(a,u,f,h,v,_,S){const P=this.paintVertexArray.length,I=this.expression.evaluate(new Wr(0,{brightness:_}),u,{},v,h,S);this.paintVertexArray.resize(a),this._setPaintValue(P,a,I,this.context)}updatePaintArray(a,u,f,h,v,_,S){const P=this.expression.evaluate({zoom:0,brightness:S},f,h,void 0,v);this._setPaintValue(a,u,P,this.context)}_setPaintValue(a,u,f,h){if(this.type==="color"){const v=YO(f.toRenderColor(h.lut));for(let _=a;_<u;_++)this.paintVertexArray.emplace(_,v[0],v[1])}else{for(let v=a;v<u;v++)this.paintVertexArray.emplace(v,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Rc{constructor(a,u,f,h,v,_){this.expression=a,this.uniformNames=u.map(S=>`u_${S}_t`),this.type=f,this.useIntegerZoom=h,this.context=v,this.maxValue=0,this.paintVertexAttributes=u.map(S=>({name:`a_${S}`,type:"Float32",components:f==="color"?4:2,offset:0})),this.paintVertexArray=new _}populatePaintArray(a,u,f,h,v,_,S){const P=this.expression.evaluate(new Wr(this.context.zoom,{brightness:_}),u,{},v,h,S),I=this.expression.evaluate(new Wr(this.context.zoom+1,{brightness:_}),u,{},v,h,S),L=this.paintVertexArray.length;this.paintVertexArray.resize(a),this._setPaintValue(L,a,P,I,this.context)}updatePaintArray(a,u,f,h,v,_,S){const P=this.expression.evaluate({zoom:this.context.zoom,brightness:S},f,h,void 0,v),I=this.expression.evaluate({zoom:this.context.zoom+1,brightness:S},f,h,void 0,v);this._setPaintValue(a,u,P,I,this.context)}_setPaintValue(a,u,f,h,v){if(this.type==="color"){const _=YO(f.toRenderColor(v.lut)),S=YO(f.toRenderColor(v.lut));for(let P=a;P<u;P++)this.paintVertexArray.emplace(P,_[0],_[1],S[0],S[1])}else{for(let _=a;_<u;_++)this.paintVertexArray.emplace(_,f,h);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(h))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(a,u,f,h,v){const _=this.useIntegerZoom?Math.floor(f.zoom):f.zoom,S=pn(this.expression.interpolationFactor(_,this.context.zoom,this.context.zoom+1),0,1);u.set(a,v,S)}getBinding(a,u){return new Es(a)}}class im{constructor(a,u,f,h,v){this.expression=a,this.layerId=v,this.paintVertexAttributes=(f==="array"?G9e:H9e).members;for(let _=0;_<u.length;++_);this.paintVertexArray=new h}populatePaintArray(a,u,f,h){const v=this.paintVertexArray.length;this.paintVertexArray.resize(a),this._setPaintValues(v,a,u.patterns&&u.patterns[this.layerId],f)}updatePaintArray(a,u,f,h,v,_,S){this._setPaintValues(a,u,f.patterns&&f.patterns[this.layerId],_)}_setPaintValues(a,u,f,h){if(!h||!f)return;const v=h[f];if(!v)return;const{tl:_,br:S,pixelRatio:P}=v;for(let I=a;I<u;I++)this.paintVertexArray.emplace(I,_[0],_[1],S[0],S[1],P)}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Y0{constructor(a,u,f=()=>!0){this.binders={},this._buffers=[],this.context=u;const h=[];for(const v in a.paint._values){const _=a.paint.get(v);if(!f(v)||!(_ instanceof to&&O(_.property.specification)))continue;const S=J9e(v,a.type),P=_.value,I=_.property.specification.type,L=!!_.property.useIntegerZoom,F=v==="line-dasharray"||v.endsWith("pattern"),W=v==="line-dasharray"&&a.layout.get("line-cap").value.kind!=="constant";if(P.kind!=="constant"||W)if(P.kind==="source"||W||F){const X=nZ(v,I,"source");this.binders[v]=F?new im(P,S,I,X,a.id):new Hf(P,S,I,X),h.push(`/a_${v}`)}else{const X=nZ(v,I,"composite");this.binders[v]=new Rc(P,S,I,L,u,X),h.push(`/z_${v}`)}else this.binders[v]=F?new i_(P.value,S):new Ew(P.value,S,I,u),h.push(`/u_${v}`)}this.cacheKey=h.sort().join("")}getMaxValue(a){const u=this.binders[a];return u instanceof Hf||u instanceof Rc?u.maxValue:0}populatePaintArrays(a,u,f,h,v,_,S){for(const P in this.binders){const I=this.binders[P];I.context=this.context,(I instanceof Hf||I instanceof Rc||I instanceof im)&&I.populatePaintArray(a,u,f,h,v,_,S)}}setConstantPatternPositions(a){for(const u in this.binders){const f=this.binders[u];f instanceof i_&&f.setConstantPatternPositions(a)}}updatePaintArrays(a,u,f,h,v,_,S,P){let I=!1;const L=Object.keys(a),F=L.length!==0,W=F?L:u.uniqueIds;this.context.lut=v.lut;for(const X in this.binders){const ee=this.binders[X];if(ee.context=this.context,(ee instanceof Hf||ee instanceof Rc||ee instanceof im)&&(ee.expression.isStateDependent===!0||ee.expression.isLightConstant===!1)){const ae=v.paint.get(X);ee.expression=ae.value;for(const oe of W){const _e=a[oe.toString()];u.eachPosition(oe,(Re,De,ze)=>{const qe=h.feature(Re);ee.updatePaintArray(De,ze,qe,_e,_,S,P)})}if(!F)for(const oe of f.uniqueIds){const _e=a[oe.toString()];f.eachPosition(oe,(Re,De,ze)=>{const qe=h.feature(Re);ee.updatePaintArray(De,ze,qe,_e,_,S,P)})}I=!0}}return I}defines(){const a=[];for(const u in this.binders){const f=this.binders[u];(f instanceof Ew||f instanceof i_)&&a.push(...f.uniformNames.map(h=>`#define HAS_UNIFORM_${h}`))}return a}getBinderAttributes(){const a=[];for(const u in this.binders){const f=this.binders[u];if(f instanceof Hf||f instanceof Rc||f instanceof im)for(let h=0;h<f.paintVertexAttributes.length;h++)a.push(f.paintVertexAttributes[h].name)}return a}getBinderUniforms(){const a=[];for(const u in this.binders){const f=this.binders[u];if(f instanceof Ew||f instanceof i_||f instanceof Rc)for(const h of f.uniformNames)a.push(h)}return a}getPaintVertexBuffers(){return this._buffers}getUniforms(a){const u=[];for(const f in this.binders){const h=this.binders[f];if(h instanceof Ew||h instanceof i_||h instanceof Rc)for(const v of h.uniformNames)u.push({name:v,property:f,binding:h.getBinding(a,v)})}return u}setUniforms(a,u,f,h,v){for(const{name:_,property:S,binding:P}of f)this.binders[S].setUniform(a,P,v,h.get(S),_)}updatePaintBuffers(){this._buffers=[];for(const a in this.binders){const u=this.binders[a];(u instanceof Hf||u instanceof Rc||u instanceof im)&&u.paintVertexBuffer&&this._buffers.push(u.paintVertexBuffer)}}upload(a){for(const u in this.binders){const f=this.binders[u];(f instanceof Hf||f instanceof Rc||f instanceof im)&&f.upload(a)}this.updatePaintBuffers()}destroy(){for(const a in this.binders){const u=this.binders[a];(u instanceof Hf||u instanceof Rc||u instanceof im)&&u.destroy()}}}class am{constructor(a,u,f=()=>!0){this.programConfigurations={};for(const h of a)this.programConfigurations[h.id]=new Y0(h,u,f);this.needsUpload=!1,this._featureMap=new ww,this._featureMapWithoutIds=new ww,this._bufferOffset=0,this._idlessCounter=0}populatePaintArrays(a,u,f,h,v,_,S,P){for(const I in this.programConfigurations)this.programConfigurations[I].populatePaintArrays(a,u,h,v,_,S,P);u.id!==void 0?this._featureMap.add(u.id,f,this._bufferOffset,a):(this._featureMapWithoutIds.add(this._idlessCounter,f,this._bufferOffset,a),this._idlessCounter+=1),this._bufferOffset=a,this.needsUpload=!0}updatePaintArrays(a,u,f,h,v,_){for(const S of f)this.needsUpload=this.programConfigurations[S.id].updatePaintArrays(a,this._featureMap,this._featureMapWithoutIds,u,S,h,v,_||0)||this.needsUpload}get(a){return this.programConfigurations[a]}upload(a){if(this.needsUpload){for(const u in this.programConfigurations)this.programConfigurations[u].upload(a);this.needsUpload=!1}}destroy(){for(const a in this.programConfigurations)this.programConfigurations[a].destroy()}}const Y9e={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-occlusion-opacity":["occlusion_opacity"],"icon-occlusion-opacity":["occlusion_opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-emissive-strength":["emissive_strength"],"icon-emissive-strength":["emissive_strength"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function J9e(l,a){return Y9e[l]||[l.replace(`${a}-`,"").replace(/-/g,"_")]}const Q9e={"line-pattern":{source:rm,composite:rm},"fill-pattern":{source:rm,composite:rm},"fill-extrusion-pattern":{source:rm,composite:rm},"line-dasharray":{source:s7,composite:s7}},eSe={color:{source:xw,composite:em},number:{source:n_,composite:xw}};function nZ(l,a,u){const f=Q9e[l];return f&&f[u]||eSe[a][u]}lt(Ew,"ConstantBinder"),lt(i_,"PatternConstantBinder"),lt(Hf,"SourceExpressionBinder"),lt(im,"PatternCompositeBinder"),lt(Rc,"CompositeExpressionBinder"),lt(Y0,"ProgramConfiguration",{omit:["_buffers"]}),lt(am,"ProgramConfigurationSet");const As=rr/Math.PI/2,JO=5,iZ=6,tSe=16383,a_=64,QO=[a_,32,16],Lu=-As,Bu=As;function o_(l,a,u,f=As){return u=Sn(u),[l*Math.sin(u)*f,-a*f,l*Math.cos(u)*f]}function J0(l,a,u){return o_(Math.cos(Sn(l)),Math.sin(Sn(l)),a,u)}const s_=63710088e-1,eD=2*Math.PI*s_;class Wn{constructor(a,u){if(isNaN(a)||isNaN(u))throw new Error(`Invalid LngLat object: (${a}, ${u})`);if(this.lng=+a,this.lat=+u,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Wn($h(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(a){const u=Math.PI/180,f=this.lat*u,h=a.lat*u,v=Math.sin(f)*Math.sin(h)+Math.cos(f)*Math.cos(h)*Math.cos((a.lng-this.lng)*u);return s_*Math.acos(Math.min(v,1))}toBounds(a=0){const u=360*a/40075017,f=u/Math.cos(Math.PI/180*this.lat);return new om({lng:this.lng-f,lat:this.lat-u},{lng:this.lng+f,lat:this.lat+u})}toEcef(a){return J0(this.lat,this.lng,As+a*As/s_)}static convert(a){if(a instanceof Wn)return a;if(Array.isArray(a)&&(a.length===2||a.length===3))return new Wn(Number(a[0]),Number(a[1]));if(!Array.isArray(a)&&typeof a=="object"&&a!==null)return new Wn(Number("lng"in a?a.lng:a.lon),Number(a.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class om{constructor(a,u){if(a)if(u)this.setSouthWest(a).setNorthEast(u);else if(a.length===4){const f=a;this.setSouthWest([f[0],f[1]]).setNorthEast([f[2],f[3]])}else{const f=a;this.setSouthWest(f[0]).setNorthEast(f[1])}}setNorthEast(a){return this._ne=a instanceof Wn?new Wn(a.lng,a.lat):Wn.convert(a),this}setSouthWest(a){return this._sw=a instanceof Wn?new Wn(a.lng,a.lat):Wn.convert(a),this}extend(a){const u=this._sw,f=this._ne;let h,v;if(a instanceof Wn)h=a,v=a;else{if(!(a instanceof om))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(om.convert(a)):this.extend(Wn.convert(a)):typeof a=="object"&&a!==null&&a.hasOwnProperty("lat")&&(a.hasOwnProperty("lon")||a.hasOwnProperty("lng"))?this.extend(Wn.convert(a)):this;if(h=a._sw,v=a._ne,!h||!v)return this}return u||f?(u.lng=Math.min(h.lng,u.lng),u.lat=Math.min(h.lat,u.lat),f.lng=Math.max(v.lng,f.lng),f.lat=Math.max(v.lat,f.lat)):(this._sw=new Wn(h.lng,h.lat),this._ne=new Wn(v.lng,v.lat)),this}getCenter(){return new Wn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Wn(this.getWest(),this.getNorth())}getSouthEast(){return new Wn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){const{lng:u,lat:f}=Wn.convert(a);let h=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(h=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=f&&f<=this._ne.lat&&h}static convert(a){return!a||a instanceof om?a:new om(a)}}var aZ={};(function(l,a){(function(u){function f(v,_,S){var P=h(256*v,256*(_=Math.pow(2,S)-_-1),S),I=h(256*(v+1),256*(_+1),S);return P[0]+","+P[1]+","+I[0]+","+I[1]}function h(v,_,S){var P=2*Math.PI*6378137/256/Math.pow(2,S);return[v*P-2*Math.PI*6378137/2,_*P-2*Math.PI*6378137/2]}u.getURL=function(v,_,S,P,I,L){return L=L||{},v+"?"+["bbox="+f(S,P,I),"format="+(L.format||"image/png"),"service="+(L.service||"WMS"),"version="+(L.version||"1.1.1"),"request="+(L.request||"GetMap"),"srs="+(L.srs||"EPSG:3857"),"width="+(L.width||256),"height="+(L.height||256),"layers="+_].join("&")},u.getTileBBox=f,u.getMercCoords=h,Object.defineProperty(u,"__esModule",{value:!0})})(a)})(0,aZ);var rSe=aZ;class Q0{constructor(a,u,f){this.z=a,this.x=u,this.y=f,this.key=l_(0,a,a,u,f)}equals(a){return this.z===a.z&&this.x===a.x&&this.y===a.y}url(a,u){const f=rSe.getTileBBox(this.x,this.y,this.z),h=function(v,_,S){let P,I="";for(let L=v;L>0;L--)P=1<<L-1,I+=(_&P?1:0)+(S&P?2:0);return I}(this.z,this.x,this.y);return a[(this.x+this.y)%a.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(u==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",h).replace("{bbox-epsg-3857}",f)}toString(){return`${this.z}/${this.x}/${this.y}`}}class oZ{constructor(a,u){this.wrap=a,this.canonical=u,this.key=l_(a,u.z,u.z,u.x,u.y)}}class za{constructor(a,u,f,h,v){this.overscaledZ=a,this.wrap=u,this.canonical=new Q0(f,+h,+v),this.key=u===0&&a===f?this.canonical.key:l_(u,a,f,h,v)}equals(a){return this.overscaledZ===a.overscaledZ&&this.wrap===a.wrap&&this.canonical.equals(a.canonical)}scaledTo(a){const u=this.canonical.z-a;return a>this.canonical.z?new za(a,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new za(a,this.wrap,a,this.canonical.x>>u,this.canonical.y>>u)}calculateScaledKey(a,u=!0){if(this.overscaledZ===a&&u)return this.key;if(a>this.canonical.z)return l_(this.wrap*+u,a,this.canonical.z,this.canonical.x,this.canonical.y);{const f=this.canonical.z-a;return l_(this.wrap*+u,a,a,this.canonical.x>>f,this.canonical.y>>f)}}isChildOf(a){if(a.wrap!==this.wrap)return!1;const u=this.canonical.z-a.canonical.z;return a.overscaledZ===0||a.overscaledZ<this.overscaledZ&&a.canonical.z<this.canonical.z&&a.canonical.x===this.canonical.x>>u&&a.canonical.y===this.canonical.y>>u}children(a){if(this.overscaledZ>=a)return[new za(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const u=this.canonical.z+1,f=2*this.canonical.x,h=2*this.canonical.y;return[new za(u,this.wrap,u,f,h),new za(u,this.wrap,u,f+1,h),new za(u,this.wrap,u,f,h+1),new za(u,this.wrap,u,f+1,h+1)]}isLessThan(a){return this.wrap<a.wrap||!(this.wrap>a.wrap)&&(this.overscaledZ<a.overscaledZ||!(this.overscaledZ>a.overscaledZ)&&(this.canonical.x<a.canonical.x||!(this.canonical.x>a.canonical.x)&&this.canonical.y<a.canonical.y))}wrapped(){return new za(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(a){return new za(this.overscaledZ,a,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new oZ(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function l_(l,a,u,f,h){const v=1<<Math.min(u,22);let _=v*(h%v)+f%v;return l&&u<22&&(_+=v*v*((l<0?-2*l-1:2*l)%(1<<2*(22-u)))),16*(32*_+u)+(a-u)}const nSe=[l=>{let a=l.canonical.x-1,u=l.wrap;return a<0&&(a=(1<<l.canonical.z)-1,u--),new za(l.overscaledZ,u,l.canonical.z,a,l.canonical.y)},l=>{let a=l.canonical.x+1,u=l.wrap;return a===1<<l.canonical.z&&(a=0,u++),new za(l.overscaledZ,u,l.canonical.z,a,l.canonical.y)},l=>new za(l.overscaledZ,l.wrap,l.canonical.z,l.canonical.x,(l.canonical.y===0?1<<l.canonical.z:l.canonical.y)-1),l=>new za(l.overscaledZ,l.wrap,l.canonical.z,l.canonical.x,l.canonical.y===(1<<l.canonical.z)-1?0:l.canonical.y+1)];lt(Q0,"CanonicalTileID"),lt(za,"OverscaledTileID",{omit:["projMatrix","expandedProjMatrix"]});const iSe=0,aSe=25.5;function tD(l){return eD*Math.cos(l*Math.PI/180)}function Ld(l){return(180+l)/360}function Bd(l){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l*Math.PI/360)))/360}function Ts(l,a){return l/tD(a)}function rl(l){return 360*l-180}function po(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}function sZ(l,a){return l*tD(po(a))}const da=85.051129;function lZ(l){return Math.cos(Sn(pn(l,-da,da)))}function eg(l,a){const u=pn(a,iSe,aSe),f=Math.pow(2,u);return lZ(l)*eD/(512*f)}function uZ(l){return 1/Math.cos(l*Math.PI/180)}function p7(l,a=0){const u=Math.exp(Math.PI*(1-(l.y+a/rr)/(1<<l.z)*2));return 80150034*u/(u*u+1)/rr/(1<<l.z)}class Uo{constructor(a,u,f=0){this.x=+a,this.y=+u,this.z=+f}static fromLngLat(a,u=0){const f=Wn.convert(a);return new Uo(Ld(f.lng),Bd(f.lat),Ts(u,f.lat))}toLngLat(){return new Wn(rl(this.x),po(this.y))}toAltitude(){return sZ(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/eD*uZ(po(this.y))}}function rD(l,a,u,f,h,v,_,S,P){const I=(a+f)/2,L=(u+h)/2,F=new or(I,L);S(F),function(W,X,ee,ae,oe,_e){const Re=ee-oe,De=ae-_e;return Math.abs((ae-X)*Re-(ee-W)*De)/Math.hypot(Re,De)}(F.x,F.y,v.x,v.y,_.x,_.y)>=P?(rD(l,a,u,I,L,v,F,S,P),rD(l,I,L,f,h,F,_,S,P)):l.push(_)}function cZ(l,a,u){let f=l[0],h=f.x,v=f.y;a(f);const _=[f];for(let S=1;S<l.length;S++){const P=l[S],{x:I,y:L}=P;a(P),rD(_,h,v,I,L,f,P,a,u),h=I,v=L,f=P}return _}function nD(l,a,u,f){if(f(a,u)){const h=a.add(u)._mult(.5);nD(l,a,h,f),nD(l,h,u,f)}else l.push(u)}function oSe(l,a){let u=l[0];const f=[u];for(let h=1;h<l.length;h++){const v=l[h];nD(f,u,v,a),u=v}return f}const iD=Math.pow(2,14)-1,dZ=-iD-1;function sSe(l,a){const u=Math.round(l.x*a),f=Math.round(l.y*a);return l.x=pn(u,dZ,iD),l.y=pn(f,dZ,iD),(u<l.x||u>l.x+1||f<l.y||f>l.y+1)&&la("Geometry exceeds allowed extent, reduce your vector tile buffer size"),l}function $c(l,a,u){const f=l.loadGeometry(),h=l.extent,v=rr/h;if(a&&u&&u.projection.isReprojectedInTileSpace){const _=1<<a.z,{scale:S,x:P,y:I,projection:L}=u,F=W=>{const X=rl((a.x+W.x/h)/_),ee=po((a.y+W.y/h)/_),ae=L.project(X,ee);W.x=(ae.x*S-P)*h,W.y=(ae.y*S-I)*h};for(let W=0;W<f.length;W++)if(l.type!==1)f[W]=cZ(f[W],F,1);else{const X=[];for(const ee of f[W])ee.x<0||ee.x>=h||ee.y<0||ee.y>=h||(F(ee),X.push(ee));f[W]=X}}for(const _ of f)for(const S of _)sSe(S,v);return f}function Gf(l,a){return{type:l.type,id:l.id,properties:l.properties,geometry:a?$c(l):[]}}function h7(l,a,u,f,h){l.emplaceBack(2*a+(f+1)/2,2*u+(h+1)/2)}function m7(l,a,u){l.emplaceBack(a.x,a.y,a.z,u[0]*16384,u[1]*16384,u[2]*16384)}class aD{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(u=>u.fqid),this.index=a.index,this.hasPattern=!1,this.projection=a.projection,this.layoutVertexArray=new Dc,this.indexArray=new ro,this.segments=new Ki,this.programConfigurations=new am(a.layers,{zoom:a.zoom,lut:a.lut}),this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}updateFootprints(a,u){}populate(a,u,f,h){const v=this.layers[0],_=[];let S=null;v.type==="circle"&&(S=v.layout.get("circle-sort-key"));for(const{feature:I,id:L,index:F,sourceLayerIndex:W}of a){const X=this.layers[0]._featureFilter.needGeometry,ee=Gf(I,X);if(!this.layers[0]._featureFilter.filter(new Wr(this.zoom),ee,f))continue;const ae=S?S.evaluate(ee,{},f):void 0,oe={id:L,properties:I.properties,type:I.type,sourceLayerIndex:W,index:F,geometry:X?ee.geometry:$c(I,f,h),patterns:{},sortKey:ae};_.push(oe)}S&&_.sort((I,L)=>I.sortKey-L.sortKey);let P=null;h.projection.name==="globe"&&(this.globeExtVertexArray=new l7,P=h.projection);for(const I of _){const{geometry:L,index:F,sourceLayerIndex:W}=I,X=a[F].feature;this.addFeature(I,L,F,u.availableImages,f,P,u.brightness),u.featureIndex.insert(X,L,F,W,this.index)}}update(a,u,f,h,v){const _=Object.keys(a).length!==0;_&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(a,u,_?this.stateDependentLayers:this.layers,f,h,v)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,W9e.members),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=a.createVertexBuffer(this.globeExtVertexArray,K9e.members))),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(a,u,f,h,v,_,S){for(const P of u)for(const I of P){const L=I.x,F=I.y;if(L<0||L>=rr||F<0||F>=rr)continue;if(_){const ee=_.projectTilePoint(L,F,v),ae=_.upVector(v,L,F),oe=this.globeExtVertexArray;m7(oe,ee,ae),m7(oe,ee,ae),m7(oe,ee,ae),m7(oe,ee,ae)}const W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,a.sortKey),X=W.vertexLength;h7(this.layoutVertexArray,L,F,-1,-1),h7(this.layoutVertexArray,L,F,1,-1),h7(this.layoutVertexArray,L,F,1,1),h7(this.layoutVertexArray,L,F,-1,1),this.indexArray.emplaceBack(X,X+1,X+2),this.indexArray.emplaceBack(X,X+2,X+3),W.vertexLength+=4,W.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,f,{},h,v,S)}}function oD(l,a){for(let u=0;u<l.length;u++)if(sm(a,l[u]))return!0;for(let u=0;u<a.length;u++)if(sm(l,a[u]))return!0;return!!sD(l,a)}function lSe(l,a,u){return!!sm(l,a)||!!lD(a,l,u)}function fZ(l,a){if(l.length===1)return hZ(a,l[0]);for(let u=0;u<a.length;u++){const f=a[u];for(let h=0;h<f.length;h++)if(sm(l,f[h]))return!0}for(let u=0;u<l.length;u++)if(hZ(a,l[u]))return!0;for(let u=0;u<a.length;u++)if(sD(l,a[u]))return!0;return!1}function uSe(l,a,u){if(l.length>1){if(sD(l,a))return!0;for(let f=0;f<a.length;f++)if(lD(a[f],l,u))return!0}for(let f=0;f<l.length;f++)if(lD(l[f],a,u))return!0;return!1}function sD(l,a){if(l.length===0||a.length===0)return!1;for(let u=0;u<l.length-1;u++){const f=l[u],h=l[u+1];for(let v=0;v<a.length-1;v++)if(cSe(f,h,a[v],a[v+1]))return!0}return!1}function cSe(l,a,u,f){return Td(l,u,f)!==Td(a,u,f)&&Td(l,a,u)!==Td(l,a,f)}function lD(l,a,u){const f=u*u;if(a.length===1)return l.distSqr(a[0])<f;for(let h=1;h<a.length;h++)if(pZ(l,a[h-1],a[h])<f)return!0;return!1}function pZ(l,a,u){const f=a.distSqr(u);if(f===0)return l.distSqr(a);const h=((l.x-a.x)*(u.x-a.x)+(l.y-a.y)*(u.y-a.y))/f;return l.distSqr(h<0?a:h>1?u:u.sub(a)._mult(h)._add(a))}function hZ(l,a){let u,f,h,v=!1;for(let _=0;_<l.length;_++){u=l[_];for(let S=0,P=u.length-1;S<u.length;P=S++)f=u[S],h=u[P],f.y>a.y!=h.y>a.y&&a.x<(h.x-f.x)*(a.y-f.y)/(h.y-f.y)+f.x&&(v=!v)}return v}function sm(l,a){let u=!1;for(let f=0,h=l.length-1;f<l.length;h=f++){const v=l[f],_=l[h];v.y>a.y!=_.y>a.y&&a.x<(_.x-v.x)*(a.y-v.y)/(_.y-v.y)+v.x&&(u=!u)}return u}function mZ(l,a,u,f,h){for(const _ of l)if(a<=_.x&&u<=_.y&&f>=_.x&&h>=_.y)return!0;const v=[new or(a,u),new or(a,h),new or(f,h),new or(f,u)];if(l.length>2){for(const _ of v)if(sm(l,_))return!0}for(let _=0;_<l.length-1;_++)if(dSe(l[_],l[_+1],v))return!0;return!1}function dSe(l,a,u){const f=u[0],h=u[2];if(l.x<f.x&&a.x<f.x||l.x>h.x&&a.x>h.x||l.y<f.y&&a.y<f.y||l.y>h.y&&a.y>h.y)return!1;const v=Td(l,a,u[0]);return v!==Td(l,a,u[1])||v!==Td(l,a,u[2])||v!==Td(l,a,u[3])}function u_(l,a,u,f,h,v){let _=a.y-l.y,S=l.x-a.x;if(v=v||0){const P=_*_+S*S;if(P===0)return!0;const I=Math.sqrt(P);_/=I,S/=I}return!((u.x-l.x)*_+(u.y-l.y)*S-v<0||(f.x-l.x)*_+(f.y-l.y)*S-v<0||(h.x-l.x)*_+(h.y-l.y)*S-v<0)}function uD(l,a,u,f,h,v,_){return!(u_(l,a,f,h,v,_)||u_(a,u,f,h,v,_)||u_(u,l,f,h,v,_)||u_(f,h,l,a,u,_)||u_(h,v,l,a,u,_)||u_(v,f,l,a,u,_))}function c_(l,a,u){const f=a.paint.get(l).value;return f.kind==="constant"?f.value:u.programConfigurations.get(a.id).getMaxValue(l)}function g7(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function gZ(l,a,u,f,h){if(!a[0]&&!a[1])return l;const v=or.convert(a)._mult(h);u==="viewport"&&v._rotate(-f);const _=[];for(let S=0;S<l.length;S++)_.push(l[S].sub(v));return _}function yZ(l,a,u,f){const h=or.convert(l)._mult(f);return a==="viewport"&&h._rotate(-u),h}let vZ,_Z;lt(aD,"CircleBucket",{omit:["layers"]});class cD{constructor(a,u){this.pos=a,this.dir=u}intersectsPlane(a,u,f){const h=o.$.dot(u,this.dir);if(Math.abs(h)<1e-6)return!1;const v=((a[0]-this.pos[0])*u[0]+(a[1]-this.pos[1])*u[1]+(a[2]-this.pos[2])*u[2])/h;return f[0]=this.pos[0]+this.dir[0]*v,f[1]=this.pos[1]+this.dir[1]*v,f[2]=this.pos[2]+this.dir[2]*v,!0}closestPointOnSphere(a,u,f){if(o.$.equals(this.pos,a)||u===0)return f[0]=f[1]=f[2]=0,!1;const[h,v,_]=this.dir,S=this.pos[0]-a[0],P=this.pos[1]-a[1],I=this.pos[2]-a[2],L=h*h+v*v+_*_,F=2*(S*h+P*v+I*_),W=F*F-4*L*(S*S+P*P+I*I-u*u);if(W<0){const X=Math.max(-F/2,0),ee=S+h*X,ae=P+v*X,oe=I+_*X,_e=Math.hypot(ee,ae,oe);return f[0]=ee*u/_e,f[1]=ae*u/_e,f[2]=oe*u/_e,!1}{const X=(-F-Math.sqrt(W))/(2*L);if(X<0){const ee=Math.hypot(S,P,I);return f[0]=S*u/ee,f[1]=P*u/ee,f[2]=I*u/ee,!1}return f[0]=S+h*X,f[1]=P+v*X,f[2]=I+_*X,!0}}}class dD{constructor(a,u,f,h,v){this.TL=a,this.TR=u,this.BR=f,this.BL=h,this.horizon=v}static fromInvProjectionMatrix(a,u,f){const h=[-1,1,1],v=[1,1,1],_=[1,-1,1],S=[-1,-1,1],P=o.$.transformMat4(h,h,a),I=o.$.transformMat4(v,v,a),L=o.$.transformMat4(_,_,a),F=o.$.transformMat4(S,S,a);return new dD(P,I,L,F,u/f)}}function Aw(l,a,u){let f=1/0,h=-1/0;const v=[];for(const _ of l){o.$.sub(v,_,a);const S=o.$.dot(v,u);f=Math.min(f,S),h=Math.max(h,S)}return[f,h]}function bZ(l,a){let u=!0;for(let f=0;f<l.planes.length;f++){const h=l.planes[f];let v=0;for(let _=0;_<a.length;_++)v+=o.$.dot(h,a[_])+h[3]>=0;if(v===0)return 0;v!==a.length&&(u=!1)}return u?2:1}function xZ(l,a){for(const u of l.projections){const f=Aw(a,l.points[0],u.axis);if(u.projection[1]<f[0]||u.projection[0]>f[1])return 0}return 1}function wZ(l,a){let u=0;const f=[0,0,0,0];for(let h=0;h<l.length;h++)f[0]=l[h][0],f[1]=l[h][1],f[2]=l[h][2],f[3]=1,o.aB.dot(f,a)>=0&&u++;return u}class fD{constructor(a,u){this.points=a||new Array(8).fill([0,0,0]),this.planes=u||new Array(6).fill([0,0,0,0]),this.bounds=Fi.fromPoints(this.points),this.projections=[],this.frustumEdges=[o.$.sub([],this.points[2],this.points[3]),o.$.sub([],this.points[0],this.points[3]),o.$.sub([],this.points[4],this.points[0]),o.$.sub([],this.points[5],this.points[1]),o.$.sub([],this.points[6],this.points[2]),o.$.sub([],this.points[7],this.points[3])];for(const f of this.frustumEdges){const h=[0,-f[2],f[1]],v=[f[2],0,-f[0]];this.projections.push({axis:h,projection:Aw(this.points,this.points[0],h)}),this.projections.push({axis:v,projection:Aw(this.points,this.points[0],v)})}}static fromInvProjectionMatrix(a,u,f,h){const v=Math.pow(2,f),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(I=>{const L=o.aB.transformMat4([],I,a),F=1/L[3]/u*v;return o.aB.mul(L,L,[F,F,h?1/L[3]:F,F])}),S=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(I=>{const L=o.$.sub([],_[I[0]],_[I[1]]),F=o.$.sub([],_[I[2]],_[I[1]]),W=o.$.normalize([],o.$.cross([],L,F)),X=-o.$.dot(W,_[I[1]]);return W.concat(X)}),P=[];for(let I=0;I<_.length;I++)P.push([_[I][0],_[I][1],_[I][2]]);return new fD(P,S)}intersectsPrecise(a,u,f){for(let h=0;h<u.length;h++)if(!wZ(a,u[h]))return 0;for(let h=0;h<this.planes.length;h++)if(!wZ(a,this.planes[h]))return 0;for(const h of f)for(const v of this.frustumEdges){const _=o.$.cross([],h,v),S=o.$.length(_);if(S===0)continue;o.$.scale(_,_,1/S);const P=Aw(this.points,this.points[0],_),I=Aw(a,this.points[0],_);if(P[0]>I[1]||I[0]>P[1])return 0}return 1}containsPoint(a){for(const u of this.planes){const f=u[3];if(o.$.dot([u[0],u[1],u[2]],a)+f<0)return!1}return!0}}class Fi{static fromPoints(a){const u=[1/0,1/0,1/0],f=[-1/0,-1/0,-1/0];for(const h of a)o.$.min(u,u,h),o.$.max(f,f,h);return new Fi(u,f)}static fromTileIdAndHeight(a,u,f){const h=1<<a.canonical.z,v=a.canonical.x,_=a.canonical.y;return new Fi([v/h,_/h,u],[(v+1)/h,(_+1)/h,f])}static applyTransform(a,u){const f=a.getCorners();for(let h=0;h<f.length;++h)o.$.transformMat4(f[h],f[h],u);return Fi.fromPoints(f)}static applyTransformFast(a,u){const f=[u[12],u[13],u[14]],h=[...f];for(let v=0;v<3;v++)for(let _=0;_<3;_++){const S=u[4*_+v],P=S*a.min[_],I=S*a.max[_];f[v]+=Math.min(P,I),h[v]+=Math.max(P,I)}return new Fi(f,h)}static projectAabbCorners(a,u){const f=a.getCorners();for(let h=0;h<f.length;++h)o.$.transformMat4(f[h],f[h],u);return f}constructor(a,u){this.min=a,this.max=u,this.center=o.$.scale([],o.$.add([],this.min,this.max),.5)}quadrant(a){const u=[a%2==0,a<2],f=o.$.clone(this.min),h=o.$.clone(this.max);for(let v=0;v<u.length;v++)f[v]=u[v]?this.min[v]:this.center[v],h[v]=u[v]?this.center[v]:this.max[v];return h[2]=this.max[2],new Fi(f,h)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}distanceZ(a){return Math.max(Math.min(this.max[2],a[2]),this.min[2])-a[2]}getCorners(){const a=this.min,u=this.max;return[[a[0],a[1],a[2]],[u[0],a[1],a[2]],[u[0],u[1],a[2]],[a[0],u[1],a[2]],[a[0],a[1],u[2]],[u[0],a[1],u[2]],[u[0],u[1],u[2]],[a[0],u[1],u[2]]]}intersects(a){return this.intersectsAabb(a.bounds)?bZ(a,this.getCorners()):0}intersectsFlat(a){return this.intersectsAabb(a.bounds)?bZ(a,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(a,u){return u||this.intersects(a)?xZ(a,this.getCorners()):0}intersectsPreciseFlat(a,u){return u||this.intersectsFlat(a)?xZ(a,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(a){for(let u=0;u<3;++u)if(this.min[u]>a.max[u]||a.min[u]>this.max[u])return!1;return!0}intersectsAabbXY(a){return!(this.min[0]>a.max[0]||a.min[0]>this.max[0]||this.min[1]>a.max[1]||a.min[1]>this.max[1])}encapsulate(a){for(let u=0;u<3;u++)this.min[u]=Math.min(this.min[u],a.min[u]),this.max[u]=Math.max(this.max[u],a.max[u])}encapsulatePoint(a){for(let u=0;u<3;u++)this.min[u]=Math.min(this.min[u],a[u]),this.max[u]=Math.max(this.max[u],a[u])}closestPoint(a){return[Math.max(Math.min(this.max[0],a[0]),this.min[0]),Math.max(Math.min(this.max[1],a[1]),this.min[1]),Math.max(Math.min(this.max[2],a[2]),this.min[2])]}}lt(Fi,"Aabb");const fSe=Xn([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:y7}=fSe,SZ=Xn([{name:"a_pos_3",components:3,type:"Int16"}]);var Tw=Xn([{name:"a_pos",type:"Int16",components:2}]);function v7(l){return l*As/s_}const pSe=[new Fi([Lu,Lu,Lu],[Bu,Bu,Bu]),new Fi([Lu,Lu,Lu],[0,0,Bu]),new Fi([0,Lu,Lu],[Bu,0,Bu]),new Fi([Lu,0,Lu],[0,Bu,Bu]),new Fi([0,0,Lu],[Bu,Bu,Bu])];function EZ(l,a,u,f=!0){const h=o.$.scale([],l._camera.position,l.worldSize),v=[a,u,1,1];o.aB.transformMat4(v,v,l.pixelMatrixInverse),o.aB.scale(v,v,1/v[3]);const _=o.$.sub([],v,h),S=o.$.normalize([],_),P=l.globeMatrix,I=[P[12],P[13],P[14]],L=o.$.sub([],I,h),F=o.$.length(L),W=o.$.normalize([],L),X=l.worldSize/(2*Math.PI),ee=o.$.dot(W,S),ae=Math.asin(X/F);if(ae<Math.acos(ee)){if(!f)return null;const yt=[],Ot=[];o.$.scale(yt,S,F/ee),o.$.normalize(Ot,o.$.sub(Ot,yt,L)),o.$.normalize(S,o.$.add(S,L,o.$.scale(S,Ot,Math.tan(ae)*F)))}const oe=[];new cD(h,S).closestPointOnSphere(I,X,oe);const _e=o.$.normalize([],Id(P,0)),Re=o.$.normalize([],Id(P,1)),De=o.$.normalize([],Id(P,2)),ze=o.$.dot(_e,oe),qe=o.$.dot(Re,oe),Ze=o.$.dot(De,oe),rt=os(Math.asin(-qe/X));let ut=os(Math.atan2(ze,Ze));ut=l.center.lng+function(yt,Ot){const Ht=(Ot-yt+180)%360-180;return Ht<-180?Ht+360:Ht}(l.center.lng,ut);const mt=Ld(ut),St=pn(Bd(rt),0,1);return new Uo(mt,St)}class hSe{constructor(a,u,f){this.a=o.$.sub([],a,f),this.b=o.$.sub([],u,f),this.center=f;const h=o.$.normalize([],this.a),v=o.$.normalize([],this.b);this.angle=Math.acos(o.$.dot(h,v))}}function pD(l,a){if(l.angle===0)return null;let u;return u=l.a[a]===0?1/l.angle*.5*Math.PI:1/l.angle*Math.atan(l.b[a]/l.a[a]/Math.sin(l.angle)-1/Math.tan(l.angle)),u<0||u>1?null:function(f,h,v,_){const S=Math.sin(v);return f*(Math.sin((1-_)*v)/S)+h*(Math.sin(_*v)/S)}(l.a[a],l.b[a],l.angle,pn(u,0,1))+l.center[a]}function zd(l){if(l.z<=1)return pSe[l.z+2*l.y+l.x];const a=hD(_7(l));return Fi.fromPoints(a)}function qf(l,a,u){return o.$.scale(l,l,1-u),o.$.scaleAndAdd(l,l,a,u)}function AZ(l,a){const u=Zf(a.zoom);if(u===0)return zd(l);const f=_7(l),h=hD(f),v=Ld(f.getWest())*a.worldSize,_=Ld(f.getEast())*a.worldSize,S=Bd(f.getNorth())*a.worldSize,P=Bd(f.getSouth())*a.worldSize,I=[v,S,0],L=[_,S,0],F=[v,P,0],W=[_,P,0],X=o.ae.invert([],a.globeMatrix);return o.$.transformMat4(I,I,X),o.$.transformMat4(L,L,X),o.$.transformMat4(F,F,X),o.$.transformMat4(W,W,X),h[0]=qf(h[0],F,u),h[1]=qf(h[1],W,u),h[2]=qf(h[2],L,u),h[3]=qf(h[3],I,u),Fi.fromPoints(h)}function TZ(l,a,u){for(const f of l)o.$.transformMat4(f,f,a),o.$.scale(f,f,u)}function PZ(l,a,u,f){const h=a/l.worldSize,v=l.globeMatrix;if(u.z<=1){const mt=zd(u).getCorners();return TZ(mt,v,h),Fi.fromPoints(mt)}const _=_7(u,f),S=hD(_,As+v7(l._tileCoverLift));TZ(S,v,h);const P=Number.MAX_VALUE,I=[-P,-P,-P],L=[P,P,P];if(_.contains(l.center)){for(const yt of S)o.$.min(L,L,yt),o.$.max(I,I,yt);I[2]=0;const mt=l.point,St=[mt.x*h,mt.y*h,0];return o.$.min(L,L,St),o.$.max(I,I,St),new Fi(L,I)}if(l._tileCoverLift>0){for(const mt of S)o.$.min(L,L,mt),o.$.max(I,I,mt);return new Fi(L,I)}const F=[v[12]*h,v[13]*h,v[14]*h],W=_.getCenter(),X=pn(l.center.lat,-da,da),ee=pn(W.lat,-da,da),ae=Ld(l.center.lng),oe=Bd(X);let _e=ae-Ld(W.lng);const Re=oe-Bd(ee);_e>.5?_e-=1:_e<-.5&&(_e+=1);let De=0;if(Math.abs(_e)>Math.abs(Re))De=_e>=0?1:3;else{De=Re>=0?0:2;const mt=[v[4]*h,v[5]*h,v[6]*h],St=-Math.sin(Sn(Re>=0?_.getSouth():_.getNorth()))*As;o.$.scaleAndAdd(F,F,mt,St)}const ze=S[De],qe=S[(De+1)%4],Ze=new hSe(ze,qe,F),rt=[pD(Ze,0)||ze[0],pD(Ze,1)||ze[1],pD(Ze,2)||ze[2]],ut=Zf(l.zoom);if(ut>0){const mt=function({x:yt,y:Ot,z:Ht},Dt,Jt,Mt,Ft){const er=1/(1<<Ht);let $t=yt*er,ir=$t+er,Qt=Ot*er,qt=Qt+er,Pr=0;const Sr=($t+ir)/2-Mt;return Sr>.5?Pr=-1:Sr<-.5&&(Pr=1),$t=(($t+Pr)*Dt-(Mt*=Dt))*Jt+Mt,ir=((ir+Pr)*Dt-Mt)*Jt+Mt,Qt=(Qt*Dt-(Ft*=Dt))*Jt+Ft,qt=(qt*Dt-Ft)*Jt+Ft,[[$t,qt,0],[ir,qt,0],[ir,Qt,0],[$t,Qt,0]]}(u,a,l._pixelsPerMercatorPixel,ae,oe);for(let yt=0;yt<S.length;yt++)qf(S[yt],mt[yt],ut);const St=o.$.add([],mt[De],mt[(De+1)%4]);o.$.scale(St,St,.5),qf(rt,St,ut)}for(const mt of S)o.$.min(L,L,mt),o.$.max(I,I,mt);return L[2]=Math.min(ze[2],qe[2]),o.$.min(L,L,rt),o.$.max(I,I,rt),new Fi(L,I)}function _7({x:l,y:a,z:u},f=!1){const h=1/(1<<u),v=new Wn(rl(l*h),a===(1<<u)-1&&f?-90:po((a+1)*h)),_=new Wn(rl((l+1)*h),a===0&&f?90:po(a*h));return new om(v,_)}function hD(l,a=As){const u=Sn(l.getNorth()),f=Sn(l.getSouth()),h=Math.cos(u),v=Math.cos(f),_=Math.sin(u),S=Math.sin(f),P=l.getWest(),I=l.getEast();return[o_(v,S,P,a),o_(v,S,I,a),o_(h,_,I,a),o_(h,_,P,a)]}function Pw(l,a,u,f){const h=1<<u.z,v=(l/rr+u.x)/h;return J0(po((a/rr+u.y)/h),rl(v),f)}function b7({min:l,max:a}){return tSe/Math.max(a[0]-l[0],a[1]-l[1],a[2]-l[2])}const CZ=new Float64Array(16);function Cw(l){const a=b7(l),u=o.ae.fromScaling(CZ,[a,a,a]);return o.ae.translate(u,u,o.$.negate([],l.min))}function mD(l){const a=o.ae.fromTranslation(CZ,l.min),u=1/b7(l);return o.ae.scale(a,a,[u,u,u])}function gD(l){const a=rr/(2*Math.PI);return l/(2*Math.PI)/a}function IZ(l,a){return rr/(512*Math.pow(2,l))*b7(zd(a))}function MZ(l,a,u,f,h){const v=gD(u),_=[l,a,-u/(2*Math.PI)],S=o.ae.identity(new Float64Array(16));return o.ae.translate(S,S,_),o.ae.scale(S,S,[v,v,v]),o.ae.rotateX(S,S,Sn(-h)),o.ae.rotateY(S,S,Sn(-f)),S}function Zf(l){return D3(JO,iZ,l)}function kZ(l,a){const u=J0(a.lat,a.lng),f=function(v){const _=J0(v._center.lat,v._center.lng),S=o.$.fromValues(0,1,0);let P=o.$.cross([],S,_);const I=o.ae.fromRotation([],-v.angle,_);P=o.$.transformMat4(P,P,I),o.ae.fromRotation(I,-v._pitch,P);const L=o.$.normalize([],_);return o.$.scale(L,L,v7(v.cameraToCenterDistance/v.pixelsPerMeter)),o.$.transformMat4(L,L,I),o.$.add([],_,L)}(l),h=o.$.subtract([],f,u);return o.$.angle(h,u)}function yD(l,a){return kZ(l,a)>Math.PI/2*1.01}const OZ=Sn(85),mSe=Math.cos(OZ),gSe=Math.sin(OZ),ySe=o.ae.create(),DZ=l=>{const a=[];return l.paint.get("circle-pitch-alignment")==="map"&&a.push("PITCH_WITH_MAP"),l.paint.get("circle-pitch-scale")==="map"&&a.push("SCALE_WITH_MAP"),a};function RZ(l,a,u,f,h,v,_,S,P){if(v&&l.queryGeometry.isAboveHorizon)return!1;v&&(P*=l.pixelToTileUnitsFactor);const I=l.tileID.canonical,L=u.projection.upVectorScale(I,u.center.lat,u.worldSize).metersToTile;for(const F of a)for(const W of F){const X=W.add(S),ee=h&&u.elevation?u.elevation.exaggeration()*h.getElevationAt(X.x,X.y,!0):0,ae=u.projection.projectTilePoint(X.x,X.y,I);if(ee>0){const De=u.projection.upVector(I,X.x,X.y);ae.x+=De[0]*L*ee,ae.y+=De[1]*L*ee,ae.z+=De[2]*L*ee}const oe=v?X:vSe(ae.x,ae.y,ae.z,f),_e=v?l.tilespaceRays.map(De=>bSe(De,ee)):l.queryGeometry.screenGeometry,Re=o.aB.transformMat4([],[ae.x,ae.y,ae.z,1],f);if(!_&&v?P*=Re[3]/u.cameraToCenterDistance:_&&!v&&(P*=u.cameraToCenterDistance/Re[3]),v){const De=po((W.y/rr+I.y)/(1<<I.z));P/=u.projection.pixelsPerMeter(De,1)/Ts(1,De)}if(lSe(_e,oe,P))return!0}return!1}function vSe(l,a,u,f){const h=o.aB.transformMat4([],[l,a,u,1],f);return new or(h[0]/h[3],h[1]/h[3])}const $Z=o.$.fromValues(0,0,0),_Se=o.$.fromValues(0,0,1);function bSe(l,a){const u=o.$.create();return $Z[2]=a,l.intersectsPlane($Z,_Se,u),new or(u[0],u[1])}class LZ extends aD{}function BZ(l,{width:a,height:u},f,h){if(h){if(h instanceof Uint8ClampedArray)h=new Uint8Array(h.buffer);else if(h.length!==a*u*f)throw new RangeError("mismatched image size")}else h=new Uint8Array(a*u*f);return l.width=a,l.height=u,l.data=h,l}function zZ(l,a,u){const{width:f,height:h}=a;f===l.width&&h===l.height||(vD(l,a,{x:0,y:0},{x:0,y:0},{width:Math.min(l.width,f),height:Math.min(l.height,h)},u,null),l.width=f,l.height=h,l.data=a.data)}function vD(l,a,u,f,h,v,_,S){if(h.width===0||h.height===0)return a;if(h.width>l.width||h.height>l.height||u.x>l.width-h.width||u.y>l.height-h.height)throw new RangeError("out of range source coordinates for image copy");if(h.width>a.width||h.height>a.height||f.x>a.width-h.width||f.y>a.height-h.height)throw new RangeError("out of range destination coordinates for image copy");const P=l.data,I=a.data,L=v===4&&S;for(let F=0;F<h.height;F++){const W=((u.y+F)*l.width+u.x)*v,X=((f.y+F)*a.width+f.x)*v;if(L)for(let ee=0;ee<h.width;ee++){const ae=W+ee*v+3,oe=X+ee*v;I[oe+0]=255,I[oe+1]=255,I[oe+2]=255,I[oe+3]=P[ae]}else if(_)for(let ee=0;ee<h.width;ee++){const ae=W+ee*v,oe=X+ee*v,_e=P[ae+3],Re=new Hn(P[ae+0]/255*_e,P[ae+1]/255*_e,P[ae+2]/255*_e,_e).toRenderColor(_).toArray();I[oe+0]=Re[0],I[oe+1]=Re[1],I[oe+2]=Re[2],I[oe+3]=Re[3]}else for(let ee=0;ee<h.width*v;ee++)I[X+ee]=P[W+ee]}return a}lt(LZ,"HeatmapBucket",{omit:["layers"]});class lm{constructor(a,u){BZ(this,a,1,u)}resize(a){zZ(this,new lm(a),1)}clone(){return new lm({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,u,f,h,v){vD(a,u,f,h,v,1,null)}}class Ql{constructor(a,u){BZ(this,a,4,u)}resize(a){zZ(this,new Ql(a),4)}replace(a,u){u?this.data.set(a):this.data=a instanceof Uint8ClampedArray?new Uint8Array(a.buffer):a}clone(){return new Ql({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,u,f,h,v,_,S){vD(a,u,f,h,v,4,_,S)}}class NZ{constructor(a,u){this.width=a.width,this.height=a.height,this.data=u instanceof Uint8Array?new Float32Array(u.buffer):u}}let FZ,jZ,VZ,UZ;function Iw(l){const a={},u=l.resolution||256,f=l.clips?l.clips.length:1,h=l.image||new Ql({width:u,height:f}),v=(_,S,P)=>{a[l.evaluationKey]=P;const I=l.expression.evaluate(a);I&&(h.data[_+S+0]=Math.floor(255*I.r/I.a),h.data[_+S+1]=Math.floor(255*I.g/I.a),h.data[_+S+2]=Math.floor(255*I.b/I.a),h.data[_+S+3]=Math.floor(255*I.a))};if(l.clips)for(let _=0,S=0;_<f;++_,S+=4*u)for(let P=0,I=0;P<u;P++,I+=4){const L=P/(u-1),{start:F,end:W}=l.clips[_];v(S,I,F*(1-L)+W*L)}else for(let _=0,S=0;_<u;_++,S+=4)v(0,S,_/(u-1));return h}lt(lm,"AlphaImage"),lt(Ql,"RGBAImage");const xSe=Xn([{name:"a_pos",components:2,type:"Int16"}],4),{members:wSe}=xSe;function Mw(l,a,u=2){const f=a&&a.length,h=f?a[0]*u:l.length;let v=WZ(l,0,h,u,!0);const _=[];if(!v||v.next===v.prev)return _;let S,P,I;if(f&&(v=function(L,F,W,X){const ee=[];for(let ae=0,oe=F.length;ae<oe;ae++){const _e=WZ(L,F[ae]*X,ae<oe-1?F[ae+1]*X:L.length,X,!1);_e===_e.next&&(_e.steiner=!0),ee.push(MSe(_e))}ee.sort(PSe);for(let ae=0;ae<ee.length;ae++)W=CSe(ee[ae],W);return W}(l,a,v,u)),l.length>80*u){S=1/0,P=1/0;let L=-1/0,F=-1/0;for(let W=u;W<h;W+=u){const X=l[W],ee=l[W+1];X<S&&(S=X),ee<P&&(P=ee),X>L&&(L=X),ee>F&&(F=ee)}I=Math.max(L-S,F-P),I=I!==0?32767/I:0}return kw(v,_,u,S,P,I,0),_}function WZ(l,a,u,f,h){let v;if(h===function(_,S,P,I){let L=0;for(let F=S,W=P-I;F<P;F+=I)L+=(_[W]-_[F])*(_[F+1]+_[W+1]),W=F;return L}(l,a,u,f)>0)for(let _=a;_<u;_+=f)v=GZ(_/f|0,l[_],l[_+1],v);else for(let _=u-f;_>=a;_-=f)v=GZ(_/f|0,l[_],l[_+1],v);return v&&x7(v,v.next)&&(Dw(v),v=v.next),v}function tg(l,a){if(!l)return l;a||(a=l);let u,f=l;do if(u=!1,f.steiner||!x7(f,f.next)&&Na(f.prev,f,f.next)!==0)f=f.next;else{if(Dw(f),f=a=f.prev,f===f.next)break;u=!0}while(u||f!==a);return a}function kw(l,a,u,f,h,v,_){if(!l)return;!_&&v&&function(P,I,L,F){let W=P;do W.z===0&&(W.z=_D(W.x,W.y,I,L,F)),W.prevZ=W.prev,W.nextZ=W.next,W=W.next;while(W!==P);W.prevZ.nextZ=null,W.prevZ=null,function(X){let ee,ae=1;do{let oe,_e=X;X=null;let Re=null;for(ee=0;_e;){ee++;let De=_e,ze=0;for(let Ze=0;Ze<ae&&(ze++,De=De.nextZ,De);Ze++);let qe=ae;for(;ze>0||qe>0&&De;)ze!==0&&(qe===0||!De||_e.z<=De.z)?(oe=_e,_e=_e.nextZ,ze--):(oe=De,De=De.nextZ,qe--),Re?Re.nextZ=oe:X=oe,oe.prevZ=Re,Re=oe;_e=De}Re.nextZ=null,ae*=2}while(ee>1)}(W)}(l,f,h,v);let S=l;for(;l.prev!==l.next;){const P=l.prev,I=l.next;if(v?ESe(l,f,h,v):SSe(l))a.push(P.i,l.i,I.i),Dw(l),l=I.next,S=I.next;else if((l=I)===S){_?_===1?kw(l=ASe(tg(l),a),a,u,f,h,v,2):_===2&&TSe(l,a,u,f,h,v):kw(tg(l),a,u,f,h,v,1);break}}}function SSe(l){const a=l.prev,u=l,f=l.next;if(Na(a,u,f)>=0)return!1;const h=a.x,v=u.x,_=f.x,S=a.y,P=u.y,I=f.y,L=h<v?h<_?h:_:v<_?v:_,F=S<P?S<I?S:I:P<I?P:I,W=h>v?h>_?h:_:v>_?v:_,X=S>P?S>I?S:I:P>I?P:I;let ee=f.next;for(;ee!==a;){if(ee.x>=L&&ee.x<=W&&ee.y>=F&&ee.y<=X&&d_(h,S,v,P,_,I,ee.x,ee.y)&&Na(ee.prev,ee,ee.next)>=0)return!1;ee=ee.next}return!0}function ESe(l,a,u,f){const h=l.prev,v=l,_=l.next;if(Na(h,v,_)>=0)return!1;const S=h.x,P=v.x,I=_.x,L=h.y,F=v.y,W=_.y,X=S<P?S<I?S:I:P<I?P:I,ee=L<F?L<W?L:W:F<W?F:W,ae=S>P?S>I?S:I:P>I?P:I,oe=L>F?L>W?L:W:F>W?F:W,_e=_D(X,ee,a,u,f),Re=_D(ae,oe,a,u,f);let De=l.prevZ,ze=l.nextZ;for(;De&&De.z>=_e&&ze&&ze.z<=Re;){if(De.x>=X&&De.x<=ae&&De.y>=ee&&De.y<=oe&&De!==h&&De!==_&&d_(S,L,P,F,I,W,De.x,De.y)&&Na(De.prev,De,De.next)>=0||(De=De.prevZ,ze.x>=X&&ze.x<=ae&&ze.y>=ee&&ze.y<=oe&&ze!==h&&ze!==_&&d_(S,L,P,F,I,W,ze.x,ze.y)&&Na(ze.prev,ze,ze.next)>=0))return!1;ze=ze.nextZ}for(;De&&De.z>=_e;){if(De.x>=X&&De.x<=ae&&De.y>=ee&&De.y<=oe&&De!==h&&De!==_&&d_(S,L,P,F,I,W,De.x,De.y)&&Na(De.prev,De,De.next)>=0)return!1;De=De.prevZ}for(;ze&&ze.z<=Re;){if(ze.x>=X&&ze.x<=ae&&ze.y>=ee&&ze.y<=oe&&ze!==h&&ze!==_&&d_(S,L,P,F,I,W,ze.x,ze.y)&&Na(ze.prev,ze,ze.next)>=0)return!1;ze=ze.nextZ}return!0}function ASe(l,a){let u=l;do{const f=u.prev,h=u.next.next;!x7(f,h)&&KZ(f,u,u.next,h)&&Ow(f,h)&&Ow(h,f)&&(a.push(f.i,u.i,h.i),Dw(u),Dw(u.next),u=l=h),u=u.next}while(u!==l);return tg(u)}function TSe(l,a,u,f,h,v){let _=l;do{let S=_.next.next;for(;S!==_.prev;){if(_.i!==S.i&&kSe(_,S)){let P=HZ(_,S);return _=tg(_,_.next),P=tg(P,P.next),kw(_,a,u,f,h,v,0),void kw(P,a,u,f,h,v,0)}S=S.next}_=_.next}while(_!==l)}function PSe(l,a){return l.x-a.x}function CSe(l,a){const u=function(h,v){let _=v;const S=h.x,P=h.y;let I,L=-1/0;do{if(P<=_.y&&P>=_.next.y&&_.next.y!==_.y){const ae=_.x+(P-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(ae<=S&&ae>L&&(L=ae,I=_.x<_.next.x?_:_.next,ae===S))return I}_=_.next}while(_!==v);if(!I)return null;const F=I,W=I.x,X=I.y;let ee=1/0;_=I;do{if(S>=_.x&&_.x>=W&&S!==_.x&&d_(P<X?S:L,P,W,X,P<X?L:S,P,_.x,_.y)){const ae=Math.abs(P-_.y)/(S-_.x);Ow(_,h)&&(ae<ee||ae===ee&&(_.x>I.x||_.x===I.x&&ISe(I,_)))&&(I=_,ee=ae)}_=_.next}while(_!==F);return I}(l,a);if(!u)return a;const f=HZ(u,l);return tg(f,f.next),tg(u,u.next)}function ISe(l,a){return Na(l.prev,l,a.prev)<0&&Na(a.next,l,l.next)<0}function _D(l,a,u,f,h){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-u)*h|0)|l<<8))|l<<4))|l<<2))|l<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-f)*h|0)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function MSe(l){let a=l,u=l;do(a.x<u.x||a.x===u.x&&a.y<u.y)&&(u=a),a=a.next;while(a!==l);return u}function d_(l,a,u,f,h,v,_,S){return(h-_)*(a-S)>=(l-_)*(v-S)&&(l-_)*(f-S)>=(u-_)*(a-S)&&(u-_)*(v-S)>=(h-_)*(f-S)}function kSe(l,a){return l.next.i!==a.i&&l.prev.i!==a.i&&!function(u,f){let h=u;do{if(h.i!==u.i&&h.next.i!==u.i&&h.i!==f.i&&h.next.i!==f.i&&KZ(h,h.next,u,f))return!0;h=h.next}while(h!==u);return!1}(l,a)&&(Ow(l,a)&&Ow(a,l)&&function(u,f){let h=u,v=!1;const _=(u.x+f.x)/2,S=(u.y+f.y)/2;do h.y>S!=h.next.y>S&&h.next.y!==h.y&&_<(h.next.x-h.x)*(S-h.y)/(h.next.y-h.y)+h.x&&(v=!v),h=h.next;while(h!==u);return v}(l,a)&&(Na(l.prev,l,a.prev)||Na(l,a.prev,a))||x7(l,a)&&Na(l.prev,l,l.next)>0&&Na(a.prev,a,a.next)>0)}function Na(l,a,u){return(a.y-l.y)*(u.x-a.x)-(a.x-l.x)*(u.y-a.y)}function x7(l,a){return l.x===a.x&&l.y===a.y}function KZ(l,a,u,f){const h=S7(Na(l,a,u)),v=S7(Na(l,a,f)),_=S7(Na(u,f,l)),S=S7(Na(u,f,a));return h!==v&&_!==S||!(h!==0||!w7(l,u,a))||!(v!==0||!w7(l,f,a))||!(_!==0||!w7(u,l,f))||!(S!==0||!w7(u,a,f))}function w7(l,a,u){return a.x<=Math.max(l.x,u.x)&&a.x>=Math.min(l.x,u.x)&&a.y<=Math.max(l.y,u.y)&&a.y>=Math.min(l.y,u.y)}function S7(l){return l>0?1:l<0?-1:0}function Ow(l,a){return Na(l.prev,l,l.next)<0?Na(l,a,l.next)>=0&&Na(l,l.prev,a)>=0:Na(l,a,l.prev)<0||Na(l,l.next,a)<0}function HZ(l,a){const u=bD(l.i,l.x,l.y),f=bD(a.i,a.x,a.y),h=l.next,v=a.prev;return l.next=a,a.prev=l,u.next=h,h.prev=u,f.next=u,u.prev=f,v.next=f,f.prev=v,f}function GZ(l,a,u,f){const h=bD(l,a,u);return f?(h.next=f.next,h.prev=f,f.next.prev=h,f.next=h):(h.prev=h,h.next=h),h}function Dw(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function bD(l,a,u){return{i:l,x:a,y:u,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function E7(l,a){const u=l.length;if(u<=1)return[l];const f=[];let h,v;for(let _=0;_<u;_++){const S=nO(l[_]);S!==0&&(l[_].area=Math.abs(S),v===void 0&&(v=S<0),v===S<0?(h&&f.push(h),h=[l[_]]):h.push(l[_]))}if(h&&f.push(h),a>1)for(let _=0;_<f.length;_++)f[_].length<=a||(Gn(f[_],a,1,f[_].length-1,OSe),f[_]=f[_].slice(0,a));return f}function OSe(l,a){return a.area-l.area}function xD(l,a,u){const f=u.patternDependencies;let h=!1;for(const v of a){const _=v.paint.get(`${l}-pattern`);_.isConstant()||(h=!0);const S=_.constantOr(null);S&&(h=!0,f[S]=!0)}return h}function wD(l,a,u,f,h){const v=h.patternDependencies;for(const _ of a){const S=_.paint.get(`${l}-pattern`).value;if(S.kind!=="constant"){let P=S.evaluate({zoom:f},u,{},h.availableImages);P=P&&P.name?P.name:P,v[P]=!0,u.patterns[_.id]=P}}return u}class A7{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(u=>u.fqid),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Dc,this.indexArray=new ro,this.indexArray2=new nm,this.programConfigurations=new am(a.layers,{zoom:a.zoom,lut:a.lut}),this.segments=new Ki,this.segments2=new Ki,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id),this.projection=a.projection}updateFootprints(a,u){}populate(a,u,f,h){this.hasPattern=xD("fill",this.layers,u);const v=this.layers[0].layout.get("fill-sort-key"),_=[];for(const{feature:S,id:P,index:I,sourceLayerIndex:L}of a){const F=this.layers[0]._featureFilter.needGeometry,W=Gf(S,F);if(!this.layers[0]._featureFilter.filter(new Wr(this.zoom),W,f))continue;const X=v?v.evaluate(W,{},f,u.availableImages):void 0,ee={id:P,properties:S.properties,type:S.type,sourceLayerIndex:L,index:I,geometry:F?W.geometry:$c(S,f,h),patterns:{},sortKey:X};_.push(ee)}v&&_.sort((S,P)=>S.sortKey-P.sortKey);for(const S of _){const{geometry:P,index:I,sourceLayerIndex:L}=S;if(this.hasPattern){const F=wD("fill",this.layers,S,this.zoom,u);this.patternFeatures.push(F)}else this.addFeature(S,P,I,f,{},u.availableImages,u.brightness);u.featureIndex.insert(a[I].feature,P,I,L,this.index)}}update(a,u,f,h,v){const _=Object.keys(a).length!==0;_&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(a,u,_?this.stateDependentLayers:this.layers,f,h,v)}addFeatures(a,u,f,h,v,_){for(const S of this.patternFeatures)this.addFeature(S,S.geometry,S.index,u,f,h,_)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,wSe),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.indexBuffer2=a.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(a,u,f,h,v,_=[],S){for(const P of E7(u,500)){let I=0;for(const ae of P)I+=ae.length;const L=this.segments.prepareSegment(I,this.layoutVertexArray,this.indexArray),F=L.vertexLength,W=[],X=[];for(const ae of P){if(ae.length===0)continue;ae!==P[0]&&X.push(W.length/2);const oe=this.segments2.prepareSegment(ae.length,this.layoutVertexArray,this.indexArray2),_e=oe.vertexLength;this.layoutVertexArray.emplaceBack(ae[0].x,ae[0].y),this.indexArray2.emplaceBack(_e+ae.length-1,_e),W.push(ae[0].x),W.push(ae[0].y);for(let Re=1;Re<ae.length;Re++)this.layoutVertexArray.emplaceBack(ae[Re].x,ae[Re].y),this.indexArray2.emplaceBack(_e+Re-1,_e+Re),W.push(ae[Re].x),W.push(ae[Re].y);oe.vertexLength+=ae.length,oe.primitiveLength+=ae.length}const ee=Mw(W,X);for(let ae=0;ae<ee.length;ae+=3)this.indexArray.emplaceBack(F+ee[ae],F+ee[ae+1],F+ee[ae+2]);L.vertexLength+=I,L.primitiveLength+=ee.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,f,v,_,h,S)}}let qZ,ZZ,XZ,YZ;lt(A7,"FillBucket",{omit:["layers","patternFeatures"]});class SD{constructor(a,u,f,h){if(this.triangleCount=u.length/3,this.min=new or(0,0),this.max=new or(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],this.triangleCount===0||a.length===0)return;const[v,_]=[a[0].clone(),a[0].clone()];for(let F=1;F<a.length;++F){const W=a[F];v.x=Math.min(v.x,W.x),v.y=Math.min(v.y,W.y),_.x=Math.max(_.x,W.x),_.y=Math.max(_.y,W.y)}if(h){const F=Math.ceil(Math.max(_.x-v.x,_.y-v.y)/h);f=Math.max(f,F)}if(f===0)return;this.min=v,this.max=_;const S=this.max.sub(this.min);S.x=Math.max(S.x,1),S.y=Math.max(S.y,1);const P=Math.max(S.x,S.y)/f;this.cellsX=Math.max(1,Math.ceil(S.x/P)),this.cellsY=Math.max(1,Math.ceil(S.y/P)),this.xScale=1/P,this.yScale=1/P;const I=[];for(let F=0;F<this.triangleCount;F++){const W=a[u[3*F+0]].sub(this.min),X=a[u[3*F+1]].sub(this.min),ee=a[u[3*F+2]].sub(this.min),ae=Nd(Math.floor(Math.min(W.x,X.x,ee.x)),this.xScale,this.cellsX),oe=Nd(Math.floor(Math.max(W.x,X.x,ee.x)),this.xScale,this.cellsX),_e=Nd(Math.floor(Math.min(W.y,X.y,ee.y)),this.yScale,this.cellsY),Re=Nd(Math.floor(Math.max(W.y,X.y,ee.y)),this.yScale,this.cellsY),De=new or(0,0),ze=new or(0,0),qe=new or(0,0),Ze=new or(0,0);for(let rt=_e;rt<=Re;++rt){De.y=ze.y=rt*P,qe.y=Ze.y=(rt+1)*P;for(let ut=ae;ut<=oe;++ut)De.x=qe.x=ut*P,ze.x=Ze.x=(ut+1)*P,(uD(W,X,ee,De,ze,Ze)||uD(W,X,ee,De,Ze,qe))&&I.push({cellIdx:rt*this.cellsX+ut,triIdx:F})}}if(I.length===0)return;I.sort((F,W)=>F.cellIdx-W.cellIdx||F.triIdx-W.triIdx);let L=0;for(;L<I.length;){const F=I[L].cellIdx,W={start:this.payload.length,len:0};for(;L<I.length&&I[L].cellIdx===F;)++W.len,this.payload.push(I[L++].triIdx);this.cells[F]=W}}_lazyInitLookup(){this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8))),this.lookup.fill(0)}queryPoint(a,u){if(this.triangleCount===0||this.cells.length===0||a.x>this.max.x||this.min.x>a.x||a.y>this.max.y||this.min.y>a.y)return;const f=Nd(a.x-this.min.x,this.xScale,this.cellsX),h=Nd(a.y-this.min.y,this.yScale,this.cellsY),v=this.cells[h*this.cellsX+f];if(v){this._lazyInitLookup();for(let _=0;_<v.len;_++){const S=this.payload[v.start+_],P=Math.floor(S/8),I=1<<S%8;if(!(this.lookup[P]&I)&&(this.lookup[P]|=I,u.push(S),u.length===this.triangleCount))return}}}query(a,u,f){if(this.triangleCount===0||this.cells.length===0||a.x>this.max.x||this.min.x>u.x||a.y>this.max.y||this.min.y>u.y)return;this._lazyInitLookup();const h=Nd(a.x-this.min.x,this.xScale,this.cellsX),v=Nd(u.x-this.min.x,this.xScale,this.cellsX),_=Nd(a.y-this.min.y,this.yScale,this.cellsY),S=Nd(u.y-this.min.y,this.yScale,this.cellsY);for(let P=_;P<=S;P++)for(let I=h;I<=v;I++){const L=this.cells[P*this.cellsX+I];if(L)for(let F=0;F<L.len;F++){const W=this.payload[L.start+F],X=Math.floor(W/8),ee=1<<W%8;if(!(this.lookup[X]&ee)&&(this.lookup[X]|=ee,f.push(W),f.length===this.triangleCount))return}}}}function Nd(l,a,u){return Math.max(0,Math.min(u-1,Math.floor(l*a)))}lt(SD,"TriangleGridIndex");class JZ{constructor(a){this.zoom=a.zoom,this.layers=a.layers,this.layerIds=this.layers.map(u=>u.fqid),this.index=a.index,this.hasPattern=!1,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id),this.footprints=[]}updateFootprints(a,u){for(const f of this.footprints)u.push({footprint:f,id:a})}populate(a,u,f,h){const v=[];for(const{feature:_,id:S,index:P,sourceLayerIndex:I}of a){const L=this.layers[0]._featureFilter.needGeometry,F=Gf(_,L);if(!this.layers[0]._featureFilter.filter(new Wr(this.zoom),F,f))continue;const W={id:S,properties:_.properties,type:_.type,sourceLayerIndex:I,index:P,geometry:L?F.geometry:$c(_,f,h),patterns:{}};v.push(W)}for(const _ of v){const{geometry:S,index:P,sourceLayerIndex:I}=_;this.addFeature(_,S,P,f,{},u.availableImages,u.brightness),u.featureIndex.insert(a[P].feature,S,P,I,this.index)}}isEmpty(){return this.footprints.length===0}uploadPending(){return!1}upload(a){}update(a,u,f,h,v){}destroy(){}addFeature(a,u,f,h,v,_=[],S){for(const P of E7(u,2)){const I=[],L=[],F=[],W=new or(1/0,1/0),X=new or(-1/0,-1/0);for(const oe of P)if(oe.length!==0){oe!==P[0]&&F.push(L.length/2);for(let _e=0;_e<oe.length;_e++)L.push(oe[_e].x),L.push(oe[_e].y),I.push(oe[_e]),W.x=Math.min(W.x,oe[_e].x),W.y=Math.min(W.y,oe[_e].y),X.x=Math.max(X.x,oe[_e].x),X.y=Math.max(X.y,oe[_e].y)}const ee=Mw(L,F),ae=new SD(I,ee,8,256);this.footprints.push({vertices:I,indices:ee,grid:ae,min:W,max:X})}}}lt(JZ,"ClipBucket",{omit:["layers"]});const DSe=Xn([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),RSe=Xn([{name:"a_pos_end",components:4,type:"Int16"},{name:"a_angular_offset_factor",components:1,type:"Int16"}]),$Se=Xn([{name:"a_centroid_pos",components:2,type:"Uint16"}]),LSe=Xn([{name:"a_join_normal_inside_polygon",components:4,type:"Int16"}]),BSe=Xn([{name:"a_hidden_by_landmark",components:1,type:"Uint8"}]),zSe=Xn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:NSe}=DSe;var T7={},FSe=u0,QZ=f_;function f_(l,a,u,f,h){this.properties={},this.extent=u,this.type=0,this._pbf=l,this._geometry=-1,this._keys=f,this._values=h,l.readFields(jSe,this,a)}function jSe(l,a,u){l==1?a.id=u.readVarint():l==2?function(f,h){for(var v=f.readVarint()+f.pos;f.pos<v;){var _=h._keys[f.readVarint()],S=h._values[f.readVarint()];h.properties[_]=S}}(u,a):l==3?a.type=u.readVarint():l==4&&(a._geometry=u.pos)}function VSe(l){for(var a,u,f=0,h=0,v=l.length,_=v-1;h<v;_=h++)f+=((u=l[_]).x-(a=l[h]).x)*(a.y+u.y);return f}f_.types=["Unknown","Point","LineString","Polygon"],f_.prototype.loadGeometry=function(){var l=this._pbf;l.pos=this._geometry;for(var a,u=l.readVarint()+l.pos,f=1,h=0,v=0,_=0,S=[];l.pos<u;){if(h<=0){var P=l.readVarint();f=7&P,h=P>>3}if(h--,f===1||f===2)v+=l.readSVarint(),_+=l.readSVarint(),f===1&&(a&&S.push(a),a=[]),a.push(new FSe(v,_));else{if(f!==7)throw new Error("unknown command "+f);a&&a.push(a[0].clone())}}return a&&S.push(a),S},f_.prototype.bbox=function(){var l=this._pbf;l.pos=this._geometry;for(var a=l.readVarint()+l.pos,u=1,f=0,h=0,v=0,_=1/0,S=-1/0,P=1/0,I=-1/0;l.pos<a;){if(f<=0){var L=l.readVarint();u=7&L,f=L>>3}if(f--,u===1||u===2)(h+=l.readSVarint())<_&&(_=h),h>S&&(S=h),(v+=l.readSVarint())<P&&(P=v),v>I&&(I=v);else if(u!==7)throw new Error("unknown command "+u)}return[_,P,S,I]},f_.prototype.toGeoJSON=function(l,a,u){var f,h,v=this.extent*Math.pow(2,u),_=this.extent*l,S=this.extent*a,P=this.loadGeometry(),I=f_.types[this.type];function L(X){for(var ee=0;ee<X.length;ee++){var ae=X[ee];X[ee]=[360*(ae.x+_)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(ae.y+S)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var F=[];for(f=0;f<P.length;f++)F[f]=P[f][0];L(P=F);break;case 2:for(f=0;f<P.length;f++)L(P[f]);break;case 3:for(P=function(X){var ee=X.length;if(ee<=1)return[X];for(var ae,oe,_e=[],Re=0;Re<ee;Re++){var De=VSe(X[Re]);De!==0&&(oe===void 0&&(oe=De<0),oe===De<0?(ae&&_e.push(ae),ae=[X[Re]]):ae.push(X[Re]))}return ae&&_e.push(ae),_e}(P),f=0;f<P.length;f++)for(h=0;h<P[f].length;h++)L(P[f][h])}P.length===1?P=P[0]:I="Multi"+I;var W={type:"Feature",geometry:{type:I,coordinates:P},properties:this.properties};return"id"in this&&(W.id=this.id),W};var USe=QZ,eX=tX;function tX(l,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(WSe,this,a),this.length=this._features.length}function WSe(l,a,u){l===15?a.version=u.readVarint():l===1?a.name=u.readString():l===5?a.extent=u.readVarint():l===2?a._features.push(u.pos):l===3?a._keys.push(u.readString()):l===4&&a._values.push(function(f){for(var h=null,v=f.readVarint()+f.pos;f.pos<v;){var _=f.readVarint()>>3;h=_===1?f.readString():_===2?f.readFloat():_===3?f.readDouble():_===4?f.readVarint64():_===5?f.readVarint():_===6?f.readSVarint():_===7?f.readBoolean():null}return h}(u))}tX.prototype.feature=function(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];var a=this._pbf.readVarint()+this._pbf.pos;return new USe(this._pbf,a,this.extent,this._keys,this._values)};var KSe=eX;function HSe(l,a,u){if(l===3){var f=new KSe(u,u.readVarint()+u.pos);f.length&&(a[f.name]=f)}}var ED=T7.VectorTile=function(l,a){this.layers=l.readFields(HSe,{},a)},P7=T7.VectorTileFeature=QZ;T7.VectorTileLayer=eX;class rg extends or{constructor(a,u,f){super(a,u),this.z=f}}class rX extends rg{constructor(a,u,f,h){super(a,u,f),this.w=h}}function C7(l,a,u,f){const h=[],v=f===0?(_,S,P,I,L,F)=>{_.push(new or(F,P+(F-S)/(I-S)*(L-P)))}:(_,S,P,I,L,F)=>{_.push(new or(S+(F-P)/(L-P)*(I-S),F))};for(const _ of l){const S=[];for(const P of _){if(P.length<=2)continue;const I=[];for(let W=0;W<P.length-1;W++){const X=P[W].x,ee=P[W].y,ae=P[W+1].x,oe=P[W+1].y,_e=f===0?X:ee,Re=f===0?ae:oe;_e<a?Re>a&&v(I,X,ee,ae,oe,a):_e>u?Re<u&&v(I,X,ee,ae,oe,u):I.push(P[W]),Re<a&&_e>=a&&v(I,X,ee,ae,oe,a),Re>u&&_e<=u&&v(I,X,ee,ae,oe,u)}let L=P[P.length-1];const F=f===0?L.x:L.y;F>=a&&F<=u&&I.push(L),I.length&&(L=I[I.length-1],I[0].x===L.x&&I[0].y===L.y||I.push(I[0]),S.push(I))}S.length&&h.push(S)}return h}function nX(l,a,u,f){const h=u==="x"?"y":"x",v=(f-l[u])/(a[u]-l[u]);l[h]=l[h]+(a[h]-l[h])*v,l[u]=f,l.hasOwnProperty("z")&&(l.z=Rr(l.z,a.z,v)),l.hasOwnProperty("w")&&(l.w=Rr(l.w,a.w,v))}function iX(l,a,u,f){const h=u,v=f;for(const _ of["x","y"]){let S=l,P=a;S[_]>=P[_]&&(S=a,P=l),S[_]<h&&P[_]>h&&nX(S,P,_,h),S[_]<v&&P[_]>v&&nX(P,S,_,v)}}const I7=Number.MAX_SAFE_INTEGER;function aX(l,a,u,f){return l.order<a||l.order===I7||!(l.clipMask&u)||function(h,v){return v.length!==0&&v.find(_=>_===h)===void 0}(f,l.clipScope)}function M7(l,a){return l.x-a.x||l.y-a.y}function oX(l,a){return M7(l.min,a.min)===0&&M7(l.max,a.max)===0}function AD(l,a){return!(l.min.x>a.max.x||l.max.x<a.min.x||l.min.y>a.max.y||l.max.y<a.min.y)}function TD(l,a){if(l.length!==a.length)return!1;for(let u=0;u<l.length;u++)if(l[u].sourceId!==a[u].sourceId||!oX(l[u],a[u])||l[u].order!==a[u].order||l[u].clipMask!==a[u].clipMask||!Dh(l[u].clipScope,a[u].clipScope))return!1;return!0}function sX(l,a,u){const f=1/rr,h=1/(1<<u.canonical.z),v=(a.x*f+u.canonical.x)*h+u.wrap,_=(a.y*f+u.canonical.y)*h;return{min:new or((l.x*f+u.canonical.x)*h+u.wrap,(l.y*f+u.canonical.y)*h),max:new or(v,_)}}function GSe(l,a,u){const f=1<<u.canonical.z,h=((a.x-u.wrap)*f-u.canonical.x)*rr,v=(a.y*f-u.canonical.y)*rr;return{min:new or(((l.x-u.wrap)*f-u.canonical.x)*rr,(l.y*f-u.canonical.y)*rr),max:new or(h,v)}}function lX(l,a,u,f,h,v,_){const S=l.indices,P=l.vertices,I=[];for(let L=f;L<f+h;L+=3){const F=a[u[L+0]+v],W=a[u[L+1]+v],X=a[u[L+2]+v],ee=Math.min(F.x,W.x,X.x),ae=Math.max(F.x,W.x,X.x),oe=Math.min(F.y,W.y,X.y),_e=Math.max(F.y,W.y,X.y);I.length=0,l.grid.query(new or(ee,oe),new or(ae,_e),I);for(let Re=0;Re<I.length;Re++){const De=I[Re];if(uD(P[S[3*De+0]],P[S[3*De+1]],P[S[3*De+2]],F,W,X,_))return!0}}return!1}function uX(l,a,u,f){if(!l||!u)return!1;let h=l.vertices;if(!a.canonical.equals(f.canonical)||a.wrap!==f.wrap){if(u.vertices.length<l.vertices.length)return uX(u,f,l,a);const v=a.canonical,_=f.canonical,S=Math.pow(2,_.z-v.z);h=l.vertices.map(P=>new or((P.x+v.x*rr)*S-_.x*rr,(P.y+v.y*rr)*S-_.y*rr))}return lX(u,h,l.indices,0,l.indices.length,0,0)}function cX(l,a,u,f){const h=Math.pow(2,f.z-u.z);return new or((l+u.x*rr)*h-f.x*rr,(a+u.y*rr)*h-f.y*rr)}function dX(l,a){const u=[];a.footprint.grid.queryPoint(l,u);const f=a.footprint.indices,h=a.footprint.vertices;for(let v=0;v<u.length;v++){const _=u[v];if(sm([h[f[3*_+0]],h[f[3*_+1]],h[f[3*_+2]]],l))return!0}return!1}class fX{constructor(a){this.size=a,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(a,u){const f=this.toIdx(a,u);return{min:this.minimums[f],max:this.maximums[f]}}isLeaf(a,u){return this.leaves[this.toIdx(a,u)]}toIdx(a,u){return u*this.size+a}}function pX(l,a,u,f){let h=0,v=Number.MAX_VALUE;for(let _=0;_<3;_++)if(Math.abs(f[_])<1e-15){if(u[_]<l[_]||u[_]>a[_])return null}else{const S=1/f[_];let P=(l[_]-u[_])*S,I=(a[_]-u[_])*S;if(P>I){const L=P;P=I,I=L}if(P>h&&(h=P),I<v&&(v=I),h>v)return null}return h}function hX(l,a,u,f,h,v,_,S,P,I,L){const F=f-l,W=h-a,X=v-u,ee=_-l,ae=S-a,oe=P-u,_e=L[1]*oe-L[2]*ae,Re=L[2]*ee-L[0]*oe,De=L[0]*ae-L[1]*ee,ze=F*_e+W*Re+X*De;if(Math.abs(ze)<1e-15)return null;const qe=1/ze,Ze=I[0]-l,rt=I[1]-a,ut=I[2]-u,mt=(Ze*_e+rt*Re+ut*De)*qe;if(mt<0||mt>1)return null;const St=rt*X-ut*W,yt=ut*F-Ze*X,Ot=Ze*W-rt*F,Ht=(L[0]*St+L[1]*yt+L[2]*Ot)*qe;return Ht<0||mt+Ht>1?null:(ee*St+ae*yt+oe*Ot)*qe}function mX(l,a,u){return(l-a)/(u-a)}function gX(l,a,u,f,h,v,_,S,P){const I=1<<u,L=v-f,F=_-h,W=(l+1)/I*L+f,X=(a+0)/I*F+h,ee=(a+1)/I*F+h;S[0]=(l+0)/I*L+f,S[1]=X,P[0]=W,P[1]=ee}class yX{constructor(a){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=a,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const u=function(v){const _=Math.ceil(Math.log2(v.dim/8)),S=[];let P=Math.ceil(Math.pow(2,_));const I=1/P,L=(X,ee,ae,oe,_e)=>{const Re=oe?1:0,De=(X+1)*ae-Re,ze=ee*ae,qe=(ee+1)*ae-Re;_e[0]=X*ae,_e[1]=ze,_e[2]=De,_e[3]=qe};let F=new fX(P);const W=[];for(let X=0;X<P*P;X++){L(X%P,Math.floor(X/P),I,!1,W);const ee=um(W[0],W[1],v),ae=um(W[2],W[1],v),oe=um(W[2],W[3],v),_e=um(W[0],W[3],v);F.minimums.push(Math.min(ee,ae,oe,_e)),F.maximums.push(Math.max(ee,ae,oe,_e)),F.leaves.push(1)}for(S.push(F),P/=2;P>=1;P/=2){const X=S[S.length-1];F=new fX(P);for(let ee=0;ee<P*P;ee++){L(ee%P,Math.floor(ee/P),2,!0,W);const ae=X.getElevation(W[0],W[1]),oe=X.getElevation(W[2],W[1]),_e=X.getElevation(W[2],W[3]),Re=X.getElevation(W[0],W[3]),De=X.isLeaf(W[0],W[1]),ze=X.isLeaf(W[2],W[1]),qe=X.isLeaf(W[2],W[3]),Ze=X.isLeaf(W[0],W[3]),rt=Math.min(ae.min,oe.min,_e.min,Re.min),ut=Math.max(ae.max,oe.max,_e.max,Re.max),mt=De&&ze&&qe&&Ze;F.maximums.push(ut),F.minimums.push(rt),F.leaves.push(ut-rt<=5&&mt?1:0)}S.push(F)}return S}(this.dem),f=u.length-1,h=u[f];this._addNode(h.minimums[0],h.maximums[0],h.leaves[0]),this._construct(u,0,0,f,0)}raycastRoot(a,u,f,h,v,_,S=1){return pX([a,u,-100],[f,h,this.maximums[0]*S],v,_)}raycast(a,u,f,h,v,_,S=1){if(!this.nodeCount)return null;const P=this.raycastRoot(a,u,f,h,v,_,S);if(P==null)return null;const I=[],L=[],F=[],W=[],X=[{idx:0,t:P,nodex:0,nodey:0,depth:0}];for(;X.length>0;){const{idx:ee,t:ae,nodex:oe,nodey:_e,depth:Re}=X.pop();if(this.leaves[ee]){gX(oe,_e,Re,a,u,f,h,F,W);const ze=1<<Re,qe=(oe+0)/ze,Ze=(oe+1)/ze,rt=(_e+0)/ze,ut=(_e+1)/ze,mt=um(qe,rt,this.dem)*S,St=um(Ze,rt,this.dem)*S,yt=um(Ze,ut,this.dem)*S,Ot=um(qe,ut,this.dem)*S,Ht=hX(F[0],F[1],mt,W[0],F[1],St,W[0],W[1],yt,v,_),Dt=hX(W[0],W[1],yt,F[0],W[1],Ot,F[0],F[1],mt,v,_),Jt=Math.min(Ht!==null?Ht:Number.MAX_VALUE,Dt!==null?Dt:Number.MAX_VALUE);if(Jt!==Number.MAX_VALUE)return Jt;{const Mt=o.$.scaleAndAdd([],v,_,ae);if(vX(mt,St,Ot,yt,mX(Mt[0],F[0],W[0]),mX(Mt[1],F[1],W[1]))>=Mt[2])return ae}continue}let De=0;for(let ze=0;ze<this._siblingOffset.length;ze++){gX((oe<<1)+this._siblingOffset[ze][0],(_e<<1)+this._siblingOffset[ze][1],Re+1,a,u,f,h,F,W),F[2]=-100,W[2]=this.maximums[this.childOffsets[ee]+ze]*S;const qe=pX(F,W,v,_);if(qe!=null){const Ze=qe;I[ze]=Ze;let rt=!1;for(let ut=0;ut<De&&!rt;ut++)Ze>=I[L[ut]]&&(L.splice(ut,0,ze),rt=!0);rt||(L[De]=ze),De++}}for(let ze=0;ze<De;ze++){const qe=L[ze];X.push({idx:this.childOffsets[ee]+qe,t:I[qe],nodex:(oe<<1)+this._siblingOffset[qe][0],nodey:(_e<<1)+this._siblingOffset[qe][1],depth:Re+1})}}return null}_addNode(a,u,f){return this.minimums.push(a),this.maximums.push(u),this.leaves.push(f),this.childOffsets.push(0),this.nodeCount++}_construct(a,u,f,h,v){if(a[h].isLeaf(u,f)===1)return;this.childOffsets[v]||(this.childOffsets[v]=this.nodeCount);const _=h-1,S=a[_];let P=0,I=0;for(let L=0;L<this._siblingOffset.length;L++){const F=2*u+this._siblingOffset[L][0],W=2*f+this._siblingOffset[L][1],X=S.getElevation(F,W),ee=S.isLeaf(F,W),ae=this._addNode(X.min,X.max,ee);ee&&(P|=1<<L),I||(I=ae)}for(let L=0;L<this._siblingOffset.length;L++)P&1<<L||this._construct(a,2*u+this._siblingOffset[L][0],2*f+this._siblingOffset[L][1],_,I+L)}}function vX(l,a,u,f,h,v){return Rr(Rr(l,u,v),Rr(a,f,v),h)}function um(l,a,u){const f=u.dim,h=pn(l*f-.5,0,f-1),v=pn(a*f-.5,0,f-1),_=Math.floor(h),S=Math.floor(v),P=Math.min(_+1,f-1),I=Math.min(S+1,f-1);return vX(u.get(_,S),u.get(P,S),u.get(_,I),u.get(P,I),h-_,v-S)}const qSe={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function ZSe(l,a,u){return(256*l*256+256*a+u)/10-1e4}function XSe(l,a,u){return 256*l+a+u/256-32768}class k7{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(a,u,f,h=!1){if(this.uid=a,u.height!==u.width)throw new RangeError("DEM tiles must be square");if(f&&f!=="mapbox"&&f!=="terrarium")return la(`"${f}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=u.height;const v=this.dim=u.height-2,_=new Uint32Array(u.data.buffer);if(this.pixels=new Uint8Array(u.data.buffer),this.floatView=new Float32Array(u.data.buffer),this.borderReady=h,this._modifiedForSources={},!h){for(let P=0;P<v;P++)_[this._idx(-1,P)]=_[this._idx(0,P)],_[this._idx(v,P)]=_[this._idx(v-1,P)],_[this._idx(P,-1)]=_[this._idx(P,0)],_[this._idx(P,v)]=_[this._idx(P,v-1)];_[this._idx(-1,-1)]=_[this._idx(0,0)],_[this._idx(v,-1)]=_[this._idx(v-1,0)],_[this._idx(-1,v)]=_[this._idx(0,v-1)],_[this._idx(v,v)]=_[this._idx(v-1,v-1)]}const S=f==="terrarium"?XSe:ZSe;for(let P=0;P<_.length;++P){const I=4*P;this.floatView[P]=S(this.pixels[I],this.pixels[I+1],this.pixels[I+2])}this._timestamp=So.now()}_buildQuadTree(){this._tree=new yX(this)}get(a,u,f=!1){f&&(a=pn(a,-1,this.dim),u=pn(u,-1,this.dim));const h=this._idx(a,u);return this.floatView[h]}set(a,u,f){const h=this._idx(a,u),v=this.floatView[h];return this.floatView[h]=f,f-v}static getUnpackVector(a){return qSe[a]}_idx(a,u){if(a<-1||a>=this.dim+1||u<-1||u>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(u+1)*this.stride+(a+1)}static pack(a,u){const f=[0,0,0,0],h=k7.getUnpackVector(u);let v=Math.floor((a+h[3])/h[2]);return f[2]=v%256,v=Math.floor(v/256),f[1]=v%256,v=Math.floor(v/256),f[0]=v,f}getPixels(){return new NZ({width:this.stride,height:this.stride},this.pixels)}backfillBorder(a,u,f){if(this.dim!==a.dim)throw new Error("dem dimension mismatch");let h=u*this.dim,v=u*this.dim+this.dim,_=f*this.dim,S=f*this.dim+this.dim;switch(u){case-1:h=v-1;break;case 1:v=h+1}switch(f){case-1:_=S-1;break;case 1:S=_+1}const P=-u*this.dim,I=-f*this.dim;for(let L=_;L<S;L++)for(let F=h;F<v;F++){const W=4*this._idx(F,L),X=4*this._idx(F+P,L+I);this.pixels[W+0]=a.pixels[X+0],this.pixels[W+1]=a.pixels[X+1],this.pixels[W+2]=a.pixels[X+2],this.pixels[W+3]=a.pixels[X+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}lt(k7,"DEMData"),lt(yX,"DemMinMaxQuadTree",{omit:["dem"]});class p_{constructor(a,u,f){this._demTile=a,this._dem=this._demTile.dem,this._scale=u,this._offset=f}static create(a,u,f){const h=f||a.findDEMTileFor(u);if(!h||!h.dem)return;const v=h.dem,_=h.tileID,S=1<<u.canonical.z-_.canonical.z;return new p_(h,v.dim/rr/S,[(u.canonical.x/S-_.canonical.x)*v.dim,(u.canonical.y/S-_.canonical.y)*v.dim])}tileCoordToPixel(a,u){const f=u*this._scale+this._offset[1],h=Math.floor(a*this._scale+this._offset[0]),v=Math.floor(f);return new or(h,v)}getElevationAt(a,u,f,h){const v=a*this._scale+this._offset[0],_=u*this._scale+this._offset[1],S=Math.floor(v),P=Math.floor(_),I=this._dem;return h=!!h,f?Rr(Rr(I.get(S,P,h),I.get(S,P+1,h),_-P),Rr(I.get(S+1,P,h),I.get(S+1,P+1,h),_-P),v-S):I.get(S,P,h)}getElevationAtPixel(a,u,f){return this._dem.get(a,u,!!f)}getMeterToDEM(a){return(1<<this._demTile.tileID.canonical.z)*Ts(1,a)*this._dem.stride}}const _X={None:0,Model:1,Symbol:2,FillExtrusion:4,All:7},YSe=P7.types,JSe=["fill-extrusion-base","fill-extrusion-height","fill-extrusion-color","fill-extrusion-pattern","fill-extrusion-flood-light-wall-radius","fill-extrusion-line-width","fill-extrusion-line-alignment"],QSe=["fill-extrusion-flood-light-ground-radius"],e7e=Math.pow(2,13),t7e=Math.pow(2,15)-1,bX=new or(0,1),cm=2147483648;function Rw(l,a,u,f,h,v,_,S){l.emplaceBack((a<<1)+_,(u<<1)+v,(Math.floor(f*e7e)<<1)+h,Math.round(S))}function $w(l,a,u,f){l.emplaceBack(a.x*rr,a.y*rr,u?0:1,f?1:0)}function O7(l,a,u,f,h,v){l.emplaceBack(a.x,a.y,(u.x<<1)+f,(u.y<<1)+h,v)}function Lw(l,a,u){l.emplaceBack(a.x,a.y,a.z,u[0]*16384,u[1]*16384,u[2]*16384)}class xX{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0}}class wX{constructor(){this.centroidXY=new or(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.polygonSegIdx=-1,this.polygonSegLen=0,this.min=new or(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new or(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0}span(){return new or(this.max.x-this.min.x,this.max.y-this.min.y)}}class SX{constructor(){this.acc=new or(0,0),this.accCount=0,this.centroidDataIndex=0}startRing(a,u){a.min.x===Number.MAX_VALUE&&(a.min.x=a.max.x=u.x,a.min.y=a.max.y=u.y)}appendEdge(a,u,f){this.accCount++,this.acc._add(u);let h=!!this.borders;u.x<a.min.x?(a.min.x=u.x,h=!0):u.x>a.max.x&&(a.max.x=u.x,h=!0),u.y<a.min.y?(a.min.y=u.y,h=!0):u.y>a.max.y&&(a.max.y=u.y,h=!0),((u.x===0||u.x===rr)&&u.x===f.x)!=((u.y===0||u.y===rr)&&u.y===f.y)&&this.processBorderOverlap(u,f),h&&this.checkBorderIntersection(u,f)}checkBorderIntersection(a,u){u.x<0!=a.x<0&&this.addBorderIntersection(0,Rr(u.y,a.y,(0-u.x)/(a.x-u.x))),u.x>rr!=a.x>rr&&this.addBorderIntersection(1,Rr(u.y,a.y,(rr-u.x)/(a.x-u.x))),u.y<0!=a.y<0&&this.addBorderIntersection(2,Rr(u.x,a.x,(0-u.y)/(a.y-u.y))),u.y>rr!=a.y>rr&&this.addBorderIntersection(3,Rr(u.x,a.x,(rr-u.y)/(a.y-u.y)))}addBorderIntersection(a,u){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const f=this.borders[a];u<f[0]&&(f[0]=u),u>f[1]&&(f[1]=u)}processBorderOverlap(a,u){if(a.x===u.x){if(a.y===u.y)return;const f=a.x===0?0:1;this.addBorderIntersection(f,u.y),this.addBorderIntersection(f,a.y)}else{const f=a.y===0?2:3;this.addBorderIntersection(f,u.x),this.addBorderIntersection(f,a.x)}}centroid(){return this.accCount===0?new or(0,0):new or(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce((a,u)=>a+ +(u[0]!==Number.MAX_VALUE),0):0}}function EX(l,a){const u=l.add(a)._unit(),f=pn(l.x*u.x+l.y*u.y,-1,1);var h,v,_;return h=Math.acos(f),Math.min(4,Math.max(-4,Math.tan(h)))/4*t7e*((v=l).x*(_=a).y-v.y*_.x<0?-1:1)}const r7e=[l=>l.x<0,l=>l.x>rr,l=>l.y<0,l=>l.y>rr];function n7e(l,a,u,f){const h=[4];if(f===0)return h;u._mult(f);const v=l.sub(u),_=a.sub(u),S=[l,a,v,_];for(let P=0;P<4;P++)for(const I of S)if(r7e[P](I)){h.push(P);break}return h}class AX{constructor(a){this.vertexArray=new kO,this.indexArray=new ro,this.programConfigurations=new am(a.layers,{zoom:a.zoom,lut:a.lut},u=>QSe.includes(u)),this._segments=new Ki,this.hiddenByLandmarkVertexArray=new KO,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new Ki}getDefaultSegment(){return this.regionSegments[4]}hasData(){return this.vertexArray.length!==0}addData(a,u,f,h=!1){const v=a.length;if(v>2){let _=Math.max(0,this._segments.get().length-1);const S=this._segments._prepareSegment(4*v,this.vertexArray.length,2*this._segmentToGroundQuads[_].length);let P;_!==this._segments.get().length-1&&(_++,this._segmentToGroundQuads[_]=[],this._segmentToRegionTriCounts[_]=[0,0,0,0,0]);{const I=a[0],L=a[1];P=EX(I.sub(a[v-1])._perp()._unit(),L.sub(I)._perp()._unit())}for(let I=0;I<v;I++){const L=I===v-1?0:I+1,F=a[I],W=a[L],X=a[L===v-1?0:L+1],ee=W.sub(F)._perp()._unit(),ae=EX(ee,X.sub(W)._perp()._unit()),oe=P,_e=ae;if(PD(F,W,u)||h&&CX(F,u)&&CX(W,u)){P=ae;continue}const Re=S.vertexLength;O7(this.vertexArray,F,W,1,1,oe),O7(this.vertexArray,F,W,1,0,oe),O7(this.vertexArray,F,W,0,1,_e),O7(this.vertexArray,F,W,0,0,_e),S.vertexLength+=4;const De=n7e(F,W,ee,f);for(const ze of De)this._segmentToGroundQuads[_].push({id:Re,region:ze}),this._segmentToRegionTriCounts[_][ze]+=2,S.primitiveLength+=2;P=ae}}}prepareBorderSegments(){if(!this.hasData())return;const a=this._segments.get(),u=a.length;for(let f=0;f<u;f++)this._segmentToGroundQuads[f].sort((h,v)=>h.region-v.region);for(let f=0;f<u;f++){const h=this._segmentToGroundQuads[f],v=a[f],_=this._segmentToRegionTriCounts[f];_.reduce((P,I)=>P+I,0);let S=0;for(let P=0;P<=4;P++){const I=_[P];if(I!==0){let L=this.regionSegments[P];L||(L=this.regionSegments[P]=new Ki);const F={vertexOffset:v.vertexOffset,primitiveOffset:v.primitiveOffset+S,vertexLength:v.vertexLength,primitiveLength:I};L.get().push(F)}S+=I}for(let P=0;P<h.length;P++){const I=h[P].id;this.indexArray.emplaceBack(I,I+1,I+3),this.indexArray.emplaceBack(I,I+3,I+2)}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null}addPaintPropertiesData(a,u,f,h,v,_){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,a,u,f,h,v,_)}upload(a){this.hasData()&&(this.vertexBuffer=a.createVertexBuffer(this.vertexArray,RSe.members),this.indexBuffer=a.createIndexBuffer(this.indexArray))}uploadPaintProperties(a){this.hasData()&&this.programConfigurations.upload(a)}update(a,u,f,h,v,_){this.hasData()&&this.programConfigurations.updatePaintArrays(a,u,f,h,v,_)}updateHiddenByLandmark(a){if(!this.hasData())return;const u=a.groundVertexCount+a.groundVertexArrayOffset;if(a.groundVertexCount===0)return;const f=a.flags&cm?1:0;for(let h=a.groundVertexArrayOffset;h<u;++h)this.hiddenByLandmarkVertexArray.emplace(h,f);this._needsHiddenByLandmarkUpdate=!0}uploadHiddenByLandmark(a){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=a.createVertexBuffer(this.hiddenByLandmarkVertexArray,BSe.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1)}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let a=0;a<=4;a++){const u=this.regionSegments[a];u&&u.destroy()}}}}class D7{constructor(a){this.zoom=a.zoom,this.canonical=a.canonical,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(u=>u.fqid),this.index=a.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=a.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new ro,this.footprintVertices=new Dc,this.footprintSegments=[],this.layoutVertexArray=new Uf,this.centroidVertexArray=new Yq,this.wallVertexArray=new Qq,this.indexArray=new ro,this.programConfigurations=new am(a.layers,{zoom:a.zoom,lut:a.lut},u=>JSe.includes(u)),this.segments=new Ki,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id),this.groundEffect=new AX(a),this.maxHeight=0,this.partLookup={},this.triangleSubSegments=[],this.polygonSegments=[]}updateFootprints(a,u){}populate(a,u,f,h){this.features=[],this.hasPattern=xD("fill-extrusion",this.layers,u),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=p7(f),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter,this.wallMode=this.layers[0].paint.get("fill-extrusion-line-width").constantOr(1)!==0;for(const{feature:v,id:_,index:S,sourceLayerIndex:P}of a){const I=this.layers[0]._featureFilter.needGeometry,L=Gf(v,I);if(!this.layers[0]._featureFilter.filter(new Wr(this.zoom),L,f))continue;const F={id:_,sourceLayerIndex:P,index:S,geometry:I?L.geometry:$c(v,f,h),properties:v.properties,type:v.type,patterns:{}},W=this.layoutVertexArray.length;if(this.hasPattern)this.features.push(wD("fill-extrusion",this.layers,F,this.zoom,u));else if(this.wallMode)for(const X of F.geometry)this.addFeature(F,[X],S,f,{},u.availableImages,h,u.brightness);else this.addFeature(F,F.geometry,S,f,{},u.availableImages,h,u.brightness);u.featureIndex.insert(v,F.geometry,S,P,this.index,W)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles(),this.groundEffect.prepareBorderSegments(),this.polygonSegments.length=0}addFeatures(a,u,f,h,v,_){for(const S of this.features){const{geometry:P}=S;if(this.wallMode)for(const I of P)this.addFeature(S,[I],S.index,u,f,h,v,_);else this.addFeature(S,P,S.index,u,f,h,v,_)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles()}update(a,u,f,h,v){const _=Object.keys(a).length!==0;if(_&&!this.stateDependentLayers.length)return;const S=_?this.stateDependentLayers:this.layers;this.programConfigurations.updatePaintArrays(a,u,S,f,h,v),this.groundEffect.update(a,u,S,f,h,v)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,NSe),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.wallVertexBuffer=a.createVertexBuffer(this.wallVertexArray,LSe.members),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=a.createVertexBuffer(this.layoutVertexExtArray,zSe.members,!0)),this.groundEffect.upload(a)),this.groundEffect.uploadPaintProperties(a),this.programConfigurations.upload(a),this.uploaded=!0}uploadCentroid(a){this.groundEffect.uploadHiddenByLandmark(a),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=a.createVertexBuffer(this.centroidVertexArray,$Se.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(a,u,f,h,v,_,S,P){const I=this.layers[0].paint.get("fill-extrusion-flood-light-ground-radius").evaluate(a,{})/this.tileToMeter,L=[new or(0,0),new or(rr,rr)],F=S.projection,W=F.name==="globe",X=this.wallMode||YSe[a.type]==="Polygon",ee=new SX;ee.centroidDataIndex=this.centroidData.length;const ae=new wX,oe=this.layers[0].paint.get("fill-extrusion-base").evaluate(a,{},h)<=0,_e=this.layers[0].paint.get("fill-extrusion-height").evaluate(a,{},h);let Re;if(ae.height=_e,ae.vertexArrayOffset=this.layoutVertexArray.length,ae.groundVertexArrayOffset=this.groundEffect.vertexArray.length,W&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new l7),this.wallMode){if(W)return void la("Non zero fill-extrusion-line-width is not yet supported on globe.");if(u.length!==1)return;Re=function(St){const yt=St[0].x===St[St.length-1].x&&St[0].y===St[St.length-1].y;(function(Sr){let pr=0;const nr=Sr.length;for(let Ur=0;Ur<nr;Ur++)pr+=(Sr[(Ur+1)%nr].x-Sr[Ur].x)*(Sr[(Ur+1)%nr].y+Sr[Ur].y);return pr>=0})(St)||(St=St.reverse());const Ht={isPolygon:yt,geometry:[],joinNormals:[]},Dt=[],Jt=[],Mt=[];let Ft=St.length;if(Ft<(yt?3:2))return Ht;for(;Ft>=2&&St[Ft-1].equals(St[Ft-2]);)Ft--;let er,$t,ir,Qt,qt,Pr=0;for(;Pr<Ft-1&&St[Pr].equals(St[Pr+1]);)Pr++;yt&&(er=St[Ft-2],qt=St[Pr].sub(er)._unit()._perp());for(let Sr=Pr;Sr<Ft;Sr++){if(ir=Sr===Ft-1?yt?St[Pr+1]:void 0:St[Sr+1],ir&&St[Sr].equals(ir))continue;qt&&(Qt=qt),er&&($t=er),er=St[Sr],qt=ir?ir.sub(er)._unit()._perp():Qt,Qt=Qt||qt;const pr=Qt.add(qt);pr.x===0&&pr.y===0||pr._unit();const nr=pr.x*qt.x+pr.y*qt.y,Ur=nr!==0?1/nr:1/0,Tr=Qt.x*qt.y-Qt.y*qt.x>0;let _r="miter";_r==="miter"&&Ur>2&&(_r="bevel");const Xr=(Jr,Yr,on,Mn)=>{const _n=new or(Jr.x,Jr.y),si=new or(Jr.x,Jr.y);_n.x-=Yr.x*Mn,_n.y-=Yr.y*Mn,si.x-=Yr.x*Math.max(on,1),si.y-=Yr.y*Math.max(on,1),Mt.push(Yr),Dt.push(_n),Jt.push(si)};if(_r==="miter")pr._mult(Ur),Xr(er,pr,1,0);else{const Jr=-Math.sqrt(Ur*Ur-1),Yr=Tr?Jr:0,on=Tr?0:Jr;$t&&Xr(er,Qt,Yr,on),ir&&Xr(er,qt,Yr,on)}}return Ht.geometry=[...Dt,...Jt.reverse(),Dt[0]],Ht.joinNormals=[...Mt,...Mt.reverse(),Mt[Mt.length-1]],Ht}(u[0]),u=[Re.geometry]}const De=(St,yt)=>St<(yt.length-1)/2||St===yt.length-1,ze=this.wallMode?[u]:E7(u,500);for(let St=ze.length-1;St>=0;St--){const yt=ze[St];(yt.length===0||(qe=yt[0]).every(Ot=>Ot.x<=0)||qe.every(Ot=>Ot.x>=rr)||qe.every(Ot=>Ot.y<=0)||qe.every(Ot=>Ot.y>=rr))&&ze.splice(St,1)}var qe;let Ze;if(W)Ze=OX(ze,L,h);else{Ze=[];for(const St of ze)Ze.push({polygon:St,bounds:L})}const rt=X?this.edgeRadius:0,ut=rt>0&&this.zoom<17,mt=(St,yt)=>{if(St.length===0)return!1;const Ot=St[St.length-1];return yt.x===Ot.x&&yt.y===Ot.y};for(const{polygon:St,bounds:yt}of Ze){let Ot=0,Ht=0;for(const Ft of St)X&&!Ft[0].equals(Ft[Ft.length-1])&&Ft.push(Ft[0]),Ht+=X?Ft.length-1:Ft.length;const Dt=this.segments.prepareSegment((X?5:4)*Ht,this.layoutVertexArray,this.indexArray);ae.footprintSegIdx<0&&(ae.footprintSegIdx=this.footprintSegments.length),ae.polygonSegIdx<0&&(ae.polygonSegIdx=this.polygonSegments.length);const Jt={triangleArrayOffset:this.indexArray.length,triangleCount:0,triangleSegIdx:this.segments.segments.length-1},Mt=new xX;if(Mt.vertexOffset=this.footprintVertices.length,Mt.indexOffset=3*this.footprintIndices.length,Mt.ringIndices=[],X){const Ft=[],er=[];Ot=Dt.vertexLength;for(let ir=0;ir<St.length;ir++){const Qt=St[ir];Qt.length&&ir!==0&&er.push(Ft.length/2);const qt=[];let Pr,Sr;Pr=Qt[1].sub(Qt[0])._perp()._unit(),Mt.ringIndices.push(Qt.length-1);for(let pr=1;pr<Qt.length;pr++){const nr=Qt[pr],Ur=Qt[pr===Qt.length-1?1:pr+1],Tr=nr.clone();if(rt){Sr=Ur.sub(nr)._perp()._unit();const _r=Pr.add(Sr)._unit(),Xr=rt*Math.min(4,1/(Pr.x*_r.x+Pr.y*_r.y));Tr.x+=Xr*_r.x,Tr.y+=Xr*_r.y,Tr.x=Math.round(Tr.x),Tr.y=Math.round(Tr.y),Pr=Sr}if(!oe||rt!==0&&!ut||mt(qt,Tr)||qt.push(Tr),Rw(this.layoutVertexArray,Tr.x,Tr.y,0,0,1,1,0),this.wallMode){const _r=De(pr,Qt);$w(this.wallVertexArray,Re.joinNormals[pr],_r,Re.isPolygon)}Dt.vertexLength++,this.footprintVertices.emplaceBack(nr.x,nr.y),Ft.push(nr.x,nr.y),W&&Lw(this.layoutVertexExtArray,F.projectTilePoint(Tr.x,Tr.y,h),F.upVector(h,Tr.x,Tr.y))}oe&&(rt===0||ut)&&(qt.length!==0&&mt(qt,qt[0])&&qt.pop(),this.groundEffect.addData(qt,yt,I))}const $t=Mw(Ft,er);for(let ir=0;ir<$t.length;ir+=3)this.footprintIndices.emplaceBack(Mt.vertexOffset+$t[ir+0],Mt.vertexOffset+$t[ir+1],Mt.vertexOffset+$t[ir+2]),this.indexArray.emplaceBack(Ot+$t[ir],Ot+$t[ir+2],Ot+$t[ir+1]),Dt.primitiveLength++;Mt.indexCount+=$t.length,Mt.vertexCount+=this.footprintVertices.length-Mt.vertexOffset}for(let Ft=0;Ft<St.length;Ft++){const er=St[Ft];ee.startRing(ae,er[0]);let $t=er.length>4&&IX(er[er.length-2],er[0],er[1]),ir=rt?i7e(er[er.length-2],er[0],er[1],rt):0;const Qt=[];let qt,Pr,Sr;Pr=er[1].sub(er[0])._perp()._unit();let pr=!0;for(let nr=1,Ur=0;nr<er.length;nr++){let Tr=er[nr-1],_r=er[nr];const Xr=er[nr===er.length-1?1:nr+1];if(ee.appendEdge(ae,_r,Tr),PD(_r,Tr,yt)){rt&&(Pr=Xr.sub(_r)._perp()._unit(),pr=!pr);continue}const Jr=_r.sub(Tr)._perp(),Yr=Jr.x/(Math.abs(Jr.x)+Math.abs(Jr.y)),on=Jr.y>0?1:0,Mn=Tr.dist(_r);if(Ur+Mn>32768&&(Ur=0),rt){Sr=Xr.sub(_r)._perp()._unit();let Qr=PX(Tr,_r,Xr,TX(Pr,Sr),rt);isNaN(Qr)&&(Qr=0);const Yn=_r.sub(Tr)._unit();Tr=Tr.add(Yn.mult(ir))._round(),_r=_r.add(Yn.mult(-Qr))._round(),ir=Qr,Pr=Sr,oe&&this.zoom>=17&&(mt(Qt,Tr)||Qt.push(Tr),mt(Qt,_r)||Qt.push(_r))}const _n=Dt.vertexLength,si=er.length>4&&IX(Tr,_r,Xr);let di=MX(Ur,$t,pr);if(Rw(this.layoutVertexArray,Tr.x,Tr.y,Yr,on,0,0,di),Rw(this.layoutVertexArray,Tr.x,Tr.y,Yr,on,0,1,di),this.wallMode){const Qr=De(nr-1,er),Yn=Re.joinNormals[nr-1];$w(this.wallVertexArray,Yn,!Qr,Re.isPolygon),$w(this.wallVertexArray,Yn,!Qr,Re.isPolygon)}if(Ur+=Mn,di=MX(Ur,si,!pr),$t=si,Rw(this.layoutVertexArray,_r.x,_r.y,Yr,on,0,0,di),Rw(this.layoutVertexArray,_r.x,_r.y,Yr,on,0,1,di),this.wallMode){const Qr=De(nr,er),Yn=Re.joinNormals[nr];$w(this.wallVertexArray,Yn,!Qr,Re.isPolygon),$w(this.wallVertexArray,Yn,!Qr,Re.isPolygon)}if(Dt.vertexLength+=4,this.indexArray.emplaceBack(_n+0,_n+1,_n+2),this.indexArray.emplaceBack(_n+1,_n+3,_n+2),Dt.primitiveLength+=2,rt){const Qr=Ot+(nr===1?er.length-2:nr-2),Yn=nr===1?Ot:Qr+1;if(this.indexArray.emplaceBack(_n+1,Qr,_n+3),this.indexArray.emplaceBack(Qr,Yn,_n+3),Dt.primitiveLength+=2,qt===void 0&&(qt=_n),!PD(Xr,er[nr],yt)){const Jn=nr===er.length-1?qt:Dt.vertexLength;this.indexArray.emplaceBack(_n+2,_n+3,Jn),this.indexArray.emplaceBack(_n+3,Jn+1,Jn),this.indexArray.emplaceBack(_n+3,Yn,Jn+1),Dt.primitiveLength+=3}pr=!pr}if(W){const Qr=this.layoutVertexExtArray,Yn=F.projectTilePoint(Tr.x,Tr.y,h),Jn=F.projectTilePoint(_r.x,_r.y,h),Ai=F.upVector(h,Tr.x,Tr.y),ia=F.upVector(h,_r.x,_r.y);Lw(Qr,Yn,Ai),Lw(Qr,Yn,Ai),Lw(Qr,Jn,ia),Lw(Qr,Jn,ia)}}X&&(Ot+=er.length-1),oe&&rt&&this.zoom>=17&&(Qt.length!==0&&mt(Qt,Qt[0])&&Qt.pop(),this.groundEffect.addData(Qt,yt,I,rt>0))}this.footprintSegments.push(Mt),Jt.triangleCount=this.indexArray.length-Jt.triangleArrayOffset,this.polygonSegments.push(Jt),++ae.footprintSegLen,++ae.polygonSegLen}if(ae.vertexCount=this.layoutVertexArray.length-ae.vertexArrayOffset,ae.groundVertexCount=this.groundEffect.vertexArray.length-ae.groundVertexArrayOffset,ae.vertexCount!==0){if(ae.centroidXY=ee.borders?bX:this.encodeCentroid(ee,ae),this.centroidData.push(ae),ee.borders){this.featuresOnBorder.push(ee);const St=this.featuresOnBorder.length-1;for(let yt=0;yt<ee.borders.length;yt++)ee.borders[yt][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[yt].push(St)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,f,v,_,h,P),this.groundEffect.addPaintPropertiesData(a,f,v,_,h,P),this.maxHeight=Math.max(this.maxHeight,_e)}}sortBorders(){for(let a=0;a<this.borderFeatureIndices.length;a++)this.borderFeatureIndices[a].sort((u,f)=>this.featuresOnBorder[u].borders[a][0]-this.featuresOnBorder[f].borders[a][0])}splitToSubtiles(){const a=[];for(let S=0;S<this.centroidData.length;S++){const P=this.centroidData[S],I=+(P.min.y+P.max.y>rr),L=2*I+(+(P.min.x+P.max.x>rr)^I);for(let F=0;F<P.polygonSegLen;F++){const W=P.polygonSegIdx+F;a.push({centroidIdx:S,subtile:L,polygonSegmentIdx:W,triangleSegmentIdx:this.polygonSegments[W].triangleSegIdx})}}const u=new ro;a.sort((S,P)=>S.triangleSegmentIdx===P.triangleSegmentIdx?S.subtile-P.subtile:S.triangleSegmentIdx-P.triangleSegmentIdx);let f=0,h=0,v=0;for(const S of a){if(S.triangleSegmentIdx!==f)break;v++}const _=a.length;for(;h!==a.length;){f=a[h].triangleSegmentIdx;let S=0,P=h,I=h;for(let L=P;L<v&&a[L].subtile===S;L++)I++;for(;P!==v;){const L=a[P];S=L.subtile;const F=this.centroidData[L.centroidIdx].min.clone(),W=this.centroidData[L.centroidIdx].max.clone(),X={vertexOffset:this.segments.segments[f].vertexOffset,primitiveOffset:u.length,vertexLength:this.segments.segments[f].vertexLength,primitiveLength:0,sortKey:void 0,vaos:{}};for(let ee=P;ee<I;ee++){const ae=a[ee],oe=this.polygonSegments[ae.polygonSegmentIdx],_e=this.centroidData[ae.centroidIdx].min,Re=this.centroidData[ae.centroidIdx].max,De=this.indexArray.uint16;for(let ze=oe.triangleArrayOffset;ze<oe.triangleArrayOffset+oe.triangleCount;ze++)u.emplaceBack(De[3*ze],De[3*ze+1],De[3*ze+2]);X.primitiveLength+=oe.triangleCount,F.x=Math.min(F.x,_e.x),F.y=Math.min(F.y,_e.y),W.x=Math.max(W.x,Re.x),W.y=Math.max(W.y,Re.y)}X.primitiveLength>0&&this.triangleSubSegments.push({segment:X,min:F,max:W}),P=I;for(let ee=P;ee<v&&a[ee].subtile===a[P].subtile;ee++)I++}h=v;for(let L=h;L<_&&a[L].triangleSegmentIdx===a[h].triangleSegmentIdx;L++)v++}u._trim(),this.indexArray=u}getVisibleSegments(a,u,f){const h=new Ki;if(this.wallMode){for(const ae of this.triangleSubSegments)h.segments.push(ae.segment);return h}let v=0,_=0;const S=1<<a.canonical.z;if(u){const ae=u.getMinMaxForTile(a);ae&&(v=ae.min,_=ae.max)}_+=this.maxHeight;const P=a.toUnwrapped();let I;const L=[P.canonical.x/S+P.wrap,P.canonical.y/S],F=[(P.canonical.x+1)/S+P.wrap,(P.canonical.y+1)/S],W=(ae,oe,_e)=>[ae[0]*(1-_e[0])+oe[0]*_e[0],ae[1]*(1-_e[1])+oe[1]*_e[1]],X=[],ee=[];for(const ae of this.triangleSubSegments){X[0]=ae.min.x/rr,X[1]=ae.min.y/rr,ee[0]=ae.max.x/rr,ee[1]=ae.max.y/rr;const oe=W(L,F,X),_e=W(L,F,ee);if(new Fi([oe[0],oe[1],v],[_e[0],_e[1],_]).intersectsPrecise(f)===0){I&&(h.segments.push(I),I=void 0);continue}const Re=ae.segment;I&&I.vertexOffset!==Re.vertexOffset&&(h.segments.push(I),I=void 0),I?(I.vertexLength+=Re.vertexLength,I.primitiveLength+=Re.primitiveLength):I={vertexOffset:Re.vertexOffset,primitiveLength:Re.primitiveLength,vertexLength:Re.vertexLength,primitiveOffset:Re.primitiveOffset,sortKey:void 0,vaos:{}}}return I&&h.segments.push(I),h}encodeCentroid(a,u){const f=a.centroid(),h=u.span(),v=Math.min(7,Math.round(h.x*this.tileToMeter/10)),_=Math.min(7,Math.round(h.y*this.tileToMeter/10));return new or(pn(f.x,1,rr-1)<<3|v,pn(f.y,1,rr-1)<<3|_)}encodeBorderCentroid(a){if(!a.borders)return new or(0,0);const u=a.borders,f=Number.MAX_VALUE;if(u[0][0]!==f||u[1][0]!==f){const h=u[0][0]!==f?0:1;return new or(6|(u[0][0]!==f?0:65528),(u[h][0]+u[h][1])/2<<3|6)}{const h=u[2][0]!==f?2:3;return new or((u[h][0]+u[h][1])/2<<3|6,6|(u[2][0]!==f?0:65528))}}showCentroid(a){const u=this.centroidData[a.centroidDataIndex];u.flags&=cm,u.centroidXY.x=0,u.centroidXY.y=0,this.writeCentroidToBuffer(u)}writeCentroidToBuffer(a){this.groundEffect.updateHiddenByLandmark(a);const u=a.vertexArrayOffset,f=a.vertexCount+a.vertexArrayOffset,h=a.flags&cm?bX:a.centroidXY,v=this.centroidVertexArray.geta_centroid_pos0(u);if(this.centroidVertexArray.geta_centroid_pos1(u)!==h.y||v!==h.x){for(let _=u;_<f;++_)this.centroidVertexArray.emplace(_,h.x,h.y);this.needsCentroidUpdate=!0}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const a of this.centroidData)this.writeCentroidToBuffer(a)}updateReplacement(a,u,f){if(u.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=u.updateTime;const h=u.getReplacementRegionsForTile(a.toUnwrapped());if(TD(this.activeReplacements,h))return;if(this.activeReplacements=h,this.centroidVertexArray.length===0)this.createCentroidsBuffer();else for(const _ of this.centroidData)_.flags&=2147483647;const v=[];for(const _ of this.activeReplacements){if(_.order<f)continue;const S=Math.pow(2,_.footprintTileId.canonical.z-a.canonical.z);for(const P of this.centroidData)if(!(P.flags&cm||_.min.x>P.max.x||P.min.x>_.max.x||_.min.y>P.max.y||P.min.y>_.max.y))for(let I=0;I<P.footprintSegLen;I++){const L=this.footprintSegments[P.footprintSegIdx+I];if(v.length=0,a7e(this.footprintVertices,L.vertexOffset,L.vertexCount,_.footprintTileId.canonical,a.canonical,v),lX(_.footprint,v,this.footprintIndices.uint16,L.indexOffset,L.indexCount,-L.vertexOffset,-S)){P.flags|=cm;break}}}for(const _ of this.centroidData)this.writeCentroidToBuffer(_);this.borderDoneWithNeighborZ=[-1,-1,-1,-1]}footprintContainsPoint(a,u,f){let h=!1;for(let v=0;v<f.footprintSegLen;v++){const _=this.footprintSegments[f.footprintSegIdx+v];let S=0;for(const P of _.ringIndices){for(let I=S,L=P+S-1;I<P+S;L=I++){const F=this.footprintVertices.int16[2*(I+_.vertexOffset)+0],W=this.footprintVertices.int16[2*(I+_.vertexOffset)+1],X=this.footprintVertices.int16[2*(L+_.vertexOffset)+1];W>u!=X>u&&a<(this.footprintVertices.int16[2*(L+_.vertexOffset)+0]-F)*(u-W)/(X-W)+F&&(h=!h)}S=P}}return h}getHeightAtTileCoord(a,u){let f=Number.NEGATIVE_INFINITY,h=!0;const v=4*(a+rr)*rr+(u+rr);if(this.partLookup.hasOwnProperty(v)){const _=this.partLookup[v];return _?{height:_.height,hidden:!!(_.flags&cm)}:void 0}for(const _ of this.centroidData)a>_.max.x||_.min.x>a||u>_.max.y||_.min.y>u||this.footprintContainsPoint(a,u,_)&&_&&_.height>f&&(f=_.height,this.partLookup[v]=_,h=!!(_.flags&cm));if(f!==Number.NEGATIVE_INFINITY)return{height:f,hidden:h};this.partLookup[v]=void 0}}function TX(l,a){const u=l.add(a)._unit();return l.x*u.x+l.y*u.y}function i7e(l,a,u,f){const h=a.sub(l)._perp()._unit(),v=u.sub(a)._perp()._unit();return PX(l,a,u,TX(h,v),f)}function PX(l,a,u,f,h){const v=Math.sqrt(1-f*f);return Math.min(l.dist(a)/3,a.dist(u)/3,h*v/f)}function PD(l,a,u){return l.x<u[0].x&&a.x<u[0].x||l.x>u[1].x&&a.x>u[1].x||l.y<u[0].y&&a.y<u[0].y||l.y>u[1].y&&a.y>u[1].y}function CX(l,a){return l.x<a[0].x||l.x>a[1].x||l.y<a[0].y||l.y>a[1].y}function IX(l,a,u){if(l.x<0||l.x>=rr||a.x<0||a.x>=rr||u.x<0||u.x>=rr)return!1;const f=u.sub(a),h=f.perp(),v=l.sub(a);return(f.x*v.x+f.y*v.y)/Math.sqrt((f.x*f.x+f.y*f.y)*(v.x*v.x+v.y*v.y))>-.866&&h.x*v.x+h.y*v.y<0}function MX(l,a,u){const f=a?2|l:-3&l;return u?1|f:-2&f}function kX(){const l=Math.PI/32,a=Math.tan(l),u=s_;return u*Math.sqrt(1+2*a*a)-u}function OX(l,a,u){const f=1<<u.z,h=rl(u.x/f),v=rl((u.x+1)/f),_=po(u.y/f),S=po((u.y+1)/f);return function(P,I,L,F,W=0,X){const ee=[];if(!P.length||!L||!F)return ee;const ae=(Ze,rt)=>{for(const ut of Ze)ee.push({polygon:ut,bounds:rt})},oe=Math.ceil(Math.log2(L)),_e=Math.ceil(Math.log2(F)),Re=oe-_e,De=[];for(let Ze=0;Ze<Math.abs(Re);Ze++)De.push(Re>0?0:1);for(let Ze=0;Ze<Math.min(oe,_e);Ze++)De.push(0),De.push(1);let ze=P;if(ze=C7(ze,I[0].y-W,I[1].y+W,1),ze=C7(ze,I[0].x-W,I[1].x+W,0),!ze.length)return ee;const qe=[];for(De.length?qe.push({polygons:ze,bounds:I,depth:0}):ae(ze,I);qe.length;){const Ze=qe.pop(),rt=Ze.depth,ut=De[rt],mt=Ze.bounds[0],St=Ze.bounds[1],yt=ut===0?mt.x:mt.y,Ot=ut===0?St.x:St.y,Ht=X?X(ut,yt,Ot):.5*(yt+Ot),Dt=C7(Ze.polygons,yt-W,Ht+W,ut),Jt=C7(Ze.polygons,Ht-W,Ot+W,ut);if(Dt.length){const Mt=[mt,new or(ut===0?Ht:St.x,ut===1?Ht:St.y)];De.length>rt+1?qe.push({polygons:Dt,bounds:Mt,depth:rt+1}):ae(Dt,Mt)}if(Jt.length){const Mt=[new or(ut===0?Ht:mt.x,ut===1?Ht:mt.y),St];De.length>rt+1?qe.push({polygons:Jt,bounds:Mt,depth:rt+1}):ae(Jt,Mt)}}return ee}(l,a,Math.ceil((v-h)/11.25),Math.ceil((_-S)/11.25),1,(P,I,L)=>{if(P===0)return .5*(I+L);{const F=po((u.y+I/rr)/f);return(Bd(.5*(po((u.y+L/rr)/f)+F))*f-u.y)*rr}})}function a7e(l,a,u,f,h,v){const _=Math.pow(2,f.z-h.z);for(let S=0;S<u;S++){let P=l.int16[2*(S+a)+0],I=l.int16[2*(S+a)+1];P=(P+h.x*rr)*_-f.x*rr,I=(I+h.y*rr)*_-f.y*rr,v.push(new or(P,I))}}let DX,RX;function Bw(l,a){return l.x*a.x+l.y*a.y}function $X(l,a){if(l.length===1){let u=0;const f=a[u++];let h;for(;!h||f.equals(h);)if(h=a[u++],!h)return 1/0;for(;u<a.length;u++){const v=a[u],_=l[0],S=h.sub(f),P=v.sub(f),I=_.sub(f),L=Bw(S,S),F=Bw(S,P),W=Bw(P,P),X=Bw(I,S),ee=Bw(I,P),ae=L*W-F*F,oe=(W*X-F*ee)/ae,_e=(L*ee-F*X)/ae,Re=f.z*(1-oe-_e)+h.z*oe+v.z*_e;if(isFinite(Re))return Re}return 1/0}{let u=1/0;for(const f of a)u=Math.min(u,f.z);return u}}function LX(l,a,u,f,h,v,_,S){const P=_*h.getElevationAt(l,a,!0,!0),I=v[0]!==0,L=I?v[1]===0?_*(v[0]/7-450):_*function(F,W,X){const ee=Math.floor(W[0]/8),ae=Math.floor(W[1]/8),oe=10*(W[0]-8*ee),_e=10*(W[1]-8*ae),Re=F.getElevationAt(ee,ae,!0,!0),De=F.getMeterToDEM(X),ze=Math.floor(.5*(oe*De-1)),qe=Math.floor(.5*(_e*De-1)),Ze=F.tileCoordToPixel(ee,ae),rt=2*ze+1,ut=2*qe+1,mt=function(Jt,Mt,Ft,er,$t){return[Jt.getElevationAtPixel(Mt,Ft,!0),Jt.getElevationAtPixel(Mt+$t,Ft,!0),Jt.getElevationAtPixel(Mt,Ft+$t,!0),Jt.getElevationAtPixel(Mt+er,Ft+$t,!0)]}(F,Ze.x-ze,Ze.y-qe,rt,ut),St=Math.abs(mt[0]-mt[1]),yt=Math.abs(mt[2]-mt[3]),Ot=Math.abs(mt[0]-mt[2])+Math.abs(mt[1]-mt[3]),Ht=Math.min(.25,.5*De*(St+yt)/rt),Dt=Math.min(.25,.5*De*Ot/ut);return Re+Math.max(Ht*oe,Dt*_e)}(h,v,S):P;return{base:P+(u===0)?-1:u,top:I?Math.max(L+f,P+u+2):P+f}}lt(D7,"FillExtrusionBucket",{omit:["layers","features"]}),lt(wX,"PartData"),lt(xX,"FootprintSegment"),lt(SX,"BorderCentroidData"),lt(AX,"GroundEffect");const o7e=Xn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:s7e}=o7e,l7e=Xn([{name:"a_packed",components:4,type:"Float32"}]),{members:u7e}=l7e,c7e=Xn([{name:"a_pattern_data",components:3,type:"Float32"}]),{members:d7e}=c7e,f7e=Xn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),p7e=Xn([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),h7e=Xn([{name:"a_projected_pos",components:4,type:"Float32"}],4);Xn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const BX=Xn([{name:"a_z_offset",components:1,type:"Float32"}],4),m7e=Xn([{name:"a_texb",components:2,type:"Uint16"}]),g7e=Xn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),y7e=Xn([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"},{name:"a_z_offset",components:1,type:"Float32"}]);Xn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const zX=Xn([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),v7e=Xn([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Xn([{name:"triangle",components:3,type:"Uint16"}]),Xn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Xn([{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Float32",name:"zOffset"},{type:"Uint8",name:"hasIconTextFit"}]),Xn([{type:"Float32",name:"offsetX"}]),Xn([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);class NX{constructor(a,u){this.width=a,this.height=u,this.nextRow=0,this.image=new lm({width:a,height:u}),this.positions={},this.uploaded=!1}getDash(a,u){const f=this.getKey(a,u);return this.positions[f]}trim(){const a=this.width,u=this.height=Mf(this.nextRow);this.image.resize({width:a,height:u})}getKey(a,u){return a.join(",")+u}getDashRanges(a,u,f){const h=[];let v=a.length%2==1?-a[a.length-1]*f:0,_=a[0]*f,S=!0;h.push({left:v,right:_,isDash:S,zeroLength:a[0]===0});let P=a[0];for(let I=1;I<a.length;I++){S=!S;const L=a[I];v=P*f,P+=L,_=P*f,h.push({left:v,right:_,isDash:S,zeroLength:L===0})}return h}addRoundDash(a,u,f){const h=u/2;for(let v=-f;v<=f;v++){const _=this.width*(this.nextRow+f+v);let S=0,P=a[S];for(let I=0;I<this.width;I++){I/P.right>1&&(P=a[++S]);const L=Math.abs(I-P.left),F=Math.abs(I-P.right),W=Math.min(L,F);let X;const ee=v/f*(h+1);if(P.isDash){const ae=h-Math.abs(ee);X=Math.sqrt(W*W+ae*ae)}else X=h-Math.sqrt(W*W+ee*ee);this.image.data[_+I]=Math.max(0,Math.min(255,X+128))}}}addRegularDash(a,u){for(let P=a.length-1;P>=0;--P){const I=a[P],L=a[P+1];I.zeroLength?a.splice(P,1):L&&L.isDash===I.isDash&&(L.left=I.left,a.splice(P,1))}const f=a[0],h=a[a.length-1];f.isDash===h.isDash&&(f.left=h.left-this.width,h.right=f.right+this.width);const v=this.width*this.nextRow;let _=0,S=a[_];for(let P=0;P<this.width;P++){P/S.right>1&&(S=a[++_]);const I=Math.abs(P-S.left),L=Math.abs(P-S.right),F=Math.min(I,L);this.image.data[v+P]=Math.max(0,Math.min(255,(S.isDash?F:-F)+u+128))}}addDash(a,u){const f=this.getKey(a,u);if(this.positions[f])return this.positions[f];const h=u==="round",v=h?7:0,_=2*v+1;if(this.nextRow+_>this.height)return la("LineAtlas out of space"),null;a.length===0&&a.push(1);let S=0;for(let L=0;L<a.length;L++)a[L]<0&&(la("Negative value is found in line dasharray, replacing values with 0"),a[L]=0),S+=a[L];if(S!==0){const L=this.width/S,F=this.getDashRanges(a,this.width,L);h?this.addRoundDash(F,L,v):this.addRegularDash(F,u==="square"?.5*L:0)}const P=this.nextRow+v;this.nextRow+=_;const I={tl:[P,v],br:[S,0]};return this.positions[f]=I,I}}lt(NX,"LineAtlas");const _7e=P7.types,b7e=Math.cos(Math.PI/180*37.5),x7e=Math.cos(Math.PI/180*5);class R7{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(u=>u.fqid),this.index=a.index,this.projection=a.projection,this.hasPattern=!1,this.hasZOffset=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(u=>{this.gradients[u.id]={}}),this.layoutVertexArray=new OO,this.layoutVertexArray2=new em,this.patternVertexArray=new tm,this.indexArray=new ro,this.programConfigurations=new am(a.layers,{zoom:a.zoom,lut:a.lut}),this.segments=new Ki,this.maxLineLength=0,this.zOffsetVertexArray=new n_,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id),this.tessellationStep=a.tessellationStep?a.tessellationStep:rr/64}updateFootprints(a,u){}populate(a,u,f,h){this.hasPattern=xD("line",this.layers,u);const v=this.layers[0].layout.get("line-sort-key"),_=this.layers[0].layout.get("line-z-offset");this.hasZOffset=!_.isConstant()||!!_.constantOr(0);const S=[];for(const{feature:F,id:W,index:X,sourceLayerIndex:ee}of a){const ae=this.layers[0]._featureFilter.needGeometry,oe=Gf(F,ae);if(!this.layers[0]._featureFilter.filter(new Wr(this.zoom),oe,f))continue;const _e=v?v.evaluate(oe,{},f):void 0,Re={id:W,properties:F.properties,type:F.type,sourceLayerIndex:ee,index:X,geometry:ae?oe.geometry:$c(F,f,h),patterns:{},sortKey:_e};S.push(Re)}v&&S.sort((F,W)=>F.sortKey-W.sortKey);const{lineAtlas:P,featureIndex:I}=u,L=this.addConstantDashes(P);for(const F of S){const{geometry:W,index:X,sourceLayerIndex:ee}=F;if(L&&this.addFeatureDashes(F,P),this.hasPattern){const ae=wD("line",this.layers,F,this.zoom,u);this.patternFeatures.push(ae)}else this.addFeature(F,W,X,f,P.positions,u.availableImages,u.brightness);I.insert(a[X].feature,W,X,ee,this.index)}}addConstantDashes(a){let u=!1;for(const f of this.layers){const h=f.paint.get("line-dasharray").value,v=f.layout.get("line-cap").value;if(h.kind!=="constant"||v.kind!=="constant")u=!0;else{const _=v.value,S=h.value;if(!S)continue;a.addDash(S,_)}}return u}addFeatureDashes(a,u){const f=this.zoom;for(const h of this.layers){const v=h.paint.get("line-dasharray").value,_=h.layout.get("line-cap").value;if(v.kind==="constant"&&_.kind==="constant")continue;let S,P;if(v.kind==="constant"){if(S=v.value,!S)continue}else S=v.evaluate({zoom:f},a);P=_.kind==="constant"?_.value:_.evaluate({zoom:f},a),u.addDash(S,P),a.patterns[h.id]=u.getKey(S,P)}}update(a,u,f,h,v){const _=Object.keys(a).length!==0;_&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(a,u,_?this.stateDependentLayers:this.layers,f,h,v)}addFeatures(a,u,f,h,v,_){for(const S of this.patternFeatures)this.addFeature(S,S.geometry,S.index,u,f,h,_)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=a.createVertexBuffer(this.layoutVertexArray2,u7e)),this.patternVertexArray.length!==0&&(this.patternVertexBuffer=a.createVertexBuffer(this.patternVertexArray,d7e)),!this.zOffsetVertexBuffer&&this.zOffsetVertexArray.length>0&&(this.zOffsetVertexBuffer=a.createVertexBuffer(this.zOffsetVertexArray,BX.members,!0)),this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,s7e),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy(),this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(a){if(a.properties&&a.properties.hasOwnProperty("mapbox_clip_start")&&a.properties.hasOwnProperty("mapbox_clip_end"))return{start:+a.properties.mapbox_clip_start,end:+a.properties.mapbox_clip_end}}addFeature(a,u,f,h,v,_,S){const P=this.layers[0].layout,I=P.get("line-join").evaluate(a,{}),L=P.get("line-cap").evaluate(a,{}),F=P.get("line-miter-limit"),W=P.get("line-round-limit");this.lineClips=this.lineFeatureClips(a);for(const X of u)this.addLine(X,a,h,I,L,F,W);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,f,v,_,h,S)}addLine(a,u,f,h,v,_,S){this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.currentVertex=void 0;const P={zoom:this.zoom,lineProgress:void 0},I=this.layers[0].layout,L=h==="none";if(this.patternJoinNone=this.hasPattern&&L,this.segmentStart=0,this.segmentStartf32=0,this.segmentPoints=[],this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ze=0;Ze<a.length-1;Ze++)this.totalDistance+=a[Ze].dist(a[Ze+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const F=_7e[u.type]==="Polygon";let W=a.length;for(;W>=2&&a[W-1].equals(a[W-2]);)W--;let X=0;for(;X<W-1&&a[X].equals(a[X+1]);)X++;if(W<(F?3:2))return;h==="bevel"&&(_=1.05);const ee=this.overscaling<=16?15*rr/(512*this.overscaling):0,ae=this.segments.prepareSegment(10*W,this.layoutVertexArray,this.indexArray);let oe,_e,Re,De,ze,qe;this.e1=this.e2=-1,F&&(oe=a[W-2],ze=a[X].sub(oe)._unit()._perp());for(let Ze=X;Ze<W;Ze++){if(Re=Ze===W-1?F?a[X+1]:void 0:a[Ze+1],Re&&a[Ze].equals(Re))continue;if(ze&&(De=ze),oe&&(_e=oe),oe=a[Ze],this.hasZOffset){const Mt=I.get("line-z-offset").value;if(Mt.kind==="constant")qe=Mt.value;else{if(this.lineClips){const Ft=this.totalDistance/(this.lineClips.end-this.lineClips.start);P.lineProgress=(Ft*this.lineClips.start+this.distance+(_e?_e.dist(oe):0))/Ft}else la(`line-z-offset evaluation for ${this.layerIds[0]} requires enabling 'lineMetrics' for the source.`),P.lineProgress=0;qe=Mt.evaluate(P,u)}qe=qe||0}ze=Re?Re.sub(oe)._unit()._perp():De,De=De||ze;const rt=_e&&Re;let ut=rt?h:F||L?"butt":v;const mt=De.x*ze.x+De.y*ze.y;if(L){const Mt=function(Ft){if(Ft.patternJoinNone){const er=Ft.segmentPoints.length/2,$t=Ft.lineSoFar-Ft.segmentStart;for(let ir=0;ir<er;++ir){const Qt=Ft.segmentPoints[2*ir+1],qt=Math.round(Ft.segmentPoints[2*ir])+.5+.25*Qt;Ft.patternVertexArray.emplaceBack(qt,$t,Ft.segmentStart),Ft.patternVertexArray.emplaceBack(qt,$t,Ft.segmentStart)}Ft.segmentPoints.length=0}Ft.e1=Ft.e2=-1};if(rt&&mt<x7e){this.updateDistance(_e,oe),this.addCurrentVertex(oe,De,1,1,ae,qe),Mt(this),this.addCurrentVertex(oe,ze,-1,-1,ae,qe);continue}if(_e){if(!Re){this.updateDistance(_e,oe),this.addCurrentVertex(oe,De,1,1,ae,qe),Mt(this);continue}ut="miter"}}let St=De.add(ze);St.x===0&&St.y===0||St._unit();const yt=St.x*ze.x+St.y*ze.y,Ot=yt!==0?1/yt:1/0,Ht=2*Math.sqrt(2-2*yt),Dt=yt<b7e&&_e&&Re,Jt=De.x*ze.y-De.y*ze.x>0;if(Dt&&Ze>X){const Mt=oe.dist(_e);if(Mt>2*ee){const Ft=oe.sub(oe.sub(_e)._mult(ee/Mt)._round());this.updateDistance(_e,Ft),this.addCurrentVertex(Ft,De,0,0,ae,qe),_e=Ft}}if(rt&&ut==="round"&&(Ot<S?ut="miter":Ot<=2&&(ut="fakeround")),ut==="miter"&&Ot>_&&(ut="bevel"),ut==="bevel"&&(Ot>2&&(ut="flipbevel"),Ot<_&&(ut="miter")),_e&&this.updateDistance(_e,oe),ut==="miter")St._mult(Ot),this.addCurrentVertex(oe,St,0,0,ae,qe);else if(ut==="flipbevel"){if(Ot>100)St=ze.mult(-1);else{const Mt=Ot*De.add(ze).mag()/De.sub(ze).mag();St._perp()._mult(Mt*(Jt?-1:1))}this.addCurrentVertex(oe,St,0,0,ae,qe),this.addCurrentVertex(oe,St.mult(-1),0,0,ae,qe)}else if(ut==="bevel"||ut==="fakeround"){const Mt=-Math.sqrt(Ot*Ot-1),Ft=Jt?Mt:0,er=Jt?0:Mt;if(_e&&this.addCurrentVertex(oe,De,Ft,er,ae,qe),ut==="fakeround"){const $t=Math.round(180*Ht/Math.PI/20);for(let ir=1;ir<$t;ir++){let Qt=ir/$t;if(Qt!==.5){const Pr=Qt-.5;Qt+=Qt*Pr*(Qt-1)*((1.0904+mt*(mt*(3.55645-1.43519*mt)-3.2452))*Pr*Pr+(.848013+mt*(.215638*mt-1.06021)))}const qt=ze.sub(De)._mult(Qt)._add(De)._unit()._mult(Jt?-1:1);this.addHalfVertex(oe,qt.x,qt.y,!1,Jt,0,ae,qe)}}Re&&this.addCurrentVertex(oe,ze,-Ft,-er,ae,qe)}else ut==="butt"?this.addCurrentVertex(oe,St,0,0,ae,qe):ut==="square"?(_e||this.addCurrentVertex(oe,St,-1,-1,ae,qe),this.addCurrentVertex(oe,St,0,0,ae,qe),_e&&this.addCurrentVertex(oe,St,1,1,ae,qe)):ut==="round"&&(_e&&(this.addCurrentVertex(oe,De,0,0,ae,qe),this.addCurrentVertex(oe,De,1,1,ae,qe,!0)),Re&&(this.addCurrentVertex(oe,ze,-1,-1,ae,qe,!0),this.addCurrentVertex(oe,ze,0,0,ae,qe)));if(Dt&&Ze<W-1){const Mt=oe.dist(Re);if(Mt>2*ee){const Ft=oe.add(Re.sub(oe)._mult(ee/Mt)._round());this.updateDistance(oe,Ft),this.addCurrentVertex(Ft,ze,0,0,ae,qe),oe=Ft}}}}addVerticesTo(a,u,f,h,v,_,S,P,I,L){const F=(u.w-a.w)/this.tessellationStep|0;if(F>1){this.lineSoFar=a.w;const W=(u.x-a.x)/F,X=(u.y-a.y)/F,ee=(u.z-a.z)/F,ae=(u.w-a.w)/F;for(let oe=1;oe<F;++oe)a.x+=W,a.y+=X,a.z+=ee,this.lineSoFar+=ae,this.addHalfVertex(a,f,h,L,!1,S,I,a.z),this.addHalfVertex(a,v,_,L,!0,-P,I,a.z)}this.lineSoFar=u.w,this.addHalfVertex(u,f,h,L,!1,S,I,u.z),this.addHalfVertex(u,v,_,L,!0,-P,I,u.z)}addCurrentVertex(a,u,f,h,v,_,S=!1){const P=u.x+u.y*f,I=u.y-u.x*f,L=u.y*h-u.x,F=-u.y-u.x*h;if(_!=null){const X=rr+10,ee=_,ae=new rX(a.x,a.y,ee,this.lineSoFar),oe=FX(a,-10,X),_e=this.lineSoFar;if(this.currentVertex)if(oe){const Re=this.currentVertexIsOutside,De=this.currentVertex,ze=new rX(a.x,a.y,ee,this.lineSoFar);iX(De,ze,-10,X),FX(ze,-10,X)||(Re&&(this.e1=this.e2=-1,this.lineSoFar=De.w,this.addHalfVertex(De,P,I,S,!1,f,v,De.z),this.addHalfVertex(De,L,F,S,!0,-h,v,De.z)),this.addVerticesTo(De,ze,P,I,L,F,f,h,v,S))}else{const Re=this.currentVertex;this.currentVertexIsOutside&&(iX(Re,ae,-10,X),this.e1=this.e2=-1,this.lineSoFar=Re.w,this.addHalfVertex(Re,P,I,S,!1,f,v,Re.z),this.addHalfVertex(Re,L,F,S,!0,-h,v,Re.z)),this.addVerticesTo(Re,ae,P,I,L,F,f,h,v,S)}else oe||(this.addHalfVertex(a,P,I,S,!1,f,v,_),this.addHalfVertex(a,L,F,S,!0,-h,v,_));this.currentVertex=ae,this.currentVertexIsOutside=oe,this.lineSoFar=_e}else this.addHalfVertex(a,P,I,S,!1,f,v,_),this.addHalfVertex(a,L,F,S,!0,-h,v,_)}addHalfVertex({x:a,y:u},f,h,v,_,S,P,I){this.patternJoinNone&&(this.segmentPoints.length===0&&(this.segmentStart=this.lineSoFar,this.segmentStartf32=Math.fround(this.lineSoFar)),_||this.segmentPoints.push(this.lineSoFar-this.segmentStart,S)),this.layoutVertexArray.emplaceBack((a<<1)+(v?1:0),(u<<1)+(_?1:0),Math.round(63*f)+128,Math.round(63*h)+128,1+(S===0?0:S<0?-1:1),0,this.lineSoFar-this.segmentStartf32),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const L=P.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,L),P.primitiveLength++),_?this.e2=L:this.e1=L,I!=null&&this.zOffsetVertexArray.emplaceBack(I)}updateScaledDistance(){if(this.lineClips){const a=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=a*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(a,u){this.distance+=a.dist(u),this.updateScaledDistance()}}function FX(l,a,u){return l.x<a||l.x>u||l.y<a||l.y>u}let jX,VX;function UX(l,a,u){return a*(rr/(l.tileSize*Math.pow(2,u-l.tileID.overscaledZ)))}function WX(l,a){return 1/UX(l,1,a.tileZoom)}function KX(l,a,u,f){return l.translatePosMatrix(f||a.tileID.projMatrix,a,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}lt(R7,"LineBucket",{omit:["layers","patternFeatures","currentVertex","currentVertexIsOutside"]});const HX=l=>{const a=[];GX(l)&&a.push("RENDER_LINE_DASH"),l.paint.get("line-gradient")&&a.push("RENDER_LINE_GRADIENT");const u=l.paint.get("line-trim-offset");u[0]===0&&u[1]===0||a.push("RENDER_LINE_TRIM_OFFSET"),l.paint.get("line-border-width").constantOr(1)!==0&&a.push("RENDER_LINE_BORDER");const f=l.layout.get("line-join").constantOr("miter")==="none",h=!!l.paint.get("line-pattern").constantOr(1);return f&&h&&a.push("LINE_JOIN_NONE"),a};function GX(l){const a=l.paint.get("line-dasharray").value;return a.value||a.kind!=="constant"}class qX{constructor(a){this._stringToNumber={},this._numberToString=[];for(let u=0;u<a.length;u++){const f=a[u];this._stringToNumber[f]=u,this._numberToString[u]=f}}encode(a){return this._stringToNumber[a]}decode(a){return this._numberToString[a]}}var w7e={read:function(l,a,u,f,h){var v,_,S=8*h-f-1,P=(1<<S)-1,I=P>>1,L=-7,F=u?h-1:0,W=u?-1:1,X=l[a+F];for(F+=W,v=X&(1<<-L)-1,X>>=-L,L+=S;L>0;v=256*v+l[a+F],F+=W,L-=8);for(_=v&(1<<-L)-1,v>>=-L,L+=f;L>0;_=256*_+l[a+F],F+=W,L-=8);if(v===0)v=1-I;else{if(v===P)return _?NaN:1/0*(X?-1:1);_+=Math.pow(2,f),v-=I}return(X?-1:1)*_*Math.pow(2,v-f)},write:function(l,a,u,f,h,v){var _,S,P,I=8*v-h-1,L=(1<<I)-1,F=L>>1,W=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,X=f?0:v-1,ee=f?1:-1,ae=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(S=isNaN(a)?1:0,_=L):(_=Math.floor(Math.log(a)/Math.LN2),a*(P=Math.pow(2,-_))<1&&(_--,P*=2),(a+=_+F>=1?W/P:W*Math.pow(2,1-F))*P>=2&&(_++,P/=2),_+F>=L?(S=0,_=L):_+F>=1?(S=(a*P-1)*Math.pow(2,h),_+=F):(S=a*Math.pow(2,F-1)*Math.pow(2,h),_=0));h>=8;l[u+X]=255&S,X+=ee,S/=256,h-=8);for(_=_<<h|S,I+=h;I>0;l[u+X]=255&_,X+=ee,_/=256,I-=8);l[u+X-ee]|=128*ae}},ZX=ji,$7=w7e;function ji(l){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(l)?l:new Uint8Array(l||0),this.pos=0,this.type=0,this.length=this.buf.length}ji.Varint=0,ji.Fixed64=1,ji.Bytes=2,ji.Fixed32=5;var CD=4294967296,XX=1/CD,YX=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Xf(l){return l.type===ji.Bytes?l.readVarint()+l.pos:l.pos+1}function h_(l,a,u){return u?4294967296*a+(l>>>0):4294967296*(a>>>0)+(l>>>0)}function JX(l,a,u){var f=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.floor(Math.log(a)/(7*Math.LN2));u.realloc(f);for(var h=u.pos-1;h>=l;h--)u.buf[h+f]=u.buf[h]}function S7e(l,a){for(var u=0;u<l.length;u++)a.writeVarint(l[u])}function E7e(l,a){for(var u=0;u<l.length;u++)a.writeSVarint(l[u])}function A7e(l,a){for(var u=0;u<l.length;u++)a.writeFloat(l[u])}function T7e(l,a){for(var u=0;u<l.length;u++)a.writeDouble(l[u])}function P7e(l,a){for(var u=0;u<l.length;u++)a.writeBoolean(l[u])}function C7e(l,a){for(var u=0;u<l.length;u++)a.writeFixed32(l[u])}function I7e(l,a){for(var u=0;u<l.length;u++)a.writeSFixed32(l[u])}function M7e(l,a){for(var u=0;u<l.length;u++)a.writeFixed64(l[u])}function k7e(l,a){for(var u=0;u<l.length;u++)a.writeSFixed64(l[u])}function L7(l,a){return(l[a]|l[a+1]<<8|l[a+2]<<16)+16777216*l[a+3]}function m_(l,a,u){l[u]=a,l[u+1]=a>>>8,l[u+2]=a>>>16,l[u+3]=a>>>24}function QX(l,a){return(l[a]|l[a+1]<<8|l[a+2]<<16)+(l[a+3]<<24)}ji.prototype={destroy:function(){this.buf=null},readFields:function(l,a,u){for(u=u||this.length;this.pos<u;){var f=this.readVarint(),h=f>>3,v=this.pos;this.type=7&f,l(h,a,this),this.pos===v&&this.skip(f)}return a},readMessage:function(l,a){return this.readFields(l,a,this.readVarint()+this.pos)},readFixed32:function(){var l=L7(this.buf,this.pos);return this.pos+=4,l},readSFixed32:function(){var l=QX(this.buf,this.pos);return this.pos+=4,l},readFixed64:function(){var l=L7(this.buf,this.pos)+L7(this.buf,this.pos+4)*CD;return this.pos+=8,l},readSFixed64:function(){var l=L7(this.buf,this.pos)+QX(this.buf,this.pos+4)*CD;return this.pos+=8,l},readFloat:function(){var l=$7.read(this.buf,this.pos,!0,23,4);return this.pos+=4,l},readDouble:function(){var l=$7.read(this.buf,this.pos,!0,52,8);return this.pos+=8,l},readVarint:function(l){var a,u,f=this.buf;return a=127&(u=f[this.pos++]),u<128?a:(a|=(127&(u=f[this.pos++]))<<7,u<128?a:(a|=(127&(u=f[this.pos++]))<<14,u<128?a:(a|=(127&(u=f[this.pos++]))<<21,u<128?a:function(h,v,_){var S,P,I=_.buf;if(S=(112&(P=I[_.pos++]))>>4,P<128||(S|=(127&(P=I[_.pos++]))<<3,P<128)||(S|=(127&(P=I[_.pos++]))<<10,P<128)||(S|=(127&(P=I[_.pos++]))<<17,P<128)||(S|=(127&(P=I[_.pos++]))<<24,P<128)||(S|=(1&(P=I[_.pos++]))<<31,P<128))return h_(h,S,v);throw new Error("Expected varint not more than 10 bytes")}(a|=(15&(u=f[this.pos]))<<28,l,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var l=this.readVarint();return l%2==1?(l+1)/-2:l/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var l=this.readVarint()+this.pos,a=this.pos;return this.pos=l,l-a>=12&&YX?function(u,f,h){return YX.decode(u.subarray(f,h))}(this.buf,a,l):function(u,f,h){for(var v="",_=f;_<h;){var S,P,I,L=u[_],F=null,W=L>239?4:L>223?3:L>191?2:1;if(_+W>h)break;W===1?L<128&&(F=L):W===2?(192&(S=u[_+1]))==128&&(F=(31&L)<<6|63&S)<=127&&(F=null):W===3?(P=u[_+2],(192&(S=u[_+1]))==128&&(192&P)==128&&((F=(15&L)<<12|(63&S)<<6|63&P)<=2047||F>=55296&&F<=57343)&&(F=null)):W===4&&(P=u[_+2],I=u[_+3],(192&(S=u[_+1]))==128&&(192&P)==128&&(192&I)==128&&((F=(15&L)<<18|(63&S)<<12|(63&P)<<6|63&I)<=65535||F>=1114112)&&(F=null)),F===null?(F=65533,W=1):F>65535&&(F-=65536,v+=String.fromCharCode(F>>>10&1023|55296),F=56320|1023&F),v+=String.fromCharCode(F),_+=W}return v}(this.buf,a,l)},readBytes:function(){var l=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,l);return this.pos=l,a},readPackedVarint:function(l,a){if(this.type!==ji.Bytes)return l.push(this.readVarint(a));var u=Xf(this);for(l=l||[];this.pos<u;)l.push(this.readVarint(a));return l},readPackedSVarint:function(l){if(this.type!==ji.Bytes)return l.push(this.readSVarint());var a=Xf(this);for(l=l||[];this.pos<a;)l.push(this.readSVarint());return l},readPackedBoolean:function(l){if(this.type!==ji.Bytes)return l.push(this.readBoolean());var a=Xf(this);for(l=l||[];this.pos<a;)l.push(this.readBoolean());return l},readPackedFloat:function(l){if(this.type!==ji.Bytes)return l.push(this.readFloat());var a=Xf(this);for(l=l||[];this.pos<a;)l.push(this.readFloat());return l},readPackedDouble:function(l){if(this.type!==ji.Bytes)return l.push(this.readDouble());var a=Xf(this);for(l=l||[];this.pos<a;)l.push(this.readDouble());return l},readPackedFixed32:function(l){if(this.type!==ji.Bytes)return l.push(this.readFixed32());var a=Xf(this);for(l=l||[];this.pos<a;)l.push(this.readFixed32());return l},readPackedSFixed32:function(l){if(this.type!==ji.Bytes)return l.push(this.readSFixed32());var a=Xf(this);for(l=l||[];this.pos<a;)l.push(this.readSFixed32());return l},readPackedFixed64:function(l){if(this.type!==ji.Bytes)return l.push(this.readFixed64());var a=Xf(this);for(l=l||[];this.pos<a;)l.push(this.readFixed64());return l},readPackedSFixed64:function(l){if(this.type!==ji.Bytes)return l.push(this.readSFixed64());var a=Xf(this);for(l=l||[];this.pos<a;)l.push(this.readSFixed64());return l},skip:function(l){var a=7&l;if(a===ji.Varint)for(;this.buf[this.pos++]>127;);else if(a===ji.Bytes)this.pos=this.readVarint()+this.pos;else if(a===ji.Fixed32)this.pos+=4;else{if(a!==ji.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(l,a){this.writeVarint(l<<3|a)},realloc:function(l){for(var a=this.length||16;a<this.pos+l;)a*=2;if(a!==this.length){var u=new Uint8Array(a);u.set(this.buf),this.buf=u,this.length=a}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(l){this.realloc(4),m_(this.buf,l,this.pos),this.pos+=4},writeSFixed32:function(l){this.realloc(4),m_(this.buf,l,this.pos),this.pos+=4},writeFixed64:function(l){this.realloc(8),m_(this.buf,-1&l,this.pos),m_(this.buf,Math.floor(l*XX),this.pos+4),this.pos+=8},writeSFixed64:function(l){this.realloc(8),m_(this.buf,-1&l,this.pos),m_(this.buf,Math.floor(l*XX),this.pos+4),this.pos+=8},writeVarint:function(l){(l=+l||0)>268435455||l<0?function(a,u){var f,h;if(a>=0?(f=a%4294967296|0,h=a/4294967296|0):(h=~(-a/4294967296),4294967295^(f=~(-a%4294967296))?f=f+1|0:(f=0,h=h+1|0)),a>=18446744073709552e3||a<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");u.realloc(10),function(v,_,S){S.buf[S.pos++]=127&v|128,v>>>=7,S.buf[S.pos++]=127&v|128,v>>>=7,S.buf[S.pos++]=127&v|128,v>>>=7,S.buf[S.pos++]=127&v|128,S.buf[S.pos]=127&(v>>>=7)}(f,0,u),function(v,_){var S=(7&v)<<4;_.buf[_.pos++]|=S|((v>>>=3)?128:0),v&&(_.buf[_.pos++]=127&v|((v>>>=7)?128:0),v&&(_.buf[_.pos++]=127&v|((v>>>=7)?128:0),v&&(_.buf[_.pos++]=127&v|((v>>>=7)?128:0),v&&(_.buf[_.pos++]=127&v|((v>>>=7)?128:0),v&&(_.buf[_.pos++]=127&v)))))}(h,u)}(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))},writeSVarint:function(l){this.writeVarint(l<0?2*-l-1:2*l)},writeBoolean:function(l){this.writeVarint(!!l)},writeString:function(l){l=String(l),this.realloc(4*l.length),this.pos++;var a=this.pos;this.pos=function(f,h,v){for(var _,S,P=0;P<h.length;P++){if((_=h.charCodeAt(P))>55295&&_<57344){if(!S){_>56319||P+1===h.length?(f[v++]=239,f[v++]=191,f[v++]=189):S=_;continue}if(_<56320){f[v++]=239,f[v++]=191,f[v++]=189,S=_;continue}_=S-55296<<10|_-56320|65536,S=null}else S&&(f[v++]=239,f[v++]=191,f[v++]=189,S=null);_<128?f[v++]=_:(_<2048?f[v++]=_>>6|192:(_<65536?f[v++]=_>>12|224:(f[v++]=_>>18|240,f[v++]=_>>12&63|128),f[v++]=_>>6&63|128),f[v++]=63&_|128)}return v}(this.buf,l,this.pos);var u=this.pos-a;u>=128&&JX(a,u,this),this.pos=a-1,this.writeVarint(u),this.pos+=u},writeFloat:function(l){this.realloc(4),$7.write(this.buf,l,this.pos,!0,23,4),this.pos+=4},writeDouble:function(l){this.realloc(8),$7.write(this.buf,l,this.pos,!0,52,8),this.pos+=8},writeBytes:function(l){var a=l.length;this.writeVarint(a),this.realloc(a);for(var u=0;u<a;u++)this.buf[this.pos++]=l[u]},writeRawMessage:function(l,a){this.pos++;var u=this.pos;l(a,this);var f=this.pos-u;f>=128&&JX(u,f,this),this.pos=u-1,this.writeVarint(f),this.pos+=f},writeMessage:function(l,a,u){this.writeTag(l,ji.Bytes),this.writeRawMessage(a,u)},writePackedVarint:function(l,a){a.length&&this.writeMessage(l,S7e,a)},writePackedSVarint:function(l,a){a.length&&this.writeMessage(l,E7e,a)},writePackedBoolean:function(l,a){a.length&&this.writeMessage(l,P7e,a)},writePackedFloat:function(l,a){a.length&&this.writeMessage(l,A7e,a)},writePackedDouble:function(l,a){a.length&&this.writeMessage(l,T7e,a)},writePackedFixed32:function(l,a){a.length&&this.writeMessage(l,C7e,a)},writePackedSFixed32:function(l,a){a.length&&this.writeMessage(l,I7e,a)},writePackedFixed64:function(l,a){a.length&&this.writeMessage(l,M7e,a)},writePackedSFixed64:function(l,a){a.length&&this.writeMessage(l,k7e,a)},writeBytesField:function(l,a){this.writeTag(l,ji.Bytes),this.writeBytes(a)},writeFixed32Field:function(l,a){this.writeTag(l,ji.Fixed32),this.writeFixed32(a)},writeSFixed32Field:function(l,a){this.writeTag(l,ji.Fixed32),this.writeSFixed32(a)},writeFixed64Field:function(l,a){this.writeTag(l,ji.Fixed64),this.writeFixed64(a)},writeSFixed64Field:function(l,a){this.writeTag(l,ji.Fixed64),this.writeSFixed64(a)},writeVarintField:function(l,a){this.writeTag(l,ji.Varint),this.writeVarint(a)},writeSVarintField:function(l,a){this.writeTag(l,ji.Varint),this.writeSVarint(a)},writeStringField:function(l,a){this.writeTag(l,ji.Bytes),this.writeString(a)},writeFloatField:function(l,a){this.writeTag(l,ji.Fixed32),this.writeFloat(a)},writeDoubleField:function(l,a){this.writeTag(l,ji.Fixed64),this.writeDouble(a)},writeBooleanField:function(l,a){this.writeVarintField(l,!!a)}};var zw=V(ZX);const O7e=["id","tile","layer","source","sourceLayer","state"];class eY{constructor(a,u,f,h,v){this.type="Feature",this._vectorTileFeature=a,this._z=u,this._x=f,this._y=h,this.properties=a.properties,this.id=v}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(a){this._geometry=a}toJSON(){const a={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};for(const u of O7e)this[u]!==void 0&&(a[u]=this[u]);return a}}class D7e{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,u,f){const h=String(u);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][h]=this.stateChanges[a][h]||{},bo(this.stateChanges[a][h],f),this.deletedStates[a]===null){this.deletedStates[a]={};for(const v in this.state[a])v!==h&&(this.deletedStates[a][v]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][h]===null){this.deletedStates[a][h]={};for(const v in this.state[a][h])f[v]||(this.deletedStates[a][h][v]=null)}else for(const v in f)this.deletedStates[a]&&this.deletedStates[a][h]&&this.deletedStates[a][h][v]===null&&delete this.deletedStates[a][h][v]}removeFeatureState(a,u,f){if(this.deletedStates[a]===null)return;const h=String(u);if(this.deletedStates[a]=this.deletedStates[a]||{},f&&u!==void 0)this.deletedStates[a][h]!==null&&(this.deletedStates[a][h]=this.deletedStates[a][h]||{},this.deletedStates[a][h][f]=null);else if(u!==void 0)if(this.stateChanges[a]&&this.stateChanges[a][h])for(f in this.deletedStates[a][h]={},this.stateChanges[a][h])this.deletedStates[a][h][f]=null;else this.deletedStates[a][h]=null;else this.deletedStates[a]=null}getState(a,u){const f=String(u),h=bo({},(this.state[a]||{})[f],(this.stateChanges[a]||{})[f]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){const v=this.deletedStates[a][u];if(v===null)return{};for(const _ in v)delete h[_]}return h}initializeTileState(a,u){a.setFeatureState(this.state,u)}coalesceChanges(a,u){const f={};for(const h in this.stateChanges){this.state[h]=this.state[h]||{};const v={};for(const _ in this.stateChanges[h])this.state[h][_]||(this.state[h][_]={}),bo(this.state[h][_],this.stateChanges[h][_]),v[_]=this.state[h][_];f[h]=v}for(const h in this.deletedStates){this.state[h]=this.state[h]||{};const v={};if(this.deletedStates[h]===null)for(const _ in this.state[h])v[_]={},this.state[h][_]={};else for(const _ in this.deletedStates[h]){if(this.deletedStates[h][_]===null)this.state[h][_]={};else if(this.state[h][_])for(const S of Object.keys(this.deletedStates[h][_]))delete this.state[h][_][S];v[_]=this.state[h][_]}f[h]=f[h]||{},bo(f[h],v)}if(this.stateChanges={},this.deletedStates={},Object.keys(f).length!==0)for(const h in a)a[h].setFeatureState(f,u)}}class tY{constructor(a,u){this.tileID=a,this.x=a.canonical.x,this.y=a.canonical.y,this.z=a.canonical.z,this.grid=new xt(rr,16,0),this.featureIndexArray=new Xq,this.promoteId=u,this.is3DTile=!1}insert(a,u,f,h,v,_=0,S=0){const P=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,h,v,_);const I=this.grid;for(let L=0;L<u.length;L++){const F=u[L],W=[1/0,1/0,-1/0,-1/0];for(let X=0;X<F.length;X++){const ee=F[X];W[0]=Math.min(W[0],ee.x),W[1]=Math.min(W[1],ee.y),W[2]=Math.max(W[2],ee.x),W[3]=Math.max(W[3],ee.y)}S!==0&&(W[0]-=S,W[1]-=S,W[2]+=S,W[3]+=S),W[0]<rr&&W[1]<rr&&W[2]>=0&&W[3]>=0&&I.insert(P,W[0],W[1],W[2],W[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new ED(new zw(this.rawTileData)).layers,this.sourceLayerCoder=new qX(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const a in this.vtLayers)this.vtFeatures[a]=[]}return this.vtLayers}query(a,u,f,h){this.loadVTLayers();const v=a.params||{},_=Oc(v.filter),S=a.tileResult,P=a.transform,I=S.bufferedTilespaceBounds,L=this.grid.query(I.min.x,I.min.y,I.max.x,I.max.y,(ee,ae,oe,_e)=>mZ(S.bufferedTilespaceGeometry,ee,ae,oe,_e));L.sort(R7e);let F=null;P.elevation&&L.length>0&&(F=p_.create(P.elevation,this.tileID));const W={};let X;for(let ee=0;ee<L.length;ee++){const ae=L[ee];if(ae===X)continue;X=ae;const oe=this.featureIndexArray.get(ae);let _e=null;if(this.is3DTile){const Re=this.bucketLayerIDs[0][0],De=u[Re];if(De.type!=="model")continue;const{queryFeature:ze,intersectionZ:qe}=De.queryIntersectsMatchingFeature(S,oe.featureIndex,_,P);ze&&this.appendToResult(W,Re,oe.featureIndex,ze,qe)}else this.loadMatchingFeature(W,oe,_,v.layers,v.availableImages,u,f,h,(Re,De,ze,qe=0)=>(_e||(_e=$c(Re,this.tileID.canonical,a.tileTransform)),De.queryIntersectsFeature(S,Re,ze,_e,this.z,a.transform,a.pixelPosMatrix,F,qe)))}return W}loadMatchingFeature(a,u,f,h,v,_,S,P,I){const{featureIndex:L,bucketIndex:F,sourceLayerIndex:W,layoutVertexArrayOffset:X}=u,ee=this.bucketLayerIDs[F];if(h&&!function(Re,De){for(let ze=0;ze<Re.length;ze++)if(De.indexOf(Re[ze])>=0)return!0;return!1}(h,ee))return;const ae=this.sourceLayerCoder.decode(W),oe=this.vtLayers[ae].feature(L);if(f.needGeometry){const Re=Gf(oe,!0);if(!f.filter(new Wr(this.tileID.overscaledZ),Re,this.tileID.canonical))return}else if(!f.filter(new Wr(this.tileID.overscaledZ),oe))return;const _e=this.getId(oe,ae);for(let Re=0;Re<ee.length;Re++){const De=ee[Re];if(h&&h.indexOf(De)<0)continue;const ze=_[De];if(!ze)continue;let qe={};_e!==void 0&&P&&(qe=P.getState(ze.sourceLayer||"_geojsonTileLayer",_e));const Ze=!I||I(oe,ze,qe,X);if(!Ze)continue;const rt=new eY(oe,this.z,this.x,this.y,_e),ut=bo({},S[De]);ut.paint=rY(ut.paint,ze.paint,oe,qe,v),ut.layout=rY(ut.layout,ze.layout,oe,qe,v),rt.layer=ut,this.appendToResult(a,De,L,rt,Ze)}}appendToResult(a,u,f,h,v){let _=a[u];_===void 0&&(_=a[u]=[]),_.push({featureIndex:f,feature:h,intersectionZ:v})}lookupSymbolFeatures(a,u,f,h,v,_,S,P){const I={};this.loadVTLayers();const L=Oc(v);for(const F of a)this.loadMatchingFeature(I,{bucketIndex:f,sourceLayerIndex:h,featureIndex:F,layoutVertexArrayOffset:0},L,_,S,P,u);return I}loadFeature(a){const{featureIndex:u,sourceLayerIndex:f}=a;this.loadVTLayers();const h=this.sourceLayerCoder.decode(f),v=this.vtFeatures[h];if(v[u])return v[u];const _=this.vtLayers[h].feature(u);return v[u]=_,_}hasLayer(a){for(const u of this.bucketLayerIDs)for(const f of u)if(a===f)return!0;return!1}getId(a,u){let f=a.id;if(this.promoteId){const h=typeof this.promoteId=="string"?this.promoteId:this.promoteId[u];h!=null&&(f=a.properties[h]),typeof f=="boolean"&&(f=Number(f))}return f}}function rY(l,a,u,f,h){return p0(l,(v,_)=>{const S=a instanceof fo?a.get(_):null;return S&&S.evaluate?S.evaluate(u,f,h):S})}function R7e(l,a){return a-l}lt(tY,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});var Io=24;const Lc=128;function ID(l,a){const{expression:u}=a;if(u.kind==="constant")return{kind:"constant",layoutSize:u.evaluate(new Wr(l+1))};if(u.kind==="source")return{kind:"source"};{const{zoomStops:f,interpolationType:h}=u;let v=0;for(;v<f.length&&f[v]<=l;)v++;v=Math.max(0,v-1);let _=v;for(;_<f.length&&f[_]<l+1;)_++;_=Math.min(f.length-1,_);const S=f[v],P=f[_];return u.kind==="composite"?{kind:"composite",minZoom:S,maxZoom:P,interpolationType:h}:{kind:"camera",minZoom:S,maxZoom:P,minSize:u.evaluate(new Wr(S)),maxSize:u.evaluate(new Wr(P)),interpolationType:h}}}function B7(l,{uSize:a,uSizeT:u},{lowerSize:f,upperSize:h}){return l.kind==="source"?f/Lc:l.kind==="composite"?Rr(f/Lc,h/Lc,u):a}function g_(l,a){let u=0,f=0;if(l.kind==="constant")f=l.layoutSize;else if(l.kind!=="source"){const{interpolationType:h,minZoom:v,maxZoom:_}=l,S=h?pn(el.interpolationFactor(h,a,v,_),0,1):0;l.kind==="camera"?f=Rr(l.minSize,l.maxSize,S):u=S}return{uSizeT:u,uSize:f}}var $7e=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:Lc,evaluateSizeForFeature:B7,evaluateSizeForZoom:g_,getSizeData:ID});function L7e(l,a,u){return l.sections.forEach(f=>{f.text=function(h,v,_){const S=v.layout.get("text-transform").evaluate(_,{});return S==="uppercase"?h=h.toLocaleUpperCase():S==="lowercase"&&(h=h.toLocaleLowerCase()),yn.applyArabicShaping&&(h=yn.applyArabicShaping(h)),h}(f.text,a,u)}),l}const Nw={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂","←":"↑","→":"↓"};function B7e(l){return l==="︶"||l==="﹈"||l==="︸"||l==="﹄"||l==="﹂"||l==="︾"||l==="︼"||l==="︺"||l==="︘"||l==="﹀"||l==="︐"||l==="︓"||l==="︔"||l==="｀"||l==="￣"||l==="︑"||l==="︒"}function z7e(l){return l==="︵"||l==="﹇"||l==="︷"||l==="﹃"||l==="﹁"||l==="︽"||l==="︻"||l==="︹"||l==="︗"||l==="︿"}const MD=3;function N7e(l,a,u){a.glyphs=[],l===1&&u.readMessage(F7e,a)}function F7e(l,a,u){if(l===3){const{id:f,bitmap:h,width:v,height:_,left:S,top:P,advance:I}=u.readMessage(j7e,{});a.glyphs.push({id:f,bitmap:new lm({width:v+2*MD,height:_+2*MD},h),metrics:{width:v,height:_,left:S,top:P,advance:I}})}else l===4?a.ascender=u.readSVarint():l===5&&(a.descender=u.readSVarint())}function j7e(l,a,u){l===1?a.id=u.readVarint():l===2?a.bitmap=u.readBytes():l===3?a.width=u.readVarint():l===4?a.height=u.readVarint():l===5?a.left=u.readSVarint():l===6?a.top=u.readSVarint():l===7&&(a.advance=u.readVarint())}const nY=MD,eu={horizontal:1,vertical:2,horizontalOnly:3};class Fw{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(a,u){const f=new Fw;return f.scale=a||1,f.fontStack=u,f}static forImage(a){const u=new Fw;return u.imageName=a,u}}class y_{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(a,u){const f=new y_;for(let h=0;h<a.sections.length;h++){const v=a.sections[h];v.image?f.addImageSection(v):f.addTextSection(v,u)}return f}length(){return this.text.length}getSection(a){return this.sections[this.sectionIndex[a]]}getSections(){return this.sections}getSectionIndex(a){return this.sectionIndex[a]}getCodePoint(a){return this.text.codePointAt(a)}verticalizePunctuation(a){this.text=function(u,f){let h="";for(let v=0;v<u.length;v++){const _=u.charCodeAt(v+1)||null,S=u.charCodeAt(v-1)||null;h+=!f&&(_&&vr(_)&&!Nw[u[v+1]]||S&&vr(S)&&!Nw[u[v-1]])||!Nw[u[v]]?u[v]:Nw[u[v]]}return h}(this.text,a)}trim(){let a=0;for(let f=0;f<this.text.length&&z7[this.text.charCodeAt(f)];f++)a++;let u=this.text.length;for(let f=this.text.length-1;f>=0&&f>=a&&z7[this.text.charCodeAt(f)];f--)u--;this.text=this.text.substring(a,u),this.sectionIndex=this.sectionIndex.slice(a,u)}substring(a,u){const f=new y_;return f.text=this.text.substring(a,u),f.sectionIndex=this.sectionIndex.slice(a,u),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((a,u)=>Math.max(a,this.sections[u].scale),0)}addTextSection(a,u){this.text+=a.text,this.sections.push(Fw.forText(a.scale,a.fontStack||u));const f=this.sections.length-1;for(let h=0;h<a.text.length;++h)this.sectionIndex.push(f)}addImageSection(a){const u=a.image?a.image.namePrimary:"";if(u.length===0)return void la("Can't add FormattedSection with an empty image.");const f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCodePoint(f),this.sections.push(Fw.forImage(u)),this.sectionIndex.push(this.sections.length-1)):la("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function kD(l,a,u,f,h,v,_,S,P,I,L,F,W,X,ee){const ae=y_.fromFeature(l,h);F===eu.vertical&&ae.verticalizePunctuation(W);let oe=[];const _e=function(Ze,rt,ut,mt,St,yt){if(!Ze)return[];const Ot=[],Ht=function(Ft,er,$t,ir,Qt,qt){let Pr=0;for(let Sr=0;Sr<Ft.length();Sr++){const pr=Ft.getSection(Sr);Pr+=iY(Ft.getCodePoint(Sr),pr,ir,Qt,er,qt)}return Pr/Math.max(1,Math.ceil(Pr/$t))}(Ze,rt,ut,mt,St,yt),Dt=Ze.text.indexOf("​")>=0;let Jt=0;for(let Ft=0;Ft<Ze.length();Ft++){const er=Ze.getSection(Ft),$t=Ze.getCodePoint(Ft);if(z7[$t]||(Jt+=iY($t,er,mt,St,rt,yt)),Ft<Ze.length()-1){const ir=!((Mt=$t)<11904||!(st["Bopomofo Extended"](Mt)||st.Bopomofo(Mt)||st["CJK Compatibility Forms"](Mt)||st["CJK Compatibility Ideographs"](Mt)||st["CJK Compatibility"](Mt)||st["CJK Radicals Supplement"](Mt)||st["CJK Strokes"](Mt)||st["CJK Symbols and Punctuation"](Mt)||st["CJK Unified Ideographs Extension A"](Mt)||st["CJK Unified Ideographs"](Mt)||st["Enclosed CJK Letters and Months"](Mt)||st["Halfwidth and Fullwidth Forms"](Mt)||st.Hiragana(Mt)||st["Ideographic Description Characters"](Mt)||st["Kangxi Radicals"](Mt)||st["Katakana Phonetic Extensions"](Mt)||st.Katakana(Mt)||st["Vertical Forms"](Mt)||st["Yi Radicals"](Mt)||st["Yi Syllables"](Mt)));(V7e[$t]||ir||er.imageName)&&Ot.push(oY(Ft+1,Jt,Ht,Ot,U7e($t,Ze.getCodePoint(Ft+1),ir&&Dt),!1))}}var Mt;return sY(oY(Ze.length(),Jt,Ht,Ot,0,!0))}(ae,I,v,a,f,X),{processBidirectionalText:Re,processStyledBidirectionalText:De}=yn;if(Re&&ae.sections.length===1){const Ze=Re(ae.toString(),_e);for(const rt of Ze){const ut=new y_;ut.text=rt,ut.sections=ae.sections;for(let mt=0;mt<rt.length;mt++)ut.sectionIndex.push(0);oe.push(ut)}}else if(De){const Ze=De(ae.text,ae.sectionIndex,_e);for(const rt of Ze){const ut=new y_;ut.text=rt[0],ut.sectionIndex=rt[1],ut.sections=ae.sections,oe.push(ut)}}else oe=function(Ze,rt){const ut=[],mt=Ze.text;let St=0;for(const yt of rt)ut.push(Ze.substring(St,yt)),St=yt;return St<mt.length&&ut.push(Ze.substring(St,mt.length)),ut}(ae,_e);const ze=[],qe={positionedLines:ze,text:ae.toString(),top:L[1],bottom:L[1],left:L[0],right:L[0],writingMode:F,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Ze,rt,ut,mt,St,yt,Ot,Ht,Dt,Jt,Mt,Ft){let er=0,$t=0,ir=0;const Qt=Ht==="right"?1:Ht==="left"?0:.5;let qt=!1;for(const Tr of St){const _r=Tr.getSections();for(const Xr of _r){if(Xr.imageName)continue;const Jr=rt[Xr.fontStack];if(Jr&&(qt=Jr.ascender!==void 0&&Jr.descender!==void 0,!qt))break}if(!qt)break}let Pr=0;for(const Tr of St){Tr.trim();const _r=Tr.getMaxScale(),Xr=(_r-1)*Io,Jr={positionedGlyphs:[],lineOffset:0};Ze.positionedLines[Pr]=Jr;const Yr=Jr.positionedGlyphs;let on=0;if(!Tr.length()){$t+=yt,++Pr;continue}let Mn=0,_n=0;for(let di=0;di<Tr.length();di++){const Qr=Tr.getSection(di),Yn=Tr.getSectionIndex(di),Jn=Tr.getCodePoint(di);let Ai=Qr.scale,ia=null,ya=null,aa=null,qi=Io,no=0;const Ia=!(Dt===eu.horizontal||!Mt&&!lr(Jn)||Mt&&(z7[Jn]||(Sr=Jn,st.Arabic(Sr)||st["Arabic Supplement"](Sr)||st["Arabic Extended-A"](Sr)||st["Arabic Presentation Forms-A"](Sr)||st["Arabic Presentation Forms-B"](Sr))));if(Qr.imageName){const Mo=mt[Qr.imageName];if(!Mo)continue;aa=Qr.imageName,Ze.iconsInText=Ze.iconsInText||!0,ya=Mo.paddedRect;const wi=Mo.displaySize;Ai=Ai*Io/Ft,ia={width:wi[0],height:wi[1],left:0,top:-nY,advance:Ia?wi[1]:wi[0],localGlyph:!1},no=qt?-ia.height*Ai:_r*Io-17-wi[1]*Ai,qi=ia.advance;const nl=(Ia?wi[0]:wi[1])*Ai-Io*_r;nl>0&&nl>on&&(on=nl)}else{const Mo=ut[Qr.fontStack];if(!Mo)continue;Mo[Jn]&&(ya=Mo[Jn]);const wi=rt[Qr.fontStack];if(!wi)continue;const nl=wi.glyphs[Jn];if(!nl)continue;if(ia=nl.metrics,qi=Jn!==8203?Io:0,qt){const Vc=wi.ascender!==void 0?Math.abs(wi.ascender):0,ju=wi.descender!==void 0?Math.abs(wi.descender):0,Vu=(Vc+ju)*Ai;Mn<Vu&&(Mn=Vu,_n=(Vc-ju)/2*Ai),no=-Vc*Ai}else no=(_r-Ai)*Io-17}Ia?(Ze.verticalizable=!0,Yr.push({glyph:Jn,imageName:aa,x:er,y:$t+no,vertical:Ia,scale:Ai,localGlyph:ia.localGlyph,fontStack:Qr.fontStack,sectionIndex:Yn,metrics:ia,rect:ya}),er+=qi*Ai+Jt):(Yr.push({glyph:Jn,imageName:aa,x:er,y:$t+no,vertical:Ia,scale:Ai,localGlyph:ia.localGlyph,fontStack:Qr.fontStack,sectionIndex:Yn,metrics:ia,rect:ya}),er+=ia.advance*Ai+Jt)}Yr.length!==0&&(ir=Math.max(er-Jt,ir),qt?lY(Yr,Qt,on,_n,yt*_r/2):lY(Yr,Qt,on,0,yt/2)),er=0;const si=yt*_r+on;Jr.lineOffset=Math.max(on,Xr),$t+=si,++Pr}var Sr;const pr=$t,{horizontalAlign:nr,verticalAlign:Ur}=OD(Ot);(function(Tr,_r,Xr,Jr,Yr,on){const Mn=(_r-Xr)*Yr,_n=-on*Jr;for(const si of Tr)for(const di of si.positionedGlyphs)di.x+=Mn,di.y+=_n})(Ze.positionedLines,Qt,nr,Ur,ir,pr),Ze.top+=-Ur*pr,Ze.bottom=Ze.top+pr,Ze.left+=-nr*ir,Ze.right=Ze.left+ir,Ze.hasBaseline=qt}(qe,a,u,f,oe,_,S,P,F,I,W,ee),!function(Ze){for(const rt of Ze)if(rt.positionedGlyphs.length!==0)return!1;return!0}(ze)&&qe}const z7={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},V7e={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function iY(l,a,u,f,h,v){if(a.imageName){const _=f[a.imageName];return _?_.displaySize[0]*a.scale*Io/v+h:0}{const _=u[a.fontStack],S=_&&_.glyphs[l];return S?S.metrics.advance*a.scale+h:0}}function aY(l,a,u,f){const h=Math.pow(l-a,2);return f?l<a?h/2:2*h:h+Math.abs(u)*u}function U7e(l,a,u){let f=0;return l===10&&(f-=1e4),u&&(f+=150),l!==40&&l!==65288||(f+=50),a!==41&&a!==65289||(f+=50),f}function oY(l,a,u,f,h,v){let _=null,S=aY(a,u,h,v);for(const P of f){const I=aY(a-P.x,u,h,v)+P.badness;I<=S&&(_=P,S=I)}return{index:l,x:a,priorBreak:_,badness:S}}function sY(l){return l?sY(l.priorBreak).concat(l.index):[]}function OD(l){let a=.5,u=.5;switch(l){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(l){case"bottom":case"bottom-right":case"bottom-left":u=1;break;case"top":case"top-right":case"top-left":u=0}return{horizontalAlign:a,verticalAlign:u}}function lY(l,a,u,f,h){if(!(a||u||f||h))return;const v=l.length-1,_=l[v],S=(_.x+_.metrics.advance*_.scale)*a;for(let P=0;P<=v;P++)l[P].x-=S,l[P].y+=u+f+h}function W7e(l,a,u,f){const{horizontalAlign:h,verticalAlign:v}=OD(f),_=u[0]-l.displaySize[0]*h,S=u[1]-l.displaySize[1]*v;return{imagePrimary:l,imageSecondary:a,top:S,bottom:S+l.displaySize[1],left:_,right:_+l.displaySize[0]}}function uY(l,a,u,f,h,v){const _=l.imagePrimary;let S;if(_.content){const oe=_.content,_e=_.pixelRatio||1;S=[oe[0]/_e,oe[1]/_e,_.displaySize[0]-oe[2]/_e,_.displaySize[1]-oe[3]/_e]}const P=a.left*v,I=a.right*v;let L,F,W,X;u==="width"||u==="both"?(X=h[0]+P-f[3],F=h[0]+I+f[1]):(X=h[0]+(P+I-_.displaySize[0])/2,F=X+_.displaySize[0]);const ee=a.top*v,ae=a.bottom*v;return u==="height"||u==="both"?(L=h[1]+ee-f[0],W=h[1]+ae+f[2]):(L=h[1]+(ee+ae-_.displaySize[1])/2,W=L+_.displaySize[1]),{imagePrimary:_,imageSecondary:void 0,top:L,right:F,bottom:W,left:X,collisionPadding:S}}class Yf extends or{constructor(a,u,f,h,v){super(a,u),this.angle=h,this.z=f,v!==void 0&&(this.segment=v)}clone(){return new Yf(this.x,this.y,this.z,this.angle,this.segment)}}function cY(l,a,u,f,h){if(a.segment===void 0)return!0;let v=a,_=a.segment+1,S=0;for(;S>-u/2;){if(_--,_<0)return!1;S-=l[_].dist(v),v=l[_]}S+=l[_].dist(l[_+1]),_++;const P=[];let I=0;for(;S<u/2;){const L=l[_],F=l[_+1];if(!F)return!1;let W=l[_-1].angleTo(L)-L.angleTo(F);for(W=Math.abs((W+3*Math.PI)%(2*Math.PI)-Math.PI),P.push({distance:S,angleDelta:W}),I+=W;S-P[0].distance>f;)I-=P.shift().angleDelta;if(I>h)return!1;_++,S+=L.dist(F)}return!0}function dY(l){let a=0;for(let u=0;u<l.length-1;u++)a+=l[u].dist(l[u+1]);return a}function fY(l,a,u){return l?.6*a*u:0}function pY(l,a){return Math.max(l?l.right-l.left:0,a?a.right-a.left:0)}function K7e(l,a,u,f,h,v){const _=fY(u,h,v),S=pY(u,f)*v;let P=0;const I=dY(l)/2;for(let L=0;L<l.length-1;L++){const F=l[L],W=l[L+1],X=F.dist(W);if(P+X>I){const ee=(I-P)/X,ae=Rr(F.x,W.x,ee),oe=Rr(F.y,W.y,ee),_e=new Yf(ae,oe,0,W.angleTo(F),L);return!_||cY(l,_e,S,_,a)?_e:void 0}P+=X}}function H7e(l,a,u,f,h,v,_,S,P){const I=fY(f,v,_),L=pY(f,h),F=L*_,W=l[0].x===0||l[0].x===P||l[0].y===0||l[0].y===P;return a-F<a/4&&(a=F+a/4),hY(l,W?a/2*S%a:(L/2+2*v)*_*S%a,a,I,u,F,W,!1,P)}function hY(l,a,u,f,h,v,_,S,P){const I=v/2,L=dY(l);let F=0,W=a-u,X=[];for(let ee=0;ee<l.length-1;ee++){const ae=l[ee],oe=l[ee+1],_e=ae.dist(oe),Re=oe.angleTo(ae);for(;W+u<F+_e;){W+=u;const De=(W-F)/_e,ze=Rr(ae.x,oe.x,De),qe=Rr(ae.y,oe.y,De);if(ze>=0&&ze<P&&qe>=0&&qe<P&&W-I>=0&&W+I<=L){const Ze=new Yf(ze,qe,0,Re,ee);f&&!cY(l,Ze,v,f,h)||X.push(Ze)}}F+=_e}return S||X.length||_||(X=hY(l,F/2,u,f,h,v,_,!0,P)),X}function mY(l,a,u,f,h){const v=[];for(let _=0;_<l.length;_++){const S=l[_];let P;for(let I=0;I<S.length-1;I++){let L=S[I],F=S[I+1];L.x<a&&F.x<a||(L.x<a?L=new or(a,L.y+(a-L.x)/(F.x-L.x)*(F.y-L.y))._round():F.x<a&&(F=new or(a,L.y+(a-L.x)/(F.x-L.x)*(F.y-L.y))._round()),L.y<u&&F.y<u||(L.y<u?L=new or(L.x+(u-L.y)/(F.y-L.y)*(F.x-L.x),u)._round():F.y<u&&(F=new or(L.x+(u-L.y)/(F.y-L.y)*(F.x-L.x),u)._round()),L.x>=f&&F.x>=f||(L.x>=f?L=new or(f,L.y+(f-L.x)/(F.x-L.x)*(F.y-L.y))._round():F.x>=f&&(F=new or(f,L.y+(f-L.x)/(F.x-L.x)*(F.y-L.y))._round()),L.y>=h&&F.y>=h||(L.y>=h?L=new or(L.x+(h-L.y)/(F.y-L.y)*(F.x-L.x),h)._round():F.y>=h&&(F=new or(L.x+(h-L.y)/(F.y-L.y)*(F.x-L.x),h)._round()),P&&L.equals(P[P.length-1])||(P=[L],v.push(P)),P.push(F)))))}}return v}function gY(l){let a=0,u=0;for(const _ of l)a+=_.w*_.h,u=Math.max(u,_.w);l.sort((_,S)=>S.h-_.h);const f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),u),h:1/0}];let h=0,v=0;for(const _ of l)for(let S=f.length-1;S>=0;S--){const P=f[S];if(!(_.w>P.w||_.h>P.h)){if(_.x=P.x,_.y=P.y,v=Math.max(v,_.y+_.h),h=Math.max(h,_.x+_.w),_.w===P.w&&_.h===P.h){const I=f.pop();S<f.length&&(f[S]=I)}else _.h===P.h?(P.x+=_.w,P.w-=_.w):_.w===P.w?(P.y+=_.h,P.h-=_.h):(f.push({x:P.x+_.w,y:P.y,w:P.w-_.w,h:_.h}),P.y+=_.h,P.h-=_.h);break}}return{w:h,h:v,fill:a/(h*v)||0}}lt(Yf,"Anchor");const Tl=1;class DD{constructor(a,{pixelRatio:u,version:f,stretchX:h,stretchY:v,content:_}){this.paddedRect=a,this.pixelRatio=u,this.stretchX=h,this.stretchY=v,this.content=_,this.version=f}get tl(){return[this.paddedRect.x+Tl,this.paddedRect.y+Tl]}get br(){return[this.paddedRect.x+this.paddedRect.w-Tl,this.paddedRect.y+this.paddedRect.h-Tl]}get displaySize(){return[(this.paddedRect.w-2*Tl)/this.pixelRatio,(this.paddedRect.h-2*Tl)/this.pixelRatio]}}class yY{constructor(a,u,f){const h={},v={};this.haveRenderCallbacks=[];const _=[];this.addImages(a,h,_),this.addImages(u,v,_);const{w:S,h:P}=gY(_),I=new Ql({width:S||1,height:P||1});for(const L in a){const F=a[L],W=h[L].paddedRect;Ql.copy(F.data,I,{x:0,y:0},{x:W.x+Tl,y:W.y+Tl},F.data,f,F.sdf)}for(const L in u){const F=u[L],W=v[L].paddedRect,X=W.x+Tl,ee=W.y+Tl,ae=F.data.width,oe=F.data.height;Ql.copy(F.data,I,{x:0,y:0},{x:X,y:ee},F.data,f),Ql.copy(F.data,I,{x:0,y:oe-1},{x:X,y:ee-1},{width:ae,height:1},f),Ql.copy(F.data,I,{x:0,y:0},{x:X,y:ee+oe},{width:ae,height:1},f),Ql.copy(F.data,I,{x:ae-1,y:0},{x:X-1,y:ee},{width:1,height:oe},f),Ql.copy(F.data,I,{x:0,y:0},{x:X+ae,y:ee},{width:1,height:oe},f)}this.image=I,this.iconPositions=h,this.patternPositions=v}addImages(a,u,f){for(const h in a){const v=a[h],_={x:0,y:0,w:v.data.width+2*Tl,h:v.data.height+2*Tl};f.push(_),u[h]=new DD(_,v),v.hasRenderCallback&&this.haveRenderCallbacks.push(h)}}patchUpdatedImages(a,u,f){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(h=>a.hasImage(h,f)),a.dispatchRenderCallbacks(this.haveRenderCallbacks,f);for(const h in a.getUpdatedImages(f))this.patchUpdatedImage(this.iconPositions[h],a.getImage(h,f),u),this.patchUpdatedImage(this.patternPositions[h],a.getImage(h,f),u)}patchUpdatedImage(a,u,f){if(!a||!u||a.version===u.version)return;a.version=u.version;const[h,v]=a.tl,_=!!Object.keys(this.patternPositions).length;f.update(u.data,{useMipmap:_},{x:h,y:v})}}lt(DD,"ImagePosition"),lt(yY,"ImageAtlas");const jw=1e20;function vY(l,a,u,f,h,v,_,S,P){for(let I=a;I<a+f;I++)_Y(l,u*v+I,v,h,_,S,P);for(let I=u;I<u+h;I++)_Y(l,I*v+a,1,f,_,S,P)}function _Y(l,a,u,f,h,v,_){v[0]=0,_[0]=-jw,_[1]=jw,h[0]=l[a];for(let S=1,P=0,I=0;S<f;S++){h[S]=l[a+S*u];const L=S*S;do{const F=v[P];I=(h[S]-h[F]+L-F*F)/(S-F)/2}while(I<=_[P]&&--P>-1);P++,v[P]=S,_[P]=I,_[P+1]=jw}for(let S=0,P=0;S<f;S++){for(;_[P+1]<S;)P++;const I=v[P],L=S-I;l[a+S*u]=h[I]+L*L}}const Bc=2,RD={none:0,ideographs:1,all:2};class v_{constructor(a,u,f){this.requestManager=a,this.localGlyphMode=u,this.localFontFamily=f,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(a,u){this.urls[u]=a}getGlyphs(a,u,f){const h=[],v=this.urls[u]||x.GLYPHS_URL;for(const _ in a)for(const S of a[_])h.push({stack:_,id:S});d0(h,({stack:_,id:S},P)=>{let I=this.entries[_];I||(I=this.entries[_]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let L=I.glyphs[S];if(L!==void 0)return void P(null,{stack:_,id:S,glyph:L});if(L=this._tinySDF(I,_,S),L)return I.glyphs[S]=L,void P(null,{stack:_,id:S,glyph:L});const F=Math.floor(S/256);if(256*F>65535)return void P(new Error("glyphs > 65535 not supported"));if(I.ranges[F])return void P(null,{stack:_,id:S,glyph:L});let W=I.requests[F];W||(W=I.requests[F]=[],v_.loadGlyphRange(_,F,v,this.requestManager,(X,ee)=>{if(ee){I.ascender=ee.ascender,I.descender=ee.descender;for(const ae in ee.glyphs)this._doesCharSupportLocalGlyph(+ae)||(I.glyphs[+ae]=ee.glyphs[+ae]);I.ranges[F]=!0}for(const ae of W)ae(X,ee);delete I.requests[F]})),W.push((X,ee)=>{X?P(X):ee&&P(null,{stack:_,id:S,glyph:ee.glyphs[S]||null})})},(_,S)=>{if(_)f(_);else if(S){const P={};for(const{stack:I,id:L,glyph:F}of S)P[I]===void 0&&(P[I]={}),P[I].glyphs===void 0&&(P[I].glyphs={}),P[I].glyphs[L]=F&&{id:F.id,bitmap:F.bitmap.clone(),metrics:F.metrics},P[I].ascender=this.entries[I].ascender,P[I].descender=this.entries[I].descender;f(null,P)}})}_doesCharSupportLocalGlyph(a){return this.localGlyphMode!==RD.none&&(this.localGlyphMode===RD.all?!!this.localFontFamily:!!this.localFontFamily&&(st["CJK Unified Ideographs"](a)||st["Hangul Syllables"](a)||st.Hiragana(a)||st.Katakana(a)||st["CJK Symbols and Punctuation"](a)||st["CJK Unified Ideographs Extension A"](a)||st["CJK Unified Ideographs Extension B"](a)))}_tinySDF(a,u,f){const h=this.localFontFamily;if(!h||!this._doesCharSupportLocalGlyph(f))return;let v=a.tinySDF;if(!v){let ae="400";/bold/i.test(u)?ae="900":/medium/i.test(u)?ae="500":/light/i.test(u)&&(ae="200"),v=a.tinySDF=new v_.TinySDF({fontFamily:h,fontWeight:ae,fontSize:24*Bc,buffer:3*Bc,radius:8*Bc}),v.fontWeight=ae}if(this.localGlyphs[v.fontWeight][f])return this.localGlyphs[v.fontWeight][f];const _=String.fromCodePoint(f),{data:S,width:P,height:I,glyphWidth:L,glyphHeight:F,glyphLeft:W,glyphTop:X,glyphAdvance:ee}=v.draw(_);return this.localGlyphs[v.fontWeight][f]={id:f,bitmap:new lm({width:P,height:I},S),metrics:{width:L/Bc,height:F/Bc,left:W/Bc,top:X/Bc-27,advance:ee/Bc,localGlyph:!0}}}}v_.loadGlyphRange=function(l,a,u,f,h){const v=256*a,_=v+255,S=f.transformRequest(f.normalizeGlyphsURL(u).replace("{fontstack}",l).replace("{range}",`${v}-${_}`),x0.Glyphs);kf(S,(P,I)=>{if(P)h(P);else if(I){const L={},F=function(W){return new zw(W).readFields(N7e,{})}(I);for(const W of F.glyphs)L[W.id]=W;h(null,{glyphs:L,ascender:F.ascender,descender:F.descender})}})},v_.TinySDF=class{constructor({fontSize:l=24,buffer:a=3,radius:u=8,cutoff:f=.25,fontFamily:h="sans-serif",fontWeight:v="normal",fontStyle:_="normal"}={}){this.buffer=a,this.cutoff=f,this.radius=u;const S=this.size=l+4*a,P=this._createCanvas(S),I=this.ctx=P.getContext("2d",{willReadFrequently:!0});I.font=`${_} ${v} ${l}px ${h}`,I.textBaseline="alphabetic",I.textAlign="left",I.fillStyle="black",this.gridOuter=new Float64Array(S*S),this.gridInner=new Float64Array(S*S),this.f=new Float64Array(S),this.z=new Float64Array(S+1),this.v=new Uint16Array(S)}_createCanvas(l){const a=document.createElement("canvas");return a.width=a.height=l,a}draw(l){const{width:a,actualBoundingBoxAscent:u,actualBoundingBoxDescent:f,actualBoundingBoxLeft:h,actualBoundingBoxRight:v}=this.ctx.measureText(l),_=Math.ceil(u),S=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(v-h))),P=Math.min(this.size-this.buffer,_+Math.ceil(f)),I=S+2*this.buffer,L=P+2*this.buffer,F=Math.max(I*L,0),W=new Uint8ClampedArray(F),X={data:W,width:I,height:L,glyphWidth:S,glyphHeight:P,glyphTop:_,glyphLeft:0,glyphAdvance:a};if(S===0||P===0)return X;const{ctx:ee,buffer:ae,gridInner:oe,gridOuter:_e}=this;ee.clearRect(ae,ae,S,P),ee.fillText(l,ae,ae+_);const Re=ee.getImageData(ae,ae,S,P);_e.fill(jw,0,F),oe.fill(0,0,F);for(let De=0;De<P;De++)for(let ze=0;ze<S;ze++){const qe=Re.data[4*(De*S+ze)+3]/255;if(qe===0)continue;const Ze=(De+ae)*I+ze+ae;if(qe===1)_e[Ze]=0,oe[Ze]=jw;else{const rt=.5-qe;_e[Ze]=rt>0?rt*rt:0,oe[Ze]=rt<0?rt*rt:0}}vY(_e,0,0,I,L,I,this.f,this.v,this.z),vY(oe,ae,ae,S,P,I,this.f,this.v,this.z);for(let De=0;De<F;De++){const ze=Math.sqrt(_e[De])-Math.sqrt(oe[De]);W[De]=Math.round(255-255*(ze/this.radius+this.cutoff))}return X}};const dm=Tl;function bY(l,a,u,f){const h=[],v=l.imagePrimary,_=v.pixelRatio,S=v.paddedRect.w-2*dm,P=v.paddedRect.h-2*dm,I=l.right-l.left,L=l.bottom-l.top,F=v.stretchX||[[0,S]],W=v.stretchY||[[0,P]],X=(yt,Ot)=>yt+Ot[1]-Ot[0],ee=F.reduce(X,0),ae=W.reduce(X,0),oe=S-ee,_e=P-ae;let Re=0,De=ee,ze=0,qe=ae,Ze=0,rt=oe,ut=0,mt=_e;if(v.content&&f){const yt=v.content;Re=N7(F,0,yt[0]),ze=N7(W,0,yt[1]),De=N7(F,yt[0],yt[2]),qe=N7(W,yt[1],yt[3]),Ze=yt[0]-Re,ut=yt[1]-ze,rt=yt[2]-yt[0]-De,mt=yt[3]-yt[1]-qe}const St=(yt,Ot,Ht,Dt)=>{const Jt=F7(yt.stretch-Re,De,I,l.left),Mt=j7(yt.fixed-Ze,rt,yt.stretch,ee),Ft=F7(Ot.stretch-ze,qe,L,l.top),er=j7(Ot.fixed-ut,mt,Ot.stretch,ae),$t=F7(Ht.stretch-Re,De,I,l.left),ir=j7(Ht.fixed-Ze,rt,Ht.stretch,ee),Qt=F7(Dt.stretch-ze,qe,L,l.top),qt=j7(Dt.fixed-ut,mt,Dt.stretch,ae),Pr=new or(Jt,Ft),Sr=new or($t,Ft),pr=new or($t,Qt),nr=new or(Jt,Qt),Ur=new or(Mt/_,er/_),Tr=new or(ir/_,qt/_),_r=a*Math.PI/180;if(_r){const _n=Math.sin(_r),si=Math.cos(_r),di=[si,-_n,_n,si];Pr._matMult(di),Sr._matMult(di),nr._matMult(di),pr._matMult(di)}const Xr=yt.stretch+yt.fixed,Jr=Ht.stretch+Ht.fixed,Yr=Ot.stretch+Ot.fixed,on=Dt.stretch+Dt.fixed,Mn=l.imageSecondary;return{tl:Pr,tr:Sr,bl:nr,br:pr,texPrimary:{x:v.paddedRect.x+dm+Xr,y:v.paddedRect.y+dm+Yr,w:Jr-Xr,h:on-Yr},texSecondary:Mn?{x:Mn.paddedRect.x+dm+Xr,y:Mn.paddedRect.y+dm+Yr,w:Jr-Xr,h:on-Yr}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ur,pixelOffsetBR:Tr,minFontScaleX:rt/_/I,minFontScaleY:mt/_/L,isSDF:u}};if(f&&(v.stretchX||v.stretchY)){const yt=xY(F,oe,ee),Ot=xY(W,_e,ae);for(let Ht=0;Ht<yt.length-1;Ht++){const Dt=yt[Ht],Jt=yt[Ht+1];for(let Mt=0;Mt<Ot.length-1;Mt++)h.push(St(Dt,Ot[Mt],Jt,Ot[Mt+1]))}}else h.push(St({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:S+1},{fixed:0,stretch:P+1}));return h}function N7(l,a,u){let f=0;for(const h of l)f+=Math.max(a,Math.min(u,h[1]))-Math.max(a,Math.min(u,h[0]));return f}function xY(l,a,u){const f=[{fixed:-dm,stretch:0}];for(const[h,v]of l){const _=f[f.length-1];f.push({fixed:h-_.stretch,stretch:_.stretch}),f.push({fixed:h-_.stretch,stretch:_.stretch+(v-h)})}return f.push({fixed:a+dm,stretch:u}),f}function F7(l,a,u,f){return l/a*u+f}function j7(l,a,u,f){return l-a*u/f}function G7e(l,a,u,f){const h=a+l.positionedLines[f].lineOffset;return f===0?u+h/2:u+(h+(a+l.positionedLines[f-1].lineOffset))/2}function q7e(l,a=1,u=!1){let f=1/0,h=1/0,v=-1/0,_=-1/0;const S=l[0];for(let X=0;X<S.length;X++){const ee=S[X];(!X||ee.x<f)&&(f=ee.x),(!X||ee.y<h)&&(h=ee.y),(!X||ee.x>v)&&(v=ee.x),(!X||ee.y>_)&&(_=ee.y)}const P=Math.min(v-f,_-h);let I=P/2;const L=new Od([],Z7e);if(P===0)return new or(f,h);for(let X=f;X<v;X+=P)for(let ee=h;ee<_;ee+=P)L.push(new __(X+I,ee+I,I,l));let F=function(X){let ee=0,ae=0,oe=0;const _e=X[0];for(let Re=0,De=_e.length,ze=De-1;Re<De;ze=Re++){const qe=_e[Re],Ze=_e[ze],rt=qe.x*Ze.y-Ze.x*qe.y;ae+=(qe.x+Ze.x)*rt,oe+=(qe.y+Ze.y)*rt,ee+=3*rt}return new __(ae/ee,oe/ee,0,X)}(l),W=L.length;for(;L.length;){const X=L.pop();(X.d>F.d||!F.d)&&(F=X,u&&console.log("found best %d after %d probes",Math.round(1e4*X.d)/1e4,W)),X.max-F.d<=a||(I=X.h/2,L.push(new __(X.p.x-I,X.p.y-I,I,l)),L.push(new __(X.p.x+I,X.p.y-I,I,l)),L.push(new __(X.p.x-I,X.p.y+I,I,l)),L.push(new __(X.p.x+I,X.p.y+I,I,l)),W+=4)}return u&&(console.log(`num probes: ${W}`),console.log(`best distance: ${F.d}`)),F.p}function Z7e(l,a){return a.max-l.max}class __{constructor(a,u,f,h){this.p=new or(a,u),this.h=f,this.d=function(v,_){let S=!1,P=1/0;for(let I=0;I<_.length;I++){const L=_[I];for(let F=0,W=L.length,X=W-1;F<W;X=F++){const ee=L[F],ae=L[X];ee.y>v.y!=ae.y>v.y&&v.x<(ae.x-ee.x)*(v.y-ee.y)/(ae.y-ee.y)+ee.x&&(S=!S),P=Math.min(P,pZ(v,ee,ae))}}return(S?1:-1)*Math.sqrt(P)}(this.p,h),this.max=this.d+this.h*Math.SQRT2}}const $D=Number.POSITIVE_INFINITY,X7e=Math.sqrt(2);function wY(l,[a,u]){let f=0,h=0;if(u===$D){a<0&&(a=0);const v=a/X7e;switch(l){case"top-right":case"top-left":h=v-7;break;case"bottom-right":case"bottom-left":h=7-v;break;case"bottom":h=7-a;break;case"top":h=a-7}switch(l){case"top-right":case"bottom-right":f=-v;break;case"top-left":case"bottom-left":f=v;break;case"left":f=a;break;case"right":f=-a}}else{switch(a=Math.abs(a),u=Math.abs(u),l){case"top-right":case"top-left":case"top":h=u-7;break;case"bottom-right":case"bottom-left":case"bottom":h=7-u}switch(l){case"top-right":case"bottom-right":case"right":f=-a;break;case"top-left":case"bottom-left":case"left":f=a}}return[f,h]}function LD(l){switch(l){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Y7e(l,a,u,f,h,v,_,S,P,I,L,F,W,X,ee){let ae=v.textMaxSize.evaluate(a,{},F);ae===void 0&&(ae=_);const oe=l.layers[0].layout,_e=oe.get("icon-offset").evaluate(a,{},F),Re=EY(u.horizontal)||u.vertical,De=W.name==="globe",ze=Io,qe=_/ze,Ze=l.tilePixelRatio*ae/ze,rt=(Jt=l.overscaling,l.zoom>18&&Jt>2&&(Jt>>=1),Math.max(rr/(512*Jt),1)*oe.get("symbol-spacing")),ut=oe.get("text-padding")*l.tilePixelRatio,mt=oe.get("icon-padding")*l.tilePixelRatio,St=Sn(oe.get("text-max-angle")),yt=oe.get("text-rotation-alignment")==="map"&&oe.get("symbol-placement")!=="point",Ot=oe.get("icon-rotation-alignment")==="map"&&oe.get("symbol-placement")!=="point",Ht=oe.get("symbol-placement"),Dt=rt/2;var Jt;const Mt=oe.get("icon-text-fit").evaluate(a,{},F),Ft=oe.get("icon-text-fit-padding").evaluate(a,{},F),er=Mt!=="none";let $t;l.hasAnyIconTextFit===!1&&er&&(l.hasAnyIconTextFit=!0),f&&er&&(l.allowVerticalPlacement&&u.vertical&&($t=uY(f,u.vertical,Mt,Ft,_e,qe)),Re&&(f=uY(f,Re,Mt,Ft,_e,qe)));const ir=(Qt,qt,Pr)=>{if(qt.x<0||qt.x>=rr||qt.y<0||qt.y>=rr)return;let Sr=null;if(De){const{x:pr,y:nr,z:Ur}=W.projectTilePoint(qt.x,qt.y,Pr);Sr={anchor:new Yf(pr,nr,Ur,0,void 0),up:W.upVector(Pr,qt.x,qt.y)}}(function(pr,nr,Ur,Tr,_r,Xr,Jr,Yr,on,Mn,_n,si,di,Qr,Yn,Jn,Ai,ia,ya,aa,qi,no,Ia,Mo,wi,nl,Vc){const ju=pr.addToLineVertexArray(nr,Tr);let Vu,ug,ym,cg,s2,FJ,jJ,VJ=0,UJ=0,WJ=0,KJ=0,dR=-1,fR=-1;const Vd={};let HJ=Mv("");const dg=Ur?Ur.anchor:nr,pR=on.layout.get("icon-text-fit").evaluate(qi,{},wi)!=="none";let hR=0,mR=0;if(on._unevaluatedLayout.getValue("text-radial-offset")===void 0?[hR,mR]=on.layout.get("text-offset").evaluate(qi,{},wi).map(Cl=>Cl*Io):(hR=on.layout.get("text-radial-offset").evaluate(qi,{},wi)*Io,mR=$D),pr.allowVerticalPlacement&&_r.vertical){const Cl=_r.vertical;if(Yn)FJ=BD(Cl),Yr&&(jJ=BD(Yr));else{const Il=on.layout.get("text-rotate").evaluate(qi,{},wi)+90;ym=V7(Mn,dg,nr,_n,si,di,Cl,Qr,Il,Jn),Yr&&(cg=V7(Mn,dg,nr,_n,si,di,Yr,ia,Il))}}if(Xr){const Cl=on.layout.get("icon-rotate").evaluate(qi,{},wi),Il=bY(Xr,Cl,Ia,pR),C_=Yr?bY(Yr,Cl,Ia,pR):void 0;ug=V7(Mn,dg,nr,_n,si,di,Xr,ia,Cl),VJ=4*Il.length;const GJ=pr.iconSizeData;let fg=null;GJ.kind==="source"?(fg=[Lc*on.layout.get("icon-size").evaluate(qi,{},wi)],fg[0]>fm&&la(`${pr.layerIds[0]}: Value for "icon-size" is >= ${Vw}. Reduce your "icon-size".`)):GJ.kind==="composite"&&(fg=[Lc*no.compositeIconSizes[0].evaluate(qi,{},wi),Lc*no.compositeIconSizes[1].evaluate(qi,{},wi)],(fg[0]>fm||fg[1]>fm)&&la(`${pr.layerIds[0]}: Value for "icon-size" is >= ${Vw}. Reduce your "icon-size".`)),pr.addSymbols(pr.icon,Il,fg,aa,ya,qi,!1,Ur,nr,ju.lineStartIndex,ju.lineLength,-1,Mo,wi,nl,Vc),dR=pr.icon.placedSymbolArray.length-1,C_&&(UJ=4*C_.length,pr.addSymbols(pr.icon,C_,fg,aa,ya,qi,eu.vertical,Ur,nr,ju.lineStartIndex,ju.lineLength,-1,Mo,wi,nl,Vc),fR=pr.icon.placedSymbolArray.length-1)}for(const Cl in _r.horizontal){const Il=_r.horizontal[Cl];Vu||(HJ=Mv(Il.text),Yn?s2=BD(Il):Vu=V7(Mn,dg,nr,_n,si,di,Il,Qr,on.layout.get("text-rotate").evaluate(qi,{},wi),Jn));const C_=Il.positionedLines.length===1;if(WJ+=SY(pr,Ur,nr,Il,Jr,on,Yn,qi,Jn,ju,_r.vertical?eu.horizontal:eu.horizontalOnly,C_?Object.keys(_r.horizontal):[Cl],Vd,dR,no,Mo,wi,nl),C_)break}_r.vertical&&(KJ+=SY(pr,Ur,nr,_r.vertical,Jr,on,Yn,qi,Jn,ju,eu.vertical,["vertical"],Vd,fR,no,Mo,wi,nl));let vm=-1;const gR=(Cl,Il)=>Cl?Math.max(Cl,Il):Il;vm=gR(s2,vm),vm=gR(FJ,vm),vm=gR(jJ,vm);const dAe=vm>-1?1:0;pr.glyphOffsetArray.length>=65535&&la("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),qi.sortKey!==void 0&&pr.addToSortKeyRanges(pr.symbolInstances.length,qi.sortKey),pr.symbolInstances.emplaceBack(nr.x,nr.y,dg.x,dg.y,dg.z,Vd.right>=0?Vd.right:-1,Vd.center>=0?Vd.center:-1,Vd.left>=0?Vd.left:-1,Vd.vertical>=0?Vd.vertical:-1,dR,fR,HJ,Vu!==void 0?Vu:pr.collisionBoxArray.length,Vu!==void 0?Vu+1:pr.collisionBoxArray.length,ym!==void 0?ym:pr.collisionBoxArray.length,ym!==void 0?ym+1:pr.collisionBoxArray.length,ug!==void 0?ug:pr.collisionBoxArray.length,ug!==void 0?ug+1:pr.collisionBoxArray.length,cg||pr.collisionBoxArray.length,cg?cg+1:pr.collisionBoxArray.length,_n,WJ,KJ,VJ,UJ,dAe,0,hR,mR,vm,0,pR?1:0)})(l,qt,Sr,Qt,u,f,h,$t,l.layers[0],l.collisionBoxArray,a.index,a.sourceLayerIndex,l.index,ut,yt,P,0,mt,Ot,_e,a,v,I,L,F,X,ee)};if(Ht==="line")for(const Qt of mY(a.geometry,0,0,rr,rr)){const qt=H7e(Qt,rt,St,u.vertical||Re,f,ze,Ze,l.overscaling,rr);for(const Pr of qt)Re&&J7e(l,Re.text,Dt,Pr)||ir(Qt,Pr,F)}else if(Ht==="line-center"){for(const Qt of a.geometry)if(Qt.length>1){const qt=K7e(Qt,St,u.vertical||Re,f,ze,Ze);qt&&ir(Qt,qt,F)}}else if(a.type==="Polygon")for(const Qt of E7(a.geometry,0)){const qt=q7e(Qt,16);ir(Qt[0],new Yf(qt.x,qt.y,0,0,void 0),F)}else if(a.type==="LineString")for(const Qt of a.geometry)ir(Qt,new Yf(Qt[0].x,Qt[0].y,0,0,void 0),F);else if(a.type==="Point")for(const Qt of a.geometry)for(const qt of Qt)ir([qt],new Yf(qt.x,qt.y,0,0,void 0),F)}const Vw=255,fm=Vw*Lc;function SY(l,a,u,f,h,v,_,S,P,I,L,F,W,X,ee,ae,oe,_e){const Re=function(qe,Ze,rt,ut,mt,St,yt,Ot){const Ht=[];if(Ze.positionedLines.length===0)return Ht;const Dt=ut.layout.get("text-rotate").evaluate(St,{})*Math.PI/180,Jt=function(ir){const Qt=ir[0],qt=ir[1],Pr=Qt*qt;return Pr>0?[Qt,-qt]:Pr<0?[-Qt,qt]:Qt===0?[qt,Qt]:[qt,-Qt]}(rt);let Mt=Math.abs(Ze.top-Ze.bottom);for(const ir of Ze.positionedLines)Mt-=ir.lineOffset;const Ft=Ze.positionedLines.length,er=Mt/Ft;let $t=Ze.top-rt[1];for(let ir=0;ir<Ft;++ir){const Qt=Ze.positionedLines[ir];$t=G7e(Ze,er,$t,ir);for(const qt of Qt.positionedGlyphs){if(!qt.rect)continue;const Pr=qt.rect||{};let Sr=nY+1,pr=!0,nr=1,Ur=0;if(qt.imageName){const aa=yt[qt.imageName];if(!aa)continue;if(aa.sdf){la("SDF images are not supported in formatted text and will be ignored.");continue}pr=!1,nr=aa.pixelRatio,Sr=Tl/nr}const Tr=(mt||Ot)&&qt.vertical,_r=qt.metrics.advance*qt.scale/2,Xr=qt.metrics,Jr=qt.rect;if(Jr===null)continue;Ot&&Ze.verticalizable&&(Ur=qt.imageName?_r-qt.metrics.width*qt.scale/2:0);const Yr=mt?[qt.x+_r,qt.y]:[0,0];let on=[0,0],Mn=[0,0],_n=!1;mt||(Tr?(Mn=[qt.x+_r+Jt[0],qt.y+Jt[1]-Ur],_n=!0):on=[qt.x+_r+rt[0],qt.y+rt[1]-Ur]);const si=Jr.w*qt.scale/(nr*(qt.localGlyph?Bc:1)),di=Jr.h*qt.scale/(nr*(qt.localGlyph?Bc:1));let Qr,Yn,Jn,Ai;if(Tr){const aa=qt.y-$t,qi=new or(-_r,_r-aa),no=-Math.PI/2,Ia=new or(...Mn);Qr=new or(-_r+on[0],on[1]),Qr._rotateAround(no,qi)._add(Ia),Qr.x+=-aa+_r,Qr.y-=(Xr.left-Sr)*qt.scale;const Mo=qt.imageName?Xr.advance*qt.scale:Io*qt.scale,wi=String.fromCodePoint(qt.glyph);B7e(wi)?Qr.x+=(1-Sr)*qt.scale:z7e(wi)?Qr.x+=Mo-Xr.height*qt.scale+(-Sr-1)*qt.scale:Qr.x+=qt.imageName||Xr.width+2*Sr===Jr.w&&Xr.height+2*Sr===Jr.h?(Mo-di)/2:(Mo-(Xr.height+2*Sr)*qt.scale)/2,Yn=new or(Qr.x,Qr.y-si),Jn=new or(Qr.x+di,Qr.y),Ai=new or(Qr.x+di,Qr.y-si)}else{const aa=(Xr.left-Sr)*qt.scale-_r+on[0],qi=(-Xr.top-Sr)*qt.scale+on[1],no=aa+si,Ia=qi+di;Qr=new or(aa,qi),Yn=new or(no,qi),Jn=new or(aa,Ia),Ai=new or(no,Ia)}if(Dt){let aa;aa=mt?new or(0,0):_n?new or(Jt[0],Jt[1]):new or(rt[0],rt[1]),Qr._rotateAround(Dt,aa),Yn._rotateAround(Dt,aa),Jn._rotateAround(Dt,aa),Ai._rotateAround(Dt,aa)}const ia=new or(0,0),ya=new or(0,0);Ht.push({tl:Qr,tr:Yn,bl:Jn,br:Ai,texPrimary:Pr,texSecondary:void 0,writingMode:Ze.writingMode,glyphOffset:Yr,sectionIndex:qt.sectionIndex,isSDF:pr,pixelOffsetTL:ia,pixelOffsetBR:ya,minFontScaleX:0,minFontScaleY:0})}}return Ht}(0,f,P,v,_,S,h,l.allowVerticalPlacement),De=l.textSizeData;let ze=null;De.kind==="source"?(ze=[Lc*v.layout.get("text-size").evaluate(S,{},oe)],ze[0]>fm&&la(`${l.layerIds[0]}: Value for "text-size" is >= ${Vw}. Reduce your "text-size".`)):De.kind==="composite"&&(ze=[Lc*ee.compositeTextSizes[0].evaluate(S,{},oe),Lc*ee.compositeTextSizes[1].evaluate(S,{},oe)],(ze[0]>fm||ze[1]>fm)&&la(`${l.layerIds[0]}: Value for "text-size" is >= ${Vw}. Reduce your "text-size".`)),l.addSymbols(l.text,Re,ze,P,_,S,L,a,u,I.lineStartIndex,I.lineLength,X,ae,oe,_e,!1);for(const qe of F)W[qe]=l.text.placedSymbolArray.length-1;return 4*Re.length}function EY(l){for(const a in l)return l[a];return null}function V7(l,a,u,f,h,v,_,S,P,I){let L=_.top,F=_.bottom,W=_.left,X=_.right;const ee=_.collisionPadding;if(ee&&(W-=ee[0],L-=ee[1],X+=ee[2],F+=ee[3]),P){const ae=new or(W,L),oe=new or(X,L),_e=new or(W,F),Re=new or(X,F),De=Sn(P);let ze=new or(0,0);I&&(ze=new or(I[0],I[1])),ae._rotateAround(De,ze),oe._rotateAround(De,ze),_e._rotateAround(De,ze),Re._rotateAround(De,ze),W=Math.min(ae.x,oe.x,_e.x,Re.x),X=Math.max(ae.x,oe.x,_e.x,Re.x),L=Math.min(ae.y,oe.y,_e.y,Re.y),F=Math.max(ae.y,oe.y,_e.y,Re.y)}return l.emplaceBack(a.x,a.y,a.z,u.x,u.y,W,L,X,F,S,f,h,v),l.length-1}function BD(l){l.collisionPadding&&(l.top-=l.collisionPadding[1],l.bottom+=l.collisionPadding[3]);const a=l.bottom-l.top;return a>0?Math.max(10,a):null}function J7e(l,a,u,f){const h=l.compareText;if(a in h){const v=h[a];for(let _=v.length-1;_>=0;_--)if(f.dist(v[_])<u)return!0}else h[a]=[];return h[a].push(f),!1}function AY(l,a){const u=l.fovAboveCenter,f=l.elevation?l.elevation.getMinElevationBelowMSL()*a:0,h=(l._camera.position[2]*l.worldSize-f)/Math.cos(l._pitch),v=Math.sin(u)*h/Math.sin(Math.max(Math.PI/2-l._pitch-u,.01)),_=Math.sin(l._pitch)*v+h;return Math.min(1.01*_,h*(1/l._horizonShift))}function ng(l,a){if(!a.isReprojectedInTileSpace)return{scale:1<<l.z,x:l.x,y:l.y,x2:l.x+1,y2:l.y+1,projection:a};const u=Math.pow(2,-l.z),f=l.x*u,h=(l.x+1)*u,v=l.y*u,_=(l.y+1)*u,S=rl(f),P=rl(h),I=po(v),L=po(_),F=a.project(S,I),W=a.project(P,I),X=a.project(P,L),ee=a.project(S,L);let ae=Math.min(F.x,W.x,X.x,ee.x),oe=Math.min(F.y,W.y,X.y,ee.y),_e=Math.max(F.x,W.x,X.x,ee.x),Re=Math.max(F.y,W.y,X.y,ee.y);const De=u/16;function ze(Ze,rt,ut,mt,St,yt){const Ot=(ut+St)/2,Ht=(mt+yt)/2,Dt=a.project(rl(Ot),po(Ht)),Jt=Math.max(0,ae-Dt.x,oe-Dt.y,Dt.x-_e,Dt.y-Re);ae=Math.min(ae,Dt.x),_e=Math.max(_e,Dt.x),oe=Math.min(oe,Dt.y),Re=Math.max(Re,Dt.y),Jt>De&&(ze(Ze,Dt,ut,mt,Ot,Ht),ze(Dt,rt,Ot,Ht,St,yt))}ze(F,W,f,v,h,v),ze(W,X,h,v,h,_),ze(X,ee,h,_,f,_),ze(ee,F,f,_,f,v),ae-=De,oe-=De,_e+=De,Re+=De;const qe=1/Math.max(_e-ae,Re-oe);return{scale:qe,x:ae*qe,y:oe*qe,x2:_e*qe,y2:Re*qe,projection:a}}function TY(l,{x:a,y:u},f=0){return new or(((a-f)*l.scale-l.x)*rr,(u*l.scale-l.y)*rr)}const Q7e=o.ae.identity(new Float32Array(16));class pm{constructor(a){this.spec=a,this.name=a.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(a,u){return{x:0,y:0,z:0}}unproject(a,u){return new Wn(0,0)}projectTilePoint(a,u,f){return{x:a,y:u,z:0}}locationPoint(a,u,f=!0){return a._coordinatePoint(a.locationCoordinate(u),f)}pixelsPerMeter(a,u){return Ts(1,a)*u}pixelSpaceConversion(a,u,f){return 1}farthestPixelDistance(a){return AY(a,a.pixelsPerMeter)}pointCoordinate(a,u,f,h){const v=a.horizonLineFromTop(!1),_=new or(u,Math.max(v,f));return a.rayIntersectionCoordinate(a.pointRayIntersection(_,h))}pointCoordinate3D(a,u,f){const h=new or(u,f);if(a.elevation)return a.elevation.pointCoordinate(h);{const v=this.pointCoordinate(a,h.x,h.y,0);return[v.x,v.y,v.z]}}isPointAboveHorizon(a,u){if(a.elevation&&a.elevation.visibleDemTiles.length)return!this.pointCoordinate3D(a,u.x,u.y);const f=a.horizonLineFromTop();return u.y<f}createInversionMatrix(a,u){return Q7e}createTileMatrix(a,u,f){let h,v,_;const S=f.canonical,P=o.ae.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const I=ng(S,this);h=1,v=I.x+f.wrap*I.scale,_=I.y,o.ae.scale(P,P,[h/I.scale,h/I.scale,a.pixelsPerMeter/u])}else h=u/a.zoomScale(S.z),v=(S.x+Math.pow(2,S.z)*f.wrap)*h,_=S.y*h;return o.ae.translate(P,P,[v,_,0]),o.ae.scale(P,P,[h/rr,h/rr,1]),P}upVector(a,u,f){return[0,0,1]}upVectorScale(a,u,f){return{metersToTile:1}}}class eEe extends pm{constructor(a){super(a),this.range=[4,7],this.center=a.center||[-96,37.5];const[u,f]=this.parallels=a.parallels||[29.5,45.5],h=Math.sin(Sn(u));this.n=(h+Math.sin(Sn(f)))/2,this.c=1+h*(2*this.n-h),this.r0=Math.sqrt(this.c)/this.n}project(a,u){const{n:f,c:h,r0:v}=this,_=Sn(a-this.center[0]),S=Sn(u),P=Math.sqrt(h-2*f*Math.sin(S))/f;return{x:P*Math.sin(_*f),y:P*Math.cos(_*f)-v,z:0}}unproject(a,u){const{n:f,c:h,r0:v}=this,_=v+u;let S=Math.atan2(a,Math.abs(_))*Math.sign(_);_*f<0&&(S-=Math.PI*Math.sign(a)*Math.sign(_));const P=Sn(this.center[0])*f;S=$h(S,-Math.PI-P,Math.PI-P);const I=pn(os(S/f)+this.center[0],-180,180),L=Math.asin(pn((h-(a*a+_*_)*f*f)/(2*f),-1,1)),F=pn(os(L),-da,da);return new Wn(I,F)}}const Uw=1.340264,Ww=-.081106,Kw=893e-6,Hw=.003796,U7=Math.sqrt(3)/2;class tEe extends pm{project(a,u){u=u/180*Math.PI,a=a/180*Math.PI;const f=Math.asin(U7*Math.sin(u)),h=f*f,v=h*h*h;return{x:.5*(a*Math.cos(f)/(U7*(Uw+3*Ww*h+v*(7*Kw+9*Hw*h)))/Math.PI+.5),y:1-.5*(f*(Uw+Ww*h+v*(Kw+Hw*h))/Math.PI+1),z:0}}unproject(a,u){a=(2*a-.5)*Math.PI;let f=u=(2*(1-u)-1)*Math.PI,h=f*f,v=h*h*h;for(let L,F,W,X=0;X<12&&(F=f*(Uw+Ww*h+v*(Kw+Hw*h))-u,W=Uw+3*Ww*h+v*(7*Kw+9*Hw*h),L=F/W,f=pn(f-L,-Math.PI/3,Math.PI/3),h=f*f,v=h*h*h,!(Math.abs(L)<1e-12));++X);const _=U7*a*(Uw+3*Ww*h+v*(7*Kw+9*Hw*h))/Math.cos(f),S=Math.asin(Math.sin(f)/U7),P=pn(180*_/Math.PI,-180,180),I=pn(180*S/Math.PI,-da,da);return new Wn(P,I)}}class rEe extends pm{constructor(a){super(a),this.wrap=!0,this.supportsWorldCopies=!0}project(a,u){return{x:.5+a/360,y:.5-u/360,z:0}}unproject(a,u){const f=360*(a-.5),h=pn(360*(.5-u),-da,da);return new Wn(f,h)}}const b_=Math.PI/2;function W7(l){return Math.tan((b_+l)/2)}class nEe extends pm{constructor(a){super(a),this.center=a.center||[0,30];const[u,f]=this.parallels=a.parallels||[30,30];let h=Sn(u),v=Sn(f);this.southernCenter=h+v<0,this.southernCenter&&(h=-h,v=-v);const _=Math.cos(h),S=W7(h);this.n=h===v?Math.sin(h):Math.log(_/Math.cos(v))/Math.log(W7(v)/S),this.f=_*Math.pow(W7(h),this.n)/this.n}project(a,u){u=Sn(u),this.southernCenter&&(u=-u),a=Sn(a-this.center[0]);const f=1e-6,{n:h,f:v}=this;v>0?u<-b_+f&&(u=-b_+f):u>b_-f&&(u=b_-f);const _=v/Math.pow(W7(u),h);let S=_*Math.sin(h*a),P=v-_*Math.cos(h*a);return S=.5*(S/Math.PI+.5),P=.5*(P/Math.PI+.5),{x:S,y:this.southernCenter?P:1-P,z:0}}unproject(a,u){a=(2*a-.5)*Math.PI,this.southernCenter&&(u=1-u),u=(2*(1-u)-.5)*Math.PI;const{n:f,f:h}=this,v=h-u,_=Math.sign(v),S=Math.sign(f)*Math.sqrt(a*a+v*v);let P=Math.atan2(a,Math.abs(v))*_;v*f<0&&(P-=Math.PI*Math.sign(a)*_);const I=pn(os(P/f)+this.center[0],-180,180),L=pn(os(2*Math.atan(Math.pow(h/S,1/f))-b_),-da,da);return new Wn(I,this.southernCenter?-L:L)}}class PY extends pm{constructor(a){super(a),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(a,u){return{x:Ld(a),y:Bd(u),z:0}}unproject(a,u){const f=rl(a),h=po(u);return new Wn(f,h)}}const CY=Sn(da);class iEe extends pm{project(a,u){const f=(u=Sn(u))*u,h=f*f;return{x:.5*((a=Sn(a))*(.8707-.131979*f+h*(h*(.003971*f-.001529*h)-.013791))/Math.PI+.5),y:1-.5*(u*(1.007226+f*(.015085+h*(.028874*f-.044475-.005916*h)))/Math.PI+1),z:0}}unproject(a,u){a=(2*a-.5)*Math.PI;let f=u=(2*(1-u)-1)*Math.PI,h=25,v=0,_=f*f;do{_=f*f;const I=_*_;v=(f*(1.007226+_*(.015085+I*(.028874*_-.044475-.005916*I)))-u)/(1.007226+_*(.045255+I*(.259866*_-.311325-.005916*11*I))),f=pn(f-v,-CY,CY)}while(Math.abs(v)>1e-6&&--h>0);_=f*f;const S=pn(os(a/(.8707+_*(_*(_*_*_*(.003971-.001529*_)-.013791)-.131979))),-180,180),P=os(f);return new Wn(S,P)}}const IY=Sn(da);class aEe extends pm{project(a,u){u=Sn(u),a=Sn(a);const f=Math.cos(u),h=2/Math.PI,v=Math.acos(f*Math.cos(a/2)),_=Math.sin(v)/v,S=.5*(a*h+2*f*Math.sin(a/2)/_)||0,P=.5*(u+Math.sin(u)/_)||0;return{x:.5*(S/Math.PI+.5),y:1-.5*(P/Math.PI+1),z:0}}unproject(a,u){let f=a=(2*a-.5)*Math.PI,h=u=(2*(1-u)-1)*Math.PI,v=25;const _=1e-6;let S=0,P=0;do{const I=Math.cos(h),L=Math.sin(h),F=2*L*I,W=L*L,X=I*I,ee=Math.cos(f/2),ae=Math.sin(f/2),oe=2*ee*ae,_e=ae*ae,Re=1-X*ee*ee,De=Re?1/Re:0,ze=Re?Math.acos(I*ee)*Math.sqrt(1/Re):0,qe=.5*(2*ze*I*ae+2*f/Math.PI)-a,Ze=.5*(ze*L+h)-u,rt=.5*De*(X*_e+ze*I*ee*W)+1/Math.PI,ut=De*(oe*F/4-ze*L*ae),mt=.125*De*(F*ae-ze*L*X*oe),St=.5*De*(W*ee+ze*_e*I)+.5,yt=ut*mt-St*rt;S=(Ze*ut-qe*St)/yt,P=(qe*mt-Ze*rt)/yt,f=pn(f-S,-Math.PI,Math.PI),h=pn(h-P,-IY,IY)}while((Math.abs(S)>_||Math.abs(P)>_)&&--v>0);return new Wn(os(f),os(h))}}class MY extends pm{constructor(a){super(a),this.center=a.center||[0,0],this.parallels=a.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(Sn(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(a,u){const{scale:f,cosPhi:h}=this;return{x:Sn(a)*h*f+.5,y:-Math.sin(Sn(u))/h*f+.5,z:0}}unproject(a,u){const{scale:f,cosPhi:h}=this,v=-(u-.5)/f,_=pn(os((a-.5)/f)/h,-180,180),S=Math.asin(pn(v*h,-1,1)),P=pn(os(S),-da,da);return new Wn(_,P)}}class oEe extends PY{constructor(a){super(a),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(a,u,f){const h=Pw(a,u,f),v=Cw(zd(f));return o.$.transformMat4(h,h,v),{x:h[0],y:h[1],z:h[2]}}locationPoint(a,u){const f=J0(u.lat,u.lng),h=o.$.normalize([],f),v=a.elevation?a.elevation.getAtPointOrZero(a.locationCoordinate(u),a._centerAltitude):a._centerAltitude,_=Ts(1,0)*rr*v;o.$.scaleAndAdd(f,f,h,_);const S=o.ae.identity(new Float64Array(16));return o.ae.multiply(S,a.pixelMatrix,a.globeMatrix),o.$.transformMat4(f,f,S),new or(f[0],f[1])}pixelsPerMeter(a,u){return Ts(1,0)*u}pixelSpaceConversion(a,u,f){const h=Ts(1,a)*u,v=Rr(Ts(1,45)*u,h,f);return this.pixelsPerMeter(a,u)/v}createTileMatrix(a,u,f){const h=mD(zd(f.canonical));return o.ae.multiply(new Float64Array(16),a.globeMatrix,h)}createInversionMatrix(a,u){const{center:f}=a,h=Cw(zd(u));return o.ae.rotateY(h,h,Sn(f.lng)),o.ae.rotateX(h,h,Sn(f.lat)),o.ae.scale(h,h,[a._pixelsPerMercatorPixel,a._pixelsPerMercatorPixel,1]),Float32Array.from(h)}pointCoordinate(a,u,f,h){return EZ(a,u,f,!0)||new Uo(0,0)}pointCoordinate3D(a,u,f){const h=this.pointCoordinate(a,u,f,0);return[h.x,h.y,h.z]}isPointAboveHorizon(a,u){return!EZ(a,u.x,u.y,!1)}farthestPixelDistance(a){const u=function(h,v){const _=h.cameraToCenterDistance,S=h._centerAltitude*v,P=h._camera,I=h._camera.forward(),L=o.$.add([],o.$.scale([],I,-_),[0,0,S]),F=h.worldSize/(2*Math.PI),W=[0,0,-F],X=h.width/h.height,ee=Math.tan(h.fovAboveCenter),ae=o.$.scale([],P.up(),ee),oe=o.$.scale([],P.right(),ee*X),_e=o.$.normalize([],o.$.add([],o.$.add([],I,ae),oe)),Re=[];let De;if(new cD(L,_e).closestPointOnSphere(W,F,Re)){const ze=o.$.add([],Re,W),qe=o.$.sub([],ze,L);De=Math.cos(h.fovAboveCenter)*o.$.length(qe)}else{const ze=o.$.sub([],L,W),qe=o.$.sub([],W,L);o.$.normalize(qe,qe);const Ze=o.$.length(ze)-F;De=Math.sqrt(Ze*(Ze+2*F));const rt=Math.acos(De/(F+Ze))-Math.acos(o.$.dot(I,qe));De*=Math.cos(rt)}return 1.01*De}(a,this.pixelsPerMeter(a.center.lat,a.worldSize)),f=Zf(a.zoom);if(f>0){const h=AY(a,Ts(1,a.center.lat)*a.worldSize),v=a.worldSize/(2*Math.PI),_=Math.max(a.width,a.height)/a.worldSize*Math.PI;return Rr(u,h+v*(1-Math.cos(_)),Math.pow(f,10))}return u}upVector(a,u,f){return Pw(u,f,a,1)}upVectorScale(a){return{metersToTile:v7(b7(zd(a)))}}}function kY(l){const a=l.parallels,u=!!a&&Math.abs(a[0]+a[1])<.01;switch(l.name){case"mercator":return new PY(l);case"equirectangular":return new rEe(l);case"naturalEarth":return new iEe(l);case"equalEarth":return new tEe(l);case"winkelTripel":return new aEe(l);case"albers":return u?new MY(l):new eEe(l);case"lambertConformalConic":return u?new MY(l):new nEe(l);case"globe":return new oEe(l)}throw new Error(`Invalid projection name: ${l.name}`)}const sEe=P7.types,lEe=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function K7(l,a,u,f,h,v,_,S,P,I,L,F,W){const X=S?Math.min(fm,Math.round(S[0])):0,ee=S?Math.min(fm,Math.round(S[1])):0;l.emplaceBack(a,u,Math.round(32*f),Math.round(32*h),v,_,(X<<1)+(P?1:0),ee,16*I,16*L,256*F,256*W)}function H7(l,a,u){l.emplaceBack(a,u)}function G7(l,a,u,f,h,v,_){l.emplaceBack(a,u,f,h,v,_)}function q7(l,a,u,f,h){l.emplaceBack(a,u,f,h),l.emplaceBack(a,u,f,h),l.emplaceBack(a,u,f,h),l.emplaceBack(a,u,f,h)}function uEe(l){for(const a of l.sections)if(en(a.text))return!0;return!1}class zD{constructor(a){this.layoutVertexArray=new DO,this.indexArray=new ro,this.programConfigurations=a,this.segments=new Ki,this.dynamicLayoutVertexArray=new em,this.opacityVertexArray=new $O,this.placedSymbolArray=new Wq,this.iconTransitioningVertexArray=new nm,this.globeExtVertexArray=new RO,this.zOffsetVertexArray=new n_}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0&&this.iconTransitioningVertexArray.length===0}upload(a,u,f,h,v){this.isEmpty()||(f&&(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,f7e.members),this.indexBuffer=a.createIndexBuffer(this.indexArray,u),this.dynamicLayoutVertexBuffer=a.createVertexBuffer(this.dynamicLayoutVertexArray,h7e.members,!0),this.opacityVertexBuffer=a.createVertexBuffer(this.opacityVertexArray,lEe,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=a.createVertexBuffer(this.iconTransitioningVertexArray,m7e.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=a.createVertexBuffer(this.globeExtVertexArray,p7e.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||v)&&(this.zOffsetVertexBuffer=a.createVertexBuffer(this.zOffsetVertexArray,BX.members,!0)),this.opacityVertexBuffer.itemSize=1),(f||h)&&this.programConfigurations.upload(a))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy())}}lt(zD,"SymbolBuffers");class ND{constructor(a,u,f){this.layoutVertexArray=new a,this.layoutAttributes=u,this.indexArray=new f,this.segments=new Ki,this.collisionVertexArray=new zO,this.collisionVertexArrayExt=new em}upload(a){this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=a.createVertexBuffer(this.collisionVertexArray,g7e.members,!0),this.collisionVertexBufferExt=a.createVertexBuffer(this.collisionVertexArrayExt,y7e.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}lt(ND,"CollisionBuffers");class x_{constructor(a){this.collisionBoxArray=a.collisionBoxArray,this.zoom=a.zoom,this.lut=a.lut,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(_=>_.fqid),this.index=a.index,this.pixelRatio=a.pixelRatio,this.sourceLayerIndex=a.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=o.ae.identity([]),this.placementViewportMatrix=o.ae.identity([]);const u=this.layers[0]._unevaluatedLayout._values;this.textSizeData=ID(this.zoom,u["text-size"]),this.iconSizeData=ID(this.zoom,u["icon-size"]);const f=this.layers[0].layout,h=f.get("symbol-sort-key"),v=f.get("symbol-z-order");this.canOverlap=f.get("text-allow-overlap")||f.get("icon-allow-overlap")||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=v!=="viewport-y"&&h.constantOr(1)!==void 0,this.sortFeaturesByY=(v==="viewport-y"||v==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=f.get("text-writing-mode").map(_=>eu[_]),this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id),this.sourceID=a.sourceID,this.projection=a.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=f.get("symbol-z-elevate"),this.activeReplacements=[],this.replacementUpdateTime=0}createArrays(){this.text=new zD(new am(this.layers,{zoom:this.zoom,lut:this.lut},a=>/^text/.test(a))),this.icon=new zD(new am(this.layers,{zoom:this.zoom,lut:this.lut},a=>/^icon/.test(a))),this.glyphOffsetArray=new Gq,this.lineVertexArray=new qq,this.symbolInstances=new Hq}calculateGlyphDependencies(a,u,f,h,v){for(let _=0;_<a.length;_++){const S=a.codePointAt(_);if(S===void 0)break;if(u[S]=!0,h&&v&&S<=65535){const P=Nw[a.charAt(_)];P&&(u[P.charCodeAt(0)]=!0)}}}updateFootprints(a,u){}updateReplacement(a,u){if(u.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=u.updateTime;const f=u.getReplacementRegionsForTile(a.toUnwrapped(),!0);return!TD(this.activeReplacements,f)&&(this.activeReplacements=f,!0)}populate(a,u,f,h){const v=this.layers[0],_=v.layout,S=this.projection.name==="globe",P=_.get("text-font"),I=_.get("text-field"),L=_.get("icon-image"),F=(I.value.kind!=="constant"||I.value.value instanceof jo&&!I.value.value.isEmpty()||I.value.value.toString().length>0)&&(P.value.kind!=="constant"||P.value.value.length>0),W=L.value.kind!=="constant"||!!L.value.value||Object.keys(L.parameters).length>0,X=_.get("symbol-sort-key");if(this.features=[],!F&&!W)return;const ee=u.iconDependencies,ae=u.glyphDependencies,oe=u.availableImages,_e=new Wr(this.zoom);for(const{feature:Re,id:De,index:ze,sourceLayerIndex:qe}of a){const Ze=v._featureFilter.needGeometry,rt=Gf(Re,Ze);if(!v._featureFilter.filter(_e,rt,f))continue;if(Ze||(rt.geometry=$c(Re,f,h)),S&&Re.type!==1&&f.z<=5){const yt=rt.geometry,Ot=.98078528056,Ht=(Dt,Jt)=>{const Mt=Pw(Dt.x,Dt.y,f,1),Ft=Pw(Jt.x,Jt.y,f,1);return o.$.dot(Mt,Ft)<Ot};for(let Dt=0;Dt<yt.length;Dt++)yt[Dt]=oSe(yt[Dt],Ht)}let ut,mt;if(F){const yt=v.getValueAndResolveTokens("text-field",rt,f,oe),Ot=jo.factory(yt);uEe(Ot)&&(this.hasRTLText=!0),(!this.hasRTLText||tn()==="unavailable"||this.hasRTLText&&yn.isParsed())&&(ut=L7e(Ot,v,rt))}if(W){const yt=v.getValueAndResolveTokens("icon-image",rt,f,oe);mt=yt instanceof qs?yt:qs.fromString(yt)}if(!ut&&!mt)continue;const St=this.sortFeaturesByKey?X.evaluate(rt,{},f):void 0;if(this.features.push({id:De,text:ut,icon:mt,index:ze,sourceLayerIndex:qe,geometry:rt.geometry,properties:Re.properties,type:sEe[Re.type],sortKey:St}),mt&&(ee[mt.namePrimary]=!0,mt.nameSecondary&&(ee[mt.nameSecondary]=!0)),ut){const yt=P.evaluate(rt,{},f).join(","),Ot=_.get("text-rotation-alignment")==="map"&&_.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(eu.vertical)>=0;for(const Ht of ut.sections)if(Ht.image)ee[Ht.image.namePrimary]=!0;else{const Dt=Nt(ut.toString()),Jt=Ht.fontStack||yt,Mt=ae[Jt]=ae[Jt]||{};this.calculateGlyphDependencies(Ht.text,Mt,Ot,this.allowVerticalPlacement,Dt)}}}_.get("symbol-placement")==="line"&&(this.features=function(Re){const De={},ze={},qe=[];let Ze=0;function rt(yt){qe.push(Re[yt]),Ze++}function ut(yt,Ot,Ht){const Dt=ze[yt];return delete ze[yt],ze[Ot]=Dt,qe[Dt].geometry[0].pop(),qe[Dt].geometry[0]=qe[Dt].geometry[0].concat(Ht[0]),Dt}function mt(yt,Ot,Ht){const Dt=De[Ot];return delete De[Ot],De[yt]=Dt,qe[Dt].geometry[0].shift(),qe[Dt].geometry[0]=Ht[0].concat(qe[Dt].geometry[0]),Dt}function St(yt,Ot,Ht){const Dt=Ht?Ot[0][Ot[0].length-1]:Ot[0][0];return`${yt}:${Dt.x}:${Dt.y}`}for(let yt=0;yt<Re.length;yt++){const Ot=Re[yt],Ht=Ot.geometry,Dt=Ot.text?Ot.text.toString():null;if(!Dt){rt(yt);continue}const Jt=St(Dt,Ht),Mt=St(Dt,Ht,!0);if(Jt in ze&&Mt in De&&ze[Jt]!==De[Mt]){const Ft=mt(Jt,Mt,Ht),er=ut(Jt,Mt,qe[Ft].geometry);delete De[Jt],delete ze[Mt],ze[St(Dt,qe[er].geometry,!0)]=er,qe[Ft].geometry=null}else Jt in ze?ut(Jt,Mt,Ht):Mt in De?mt(Jt,Mt,Ht):(rt(yt),De[Jt]=Ze-1,ze[Mt]=Ze-1)}return qe.filter(yt=>yt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Re,De)=>Re.sortKey-De.sortKey)}update(a,u,f,h,v){const _=Object.keys(a).length!==0;if(_&&!this.stateDependentLayers.length)return;const S=_?this.stateDependentLayers:this.layers;this.text.programConfigurations.updatePaintArrays(a,u,S,f,h,v),this.icon.programConfigurations.updatePaintArrays(a,u,S,f,h,v)}updateZOffset(){const a=(v,_,S)=>{f+=_,f>v.length&&v.resize(f);for(let P=-_;P<0;P++)v.emplace(P+f,S)},u=(v,_,S)=>{h+=_,h>v.length&&v.resize(h);for(let P=-_;P<0;P++)v.emplace(P+h,S)};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let f=0,h=0;for(let v=0;v<this.symbolInstances.length;v++){const _=this.symbolInstances.get(v),{numHorizontalGlyphVertices:S,numVerticalGlyphVertices:P,numIconVertices:I}=_,L=_.zOffset,F=I>0;if((S>0||P>0)&&(a(this.text.zOffsetVertexArray,S,L),a(this.text.zOffsetVertexArray,P,L)),F){const{placedIconSymbolIndex:W,verticalPlacedIconSymbolIndex:X}=_;W>=0&&u(this.icon.zOffsetVertexArray,I,L),X>=0&&u(this.icon.zOffsetVertexArray,_.numVerticalIconVertices,L)}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray)}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(a){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(a),this.iconCollisionBox.upload(a)),this.text.upload(a,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(a,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=kY(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(a,u){const f=this.lineVertexArray.length;if(a.segment!==void 0)for(const{x:h,y:v}of u)this.lineVertexArray.emplaceBack(h,v);return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(a,u,f,h,v,_,S,P,I,L,F,W,X,ee,ae,oe){const _e=a.indexArray,Re=a.layoutVertexArray,De=a.globeExtVertexArray,ze=a.segments.prepareSegment(4*u.length,Re,_e,this.canOverlap?_.sortKey:void 0),qe=this.glyphOffsetArray.length,Ze=ze.vertexLength,rt=this.allowVerticalPlacement&&S===eu.vertical?Math.PI/2:0,ut=_.text&&_.text.sections;for(let St=0;St<u.length;St++){const{tl:yt,tr:Ot,bl:Ht,br:Dt,texPrimary:Jt,texSecondary:Mt,pixelOffsetTL:Ft,pixelOffsetBR:er,minFontScaleX:$t,minFontScaleY:ir,glyphOffset:Qt,isSDF:qt,sectionIndex:Pr}=u[St],Sr=ze.vertexLength,pr=Qt[1];if(K7(Re,I.x,I.y,yt.x,pr+yt.y,Jt.x,Jt.y,f,qt,Ft.x,Ft.y,$t,ir),K7(Re,I.x,I.y,Ot.x,pr+Ot.y,Jt.x+Jt.w,Jt.y,f,qt,er.x,Ft.y,$t,ir),K7(Re,I.x,I.y,Ht.x,pr+Ht.y,Jt.x,Jt.y+Jt.h,f,qt,Ft.x,er.y,$t,ir),K7(Re,I.x,I.y,Dt.x,pr+Dt.y,Jt.x+Jt.w,Jt.y+Jt.h,f,qt,er.x,er.y,$t,ir),P){const{x:nr,y:Ur,z:Tr}=P.anchor,[_r,Xr,Jr]=P.up;G7(De,nr,Ur,Tr,_r,Xr,Jr),G7(De,nr,Ur,Tr,_r,Xr,Jr),G7(De,nr,Ur,Tr,_r,Xr,Jr),G7(De,nr,Ur,Tr,_r,Xr,Jr),q7(a.dynamicLayoutVertexArray,nr,Ur,Tr,rt)}else q7(a.dynamicLayoutVertexArray,I.x,I.y,I.z,rt);if(oe){const nr=Mt||Jt;H7(a.iconTransitioningVertexArray,nr.x,nr.y),H7(a.iconTransitioningVertexArray,nr.x+nr.w,nr.y),H7(a.iconTransitioningVertexArray,nr.x,nr.y+nr.h),H7(a.iconTransitioningVertexArray,nr.x+nr.w,nr.y+nr.h)}_e.emplaceBack(Sr,Sr+1,Sr+2),_e.emplaceBack(Sr+1,Sr+2,Sr+3),ze.vertexLength+=4,ze.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Qt[0]),St!==u.length-1&&Pr===u[St+1].sectionIndex||a.programConfigurations.populatePaintArrays(Re.length,_,_.index,{},X,ee,ae,ut&&ut[Pr])}const mt=P?P.anchor:I;a.placedSymbolArray.emplaceBack(mt.x,mt.y,mt.z,I.x,I.y,qe,this.glyphOffsetArray.length-qe,Ze,L,F,I.segment,f?f[0]:0,f?f[1]:0,h[0],h[1],S,0,!1,0,W,0)}_commitLayoutVertex(a,u,f,h,v,_,S){a.emplaceBack(u,f,h,v,_,Math.round(S.x),Math.round(S.y))}_addCollisionDebugVertices(a,u,f,h,v,_,S){const P=f.segments.prepareSegment(4,f.layoutVertexArray,f.indexArray),I=P.vertexLength,L=S.tileAnchorX,F=S.tileAnchorY;for(let X=0;X<4;X++)f.collisionVertexArray.emplaceBack(0,0,0,0);this._commitDebugCollisionVertexUpdate(f.collisionVertexArrayExt,u,a.padding,S.zOffset),this._commitLayoutVertex(f.layoutVertexArray,h,v,_,L,F,new or(a.x1,a.y1)),this._commitLayoutVertex(f.layoutVertexArray,h,v,_,L,F,new or(a.x2,a.y1)),this._commitLayoutVertex(f.layoutVertexArray,h,v,_,L,F,new or(a.x2,a.y2)),this._commitLayoutVertex(f.layoutVertexArray,h,v,_,L,F,new or(a.x1,a.y2)),P.vertexLength+=4;const W=f.indexArray;W.emplaceBack(I,I+1),W.emplaceBack(I+1,I+2),W.emplaceBack(I+2,I+3),W.emplaceBack(I+3,I),P.primitiveLength+=4}_addTextDebugCollisionBoxes(a,u,f,h,v,_){for(let S=h;S<v;S++){const P=f.get(S),I=this.getSymbolInstanceTextSize(a,_,u,S);this._addCollisionDebugVertices(P,I,this.textCollisionBox,P.projectedAnchorX,P.projectedAnchorY,P.projectedAnchorZ,_)}}_addIconDebugCollisionBoxes(a,u,f,h,v,_){for(let S=h;S<v;S++){const P=f.get(S),I=this.getSymbolInstanceIconSize(a,u,_.placedIconSymbolIndex);this._addCollisionDebugVertices(P,I,this.iconCollisionBox,P.projectedAnchorX,P.projectedAnchorY,P.projectedAnchorZ,_)}}generateCollisionDebugBuffers(a,u){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new ND(u7,zX.members,nm),this.iconCollisionBox=new ND(u7,zX.members,nm);const f=g_(this.iconSizeData,a),h=g_(this.textSizeData,a);for(let v=0;v<this.symbolInstances.length;v++){const _=this.symbolInstances.get(v);this._addTextDebugCollisionBoxes(h,a,u,_.textBoxStartIndex,_.textBoxEndIndex,_),this._addTextDebugCollisionBoxes(h,a,u,_.verticalTextBoxStartIndex,_.verticalTextBoxEndIndex,_),this._addIconDebugCollisionBoxes(f,a,u,_.iconBoxStartIndex,_.iconBoxEndIndex,_),this._addIconDebugCollisionBoxes(f,a,u,_.verticalIconBoxStartIndex,_.verticalIconBoxEndIndex,_)}}getSymbolInstanceTextSize(a,u,f,h){const v=this.text.placedSymbolArray.get(u.rightJustifiedTextSymbolIndex>=0?u.rightJustifiedTextSymbolIndex:u.centerJustifiedTextSymbolIndex>=0?u.centerJustifiedTextSymbolIndex:u.leftJustifiedTextSymbolIndex>=0?u.leftJustifiedTextSymbolIndex:u.verticalPlacedTextSymbolIndex>=0?u.verticalPlacedTextSymbolIndex:h),_=B7(this.textSizeData,a,v)/Io;return this.tilePixelRatio*_}getSymbolInstanceIconSize(a,u,f){const h=this.icon.placedSymbolArray.get(f),v=B7(this.iconSizeData,a,h);return this.tilePixelRatio*v}_commitDebugCollisionVertexUpdate(a,u,f,h){a.emplaceBack(u,-f,-f,h),a.emplaceBack(u,f,-f,h),a.emplaceBack(u,f,f,h),a.emplaceBack(u,-f,f,h)}_updateTextDebugCollisionBoxes(a,u,f,h,v,_){for(let S=h;S<v;S++){const P=f.get(S),I=this.getSymbolInstanceTextSize(a,_,u,S);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,I,P.padding,_.zOffset)}}_updateIconDebugCollisionBoxes(a,u,f,h,v,_){for(let S=h;S<v;S++){const P=f.get(S),I=this.getSymbolInstanceIconSize(a,u,_.placedIconSymbolIndex);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,I,P.padding,_.zOffset)}}updateCollisionDebugBuffers(a,u){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const f=g_(this.iconSizeData,a),h=g_(this.textSizeData,a);for(let v=0;v<this.symbolInstances.length;v++){const _=this.symbolInstances.get(v);this._updateTextDebugCollisionBoxes(h,a,u,_.textBoxStartIndex,_.textBoxEndIndex,_),this._updateTextDebugCollisionBoxes(h,a,u,_.verticalTextBoxStartIndex,_.verticalTextBoxEndIndex,_),this._updateIconDebugCollisionBoxes(f,a,u,_.iconBoxStartIndex,_.iconBoxEndIndex,_),this._updateIconDebugCollisionBoxes(f,a,u,_.verticalIconBoxStartIndex,_.verticalIconBoxEndIndex,_)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(a,u,f,h,v,_,S,P,I){const L={};if(u<f){const{x1:F,y1:W,x2:X,y2:ee,padding:ae,projectedAnchorX:oe,projectedAnchorY:_e,projectedAnchorZ:Re,tileAnchorX:De,tileAnchorY:ze,featureIndex:qe}=a.get(u);L.textBox={x1:F,y1:W,x2:X,y2:ee,padding:ae,projectedAnchorX:oe,projectedAnchorY:_e,projectedAnchorZ:Re,tileAnchorX:De,tileAnchorY:ze},L.textFeatureIndex=qe}if(h<v){const{x1:F,y1:W,x2:X,y2:ee,padding:ae,projectedAnchorX:oe,projectedAnchorY:_e,projectedAnchorZ:Re,tileAnchorX:De,tileAnchorY:ze,featureIndex:qe}=a.get(h);L.verticalTextBox={x1:F,y1:W,x2:X,y2:ee,padding:ae,projectedAnchorX:oe,projectedAnchorY:_e,projectedAnchorZ:Re,tileAnchorX:De,tileAnchorY:ze},L.verticalTextFeatureIndex=qe}if(_<S){const{x1:F,y1:W,x2:X,y2:ee,padding:ae,projectedAnchorX:oe,projectedAnchorY:_e,projectedAnchorZ:Re,tileAnchorX:De,tileAnchorY:ze,featureIndex:qe}=a.get(_);L.iconBox={x1:F,y1:W,x2:X,y2:ee,padding:ae,projectedAnchorX:oe,projectedAnchorY:_e,projectedAnchorZ:Re,tileAnchorX:De,tileAnchorY:ze},L.iconFeatureIndex=qe}if(P<I){const{x1:F,y1:W,x2:X,y2:ee,padding:ae,projectedAnchorX:oe,projectedAnchorY:_e,projectedAnchorZ:Re,tileAnchorX:De,tileAnchorY:ze,featureIndex:qe}=a.get(P);L.verticalIconBox={x1:F,y1:W,x2:X,y2:ee,padding:ae,projectedAnchorX:oe,projectedAnchorY:_e,projectedAnchorZ:Re,tileAnchorX:De,tileAnchorY:ze},L.verticalIconFeatureIndex=qe}return L}deserializeCollisionBoxes(a){this.collisionArrays=[];for(let u=0;u<this.symbolInstances.length;u++){const f=this.symbolInstances.get(u);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(a,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(a,u){const f=a.placedSymbolArray.get(u),h=f.vertexStartIndex+4*f.numGlyphs;for(let v=f.vertexStartIndex;v<h;v+=4)a.indexArray.emplaceBack(v,v+1,v+2),a.indexArray.emplaceBack(v+1,v+2,v+3)}getSortedSymbolIndexes(a){if(this.sortedAngle===a&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const u=Math.sin(a),f=Math.cos(a),h=[],v=[],_=[];for(let S=0;S<this.symbolInstances.length;++S){_.push(S);const P=this.symbolInstances.get(S);h.push(0|Math.round(u*P.tileAnchorX+f*P.tileAnchorY)),v.push(P.featureIndex)}return _.sort((S,P)=>h[S]-h[P]||v[P]-v[S]),_}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let a=0;a<this.symbolInstances.length;++a)this.symbolInstanceIndexesSortedZOffset.push(a)}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort((a,u)=>this.symbolInstances.get(u).zOffset-this.symbolInstances.get(a).zOffset)}addToSortKeyRanges(a,u){const f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===u?f.symbolInstanceEnd=a+1:this.sortKeyRanges.push({sortKey:u,symbolInstanceStart:a,symbolInstanceEnd:a+1})}sortFeatures(a){if(this.sortFeaturesByY&&this.sortedAngle!==a&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(a),this.sortedAngle=a,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const u of this.symbolInstanceIndexes){const f=this.symbolInstances.get(u);this.featureSortOrder.push(f.featureIndex);const{rightJustifiedTextSymbolIndex:h,centerJustifiedTextSymbolIndex:v,leftJustifiedTextSymbolIndex:_,verticalPlacedTextSymbolIndex:S,placedIconSymbolIndex:P,verticalPlacedIconSymbolIndex:I}=f;h>=0&&this.addIndicesForPlacedSymbol(this.text,h),v>=0&&v!==h&&this.addIndicesForPlacedSymbol(this.text,v),_>=0&&_!==v&&_!==h&&this.addIndicesForPlacedSymbol(this.text,_),S>=0&&this.addIndicesForPlacedSymbol(this.text,S),P>=0&&this.addIndicesForPlacedSymbol(this.icon,P),I>=0&&this.addIndicesForPlacedSymbol(this.icon,I)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}lt(x_,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),x_.addDynamicAttributes=q7;class zu{constructor(a,u,f,h){this.context=a,this.format=f,this.texture=a.gl.createTexture(),this.update(u,h)}update(a,u,f){const{width:h,height:v}=a,{context:_}=this,{gl:S}=_;if(S.bindTexture(S.TEXTURE_2D,this.texture),_.pixelStoreUnpackFlipY.set(!1),_.pixelStoreUnpack.set(1),_.pixelStoreUnpackPremultiplyAlpha.set(this.format===S.RGBA&&(!u||u.premultiply!==!1)),this.useMipmap=!!(u&&u.useMipmap),f||this.size&&this.size[0]===h&&this.size[1]===v){const{x:P,y:I}=f||{x:0,y:0};if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||ImageBitmap&&a instanceof ImageBitmap)S.texSubImage2D(S.TEXTURE_2D,0,P,I,S.RGBA,S.UNSIGNED_BYTE,a);else{let L=this.format,F=S.UNSIGNED_BYTE;this.format===S.R32F&&(L=S.RED,F=S.FLOAT),S.texSubImage2D(S.TEXTURE_2D,0,P,I,h,v,L,F,a.data)}}else if(this.size=[h,v],a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||ImageBitmap&&a instanceof ImageBitmap){let P=this.format;this.format===S.R8&&(P=S.RED),S.texImage2D(S.TEXTURE_2D,0,this.format,P,S.UNSIGNED_BYTE,a)}else{let P=this.format,I=this.format,L=S.UNSIGNED_BYTE,F=!1;this.format===S.DEPTH_COMPONENT&&(P=S.DEPTH_COMPONENT16,L=S.UNSIGNED_SHORT),this.format===S.DEPTH_STENCIL&&(P=S.DEPTH24_STENCIL8,L=S.UNSIGNED_INT_24_8,F=!0),this.format===S.R8&&(I=S.RED),this.format===S.R32F&&(L=S.FLOAT,I=S.RED),!this.useMipmap&&F?S.texStorage2D(S.TEXTURE_2D,1,P,h,v):S.texImage2D(S.TEXTURE_2D,0,P,h,v,0,I,L,a.data)}this.useMipmap&&S.generateMipmap(S.TEXTURE_2D)}bind(a,u,f=!1){const{context:h}=this,{gl:v}=h;v.bindTexture(v.TEXTURE_2D,this.texture),a!==this.minFilter&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,a),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,this.useMipmap&&!f?a===v.NEAREST?v.NEAREST_MIPMAP_NEAREST:v.LINEAR_MIPMAP_LINEAR:a),this.minFilter=a),u!==this.wrapS&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,u),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,u),this.wrapS=u)}bindExtraParam(a,u,f,h){const{context:v}=this,{gl:_}=v;_.bindTexture(_.TEXTURE_2D,this.texture),u!==this.magFilter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,u),this.magFilter=u),a!==this.minFilter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,this.useMipmap?a===_.NEAREST?_.NEAREST_MIPMAP_NEAREST:_.LINEAR_MIPMAP_LINEAR:a),this.minFilter=a),f!==this.wrapS&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,f),this.wrapS=f),h!==this.wrapT&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,h),this.wrapT=h)}destroy(){const{gl:a}=this.context;a.deleteTexture(this.texture),this.texture=null}}class Z7{constructor(a,u){this.context=a,this.texture=u}bind(a,u){const{context:f}=this,{gl:h}=f;h.bindTexture(h.TEXTURE_2D,this.texture),a!==this.minFilter&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,a),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,a),this.minFilter=a),u!==this.wrapS&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,u),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,u),this.wrapS=u)}}const Nu=32,Fd=33,hm=new Uint16Array(8184);for(let l=0;l<2046;l++){let a=l+2,u=0,f=0,h=0,v=0,_=0,S=0;for(1&a?h=v=_=Nu:u=f=S=Nu;(a>>=1)>1;){const I=u+h>>1,L=f+v>>1;1&a?(h=u,v=f,u=_,f=S):(u=h,f=v,h=_,v=S),_=I,S=L}const P=4*l;hm[P+0]=u,hm[P+1]=f,hm[P+2]=h,hm[P+3]=v}const jd=new Uint16Array(2178),mm=new Uint8Array(1089),X7=new Uint16Array(1089);function OY(l){return l===0?-.03125:l===32?.03125:0}var Y7=Xn([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class ig{constructor(a,u,f,h){this.id=ig.uniqueIdxCounter,ig.uniqueIdxCounter++,this.context=a;const v=a.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!f,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||h||u.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){this.id=ig.uniqueIdxCounter,ig.uniqueIdxCounter++;const u=this.context.gl;this.context.unbindVAO(),this.bind(),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}ig.uniqueIdxCounter=0;class w_{constructor(a,u,f){this.func=a,this.mask=u,this.range=f}}w_.ReadOnly=!1,w_.ReadWrite=!0,w_.disabled=new w_(519,w_.ReadOnly,[0,1]);const FD=7680;class jD{constructor(a,u,f,h,v,_){this.test=a,this.ref=u,this.mask=f,this.fail=h,this.depthFail=v,this.pass=_}}jD.disabled=new jD({func:519,mask:0},0,0,FD,FD,FD);const Gw=771;class Pl{constructor(a,u,f,h){this.blendFunction=a,this.blendColor=u,this.mask=f,this.blendEquation=h}}Pl.Replace=[1,0,1,0],Pl.disabled=new Pl(Pl.Replace,Hn.transparent,[!1,!1,!1,!1]),Pl.unblended=new Pl(Pl.Replace,Hn.transparent,[!0,!0,!0,!0]),Pl.alphaBlended=new Pl([1,Gw,1,Gw],Hn.transparent,[!0,!0,!0,!0]),Pl.alphaBlendedNonPremultiplied=new Pl([770,Gw,770,Gw],Hn.transparent,[!0,!0,!0,!0]),Pl.multiply=new Pl([774,0,774,0],Hn.transparent,[!0,!0,!0,!0]);const VD=1029,UD=2305;class zc{constructor(a,u,f){this.enable=a,this.mode=u,this.frontFace=f}}zc.disabled=new zc(!1,VD,UD),zc.backCCW=new zc(!0,VD,UD),zc.backCW=new zc(!0,VD,2304),zc.frontCW=new zc(!0,1028,2304),zc.frontCCW=new zc(!0,1028,UD);var cEe=Xn([{name:"a_index",type:"Int16",components:1}]);const DY={type:2,extent:rr,loadGeometry:()=>[[new or(0,0),new or(rr+1,0),new or(rr+1,rr+1),new or(0,rr+1),new or(0,0)]]};class J7{constructor(a,u,f,h,v){this.tileID=a,this.uid=bv(),this.uses=0,this.tileSize=u,this.tileZoom=f,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=v,h&&h.style&&(this._lastUpdatedBrightness=h.style.getBrightness()),this.expiredRequestCount=0,this.state="loading",h&&h.transform&&(this.projection=h.transform.projection)}registerFadeDuration(a){const u=a+this.timeAdded;u<So.now()||this.fadeEndTime&&u<this.fadeEndTime||(this.fadeEndTime=u)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=ng(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(a,u,f){if(this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(h,v){const _={};if(!v)return _;for(const S of h){const P=S.layerIds.map(I=>v.getLayer(I)).filter(Boolean);if(P.length!==0){S.layers=P,S.stateDependentLayerIds&&(S.stateDependentLayers=S.stateDependentLayerIds.map(I=>P.filter(L=>L.id===I)[0]));for(const I of P)_[I.fqid]=S}}return _}(a.buckets,u.style),this.hasSymbolBuckets=!1;for(const h in this.buckets){const v=this.buckets[h];if(v instanceof x_){if(this.hasSymbolBuckets=!0,!f)break;v.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const h in this.buckets){const v=this.buckets[h];if(v instanceof x_&&v.hasRTLText){this.hasRTLText=!0,yn.isLoading()||yn.isLoaded()||tn()!=="deferred"||Vn();break}}this.queryPadding=0;for(const h in this.buckets){const v=this.buckets[h],_=u.style.getOwnLayer(h);if(!_)continue;const S=_.queryRadius(v);this.queryPadding=Math.max(this.queryPadding,S)}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage),a.lineAtlas&&(this.lineAtlas=a.lineAtlas),this._lastUpdatedBrightness=a.brightness}else this.collisionBoxArray=new HO}unloadVectorData(){if(this.hasData()){for(const a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(a){return this.buckets[a.fqid]}upload(a){for(const h in this.buckets){const v=this.buckets[h];v.uploadPending()&&v.upload(a)}const u=a.gl,f=this.imageAtlas;if(f&&!f.uploaded){const h=!!Object.keys(f.patternPositions).length;this.imageAtlasTexture=new zu(a,f.image,u.RGBA,{useMipmap:h}),this.imageAtlas.uploaded=!0}this.glyphAtlasImage&&(this.glyphAtlasTexture=new zu(a,this.glyphAtlasImage,u.R8),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new zu(a,this.lineAtlas.image,u.R8),this.lineAtlas.uploaded=!0)}prepare(a,u,f){if(this.imageAtlas&&this.imageAtlasTexture&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture,f),!u||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const h=u.style.getBrightness();(this._lastUpdatedBrightness||h)&&(this._lastUpdatedBrightness&&h&&Math.abs(this._lastUpdatedBrightness-h)<.001||(this._lastUpdatedBrightness=h,this.updateBuckets(void 0,u)))}queryRenderedFeatures(a,u,f,h,v,_,S,P){return this.latestFeatureIndex&&(this.latestFeatureIndex.rawTileData||this.latestFeatureIndex.is3DTile)?this.latestFeatureIndex.query({tileResult:h,pixelPosMatrix:S,transform:_,params:v,tileTransform:this.tileTransform},a,u,f):{}}querySourceFeatures(a,u){const f=this.latestFeatureIndex;if(!f||!f.rawTileData)return;const h=f.loadVTLayers(),v=u?u.sourceLayer:"",_=h._geojsonTileLayer||h[v];if(!_)return;const S=Oc(u&&u.filter),{z:P,x:I,y:L}=this.tileID.canonical,F={z:P,x:I,y:L};for(let W=0;W<_.length;W++){const X=_.feature(W);if(S.needGeometry){const oe=Gf(X,!0);if(!S.filter(new Wr(this.tileID.overscaledZ),oe,this.tileID.canonical))continue}else if(!S.filter(new Wr(this.tileID.overscaledZ),X))continue;const ee=f.getId(X,v),ae=new eY(X,P,I,L,ee);ae.tile=F,a.push(ae)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){const u=this.expirationTime;if(a.cacheControl){const f=h0(a.cacheControl);f["max-age"]&&(this.expirationTime=Date.now()+1e3*f["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){const f=Date.now();let h=!1;if(this.expirationTime>f)h=!1;else if(u)if(this.expirationTime<u)h=!0;else{const v=this.expirationTime-u;v?this.expirationTime=f+Math.max(v,3e4):h=!0}else h=!0;h?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,u){this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(a).length!==0&&u&&this.updateBuckets(a,u)}updateBuckets(a,u){if(!this.latestFeatureIndex)return;const f=this.latestFeatureIndex.loadVTLayers(),h=u.style.listImages(),v=u.style.getBrightness();for(const _ in this.buckets){if(!u.style.hasLayer(_))continue;const S=this.buckets[_],P=S.layers[0].sourceLayer||"_geojsonTileLayer",I=f[P];let L={};if(a&&(L=a[P],!I||!L||Object.keys(L).length===0))continue;if(S.update(L,I,h,this.imageAtlas&&this.imageAtlas.patternPositions||{},v),S instanceof R7||S instanceof A7){const W=u.style.getOwnSourceCache(S.layers[0].source);u._terrain&&u._terrain.enabled&&W&&S.programConfigurations.needsUpload&&u._terrain._clearRenderCacheForTile(W.id,this.tileID)}const F=u&&u.style&&u.style.getOwnLayer(_);F&&(this.queryPadding=Math.max(this.queryPadding,F.queryRadius(S)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<So.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=So.now()+a}setTexture(a,u){const f=u.context,h=f.gl;this.texture=this.texture||u.getTileTexture(a.width),this.texture&&this.texture instanceof zu?this.texture.update(a,{useMipmap:!0}):(this.texture=new zu(f,a,h.RGBA,{useMipmap:!0}),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE))}setDependencies(a,u){const f={};for(const h of u)f[h]=!0;this.dependencies[a]=f}hasDependency(a,u){for(const f of a){const h=this.dependencies[f];if(h){for(const v of u)if(h[v])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(a,u){if(!u||u.name==="mercator"||this._tileDebugBuffer)return;const f=$c(DY,this.tileID.canonical,this.tileTransform)[0],h=new Dc,v=new bw;for(let _=0;_<f.length;_++){const{x:S,y:P}=f[_];h.emplaceBack(S,P),v.emplaceBack(_)}v.emplaceBack(0),this._tileDebugIndexBuffer=a.createIndexBuffer(v),this._tileDebugBuffer=a.createVertexBuffer(h,Tw.members),this._tileDebugSegments=Ki.simpleSegment(0,0,h.length,v.length)}_makeTileBoundsBuffers(a,u){if(this._tileBoundsBuffer||!u||u.name==="mercator")return;const f=$c(DY,this.tileID.canonical,this.tileTransform)[0];let h,v;if(this.isRaster){const _=function(S,P){const I=ng(S,P),L=Math.pow(2,S.z);for(let oe=0;oe<Fd;oe++)for(let _e=0;_e<Fd;_e++){const Re=rl((S.x+(_e+OY(_e))/Nu)/L),De=po((S.y+(oe+OY(oe))/Nu)/L),ze=P.project(Re,De),qe=oe*Fd+_e;jd[2*qe+0]=Math.round((ze.x*I.scale-I.x)*rr),jd[2*qe+1]=Math.round((ze.y*I.scale-I.y)*rr)}mm.fill(0),X7.fill(0);for(let oe=2045;oe>=0;oe--){const _e=4*oe,Re=hm[_e+0],De=hm[_e+1],ze=hm[_e+2],qe=hm[_e+3],Ze=Re+ze>>1,rt=De+qe>>1,ut=Ze+rt-De,mt=rt+Re-Ze,St=De*Fd+Re,yt=qe*Fd+ze,Ot=rt*Fd+Ze,Ht=Math.hypot((jd[2*St+0]+jd[2*yt+0])/2-jd[2*Ot+0],(jd[2*St+1]+jd[2*yt+1])/2-jd[2*Ot+1])>=16;mm[Ot]=mm[Ot]||(Ht?1:0),oe<1022&&(mm[Ot]=mm[Ot]||mm[(De+mt>>1)*Fd+(Re+ut>>1)]||mm[(qe+mt>>1)*Fd+(ze+ut>>1)])}const F=new Uf,W=new ro;let X=0;function ee(oe,_e){const Re=_e*Fd+oe;return X7[Re]===0&&(F.emplaceBack(jd[2*Re+0],jd[2*Re+1],oe*rr/Nu,_e*rr/Nu),X7[Re]=++X),X7[Re]-1}function ae(oe,_e,Re,De,ze,qe){const Ze=oe+Re>>1,rt=_e+De>>1;if(Math.abs(oe-ze)+Math.abs(_e-qe)>1&&mm[rt*Fd+Ze])ae(ze,qe,oe,_e,Ze,rt),ae(Re,De,ze,qe,Ze,rt);else{const ut=ee(oe,_e),mt=ee(Re,De),St=ee(ze,qe);W.emplaceBack(ut,mt,St)}}return ae(0,0,Nu,Nu,Nu,0),ae(Nu,Nu,0,0,0,Nu),{vertices:F,indices:W}}(this.tileID.canonical,u);h=_.vertices,v=_.indices}else{h=new Uf,v=new ro;for(const{x:S,y:P}of f)h.emplaceBack(S,P,0,0);const _=Mw(h.int16,void 0,4);for(let S=0;S<_.length;S+=3)v.emplaceBack(_[S],_[S+1],_[S+2])}this._tileBoundsBuffer=a.createVertexBuffer(h,Y7.members),this._tileBoundsIndexBuffer=a.createIndexBuffer(v),this._tileBoundsSegments=Ki.simpleSegment(0,0,h.length,v.length)}_makeGlobeTileDebugBuffers(a,u){const f=u.projection;if(!f||f.name!=="globe"||u.freezeTileCoverage)return;const h=this.tileID.canonical,v=Cw(AZ(h,u)),_=Zf(u.zoom);let S;_>0&&(S=o.ae.invert(new Float64Array(16),u.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(a,h,u,v,S,_),this._makeGlobeTileDebugTextBuffer(a,h,u,v,S,_)}_globePoint(a,u,f,h,v,_,S){let P=Pw(a,u,f);if(_){const I=1<<f.z,L=Ld(h.center.lng),F=Bd(h.center.lat),W=(f.x+.5)/I-L;let X=0;W>.5?X=-1:W<-.5&&(X=1);let ee=(a/rr+f.x)/I+X,ae=(u/rr+f.y)/I;ee=(ee-L)*h._pixelsPerMercatorPixel+L,ae=(ae-F)*h._pixelsPerMercatorPixel+F;const oe=[ee*h.worldSize,ae*h.worldSize,0];o.$.transformMat4(oe,oe,_),P=qf(P,oe,S)}return o.$.transformMat4(P,P,v)}_makeGlobeTileDebugBorderBuffer(a,u,f,h,v,_){const S=new Dc,P=new bw,I=new o7,L=(W,X,ee,ae,oe)=>{const _e=(ee-W)/(oe-1),Re=(ae-X)/(oe-1),De=S.length;for(let ze=0;ze<oe;ze++){const qe=W+ze*_e,Ze=X+ze*Re;S.emplaceBack(qe,Ze);const rt=this._globePoint(qe,Ze,u,f,h,v,_);I.emplaceBack(rt[0],rt[1],rt[2]),P.emplaceBack(De+ze)}},F=rr;L(0,0,F,0,16),L(F,0,F,F,16),L(F,F,0,F,16),L(0,F,0,0,16),this._tileDebugIndexBuffer=a.createIndexBuffer(P),this._tileDebugBuffer=a.createVertexBuffer(S,Tw.members),this._globeTileDebugBorderBuffer=a.createVertexBuffer(I,SZ.members),this._tileDebugSegments=Ki.simpleSegment(0,0,S.length,P.length)}_makeGlobeTileDebugTextBuffer(a,u,f,h,v,_){const S=rr/4,P=new Dc,I=new ro,L=new o7,F=25;I.reserve(32),P.reserve(F),L.reserve(F);const W=(X,ee)=>F*X+ee;for(let X=0;X<F;X++){const ee=X*S;for(let ae=0;ae<F;ae++){const oe=ae*S;P.emplaceBack(oe,ee);const _e=this._globePoint(oe,ee,u,f,h,v,_);L.emplaceBack(_e[0],_e[1],_e[2])}}for(let X=0;X<4;X++)for(let ee=0;ee<4;ee++){const ae=W(X,ee),oe=W(X,ee+1),_e=W(X+1,ee),Re=W(X+1,ee+1);I.emplaceBack(ae,oe,_e),I.emplaceBack(_e,oe,Re)}this._tileDebugTextIndexBuffer=a.createIndexBuffer(I),this._tileDebugTextBuffer=a.createVertexBuffer(P,Tw.members),this._globeTileDebugTextBuffer=a.createVertexBuffer(L,SZ.members),this._tileDebugTextSegments=Ki.simpleSegment(0,0,F,32)}destroy(a=!1){for(const u in this.buckets)this.buckets[u].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&(this.imageAtlasTexture.destroy(),delete this.imageAtlasTexture),this.glyphAtlasTexture&&(this.glyphAtlasTexture.destroy(),delete this.glyphAtlasTexture),this.lineAtlasTexture&&(this.lineAtlasTexture.destroy(),delete this.lineAtlasTexture),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),!a&&this.texture&&this.texture instanceof zu&&(this.texture.destroy(),delete this.texture),this.hillshadeFBO&&(this.hillshadeFBO.destroy(),delete this.hillshadeFBO),this.dem&&delete this.dem,this.neighboringTiles&&delete this.neighboringTiles,this.demTexture&&(this.demTexture.destroy(),delete this.demTexture),this.rasterParticleState&&(this.rasterParticleState.destroy(),delete this.rasterParticleState),this.latestFeatureIndex=null,this.state="unloaded"}}function dEe(l,a,u){l===1?a.header_length=u.readFixed32():l===2?a.x=u.readVarint():l===3?a.y=u.readVarint():l===4?a.z=u.readVarint():l===5&&a.layers.push(function(f,h){return f.readFields(gEe,{version:0,name:"",units:"",tilesize:0,buffer:0,pixel_format:0,data_index:[]},h)}(u,u.readVarint()+u.pos))}function fEe(l,a,u){l===1?(a.delta_filter=function(f,h){return f.readFields(pEe,{block_size:0},h)}(u,u.readVarint()+u.pos),a.filter="delta_filter"):l===2?(u.readVarint(),a.filter="zigzag_filter"):l===3?(u.readVarint(),a.filter="bitshuffle_filter"):l===4&&(u.readVarint(),a.filter="byteshuffle_filter")}function pEe(l,a,u){l===1&&(a.block_size=u.readVarint())}function hEe(l,a,u){l===1?(u.readVarint(),a.codec="gzip_data"):l===2?(u.readVarint(),a.codec="jpeg_image"):l===3?(u.readVarint(),a.codec="webp_image"):l===4&&(u.readVarint(),a.codec="png_image")}function mEe(l,a,u){l===1?a.first_byte=u.readFixed64():l===2?a.last_byte=u.readFixed64():l===3?a.filters.push(function(f,h){return f.readFields(fEe,{},h)}(u,u.readVarint()+u.pos)):l===4?a.codec=function(f,h){return f.readFields(hEe,{},h)}(u,u.readVarint()+u.pos):l===5?a.deprecated_offset=u.readFloat():l===6?a.deprecated_scale=u.readFloat():l===7?a.bands.push(u.readString()):l===8?a.offset=u.readDouble():l===9&&(a.scale=u.readDouble())}function gEe(l,a,u){l===1?a.version=u.readVarint():l===2?a.name=u.readString():l===3?a.units=u.readString():l===4?a.tilesize=u.readVarint():l===5?a.buffer=u.readVarint():l===6?a.pixel_format=u.readVarint():l===7&&a.data_index.push(function(f,h){return f.readFields(mEe,{first_byte:0,last_byte:0,filters:[],codec:null,offset:0,scale:0,deprecated_offset:0,deprecated_scale:0,bands:[]},h)}(u,u.readVarint()+u.pos))}function yEe(l,a,u){if(l===2)(function(f,h,v){f.readFields(vEe,v,h)})(u,u.readVarint()+u.pos,a);else if(l===3)throw new Error("Not implemented")}function vEe(l,a,u){if(l===1){let f=0;const h=u.readVarint()+u.pos;for(;u.pos<h;)a[f++]=u.readVarint()}}class _Ee{constructor(a){this.capacity=a,this.cache=new Map}get(a){if(!this.cache.has(a))return;const u=this.cache.get(a);return this.cache.delete(a),this.cache.set(a,u),u}put(a,u){this.cache.has(a)?this.cache.delete(a):this.cache.size===this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(a,u)}}function bEe(l,a){if(a.length!==4)throw new Error(`Expected data of dimension 4 but got ${a.length}.`);let u=a[3];for(let f=2;f>=1;f--){const h=f===1?1:0,v=f===2?1:0;for(let _=0;_<a[0];_++){const S=a[1]*_;for(let P=h;P<a[1];P++){const I=a[2]*(P+S);for(let L=v;L<a[2];L++){const F=a[3]*(L+I);for(let W=0;W<a[3];W++){const X=F+W;l[X]+=l[X-u]}}}}u*=a[f]}return l}function xEe(l){for(let a=0,u=l.length;a<u;a++)l[a]=l[a]>>>1^-(1&l[a]);return l}function wEe(l,a){switch(a){case"uint32":return l;case"uint16":for(let u=0;u<l.length;u+=2){const f=l[u],h=l[u+1];l[u]=(240&f)>>4|(61440&f)>>8|(240&h)<<4|61440&h,l[u+1]=15&f|(3840&f)>>4|(15&h)<<8|(3840&h)<<4}return l;case"uint8":for(let u=0;u<l.length;u+=4){const f=l[u],h=l[u+1],v=l[u+2],_=l[u+3];l[u+0]=(192&f)>>6|(192&h)>>4|(192&v)>>2|192&_,l[u+1]=(48&f)>>4|(48&h)>>2|48&v|(48&_)<<2,l[u+2]=(12&f)>>2|12&h|(12&v)<<2|(12&_)<<4,l[u+3]=3&f|(3&h)<<2|(3&v)<<4|(3&_)<<6}return l;default:throw new Error(`Invalid pixel format, "${a}"`)}}var tu=Uint8Array,qw=Uint16Array,SEe=Int32Array,RY=new tu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$Y=new tu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),EEe=new tu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LY=function(l,a){for(var u=new qw(31),f=0;f<31;++f)u[f]=a+=1<<l[f-1];var h=new SEe(u[30]);for(f=1;f<30;++f)for(var v=u[f];v<u[f+1];++v)h[v]=v-u[f]<<5|f;return{b:u,r:h}},BY=LY(RY,2),zY=BY.b,AEe=BY.r;zY[28]=258,AEe[258]=28;for(var TEe=LY($Y,0).b,NY=new qw(32768),ga=0;ga<32768;++ga){var S_=(43690&ga)>>1|(21845&ga)<<1;NY[ga]=((65280&(S_=(61680&(S_=(52428&S_)>>2|(13107&S_)<<2))>>4|(3855&S_)<<4))>>8|(255&S_)<<8)>>1}var Zw=function(l,a,u){for(var f=l.length,h=0,v=new qw(a);h<f;++h)l[h]&&++v[l[h]-1];var _,S=new qw(a);for(h=1;h<a;++h)S[h]=S[h-1]+v[h-1]<<1;_=new qw(1<<a);var P=15-a;for(h=0;h<f;++h)if(l[h])for(var I=h<<4|l[h],L=a-l[h],F=S[l[h]-1]++<<L,W=F|(1<<L)-1;F<=W;++F)_[NY[F]>>P]=I;return _},Xw=new tu(288);for(ga=0;ga<144;++ga)Xw[ga]=8;for(ga=144;ga<256;++ga)Xw[ga]=9;for(ga=256;ga<280;++ga)Xw[ga]=7;for(ga=280;ga<288;++ga)Xw[ga]=8;var FY=new tu(32);for(ga=0;ga<32;++ga)FY[ga]=5;var PEe=Zw(Xw,9),CEe=Zw(FY,5),WD=function(l){for(var a=l[0],u=1;u<l.length;++u)l[u]>a&&(a=l[u]);return a},Nc=function(l,a,u){var f=a/8|0;return(l[f]|l[f+1]<<8)>>(7&a)&u},KD=function(l,a){var u=a/8|0;return(l[u]|l[u+1]<<8|l[u+2]<<16)>>(7&a)},IEe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Fc=function(l,a,u){var f=new Error(a||IEe[l]);if(f.code=l,Error.captureStackTrace&&Error.captureStackTrace(f,Fc),!u)throw f;return f},MEe=new tu(0),kEe=typeof TextDecoder<"u"&&new TextDecoder;try{kEe.decode(MEe,{stream:!0})}catch{}const OEe={gzip_data:"gzip"};class Fu extends Error{constructor(a){super(a),this.name="MRTError"}}const DEe={0:"uint32",1:"uint32",2:"uint16",3:"uint8"},jY={uint32:1,uint16:2,uint8:4},REe={uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array};let HD,GD;class Yw{constructor(a=5){this.x=NaN,this.y=NaN,this.z=NaN,this.layers={},this._cacheSize=a}getLayer(a){const u=this.layers[a];if(!u)throw new Fu(`Layer '${a}' not found`);return u}getHeaderLength(a){const u=new Uint8Array(a),f=new DataView(a);if(u[0]!==13)throw new Fu("File is not a valid MRT.");return f.getUint32(1,!0)}parseHeader(a){const u=new Uint8Array(a),f=this.getHeaderLength(a);if(u.length<f)throw new Fu(`Expected header with length >= ${f} but got buffer of length ${u.length}`);const h=function(v,_){return v.readFields(dEe,{header_length:0,x:0,y:0,z:0,layers:[]},void 0)}(new HD(u.subarray(0,f)));if(!isNaN(this.x)&&(this.x!==h.x||this.y!==h.y||this.z!==h.z))throw new Fu(`Invalid attempt to parse header ${h.z}/${h.x}/${h.y} for tile ${this.z}/${this.x}/${this.y}`);this.x=h.x,this.y=h.y,this.z=h.z;for(const v of h.layers)this.layers[v.name]=new $Ee(v,{cacheSize:this._cacheSize});return this}createDecodingTask(a){const u=[],f=this.getLayer(a.layerName);for(let h of a.blockIndices){const v=f.dataIndex[h],_=v.first_byte-a.firstByte,S=v.last_byte-a.firstByte;if(f._blocksInProgress.has(h))continue;const P={layerName:f.name,firstByte:_,lastByte:S,pixelFormat:f.pixelFormat,blockIndex:h,blockShape:[v.bands.length].concat(f.bandShape),buffer:f.buffer,codec:v.codec.codec,filters:v.filters.map(I=>I.filter)};f._blocksInProgress.add(h),u.push(P)}return new VY(u,()=>{u.forEach(h=>f._blocksInProgress.delete(h.blockIndex))},(h,v)=>{if(u.forEach(_=>f._blocksInProgress.delete(_.blockIndex)),h)throw h;v.forEach(_=>{this.getLayer(_.layerName).processDecodedData(_)})})}}class $Ee{constructor({version:a,name:u,units:f,tilesize:h,pixel_format:v,buffer:_,data_index:S},P){if(this.version=a,this.version!==1)throw new Fu(`Cannot parse raster layer encoded with MRT version ${a}`);this.name=u,this.units=f,this.tileSize=h,this.buffer=_,this.pixelFormat=DEe[v],this.dataIndex=S,this.bandShape=[h+2*_,h+2*_,jY[this.pixelFormat]],this._decodedBlocks=new _Ee(P?P.cacheSize:5),this._blocksInProgress=new Set}get dimension(){return jY[this.pixelFormat]}get cacheSize(){return this._decodedBlocks.capacity}getBandList(){return this.dataIndex.map(({bands:a})=>a).flat()}processDecodedData(a){const u=a.blockIndex.toString();this._decodedBlocks.get(u)||this._decodedBlocks.put(u,a.data)}getBlockForBand(a){let u=0;switch(typeof a){case"string":for(const[f,h]of this.dataIndex.entries()){for(const[v,_]of h.bands.entries())if(_===a)return{bandIndex:u+v,blockIndex:f,blockBandIndex:v};u+=h.bands.length}break;case"number":for(const[f,h]of this.dataIndex.entries()){if(a>=u&&a<u+h.bands.length)return{bandIndex:a,blockIndex:f,blockBandIndex:a-u};u+=h.bands.length}break;default:throw new Fu(`Invalid band \`${JSON.stringify(a)}\`. Expected string or integer.`)}throw new Fu(`Band not found: ${JSON.stringify(a)}`)}getDataRange(a){let u=1/0,f=-1/0;const h=[],v=new Set;for(const _ of a){const{blockIndex:S}=this.getBlockForBand(_);if(S<0)throw new Fu(`Invalid band: ${JSON.stringify(_)}`);const P=this.dataIndex[S];h.includes(S)||h.push(S),v.add(S),u=Math.min(u,P.first_byte),f=Math.max(f,P.last_byte)}if(v.size>this.cacheSize)throw new Fu(`Number of blocks to decode (${v.size}) exceeds cache size (${this.cacheSize}).`);return{layerName:this.name,firstByte:u,lastByte:f,blockIndices:h}}hasBand(a){const{blockIndex:u}=this.getBlockForBand(a);return u>=0}hasDataForBand(a){const{blockIndex:u}=this.getBlockForBand(a);return u>=0&&!!this._decodedBlocks.get(u.toString())}getBandView(a){const{blockIndex:u,blockBandIndex:f}=this.getBlockForBand(a),h=this._decodedBlocks.get(u.toString());if(!h)throw new Fu(`Data for band ${JSON.stringify(a)} of layer "${this.name}" not decoded.`);const v=this.dataIndex[u],_=this.bandShape.reduce((I,L)=>I*L,1),S=f*_,P=h.subarray(S,S+_);return{data:P,bytes:new Uint8Array(P.buffer).subarray(P.byteOffset,P.byteOffset+P.byteLength),tileSize:this.tileSize,buffer:this.buffer,pixelFormat:this.pixelFormat,dimension:this.dimension,offset:v.offset!==0?v.offset:v.deprecated_offset,scale:v.scale!==0?v.scale:v.deprecated_scale}}}Yw.setPbf=function(l){HD=l};class VY{constructor(a,u,f){this.tasks=a,this._onCancel=u,this._onComplete=f,this._finalized=!1}cancel(){this._finalized||(this._onCancel(),this._finalized=!0)}complete(a,u){this._finalized||(this._onComplete(a,u),this._finalized=!0)}}Yw.performDecoding=function(l,a){const u=new Uint8Array(l);return Promise.all(a.tasks.map(f=>{const{layerName:h,firstByte:v,lastByte:_,pixelFormat:S,blockShape:P,blockIndex:I,filters:L,codec:F}=f,W=u.subarray(v,_+1),X=new Uint32Array(P[0]*P[1]*P[2]);let ee;if(F!=="gzip_data")throw new Fu(`Unhandled codec: ${F}`);return ee=function(ae,oe){if(!globalThis.DecompressionStream&&oe==="gzip_data")return Promise.resolve(((ze=function(rt){rt[0]==31&&rt[1]==139&&rt[2]==8||Fc(6,"invalid gzip data");var ut=rt[3],mt=10;4&ut&&(mt+=2+(rt[10]|rt[11]<<8));for(var St=(ut>>3&1)+(ut>>4&1);St>0;St-=!rt[mt++]);return mt+(2&ut)}(De=ae))+8>De.length&&Fc(6,"invalid gzip data"),function(rt,ut,mt,St){var yt=rt.length;if(!yt||ut.f&&!ut.l)return mt||new tu(0);var Ot=!mt,Ht=Ot||ut.i!=2,Dt=ut.i;Ot&&(mt=new tu(3*yt));var Jt,Mt,Ft=function(ym){var cg=mt.length;if(ym>cg){var s2=new tu(Math.max(2*cg,ym));s2.set(mt),mt=s2}},er=ut.f||0,$t=ut.p||0,ir=ut.b||0,Qt=ut.l,qt=ut.d,Pr=ut.m,Sr=ut.n,pr=8*yt;do{if(!Qt){er=Nc(rt,$t,1);var nr=Nc(rt,$t+1,3);if($t+=3,!nr){var Ur=rt[(Qr=4+(($t+7)/8|0))-4]|rt[Qr-3]<<8,Tr=Qr+Ur;if(Tr>yt){Dt&&Fc(0);break}Ht&&Ft(ir+Ur),mt.set(rt.subarray(Qr,Tr),ir),ut.b=ir+=Ur,ut.p=$t=8*Tr,ut.f=er;continue}if(nr==1)Qt=PEe,qt=CEe,Pr=9,Sr=5;else if(nr==2){var _r=Nc(rt,$t,31)+257,Xr=Nc(rt,$t+10,15)+4,Jr=_r+Nc(rt,$t+5,31)+1;$t+=14;for(var Yr=new tu(Jr),on=new tu(19),Mn=0;Mn<Xr;++Mn)on[EEe[Mn]]=Nc(rt,$t+3*Mn,7);$t+=3*Xr;var _n=WD(on),si=(1<<_n)-1,di=Zw(on,_n);for(Mn=0;Mn<Jr;){var Qr,Yn=di[Nc(rt,$t,si)];if($t+=15&Yn,(Qr=Yn>>4)<16)Yr[Mn++]=Qr;else{var Jn=0,Ai=0;for(Qr==16?(Ai=3+Nc(rt,$t,3),$t+=2,Jn=Yr[Mn-1]):Qr==17?(Ai=3+Nc(rt,$t,7),$t+=3):Qr==18&&(Ai=11+Nc(rt,$t,127),$t+=7);Ai--;)Yr[Mn++]=Jn}}var ia=Yr.subarray(0,_r),ya=Yr.subarray(_r);Pr=WD(ia),Sr=WD(ya),Qt=Zw(ia,Pr),qt=Zw(ya,Sr)}else Fc(1);if($t>pr){Dt&&Fc(0);break}}Ht&&Ft(ir+131072);for(var aa=(1<<Pr)-1,qi=(1<<Sr)-1,no=$t;;no=$t){var Ia=(Jn=Qt[KD(rt,$t)&aa])>>4;if(($t+=15&Jn)>pr){Dt&&Fc(0);break}if(Jn||Fc(2),Ia<256)mt[ir++]=Ia;else{if(Ia==256){no=$t,Qt=null;break}var Mo=Ia-254;Ia>264&&(Mo=Nc(rt,$t,(1<<(Vc=RY[Mn=Ia-257]))-1)+zY[Mn],$t+=Vc);var wi=qt[KD(rt,$t)&qi],nl=wi>>4;if(wi||Fc(3),$t+=15&wi,ya=TEe[nl],nl>3){var Vc=$Y[nl];ya+=KD(rt,$t)&(1<<Vc)-1,$t+=Vc}if($t>pr){Dt&&Fc(0);break}Ht&&Ft(ir+131072);var ju=ir+Mo;if(ir<ya){var Vu=0-ya,ug=Math.min(ya,ju);for(Vu+ir<0&&Fc(3);ir<ug;++ir)mt[ir]=(void 0)[Vu+ir]}for(;ir<ju;++ir)mt[ir]=mt[ir-ya]}}ut.l=Qt,ut.p=no,ut.b=ir,ut.f=er,Qt&&(er=1,ut.m=Pr,ut.d=qt,ut.n=Sr)}while(!er);return ir!=mt.length&&Ot?(Jt=mt,((Mt=ir)==null||Mt>Jt.length)&&(Mt=Jt.length),new tu(Jt.subarray(0,Mt))):mt.subarray(0,ir)}(De.subarray(ze,-8),{i:2},new tu(((_e=De)[(Re=_e.length)-4]|_e[Re-3]<<8|_e[Re-2]<<16|_e[Re-1]<<24)>>>0))));var _e,Re,De,ze;const qe=OEe[oe];if(!qe)throw new Error(`Unhandled codec: ${oe}`);const Ze=new globalThis.DecompressionStream(qe);return new Response(new Blob([ae]).stream().pipeThrough(Ze)).arrayBuffer().then(rt=>new Uint8Array(rt))}(W,F).then(ae=>(function(oe,_e){oe.readFields(yEe,_e)}(new HD(ae),X),new REe[S](X.buffer))),ee.then(ae=>{for(let oe=L.length-1;oe>=0;oe--)switch(L[oe]){case"delta_filter":bEe(ae,P);break;case"zigzag_filter":xEe(ae);break;case"bitshuffle_filter":wEe(ae,S);break;default:throw new Fu(`Unhandled filter "${L[oe]}"`)}return{layerName:h,blockIndex:I,data:ae}}).catch(ae=>{throw ae})}))},Yw.setPbf(zw);class UY extends J7{constructor(a,u,f,h,v){super(a,u,f,h,v),this._workQueue=[],this._fetchQueue=[],this._isHeaderLoaded=!1}setTexture(a,u){const f=u.context,h=f.gl;this.texture=this.texture||u.getTileTexture(a.width),this.texture&&this.texture instanceof zu?this.texture.update(a,{useMipmap:!1,premultiply:!1}):this.texture=new zu(f,a,h.RGBA,{useMipmap:!1,premultiply:!1})}flushQueues(){for(;this._workQueue.length;)this._workQueue.pop()();for(;this._fetchQueue.length;)this._fetchQueue.pop()()}fetchHeader(a=16384,u){const f=this._mrt=new Yw(30),h=Object.assign({},this.requestParams,{headers:{Range:"bytes=0-"+(a-1)}});return this.entireBuffer=null,this.request=kf(h,(v,_,S,P)=>{if(v)u(v);else try{const I=f.getHeaderLength(_);if(I>a)return void(this.request=this.fetchHeader(I,u));f.parseHeader(_),this._isHeaderLoaded=!0;let L=0;for(const F of Object.values(f.layers))L=Math.max(L,F.dataIndex[F.dataIndex.length-1].last_byte);_.byteLength>=L&&(this.entireBuffer=_),u(null,this.entireBuffer||_,S,P)}catch(I){u(I)}}),this.request}fetchBand(a,u,f){const h=this._mrt;if(!this._isHeaderLoaded||!h)return void f(new Error("Tile header is not ready"));const v=this.actor;if(!v)return void f(new Error("Can't fetch tile band without an actor"));let _;const S=(F,W)=>{_.complete(F,W),F?f(F):(this.updateTextureDescriptor(a,u),f(null,this.textureDescriptor&&this.textureDescriptor.img))},P=(F,W)=>{if(F)return f(F);const X=v.send("decodeRasterArray",{buffer:W,task:_},S,void 0,!0);this._workQueue.push(()=>{X&&X.cancel(),_.cancel()})},I=h.getLayer(a);if(!I)return void f(new Error(`Unknown sourceLayer "${a}"`));if(I.hasDataForBand(u))return this.updateTextureDescriptor(a,u),void f(null,this.textureDescriptor?this.textureDescriptor.img:null);const L=I.getDataRange([u]);if(_=h.createDecodingTask(L),!_||_.tasks.length)if(this.flushQueues(),this.entireBuffer)P(null,this.entireBuffer.slice(L.firstByte,L.lastByte+1));else{const F=Object.assign({},this.requestParams,{headers:{Range:`bytes=${L.firstByte}-${L.lastByte}`}}),W=kf(F,P);this._fetchQueue.push(()=>{W.cancel(),_.cancel()})}else f(null)}updateNeeded(a,u){return(!this.textureDescriptor||this.textureDescriptor.band!==u||this.textureDescriptor.layer!==a)&&this.state!=="errored"}updateTextureDescriptor(a,u){if(!this._mrt)return;const f=this._mrt.getLayer(a);if(!f||!f.hasBand(u)||!f.hasDataForBand(u))return;const{bytes:h,tileSize:v,buffer:_,offset:S,scale:P}=f.getBandView(u),I=v+2*_,L={data:h,width:I,height:I},F=this.texture;F&&F instanceof zu&&F.update(L,{useMipmap:!1,premultiply:!1}),this.textureDescriptor={layer:a,band:u,img:L,buffer:_,offset:S,tileSize:v,format:f.pixelFormat,mix:[P,256*P,65536*P,16777216*P]}}}class LEe{constructor(a,u){this.max=a,this.onRemove=u,this.reset()}reset(){for(const a in this.data)for(const u of this.data[a])u.timeout&&clearTimeout(u.timeout),this.onRemove(u.value);return this.data={},this.order=[],this}add(a,u,f){const h=a.wrapped().key;this.data[h]===void 0&&(this.data[h]=[]);const v={value:u,timeout:void 0};if(f!==void 0&&(v.timeout=setTimeout(()=>{this.remove(a,v)},f)),this.data[h].push(v),this.order.push(h),this.order.length>this.max){const _=this._getAndRemoveByKey(this.order[0]);_&&this.onRemove(_)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){const u=this.data[a].shift();return u.timeout&&clearTimeout(u.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),u.value}getByKey(a){const u=this.data[a];return u?u[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,u){if(!this.has(a))return this;const f=a.wrapped().key,h=u===void 0?0:this.data[f].indexOf(u),v=this.data[f][h];return this.data[f].splice(h,1),v.timeout&&clearTimeout(v.timeout),this.data[f].length===0&&delete this.data[f],this.onRemove(v.value),this.order.splice(this.order.indexOf(f),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){const u=this._getAndRemoveByKey(this.order[0]);u&&this.onRemove(u)}return this}filter(a){const u=[];for(const f in this.data)for(const h of this.data[f])a(h.value)||u.push(h);for(const f of u)this.remove(f.value.tileID,f)}}class ag extends $f{constructor(a,u,f){super(),this.id=a,this._onlySymbols=f,u.on("data",h=>{h.dataType==="source"&&h.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&h.dataType==="source"&&h.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),u.on("error",()=>{this._sourceErrored=!0}),this._source=u,this._tiles={},this._cache=new LEe(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=u.minTileCacheSize,this._maxTileCacheSize=u.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this.tileCoverLift=0,this._coveredTiles={},this._shadowCasterTiles={},this._state=new D7e,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="raster-array"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(a){this.map=a,this._minTileCacheSize=this._minTileCacheSize===void 0&&a?a._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&a?a._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const a in this._tiles){const u=this._tiles[a];if(u.state!=="loaded"&&u.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(a,u){return a.isSymbolTile=this._onlySymbols,a.isExtraShadowCaster=this._shadowCasterTiles[a.tileID.key],this._source.loadTile(a,u)}_unloadTile(a){if(this._source.unloadTile)return this._source.unloadTile(a)}_abortTile(a){if(this._source.abortTile)return this._source.abortTile(a)}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const u in this._tiles){const f=this._tiles[u];f.upload(a),f.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope)}}getIds(){return R3(this._tiles).map(a=>a.tileID).sort(WY).map(a=>a.key)}getRenderableIds(a,u){const f=[];for(const h in this._tiles)this._isIdRenderable(+h,a,u)&&f.push(this._tiles[h]);return a?f.sort((h,v)=>{const _=h.tileID,S=v.tileID,P=new or(_.canonical.x,_.canonical.y)._rotate(this.transform.angle),I=new or(S.canonical.x,S.canonical.y)._rotate(this.transform.angle);return _.overscaledZ-S.overscaledZ||I.y-P.y||I.x-P.x}).map(h=>h.tileID.key):f.map(h=>h.tileID).sort(WY).map(h=>h.key)}hasRenderableParent(a){const u=this.findLoadedParent(a,0);return!!u&&this._isIdRenderable(u.tileID.key)}_isIdRenderable(a,u,f){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(u||!this._tiles[a].holdingForFade())&&(f||!this._shadowCasterTiles[a])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const a in this._tiles)this._tiles[a].state!=="errored"&&this._reloadTile(+a,"reloading")}}_reloadTile(a,u){const f=this._tiles[a];f&&(f.state!=="loading"&&(f.state=u),this._loadTile(f,this._tileLoaded.bind(this,f,a,u)))}_tileLoaded(a,u,f,h){if(h)if(a.state="errored",h.status!==404)this._source.fire(new P0(h,{tile:a}));else{if(this._source.fire(new Du("data",{dataType:"source",sourceDataType:"error",sourceId:this._source.id,tile:a})),!(a.tileID.key in this._loadedParentTiles))return;if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const v=this.map.painter.terrain;this.update(this.transform,v.getScaledDemTileSize(),!0),v.resetTileLookupCache(this.id)}else this.update(this.transform)}else a.timeAdded=So.now(),f==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(u,a),this._source.type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),this._source.fire(new Du("data",{dataType:"source",tile:a,coord:a.tileID,sourceCacheId:this.id}))}_backfillDEM(a){const u=this.getRenderableIds();for(let h=0;h<u.length;h++){const v=u[h];if(a.neighboringTiles&&a.neighboringTiles[v]){const _=this.getTileByID(v);f(a,_),f(_,a)}}function f(h,v){if(!h.dem||h.dem.borderReady)return;h.needsHillshadePrepare=!0,h.needsDEMTextureUpload=!0;let _=v.tileID.canonical.x-h.tileID.canonical.x;const S=v.tileID.canonical.y-h.tileID.canonical.y,P=Math.pow(2,h.tileID.canonical.z),I=v.tileID.key;_===0&&S===0||Math.abs(S)>1||(Math.abs(_)>1&&(Math.abs(_+P)===1?_+=P:Math.abs(_-P)===1&&(_-=P)),v.dem&&h.dem&&(h.dem.backfillBorder(v.dem,_,S),h.neighboringTiles&&h.neighboringTiles[I]&&(h.neighboringTiles[I].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,u,f,h){for(const v in this._tiles){let _=this._tiles[v];if(h[v]||!_.hasData()||_.tileID.overscaledZ<=u||_.tileID.overscaledZ>f)continue;let S=_.tileID;for(;_&&_.tileID.overscaledZ>u+1;){const I=_.tileID.scaledTo(_.tileID.overscaledZ-1);_=this._tiles[I.key],_&&_.hasData()&&(S=I)}let P=S;for(;P.overscaledZ>u;)if(P=P.scaledTo(P.overscaledZ-1),a[P.key]){h[S.key]=S;break}}}findLoadedParent(a,u){if(a.key in this._loadedParentTiles){const f=this._loadedParentTiles[a.key];return f&&f.tileID.overscaledZ>=u?f:null}for(let f=a.overscaledZ-1;f>=u;f--){const h=a.scaledTo(f),v=this._getLoadedTile(h);if(v)return v}}_getLoadedTile(a){const u=this._tiles[a.key];return u&&u.hasData()?u:this._cache.getByKey(this._source.reparseOverscaled?a.wrapped().key:a.canonical.key)}updateCacheSize(a,u){u=u||this._source.tileSize;const f=Math.ceil(a.width/u)+1,h=Math.ceil(a.height/u)+1,v=Math.floor(f*h*5),_=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,v):v,S=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,_):_;this._cache.setMaxSize(S)}handleWrapJump(a){const u=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,u){const f={};for(const h in this._tiles){const v=this._tiles[h];v.tileID=v.tileID.unwrapTo(v.tileID.wrap+u),f[v.tileID.key]=v}this._tiles=f;for(const h in this._timers)clearTimeout(this._timers[h]),delete this._timers[h];for(const h in this._tiles)this._setTileReloadTimer(+h,this._tiles[h])}}update(a,u,f,h){if(this.transform=a,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!f)return;this.updateCacheSize(a,u),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={};const v=this._source.type==="batched-model";let _;if(this.used||this.usedForTerrain){if(this._source.tileID)_=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(I=>new za(I.canonical.z,I.wrap,I.canonical.z,I.canonical.x,I.canonical.y));else if(this.tileCoverLift!==0){const I=a.clone();I.tileCoverLift=this.tileCoverLift,_=I.coveringTiles({tileSize:u||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!f,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:v}),this._source.minzoom<=1&&a.projection.name==="globe"&&(_.push(new za(1,0,1,0,0)),_.push(new za(1,0,1,1,0)),_.push(new za(1,0,1,0,1)),_.push(new za(1,0,1,1,1)))}else if(_=a.coveringTiles({tileSize:u||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!f,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:v}),this._source.hasTile){const I=this._source.hasTile.bind(this._source);_=_.filter(L=>I(L))}}else _=[];if(_.length>0&&this.castsShadows&&h&&this.transform.projection.name!=="globe"&&!this.usedForTerrain&&!qD(this._source.type)){const I=a.coveringZoomLevel({tileSize:u||this._source.tileSize,roundZoom:this._source.roundZoom&&!f}),L=Math.min(I,this._source.maxzoom);if(v){const F=a.extendTileCover(_,L);for(const W of F)_.push(W)}else{const F=a.extendTileCover(_,L,h);for(const W of F)this._shadowCasterTiles[W.key]=!0,_.push(W)}}const S=this._updateRetainedTiles(_);if(qD(this._source.type)&&_.length!==0){const I={},L={},F=Object.keys(S);for(const X of F){const ee=S[X],ae=this._tiles[X];if(!ae||ae.fadeEndTime&&ae.fadeEndTime<=So.now())continue;const oe=this.findLoadedParent(ee,Math.max(ee.overscaledZ-ag.maxOverzooming,this._source.minzoom));oe&&(this._addTile(oe.tileID),I[oe.tileID.key]=oe.tileID),L[X]=ee}const W=_[_.length-1].overscaledZ;for(const X in this._tiles){const ee=this._tiles[X];if(S[X]||!ee.hasData())continue;let ae=ee.tileID;for(;ae.overscaledZ>W;){ae=ae.scaledTo(ae.overscaledZ-1);const oe=this._tiles[ae.key];if(oe&&oe.hasData()&&L[ae.key]){S[X]=ee.tileID;break}}}for(const X in I)S[X]||(this._coveredTiles[X]=!0,S[X]=I[X])}for(const I in S)this._tiles[I].clearFadeHold();const P=function(I,L){const F=[];for(const W in I)W in L||F.push(W);return F}(this._tiles,S);for(const I of P){const L=this._tiles[I];L.hasSymbolBuckets&&!L.holdingForFade()?L.setHoldDuration(this.map._fadeDuration):L.hasSymbolBuckets&&!L.symbolFadeFinished()||this._removeTile(+I)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(+a)}_updateRetainedTiles(a){const u={};if(a.length===0)return u;const f={},h=a.reduce((I,L)=>Math.min(I,L.overscaledZ),1/0),v=a[0].overscaledZ,_=Math.max(v-ag.maxOverzooming,this._source.minzoom),S=Math.max(v+ag.maxUnderzooming,this._source.minzoom),P={};for(const I of a){const L=this._addTile(I);u[I.key]=I,L.hasData()||h<this._source.maxzoom&&(P[I.key]=I)}this._retainLoadedChildren(P,h,S,u);for(const I of a){let L=this._tiles[I.key];if(L.hasData())continue;if(I.canonical.z>=this._source.maxzoom){const W=I.children(this._source.maxzoom)[0],X=this.getTile(W);if(X&&X.hasData()){u[W.key]=W;continue}}else{const W=I.children(this._source.maxzoom);if(u[W[0].key]&&u[W[1].key]&&u[W[2].key]&&u[W[3].key])continue}let F=L.wasRequested();for(let W=I.overscaledZ-1;W>=_;--W){const X=I.scaledTo(W);if(f[X.key]||(f[X.key]=!0,L=this.getTile(X),!L&&F&&(L=this._addTile(X)),L&&(u[X.key]=X,F=L.wasRequested(),L.hasData())))break}}return u}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const a in this._tiles){const u=[];let f,h=this._tiles[a].tileID;for(;h.overscaledZ>0;){if(h.key in this._loadedParentTiles){f=this._loadedParentTiles[h.key];break}u.push(h.key);const v=h.scaledTo(h.overscaledZ-1);if(f=this._getLoadedTile(v),f)break;h=v}for(const v of u)this._loadedParentTiles[v]=f}}_addTile(a){let u=this._tiles[a.key];if(u)return u.isExtraShadowCaster!==!0||this._shadowCasterTiles[a.key]||this._reloadTile(a.key,"reloading"),u;u=this._cache.getAndRemove(a),u&&(this._setTileReloadTimer(a.key,u),u.tileID=a,this._state.initializeTileState(u,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,u)));const f=!!u;if(!f){const h=this.map?this.map.painter:null,v=this._source.tileSize*a.overscaleFactor();u=this._source.type==="raster-array"?new UY(a,v,this.transform.tileZoom,h,this._isRaster):new J7(a,v,this.transform.tileZoom,h,this._isRaster),this._loadTile(u,this._tileLoaded.bind(this,u,a.key,u.state))}return u?(u.uses++,this._tiles[a.key]=u,f||this._source.fire(new Du("dataloading",{tile:u,coord:u.tileID,dataType:"source"})),u):null}_setTileReloadTimer(a,u){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);const f=u.getExpiryTimeout();f&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},f))}_removeTile(a){const u=this._tiles[a];u&&(u.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),u.uses>0||(u.hasData()&&u.state!=="reloading"||u.state==="empty"?this._cache.add(u.tileID,u,u.getExpiryTimeout()):(u.aborted=!0,this._abortTile(u),this._unloadTile(u))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const a in this._tiles)this._removeTile(+a);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(a,u,f){const h=[],v=this.transform;if(!v)return h;const _=v.projection.name==="globe",S=Ld(v.center.lng);for(const P in this._tiles){const I=this._tiles[P];if(f&&I.clearQueryDebugViz(),I.holdingForFade())continue;let L;if(_){const F=I.tileID.canonical;if(F.z===0){const W=[Math.abs(pn(S,...Jw(F,-1))-S),Math.abs(pn(S,...Jw(F,1))-S)];L=[0,2*W.indexOf(Math.min(...W))-1]}else{const W=[Math.abs(pn(S,...Jw(F,-1))-S),Math.abs(pn(S,...Jw(F,0))-S),Math.abs(pn(S,...Jw(F,1))-S)];L=[W.indexOf(Math.min(...W))-1]}}else L=[0];for(const F of L){const W=a.containsTile(I,v,u,F);W&&h.push(W)}}return h}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(a){return this._getRenderableCoordinates(a)}_getRenderableCoordinates(a,u){const f=this.getRenderableIds(a,u).map(v=>this._tiles[v].tileID),h=this.transform.projection.name==="globe";for(const v of f)v.projMatrix=this.transform.calculateProjMatrix(v.toUnwrapped()),v.expandedProjMatrix=h?this.transform.calculateProjMatrix(v.toUnwrapped(),!1,!0):v.projMatrix;return f}sortCoordinatesByDistance(a){const u=a.slice(),f=this.transform._camera.position,h=this.transform._camera.forward(),v={};for(const _ of u){const S=1/(1<<_.canonical.z);v[_.key]=((_.canonical.x+.5)*S+_.wrap-f[0])*h[0]+((_.canonical.y+.5)*S-f[1])*h[1]-f[2]*h[2]}return u.sort((_,S)=>v[_.key]-v[S.key]),u}hasTransition(){if(this._source.hasTransition())return!0;if(qD(this._source.type))for(const a in this._tiles){const u=this._tiles[a];if(u.fadeEndTime!==void 0&&u.fadeEndTime>=So.now())return!0}return!1}setFeatureState(a,u,f){this._state.updateState(a=a||"_geojsonTileLayer",u,f)}removeFeatureState(a,u,f){this._state.removeFeatureState(a=a||"_geojsonTileLayer",u,f)}getFeatureState(a,u){return this._state.getState(a=a||"_geojsonTileLayer",u)}setDependencies(a,u,f){const h=this._tiles[a];h&&h.setDependencies(u,f)}reloadTilesForDependencies(a,u){for(const f in this._tiles)this._tiles[f].hasDependency(a,u)&&this._reloadTile(+f,"reloading");this._cache.filter(f=>!f.hasDependency(a,u))}_preloadTiles(a,u){if(!this._sourceLoaded){const S=()=>{this._sourceLoaded&&(this._source.off("data",S),this._preloadTiles(a,u))};return void this._source.on("data",S)}const f=new Map,h=Array.isArray(a)?a:[a],v=this.map.painter.terrain,_=this.usedForTerrain&&v?v.getScaledDemTileSize():this._source.tileSize;for(const S of h){const P=S.coveringTiles({tileSize:_,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const I of P)f.set(I.key,I);this.usedForTerrain&&S.updateElevation(!1)}d0(Array.from(f.values()),(S,P)=>{const I=new J7(S,this._source.tileSize*S.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(I,L=>{this._source.type==="raster-dem"&&I.dem&&this._backfillDEM(I),P(L,I)})},u)}}function WY(l,a){const u=Math.abs(2*l.wrap)-+(l.wrap<0),f=Math.abs(2*a.wrap)-+(a.wrap<0);return l.overscaledZ-a.overscaledZ||f-u||a.canonical.y-l.canonical.y||a.canonical.x-l.canonical.x}function qD(l){return l==="raster"||l==="image"||l==="video"||l==="custom"}function Jw(l,a){const u=1<<l.z;return[l.x/u+a,(l.x+1)/u+a]}ag.maxOverzooming=10,ag.maxUnderzooming=3;const KY=()=>GD||(GD={layout:jX||(jX=new ci({"line-cap":new br(_t.layout_line["line-cap"]),"line-join":new br(_t.layout_line["line-join"]),"line-miter-limit":new Yt(_t.layout_line["line-miter-limit"]),"line-round-limit":new Yt(_t.layout_line["line-round-limit"]),"line-sort-key":new br(_t.layout_line["line-sort-key"]),"line-z-offset":new br(_t.layout_line["line-z-offset"]),visibility:new Yt(_t.layout_line.visibility)})),paint:VX||(VX=new ci({"line-opacity":new br(_t.paint_line["line-opacity"]),"line-color":new br(_t.paint_line["line-color"]),"line-translate":new Yt(_t.paint_line["line-translate"]),"line-translate-anchor":new Yt(_t.paint_line["line-translate-anchor"]),"line-width":new br(_t.paint_line["line-width"]),"line-gap-width":new br(_t.paint_line["line-gap-width"]),"line-offset":new br(_t.paint_line["line-offset"]),"line-blur":new br(_t.paint_line["line-blur"]),"line-dasharray":new br(_t.paint_line["line-dasharray"]),"line-pattern":new br(_t.paint_line["line-pattern"]),"line-gradient":new Vo(_t.paint_line["line-gradient"]),"line-trim-offset":new Yt(_t.paint_line["line-trim-offset"]),"line-trim-fade-range":new Yt(_t.paint_line["line-trim-fade-range"]),"line-trim-color":new Yt(_t.paint_line["line-trim-color"]),"line-emissive-strength":new Yt(_t.paint_line["line-emissive-strength"]),"line-border-width":new br(_t.paint_line["line-border-width"]),"line-border-color":new br(_t.paint_line["line-border-color"]),"line-occlusion-opacity":new Yt(_t.paint_line["line-occlusion-opacity"])}))},GD);class BEe extends br{possiblyEvaluate(a,u){return u=new Wr(Math.floor(u.zoom),{now:u.now,fadeDuration:u.fadeDuration,transition:u.transition}),super.possiblyEvaluate(a,u)}evaluate(a,u,f,h){return u=bo({},u,{zoom:Math.floor(u.zoom)}),super.evaluate(a,u,f,h)}}let Qw,HY,GY,ZD;function qY(l,a){return a>0?a+2*l:l}class ZY{constructor(a){this.type=a.property.overrides?a.property.overrides.runtimeType:Gs,this.defaultValue=a}evaluate(a){if(a.formattedSection){const u=this.defaultValue.property.overrides;if(u&&u.hasOverride(a.formattedSection))return u.getOverride(a.formattedSection)}return a.feature&&a.featureState?this.defaultValue.evaluate(a.feature,a.featureState):this.defaultValue.property.specification.default}eachChild(a){this.defaultValue.isConstant()||a(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}lt(ZY,"FormatSectionOverride",{omit:["defaultValue"]});const XD=()=>ZD||(ZD={layout:HY||(HY=new ci({"symbol-placement":new Yt(_t.layout_symbol["symbol-placement"]),"symbol-spacing":new Yt(_t.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Yt(_t.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new br(_t.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Yt(_t.layout_symbol["symbol-z-order"]),"symbol-z-elevate":new Yt(_t.layout_symbol["symbol-z-elevate"]),"icon-allow-overlap":new Yt(_t.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Yt(_t.layout_symbol["icon-ignore-placement"]),"icon-optional":new Yt(_t.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Yt(_t.layout_symbol["icon-rotation-alignment"]),"icon-size":new br(_t.layout_symbol["icon-size"]),"icon-text-fit":new br(_t.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new br(_t.layout_symbol["icon-text-fit-padding"]),"icon-image":new br(_t.layout_symbol["icon-image"]),"icon-rotate":new br(_t.layout_symbol["icon-rotate"]),"icon-padding":new Yt(_t.layout_symbol["icon-padding"]),"icon-keep-upright":new Yt(_t.layout_symbol["icon-keep-upright"]),"icon-offset":new br(_t.layout_symbol["icon-offset"]),"icon-anchor":new br(_t.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Yt(_t.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Yt(_t.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Yt(_t.layout_symbol["text-rotation-alignment"]),"text-field":new br(_t.layout_symbol["text-field"]),"text-font":new br(_t.layout_symbol["text-font"]),"text-size":new br(_t.layout_symbol["text-size"]),"text-max-width":new br(_t.layout_symbol["text-max-width"]),"text-line-height":new br(_t.layout_symbol["text-line-height"]),"text-letter-spacing":new br(_t.layout_symbol["text-letter-spacing"]),"text-justify":new br(_t.layout_symbol["text-justify"]),"text-radial-offset":new br(_t.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Yt(_t.layout_symbol["text-variable-anchor"]),"text-anchor":new br(_t.layout_symbol["text-anchor"]),"text-max-angle":new Yt(_t.layout_symbol["text-max-angle"]),"text-writing-mode":new Yt(_t.layout_symbol["text-writing-mode"]),"text-rotate":new br(_t.layout_symbol["text-rotate"]),"text-padding":new Yt(_t.layout_symbol["text-padding"]),"text-keep-upright":new Yt(_t.layout_symbol["text-keep-upright"]),"text-transform":new br(_t.layout_symbol["text-transform"]),"text-offset":new br(_t.layout_symbol["text-offset"]),"text-allow-overlap":new Yt(_t.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Yt(_t.layout_symbol["text-ignore-placement"]),"text-optional":new Yt(_t.layout_symbol["text-optional"]),visibility:new Yt(_t.layout_symbol.visibility)})),paint:GY||(GY=new ci({"icon-opacity":new br(_t.paint_symbol["icon-opacity"]),"icon-occlusion-opacity":new br(_t.paint_symbol["icon-occlusion-opacity"]),"icon-emissive-strength":new br(_t.paint_symbol["icon-emissive-strength"]),"text-emissive-strength":new br(_t.paint_symbol["text-emissive-strength"]),"icon-color":new br(_t.paint_symbol["icon-color"]),"icon-halo-color":new br(_t.paint_symbol["icon-halo-color"]),"icon-halo-width":new br(_t.paint_symbol["icon-halo-width"]),"icon-halo-blur":new br(_t.paint_symbol["icon-halo-blur"]),"icon-translate":new Yt(_t.paint_symbol["icon-translate"]),"icon-translate-anchor":new Yt(_t.paint_symbol["icon-translate-anchor"]),"icon-image-cross-fade":new br(_t.paint_symbol["icon-image-cross-fade"]),"text-opacity":new br(_t.paint_symbol["text-opacity"]),"text-occlusion-opacity":new br(_t.paint_symbol["text-occlusion-opacity"]),"text-color":new br(_t.paint_symbol["text-color"],{runtimeType:El,getOverride:l=>l.textColor,hasOverride:l=>!!l.textColor}),"text-halo-color":new br(_t.paint_symbol["text-halo-color"]),"text-halo-width":new br(_t.paint_symbol["text-halo-width"]),"text-halo-blur":new br(_t.paint_symbol["text-halo-blur"]),"text-translate":new Yt(_t.paint_symbol["text-translate"]),"text-translate-anchor":new Yt(_t.paint_symbol["text-translate-anchor"]),"icon-color-saturation":new Yt(_t.paint_symbol["icon-color-saturation"]),"icon-color-contrast":new Yt(_t.paint_symbol["icon-color-contrast"]),"icon-color-brightness-min":new Yt(_t.paint_symbol["icon-color-brightness-min"]),"icon-color-brightness-max":new Yt(_t.paint_symbol["icon-color-brightness-max"])}))},ZD);class Q7 extends tl{constructor(a,u,f,h){super(a,XD(),u,f,h),this._colorAdjustmentMatrix=o.ae.identity([]),this.hasInitialOcclusionOpacityProperties=a.paint!==void 0&&("icon-occlusion-opacity"in a.paint||"text-occlusion-opacity"in a.paint)}recalculate(a,u){super.recalculate(a,u),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const f=this.layout.get("text-writing-mode");if(f){const h=[];for(const v of f)h.indexOf(v)<0&&h.push(v);this.layout._values["text-writing-mode"]=h}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getColorAdjustmentMatrix(a,u,f,h){return this._saturation===a&&this._contrast===u&&this._brightnessMin===f&&this._brightnessMax===h||(this._colorAdjustmentMatrix=function(v,_,S,P){v=yS(v),_=gS(_);const I=o.ae.create(),L=v/3,F=1-2*L,W=[F,L,L,0,L,F,L,0,L,L,F,0,0,0,0,1],X=.5-.5*_,ee=P-S;return o.ae.multiply(I,[ee,0,0,0,0,ee,0,0,0,0,ee,0,S,S,S,1],[_,0,0,0,0,_,0,0,0,0,_,0,X,X,X,1]),o.ae.multiply(I,I,W),I}(a,u,f,h),this._saturation=a,this._contrast=u,this._brightnessMin=f,this._brightnessMax=h),this._colorAdjustmentMatrix}getValueAndResolveTokens(a,u,f,h){const v=this.layout.get(a).evaluate(u,{},f,h),_=this._unevaluatedLayout._values[a];return _.isDataDriven()||Ue(_.value)||!v?v:function(S,P){return P.replace(/{([^{}]+)}/g,(I,L)=>L in S?String(S[L]):"")}(u.properties,v)}createBucket(a){return new x_(a)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const a of XD().paint.overridableProperties){if(!Q7.hasPaintOverride(this.layout,a))continue;const u=this.paint.get(a),f=new ZY(u),h=new Ve(f,u.property.specification,this.scope,this.options);let v=null;v=u.value.kind==="constant"||u.value.kind==="source"?new Ye("source",h):new He("composite",h,u.value.zoomStops,u.value._interpolationType),this.paint._values[a]=new to(u.property,v,u.parameters)}}_handleOverridablePaintPropertyUpdate(a,u,f){return!(!this.layout||u.isDataDriven()||f.isDataDriven())&&Q7.hasPaintOverride(this.layout,a)}static hasPaintOverride(a,u){const f=a.get("text-field"),h=XD().paint.properties[u];let v=!1;const _=S=>{for(const P of S)if(h.overrides&&h.overrides.hasOverride(P))return void(v=!0)};if(f.value.kind==="constant"&&f.value.value instanceof jo)_(f.value.value.sections);else if(f.value.kind==="source"){const S=I=>{v||(I instanceof Yl&&Ca(I.value)===Kh?_(I.value.sections):I instanceof Bf?_(I.sections):I.eachChild(S))},P=f.value;P._styleExpression&&S(P._styleExpression.expression)}return v}getProgramIds(){const a=this.paint.get("icon-opacity").constantOr(1)!==0,u=this.paint.get("text-opacity").constantOr(1)!==0,f=[];return a&&f.push("symbolIcon"),u&&f.push("symbolSDF"),f}getDefaultProgramParams(a,u,f){return{config:new Y0(this,{zoom:u,lut:f}),overrideFog:!1}}}let XY,YY,JY,QY;function eE(l,a,u,f,h,v,_,S){const P=[l,a,1,u,f,1,h,v,1],I=[_,S,1],L=o.bE.adjoint([],P),[F,W,X]=o.$.transformMat3(I,I,L);return o.bE.multiply(P,P,[F,0,0,0,W,0,0,0,X])}function eJ(l,a,u,f,h,v,_,S){const P=function(I,L,F,W,X,ee,ae,oe){const _e=eE(0,0,1,0,1,1,0,1),Re=eE(I,L,F,W,X,ee,ae,oe),De=o.bE.adjoint([],_e);return o.bE.multiply(Re,Re,De)}(l,a,u,f,h,v,_,S);return[P[2]/P[8]/rr,P[5]/P[8]/rr]}function tE(l){return[l[0],Math.min(Math.max(l[1],-da),da)]}class tJ extends $f{constructor(a,u,f,h){super(),this.id=a,this.dispatcher=f,this.coordinates=u.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(h),this.options=u,this._dirty=!1}load(a,u){if(this._loaded=u||!1,this.fire(new Du("dataloading",{dataType:"source"})),this.url=this.options.url,!this.url)return a&&(this.coordinates=a),this._loaded=!0,void this._finishLoading();this._imageRequest=S0(this.map._requestManager.transformRequest(this.url,x0.Image),(f,h)=>{this._imageRequest=null,this._loaded=!0,f?this.fire(new P0(f)):h&&(this.image=h instanceof HTMLImageElement?So.getImageData(h):h,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,a&&(this.coordinates=a),this._finishLoading())})}loaded(){return this._loaded}updateImage(a){return a.url?(this._imageRequest&&a.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=a.url,this.load(a.coordinates,this._loaded),this):this}setTexture(a){if(!(a.handle instanceof WebGLTexture))throw new Error("The provided handle is not a WebGLTexture instance");return this.texture=new Z7(this.map.painter.context,a.handle),this.width=a.dimensions[0],this.height=a.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new Du("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(a){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof Z7||this.texture.destroy(),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy())}setCoordinates(a){if(this.coordinates=a,this._boundsArray=void 0,this._unsupportedCoords=!1,!a.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let u=a[0][1],f=a[0][1];for(const v of a)v[1]>f&&(f=v[1]),v[1]<u&&(u=v[1]);const h=(f+u)/2;if(h>da?this.onNorthPole=!0:h<-da&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const v=a.map(Uo.fromLngLat);this.tileID=function(_){let S=1/0,P=1/0,I=-1/0,L=-1/0;for(const ae of _)S=Math.min(S,ae.x),P=Math.min(P,ae.y),I=Math.max(I,ae.x),L=Math.max(L,ae.y);const F=Math.max(I-S,L-P),W=Math.max(0,Math.floor(-Math.log(F)/Math.LN2)),X=Math.pow(2,W);let ee=Math.floor((S+I)/2*X);return ee>1&&(ee-=1),new Q0(W,ee,Math.floor((P+L)/2*X))}(v),this.minzoom=this.maxzoom=this.tileID.z}return this.fire(new Du("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0,this._unsupportedCoords=!1}_prepareData(a){for(const oe in this.tiles){const _e=this.tiles[oe];_e.state!=="loaded"&&(_e.state="loaded",_e.texture=this.texture)}if(this._boundsArray||this.onNorthPole||this.onSouthPole||this._unsupportedCoords)return;const u=ng(new Q0(0,0,0),this.map.transform.projection),f=[u.projection.project(this.coordinates[0][0],this.coordinates[0][1]),u.projection.project(this.coordinates[1][0],this.coordinates[1][1]),u.projection.project(this.coordinates[2][0],this.coordinates[2][1]),u.projection.project(this.coordinates[3][0],this.coordinates[3][1])];if(!function(oe){const _e=oe[1].x-oe[0].x,Re=oe[1].y-oe[0].y,De=oe[2].x-oe[1].x,ze=oe[2].y-oe[1].y,qe=oe[3].x-oe[2].x,Ze=oe[3].y-oe[2].y,rt=oe[0].x-oe[3].x,ut=oe[0].y-oe[3].y,mt=_e*ze-De*Re,St=De*Ze-qe*ze,yt=qe*ut-rt*Ze,Ot=rt*Re-_e*ut;return mt>0&&St>0&&yt>0&&Ot>0||mt<0&&St<0&&yt<0&&Ot<0}(f))return console.warn("Image source coordinates are defining non-convex area in the Mercator projection"),void(this._unsupportedCoords=!0);const h=ng(this.tileID,this.map.transform.projection),[v,_,S,P]=this.coordinates.map(oe=>{const _e=h.projection.project(oe[0],oe[1]);return TY(h,_e)._round()});this.perspectiveTransform=eJ(v.x,v.y,_.x,_.y,S.x,S.y,P.x,P.y);const I=this._boundsArray=new Uf;I.emplaceBack(v.x,v.y,0,0),I.emplaceBack(_.x,_.y,rr,0),I.emplaceBack(P.x,P.y,0,rr),I.emplaceBack(S.x,S.y,rr,rr),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy()),this.boundsBuffer=a.createVertexBuffer(I,Y7.members),this.boundsSegments=Ki.simpleSegment(0,0,4,2);const L=[],F=function(oe){return[tE(oe[0]),tE(oe[1]),tE(oe[2]),tE(oe[3])]}(this.coordinates),[W,X,ee,ae]=function(oe){let _e=oe[0][0],Re=_e,De=oe[0][1],ze=De;for(let qe=1;qe<oe.length;qe++)oe[qe][0]<_e?_e=oe[qe][0]:oe[qe][0]>Re&&(Re=oe[qe][0]),oe[qe][1]<De?De=oe[qe][1]:oe[qe][1]>ze&&(ze=oe[qe][1]);return[_e,De,Re-_e,ze-De]}(F);{const oe=new Uf,[_e,Re,De,ze]=function(Mt){let Ft=Mt[0].x,er=Ft,$t=Mt[0].y,ir=$t;for(let Qt=1;Qt<Mt.length;Qt++)Mt[Qt].x<Ft?Ft=Mt[Qt].x:Mt[Qt].x>er&&(er=Mt[Qt].x),Mt[Qt].y<$t?$t=Mt[Qt].y:Mt[Qt].y>ir&&(ir=Mt[Qt].y);return[Ft,$t,er-Ft,ir-$t]}(f),qe=Mt=>[(Mt.x-_e)/De,(Mt.y-Re)/ze],[Ze,rt,ut,mt]=f.map(qe),St=function(Mt,Ft,er,$t,ir,Qt,qt,Pr){const Sr=eE(0,0,1,0,1,1,0,1),pr=eE(Mt,Ft,er,$t,ir,Qt,qt,Pr),nr=o.bE.adjoint([],pr);return o.bE.multiply(Sr,Sr,nr)}(Ze[0],Ze[1],rt[0],rt[1],ut[0],ut[1],mt[0],mt[1]);this.elevatedGlobePerspectiveTransform=eJ(Ze[0],Ze[1],rt[0],rt[1],ut[0],ut[1],mt[0],mt[1]);const yt=(Mt,Ft)=>{L.push(Mt.lng);const er=Math.round((Mt.lng-W)/ee*rr),$t=Math.round((Mt.lat-X)/ae*rr),ir=qe(Ft),Qt=o.$.transformMat3([],[ir[0],ir[1],1],St),qt=Math.round(Qt[0]/Qt[2]*rr),Pr=Math.round(Qt[1]/Qt[2]*rr);oe.emplaceBack(er,$t,qt,Pr)},Ot=f[3].x-f[0].x,Ht=f[3].y-f[0].y,Dt=f[2].x-f[1].x,Jt=f[2].y-f[1].y;for(let Mt=0;Mt<65;Mt++){const Ft=Mt/64,er=[f[0].x+Ft*Ot,f[0].y+Ft*Ht],$t=[f[1].x+Ft*Dt,f[1].y+Ft*Jt],ir=$t[0]-er[0],Qt=$t[1]-er[1];for(let qt=0;qt<65;qt++){const Pr=qt/64,Sr={x:er[0]+ir*Pr,y:er[1]+Qt*Pr,z:0};yt(u.projection.unproject(Sr.x,Sr.y),Sr)}}this.elevatedGlobeVertexBuffer=a.createVertexBuffer(oe,Y7.members)}{this.maxLongitudeTriangleSize=0;let oe=[],_e=new ro;const Re=(De,ze,qe)=>{_e.emplaceBack(De,ze,qe);const Ze=L[De],rt=L[ze],ut=L[qe],mt=Math.min(Math.min(Ze,rt),ut),St=Math.max(Math.max(Ze,rt),ut)-mt;St>this.maxLongitudeTriangleSize&&(this.maxLongitudeTriangleSize=St),oe.push(mt+St/2)};for(let De=0;De<64;De++)for(let ze=0;ze<64;ze++){const qe=65*De+ze,Ze=qe+1,rt=qe+65,ut=rt+1;Re(qe,rt,Ze),Re(Ze,rt,ut)}[oe,_e]=function(De,ze){const qe=Array.from({length:De.length},(ut,mt)=>mt);qe.sort((ut,mt)=>De[ut]-De[mt]);const Ze=[],rt=new ro;for(let ut=0;ut<qe.length;ut++){const mt=qe[ut];Ze.push(De[mt]);const St=3*mt,yt=St+1;rt.emplaceBack(ze.uint16[St],ze.uint16[yt],ze.uint16[yt+1])}return[Ze,rt]}(oe,_e),this.elevatedGlobeTrianglesCenterLongitudes=oe,this.elevatedGlobeIndexBuffer=a.createIndexBuffer(_e)}this.elevatedGlobeSegments=Ki.simpleSegment(0,0,4225,8192),this.elevatedGlobeGridMatrix=new Float32Array([0,ee/rr,0,ae/rr,0,0,X,W,0])}prepare(){const a=Object.keys(this.tiles).length!==0;if(this.tileID&&!a)return;const u=this.map.painter.context,f=u.gl;!this._dirty||this.texture instanceof Z7||(this.texture?this.texture.update(this.image):(this.texture=new zu(u,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE)),this._dirty=!1),a&&this._prepareData(u)}loadTile(a,u){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},u(null)):(a.state="errored",u(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}getSegmentsForLongitude(a){const u=this.elevatedGlobeSegments;if(!this.elevatedGlobeTrianglesCenterLongitudes||!u)return null;const f=this.elevatedGlobeTrianglesCenterLongitudes;let h=(v=a+180)+360*Math.round((f[0]-v)/360);var v;const _=new Ki,S=(F,W)=>{_.segments.push({vertexOffset:0,primitiveOffset:F,vertexLength:u.segments[0].vertexLength,primitiveLength:W,sortKey:void 0,vaos:{}})},P=.51*this.maxLongitudeTriangleSize;if(Math.abs(f[0]-h)<=P){const F=Ev(f,0,f.length,h+P);return F===f.length||S(F,Sv(f,F+1,f.length,h+360-P)-F),_}h<f[0]&&(h+=360);const I=Sv(f,0,f.length,h-P);if(I===f.length)return S(0,f.length),_;S(0,I-0);const L=Ev(f,I+1,f.length,h+P);return L!==f.length&&S(L,f.length-L),_}}const zEe=(Math.pow(256,2)-1)/16907520;class rJ extends tl{constructor(a,u,f,h){super(a,{layout:JY||(JY=new ci({visibility:new Yt(_t.layout_raster.visibility)})),paint:QY||(QY=new ci({"raster-opacity":new Yt(_t.paint_raster["raster-opacity"]),"raster-color":new Vo(_t.paint_raster["raster-color"]),"raster-color-mix":new Yt(_t.paint_raster["raster-color-mix"]),"raster-color-range":new Yt(_t.paint_raster["raster-color-range"]),"raster-hue-rotate":new Yt(_t.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Yt(_t.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Yt(_t.paint_raster["raster-brightness-max"]),"raster-saturation":new Yt(_t.paint_raster["raster-saturation"]),"raster-contrast":new Yt(_t.paint_raster["raster-contrast"]),"raster-resampling":new Yt(_t.paint_raster["raster-resampling"]),"raster-fade-duration":new Yt(_t.paint_raster["raster-fade-duration"]),"raster-emissive-strength":new Yt(_t.paint_raster["raster-emissive-strength"]),"raster-array-band":new Yt(_t.paint_raster["raster-array-band"]),"raster-elevation":new Yt(_t.paint_raster["raster-elevation"])}))},u,f,h),this.updateColorRamp(),this._curRampRange=[NaN,NaN]}getProgramIds(){return["raster"]}hasColorMap(){return!!this._transitionablePaint._values["raster-color"].value.value}tileCoverLift(){return this.paint.get("raster-elevation")}isDraped(a){return!(a&&a._source instanceof tJ&&(a._source.onNorthPole||a._source.onSouthPole))&&this.paint.get("raster-elevation")===0}_handleSpecialPaintPropertyUpdate(a){a!=="raster-color"&&a!=="raster-color-range"||(this._curRampRange=[NaN,NaN],this.updateColorRamp())}updateColorRamp(a){if(!this.hasColorMap()||!this._curRampRange)return;const u=this._transitionablePaint._values["raster-color"].value.expression,[f,h]=a||this._transitionablePaint._values["raster-color-range"].value.expression.evaluate({zoom:0})||[NaN,NaN];isNaN(f)&&isNaN(h)||f===this._curRampRange[0]&&h===this._curRampRange[1]||(this.colorRamp=Iw({expression:u,evaluationKey:"rasterValue",image:this.colorRamp,clips:[{start:f,end:h}],resolution:256}),this.colorRampTexture=null,this._curRampRange=[f,h])}}let nJ,iJ,aJ,oJ,sJ;class lJ extends tl{constructor(a,u,f,h){super(a,{layout:nJ||(nJ=new ci({visibility:new Yt(_t["layout_raster-particle"].visibility)})),paint:iJ||(iJ=new ci({"raster-particle-array-band":new Yt(_t["paint_raster-particle"]["raster-particle-array-band"]),"raster-particle-count":new Yt(_t["paint_raster-particle"]["raster-particle-count"]),"raster-particle-color":new Vo(_t["paint_raster-particle"]["raster-particle-color"]),"raster-particle-max-speed":new Yt(_t["paint_raster-particle"]["raster-particle-max-speed"]),"raster-particle-speed-factor":new Yt(_t["paint_raster-particle"]["raster-particle-speed-factor"]),"raster-particle-fade-opacity-factor":new Yt(_t["paint_raster-particle"]["raster-particle-fade-opacity-factor"]),"raster-particle-reset-rate-factor":new Yt(_t["paint_raster-particle"]["raster-particle-reset-rate-factor"]),"raster-particle-elevation":new Yt(_t["paint_raster-particle"]["raster-particle-elevation"])}))},u,f,h),this._updateColorRamp(),this.lastInvalidatedAt=So.now()}onRemove(a){this.colorRampTexture&&this.colorRampTexture.destroy(),this.tileFramebuffer&&this.tileFramebuffer.destroy(),this.particleFramebuffer&&this.particleFramebuffer.destroy()}hasColorMap(){return!!this._transitionablePaint._values["raster-particle-color"].value.value}getProgramIds(){return["rasterParticle"]}hasOffscreenPass(){return this.visibility!=="none"}isDraped(a){return!1}_handleSpecialPaintPropertyUpdate(a){a!=="raster-particle-color"&&a!=="raster-particle-max-speed"||(this._updateColorRamp(),this._invalidateAnimationState()),a==="raster-particle-count"&&this._invalidateAnimationState()}_updateColorRamp(){if(!this.hasColorMap())return;const a=this._transitionablePaint._values["raster-particle-color"].value.expression,u=this._transitionablePaint._values["raster-particle-max-speed"].value.expression.evaluate({zoom:0});this.colorRamp=Iw({expression:a,evaluationKey:"rasterParticleSpeed",image:this.colorRamp,clips:[{start:0,end:u}],resolution:256}),this.colorRampTexture=null}_invalidateAnimationState(){this.lastInvalidatedAt=So.now()}tileCoverLift(){return this.paint.get("raster-particle-elevation")}}class NEe extends tl{constructor(a,u){super(a,{},u,null),this.implementation=a,a.slot&&(this.slot=a.slot)}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isDraped(a){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(a){this.implementation.onAdd&&this.implementation.onAdd(a,a.painter.context.gl)}onRemove(a){this.implementation.onRemove&&this.implementation.onRemove(a,a.painter.context.gl)}}function YD(l,a,u){const f=[0,0,1],h=o.aw.identity([]);return o.aw.rotateY(h,h,u?-Sn(l)+Math.PI:Sn(l)),o.aw.rotateX(h,h,-Sn(a)),o.$.transformQuat(f,f,h),o.$.normalize(f,f)}function uJ(l,a){const u=rE(l.projection,l.zoom,l.width,l.height),f=function(v,_,S,P,I){const L=new Wn(S.lng-180*gm,S.lat),F=new Wn(S.lng+180*gm,S.lat),W=v.project(L.lng,L.lat),X=v.project(F.lng,F.lat),ee=-Math.atan2(X.y-W.y,X.x-W.x),ae=Uo.fromLngLat(S);ae.y=pn(ae.y,-1+gm,1-gm);const oe=ae.toLngLat(),_e=v.project(oe.lng,oe.lat),Re=Uo.fromLngLat(oe);Re.x+=gm;const De=Re.toLngLat(),ze=v.project(De.lng,De.lat),qe=fJ(ze.x-_e.x,ze.y-_e.y,ee),Ze=Uo.fromLngLat(oe);Ze.y+=gm;const rt=Ze.toLngLat(),ut=v.project(rt.lng,rt.lat),mt=fJ(ut.x-_e.x,ut.y-_e.y,ee),St=Math.abs(qe.x)/Math.abs(mt.y),yt=o.ae.identity([]);o.ae.rotateZ(yt,yt,-ee*(1-(I?0:P)));const Ot=o.ae.identity([]);return o.ae.scale(Ot,Ot,[1,1-(1-St)*P,1]),Ot[4]=-mt.x/mt.y*P,o.ae.rotateZ(Ot,Ot,ee),o.ae.multiply(Ot,yt,Ot),Ot}(l.projection,0,l.center,u,a),h=cJ(l);return o.ae.scale(f,f,[h,h,1]),f}function cJ(l){const a=l.projection,u=rE(l.projection,l.zoom,l.width,l.height),f=dJ(a,l.center),h=dJ(a,Wn.convert(a.center));return Math.pow(2,f*u+(1-u)*h)}function rE(l,a,u,f,h=1/0){const v=l.range;if(!v)return 0;const _=Math.min(h,Math.max(u,f)),S=Math.log(_/1024)/Math.LN2;return D3(v[0]+S,v[1]+S,a)}const gm=1/4e4;function dJ(l,a){const u=pn(a.lat,-da,da),f=new Wn(a.lng-180*gm,u),h=new Wn(a.lng+180*gm,u),v=l.project(f.lng,u),_=l.project(h.lng,u),S=Uo.fromLngLat(f),P=Uo.fromLngLat(h),I=_.x-v.x,L=_.y-v.y,F=P.x-S.x,W=P.y-S.y,X=Math.sqrt((F*F+W*W)/(I*I+L*L));return Math.log(X)/Math.LN2}function fJ(l,a,u){const f=Math.cos(u),h=Math.sin(u);return{x:l*f-a*h,y:l*h+a*f}}function pJ(l,a,u){o.ae.identity(l),o.ae.rotateZ(l,l,Sn(a[2])),o.ae.rotateX(l,l,Sn(a[0])),o.ae.rotateY(l,l,Sn(a[1])),o.ae.scale(l,l,u),o.ae.multiply(l,l,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1])}function nE(l,a,u,f,h,v,_,S){const P=[u[0]-a[0],u[1]-a[1],0],I=[f[0]-a[0],f[1]-a[1],0];if(o.$.length(P)<1e-12||o.$.length(I)<1e-12)return o.aw.identity(l);const L=o.$.cross([],P,I);o.$.normalize(L,L),o.$.subtract(I,f,a),P[2]=(v-h)*S,I[2]=(_-h)*S;const F=P;return o.$.cross(F,P,I),o.$.normalize(F,F),o.aw.rotationTo(l,L,F)}function JD(l,a,u=!1){const f=Zf(a.zoom),h=function(v,_,S){const P=_.worldSize,I=[v[12],v[13],v[14]],L=po(I[1]/P),F=rl(I[0]/P),W=o.ae.identity([]),X=Ts(1,L)*P,ee=Ts(1,0)*P*eg(L,_.zoom),ae=1/gD(P);let oe=ee*ae;if(S){const ze=rE(_.projection,_.zoom,_.width,_.height,1024);oe=ae*_.projection.pixelSpaceConversion(_.center.lat,P,ze)}const _e=J0(L,F);o.$.add(_e,_e,o.$.scale([],o.$.normalize([],_e),X*oe*I[2]));const Re=function(ze){const qe=[ze[0],ze[1],ze[2]];let Ze=[0,1,0];const rt=o.$.cross([],Ze,qe);return o.$.cross(Ze,qe,rt),o.$.squaredLength(Ze)===0&&(Ze=[0,1,0],o.$.cross(rt,qe,Ze)),o.$.normalize(rt,rt),o.$.normalize(Ze,Ze),o.$.normalize(qe,qe),[rt[0],rt[1],rt[2],0,Ze[0],Ze[1],Ze[2],0,qe[0],qe[1],qe[2],0,ze[0],ze[1],ze[2],1]}(_e);o.ae.scale(W,W,[oe,oe,oe*X]),o.ae.translate(W,W,[-I[0],-I[1],-I[2]]);const De=o.ae.multiply([],_.globeMatrix,Re);return o.ae.multiply(De,De,W),o.ae.multiply(De,De,v),De}(l,a,u);if(f>0){const v=function(_,S){const P=S.worldSize,I=Ts(1,0)*P*eg(S.center.lat,S.zoom)/gD(P),L=Ts(1,S.center.lat)*P,F=o.ae.identity([]);return o.ae.rotateY(F,F,Sn(S.center.lng)),o.ae.rotateX(F,F,Sn(S.center.lat)),o.ae.translate(F,F,[0,0,As]),o.ae.scale(F,F,[I,I,I*L]),o.ae.translate(F,F,[S.point.x-.5*P,S.point.y-.5*P,0]),o.ae.multiply(F,F,_),o.ae.multiply(F,S.globeMatrix,F)}(l,a);return function(_,S,P){const I=(ee,ae,oe)=>{const _e=o.$.length(ee),Re=o.$.length(ae),De=qf(ee,ae,oe);return o.$.scale(De,De,1/o.$.length(De)*Rr(_e,Re,oe))},L=I([_[0],_[1],_[2]],[S[0],S[1],S[2]],P),F=I([_[4],_[5],_[6]],[S[4],S[5],S[6]],P),W=I([_[8],_[9],_[10]],[S[8],S[9],S[10]],P),X=qf([_[12],_[13],_[14]],[S[12],S[13],S[14]],P);return[L[0],L[1],L[2],0,F[0],F[1],F[2],0,W[0],W[1],W[2],0,X[0],X[1],X[2],1]}(h,v,f)}return h}function hJ(l,a,u,f){const h=Fi.projectAabbCorners(f,u);let v=Number.MAX_VALUE,_=-1;for(let I=0;I<h.length;++I){const L=h[I];L[0]=(.5*L[0]+.5)*a.width,L[1]=(.5-.5*L[1])*a.height,L[2]<v&&(_=I,v=L[2])}const S=I=>new or(h[I][0],h[I][1]);let P;switch(_){case 0:case 6:P=[S(1),S(5),S(4),S(7),S(3),S(2),S(1)];break;case 1:case 7:P=[S(0),S(4),S(5),S(6),S(2),S(3),S(0)];break;case 3:case 5:P=[S(1),S(0),S(4),S(7),S(6),S(2),S(1)];break;default:P=[S(1),S(5),S(6),S(7),S(3),S(0),S(1)]}if(oD(l,P))return v}const FEe=Xn([{name:"a_pos_3f",components:3,type:"Float32"}]),jEe=Xn([{name:"a_color_3f",components:3,type:"Float32"}]),VEe=Xn([{name:"a_color_4f",components:4,type:"Float32"}]),UEe=Xn([{name:"a_uv_2f",components:2,type:"Float32"}]),WEe=Xn([{name:"a_normal_3f",components:3,type:"Float32"}]),KEe=Xn([{name:"a_normal_matrix0",components:4,type:"Float32"},{name:"a_normal_matrix1",components:4,type:"Float32"},{name:"a_normal_matrix2",components:4,type:"Float32"},{name:"a_normal_matrix3",components:4,type:"Float32"}]),HEe=Xn([{name:"a_pbr",components:4,type:"Uint16"},{name:"a_heightBasedEmissiveStrength",components:3,type:"Float32"}]);class iE{constructor(a,u,f,h){this.message=(a?`${a}: `:"")+f,h&&(this.identifier=h),u!=null&&u.__line__&&(this.line=u.__line__)}}function mJ(l,a){const u=l.indexOf("://")===-1;try{return new URL(l,u&&a?"http://example.com":void 0),!0}catch{return!1}}class gJ{constructor(a,u){this.feature=a,this.instancedDataOffset=u,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0]}}class yJ{constructor(){this.instancedDataArray=new UO,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={}}}class QD{constructor(a){this.zoom=a.zoom,this.canonical=a.canonical,this.layers=a.layers,this.layerIds=this.layers.map(u=>u.fqid),this.projection=a.projection,this.index=a.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0},this.modelUris=[],this.modelsRequested=!1,this.activeReplacements=[],this.replacementUpdateTime=0}updateFootprints(a,u){}populate(a,u,f,h){this.tileToMeter=p7(f);const v=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:_,id:S,index:P,sourceLayerIndex:I}of a){const L=S??(_.properties&&_.properties.hasOwnProperty("id")?_.properties.id:void 0),F=Gf(_,v);if(!this.layers[0]._featureFilter.filter(new Wr(this.zoom),F,f))continue;const W={id:L,sourceLayerIndex:I,index:P,geometry:v?F.geometry:$c(_,f,h),properties:_.properties,type:_.type,patterns:{}},X=this.addFeature(W,W.geometry,F);X&&u.featureIndex.insert(_,W.geometry,P,I,this.index,this.instancesPerModel[X].instancedDataArray.length,rr/32)}this.lookup=null}update(a,u,f,h){for(const v in this.instancesPerModel){const _=this.instancesPerModel[v];for(const S in a)_.idToFeaturesIndex.hasOwnProperty(S)&&(this.evaluate(_.features[_.idToFeaturesIndex[S]],a[S],_,!0),this.uploaded=!1)}this.maxHeight=0}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return!1;let a=!1;for(const u in this.instancesPerModel){const f=this.instancesPerModel[u];for(const h of f.features){const v=this.layers[0],_=h.feature,S=this.canonical,P=v.paint.get("model-rotation").evaluate(_,{},S),I=v.paint.get("model-scale").evaluate(_,{},S),L=v.paint.get("model-translation").evaluate(_,{},S);o.$.exactEquals(h.rotation,P)&&o.$.exactEquals(h.scale,I)&&o.$.exactEquals(h.translation,L)||(this.evaluate(h,h.featureStates,f,!0),a=!0)}}return a}updateReplacement(a,u,f,h){if(u.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=u.updateTime;const v=u.getReplacementRegionsForTile(a.toUnwrapped(),!0);if(TD(this.activeReplacements,v))return!1;this.activeReplacements=v;let _=!1;for(const S in this.instancesPerModel){const P=this.instancesPerModel[S],I=P.instancedDataArray;for(const L of P.features){const F=L.instancedDataOffset,W=L.instancedDataCount;for(let X=0;X<W;X++){const ee=16*(X+F);let ae=I.float32[ee+0];ae=ae>rr?ae-rr:ae;const oe=Math.floor(ae),_e=I.float32[ee+1];let Re=!1;for(const De of this.activeReplacements)if(!aX(De,f,_X.Model,h)&&!(De.min.x>oe||oe>De.max.x||De.min.y>_e||_e>De.max.y)&&(Re=dX(cX(oe,_e,a.canonical,De.footprintTileId.canonical),De),Re))break;I.float32[ee]=Re?ae+rr:ae,_=_||Re}}}return _}isEmpty(){for(const a in this.instancesPerModel)if(this.instancesPerModel[a].instancedDataArray.length!==0)return!1;return!0}uploadPending(){return!this.uploaded}upload(a){if(!this.uploaded)for(const u in this.instancesPerModel){const f=this.instancesPerModel[u];f.instancedDataArray.length<0||f.instancedDataArray.length===0||(f.instancedDataBuffer?f.instancedDataBuffer.updateData(f.instancedDataArray):f.instancedDataBuffer=a.createVertexBuffer(f.instancedDataArray,KEe.members,!0,void 0,this.instanceCount))}this.uploaded=!0}destroy(){for(const u in this.instancesPerModel){const f=this.instancesPerModel[u];f.instancedDataArray.length!==0&&f.instancedDataBuffer&&f.instancedDataBuffer.destroy()}const a=this.layers[0].modelManager;if(a&&this.modelUris)for(const u of this.modelUris)a.removeModel(u,"")}addFeature(a,u,f){const h=this.layers[0],v=h.layout.get("model-id").evaluate(f,{},this.canonical);if(!v)return la(`modelId is not evaluated for layer ${h.id} and it is not going to get rendered.`),v;mJ(v,!1)&&(this.modelUris.includes(v)||this.modelUris.push(v)),this.instancesPerModel[v]||(this.instancesPerModel[v]=new yJ);const _=this.instancesPerModel[v],S=_.instancedDataArray,P=new gJ(f,S.length);for(const I of u)for(const L of I){if(L.x<0||L.x>=rr||L.y<0||L.y>=rr)continue;const F=(this.lookupDim-1)/rr,W=this.lookupDim*(L.y*F|0)+L.x*F|0;if(this.lookup){if(this.lookup[W]!==0)continue;this.lookup[W]=1}this.instanceCount++;const X=S.length;S.resize(X+1),_.instancesEvaluatedElevation.push(0),S.float32[16*X]=L.x,S.float32[16*X+1]=L.y}return P.instancedDataCount=_.instancedDataArray.length-P.instancedDataOffset,P.instancedDataCount>0&&(a.id&&(_.idToFeaturesIndex[a.id]=_.features.length),_.features.push(P),this.evaluate(P,{},_,!1)),v}getModelUris(){return this.modelUris}evaluate(a,u,f,h){const v=this.layers[0],_=a.feature,S=this.canonical,P=a.rotation=v.paint.get("model-rotation").evaluate(_,u,S),I=a.scale=v.paint.get("model-scale").evaluate(_,u,S),L=a.translation=v.paint.get("model-translation").evaluate(_,u,S),F=v.paint.get("model-color").evaluate(_,u,S);F.a=v.paint.get("model-color-mix-intensity").evaluate(_,u,S);const W=[];this.maxVerticalOffset<L[2]&&(this.maxVerticalOffset=L[2]),this.maxScale=Math.max(Math.max(this.maxScale,I[0]),Math.max(I[1],I[2])),pJ(W,P,I);const X=Math.round(100*F.a)+F.b/1.05;for(let ee=0;ee<a.instancedDataCount;++ee){const ae=a.instancedDataOffset+ee,oe=16*ae,_e=f.instancedDataArray.float32;let Re=0;h&&(Re=_e[oe+6]-f.instancesEvaluatedElevation[ae]);const De=0|_e[oe+1];_e[oe]=(0|_e[oe])+F.r/1.05,_e[oe+1]=De+F.g/1.05,_e[oe+2]=X,_e[oe+3]=1/(S.z>10?this.tileToMeter:p7(S,De)),_e[oe+4]=L[0],_e[oe+5]=L[1],_e[oe+6]=L[2]+Re,_e[oe+7]=W[0],_e[oe+8]=W[1],_e[oe+9]=W[2],_e[oe+10]=W[4],_e[oe+11]=W[5],_e[oe+12]=W[6],_e[oe+13]=W[8],_e[oe+14]=W[9],_e[oe+15]=W[10],f.instancesEvaluatedElevation[ae]=L[2]}}}let vJ,_J;lt(QD,"ModelBucket",{omit:["layers"]}),lt(yJ,"PerModelAttributes"),lt(gJ,"ModelFeature");const og=64,E_={CoordinateSpaceTile:1,CoordinateSpaceYUp:2,HasMapboxMeshFeatures:4,HasMeshoptCompression:8};function bJ(l,a,u,f,h,v,_,S,P,I=!1){const L=u.zoom,F=u.project(f),W=eg(f.lat,L),X=1/W;o.ae.identity(l),o.ae.translate(l,l,[F.x+_[0]*X,F.y+_[1]*X,_[2]]);let ee=1,ae=1;const oe=u.worldSize;if(I){if(u.projection.name==="mercator"){let ze=0;u.elevation&&(ze=u.elevation.getAtPointOrZero(new Uo(F.x/oe,F.y/oe),0));const qe=o.aB.transformMat4([],[F.x,F.y,ze,1],u.projMatrix)[3]/u.cameraToCenterDistance;ee=qe,ae=qe*eg(u.center.lat,L)}else if(u.projection.name==="globe"){const ze=JD(l,u),qe=o.ae.multiply([],u.projMatrix,ze),Ze=[0,0,0,1];o.aB.transformMat4(Ze,Ze,qe);const rt=Ze[3]/u.cameraToCenterDistance,ut=Zf(L),mt=u.projection.pixelsPerMeter(f.lat,oe)*eg(f.lat,L),St=u.projection.pixelsPerMeter(u.center.lat,oe)*eg(u.center.lat,L);ee=rt/Rr(mt,lZ(u.center.lat),ut),ae=rt*W/mt,ee*=St,ae*=St}}else ee=X;o.ae.scale(l,l,[ee,ee,ae]);const _e=[...l],Re=a.orientation,De=[];if(pJ(De,[Re[0]+h[0],Re[1]+h[1],Re[2]+h[2]],v),o.ae.multiply(l,_e,De),S&&u.elevation){let ze=0;const qe=[];if(P&&u.elevation){ze=function(ut,mt,St,yt,Ot){const Ht=mt.elevation;if(!Ht)return 0;const Dt=Fi.projectAabbCorners(St,yt),Jt=Ts(1,Ot.lat)*mt.worldSize,Mt=function(Ur,Tr){const _r=[0,0,1],Xr=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const Jr of Xr){const Yr=Ur[Jr.corners[0]],on=Ur[Jr.corners[1]],Mn=Ur[Jr.corners[2]],_n=[on[0]-Yr[0],on[1]-Yr[1],Tr*(on[2]-Yr[2])],si=o.$.cross(_n,_n,[Mn[0]-Yr[0],Mn[1]-Yr[1],Tr*(Mn[2]-Yr[2])]);o.$.normalize(si,si),Jr.dotProductWithUp=o.$.dot(si,_r)}return Xr.sort((Jr,Yr)=>Jr.dotProductWithUp-Yr.dotProductWithUp),Xr[0].corners}(Dt,Jt),Ft=Dt[Mt[0]],er=Dt[Mt[1]],$t=Dt[Mt[2]],ir=Dt[Mt[3]],Qt=Ht.getAtPointOrZero(new Uo(Ft[0]/mt.worldSize,Ft[1]/mt.worldSize),0),qt=Ht.getAtPointOrZero(new Uo(er[0]/mt.worldSize,er[1]/mt.worldSize),0),Pr=Ht.getAtPointOrZero(new Uo($t[0]/mt.worldSize,$t[1]/mt.worldSize),0),Sr=Ht.getAtPointOrZero(new Uo(ir[0]/mt.worldSize,ir[1]/mt.worldSize),0),pr=(Qt+Sr)/2,nr=(qt+Pr)/2;return pr>nr?qt<Pr?nE(ut,er,ir,Ft,qt,Sr,Qt,Jt):nE(ut,$t,Ft,ir,Pr,Qt,Sr,Jt):Qt<Sr?nE(ut,Ft,er,$t,Qt,qt,Pr,Jt):nE(ut,ir,$t,er,Sr,Pr,qt,Jt),Math.max(pr,nr)}(qe,u,a.aabb,l,f);const Ze=o.ae.fromQuat([],qe),rt=o.ae.multiply([],Ze,De);o.ae.multiply(l,_e,rt)}else ze=u.elevation.getAtPointOrZero(new Uo(F.x/oe,F.y/oe),0);ze!==0&&(l[14]+=ze)}}function e2(l,a,u=!1){l.uploaded||(l.gfxTexture=new zu(a,l.image,u?a.gl.R8:a.gl.RGBA,{useMipmap:l.sampler.minFilter>=a.gl.NEAREST_MIPMAP_NEAREST}),l.uploaded=!0,l.image=null)}function GEe(l,a,u){l.indexBuffer=a.createIndexBuffer(l.indexArray,!1,!0),l.vertexBuffer=a.createVertexBuffer(l.vertexArray,FEe.members,!1,!0),l.normalArray&&(l.normalBuffer=a.createVertexBuffer(l.normalArray,WEe.members,!1,!0)),l.texcoordArray&&(l.texcoordBuffer=a.createVertexBuffer(l.texcoordArray,UEe.members,!1,!0)),l.colorArray&&(l.colorBuffer=a.createVertexBuffer(l.colorArray,(l.colorArray.bytesPerElement===12?jEe:VEe).members,!1,!0)),l.featureArray&&(l.pbrBuffer=a.createVertexBuffer(l.featureArray,HEe.members,!0)),l.segments=Ki.simpleSegment(0,0,l.vertexArray.length,l.indexArray.length);const f=l.material;f.pbrMetallicRoughness.baseColorTexture&&e2(f.pbrMetallicRoughness.baseColorTexture,a),f.pbrMetallicRoughness.metallicRoughnessTexture&&e2(f.pbrMetallicRoughness.metallicRoughnessTexture,a),f.normalTexture&&e2(f.normalTexture,a),f.occlusionTexture&&e2(f.occlusionTexture,a,u),f.emissionTexture&&e2(f.emissionTexture,a)}function eR(l,a,u){if(l.meshes)for(const f of l.meshes)GEe(f,a,u);if(l.children)for(const f of l.children)eR(f,a,u)}function aE(l){if(l.meshes)for(const a of l.meshes)a.indexArray.destroy(),a.vertexArray.destroy(),a.colorArray&&a.colorArray.destroy(),a.normalArray&&a.normalArray.destroy(),a.texcoordArray&&a.texcoordArray.destroy(),a.featureArray&&a.featureArray.destroy();if(l.children)for(const a of l.children)aE(a)}function tR(l){if(l.meshes)for(const u of l.meshes)u.vertexBuffer&&(u.vertexBuffer.destroy(),u.indexBuffer.destroy(),u.normalBuffer&&u.normalBuffer.destroy(),u.texcoordBuffer&&u.texcoordBuffer.destroy(),u.colorBuffer&&u.colorBuffer.destroy(),u.pbrBuffer&&u.pbrBuffer.destroy(),u.segments.destroy(),u.material&&((a=u.material).pbrMetallicRoughness.baseColorTexture&&a.pbrMetallicRoughness.baseColorTexture.gfxTexture&&a.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),a.pbrMetallicRoughness.metallicRoughnessTexture&&a.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&a.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),a.normalTexture&&a.normalTexture.gfxTexture&&a.normalTexture.gfxTexture.destroy(),a.emissionTexture&&a.emissionTexture.gfxTexture&&a.emissionTexture.gfxTexture.destroy(),a.occlusionTexture&&a.occlusionTexture.gfxTexture&&a.occlusionTexture.gfxTexture.destroy()));var a;if(l.children)for(const u of l.children)tR(u)}class qEe{constructor(a){this._callback=a,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class ZEe{constructor(){this.tasks={},this.taskQueue=[],xv(["process"],this),this.invoker=new qEe(this.process),this.nextId=0}add(a,u){const f=this.nextId++,h=function({type:v,isSymbolTile:_,zoom:S}){return S=S||0,v==="message"?0:v!=="maybePrepare"||_?v!=="parseTile"||_?v==="parseTile"&&_?300-S:v==="maybePrepare"&&_?400-S:500:200-S:100-S}(u);if(h===0){try{a()}finally{}return null}return this.tasks[f]={fn:a,metadata:u,priority:h,id:f},this.taskQueue.push(f),this.invoker.trigger(),{cancel:()=>{delete this.tasks[f]}}}process(){try{if(this.taskQueue=this.taskQueue.filter(f=>!!this.tasks[f]),!this.taskQueue.length)return;const a=this.pick();if(a===null)return;const u=this.tasks[a];if(delete this.tasks[a],this.taskQueue.length&&this.invoker.trigger(),!u)return;u.fn()}finally{}}pick(){let a=null,u=1/0;for(let h=0;h<this.taskQueue.length;h++){const v=this.tasks[this.taskQueue[h]];v.priority<u&&(u=v.priority,a=h)}if(a===null)return null;const f=this.taskQueue[a];return this.taskQueue.splice(a,1),f}remove(){this.invoker.remove()}}class xJ{constructor(a,u,f){this.target=a,this.parent=u,this.mapId=f,this.callbacks={},this.cancelCallbacks={},xv(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.scheduler=new ZEe}send(a,u,f,h,v=!1,_){const S=Math.round(1e18*Math.random()).toString(36).substring(0,10);f&&(f.metadata=_,this.callbacks[S]=f);const P=new Set;return this.target.postMessage({id:S,type:a,hasCallback:!!f,targetMapId:h,mustQueue:v,sourceMapId:this.mapId,data:ht(u,P)},P),{cancel:()=>{f&&delete this.callbacks[S],this.target.postMessage({id:S,type:"<cancel>",targetMapId:h,sourceMapId:this.mapId})}}}receive(a){const u=a.data,f=u.id;if(f&&(!u.targetMapId||this.mapId===u.targetMapId))if(u.type==="<cancel>"){const h=this.cancelCallbacks[f];delete this.cancelCallbacks[f],h&&h.cancel()}else if(u.mustQueue||zh()){const h=this.callbacks[f],v=this.scheduler.add(()=>this.processTask(f,u),h&&h.metadata||{type:"message"});v&&(this.cancelCallbacks[f]=v)}else this.processTask(f,u)}processTask(a,u){if(delete this.cancelCallbacks[a],u.type==="<response>"){const f=this.callbacks[a];delete this.callbacks[a],f&&(u.error?f(Pt(u.error)):f(null,Pt(u.data)))}else{const f=new Set,h=u.hasCallback?(_,S)=>{this.target.postMessage({id:a,type:"<response>",sourceMapId:this.mapId,error:_?ht(_):null,data:ht(S,f)},f)}:_=>{},v=Pt(u.data);if(this.parent[u.type])this.parent[u.type](u.sourceMapId,v,h);else if(this.parent.getWorkerSource){const _=u.type.split(".");this.parent.getWorkerSource(u.sourceMapId,_[0],v.source,v.scope)[_[1]](v,h)}else h(new Error(`Could not find function ${u.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}class A_{constructor(a,u){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=bv();const f=this.workerPool.acquire(this.id);for(let h=0;h<f.length;h++){const v=new A_.Actor(f[h],u,this.id);v.name=`Worker ${h}`,this.actors.push(v)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(a,u,f){d0(this.actors,(h,v)=>{h.send(a,u,v)},f=f||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(a=>{a.remove()}),this.actors=[],this.workerPool.release(this.id)}}A_.Actor=xJ;var t2={workerUrl:"",workerClass:null,workerParams:void 0};function XEe(){return t2.workerClass!=null?new t2.workerClass:new self.Worker(t2.workerUrl,t2.workerParams)}const rR="mapboxgl_preloaded_worker_pool";class r2{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<r2.workerCount;)this.workers.push(new XEe);return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.workers&&this.numActive()===0&&(this.workers.forEach(u=>{u.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[rR]}numActive(){return Object.keys(this.active).length}}let n2;function oE(){return n2||(n2=new r2),n2}r2.workerCount=2;let sE,nR,jc,T_,iR,P_=null;function wJ(){return zh()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:nR||x.DRACO_URL}function SJ(){if(zh()&&self.worker&&self.worker.meshoptUrl)return self.worker.meshoptUrl;if(T_)return T_;const l=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]);if(typeof WebAssembly!="object")throw new Error("WebAssembly not supported, cannot instantiate meshoptimizer");return T_=WebAssembly.validate(l)?x.MESHOPT_SIMD_URL:x.MESHOPT_URL,T_}const lE={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},YEe={5120:"DT_INT8",5121:"DT_UINT8",5122:"DT_INT16",5123:"DT_UINT16",5125:"DT_UINT32",5126:"DT_FLOAT32"},i2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function EJ(l,a,u){const f=u.json.bufferViews.length,h=u.buffers.length;a.bufferView=f,u.json.bufferViews[f]={buffer:h,byteLength:l.byteLength},u.buffers[h]=l}const aR="KHR_draco_mesh_compression";function JEe(l,a){const u=l.extensions&&l.extensions[aR];if(!u)return;const f=new jc.Decoder,h=CJ(a,u.bufferView),v=new jc.Mesh;if(!f.DecodeArrayToMesh(h,h.byteLength,v))throw new Error("Failed to decode Draco mesh");const _=a.json.accessors[l.indices],S=lE[_.componentType],P=_.count*S.BYTES_PER_ELEMENT,I=jc._malloc(P);S===Uint16Array?f.GetTrianglesUInt16Array(v,P,I):f.GetTrianglesUInt32Array(v,P,I),EJ(jc.memory.buffer.slice(I,I+P),_,a),jc._free(I);for(const L of Object.keys(u.attributes)){const F=f.GetAttributeByUniqueId(v,u.attributes[L]),W=a.json.accessors[l.attributes[L]],X=YEe[W.componentType],ee=W.count*i2[W.type]*lE[W.componentType].BYTES_PER_ELEMENT,ae=jc._malloc(ee);f.GetAttributeDataArrayForAllPoints(v,F,jc[X],ee,ae),EJ(jc.memory.buffer.slice(ae,ae+ee),W,a),jc._free(ae)}f.destroy(),v.destroy(),delete l.extensions[aR]}const uE="EXT_meshopt_compression";function QEe(l,a){if(!l.extensions||!l.extensions[uE])return;const u=l.extensions[uE],f=new Uint8Array(a.buffers[u.buffer],u.byteOffset||0,u.byteLength||0),h=new Uint8Array(u.count*u.byteStride);iR.decodeGltfBuffer(h,u.count,u.byteStride,f,u.mode,u.filter),l.buffer=a.buffers.length,l.byteOffset=0,a.buffers[l.buffer]=h.buffer,delete l.extensions[uE]}const AJ=1179937895,TJ=new TextDecoder("utf8");function PJ(l,a){return new URL(l,a).href}function eAe(l,a,u,f){return fetch(PJ(l.uri,f)).then(h=>h.arrayBuffer()).then(h=>{a.buffers[u]=h})}function CJ(l,a){const u=l.json.bufferViews[a];return new Uint8Array(l.buffers[u.buffer],u.byteOffset||0,u.byteLength)}function tAe(l,a,u,f){if(l.uri){const h=PJ(l.uri,f);return fetch(h).then(v=>v.blob()).then(v=>createImageBitmap(v)).then(v=>{a.images[u]=v})}if(l.bufferView!==void 0){const h=CJ(a,l.bufferView),v=new Blob([h],{type:l.mimeType});return createImageBitmap(v).then(_=>{a.images[u]=_})}}function IJ(l,a=0,u){const f={json:null,images:[],buffers:[]};if(new Uint32Array(l,a,1)[0]===AJ){const L=new Uint32Array(l,a);let F=2;const W=(L[F++]>>2)-3,X=L[F++]>>2;if(F++,f.json=JSON.parse(TJ.decode(L.subarray(F,F+X))),F+=X,F<W){const ee=L[F++];F++;const ae=a+(F<<2);f.buffers[0]=l.slice(ae,ae+ee)}}else f.json=JSON.parse(TJ.decode(new Uint8Array(l,a)));const{buffers:h,images:v,meshes:_,extensionsUsed:S,bufferViews:P}=f.json;let I=Promise.resolve();if(h){const L=[];for(let F=0;F<h.length;F++){const W=h[F];W.uri?L.push(eAe(W,f,F,u)):f.buffers[F]||(f.buffers[F]=null)}I=Promise.all(L)}return I.then(()=>{const L=[],F=S&&S.includes(aR),W=S&&S.includes(uE);if(F&&L.push(function(){if(!jc)return sE||(sE=function(X){let ee,ae=null;function oe(){ee=new Uint8Array(ae.buffer)}function _e(){throw new Error("Unexpected Draco error.")}const Re={a:{a:_e,d:function(De,ze,qe){return ee.copyWithin(De,ze,ze+qe)},c:function(De){const ze=ee.length,qe=Math.max(De>>>0,Math.ceil(1.2*ze)),Ze=Math.ceil((qe-ze)/65536);try{return ae.grow(Ze),oe(),!0}catch{return!1}},b:_e}};return(WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(X,Re):X.then(De=>De.arrayBuffer()).then(De=>WebAssembly.instantiate(De,Re))).then(De=>{const{Rb:ze,Qb:qe,P:Ze,T:rt,X:ut,Ja:mt,La:St,Qa:yt,Va:Ot,Wa:Ht,eb:Dt,jb:Jt,f:Mt,e:Ft,yb:er,zb:$t,Ab:ir,Bb:Qt,Db:qt,Gb:Pr}=De.instance.exports;ae=Ft;const Sr=(()=>{let pr=0,nr=0,Ur=0,Tr=0;return _r=>{Ur&&(ze(Tr),ze(pr),nr+=Ur,Ur=pr=0),pr||(nr+=128,pr=qe(nr));const Xr=_r.length+7&-8;let Jr=pr;Xr>=nr&&(Ur=Xr,Jr=Tr=qe(Xr));for(let Yr=0;Yr<_r.length;Yr++)ee[Jr+Yr]=_r[Yr];return Jr}})();return oe(),Mt(),{memory:Ft,_free:ze,_malloc:qe,Mesh:class{constructor(){this.ptr=Ze()}destroy(){rt(this.ptr)}},Decoder:class{constructor(){this.ptr=mt()}destroy(){Jt(this.ptr)}DecodeArrayToMesh(pr,nr,Ur){const Tr=Sr(pr),_r=St(this.ptr,Tr,nr,Ur.ptr);return!!ut(_r)}GetAttributeByUniqueId(pr,nr){return{ptr:yt(this.ptr,pr.ptr,nr)}}GetTrianglesUInt16Array(pr,nr,Ur){Ot(this.ptr,pr.ptr,nr,Ur)}GetTrianglesUInt32Array(pr,nr,Ur){Ht(this.ptr,pr.ptr,nr,Ur)}GetAttributeDataArrayForAllPoints(pr,nr,Ur,Tr,_r){Dt(this.ptr,pr.ptr,nr.ptr,Ur,Tr,_r)}},DT_INT8:er(),DT_UINT8:$t(),DT_INT16:ir(),DT_UINT16:Qt(),DT_UINT32:qt(),DT_FLOAT32:Pr()}})}(fetch(wJ())),sE.then(X=>{jc=X,sE=void 0}))}()),W&&L.push(function(){if(iR)return;const X=function(ee){let ae;const oe=WebAssembly.instantiateStreaming(ee,{}).then(De=>{ae=De.instance,ae.exports.__wasm_call_ctors()}),_e={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},Re={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:oe,supported:!0,decodeGltfBuffer(De,ze,qe,Ze,rt,ut){(function(mt,St,yt,Ot,Ht,Dt,Jt){const Mt=mt.exports.sbrk,Ft=Ot+3&-4,er=Mt(Ft*Ht),$t=Mt(Dt.length),ir=new Uint8Array(mt.exports.memory.buffer);ir.set(Dt,$t);const Qt=St(er,Ot,Ht,$t,Dt.length);if(Qt===0&&Jt&&Jt(er,Ft,Ht),yt.set(ir.subarray(er,er+Ot*Ht)),Mt(er-Mt(0)),Qt!==0)throw new Error(`Malformed buffer data: ${Qt}`)})(ae,ae.exports[Re[rt]],De,ze,qe,Ze,ae.exports[_e[ut]])}}}(fetch(SJ()));return X.ready.then(()=>{iR=X})}()),v)for(let X=0;X<v.length;X++)L.push(tAe(v[X],f,X,u));return(L.length?Promise.all(L):Promise.resolve()).then(()=>{if(F&&_)for(const{primitives:X}of _)for(const ee of X)JEe(ee,f);if(W&&_&&P)for(const X of P)QEe(X,f);return f})})}function sg(l,a){const u=l.json.bufferViews[a.bufferView],f=lE[a.componentType];return new f(l.buffers[u.buffer],(a.byteOffset||0)+(u.byteOffset||0),a.count*(u.byteStride&&u.byteStride!==i2[a.type]*f.BYTES_PER_ELEMENT?u.byteStride/f.BYTES_PER_ELEMENT:i2[a.type]))}function oR(l,a,u,f){const h=lE[a.componentType],v=function(L){switch(L){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:return 1}}(h),_=l.json.bufferViews[a.bufferView],S=_.byteStride?_.byteStride/h.BYTES_PER_ELEMENT:i2[a.type],P=u.float32,I=P.length/u.capacity;for(let L=0,F=0;L<a.count*S;L+=S,F+=I)for(let W=0;W<I;W++)P[F+W]=f[L+W]*v;u._trim()}function rAe(l,a,u){const f=l.indices,h=l.attributes,v={};v.indexArray=new ro;const _=a.json.accessors[f],S=_.count/3;v.indexArray.reserve(S);const P=sg(a,_);for(let W=0;W<S;W++)v.indexArray.emplaceBack(P[3*W],P[3*W+1],P[3*W+2]);v.indexArray._trim(),v.vertexArray=new tm;const I=a.json.accessors[h.POSITION];v.vertexArray.reserve(I.count);const L=sg(a,I);for(let W=0;W<I.count;W++)v.vertexArray.emplaceBack(L[3*W],L[3*W+1],L[3*W+2]);if(v.vertexArray._trim(),v.aabb=new Fi(I.min,I.max),v.centroid=function(W,X){const ee=[0,0,0],ae=W.length;if(ae>0){for(let oe=0;oe<ae;oe++){const _e=3*W[oe];ee[0]+=X[_e],ee[1]+=X[_e+1],ee[2]+=X[_e+2]}ee[0]/=ae,ee[1]/=ae,ee[2]/=ae}return ee}(P,L),h.COLOR_0!==void 0){const W=a.json.accessors[h.COLOR_0],X=i2[W.type],ee=sg(a,W);v.colorArray=X===3?new tm:new em,v.colorArray.resize(W.count),oR(a,W,v.colorArray,ee)}if(h.NORMAL!==void 0){v.normalArray=new tm;const W=a.json.accessors[h.NORMAL];v.normalArray.resize(W.count);const X=sg(a,W);oR(a,W,v.normalArray,X)}if(h.TEXCOORD_0!==void 0&&u.length>0){v.texcoordArray=new xw;const W=a.json.accessors[h.TEXCOORD_0];v.texcoordArray.resize(W.count);const X=sg(a,W);oR(a,W,v.texcoordArray,X)}if(h._FEATURE_ID_RGBA4444!==void 0){const W=a.json.accessors[h._FEATURE_ID_RGBA4444];a.json.extensionsUsed&&a.json.extensionsUsed.includes("EXT_meshopt_compression")&&(v.featureData=sg(a,W))}h._FEATURE_RGBA4444!==void 0&&(v.featureData=new Uint32Array(sg(a,a.json.accessors[h._FEATURE_RGBA4444]).buffer));const F=l.material;return v.material=function(W,X){const{emissiveFactor:ee=[0,0,0],alphaMode:ae="OPAQUE",alphaCutoff:oe=.5,normalTexture:_e,occlusionTexture:Re,emissiveTexture:De,doubleSided:ze}=W,{baseColorFactor:qe=[1,1,1,1],metallicFactor:Ze=1,roughnessFactor:rt=1,baseColorTexture:ut,metallicRoughnessTexture:mt}=W.pbrMetallicRoughness||{},St=Re?X[Re.index]:void 0;if(Re&&Re.extensions&&Re.extensions.KHR_texture_transform&&St){const yt=Re.extensions.KHR_texture_transform;St.offsetScale=[yt.offset[0],yt.offset[1],yt.scale[0],yt.scale[1]]}return{pbrMetallicRoughness:{baseColorFactor:new Hn(...qe),metallicFactor:Ze,roughnessFactor:rt,baseColorTexture:ut?X[ut.index]:void 0,metallicRoughnessTexture:mt?X[mt.index]:void 0},doubleSided:ze,emissiveFactor:ee,alphaMode:ae,alphaCutoff:oe,normalTexture:_e?X[_e.index]:void 0,occlusionTexture:St,emissionTexture:De?X[De.index]:void 0,defined:W.defined===void 0}}(F!==void 0?a.json.materials[F]:{defined:!1},u),v}function MJ(l,a,u){const{matrix:f,rotation:h,translation:v,scale:_,mesh:S,extras:P,children:I}=l,L={};if(L.matrix=f||o.ae.fromRotationTranslationScale([],h||[0,0,0,1],v||[0,0,0],_||[1,1,1]),S!==void 0){L.meshes=u[S];const F=L.anchor=[0,0];for(const W of L.meshes){const{min:X,max:ee}=W.aabb;F[0]+=X[0]+ee[0],F[1]+=X[1]+ee[1]}F[0]=Math.floor(F[0]/L.meshes.length/2),F[1]=Math.floor(F[1]/L.meshes.length/2)}if(P&&(P.id&&(L.id=P.id),P.lights&&(L.lights=function(F){if(!F.length)return[];const W=function(_e){const Re=atob(_e),De=new Uint8Array(Re.length);for(let ze=0;ze<Re.length;ze++)De[ze]=Re.codePointAt(ze);return De}(F),X=[],ee=W.length/24,ae=new Uint16Array(W.buffer),oe=new Float32Array(W.buffer);for(let _e=0;_e<ee;_e++){const Re=ae[2*_e*6]/30,De=ae[2*_e*6+1]/30,ze=ae[2*_e*6+10]/100,qe=oe[6*_e+1],Ze=oe[6*_e+2],rt=oe[6*_e+3],ut=oe[6*_e+4],mt=rt-qe,St=ut-Ze,yt=Math.hypot(mt,St);X.push({pos:[qe+.5*mt,Ze+.5*St,De],normal:[St/yt,-mt/yt,0],width:yt,height:Re,depth:ze,points:[qe,Ze,rt,ut]})}return X}(P.lights))),I){const F=[];for(const W of I)F.push(MJ(a.json.nodes[W],a,u));L.children=F}return L}function nAe(l){if(l.vertices.length===0||l.indices.length===0)return null;const a=new SD(l.vertices,l.indices,8,256),[u,f]=[a.min.clone(),a.max.clone()];return{vertices:l.vertices,indices:l.indices,grid:a,min:u,max:f}}function iAe(l){if(!l.extras||!l.extras.ground)return null;const a=l.extras.ground;if(!a||!Array.isArray(a)||a.length===0)return null;const u=a[0];if(!u||!Array.isArray(u)||u.length===0)return null;const f=[];for(const _ of u){if(!Array.isArray(_)||_.length!==2)continue;const S=_[0],P=_[1];typeof S=="number"&&typeof P=="number"&&f.push(new or(S,P))}if(f.length<3)return null;f.length>1&&f[f.length-1].equals(f[0])&&f.pop();let h=0;for(let _=0;_<f.length;_++){const S=f[_],P=f[(_+1)%f.length],I=f[(_+2)%f.length];h+=(S.x-P.x)*(I.y-P.y)-(I.x-P.x)*(S.y-P.y)}h>0&&f.reverse();const v=Mw(f.flatMap(_=>[_.x,_.y]),[]);return v.length===0?null:{vertices:f,indices:v}}function aAe(l,a){const u=[],f=[];let h=0;const v=[];for(const _ of l){h=u.length;const S=_.vertexArray.float32,P=_.indexArray.uint16;for(let I=0;I<_.vertexArray.length;I++)v[0]=S[3*I+0],v[1]=S[3*I+1],v[2]=S[3*I+2],o.$.transformMat4(v,v,a),u.push(new or(v[0],v[1]));for(let I=0;I<3*_.indexArray.length;I++)f.push(P[I]+h)}if(f.length%3!=0)return null;for(let _=0;_<f.length;_+=3){const S=u[f[_+0]],P=u[f[_+1]],I=u[f[_+2]];(S.x-P.x)*(I.y-P.y)-(I.x-P.x)*(S.y-P.y)>0&&([f[_+1],f[_+2]]=[f[_+2],f[_+1]])}return{vertices:u,indices:f}}function kJ(l){const a=function(P,I){const L=[],F=WebGL2RenderingContext;if(P.json.textures)for(const W of P.json.textures){const X={magFilter:F.LINEAR,minFilter:F.NEAREST,wrapS:F.REPEAT,wrapT:F.REPEAT};W.sampler!==void 0&&Object.assign(X,P.json.samplers[W.sampler]),L.push({image:I[W.source],sampler:X,uploaded:!1})}return L}(l,l.images),u=function(P,I){const L=[];for(const F of P.json.meshes){const W=[];for(const X of F.primitives)W.push(rAe(X,P,I));L.push(W)}return L}(l,a),{scenes:f,scene:h,nodes:v}=l.json,_=f?f[h||0].nodes:v,S=[];for(const P of _)S.push(MJ(v[P],l,u));return function(P,I,L){const F={},W=new Set;for(let X=0;X<P.length;X++){const ee=L[I[X]];if(!ee.extras)continue;const ae=ee.extras["mapbox:footprint:version"],oe=ee.extras["mapbox:footprint:id"];(ae||oe)&&W.add(X),ae==="1.0.0"&&oe&&(F[oe]=X)}for(let X=0;X<P.length;X++){if(W.has(X))continue;const ee=P[X],ae=L[I[X]];if(!ae.extras)continue;let oe=null;ee.id in F&&(oe=aAe(P[F[ee.id]].meshes,ee.matrix)),oe||(oe=iAe(ae)),oe&&(ee.footprint=nAe(oe))}if(W.size>0){const X=Array.from(W.values()).sort((ee,ae)=>ee-ae);for(let ee=X.length-1;ee>=0;ee--)P.splice(X[ee],1)}}(S,_,l.json.nodes),S}function oAe(l){l.heightmap=new Float32Array(4096),l.heightmap.fill(-1);const a=l.vertexArray.float32,u=l.aabb.min[0]-1,f=l.aabb.min[1]-1,h=og/(l.aabb.max[0]-u+2),v=og/(l.aabb.max[1]-f+2);for(let _=0;_<a.length;_+=3){const S=a[_+2],P=(a[_+0]-u)*h|0,I=(a[_+1]-f)*v|0;S>l.heightmap[I*og+P]&&(l.heightmap[I*og+P]=S)}}function sAe(l,a){const u={};u.indexArray=new ro,u.indexArray.reserve(4*l.length),u.vertexArray=new tm,u.vertexArray.reserve(10*l.length),u.colorArray=new em,u.vertexArray.reserve(10*l.length);let f=0;for(const _ of l){const S=Math.min(10,Math.max(4,1.3*_.height))*a,P=[-_.normal[1],_.normal[0],0],I=Math.min(.29,.1*_.width/_.depth),L=_.width-2*_.depth*a*(I+.01),F=o.$.scaleAndAdd([],_.pos,P,L/2),W=o.$.scaleAndAdd([],_.pos,P,-L/2),X=[F[0],F[1],F[2]+_.height],ee=[W[0],W[1],W[2]+_.height],ae=o.$.scaleAndAdd([],_.normal,P,I);o.$.scale(ae,ae,S);const oe=o.$.scaleAndAdd([],_.normal,P,-I);o.$.scale(oe,oe,S),o.$.add(ae,F,ae),o.$.add(oe,W,oe),F[2]+=.1,W[2]+=.1,u.vertexArray.emplaceBack(ae[0],ae[1],ae[2]),u.vertexArray.emplaceBack(oe[0],oe[1],oe[2]),u.vertexArray.emplaceBack(F[0],F[1],F[2]),u.vertexArray.emplaceBack(W[0],W[1],W[2]),u.vertexArray.emplaceBack(X[0],X[1],X[2]),u.vertexArray.emplaceBack(ee[0],ee[1],ee[2]),u.vertexArray.emplaceBack(F[0],F[1],F[2]),u.vertexArray.emplaceBack(W[0],W[1],W[2]),u.vertexArray.emplaceBack(ae[0],ae[1],ae[2]),u.vertexArray.emplaceBack(oe[0],oe[1],oe[2]);const _e=L/S/2;u.colorArray.emplaceBack(-_e-I,-1,_e,.8),u.colorArray.emplaceBack(_e+I,-1,_e,.8),u.colorArray.emplaceBack(-_e,0,_e,1.3),u.colorArray.emplaceBack(_e,0,_e,1.3),u.colorArray.emplaceBack(_e+I,-.8,_e,.7),u.colorArray.emplaceBack(_e+I,-.8,_e,.7),u.colorArray.emplaceBack(0,0,_e,1.3),u.colorArray.emplaceBack(0,0,_e,1.3),u.colorArray.emplaceBack(_e+I,-1.2,_e,.8),u.colorArray.emplaceBack(_e+I,-1.2,_e,.8),u.indexArray.emplaceBack(6+f,4+f,8+f),u.indexArray.emplaceBack(7+f,9+f,5+f),u.indexArray.emplaceBack(0+f,1+f,2+f),u.indexArray.emplaceBack(1+f,3+f,2+f),f+=10}const h={defined:!0,emissiveFactor:[0,0,0]},v={};return v.baseColorFactor=Hn.white,h.pbrMetallicRoughness=v,u.material=h,u.aabb=new Fi([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),u}const sR=new Float32Array(262144),lg=new Uint8Array(262144);function OJ(l){let a=0;if(l.meshes)for(const u of l.meshes)a=Math.max(a,u.aabb.max[2]);if(l.children)for(const u of l.children)a=Math.max(a,OJ(u));return a}function DJ(l,a,u){if(l.meshes)for(const f of l.meshes)f.aabb.min[0]!==1/0&&u.insert(a,f.aabb.min[0],f.aabb.min[1],f.aabb.max[0],f.aabb.max[1]);if(l.children)for(const f of l.children)DJ(f,a,u)}const RJ=["","wall","door","roof","window","lamp","logo"];class $J{constructor(a){this.node=a,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.feature={type:"Point",id:a.id,geometry:[],properties:{height:OJ(a)}},this.aabb=this._getLocalBounds()}_getLocalBounds(){if(!this.node.meshes)return new Fi([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);if(!this.aabb){let a=0;const u=new Fi([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);for(const f of this.node.meshes)this.node.lightMeshIndex!==a&&(f.transformedAabb=Fi.applyTransformFast(f.aabb,this.node.matrix),u.encapsulate(f.transformedAabb)),a++;this.aabb=u}return this.aabb}}class cE{constructor(a,u,f,h,v,_){this.id=u,this.modelTraits|=E_.CoordinateSpaceTile,this.uploaded=!1,this.hasPattern=!1,f&&(this.modelTraits|=E_.HasMapboxMeshFeatures),h&&(this.modelTraits|=E_.HasMeshoptCompression),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:"mercator"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=v,this.dirty=!0,this.needsUpload=!1,this.nodesInfo=[];for(const S of a)this.nodesInfo.push(new $J(S)),DJ(S,_.featureIndexArray.length,_.grid),_.featureIndexArray.emplaceBack(this.nodesInfo.length-1,0,_.bucketLayerIDs.length-1,0)}updateFootprints(a,u){for(const f of this.getNodesInfo()){const h=f.node;h.footprint&&u.push({footprint:h.footprint,id:a})}}update(){console.log("Update 3D model bucket")}populate(){console.log("populate 3D model bucket")}uploadPending(){return!this.uploaded||this.needsUpload}upload(a){if(!this.needsUpload)return;const u=this.getNodesInfo();for(const f of u){const h=f.node;this.uploaded?this.updatePbrBuffer(h):eR(h,a,!0)}for(const f of u)aE(f.node);this.uploaded=!0,this.needsUpload=!1}updatePbrBuffer(a){let u=!1;if(!a.meshes)return u;for(const f of a.meshes)f.pbrBuffer&&(f.pbrBuffer.updateData(f.featureArray),u=!0);return u}needsReEvaluation(a,u,f){const h=a.transform.projectionOptions,v=a.style.getBrightness(),_=this.brightness!==v;return!!(!this.uploaded||this.dirty||h.name!==this.projection.name||a2(f.paint.get("model-color").value,_)||a2(f.paint.get("model-color-mix-intensity").value,_)||a2(f.paint.get("model-roughness").value,_)||a2(f.paint.get("model-emissive-strength").value,_)||a2(f.paint.get("model-height-based-emissive-strength-multiplier").value,_))&&(this.projection=h,this.brightness=v,!0)}evaluateScale(a,u){if(a.transform.zoom===this.zoom)return;this.zoom=a.transform.zoom;const f=this.getNodesInfo(),h=this.id.canonical;for(const v of f){const _=v.feature;v.evaluatedScale=u.paint.get("model-scale").evaluate(_,{},h)}}evaluate(a){const u=this.getNodesInfo();for(const f of u){if(!f.node.meshes)continue;const h=f.feature,v=f.node.meshes&&f.node.meshes[0].featureData,_=f.evaluatedColor[2],S=f.evaluatedRMEA[2],P=this.id.canonical;if(f.hasTranslucentParts=!1,v){for(let I=0;I<RJ.length;I++){const L=RJ[I];L.length&&(h.properties.part=L);const F=a.paint.get("model-color").evaluate(h,{},P).toRenderColor(null),W=a.paint.get("model-color-mix-intensity").evaluate(h,{},P);f.evaluatedColor[I]=[F.r,F.g,F.b,W],f.evaluatedRMEA[I][0]=a.paint.get("model-roughness").evaluate(h,{},P),f.evaluatedRMEA[I][2]=a.paint.get("model-emissive-strength").evaluate(h,{},P),f.evaluatedRMEA[I][3]=F.a,f.emissionHeightBasedParams[I]=a.paint.get("model-height-based-emissive-strength-multiplier").evaluate(h,{},P),!f.hasTranslucentParts&&F.a<1&&(f.hasTranslucentParts=!0)}delete h.properties.part,uAe(f,_!==f.evaluatedColor[2]||S!==f.evaluatedRMEA[2],this.modelTraits)}else f.evaluatedRMEA[0][2]=a.paint.get("model-emissive-strength").evaluate(h,{},P);f.evaluatedScale=a.paint.get("model-scale").evaluate(h,{},P),this.updatePbrBuffer(f.node)||(this.needsUpload=!0)}this.dirty=!1}elevationUpdate(a,u,f,h){const v=a.findDEMTileFor(f);if(v&&(v.tileID.canonical!==this.terrainTile||u!==this.terrainExaggeration)){if(v.dem&&v.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=v.tileID.overscaledZ;const _=p_.create(a,f,v);if(!_)return;this.modelTraits&E_.HasMapboxMeshFeatures&&this.updateDEM(a,_,f,h);for(const S of this.getNodesInfo()){const P=S.node;if(!P.footprint||!P.footprint.vertices||!P.footprint.vertices.length)continue;const I=P.footprint.vertices;let L=_.getElevationAt(I[0].x,I[0].y,!0,!0);for(let F=1;F<I.length;F++)L=Math.min(L,_.getElevationAt(I[F].x,I[F].y,!0,!0));P.elevation=L}}this.terrainTile=v.tileID.canonical,this.terrainExaggeration=u}}updateDEM(a,u,f,h){let v=u._dem._modifiedForSources[h];if(v===void 0&&(u._dem._modifiedForSources[h]=[],v=u._dem._modifiedForSources[h]),v.includes(f.canonical))return;const _=u._dem.dim;v.push(f.canonical);let S=!1;for(const P of this.getNodesInfo()){const I=P.node;if(!I.footprint||!I.footprint.grid)continue;const L=I.footprint.grid,F=u.tileCoordToPixel(L.min.x,L.min.y),W=u.tileCoordToPixel(L.max.x,L.max.y),X=Math.min(Math.min(_-W.y,F.x),Math.min(F.y,_-W.x));if(X<0)continue;const ee=pn(X,2,5);let ae=Math.max(0,F.x-ee),oe=Math.max(0,F.y-ee),_e=Math.min(W.x+ee,_-1),Re=Math.min(W.y+ee,_-1);for(let Ze=oe;Ze<=Re;++Ze)for(let rt=ae;rt<=_e;++rt)lg[Ze*_+rt]=255;let De=0,ze=0;for(let Ze=0;Ze<L.cellsY;++Ze)for(let rt=0;rt<L.cellsX;++rt){if(!L.cells[Ze*L.cellsX+rt])continue;const ut=u.tileCoordToPixel(L.min.x+rt/L.xScale,L.min.y+Ze/L.yScale),mt=u.tileCoordToPixel(L.min.x+(rt+1)/L.xScale,L.min.y+(Ze+1)/L.yScale);for(let St=ut.y;St<=Math.min(mt.y+1,_-1);++St)for(let yt=ut.x;yt<=Math.min(mt.x+1,_-1);++yt)lg[St*_+yt]===255&&(lg[St*_+yt]=0,De+=u.getElevationAtPixel(yt,St),ze++)}const qe=De/ze;ae=Math.max(1,F.x-ee),oe=Math.max(1,F.y-ee),_e=Math.min(W.x+ee,_-2),Re=Math.min(W.y+ee,_-2),S=!0;for(let Ze=oe;Ze<=Re;++Ze)for(let rt=ae;rt<=_e;++rt)lg[Ze*_+rt]===0&&(sR[Ze*_+rt]=u._dem.set(rt,Ze,qe));for(let Ze=1;Ze<ee;++Ze){ae=Math.max(1,F.x-Ze),oe=Math.max(1,F.y-Ze),_e=Math.min(W.x+Ze,_-2),Re=Math.min(W.y+Ze,_-2);for(let rt=oe;rt<=Re;++rt)for(let ut=ae;ut<=_e;++ut){const mt=rt*_+ut;if(lg[mt]===255){let St=0,yt=0,Ot=-1,Ht=-1;for(let Dt=-1;Dt<=1;++Dt)for(let Jt=-1;Jt<=1;++Jt){const Mt=(rt+Dt)*_+ut+Jt;if(lg[Mt]>=Ze)continue;const Ft=sR[Mt],er=Math.abs(Ft);er>yt&&(St=Ft,yt=er,Ot=Jt,Ht=Dt)}if(yt>.1){const Dt=1-(Ze+.5*Math.abs(Ot*Ht))/ee;let Jt=u._dem.get(ut,rt)+St*Dt;const Mt=u._dem.get(ut+Ot,rt+Ht),Ft=u._dem.get(ut-Ot,rt-Ht,!0);(Jt-Mt)*(Jt-Ft)>0&&(Jt=(Mt+Ft)/2),sR[mt]=u._dem.set(ut,rt,Jt),lg[mt]=Ze}}}}}S&&(u._demTile.needsDEMTextureUpload=!0,u._dem._timestamp=So.now())}getNodesInfo(){return this.nodesInfo}destroy(){const a=this.getNodesInfo();for(const u of a)aE(u.node),tR(u.node)}isEmpty(){return!this.nodesInfo.length}updateReplacement(a,u){if(u.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=u.updateTime;const f=u.getReplacementRegionsForTile(a.toUnwrapped()),h=this.getNodesInfo();for(let v=0;v<this.nodesInfo.length;v++){const _=h[v].node;h[v].hiddenByReplacement=!!_.footprint&&!f.find(S=>S.footprint===_.footprint)}}getHeightAtTileCoord(a,u){const f=this.getNodesInfo(),h=[],v=[0,0,0],_=o.ae.identity([]);for(let S=0;S<this.nodesInfo.length;S++){const P=f[S],I=P.node.meshes[0],L=I.transformedAabb;if(a<L.min[0]||u<L.min[1]||a>L.max[0]||u>L.max[1])continue;if(P.node.hidden===!0)return{height:0,maxHeight:P.feature.properties.height,hidden:!1,verticalScale:P.evaluatedScale[2]};o.ae.invert(_,P.node.matrix),v[0]=a,v[1]=u,o.$.transformMat4(v,v,_);const F=(v[0]-I.aabb.min[0])/(I.aabb.max[0]-I.aabb.min[0])*og|0,W=Math.min(63,(v[1]-I.aabb.min[1])/(I.aabb.max[1]-I.aabb.min[1])*og|0)*og+Math.min(63,F),X=I.heightmap[W];if(!(X<0&&P.node.footprint))return P.hiddenByReplacement?void 0:{height:X,maxHeight:P.feature.properties.height,hidden:!1,verticalScale:P.evaluatedScale[2]};if(P.node.footprint.grid.query(new or(a,u),new or(a,u),h),h.length>0)return{height:void 0,maxHeight:P.feature.properties.height,hidden:P.hiddenByReplacement,verticalScale:P.evaluatedScale[2]}}}}function a2(l,a){return!l.isLightConstant&&a}function lAe(l,a,u,f,h,v,_,S){let P=(61440&a|(61440&a)>>4)>>8,I=(3840&a|(3840&a)>>4)>>4,L=240&a|(240&a)>>4;u[3]>0&&(P=Rr(P,255*u[0],u[3]),I=Rr(I,255*u[1],u[3]),L=Rr(L,255*u[2],u[3]));const F=P<<8|I,W=L<<8|Math.floor(255*f[3]),X=function(Ze){const rt=pn(Ze,0,2);return Math.min(Math.round(.5*rt*255),255)}(f[2])<<8|15*f[0]<<4|15*f[1],ee=pn(h[0],0,1),ae=pn(h[1],0,1),oe=pn(h[2],0,1),_e=pn(h[3],0,1);let Re,De,ze,qe;if(ee!==ae&&_!==v&&ae!==ee){const Ze=_-v;De=1/(Ze*(ae-ee)),ze=-(v+Ze*ee)/(Ze*(ae-ee));const rt=pn(h[4],-1,1);qe=Math.pow(10,rt),Re=255*oe<<8|255*_e}else Re=65535,De=0,ze=1,qe=1;if(l.emplaceBack(F,W,X,Re,De,ze,qe),S){const Ze=S.length;S.clear();for(let rt=0;rt<Ze;rt++)S.emplaceBack(F,W,X,Re,De,ze,qe)}}function uAe(l,a,u){const f=l.node;let h=0;const v=u&E_.HasMeshoptCompression;for(const _ of f.meshes){if(f.lights&&f.lightMeshIndex===h||!_.featureData)continue;_.featureArray=new c7,_.featureArray.reserve(_.featureData.length);let S=a;for(const P of _.featureData){const I=v?65535&P:P>>16&65535,L=v?P>>16&65535:65535&P,F=(15&L)<8?15&L:0,W=l.evaluatedRMEA[F],X=l.evaluatedColor[F],ee=l.emissionHeightBasedParams[F];let ae;if(S&&F===2&&f.lights&&(ae=new c7,ae.resize(10*f.lights.length)),lAe(_.featureArray,I,X,W,ee,_.aabb.min[2],_.aabb.max[2],ae),ae&&S){S=!1;const oe=f.meshes[f.lightMeshIndex];oe.featureArray=ae,oe.featureArray._trim()}}_.featureArray._trim(),h++}}function LJ(l,a,u,f){const h=1<<l.z;a.lat=po((f/rr+l.y)/h),a.lng=rl((u/rr+l.x)/h)}lt(cE,"Tiled3dModelBucket",{omit:["layers"]}),lt($J,"Tiled3dModelFeature");const cAe={circle:class extends tl{constructor(l,a,u,f){super(l,{layout:vZ||(vZ=new ci({"circle-sort-key":new br(_t.layout_circle["circle-sort-key"]),visibility:new Yt(_t.layout_circle.visibility)})),paint:_Z||(_Z=new ci({"circle-radius":new br(_t.paint_circle["circle-radius"]),"circle-color":new br(_t.paint_circle["circle-color"]),"circle-blur":new br(_t.paint_circle["circle-blur"]),"circle-opacity":new br(_t.paint_circle["circle-opacity"]),"circle-translate":new Yt(_t.paint_circle["circle-translate"]),"circle-translate-anchor":new Yt(_t.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Yt(_t.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Yt(_t.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new br(_t.paint_circle["circle-stroke-width"]),"circle-stroke-color":new br(_t.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new br(_t.paint_circle["circle-stroke-opacity"]),"circle-emissive-strength":new Yt(_t.paint_circle["circle-emissive-strength"])}))},a,u,f)}createBucket(l){return new aD(l)}queryRadius(l){const a=l;return c_("circle-radius",this,a)+c_("circle-stroke-width",this,a)+g7(this.paint.get("circle-translate"))}queryIntersectsFeature(l,a,u,f,h,v,_,S){const P=yZ(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),v.angle,l.pixelToTileUnitsFactor),I=this.paint.get("circle-radius").evaluate(a,u)+this.paint.get("circle-stroke-width").evaluate(a,u);return RZ(l,f,v,_,S,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",P,I)}getProgramIds(){return["circle"]}getDefaultProgramParams(l,a,u){const f=DZ(this);return{config:new Y0(this,{zoom:a,lut:u}),defines:f,overrideFog:!1}}},heatmap:class extends tl{createBucket(l){return new LZ(l)}constructor(l,a,u,f){super(l,{layout:FZ||(FZ=new ci({visibility:new Yt(_t.layout_heatmap.visibility)})),paint:jZ||(jZ=new ci({"heatmap-radius":new br(_t.paint_heatmap["heatmap-radius"]),"heatmap-weight":new br(_t.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Yt(_t.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Vo(_t.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Yt(_t.paint_heatmap["heatmap-opacity"])}))},a,u,f),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Iw({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(l){return c_("heatmap-radius",this,l)}queryIntersectsFeature(l,a,u,f,h,v,_,S){const P=this.paint.get("heatmap-radius").evaluate(a,u);return RZ(l,f,v,_,S,!0,!0,new or(0,0),P)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getDefaultProgramParams(l,a,u){return l==="heatmap"?{config:new Y0(this,{zoom:a,lut:u}),overrideFog:!1}:{}}},hillshade:class extends tl{constructor(l,a,u,f){super(l,{layout:VZ||(VZ=new ci({visibility:new Yt(_t.layout_hillshade.visibility)})),paint:UZ||(UZ=new ci({"hillshade-illumination-direction":new Yt(_t.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Yt(_t.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Yt(_t.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Yt(_t.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Yt(_t.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Yt(_t.paint_hillshade["hillshade-accent-color"]),"hillshade-emissive-strength":new Yt(_t.paint_hillshade["hillshade-emissive-strength"])}))},a,u,f)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}getDefaultProgramParams(l,a,u){return{overrideFog:!1}}},fill:class extends tl{constructor(l,a,u,f){super(l,{layout:qZ||(qZ=new ci({"fill-sort-key":new br(_t.layout_fill["fill-sort-key"]),visibility:new Yt(_t.layout_fill.visibility)})),paint:ZZ||(ZZ=new ci({"fill-antialias":new Yt(_t.paint_fill["fill-antialias"]),"fill-opacity":new br(_t.paint_fill["fill-opacity"]),"fill-color":new br(_t.paint_fill["fill-color"]),"fill-outline-color":new br(_t.paint_fill["fill-outline-color"]),"fill-translate":new Yt(_t.paint_fill["fill-translate"]),"fill-translate-anchor":new Yt(_t.paint_fill["fill-translate-anchor"]),"fill-pattern":new br(_t.paint_fill["fill-pattern"]),"fill-emissive-strength":new Yt(_t.paint_fill["fill-emissive-strength"])}))},a,u,f)}getProgramIds(){const l=this.paint.get("fill-pattern"),a=l&&l.constantOr(1),u=[a?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&u.push(a&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),u}getDefaultProgramParams(l,a,u){return{config:new Y0(this,{zoom:a,lut:u}),overrideFog:!1}}recalculate(l,a){super.recalculate(l,a);const u=this.paint._values["fill-outline-color"];u.value.kind==="constant"&&u.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new A7(l)}queryRadius(){return g7(this.paint.get("fill-translate"))}queryIntersectsFeature(l,a,u,f,h,v){return!l.queryGeometry.isAboveHorizon&&fZ(gZ(l.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),v.angle,l.pixelToTileUnitsFactor),f)}isTileClipped(){return!0}},"fill-extrusion":class extends tl{constructor(l,a,u,f){super(l,{layout:DX||(DX=new ci({visibility:new Yt(_t["layout_fill-extrusion"].visibility),"fill-extrusion-edge-radius":new Yt(_t["layout_fill-extrusion"]["fill-extrusion-edge-radius"])})),paint:RX||(RX=new ci({"fill-extrusion-opacity":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new br(_t["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new br(_t["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new br(_t["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new br(_t["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-ambient-occlusion-wall-radius":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-wall-radius"]),"fill-extrusion-ambient-occlusion-ground-radius":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-radius"]),"fill-extrusion-ambient-occlusion-ground-attenuation":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-attenuation"]),"fill-extrusion-flood-light-color":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-flood-light-color"]),"fill-extrusion-flood-light-intensity":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-flood-light-intensity"]),"fill-extrusion-flood-light-wall-radius":new br(_t["paint_fill-extrusion"]["fill-extrusion-flood-light-wall-radius"]),"fill-extrusion-flood-light-ground-radius":new br(_t["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-radius"]),"fill-extrusion-flood-light-ground-attenuation":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-attenuation"]),"fill-extrusion-vertical-scale":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-vertical-scale"]),"fill-extrusion-rounded-roof":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-rounded-roof"]),"fill-extrusion-cutoff-fade-range":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-cutoff-fade-range"]),"fill-extrusion-emissive-strength":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-emissive-strength"]),"fill-extrusion-line-width":new br(_t["paint_fill-extrusion"]["fill-extrusion-line-width"]),"fill-extrusion-line-alignment":new Yt(_t["paint_fill-extrusion"]["fill-extrusion-line-alignment"])}))},a,u,f),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(l){return new D7(l)}queryRadius(){return g7(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}hasShadowPass(){return!0}cutoffRange(){return this.paint.get("fill-extrusion-cutoff-fade-range")}canCastShadows(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}queryIntersectsFeature(l,a,u,f,h,v,_,S,P){const I=yZ(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),v.angle,l.pixelToTileUnitsFactor),L=this.paint.get("fill-extrusion-height").evaluate(a,u),F=this.paint.get("fill-extrusion-base").evaluate(a,u),W=[0,0],X=S&&v.elevation,ee=v.elevation?v.elevation.exaggeration():1,ae=l.tile.getBucket(this);if(X&&ae instanceof D7){const ze=ae.centroidVertexArray,qe=P+1;qe<ze.length&&(W[0]=ze.geta_centroid_pos0(qe),W[1]=ze.geta_centroid_pos1(qe))}if(W[0]===0&&W[1]===1)return!1;v.projection.name==="globe"&&(f=OX([f],[new or(0,0),new or(rr,rr)],l.tileID.canonical).map(ze=>ze.polygon).flat());const oe=X?S:null,[_e,Re]=function(ze,qe,Ze,rt,ut,mt,St,yt,Ot,Ht,Dt){return ze.projection.name==="globe"?function(Jt,Mt,Ft,er,$t,ir,Qt,qt,Pr,Sr,pr){const nr=[],Ur=[],Tr=Jt.projection.upVectorScale(pr,Jt.center.lat,Jt.worldSize).metersToTile,_r=[0,0,0,1],Xr=[0,0,0,1],Jr=(on,Mn,_n,si)=>{on[0]=Mn,on[1]=_n,on[2]=si,on[3]=1},Yr=kX();Ft>0&&(Ft+=Yr),er+=Yr;for(const on of Mt){const Mn=[],_n=[];for(const si of on){const di=si.x+$t.x,Qr=si.y+$t.y,Yn=Jt.projection.projectTilePoint(di,Qr,pr),Jn=Jt.projection.upVector(pr,si.x,si.y);let Ai=Ft,ia=er;if(Qt){const ya=LX(di,Qr,Ft,er,Qt,qt,Pr,Sr);Ai+=ya.base,ia+=ya.top}Ft!==0?Jr(_r,Yn.x+Jn[0]*Tr*Ai,Yn.y+Jn[1]*Tr*Ai,Yn.z+Jn[2]*Tr*Ai):Jr(_r,Yn.x,Yn.y,Yn.z),Jr(Xr,Yn.x+Jn[0]*Tr*ia,Yn.y+Jn[1]*Tr*ia,Yn.z+Jn[2]*Tr*ia),o.$.transformMat4(_r,_r,ir),o.$.transformMat4(Xr,Xr,ir),Mn.push(new rg(_r[0],_r[1],_r[2])),_n.push(new rg(Xr[0],Xr[1],Xr[2]))}nr.push(Mn),Ur.push(_n)}return[nr,Ur]}(ze,qe,Ze,rt,ut,mt,St,yt,Ot,Ht,Dt):St?function(Jt,Mt,Ft,er,$t,ir,Qt,qt,Pr){const Sr=[],pr=[],nr=[0,0,0,1];for(const Ur of Jt){const Tr=[],_r=[];for(const Xr of Ur){const Jr=Xr.x+er.x,Yr=Xr.y+er.y,on=LX(Jr,Yr,Mt,Ft,ir,Qt,qt,Pr);nr[0]=Jr,nr[1]=Yr,nr[2]=on.base,nr[3]=1,o.aB.transformMat4(nr,nr,$t),nr[3]=Math.max(nr[3],1e-5);const Mn=new rg(nr[0]/nr[3],nr[1]/nr[3],nr[2]/nr[3]);nr[0]=Jr,nr[1]=Yr,nr[2]=on.top,nr[3]=1,o.aB.transformMat4(nr,nr,$t),nr[3]=Math.max(nr[3],1e-5);const _n=new rg(nr[0]/nr[3],nr[1]/nr[3],nr[2]/nr[3]);Tr.push(Mn),_r.push(_n)}Sr.push(Tr),pr.push(_r)}return[Sr,pr]}(qe,Ze,rt,ut,mt,St,yt,Ot,Ht):function(Jt,Mt,Ft,er,$t){const ir=[],Qt=[],qt=$t[8]*Mt,Pr=$t[9]*Mt,Sr=$t[10]*Mt,pr=$t[11]*Mt,nr=$t[8]*Ft,Ur=$t[9]*Ft,Tr=$t[10]*Ft,_r=$t[11]*Ft;for(const Xr of Jt){const Jr=[],Yr=[];for(const on of Xr){const Mn=on.x+er.x,_n=on.y+er.y,si=$t[0]*Mn+$t[4]*_n+$t[12],di=$t[1]*Mn+$t[5]*_n+$t[13],Qr=$t[2]*Mn+$t[6]*_n+$t[14],Yn=$t[3]*Mn+$t[7]*_n+$t[15],Jn=si+qt,Ai=di+Pr,ia=Qr+Sr,ya=Math.max(Yn+pr,1e-5),aa=si+nr,qi=di+Ur,no=Qr+Tr,Ia=Math.max(Yn+_r,1e-5);Jr.push(new rg(Jn/ya,Ai/ya,ia/ya)),Yr.push(new rg(aa/Ia,qi/Ia,no/Ia))}ir.push(Jr),Qt.push(Yr)}return[ir,Qt]}(qe,Ze,rt,ut,mt)}(v,f,F,L,I,_,oe,W,ee,v.center.lat,l.tileID.canonical),De=l.queryGeometry;return function(ze,qe,Ze){let rt=1/0;fZ(Ze,qe)&&(rt=$X(Ze,qe[0]));for(let ut=0;ut<qe.length;ut++){const mt=qe[ut],St=ze[ut];for(let yt=0;yt<mt.length-1;yt++){const Ot=mt[yt],Ht=[Ot,mt[yt+1],St[yt+1],St[yt],Ot];oD(Ze,Ht)&&(rt=Math.min(rt,$X(Ze,Ht)))}}return rt!==1/0&&rt}(_e,Re,De.isPointQuery()?De.screenBounds:De.screenGeometry)}},line:class extends tl{constructor(l,a,u,f){const h=KY();super(l,h,a,u,f),h.layout&&(this.layout=new fo(h.layout)),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const a=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=a._styleExpression&&a._styleExpression.expression instanceof Xh,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(l,a){super.recalculate(l,a),this.paint._values["line-floorwidth"]=(()=>{if(Qw)return Qw;const u=KY();return Qw=new BEe(u.paint.properties["line-width"].specification),Qw.useIntegerZoom=!0,Qw})().possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new R7(l)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getDefaultProgramParams(l,a,u){const f=HX(this);return{config:new Y0(this,{zoom:a,lut:u}),defines:f,overrideFog:!1}}queryRadius(l){const a=l,u=qY(c_("line-width",this,a),c_("line-gap-width",this,a)),f=c_("line-offset",this,a);return u/2+Math.abs(f)+g7(this.paint.get("line-translate"))}queryIntersectsFeature(l,a,u,f,h,v){if(l.queryGeometry.isAboveHorizon)return!1;const _=gZ(l.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),v.angle,l.pixelToTileUnitsFactor),S=l.pixelToTileUnitsFactor/2*qY(this.paint.get("line-width").evaluate(a,u),this.paint.get("line-gap-width").evaluate(a,u)),P=this.paint.get("line-offset").evaluate(a,u);return P&&(f=function(I,L){const F=[],W=new or(0,0);for(let X=0;X<I.length;X++){const ee=I[X],ae=[];for(let oe=0;oe<ee.length;oe++){const _e=ee[oe],Re=ee[oe+1],De=oe===0?W:_e.sub(ee[oe-1])._unit()._perp(),ze=oe===ee.length-1?W:Re.sub(_e)._unit()._perp(),qe=De._add(ze)._unit();qe._mult(1/(qe.x*ze.x+qe.y*ze.y)),ae.push(qe._mult(L)._add(_e))}F.push(ae)}return F}(f,P*l.pixelToTileUnitsFactor)),function(I,L,F){for(let W=0;W<L.length;W++){const X=L[W];if(I.length>=3){for(let ee=0;ee<X.length;ee++)if(sm(I,X[ee]))return!0}if(uSe(I,X,F))return!0}return!1}(_,f,S)}isTileClipped(){return!0}isDraped(l){const a=this.layout.get("line-z-offset");return a.isConstant()&&!a.constantOr(0)}},symbol:Q7,background:class extends tl{constructor(l,a,u,f){super(l,{layout:XY||(XY=new ci({visibility:new Yt(_t.layout_background.visibility)})),paint:YY||(YY=new ci({"background-color":new Yt(_t.paint_background["background-color"]),"background-pattern":new Yt(_t.paint_background["background-pattern"]),"background-opacity":new Yt(_t.paint_background["background-opacity"]),"background-emissive-strength":new Yt(_t.paint_background["background-emissive-strength"])}))},a,u,f)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}getDefaultProgramParams(l,a,u){return{overrideFog:!1}}},raster:rJ,"raster-particle":lJ,sky:class extends tl{constructor(l,a,u,f){super(l,{layout:aJ||(aJ=new ci({visibility:new Yt(_t.layout_sky.visibility)})),paint:oJ||(oJ=new ci({"sky-type":new Yt(_t.paint_sky["sky-type"]),"sky-atmosphere-sun":new Yt(_t.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Yt(_t.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Yt(_t.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Yt(_t.paint_sky["sky-gradient-radius"]),"sky-gradient":new Vo(_t.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Yt(_t.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Yt(_t.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Yt(_t.paint_sky["sky-opacity"])}))},a,u,f),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="sky-gradient"?this._updateColorRamp():l!=="sky-atmosphere-sun"&&l!=="sky-atmosphere-halo-color"&&l!=="sky-atmosphere-color"&&l!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Iw({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(l){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const a=l.style.light.properties.get("position");return this._lightPosition.azimuthal!==a.azimuthal||this._lightPosition.polar!==a.polar}return!1}getCenter(l,a){if(this.paint.get("sky-type")==="atmosphere"){const f=this.paint.get("sky-atmosphere-sun"),h=!f,v=l.style.light,_=v.properties.get("position");return h&&v.properties.get("anchor")==="viewport"&&la("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),h?YD(_.azimuthal,90-_.polar,a):YD(f[0],90-f[1],a)}const u=this.paint.get("sky-gradient-center");return YD(u[0],90-u[1],a)}isSky(){return!0}markSkyboxValid(l){this._skyboxInvalidated=!1,this._lightPosition=l.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const l=this.paint.get("sky-type");return l==="atmosphere"?["skyboxCapture","skybox"]:l==="gradient"?["skyboxGradient"]:null}},slot:class extends tl{constructor(l,a,u,f){super(l,{paint:sJ||(sJ=new ci({}))},a,null)}},model:class extends tl{constructor(l,a,u,f){super(l,{layout:vJ||(vJ=new ci({visibility:new Yt(_t.layout_model.visibility),"model-id":new br(_t.layout_model["model-id"])})),paint:_J||(_J=new ci({"model-opacity":new Yt(_t.paint_model["model-opacity"]),"model-rotation":new br(_t.paint_model["model-rotation"]),"model-scale":new br(_t.paint_model["model-scale"]),"model-translation":new br(_t.paint_model["model-translation"]),"model-color":new br(_t.paint_model["model-color"]),"model-color-mix-intensity":new br(_t.paint_model["model-color-mix-intensity"]),"model-type":new Yt(_t.paint_model["model-type"]),"model-cast-shadows":new Yt(_t.paint_model["model-cast-shadows"]),"model-receive-shadows":new Yt(_t.paint_model["model-receive-shadows"]),"model-ambient-occlusion-intensity":new Yt(_t.paint_model["model-ambient-occlusion-intensity"]),"model-emissive-strength":new br(_t.paint_model["model-emissive-strength"]),"model-roughness":new br(_t.paint_model["model-roughness"]),"model-height-based-emissive-strength-multiplier":new br(_t.paint_model["model-height-based-emissive-strength-multiplier"]),"model-cutoff-fade-range":new Yt(_t.paint_model["model-cutoff-fade-range"]),"model-front-cutoff":new Yt(_t.paint_model["model-front-cutoff"])}))},a,u,f),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(l){return new QD(l)}getProgramIds(){return["model"]}is3D(){return!0}hasShadowPass(){return!0}canCastShadows(){return!0}hasLightBeamPass(){return!0}cutoffRange(){return this.paint.get("model-cutoff-fade-range")}queryRadius(l){return l instanceof cE?rr-1:0}queryIntersectsFeature(l,a,u,f,h,v){if(!this.modelManager)return!1;const _=this.modelManager,S=l.tile.getBucket(this);if(!(S&&S instanceof QD))return!1;const P=S;for(const I in P.instancesPerModel){const L=P.instancesPerModel[I],F=a.id!==void 0?a.id:a.properties&&a.properties.hasOwnProperty("id")?a.properties.id:void 0;if(L.idToFeaturesIndex.hasOwnProperty(F)){const W=L.features[L.idToFeaturesIndex[F]],X=_.getModel(I,this.scope);if(!X)return!1;let ee=o.ae.create();const ae=new Wn(0,0),oe=P.canonical;let _e=Number.MAX_VALUE;for(let Re=0;Re<W.instancedDataCount;++Re){const De=16*(W.instancedDataOffset+Re),ze=L.instancedDataArray.float32,qe=[ze[De+4],ze[De+5],ze[De+6]];LJ(oe,ae,ze[De],0|ze[De+1]),bJ(ee,X,v,ae,W.rotation,W.scale,qe,!1,!1,!1),v.projection.name==="globe"&&(ee=JD(ee,v));const Ze=o.ae.multiply([],v.projMatrix,ee),rt=l.queryGeometry,ut=hJ(rt.isPointQuery()?rt.screenBounds:rt.screenGeometry,v,Ze,X.aabb);ut!=null&&(_e=Math.min(ut,_e))}return _e!==Number.MAX_VALUE&&_e}}return!1}_handleOverridablePaintPropertyUpdate(l,a,u){return!(!this.layout||a.isDataDriven()||u.isDataDriven()||l!=="model-color"&&l!=="model-color-mix-intensity"&&l!=="model-rotation"&&l!=="model-scale"&&l!=="model-translation"&&l!=="model-emissive-strength")}_isPropertyZoomDependent(l){const a=this._transitionablePaint._values[l];return a!=null&&a.value!=null&&a.value.expression!=null&&a.value.expression instanceof He}isZoomDependent(){return this._isPropertyZoomDependent("model-scale")||this._isPropertyZoomDependent("model-rotation")||this._isPropertyZoomDependent("model-translation")}queryIntersectsMatchingFeature(l,a,u,f){const h=l.tile,v=h.getBucket(this);let _=null,S=Number.MAX_VALUE;if(!(v&&v instanceof cE))return{queryFeature:_,intersectionZ:S};const P=v.getNodesInfo()[a];if(P.hiddenByReplacement||!P.node.meshes||!u.filter(new Wr(h.tileID.overscaledZ),P.feature,h.tileID.canonical))return{queryFeature:_,intersectionZ:S};const I=P.node,L=f.calculatePosMatrix(h.tileID.toUnwrapped(),f.worldSize),F=P.evaluatedScale;let W=0;f.elevation&&I.elevation&&(W=I.elevation*f.elevation.exaggeration()),o.ae.translate(L,L,[(I.anchor?I.anchor[0]:0)*(F[0]-1),(I.anchor?I.anchor[1]:0)*(F[1]-1),W]),o.ae.scale(L,L,F),o.ae.multiply(L,L,I.matrix);const X=l.queryGeometry,ee=X.isPointQuery()?X.screenBounds:X.screenGeometry,ae=function(_e){const Re=o.ae.multiply([],L,_e.matrix),De=o.ae.multiply(Re,f.expandedFarZProjMatrix,Re);for(let ze=0;ze<_e.meshes.length;++ze){const qe=_e.meshes[ze];if(ze===_e.lightMeshIndex)continue;const Ze=hJ(ee,f,De,qe.aabb);Ze!=null&&(S=Math.min(Ze,S))}if(_e.children)for(const ze of _e.children)ae(ze)};if(ae(I),S===Number.MAX_VALUE)return{queryFeature:_,intersectionZ:S};const oe=new Wn(0,0);return LJ(h.tileID.canonical,oe,P.node.anchor[0],P.node.anchor[1]),_={type:"Feature",geometry:{type:"Point",coordinates:[oe.lng,oe.lat]},properties:P.feature.properties,id:P.feature.id,state:{},layer:this.serialize()},{queryFeature:_,intersectionZ:S}}},clip:class extends tl{constructor(l,a,u,f){super(l,{layout:XZ||(XZ=new ci({"clip-layer-types":new Yt(_t.layout_clip["clip-layer-types"]),"clip-layer-scope":new Yt(_t.layout_clip["clip-layer-scope"])})),paint:YZ||(YZ=new ci({}))},a,u,f)}recalculate(l,a){super.recalculate(l,a)}createBucket(l){return new JZ(l)}isTileClipped(){return!0}is3D(){return!0}}};lt(VY,"MRTDecodingBatch",{omit:["_onCancel","_onComplete"]});const BJ=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class lR{static from(a){if(!(a instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[u,f]=new Uint8Array(a,0,2);if(u!==219)throw new Error("Data does not appear to be in a KDBush format.");const h=f>>4;if(h!==1)throw new Error(`Got v${h} data when expected v1.`);const v=BJ[15&f];if(!v)throw new Error("Unrecognized array type.");const[_]=new Uint16Array(a,2,1),[S]=new Uint32Array(a,4,1);return new lR(S,_,v,a)}constructor(a,u=64,f=Float64Array,h){if(isNaN(a)||a<0)throw new Error(`Unpexpected numItems value: ${a}.`);this.numItems=+a,this.nodeSize=Math.min(Math.max(+u,2),65535),this.ArrayType=f,this.IndexArrayType=a<65536?Uint16Array:Uint32Array;const v=BJ.indexOf(this.ArrayType),_=2*a*this.ArrayType.BYTES_PER_ELEMENT,S=a*this.IndexArrayType.BYTES_PER_ELEMENT,P=(8-S%8)%8;if(v<0)throw new Error(`Unexpected typed array class: ${f}.`);h&&h instanceof ArrayBuffer?(this.data=h,this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+S+P,2*a),this._pos=2*a,this._finished=!0):(this.data=new ArrayBuffer(8+_+S+P),this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+S+P,2*a),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+v]),new Uint16Array(this.data,2,1)[0]=u,new Uint32Array(this.data,4,1)[0]=a)}add(a,u){const f=this._pos>>1;return this.ids[f]=f,this.coords[this._pos++]=a,this.coords[this._pos++]=u,f}finish(){const a=this._pos>>1;if(a!==this.numItems)throw new Error(`Added ${a} items when expected ${this.numItems}.`);return uR(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(a,u,f,h){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:v,coords:_,nodeSize:S}=this,P=[0,v.length-1,0],I=[];for(;P.length;){const L=P.pop()||0,F=P.pop()||0,W=P.pop()||0;if(F-W<=S){for(let oe=W;oe<=F;oe++){const _e=_[2*oe],Re=_[2*oe+1];_e>=a&&_e<=f&&Re>=u&&Re<=h&&I.push(v[oe])}continue}const X=W+F>>1,ee=_[2*X],ae=_[2*X+1];ee>=a&&ee<=f&&ae>=u&&ae<=h&&I.push(v[X]),(L===0?a<=ee:u<=ae)&&(P.push(W),P.push(X-1),P.push(1-L)),(L===0?f>=ee:h>=ae)&&(P.push(X+1),P.push(F),P.push(1-L))}return I}within(a,u,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:h,coords:v,nodeSize:_}=this,S=[0,h.length-1,0],P=[],I=f*f;for(;S.length;){const L=S.pop()||0,F=S.pop()||0,W=S.pop()||0;if(F-W<=_){for(let oe=W;oe<=F;oe++)NJ(v[2*oe],v[2*oe+1],a,u)<=I&&P.push(h[oe]);continue}const X=W+F>>1,ee=v[2*X],ae=v[2*X+1];NJ(ee,ae,a,u)<=I&&P.push(h[X]),(L===0?a-f<=ee:u-f<=ae)&&(S.push(W),S.push(X-1),S.push(1-L)),(L===0?a+f>=ee:u+f>=ae)&&(S.push(X+1),S.push(F),S.push(1-L))}return P}}function uR(l,a,u,f,h,v){if(h-f<=u)return;const _=f+h>>1;zJ(l,a,_,f,h,v),uR(l,a,u,f,_-1,1-v),uR(l,a,u,_+1,h,1-v)}function zJ(l,a,u,f,h,v){for(;h>f;){if(h-f>600){const I=h-f+1,L=u-f+1,F=Math.log(I),W=.5*Math.exp(2*F/3),X=.5*Math.sqrt(F*W*(I-W)/I)*(L-I/2<0?-1:1);zJ(l,a,u,Math.max(f,Math.floor(u-L*W/I+X)),Math.min(h,Math.floor(u+(I-L)*W/I+X)),v)}const _=a[2*u+v];let S=f,P=h;for(o2(l,a,f,u),a[2*h+v]>_&&o2(l,a,f,h);S<P;){for(o2(l,a,S,P),S++,P--;a[2*S+v]<_;)S++;for(;a[2*P+v]>_;)P--}a[2*f+v]===_?o2(l,a,f,P):(P++,o2(l,a,P,h)),P<=u&&(f=P+1),u<=P&&(h=P-1)}}function o2(l,a,u,f){cR(l,u,f),cR(a,2*u,2*f),cR(a,2*u+1,2*f+1)}function cR(l,a,u){const f=l[a];l[a]=l[u],l[u]=f}function NJ(l,a,u,f){const h=l-u,v=a-f;return h*h+v*v}o.A=Kv,o.B=V0,o.C=Hn,o.D=F0,o.E=$f,o.F=Ss,o.H=kc,o.I=ig,o.J=Q,o.K=z,o.L=function(l){const a=l.value;let u=[];if(!a)return u;const f=Md(a);return f!=="string"?(u=u.concat([new iE(l.key,a,`string expected, "${f}" found`)]),u):(mJ(a,!0)||(u=u.concat([new iE(l.key,a,`invalid url "${a}"`)])),u)},o.M=class{constructor(l,a,u,f){this.id=l,this.position=a!=null?new Wn(a[0],a[1]):new Wn(0,0),this.orientation=u??[0,0,0],this.nodes=f,this.uploaded=!1,this.aabb=new Fi([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[]}_applyTransformations(l,a){if(o.ae.multiply(l.matrix,a,l.matrix),l.meshes)for(const u of l.meshes){const f=Fi.applyTransformFast(u.aabb,l.matrix);this.aabb.encapsulate(f)}if(l.children)for(const u of l.children)this._applyTransformations(u,l.matrix)}computeBoundsAndApplyParent(){const l=o.ae.identity([]);for(const a of this.nodes)this._applyTransformations(a,l)}computeModelMatrix(l,a,u,f,h,v,_=!1){bJ(this.matrix,this,l.transform,this.position,a,u,f,h,v,_)}upload(l){if(!this.uploaded){for(const a of this.nodes)eR(a,l);for(const a of this.nodes)aE(a);this.uploaded=!0}}destroy(){for(const l of this.nodes)tR(l)}},o.N=_t,o.O=To,o.P=or,o.Q=bo,o.R=x0,o.S=WO,o.T=zu,o.U=ci,o.V=iE,o.W=Yt,o.X=class{constructor(l){this.specification=l}possiblyEvaluate(l,a){return Bh(l.expression.evaluate(a))}interpolate(l,a,u){return{x:Rr(l.x,a.x,u),y:Rr(l.y,a.y,u),z:Rr(l.z,a.z,u),azimuthal:Rr(l.azimuthal,a.azimuthal,u),polar:Rr(l.polar,a.polar,u)}}},o.Y=Wr,o.Z=He,o._=Uo,o.a=Pl,o.a$=dD,o.a0=D3,o.a1=fo,o.a2=Zf,o.a3=Rr,o.a4=rr,o.a5=Y3,o.a6=class{constructor(l){this.specification=l}possiblyEvaluate(l,a){return function([u,f]){const h=Bh([1,u,f]);return{x:h.x,y:h.y,z:h.z}}(l.expression.evaluate(a))}interpolate(l,a,u){return{x:Rr(l.x,a.x,u),y:Rr(l.y,a.y,u),z:Rr(l.z,a.z,u)}}},o.a7=Sw,o.a8=f7,o.a9=Kf,o.aA=function(l,a,u){l[4*a+0]=u[0],l[4*a+1]=u[1],l[4*a+2]=u[2],l[4*a+3]=u[3]},o.aC=function(l,a){const{x:u,y:f}=l.point,h=MZ(u,f,l.worldSize/l._pixelsPerMercatorPixel,0,0);return o.ae.multiply(h,h,mD(zd(a)))},o.aE=g_,o.aF=eu,o.aG=B7,o.aH=function(l,a,u,f,h){const v=5*a+2;l.float32[v+0]=u,l.float32[v+1]=f,l.float32[v+2]=h},o.aI=q7,o.aJ=Wn,o.aK=kY,o.aL=oZ,o.aM=fD,o.aN=cJ,o.aO=Q0,o.aP=PZ,o.aQ=za,o.aR=function(l,a,u,f,h,v,_,S,P){if(P.name==="globe")return PZ(l,a,new Q0(u,f,h),!1);const I=ng({z:u,x:f,y:h},P);return new Fi([(v+I.x/I.scale)*a,a*(I.y/I.scale),_],[(v+I.x2/I.scale)*a,a*(I.y2/I.scale),S])},o.aS=function(l,a,u){let f=0;for(let h=0;h<2;++h)l[h]>0&&(f+=(l[h]-0)*(l[h]-0)),a[h]<0&&(f+=(0-a[h])*(0-a[h]));return f},o.aT=da,o.aU=cD,o.aV=iZ,o.aW=function(l){const a=o.ae.identity(new Float64Array(16));o.ae.multiply(a,l.pixelMatrix,l.globeMatrix);const u=[0,Lu,0],f=[0,Bu,0];return o.$.transformMat4(u,u,a),o.$.transformMat4(f,f,a),[u[0]>0&&u[0]<=l.width&&u[1]>0&&u[1]<=l.height&&!yD(l,new Wn(l.center.lat,90)),f[0]>0&&f[0]<=l.width&&f[1]>0&&f[1]<=l.height&&!yD(l,new Wn(l.center.lat,-90))]},o.aX=function(l,a){const{scale:u}=l.tileTransform,f=u*rr/(l.tileSize*Math.pow(2,a.zoom-l.tileID.overscaledZ+l.tileID.canonical.z));return o.aD.scale(new Float32Array(4),a.inverseAdjustmentMatrix,[f,f])},o.aY=rE,o.aZ=uJ,o.a_=function(l){const a=uJ(l,!0);return o.aD.invert([],[a[0],a[1],a[4],a[5]])},o.aa=rZ,o.ab=Es,o.ac=Sn,o.ad=function(l,a,u){const f=Math.sqrt(l*l+a*a+u*u),h=f>0?Math.acos(u/f)*Rh:0;let v=l!==0||a!==0?Math.atan2(-a,-l)*Rh+90:0;return v<0&&(v+=360),[f,v,h]},o.af=w_,o.ag=zc,o.ah=jD,o.ai=function(l,a){const u={};for(let f=0;f<a.length;f++){const h=a[f];h in l&&(u[h]=l[h])}return u},o.aj=om,o.ak=Ld,o.al=Bd,o.am=Nq,o.an=function(l){Tv++,Tv>F3&&(l.getActor().send("enforceCacheSizeLimit",N3),Tv=0)},o.ao=H3,o.ap=class{constructor(l){this.entries={},this.scheduler=l}request(l,a,u,f){const h=this.entries[l]=this.entries[l]||{callbacks:[]};if(h.result){const[v,_]=h.result;return this.scheduler?this.scheduler.add(()=>{f(v,_)},a):f(v,_),()=>{}}return h.callbacks.push(f),h.cancel||(h.cancel=u((v,_)=>{h.result=[v,_];for(const S of h.callbacks)this.scheduler?this.scheduler.add(()=>{S(v,_)},a):S(v,_);setTimeout(()=>delete this.entries[l],3e3)})),()=>{h.result||(h.callbacks=h.callbacks.filter(v=>v!==f),h.callbacks.length||(h.cancel(),delete this.entries[l]))}}},o.aq=function(l,a,u){const f=JSON.stringify(l.request);return l.data&&(this.deduped.entries[f]={result:[null,l.data]}),this.deduped.request(f,{type:"parseTile",isSymbolTile:l.isSymbolTile,zoom:l.tileZoom},h=>{const v=kf(l.request,(_,S,P,I)=>{_?h(_):S&&h(null,{vectorTile:u?void 0:new ED(new zw(S)),rawData:S,cacheControl:P,expires:I})});return()=>{v.cancel(),h()}},a)},o.ar=qO,o.as=class extends Wf{constructor(l){super(l),this.current=Z9e}set(l,a,u){if(this.fetchUniformLocation(l,a)){for(let f=0;f<9;f++)if(u[f]!==this.current[f]){this.current=u,this.gl.uniformMatrix3fv(this.location,!1,u);break}}}},o.at=ZO,o.au=pn,o.av=$h,o.ax=Id,o.ay=Ts,o.az=po,o.b=Ki,o.b$=nSe,o.b0=function(l){const{x:a,y:u}=l.point,{lng:f,lat:h}=l._center;return MZ(a,u,l.worldSize,f,h)},o.b1=os,o.b2=l_,o.b3=JO,o.b4=function(l){const a=Math.round((l+45+360)%360/90)%4;return c0[a]},o.b5=45,o.b6=tD,o.b7=p7,o.b8=Fi,o.b9=Bh,o.bA=J7,o.bB=NZ,o.bC=function(l,a){return[Math.pow(l[0],2.2)*a,Math.pow(l[1],2.2)*a,Math.pow(l[2],2.2)*a]},o.bD=UX,o.bF=IZ,o.bG=yS,o.bH=gS,o.bI=256,o.bJ=function(l,a){const u=[0,0,0],f=Cw(zd(a.canonical));return o.$.transformMat4(u,u,f),o.$.transformMat4(u,u,l),u},o.bK=l=>({u_camera_to_center_distance:new Es(l),u_extrude_scale:new XO(l),u_device_pixel_ratio:new Es(l),u_matrix:new Sw(l),u_inv_rot_matrix:new Sw(l),u_merc_center:new Kf(l),u_tile_id:new qO(l),u_zoom_transition:new Es(l),u_up_dir:new qO(l),u_emissive_strength:new Es(l)}),o.bL=l=>({u_matrix:new Sw(l),u_pixels_to_tile_units:new XO(l),u_device_pixel_ratio:new Es(l),u_units_to_pixels:new Kf(l),u_dash_image:new f7(l),u_gradient_image:new f7(l),u_image_height:new Es(l),u_texsize:new Kf(l),u_tile_units_to_pixels:new Es(l),u_alpha_discard_threshold:new Es(l),u_trim_offset:new Kf(l),u_trim_fade_range:new Kf(l),u_trim_color:new ZO(l),u_emissive_strength:new Es(l)}),o.bM=l=>({u_matrix:new Sw(l),u_texsize:new Kf(l),u_pixels_to_tile_units:new XO(l),u_device_pixel_ratio:new Es(l),u_image:new f7(l),u_units_to_pixels:new Kf(l),u_tile_units_to_pixels:new Es(l),u_alpha_discard_threshold:new Es(l),u_trim_offset:new Kf(l)}),o.bN=BO,o.bO=v7e,o.bP=Io,o.bQ=$7e,o.bR=wY,o.bS=OD,o.bT=DZ,o.bU=(l,a,u,f,h,v)=>{const _=l.transform,S=_.projection.name==="globe";let P;if(v.paint.get("circle-pitch-alignment")==="map")if(S){const L=IZ(_.zoom,a.canonical)*_._pixelsPerMercatorPixel;P=Float32Array.from([L,0,0,L])}else P=_.calculatePixelsToTileUnitsMatrix(u);else P=new Float32Array([_.pixelsToGLUnits[0],0,0,_.pixelsToGLUnits[1]]);const I={u_camera_to_center_distance:l.transform.getCameraToCenterDistance(_.projection),u_matrix:l.translatePosMatrix(a.projMatrix,u,v.paint.get("circle-translate"),v.paint.get("circle-translate-anchor")),u_device_pixel_ratio:So.devicePixelRatio,u_extrude_scale:P,u_inv_rot_matrix:ySe,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:v.paint.get("circle-emissive-strength")};if(S){I.u_inv_rot_matrix=f,I.u_merc_center=h,I.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],I.u_zoom_transition=Zf(_.zoom);const L=h[0]*rr,F=h[1]*rr;I.u_up_dir=_.projection.upVector(new Q0(0,0,0),L,F)}return I},o.bV=HX,o.bW=(l,a,u,f,h,v)=>{const _=l.transform;return{u_matrix:KX(l,a,u,f),u_texsize:a.imageAtlasTexture?a.imageAtlasTexture.size:[0,0],u_pixels_to_tile_units:_.calculatePixelsToTileUnitsMatrix(a),u_device_pixel_ratio:h,u_image:0,u_tile_units_to_pixels:WX(a,_),u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]],u_alpha_discard_threshold:0,u_trim_offset:v}},o.bX=(l,a,u,f,h,v,_)=>{const S=l.transform,P=S.calculatePixelsToTileUnitsMatrix(a);return{u_matrix:KX(l,a,u,f),u_pixels_to_tile_units:P,u_device_pixel_ratio:v,u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:h,u_texsize:GX(u)&&a.lineAtlasTexture?a.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:WX(a,l.transform),u_alpha_discard_threshold:0,u_trim_offset:_,u_trim_fade_range:u.paint.get("line-trim-fade-range"),u_trim_color:u.paint.get("line-trim-color").toRenderColor(u.lut).toArray01(),u_emissive_strength:u.paint.get("line-emissive-strength")}},o.bY=Mf,o.bZ=Iw,o.b_=kX,o.ba=function(l){return[Math.pow(l[0],1/2.2),Math.pow(l[1],1/2.2),Math.pow(l[2],1/2.2)]},o.bb=vv,o.bc=function(l,a,u){const f=Zf(u.zoom),h=l.style.map._antialias,v=a.options.extStandardDerivativesForceOff||l.terrain&&l.terrain.exaggeration()>0;return f===0&&!h&&!v},o.bd=function(l){const a=l.pixelsPerMeter,u=a/Ts(1,l.center.lat),f=o.ae.identity(new Float64Array(16));return o.ae.translate(f,f,[l.point.x,l.point.y,0]),o.ae.scale(f,f,[u,u,a]),Float32Array.from(f)},o.be=_7,o.bf=function(l){const a=da-5;l=pn(l,-a,a)/a*90;const u=Math.pow(Math.abs(Math.sin(Sn(l))),3);return Math.round(u*(QO.length-1))},o.bg=function(l,a,u,f){const h=a.getNorth(),v=a.getSouth(),_=a.getWest(),S=a.getEast(),P=1<<l.z,I=S-_,L=h-v,F=I/a_,W=-L/QO[u],X=[0,F,0,W,0,0,h,_,0];if(l.z>0){const ee=180/f;o.bE.multiply(X,X,[ee/I+1,0,0,0,ee/L+1,0,-.5*ee/F,.5*ee/W,1])}return X[2]=P,X[5]=l.x,X[8]=l.y,X},o.bh=Cw,o.bi=zd,o.bj=function(l,a,u){const f=o.ae.identity(new Float64Array(16)),h=(a/(1<<l)-.5)*Math.PI*2;return o.ae.rotateY(f,u.globeMatrix,h),Float32Array.from(f)},o.bk=B3,o.bl=function(l){return l<=1?1:Math.pow(2,Math.floor(Math.log(l)/Math.LN2))},o.bm=rJ,o.bn=lJ,o.bo=tJ,o.bp=function(l,a){const u=document.createElement("video");u.muted=!0,u.onloadstart=function(){a(null,u)};for(let f=0;f<l.length;f++){const h=document.createElement("source");iO(l[f])||(u.crossOrigin="Anonymous"),h.src=l[f],u.appendChild(h)}return{cancel:()=>{}}},o.bq=Z7,o.br=xv,o.bs=class{isDataAvailableAtPoint(l){const a=this._source();if(this.isUsingMockSource()||!a||l.y<0||l.y>1)return!1;const u=a.getSource().maxzoom,f=1<<u,h=Math.floor(l.x),v=Math.floor((l.x-h)*f),_=Math.floor(l.y*f),S=this.findDEMTileFor(new za(u,h,u,v,_));return!(!S||!S.dem)}getAtPointOrZero(l,a=0){return this.getAtPoint(l,a)||0}getAtPoint(l,a,u=!0){if(this.isUsingMockSource())return null;a==null&&(a=null);const f=this._source();if(!f||l.y<0||l.y>1)return a;const h=f.getSource().maxzoom,v=1<<h,_=Math.floor(l.x),S=l.x-_,P=new za(h,_,h,Math.floor(S*v),Math.floor(l.y*v)),I=this.findDEMTileFor(P);if(!I||!I.dem)return a;const L=I.dem,F=1<<I.tileID.canonical.z,W=(S*F-I.tileID.canonical.x)*L.dim,X=(l.y*F-I.tileID.canonical.y)*L.dim,ee=Math.floor(W),ae=Math.floor(X);return(u?this.exaggeration():1)*Rr(Rr(L.get(ee,ae),L.get(ee,ae+1),X-ae),Rr(L.get(ee+1,ae),L.get(ee+1,ae+1),X-ae),W-ee)}getAtTileOffset(l,a,u){const f=1<<l.canonical.z;return this.getAtPointOrZero(new Uo(l.wrap+(l.canonical.x+a/rr)/f,(l.canonical.y+u/rr)/f))}getAtTileOffsetFunc(l,a,u,f){return h=>{const v=this.getAtTileOffset(l,h.x,h.y),_=f.upVector(l.canonical,h.x,h.y),S=f.upVectorScale(l.canonical,a,u).metersToTile;return o.$.scale(_,_,v*S),_}}getForTilePoints(l,a,u,f){if(this.isUsingMockSource())return!1;const h=p_.create(this,l,f);return!!h&&(a.forEach(v=>{v[2]=this.exaggeration()*h.getElevationAt(v[0],v[1],u)}),!0)}getMinMaxForTile(l){if(this.isUsingMockSource())return null;const a=this.findDEMTileFor(l);if(!a||!a.dem)return null;const u=a.dem.tree,f=a.tileID,h=1<<l.canonical.z-f.canonical.z;let v=l.canonical.x/h-f.canonical.x,_=l.canonical.y/h-f.canonical.y,S=0;for(let P=0;P<l.canonical.z-f.canonical.z&&!u.leaves[S];P++){v*=2,_*=2;const I=2*Math.floor(_)+Math.floor(v);S=u.childOffsets[S]+I,v%=1,_%=1}return{min:this.exaggeration()*u.minimums[S],max:this.exaggeration()*u.maximums[S]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(l,a,u){throw new Error("Pure virtual method called.")}pointCoordinate(l){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(l){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}getMinMaxForVisibleTiles(){const l=this.visibleDemTiles;if(l.length===0)return null;let a=!1,u=Number.MAX_VALUE,f=Number.MIN_VALUE;for(const h of l){const v=this.getMinMaxForTile(h.tileID);v&&(u=Math.min(u,v.min),f=Math.max(f,v.max),a=!0)}return a?{min:u,max:f}:null}},o.bt=Tw,o.bu=v7,o.bv=Dc,o.bw=ro,o.bx=ag,o.by=A_,o.bz=oE,o.c=kJ,o.c$=function(l,a,u,f){return l.type==="custom"?new NEe(l,a):new cAe[l.type](l,a,u,f)},o.c0=D7,o.c1=cm,o.c2=450,o.c3=7,o.c4=zEe,o.c5=UY,o.c6=256,o.c7=AZ,o.c8=mD,o.c9=Xn,o.cA=mZ,o.cB=function(l,a,u=0){return o.$.fromValues(((a.x-u)*l.scale-l.x)*rr,(a.y*l.scale-l.y)*rr,sZ(a.z,a.y))},o.cC=function(l){let a=1/0,u=1/0,f=-1/0,h=-1/0;for(const v of l)a=Math.min(a,v.x),u=Math.min(u,v.y),f=Math.max(f,v.x),h=Math.max(h,v.y);return{min:new or(a,u),max:new or(f,h)}},o.cD=sm,o.cE=cZ,o.cF=As,o.cG=["type","source","source-layer","minzoom","maxzoom","filter","layout"],o.cH=mY,o.cI=oD,o.cJ=aX,o.cK=cX,o.cL=dX,o.cM=LD,o.cN=lR,o.cO=function(l){return l({pluginStatus:ni,pluginURL:In}),hn.on("pluginStateChange",l),l},o.cP=v_,o.cQ=RD,o.cR=V3,o.cS=ei,o.cT=A,o.cU=z3,o.cV=Mv,o.cW=ss,o.cX=function(l){const a=l.indexOf(a7);return a>=0?l.slice(0,a):l},o.cY=function(l){return l.indexOf(a7)>=0},o.cZ=function(l){const a=l.indexOf(a7);return a>=0?l.slice(a+1):""},o.c_=function(l){const a=[],u=l.id;return u===void 0&&a.push({message:`layers.${u}: missing required property "id"`}),l.render===void 0&&a.push({message:`layers.${u}: missing required method "render"`}),l.renderingMode&&l.renderingMode!=="2d"&&l.renderingMode!=="3d"&&a.push({message:`layers.${u}: property "renderingMode" must be either "2d" or "3d"`}),a},o.ca=tm,o.cb=X0,o.cc=1,o.cd=Gw,o.ce=0,o.cf=jO,o.cg=function(l,a,u,f,h){return pn((l-a)/(u-a)*(h-f)+f,f,h)},o.ch=r7,o.ci=eg,o.cj=class{constructor(l,a,u,f){this.context=l,this.format=f,this.size=u,this.texture=l.gl.createTexture();const[h,v,_]=this.size,{gl:S}=l;S.bindTexture(S.TEXTURE_3D,this.texture),l.pixelStoreUnpackFlipY.set(!1),l.pixelStoreUnpack.set(1),l.pixelStoreUnpackPremultiplyAlpha.set(!1);let P=this.format,I=S.UNSIGNED_BYTE;this.format===S.DEPTH_COMPONENT&&(P=S.DEPTH_COMPONENT16,I=S.UNSIGNED_SHORT),this.format===S.R8&&(f=S.RED),this.format===S.R32F&&(I=S.FLOAT,f=S.RED),S.texImage3D(S.TEXTURE_3D,0,P,h,v,_,0,f,I,a.data)}bind(l,a){const{context:u}=this,{gl:f}=u;f.bindTexture(f.TEXTURE_3D,this.texture),l!==this.minFilter&&(f.texParameteri(f.TEXTURE_3D,f.TEXTURE_MAG_FILTER,l),f.texParameteri(f.TEXTURE_3D,f.TEXTURE_MIN_FILTER,l),this.minFilter=l),a!==this.wrapS&&(f.texParameteri(f.TEXTURE_3D,f.TEXTURE_WRAP_S,a),f.texParameteri(f.TEXTURE_3D,f.TEXTURE_WRAP_T,a),this.wrapS=a)}destroy(){const{gl:l}=this.context;l.deleteTexture(this.texture),this.texture=null}},o.ck=JD,o.cl=[1,1,1],o.cm=p_,o.cn=E_,o.co=nm,o.cp=class{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[],this._globalClipBounds={min:new or(1/0,1/0),max:new or(-1/0,-1/0)}}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[]}get updateTime(){return this._updateTime}getReplacementRegionsForTile(l,a=!1){const u=sX(new or(0,0),new or(rr,rr),l),f=[];if(a&&!AD(u,this._globalClipBounds))return f;for(const h of this._activeRegions){if(h.hiddenByOverlap||!AD(u,h))continue;const v=GSe(h.min,h.max,l);f.push({min:v.min,max:v.max,sourceId:this._sourceIds[h.priority],footprint:h.footprint,footprintTileId:h.tileId,order:h.order,clipMask:h.clipMask,clipScope:h.clipScope})}return f}setSources(l){this._setSources(l.map(a=>({getSourceId:()=>a.cache.id,getFootprints:()=>{const u=[];for(const f of a.cache.getVisibleCoordinates()){const h=a.cache.getTile(f).buckets[a.layer];h&&h.updateFootprints(f.toUnwrapped(),u)}return u},getOrder:()=>a.order,getClipMask:()=>a.clipMask,getClipScope:()=>a.clipScope})))}_addSource(l){const a=l.getFootprints();if(a.length===0)return;const u=l.getOrder(),f=l.getClipMask(),h=l.getClipScope();for(const v of a){if(!v.footprint)continue;const _=sX(v.footprint.min,v.footprint.max,v.id);this._activeRegions.push({min:_.min,max:_.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:v.id,footprint:v.footprint,order:u,clipMask:f,clipScope:h})}this._sourceIds.push(l.getSourceId())}_computeReplacement(){this._activeRegions.sort((a,u)=>a.priority-u.priority||M7(a.min,u.min)||M7(a.max,u.max)||a.order-u.order||a.clipMask-u.clipMask||function(f,h){const v=(_,S)=>_+S;return f.length-h.length||f.reduce(v,"").localeCompare(h.reduce(v,""))}(a.clipScope,u.clipScope));let l=this._activeRegions.length!==this._prevRegions.length;if(!l){let a=0;for(;!l&&a!==this._activeRegions.length;){const u=this._activeRegions[a],f=this._prevRegions[a];l=u.priority!==f.priority||!oX(u,f)||u.order!==f.order||u.clipMask!==f.clipMask||!Dh(u.clipScope,f.clipScope),++a}}if(l){++this._updateTime;for(const u of this._activeRegions)u.order!==I7&&(this._globalClipBounds.min.x=Math.min(this._globalClipBounds.min.x,u.min.x),this._globalClipBounds.min.y=Math.min(this._globalClipBounds.min.y,u.min.y),this._globalClipBounds.max.x=Math.max(this._globalClipBounds.max.x,u.max.x),this._globalClipBounds.max.y=Math.max(this._globalClipBounds.max.y,u.max.y));const a=u=>{const f=this._activeRegions;if(u>=f.length)return u;const h=f[u].priority;for(;u<f.length&&f[u].priority===h;)++u;return u};if(this._sourceIds.length>1){let u=0,f=a(u);for(;u!==f;){let h=u;const v=u;for(;h!==f;){const _=this._activeRegions[h];_.hiddenByOverlap=!1;for(let S=0;S<v;S++){const P=this._activeRegions[S];if(!P.hiddenByOverlap&&_.order===I7&&AD(_,P)&&(_.hiddenByOverlap=uX(_.footprint,_.tileId,P.footprint,P.tileId),_.hiddenByOverlap))break}++h}u=f,f=a(u)}}}}_setSources(l){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let a=l.length-1;a>=0;a--)this._addSource(l[a]);this._computeReplacement()}},o.cq=Uf,o.cr=Y7,o.cs=bw,o.ct=class{constructor(l){this._createGrid(l),this._createPoles(l)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const l of this._poleSegments)l.destroy();for(const l of this._gridSegments)l.withSkirts.destroy(),l.withoutSkirts.destroy()}_fillGridMeshWithLods(l,a){const u=new Dc,f=new ro,h=[],v=l+1+2,_=a[0]+1,S=a[0]+1+(1+a.length),P=(I,L,F)=>{let W=I===v-1?I-2:I===0?I:I-1;return W+=F?24575:0,[W,L]};for(let I=0;I<v;++I)u.emplaceBack(...P(I,0,!0));for(let I=0;I<_;++I)for(let L=0;L<v;++L)u.emplaceBack(...P(L,I,(L===0||L===v-1)&&!0));for(let I=0;I<a.length;++I){const L=a[I];for(let F=0;F<v;++F)u.emplaceBack(...P(F,L,!0))}for(let I=0;I<a.length;++I){const L=f.length,F=a[I]+1+2,W=new ro;for(let ae=0;ae<F-1;ae++){const oe=ae===F-2,_e=oe?v*(S-a.length+I-ae):v;for(let Re=0;Re<v-1;Re++){const De=ae*v+Re;ae===0||oe||Re===0||Re===v-2?(W.emplaceBack(De+1,De,De+_e),W.emplaceBack(De+_e,De+_e+1,De+1)):(f.emplaceBack(De+1,De,De+_e),f.emplaceBack(De+_e,De+_e+1,De+1))}}const X=Ki.simpleSegment(0,L,u.length,f.length-L);for(let ae=0;ae<W.uint16.length;ae+=3)f.emplaceBack(W.uint16[ae],W.uint16[ae+1],W.uint16[ae+2]);const ee=Ki.simpleSegment(0,L,u.length,f.length-L);h.push({withoutSkirts:X,withSkirts:ee})}return{vertices:u,indices:f,segments:h}}_createGrid(l){const a=this._fillGridMeshWithLods(a_,QO);this._gridSegments=a.segments,this._gridBuffer=l.createVertexBuffer(a.vertices,Tw.members),this._gridIndexBuffer=l.createIndexBuffer(a.indices,!0)}_createPoles(l){const a=new ro;for(let _=0;_<=a_;_++)a.emplaceBack(0,_+1,_+2);this._poleIndexBuffer=l.createIndexBuffer(a,!0);const u=new X0,f=new X0,h=new X0,v=new X0;this._poleSegments=[];for(let _=0,S=0;_<JO;_++){const P=360/(1<<_);u.emplaceBack(0,-As,0,.5,0),f.emplaceBack(0,-As,0,.5,1),h.emplaceBack(0,-As,0,.5,.5),v.emplaceBack(0,-As,0,.5,.5);for(let I=0;I<=a_;I++){let L=I/a_,F=0;const W=Rr(0,P,L),[X,ee,ae]=o_(mSe,gSe,W,As);u.emplaceBack(X,ee,ae,L,F),f.emplaceBack(X,ee,ae,L,1-F);const oe=Sn(W);L=.5+.5*Math.sin(oe),F=.5+.5*Math.cos(oe),h.emplaceBack(X,ee,ae,L,F),v.emplaceBack(X,ee,ae,L,1-F)}this._poleSegments.push(Ki.simpleSegment(S,0,66,64)),S+=66}this._poleNorthVertexBuffer=l.createVertexBuffer(u,y7,!1),this._poleSouthVertexBuffer=l.createVertexBuffer(f,y7,!1),this._texturedPoleNorthVertexBuffer=l.createVertexBuffer(h,y7,!1),this._texturedPoleSouthVertexBuffer=l.createVertexBuffer(v,y7,!1)}getGridBuffers(l,a){return[this._gridBuffer,this._gridIndexBuffer,a?this._gridSegments[l].withSkirts:this._gridSegments[l].withoutSkirts]}getPoleBuffers(l,a){return[a?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,a?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[l]]}},o.cu=function(l){return T0.has(l)},o.cv=I7,o.cw=_X,o.cx=function(l,a,u=0,f=!0){const h=new or(u,u),v=l.sub(h),_=a.add(h),S=[v,new or(_.x,v.y),_,new or(v.x,_.y)];return f&&S.push(v.clone()),S},o.cy=function(l,a){const u=[];for(let f=0;f<l.length;f++){const h=$h(f-1,-1,l.length-1),v=$h(f+1,-1,l.length-1),_=l[f],S=l[v],P=l[h].sub(_).unit(),I=S.sub(_).unit(),L=I.angleWithSep(P.x,P.y),F=P.add(I).unit().mult(-1*a/Math.sin(L/2));u.push(_.add(F))}return u},o.cz=TY,o.d=Dh,o.d$=Yw,o.d0=xo,o.d1=hn,o.d2=Ou,o.d3=_v,o.d4=function(){return!!document.fullscreenElement||!!document.webkitFullscreenElement},o.d5=Zl,o.d6=uZ,o.d7=J0,o.d8=function([l,a,u]){const f=Math.hypot(l,a,u),h=Math.atan2(l,u),v=.5*Math.PI-Math.acos(-a/f);return new Wn(os(h),os(v))},o.d9=rl,o.dA=function(){oE().acquire(rR)},o.dB=function(){const l=n2;l&&(l.isPreloaded()&&l.numActive()===1?(l.release(rR),n2=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},o.dC=r2,o.dD=function(l){const a=xS();if(!a)return;const u=a.delete(_S);l&&u.catch(l).then(()=>l())},o.dE=t2,o.dF=wJ,o.dG=function(l){nR=So.resolveURL(l),P_||(P_=new A_(oE(),new $f)),P_.broadcast("setDracoUrl",nR)},o.dH=SJ,o.dI=function(l){T_=So.resolveURL(l),P_||(P_=new A_(oE(),new $f)),P_.broadcast("setMeshoptUrl",T_)},o.dJ=R3,o.dK=lt,o.dL=lm,o.dM=Bc,o.dN=ng,o.dO=HO,o.dP=qX,o.dQ=tY,o.dR=NX,o.dS=p0,o.dT=yY,o.dU=x_,o.dV=function(l,a,u,f,h,v,_,S,P,I,L){l.createArrays(),l.tilePixelRatio=rr/(512*l.overscaling),l.compareText={},l.iconsNeedLinear=!1;const F=l.layers[0].layout,W=l.layers[0]._unevaluatedLayout._values,X={};if(l.textSizeData.kind==="composite"){const{minZoom:_e,maxZoom:Re}=l.textSizeData;X.compositeTextSizes=[W["text-size"].possiblyEvaluate(new Wr(_e),S),W["text-size"].possiblyEvaluate(new Wr(Re),S)]}if(l.iconSizeData.kind==="composite"){const{minZoom:_e,maxZoom:Re}=l.iconSizeData;X.compositeIconSizes=[W["icon-size"].possiblyEvaluate(new Wr(_e),S),W["icon-size"].possiblyEvaluate(new Wr(Re),S)]}X.layoutTextSize=W["text-size"].possiblyEvaluate(new Wr(P+1),S),X.layoutIconSize=W["icon-size"].possiblyEvaluate(new Wr(P+1),S),X.textMaxSize=W["text-size"].possiblyEvaluate(new Wr(18),S);const ee=F.get("text-rotation-alignment")==="map"&&F.get("symbol-placement")!=="point",ae=F.get("text-size");let oe=!1;for(const _e of l.features)if(_e.icon&&_e.icon.nameSecondary){oe=!0;break}for(const _e of l.features){const Re=F.get("text-font").evaluate(_e,{},S).join(","),De=ae.evaluate(_e,{},S),ze=X.layoutTextSize.evaluate(_e,{},S),qe=(X.layoutIconSize.evaluate(_e,{},S),{horizontal:{},vertical:void 0}),Ze=_e.text;let rt,ut=[0,0];if(Ze){const yt=Ze.toString(),Ot=F.get("text-letter-spacing").evaluate(_e,{},S)*Io,Ht=F.get("text-line-height").evaluate(_e,{},S)*Io,Dt=jt(yt)?Ot:0,Jt=F.get("text-anchor").evaluate(_e,{},S),Mt=F.get("text-variable-anchor");if(!Mt){const Qt=F.get("text-radial-offset").evaluate(_e,{},S);ut=Qt?wY(Jt,[Qt*Io,$D]):F.get("text-offset").evaluate(_e,{},S).map(qt=>qt*Io)}let Ft=ee?"center":F.get("text-justify").evaluate(_e,{},S);const er=F.get("symbol-placement")==="point",$t=er?F.get("text-max-width").evaluate(_e,{},S)*Io:1/0,ir=Qt=>{l.allowVerticalPlacement&&Nt(yt)&&(qe.vertical=kD(Ze,a,u,h,Re,$t,Ht,Jt,Qt,Dt,ut,eu.vertical,!0,ze,De))};if(!ee&&Mt){const Qt=Ft==="auto"?Mt.map(Pr=>LD(Pr)):[Ft];let qt=!1;for(let Pr=0;Pr<Qt.length;Pr++){const Sr=Qt[Pr];if(!qe.horizontal[Sr])if(qt)qe.horizontal[Sr]=qe.horizontal[0];else{const pr=kD(Ze,a,u,h,Re,$t,Ht,"center",Sr,Dt,ut,eu.horizontal,!1,ze,De);pr&&(qe.horizontal[Sr]=pr,qt=pr.positionedLines.length===1)}}ir("left")}else{if(Ft==="auto"&&(Ft=LD(Jt)),er||F.get("text-writing-mode").indexOf("horizontal")>=0||!Nt(yt)){const Qt=kD(Ze,a,u,h,Re,$t,Ht,Jt,Ft,Dt,ut,eu.horizontal,!1,ze,De);Qt&&(qe.horizontal[Ft]=Qt)}ir(er?"left":Ft)}}let mt=!1;if(_e.icon&&_e.icon.namePrimary){const yt=f[_e.icon.namePrimary];yt&&(rt=W7e(h[_e.icon.namePrimary],_e.icon.nameSecondary?h[_e.icon.nameSecondary]:void 0,F.get("icon-offset").evaluate(_e,{},S),F.get("icon-anchor").evaluate(_e,{},S)),mt=yt.sdf,l.sdfIcons===void 0?l.sdfIcons=yt.sdf:l.sdfIcons!==yt.sdf&&la("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(yt.pixelRatio!==l.pixelRatio||F.get("icon-rotate").constantOr(1)!==0)&&(l.iconsNeedLinear=!0))}const St=EY(qe.horizontal)||qe.vertical;l.iconsInText||(l.iconsInText=!!St&&St.iconsInText),(St||rt)&&Y7e(l,_e,qe,rt,f,X,ze,0,ut,mt,_,S,I,L,oe)}v&&l.generateCollisionDebugBuffers(P,l.collisionBoxArray)},o.dW=R7,o.dX=A7,o.dY=ED,o.dZ=zw,o.d_=k7,o.da=s_,o.db=x,o.dc=yD,o.dd=kZ,o.de=function(l){const a=[0,0,0],u=o.ae.identity(new Float64Array(16));return o.ae.multiply(u,l.pixelMatrix,l.globeMatrix),o.$.transformMat4(a,a,u),new or(a[0],a[1])},o.df=$,o.dg=D,o.dh=function(l){const a=l.navigator?l.navigator.userAgent:null;return!!function(u){if(v0==null){const f=u.navigator?u.navigator.userAgent:null;v0=!!u.safari||!(!f||!(/\b(iPad|iPhone|iPod)\b/.test(f)||f.match("Safari")&&!f.match("Chrome")))}return v0}(l)&&a&&(a.match("Version/15.4")||a.match("Version/15.5")||a.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},o.di=bv,o.dj=class{constructor(l,a,u){this._transformRequestFn=l,this._customAccessToken=a,this._silenceAuthErrors=!!u,this._createSkuToken()}_createSkuToken(){const l=function(){let a="";for(let u=0;u<10;u++)a+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",U3,a].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=l.token,this._skuTokenExpiresAt=l.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(l,a){return this._transformRequestFn&&this._transformRequestFn(l,a)||{url:l}}normalizeStyleURL(l,a){if(!A(l))return l;const u=Sl(l);return u.params.push(`sdk=js-${g}`),u.path=`/styles/v1${u.path}`,this._makeAPIURL(u,this._customAccessToken||a)}normalizeGlyphsURL(l,a){if(!A(l))return l;const u=Sl(l);return u.path=`/fonts/v1${u.path}`,this._makeAPIURL(u,this._customAccessToken||a)}normalizeModelURL(l,a){if(!A(l))return l;const u=Sl(l);return u.path=`/models/v1${u.path}`,this._makeAPIURL(u,this._customAccessToken||a)}normalizeSourceURL(l,a,u,f){if(!A(l))return l;const h=Sl(l);return h.path=`/v4/${h.authority}.json`,h.params.push("secure"),u&&h.params.push(`language=${u}`),f&&h.params.push(`worldview=${f}`),this._makeAPIURL(h,this._customAccessToken||a)}normalizeSpriteURL(l,a,u,f){const h=Sl(l);return A(l)?(h.path=`/styles/v1${h.path}/sprite${a}${u}`,this._makeAPIURL(h,this._customAccessToken||f)):(h.path+=`${a}${u}`,Of(h))}normalizeTileURL(l,a,u){if(this._isSkuTokenExpired()&&this._createSkuToken(),l&&!A(l))return l;const f=Sl(l);f.path=f.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${a||u&&f.authority!=="raster"&&u===512?"@2x":""}${Pv.supported?".webp":"$1"}`),f.authority==="raster"?f.path=`/${x.RASTER_URL_PREFIX}${f.path}`:f.authority==="rasterarrays"?f.path=`/${x.RASTERARRAYS_URL_PREFIX}${f.path}`:f.authority==="3dtiles"?f.path=`/${x.TILES3D_URL_PREFIX}${f.path}`:(f.path=f.path.replace(/^.+\/v4\//,"/"),f.path=`/${x.TILE_URL_VERSION}${f.path}`);const h=this._customAccessToken||function(v){for(const _ of v){const S=_.match(/^access_token=(.*)$/);if(S)return S[1]}return null}(f.params)||x.ACCESS_TOKEN;return x.REQUIRE_ACCESS_TOKEN&&h&&this._skuToken&&f.params.push(`sku=${this._skuToken}`),this._makeAPIURL(f,h)}canonicalizeTileURL(l,a){const u=Sl(l);if(!u.path.match(/^(\/v4\/|\/(raster|rasterarrays)\/v1\/)/)||!u.path.match(/\.[\w]+$/))return l;let f="mapbox://";u.path.match(/^\/raster\/v1\//)?f+=`raster/${u.path.replace(`/${x.RASTER_URL_PREFIX}/`,"")}`:u.path.match(/^\/rasterarrays\/v1\//)?f+=`rasterarrays/${u.path.replace(`/${x.RASTERARRAYS_URL_PREFIX}/`,"")}`:f+=`tiles/${u.path.replace(`/${x.TILE_URL_VERSION}/`,"")}`;let h=u.params;return a&&(h=h.filter(v=>!v.match(/^access_token=/))),h.length&&(f+=`?${h.join("&")}`),f}canonicalizeTileset(l,a){const u=!!a&&A(a),f=[];for(const h of l.tiles||[])E(h)?f.push(this.canonicalizeTileURL(h,u)):f.push(h);return f}_makeAPIURL(l,a){const u="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",f=Sl(x.API_URL);if(l.protocol=f.protocol,l.authority=f.authority,l.protocol==="http"){const h=l.params.indexOf("secure");h>=0&&l.params.splice(h,1)}if(f.path!=="/"&&(l.path=`${f.path}${l.path}`),!x.REQUIRE_ACCESS_TOKEN)return Of(l);if(a=a||x.ACCESS_TOKEN,!this._silenceAuthErrors){if(!a)throw new Error(`An API access token is required to use Mapbox GL. ${u}`);if(a[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${u}`)}return l.params=l.params.filter(h=>h.indexOf("access_token")===-1),l.params.push(`access_token=${a||""}`),Of(l)}},o.dk=function(l,a){a?T0.add(l):T0.delete(l)},o.dl=Pv,o.dm=oO,o.dn=G3,o.dp=W3,o.dq=PS,o.dr=CS,o.ds=function(l){T0.delete(l)},o.dt=A0,o.du=jh,o.dv=d0,o.dw=g,o.dx=function(l,a){N3=l,F3=a},o.dy=function(l,a,u=!1){if(ni===Br||ni===nn||ni===En)throw new Error("setRTLTextPlugin cannot be called multiple times.");In=So.resolveURL(l),ni=Br,xi=a,dn(),u||Vn()},o.dz=tn,o.e=So,o.e0=P7,o.e1=T7,o.e2=u0,o.e3=ZX,o.e4=V,o.e5=kf,o.e6=function(l){let a=0;if(new Uint32Array(l,0,1)[0]!==AJ){const u=new Uint32Array(l,0,7),[,,f,h,v,_]=u;a=u.byteLength+h+v+_+v,(f!==l.byteLength||a>=l.byteLength)&&la("Invalid b3dm header information.")}return IJ(l,a)},o.e7=function(l,a){const u=kJ(l);for(const f of u){for(const h of f.meshes)oAe(h);f.lights&&(f.lightMeshIndex=f.meshes.length,f.meshes.push(sAe(f.lights,a)))}return u},o.e8=cE,o.e9=xJ,o.ea=yn,o.eb=function(l){_0(),ku&&ku.then(a=>{a.keys().then(u=>{for(let f=0;f<u.length-l;f++)a.delete(u[f])})})},o.f=P0,o.g=Du,o.h=function(l,a){return Ou(bo(l,{type:"json"}),a)},o.i=S0,o.j=Ql,o.k=gY,o.l=function(l){return fetch(l).then(a=>a.arrayBuffer()).then(a=>IJ(a,0,l))},o.m=DD,o.n=class extends iE{},o.o=Md,o.p=cEe,o.q=Uh,o.r=O,o.s=q,o.t=K,o.u=Mc,o.v=Ue,o.w=la,o.x=Jl,o.y=Ge,o.z=Fe}),c(["./shared"],function(o){function g(it){const xe=it?it.url.toString():void 0;return xe?performance.getEntriesByName(xe):[]}function y(it){if(typeof it=="number"||typeof it=="boolean"||typeof it=="string"||it==null)return JSON.stringify(it);if(Array.isArray(it)){let Ce="[";for(const je of it)Ce+=`${y(je)},`;return`${Ce}]`}let xe="{";for(const Ce of Object.keys(it).sort())xe+=`${Ce}:${y(it[Ce])},`;return`${xe}}`}function x(it){let xe="";for(const Ce of o.cG)xe+=`/${y(it[Ce])}`;return xe}class E{constructor(xe){this.keyCache={},this._layers={},this._layerConfigs={},xe&&this.replace(xe)}replace(xe,Ce){this._layerConfigs={},this._layers={},this.update(xe,[],Ce)}update(xe,Ce,je){this._options=je;for(const tt of xe)this._layerConfigs[tt.id]=tt,(this._layers[tt.id]=o.c$(tt,this.scope,null,this._options)).compileFilter(),this.keyCache[tt.id]&&delete this.keyCache[tt.id];for(const tt of Ce)delete this.keyCache[tt],delete this._layerConfigs[tt],delete this._layers[tt];this.familiesBySource={};const et=function(tt,dt){const Et={};for(let wt=0;wt<tt.length;wt++){const Wt=dt&&dt[tt[wt].id]||x(tt[wt]);dt&&(dt[tt[wt].id]=Wt);let Ut=Et[Wt];Ut||(Ut=Et[Wt]=[]),Ut.push(tt[wt])}const ct=[];for(const wt in Et)ct.push(Et[wt]);return ct}(o.dJ(this._layerConfigs),this.keyCache);for(const tt of et){const dt=tt.map(dr=>this._layers[dr.id]),Et=dt[0];if(Et.visibility==="none")continue;const ct=Et.source||"";let wt=this.familiesBySource[ct];wt||(wt=this.familiesBySource[ct]={});const Wt=Et.sourceLayer||"_geojsonTileLayer";let Ut=wt[Wt];Ut||(Ut=wt[Wt]=[]),Ut.push(dt)}}}const A=1*o.dM;class M{constructor(xe){const Ce={},je=[];for(const Et in xe){const ct=xe[Et],wt=Ce[Et]={};for(const Wt in ct.glyphs){const Ut=ct.glyphs[+Wt];if(!Ut||Ut.bitmap.width===0||Ut.bitmap.height===0)continue;const dr=Ut.metrics.localGlyph?A:1,Ar={x:0,y:0,w:Ut.bitmap.width+2*dr,h:Ut.bitmap.height+2*dr};je.push(Ar),wt[Wt]=Ar}}const{w:et,h:tt}=o.k(je),dt=new o.dL({width:et||1,height:tt||1});for(const Et in xe){const ct=xe[Et];for(const wt in ct.glyphs){const Wt=ct.glyphs[+wt];if(!Wt||Wt.bitmap.width===0||Wt.bitmap.height===0)continue;const Ut=Ce[Et][wt],dr=Wt.metrics.localGlyph?A:1;o.dL.copy(Wt.bitmap,dt,{x:0,y:0},{x:Ut.x+dr,y:Ut.y+dr},Wt.bitmap)}}this.image=dt,this.positions=Ce}}o.dK(M,"GlyphAtlas");class R{constructor(xe){this.tileID=new o.aQ(xe.tileID.overscaledZ,xe.tileID.wrap,xe.tileID.canonical.z,xe.tileID.canonical.x,xe.tileID.canonical.y),this.tileZoom=xe.tileZoom,this.uid=xe.uid,this.zoom=xe.zoom,this.lut=xe.lut,this.canonical=xe.tileID.canonical,this.pixelRatio=xe.pixelRatio,this.tileSize=xe.tileSize,this.source=xe.source,this.scope=xe.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=xe.showCollisionBoxes,this.collectResourceTiming=!!xe.collectResourceTiming,this.promoteId=xe.promoteId,this.isSymbolTile=xe.isSymbolTile,this.tileTransform=o.dN(xe.tileID.canonical,xe.projection),this.projection=xe.projection,this.brightness=xe.brightness,this.extraShadowCaster=!!xe.extraShadowCaster,this.tessellationStep=xe.tessellationStep}parse(xe,Ce,je,et,tt){this.status="parsing",this.data=xe,this.collisionBoxArray=new o.dO;const dt=new o.dP(Object.keys(xe.layers).sort()),Et=new o.dQ(this.tileID,this.promoteId);Et.bucketLayerIDs=[];const ct={},wt=new o.dR(256,256),Wt={featureIndex:Et,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:wt,availableImages:je,brightness:this.brightness},Ut=Ce.familiesBySource[this.source];for(const xr in Ut){const gi=xe.layers[xr];if(!gi)continue;let Cn=!1,vn=!1,Ui=!1;for(const _o of Ut[xr])_o[0].type==="symbol"?Cn=!0:vn=!0,_o[0].is3D()&&_o[0].type!=="model"&&(Ui=!0);if(this.extraShadowCaster&&!Ui||this.isSymbolTile===!0&&!Cn||this.isSymbolTile===!1&&!vn)continue;gi.version===1&&o.w(`Vector tile source "${this.source}" layer "${xr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Wi=dt.encode(xr),qa=[];for(let _o=0;_o<gi.length;_o++){const Fo=gi.feature(_o),Cf=Et.getId(Fo,xr);qa.push({feature:Fo,id:Cf,index:_o,sourceLayerIndex:Wi})}for(const _o of Ut[xr]){const Fo=_o[0];(!this.extraShadowCaster||Fo.is3D()&&Fo.type!=="model")&&(this.isSymbolTile!==void 0&&Fo.type==="symbol"!==this.isSymbolTile||Fo.minzoom&&this.zoom<Math.floor(Fo.minzoom)||Fo.maxzoom&&this.zoom>=Fo.maxzoom||Fo.visibility!=="none"&&(k(_o,this.zoom,Wt.brightness,je),(ct[Fo.id]=Fo.createBucket({index:Et.bucketLayerIDs.length,layers:_o,zoom:this.zoom,lut:this.lut,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Wi,sourceID:this.source,projection:this.projection.spec,tessellationStep:this.tessellationStep})).populate(qa,Wt,this.tileID.canonical,this.tileTransform),Et.bucketLayerIDs.push(_o.map(Cf=>Cf.id))))}}let dr,Ar,Fr,Pn;wt.trim();const Zr={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},wn=()=>{if(dr)return this.status="done",tt(dr);if(this.extraShadowCaster)this.status="done",tt(null,{buckets:o.dJ(ct).filter(xr=>!xr.isEmpty()),featureIndex:Et,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:Wt.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(Ar&&Fr&&Pn){const xr=new M(Ar),gi=new o.dT(Fr,Pn,this.lut);for(const Cn in ct){const vn=ct[Cn];vn instanceof o.dU?(k(vn.layers,this.zoom,Wt.brightness,je),o.dV(vn,Ar,xr.positions,Fr,gi.iconPositions,this.showCollisionBoxes,je,this.tileID.canonical,this.tileZoom,this.projection,this.brightness)):vn.hasPattern&&(vn instanceof o.dW||vn instanceof o.dX||vn instanceof o.c0)&&(k(vn.layers,this.zoom,Wt.brightness,je),vn.addFeatures(Wt,this.tileID.canonical,gi.patternPositions,je,this.tileTransform,this.brightness))}this.status="done",tt(null,{buckets:o.dJ(ct).filter(Cn=>!Cn.isEmpty()),featureIndex:Et,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:xr.image,lineAtlas:wt,imageAtlas:gi,brightness:Wt.brightness})}};if(!this.extraShadowCaster){const xr=o.dS(Wt.glyphDependencies,vn=>Object.keys(vn).map(Number));Object.keys(xr).length?et.send("getGlyphs",{uid:this.uid,stacks:xr,scope:this.scope},(vn,Ui)=>{dr||(dr=vn,Ar=Ui,wn())},void 0,!1,Zr):Ar={};const gi=Object.keys(Wt.iconDependencies);gi.length?et.send("getImages",{icons:gi,source:this.source,scope:this.scope,tileID:this.tileID,type:"icons"},(vn,Ui)=>{dr||(dr=vn,Fr=Ui,wn())},void 0,!1,Zr):Fr={};const Cn=Object.keys(Wt.patternDependencies);Cn.length?et.send("getImages",{icons:Cn,source:this.source,scope:this.scope,tileID:this.tileID,type:"patterns"},(vn,Ui)=>{dr||(dr=vn,Pn=Ui,wn())},void 0,!1,Zr):Pn={}}wn()}}function k(it,xe,Ce,je){const et=new o.Y(xe,{brightness:Ce});for(const tt of it)tt.recalculate(et,je)}class D extends o.E{constructor(xe,Ce,je,et,tt,dt){super(),this.actor=xe,this.layerIndex=Ce,this.availableImages=je,this.loadVectorData=tt||o.aq,this.loading={},this.loaded={},this.deduped=new o.ap(xe.scheduler),this.isSpriteLoaded=et,this.scheduler=xe.scheduler,this.brightness=dt}loadTile(xe,Ce){const je=xe.uid,et=xe&&xe.request,tt=et&&et.collectResourceTiming,dt=this.loading[je]=new R(xe);dt.abort=this.loadVectorData(xe,(Et,ct)=>{const wt=!this.loading[je];if(delete this.loading[je],wt||Et||!ct)return dt.status="done",wt||(this.loaded[je]=dt),Ce(Et);const Wt=ct.rawData,Ut={};ct.expires&&(Ut.expires=ct.expires),ct.cacheControl&&(Ut.cacheControl=ct.cacheControl),dt.vectorTile=ct.vectorTile||new o.dY(new o.dZ(Wt));const dr=()=>{dt.parse(dt.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ar,Fr)=>{if(Ar||!Fr)return Ce(Ar);const Pn={};if(tt){const Zr=g(et);Zr.length>0&&(Pn.resourceTiming=JSON.parse(JSON.stringify(Zr)))}Ce(null,o.Q({rawTileData:Wt.slice(0)},Fr,Ut,Pn))})};this.isSpriteLoaded?dr():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(dr,{type:"parseTile",isSymbolTile:xe.isSymbolTile,zoom:xe.tileZoom}):dr()}),this.loaded=this.loaded||{},this.loaded[je]=dt})}reloadTile(xe,Ce){const je=this.loaded,et=xe.uid;if(je&&je[et]){const tt=je[et];tt.showCollisionBoxes=xe.showCollisionBoxes,tt.projection=xe.projection,tt.brightness=xe.brightness,tt.tileTransform=o.dN(xe.tileID.canonical,xe.projection),tt.extraShadowCaster=xe.extraShadowCaster,tt.lut=xe.lut;const dt=(Et,ct)=>{const wt=tt.reloadCallback;wt&&(delete tt.reloadCallback,tt.parse(tt.vectorTile,this.layerIndex,this.availableImages,this.actor,wt)),Ce(Et,ct)};tt.status==="parsing"?tt.reloadCallback=dt:tt.status==="done"&&(tt.vectorTile?tt.parse(tt.vectorTile,this.layerIndex,this.availableImages,this.actor,dt):dt())}else Ce(null,void 0)}abortTile(xe,Ce){const je=xe.uid,et=this.loading[je];et&&(et.abort&&et.abort(),delete this.loading[je]),Ce()}removeTile(xe,Ce){const je=this.loaded,et=xe.uid;je&&je[et]&&delete je[et],Ce()}}class ${loadTile(xe,Ce){const{uid:je,encoding:et,rawImageData:tt,padding:dt}=xe,Et=ImageBitmap&&tt instanceof ImageBitmap?this.getImageData(tt,dt):tt;Ce(null,new o.d_(je,Et,et,dt<1))}getImageData(xe,Ce){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(xe.width,xe.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=xe.width,this.offscreenCanvas.height=xe.height,this.offscreenCanvasContext.drawImage(xe,0,0,xe.width,xe.height);const je=this.offscreenCanvasContext.getImageData(-Ce,-Ce,xe.width+2*Ce,xe.height+2*Ce);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),je}}o.d$.setPbf(o.dZ);class B{decodeRasterArray({task:xe,buffer:Ce},je){o.d$.performDecoding(Ce,xe).then(et=>{je(null,et)},et=>{je(et)})}}const V=o.e0.prototype.toGeoJSON;let U=class{constructor(it){this._feature=it,this.extent=o.a4,this.type=it.type,this.properties=it.tags,"id"in it&&!isNaN(it.id)&&(this.id=parseInt(it.id,10))}loadGeometry(){if(this._feature.type===1){const it=[];for(const xe of this._feature.geometry)it.push([new o.P(xe[0],xe[1])]);return it}{const it=[];for(const xe of this._feature.geometry){const Ce=[];for(const je of xe)Ce.push(new o.P(je[0],je[1]));it.push(Ce)}return it}}toGeoJSON(it,xe,Ce){return V.call(this,it,xe,Ce)}},Z=class{constructor(it){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.a4,this.length=it.length,this._features=it}feature(it){return new U(this._features[it])}};const ne=64/4096,j=128;class fe{constructor(){this.features=new Map}clear(){this.features.clear()}load(xe=[],Ce){for(const je of xe){const et=je.id;if(et==null)continue;let tt=this.features.get(et);tt&&this.updateCache(tt,Ce),je.geometry?(tt=pe(je),this.updateCache(tt,Ce),this.features.set(et,tt)):this.features.delete(et),this.updateCache(tt,Ce)}}updateCache(xe,Ce){for(const{canonical:je,uid:et}of Object.values(Ce)){const{z:tt,x:dt,y:Et}=je;be(xe,Math.pow(2,tt),dt,Et)&&delete Ce[et]}}getTile(xe,Ce,je){const et=Math.pow(2,xe),tt=[];for(const dt of this.features.values())be(dt,et,Ce,je)&&tt.push(Y(dt,et,Ce,je));return{features:tt}}getFeatures(){return[...this.features.values()]}}function be({minX:it,minY:xe,maxX:Ce,maxY:je},et,tt,dt){return it<(tt+1+ne)/et&&xe<(dt+1+ne)/et&&Ce>(tt-ne)/et&&je>(dt-ne)/et}function pe(it){const{id:xe,geometry:Ce,properties:je}=it;if(!Ce)return;if(Ce.type==="GeometryCollection")throw new Error("GeometryCollection not supported in dynamic mode.");const{type:et,coordinates:tt}=Ce,dt={id:xe,type:1,geometry:[],tags:je,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},Et=dt.geometry;if(et==="Point")le(tt,Et,dt);else if(et==="MultiPoint")for(const ct of tt)le(ct,Et,dt);else if(et==="LineString")dt.type=2,G(tt,Et,dt);else if(et==="MultiLineString")dt.type=2,N(tt,Et,dt);else if(et==="Polygon")dt.type=3,N(tt,Et,dt,!0);else{if(et!=="MultiPolygon")throw new Error("Input data is not a valid GeoJSON object.");dt.type=3;for(const ct of tt)N(ct,Et,dt,!0)}return dt}function le([it,xe],Ce,je){const et=o.ak(it);let tt=o.al(xe);tt=tt<0?0:tt>1?1:tt,Ce.push(et,tt),je.minX=Math.min(je.minX,et),je.minY=Math.min(je.minY,tt),je.maxX=Math.max(je.maxX,et),je.maxY=Math.max(je.maxY,tt)}function G(it,xe,Ce,je=!1,et=!1){const tt=[];for(const dt of it)le(dt,tt,Ce);xe.push(tt),je&&function(dt,Et){let ct=0;for(let wt=0,Wt=dt.length,Ut=Wt-2;wt<Wt;Ut=wt,wt+=2)ct+=(dt[wt]-dt[Ut])*(dt[wt+1]+dt[Ut+1]);if(ct>0===Et)for(let wt=0,Wt=dt.length;wt<Wt/2;wt+=2){const Ut=dt[wt],dr=dt[wt+1];dt[wt]=dt[Wt-2-wt],dt[wt+1]=dt[Wt-1-wt],dt[Wt-2-wt]=Ut,dt[Wt-1-wt]=dr}}(tt,et)}function N(it,xe,Ce,je=!1){for(let et=0;et<it.length;et++)G(it[et],xe,Ce,je,et===0)}function Y(it,xe,Ce,je){const{id:et,type:tt,geometry:dt,tags:Et}=it,ct=[];if(tt===1)(function(wt,Wt,Ut,dr,Ar){for(let Fr=0;Fr<wt.length;Fr+=2){const Pn=Math.round(o.a4*(wt[Fr+0]*Wt-Ut)),Zr=Math.round(o.a4*(wt[Fr+1]*Wt-dr));Ar.push([Pn,Zr])}})(dt,xe,Ce,je,ct);else for(const wt of dt)te(wt,xe,Ce,je,ct);return{id:et,type:tt,geometry:ct,tags:Et}}function te(it,xe,Ce,je,et){const tt=-j,dt=o.a4+j;let Et;for(let ct=0;ct<it.length-2;ct+=2){let wt=Math.round(o.a4*(it[ct+0]*xe-Ce)),Wt=Math.round(o.a4*(it[ct+1]*xe-je)),Ut=Math.round(o.a4*(it[ct+2]*xe-Ce)),dr=Math.round(o.a4*(it[ct+3]*xe-je));const Ar=Ut-wt,Fr=dr-Wt;wt<tt&&Ut<tt||(wt<tt?(Wt+=Math.round(Fr*((tt-wt)/Ar)),wt=tt):Ut<tt&&(dr=Wt+Math.round(Fr*((tt-wt)/Ar)),Ut=tt),Wt<tt&&dr<tt||(Wt<tt?(wt+=Math.round(Ar*((tt-Wt)/Fr)),Wt=tt):dr<tt&&(Ut=wt+Math.round(Ar*((tt-Wt)/Fr)),dr=tt),wt>=dt&&Ut>=dt||(wt>=dt?(Wt+=Math.round(Fr*((dt-wt)/Ar)),wt=dt):Ut>=dt&&(dr=Wt+Math.round(Fr*((dt-wt)/Ar)),Ut=dt),Wt>=dt&&dr>=dt||(Wt>=dt?(wt+=Math.round(Ar*((dt-Wt)/Fr)),Wt=dt):dr>=dt&&(Ut=wt+Math.round(Ar*((dt-Wt)/Fr)),dr=dt),Et&&wt===Et[Et.length-1][0]&&Wt===Et[Et.length-1][1]||(Et=[[wt,Wt]],et.push(Et)),Et.push([Ut,dr])))))}}var re={exports:{}},he=o.e2,we=o.e1.VectorTileFeature,ye=ue;function ue(it,xe){this.options=xe||{},this.features=it,this.length=it.length}function J(it,xe){this.id=typeof it.id=="number"?it.id:void 0,this.type=it.type,this.rawGeometry=it.type===1?[it.geometry]:it.geometry,this.properties=it.tags,this.extent=xe||4096}ue.prototype.feature=function(it){return new J(this.features[it],this.options.extent)},J.prototype.loadGeometry=function(){var it=this.rawGeometry;this.geometry=[];for(var xe=0;xe<it.length;xe++){for(var Ce=it[xe],je=[],et=0;et<Ce.length;et++)je.push(new he(Ce[et][0],Ce[et][1]));this.geometry.push(je)}return this.geometry},J.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var it=this.geometry,xe=1/0,Ce=-1/0,je=1/0,et=-1/0,tt=0;tt<it.length;tt++)for(var dt=it[tt],Et=0;Et<dt.length;Et++){var ct=dt[Et];xe=Math.min(xe,ct.x),Ce=Math.max(Ce,ct.x),je=Math.min(je,ct.y),et=Math.max(et,ct.y)}return[xe,je,Ce,et]},J.prototype.toGeoJSON=we.prototype.toGeoJSON;var de=o.e3,ke=ye;function Oe(it){var xe=new de;return function(Ce,je){for(var et in Ce.layers)je.writeMessage(3,Se,Ce.layers[et])}(it,xe),xe.finish()}function Se(it,xe){var Ce;xe.writeVarintField(15,it.version||1),xe.writeStringField(1,it.name||""),xe.writeVarintField(5,it.extent||4096);var je={keys:[],values:[],keycache:{},valuecache:{}};for(Ce=0;Ce<it.length;Ce++)je.feature=it.feature(Ce),xe.writeMessage(2,We,je);var et=je.keys;for(Ce=0;Ce<et.length;Ce++)xe.writeStringField(3,et[Ce]);var tt=je.values;for(Ce=0;Ce<tt.length;Ce++)xe.writeMessage(4,Te,tt[Ce])}function We(it,xe){var Ce=it.feature;Ce.id!==void 0&&xe.writeVarintField(1,Ce.id),xe.writeMessage(2,Je,it),xe.writeVarintField(3,Ce.type),xe.writeMessage(4,Me,Ce)}function Je(it,xe){var Ce=it.feature,je=it.keys,et=it.values,tt=it.keycache,dt=it.valuecache;for(var Et in Ce.properties){var ct=Ce.properties[Et],wt=tt[Et];if(ct!==null){wt===void 0&&(je.push(Et),tt[Et]=wt=je.length-1),xe.writeVarint(wt);var Wt=typeof ct;Wt!=="string"&&Wt!=="boolean"&&Wt!=="number"&&(ct=JSON.stringify(ct));var Ut=Wt+":"+ct,dr=dt[Ut];dr===void 0&&(et.push(ct),dt[Ut]=dr=et.length-1),xe.writeVarint(dr)}}}function $e(it,xe){return(xe<<3)+(7&it)}function ft(it){return it<<1^it>>31}function Me(it,xe){for(var Ce=it.loadGeometry(),je=it.type,et=0,tt=0,dt=Ce.length,Et=0;Et<dt;Et++){var ct=Ce[Et],wt=1;je===1&&(wt=ct.length),xe.writeVarint($e(1,wt));for(var Wt=je===3?ct.length-1:ct.length,Ut=0;Ut<Wt;Ut++){Ut===1&&je!==1&&xe.writeVarint($e(2,Wt-1));var dr=ct[Ut].x-et,Ar=ct[Ut].y-tt;xe.writeVarint(ft(dr)),xe.writeVarint(ft(Ar)),et+=dr,tt+=Ar}je===3&&xe.writeVarint($e(7,1))}}function Te(it,xe){var Ce=typeof it;Ce==="string"?xe.writeStringField(1,it):Ce==="boolean"?xe.writeBooleanField(7,it):Ce==="number"&&(it%1!=0?xe.writeDoubleField(3,it):it<0?xe.writeSVarintField(6,it):xe.writeVarintField(5,it))}re.exports=Oe,re.exports.fromVectorTileJs=Oe,re.exports.fromGeojsonVt=function(it,xe){xe=xe||{};var Ce={};for(var je in it)Ce[je]=new ke(it[je].features,xe),Ce[je].name=je,Ce[je].version=xe.version,Ce[je].extent=xe.extent;return Oe({layers:Ce})},re.exports.GeoJSONWrapper=ke;var Le=o.e4(re.exports);const Ne={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:it=>it},At=Math.fround||(Ct=new Float32Array(1),it=>(Ct[0]=+it,Ct[0]));var Ct;const Lt=3,sr=5,Bt=6;class tr{constructor(xe){this.options=Object.assign(Object.create(Ne),xe),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(xe){const{log:Ce,minZoom:je,maxZoom:et}=this.options;Ce&&console.time("total time");const tt=`prepare ${xe.length} points`;Ce&&console.time(tt),this.points=xe;const dt=[];for(let ct=0;ct<xe.length;ct++){const wt=xe[ct];if(!wt.geometry)continue;const[Wt,Ut]=wt.geometry.coordinates,dr=At(Nr(Wt)),Ar=At(gt(Ut));dt.push(dr,Ar,1/0,ct,-1,1),this.options.reduce&&dt.push(0)}let Et=this.trees[et+1]=this._createTree(dt);Ce&&console.timeEnd(tt);for(let ct=et;ct>=je;ct--){const wt=+Date.now();Et=this.trees[ct]=this._createTree(this._cluster(Et,ct)),Ce&&console.log("z%d: %d clusters in %dms",ct,Et.numItems,+Date.now()-wt)}return Ce&&console.timeEnd("total time"),this}getClusters(xe,Ce){let je=((xe[0]+180)%360+360)%360-180;const et=Math.max(-90,Math.min(90,xe[1]));let tt=xe[2]===180?180:((xe[2]+180)%360+360)%360-180;const dt=Math.max(-90,Math.min(90,xe[3]));if(xe[2]-xe[0]>=360)je=-180,tt=180;else if(je>tt){const Ut=this.getClusters([je,et,180,dt],Ce),dr=this.getClusters([-180,et,tt,dt],Ce);return Ut.concat(dr)}const Et=this.trees[this._limitZoom(Ce)],ct=Et.range(Nr(je),gt(dt),Nr(tt),gt(et)),wt=Et.data,Wt=[];for(const Ut of ct){const dr=this.stride*Ut;Wt.push(wt[dr+sr]>1?Xt(wt,dr,this.clusterProps):this.points[wt[dr+Lt]])}return Wt}getChildren(xe){const Ce=this._getOriginId(xe),je=this._getOriginZoom(xe),et="No cluster with the specified id.",tt=this.trees[je];if(!tt)throw new Error(et);const dt=tt.data;if(Ce*this.stride>=dt.length)throw new Error(et);const Et=this.options.radius/(this.options.extent*Math.pow(2,je-1)),ct=tt.within(dt[Ce*this.stride],dt[Ce*this.stride+1],Et),wt=[];for(const Wt of ct){const Ut=Wt*this.stride;dt[Ut+4]===xe&&wt.push(dt[Ut+sr]>1?Xt(dt,Ut,this.clusterProps):this.points[dt[Ut+Lt]])}if(wt.length===0)throw new Error(et);return wt}getLeaves(xe,Ce,je){const et=[];return this._appendLeaves(et,xe,Ce=Ce||10,je=je||0,0),et}getTile(xe,Ce,je){const et=this.trees[this._limitZoom(xe)],tt=Math.pow(2,xe),{extent:dt,radius:Et}=this.options,ct=Et/dt,wt=(je-ct)/tt,Wt=(je+1+ct)/tt,Ut={features:[]};return this._addTileFeatures(et.range((Ce-ct)/tt,wt,(Ce+1+ct)/tt,Wt),et.data,Ce,je,tt,Ut),Ce===0&&this._addTileFeatures(et.range(1-ct/tt,wt,1,Wt),et.data,tt,je,tt,Ut),Ce===tt-1&&this._addTileFeatures(et.range(0,wt,ct/tt,Wt),et.data,-1,je,tt,Ut),Ut.features.length?Ut:null}getClusterExpansionZoom(xe){let Ce=this._getOriginZoom(xe)-1;for(;Ce<=this.options.maxZoom;){const je=this.getChildren(xe);if(Ce++,je.length!==1)break;xe=je[0].properties.cluster_id}return Ce}_appendLeaves(xe,Ce,je,et,tt){const dt=this.getChildren(Ce);for(const Et of dt){const ct=Et.properties;if(ct&&ct.cluster?tt+ct.point_count<=et?tt+=ct.point_count:tt=this._appendLeaves(xe,ct.cluster_id,je,et,tt):tt<et?tt++:xe.push(Et),xe.length===je)break}return tt}_createTree(xe){const Ce=new o.cN(xe.length/this.stride|0,this.options.nodeSize,Float32Array);for(let je=0;je<xe.length;je+=this.stride)Ce.add(xe[je],xe[je+1]);return Ce.finish(),Ce.data=xe,Ce}_addTileFeatures(xe,Ce,je,et,tt,dt){for(const Et of xe){const ct=Et*this.stride,wt=Ce[ct+sr]>1;let Wt,Ut,dr;if(wt)Wt=xn(Ce,ct,this.clusterProps),Ut=Ce[ct],dr=Ce[ct+1];else{const Pn=this.points[Ce[ct+Lt]];Wt=Pn.properties;const[Zr,wn]=Pn.geometry.coordinates;Ut=Nr(Zr),dr=gt(wn)}const Ar={type:1,geometry:[[Math.round(this.options.extent*(Ut*tt-je)),Math.round(this.options.extent*(dr*tt-et))]],tags:Wt};let Fr;Fr=wt||this.options.generateId?Ce[ct+Lt]:this.points[Ce[ct+Lt]].id,Fr!==void 0&&(Ar.id=Fr),dt.features.push(Ar)}}_limitZoom(xe){return Math.max(this.options.minZoom,Math.min(Math.floor(+xe),this.options.maxZoom+1))}_cluster(xe,Ce){const{radius:je,extent:et,reduce:tt,minPoints:dt}=this.options,Et=je/(et*Math.pow(2,Ce)),ct=xe.data,wt=[],Wt=this.stride;for(let Ut=0;Ut<ct.length;Ut+=Wt){if(ct[Ut+2]<=Ce)continue;ct[Ut+2]=Ce;const dr=ct[Ut],Ar=ct[Ut+1],Fr=xe.within(ct[Ut],ct[Ut+1],Et),Pn=ct[Ut+sr];let Zr=Pn;for(const wn of Fr){const xr=wn*Wt;ct[xr+2]>Ce&&(Zr+=ct[xr+sr])}if(Zr>Pn&&Zr>=dt){let wn,xr=dr*Pn,gi=Ar*Pn,Cn=-1;const vn=(Ut/Wt<<5)+(Ce+1)+this.points.length;for(const Ui of Fr){const Wi=Ui*Wt;if(ct[Wi+2]<=Ce)continue;ct[Wi+2]=Ce;const qa=ct[Wi+sr];xr+=ct[Wi]*qa,gi+=ct[Wi+1]*qa,ct[Wi+4]=vn,tt&&(wn||(wn=this._map(ct,Ut,!0),Cn=this.clusterProps.length,this.clusterProps.push(wn)),tt(wn,this._map(ct,Wi)))}ct[Ut+4]=vn,wt.push(xr/Zr,gi/Zr,1/0,vn,-1,Zr),tt&&wt.push(Cn)}else{for(let wn=0;wn<Wt;wn++)wt.push(ct[Ut+wn]);if(Zr>1)for(const wn of Fr){const xr=wn*Wt;if(!(ct[xr+2]<=Ce)){ct[xr+2]=Ce;for(let gi=0;gi<Wt;gi++)wt.push(ct[xr+gi])}}}}return wt}_getOriginId(xe){return xe-this.points.length>>5}_getOriginZoom(xe){return(xe-this.points.length)%32}_map(xe,Ce,je){if(xe[Ce+sr]>1){const dt=this.clusterProps[xe[Ce+Bt]];return je?Object.assign({},dt):dt}const et=this.points[xe[Ce+Lt]].properties,tt=this.options.map(et);return je&&tt===et?Object.assign({},tt):tt}}function Xt(it,xe,Ce){return{type:"Feature",id:it[xe+Lt],properties:xn(it,xe,Ce),geometry:{type:"Point",coordinates:[(je=it[xe],360*(je-.5)),kt(it[xe+1])]}};var je}function xn(it,xe,Ce){const je=it[xe+sr],et=je>=1e4?`${Math.round(je/1e3)}k`:je>=1e3?Math.round(je/100)/10+"k":je,tt=it[xe+Bt],dt=tt===-1?{}:Object.assign({},Ce[tt]);return Object.assign(dt,{cluster:!0,cluster_id:it[xe+Lt],point_count:je,point_count_abbreviated:et})}function Nr(it){return it/360+.5}function gt(it){const xe=Math.sin(it*Math.PI/180),Ce=.5-.25*Math.log((1+xe)/(1-xe))/Math.PI;return Ce<0?0:Ce>1?1:Ce}function kt(it){const xe=(180-360*it)*Math.PI/180;return 360*Math.atan(Math.exp(xe))/Math.PI-90}function Zt(it,xe,Ce,je){let et=je;const tt=xe+(Ce-xe>>1);let dt,Et=Ce-xe;const ct=it[xe],wt=it[xe+1],Wt=it[Ce],Ut=it[Ce+1];for(let dr=xe+3;dr<Ce;dr+=3){const Ar=ur(it[dr],it[dr+1],ct,wt,Wt,Ut);if(Ar>et)dt=dr,et=Ar;else if(Ar===et){const Fr=Math.abs(dr-tt);Fr<Et&&(dt=dr,Et=Fr)}}et>je&&(dt-xe>3&&Zt(it,xe,dt,je),it[dt+2]=et,Ce-dt>3&&Zt(it,dt,Ce,je))}function ur(it,xe,Ce,je,et,tt){let dt=et-Ce,Et=tt-je;if(dt!==0||Et!==0){const ct=((it-Ce)*dt+(xe-je)*Et)/(dt*dt+Et*Et);ct>1?(Ce=et,je=tt):ct>0&&(Ce+=dt*ct,je+=Et*ct)}return dt=it-Ce,Et=xe-je,dt*dt+Et*Et}function yr(it,xe,Ce,je){const et={id:it??null,type:xe,geometry:Ce,tags:je,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(xe==="Point"||xe==="MultiPoint"||xe==="LineString")kr(et,Ce);else if(xe==="Polygon")kr(et,Ce[0]);else if(xe==="MultiLineString")for(const tt of Ce)kr(et,tt);else if(xe==="MultiPolygon")for(const tt of Ce)kr(et,tt[0]);return et}function kr(it,xe){for(let Ce=0;Ce<xe.length;Ce+=3)it.minX=Math.min(it.minX,xe[Ce]),it.minY=Math.min(it.minY,xe[Ce+1]),it.maxX=Math.max(it.maxX,xe[Ce]),it.maxY=Math.max(it.maxY,xe[Ce+1])}function Be(it,xe,Ce,je){if(!xe.geometry)return;const et=xe.geometry.coordinates;if(et&&et.length===0)return;const tt=xe.geometry.type,dt=Math.pow(Ce.tolerance/((1<<Ce.maxZoom)*Ce.extent),2);let Et=[],ct=xe.id;if(Ce.promoteId?ct=xe.properties[Ce.promoteId]:Ce.generateId&&(ct=je||0),tt==="Point")ge(et,Et);else if(tt==="MultiPoint")for(const wt of et)ge(wt,Et);else if(tt==="LineString")ve(et,Et,dt,!1);else if(tt==="MultiLineString"){if(Ce.lineMetrics){for(const wt of et)Et=[],ve(wt,Et,dt,!1),it.push(yr(ct,"LineString",Et,xe.properties));return}Qe(et,Et,dt,!1)}else if(tt==="Polygon")Qe(et,Et,dt,!0);else{if(tt!=="MultiPolygon"){if(tt==="GeometryCollection"){for(const wt of xe.geometry.geometries)Be(it,{id:ct,geometry:wt,properties:xe.properties},Ce,je);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const wt of et){const Wt=[];Qe(wt,Wt,dt,!0),Et.push(Wt)}}it.push(yr(ct,tt,Et,xe.properties))}function ge(it,xe){xe.push(bt(it[0]),It(it[1]),0)}function ve(it,xe,Ce,je){let et,tt,dt=0;for(let ct=0;ct<it.length;ct++){const wt=bt(it[ct][0]),Wt=It(it[ct][1]);xe.push(wt,Wt,0),ct>0&&(dt+=je?(et*Wt-wt*tt)/2:Math.sqrt(Math.pow(wt-et,2)+Math.pow(Wt-tt,2))),et=wt,tt=Wt}const Et=xe.length-3;xe[2]=1,Zt(xe,0,Et,Ce),xe[Et+2]=1,xe.size=Math.abs(dt),xe.start=0,xe.end=xe.size}function Qe(it,xe,Ce,je){for(let et=0;et<it.length;et++){const tt=[];ve(it[et],tt,Ce,je),xe.push(tt)}}function bt(it){return it/360+.5}function It(it){const xe=Math.sin(it*Math.PI/180),Ce=.5-.25*Math.log((1+xe)/(1-xe))/Math.PI;return Ce<0?0:Ce>1?1:Ce}function Tt(it,xe,Ce,je,et,tt,dt,Et){if(je/=xe,tt>=(Ce/=xe)&&dt<je)return it;if(dt<Ce||tt>=je)return null;const ct=[];for(const wt of it){const Wt=wt.geometry;let Ut=wt.type;const dr=et===0?wt.minX:wt.minY,Ar=et===0?wt.maxX:wt.maxY;if(dr>=Ce&&Ar<je){ct.push(wt);continue}if(Ar<Ce||dr>=je)continue;let Fr=[];if(Ut==="Point"||Ut==="MultiPoint")fn(Wt,Fr,Ce,je,et);else if(Ut==="LineString")Mr(Wt,Fr,Ce,je,et,!1,Et.lineMetrics);else if(Ut==="MultiLineString")li(Wt,Fr,Ce,je,et,!1);else if(Ut==="Polygon")li(Wt,Fr,Ce,je,et,!0);else if(Ut==="MultiPolygon")for(const Pn of Wt){const Zr=[];li(Pn,Zr,Ce,je,et,!0),Zr.length&&Fr.push(Zr)}if(Fr.length){if(Et.lineMetrics&&Ut==="LineString"){for(const Pn of Fr)ct.push(yr(wt.id,Ut,Pn,wt.tags));continue}Ut!=="LineString"&&Ut!=="MultiLineString"||(Fr.length===1?(Ut="LineString",Fr=Fr[0]):Ut="MultiLineString"),Ut!=="Point"&&Ut!=="MultiPoint"||(Ut=Fr.length===3?"Point":"MultiPoint"),ct.push(yr(wt.id,Ut,Fr,wt.tags))}}return ct.length?ct:null}function fn(it,xe,Ce,je,et){for(let tt=0;tt<it.length;tt+=3){const dt=it[tt+et];dt>=Ce&&dt<=je&&Ir(xe,it[tt],it[tt+1],it[tt+2])}}function Mr(it,xe,Ce,je,et,tt,dt){let Et=Hr(it);const ct=et===0?Li:Iu;let wt,Wt,Ut=it.start;for(let Zr=0;Zr<it.length-3;Zr+=3){const wn=it[Zr],xr=it[Zr+1],gi=it[Zr+2],Cn=it[Zr+3],vn=it[Zr+4],Ui=et===0?wn:xr,Wi=et===0?Cn:vn;let qa=!1;dt&&(wt=Math.sqrt(Math.pow(wn-Cn,2)+Math.pow(xr-vn,2))),Ui<Ce?Wi>Ce&&(Wt=ct(Et,wn,xr,Cn,vn,Ce),dt&&(Et.start=Ut+wt*Wt)):Ui>je?Wi<je&&(Wt=ct(Et,wn,xr,Cn,vn,je),dt&&(Et.start=Ut+wt*Wt)):Ir(Et,wn,xr,gi),Wi<Ce&&Ui>=Ce&&(Wt=ct(Et,wn,xr,Cn,vn,Ce),qa=!0),Wi>je&&Ui<=je&&(Wt=ct(Et,wn,xr,Cn,vn,je),qa=!0),!tt&&qa&&(dt&&(Et.end=Ut+wt*Wt),xe.push(Et),Et=Hr(it)),dt&&(Ut+=wt)}let dr=it.length-3;const Ar=it[dr],Fr=it[dr+1],Pn=et===0?Ar:Fr;Pn>=Ce&&Pn<=je&&Ir(Et,Ar,Fr,it[dr+2]),dr=Et.length-3,tt&&dr>=3&&(Et[dr]!==Et[0]||Et[dr+1]!==Et[1])&&Ir(Et,Et[0],Et[1],Et[2]),Et.length&&xe.push(Et)}function Hr(it){const xe=[];return xe.size=it.size,xe.start=it.start,xe.end=it.end,xe}function li(it,xe,Ce,je,et,tt){for(const dt of it)Mr(dt,xe,Ce,je,et,tt,!1)}function Ir(it,xe,Ce,je){it.push(xe,Ce,je)}function Li(it,xe,Ce,je,et,tt){const dt=(tt-xe)/(je-xe);return Ir(it,tt,Ce+(et-Ce)*dt,1),dt}function Iu(it,xe,Ce,je,et,tt){const dt=(tt-Ce)/(et-Ce);return Ir(it,xe+(je-xe)*dt,tt,1),dt}function Bi(it,xe){const Ce=[];for(let je=0;je<it.length;je++){const et=it[je],tt=et.type;let dt;if(tt==="Point"||tt==="MultiPoint"||tt==="LineString")dt=Mi(et.geometry,xe);else if(tt==="MultiLineString"||tt==="Polygon"){dt=[];for(const Et of et.geometry)dt.push(Mi(Et,xe))}else if(tt==="MultiPolygon"){dt=[];for(const Et of et.geometry){const ct=[];for(const wt of Et)ct.push(Mi(wt,xe));dt.push(ct)}}Ce.push(yr(et.id,tt,dt,et.tags))}return Ce}function Mi(it,xe){const Ce=[];Ce.size=it.size,it.start!==void 0&&(Ce.start=it.start,Ce.end=it.end);for(let je=0;je<it.length;je+=3)Ce.push(it[je]+xe,it[je+1],it[je+2]);return Ce}function Gl(it,xe){if(it.transformed)return it;const Ce=1<<it.z,je=it.x,et=it.y;for(const tt of it.features){const dt=tt.geometry,Et=tt.type;if(tt.geometry=[],Et===1)for(let ct=0;ct<dt.length;ct+=2)tt.geometry.push(zi(dt[ct],dt[ct+1],xe,Ce,je,et));else for(let ct=0;ct<dt.length;ct++){const wt=[];for(let Wt=0;Wt<dt[ct].length;Wt+=2)wt.push(zi(dt[ct][Wt],dt[ct][Wt+1],xe,Ce,je,et));tt.geometry.push(wt)}}return it.transformed=!0,it}function zi(it,xe,Ce,je,et,tt){return[Math.round(Ce*(it*je-et)),Math.round(Ce*(xe*je-tt))]}function Pi(it,xe,Ce,je,et){const tt=xe===et.maxZoom?0:et.tolerance/((1<<xe)*et.extent),dt={features:[],numPoints:0,numSimplified:0,numFeatures:it.length,source:null,x:Ce,y:je,z:xe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Et of it)ql(dt,Et,tt,et);return dt}function ql(it,xe,Ce,je){const et=xe.geometry,tt=xe.type,dt=[];if(it.minX=Math.min(it.minX,xe.minX),it.minY=Math.min(it.minY,xe.minY),it.maxX=Math.max(it.maxX,xe.maxX),it.maxY=Math.max(it.maxY,xe.maxY),tt==="Point"||tt==="MultiPoint")for(let Et=0;Et<et.length;Et+=3)dt.push(et[Et],et[Et+1]),it.numPoints++,it.numSimplified++;else if(tt==="LineString")ui(dt,et,it,Ce,!1,!1);else if(tt==="MultiLineString"||tt==="Polygon")for(let Et=0;Et<et.length;Et++)ui(dt,et[Et],it,Ce,tt==="Polygon",Et===0);else if(tt==="MultiPolygon")for(let Et=0;Et<et.length;Et++){const ct=et[Et];for(let wt=0;wt<ct.length;wt++)ui(dt,ct[wt],it,Ce,!0,wt===0)}if(dt.length){let Et=xe.tags||null;if(tt==="LineString"&&je.lineMetrics){Et={};for(const wt in xe.tags)Et[wt]=xe.tags[wt];Et.mapbox_clip_start=et.start/et.size,Et.mapbox_clip_end=et.end/et.size}const ct={geometry:dt,type:tt==="Polygon"||tt==="MultiPolygon"?3:tt==="LineString"||tt==="MultiLineString"?2:1,tags:Et};xe.id!==null&&(ct.id=xe.id),it.features.push(ct)}}function ui(it,xe,Ce,je,et,tt){const dt=je*je;if(je>0&&xe.size<(et?dt:je))return void(Ce.numPoints+=xe.length/3);const Et=[];for(let ct=0;ct<xe.length;ct+=3)(je===0||xe[ct+2]>dt)&&(Ce.numSimplified++,Et.push(xe[ct],xe[ct+1])),Ce.numPoints++;et&&function(ct,wt){let Wt=0;for(let Ut=0,dr=ct.length,Ar=dr-2;Ut<dr;Ar=Ut,Ut+=2)Wt+=(ct[Ut]-ct[Ar])*(ct[Ut+1]+ct[Ar+1]);if(Wt>0===wt)for(let Ut=0,dr=ct.length;Ut<dr/2;Ut+=2){const Ar=ct[Ut],Fr=ct[Ut+1];ct[Ut]=ct[dr-2-Ut],ct[Ut+1]=ct[dr-1-Ut],ct[dr-2-Ut]=Ar,ct[dr-1-Ut]=Fr}}(Et,tt),it.push(Et)}const Ji={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class ln{constructor(xe,Ce){const je=(Ce=this.options=function(tt,dt){for(const Et in dt)tt[Et]=dt[Et];return tt}(Object.create(Ji),Ce)).debug;if(je&&console.time("preprocess data"),Ce.maxZoom<0||Ce.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ce.promoteId&&Ce.generateId)throw new Error("promoteId and generateId cannot be used together.");let et=function(tt,dt){const Et=[];if(tt.type==="FeatureCollection")for(let ct=0;ct<tt.features.length;ct++)Be(Et,tt.features[ct],dt,ct);else Be(Et,tt.type==="Feature"?tt:{geometry:tt},dt);return Et}(xe,Ce);this.tiles={},this.tileCoords=[],je&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ce.indexMaxZoom,Ce.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),et=function(tt,dt){const Et=dt.buffer/dt.extent;let ct=tt;const wt=Tt(tt,1,-1-Et,Et,0,-1,2,dt),Wt=Tt(tt,1,1-Et,2+Et,0,-1,2,dt);return(wt||Wt)&&(ct=Tt(tt,1,-Et,1+Et,0,-1,2,dt)||[],wt&&(ct=Bi(wt,1).concat(ct)),Wt&&(ct=ct.concat(Bi(Wt,-1)))),ct}(et,Ce),et.length&&this.splitTile(et,0,0,0),je&&(et.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(xe,Ce,je,et,tt,dt,Et){const ct=[xe,Ce,je,et],wt=this.options,Wt=wt.debug;for(;ct.length;){et=ct.pop(),je=ct.pop(),Ce=ct.pop(),xe=ct.pop();const Ut=1<<Ce,dr=jn(Ce,je,et);let Ar=this.tiles[dr];if(!Ar&&(Wt>1&&console.time("creation"),Ar=this.tiles[dr]=Pi(xe,Ce,je,et,wt),this.tileCoords.push({z:Ce,x:je,y:et}),Wt)){Wt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ce,je,et,Ar.numFeatures,Ar.numPoints,Ar.numSimplified),console.timeEnd("creation"));const qa=`z${Ce}`;this.stats[qa]=(this.stats[qa]||0)+1,this.total++}if(Ar.source=xe,tt==null){if(Ce===wt.indexMaxZoom||Ar.numPoints<=wt.indexMaxPoints)continue}else{if(Ce===wt.maxZoom||Ce===tt)continue;if(tt!=null){const qa=tt-Ce;if(je!==dt>>qa||et!==Et>>qa)continue}}if(Ar.source=null,xe.length===0)continue;Wt>1&&console.time("clipping");const Fr=.5*wt.buffer/wt.extent,Pn=.5-Fr,Zr=.5+Fr,wn=1+Fr;let xr=null,gi=null,Cn=null,vn=null,Ui=Tt(xe,Ut,je-Fr,je+Zr,0,Ar.minX,Ar.maxX,wt),Wi=Tt(xe,Ut,je+Pn,je+wn,0,Ar.minX,Ar.maxX,wt);xe=null,Ui&&(xr=Tt(Ui,Ut,et-Fr,et+Zr,1,Ar.minY,Ar.maxY,wt),gi=Tt(Ui,Ut,et+Pn,et+wn,1,Ar.minY,Ar.maxY,wt),Ui=null),Wi&&(Cn=Tt(Wi,Ut,et-Fr,et+Zr,1,Ar.minY,Ar.maxY,wt),vn=Tt(Wi,Ut,et+Pn,et+wn,1,Ar.minY,Ar.maxY,wt),Wi=null),Wt>1&&console.timeEnd("clipping"),ct.push(xr||[],Ce+1,2*je,2*et),ct.push(gi||[],Ce+1,2*je,2*et+1),ct.push(Cn||[],Ce+1,2*je+1,2*et),ct.push(vn||[],Ce+1,2*je+1,2*et+1)}}getTile(xe,Ce,je){xe=+xe,Ce=+Ce,je=+je;const et=this.options,{extent:tt,debug:dt}=et;if(xe<0||xe>24)return null;const Et=1<<xe,ct=jn(xe,Ce=Ce+Et&Et-1,je);if(this.tiles[ct])return Gl(this.tiles[ct],tt);dt>1&&console.log("drilling down to z%d-%d-%d",xe,Ce,je);let wt,Wt=xe,Ut=Ce,dr=je;for(;!wt&&Wt>0;)Wt--,Ut>>=1,dr>>=1,wt=this.tiles[jn(Wt,Ut,dr)];return wt&&wt.source?(dt>1&&(console.log("found parent tile z%d-%d-%d",Wt,Ut,dr),console.time("drilling down")),this.splitTile(wt.source,Wt,Ut,dr,xe,Ce,je),dt>1&&console.timeEnd("drilling down"),this.tiles[ct]?Gl(this.tiles[ct],tt):null):null}}function jn(it,xe,Ce){return 32*((1<<it)*Ce+xe)+it}function Qi(it,xe){const Ce=it.tileID.canonical;if(!this._geoJSONIndex)return xe(null,null);const je=this._geoJSONIndex.getTile(Ce.z,Ce.x,Ce.y);if(!je)return xe(null,null);const et=new Z(je.features);let tt=Le(et);tt.byteOffset===0&&tt.byteLength===tt.buffer.byteLength||(tt=new Uint8Array(tt)),xe(null,{vectorTile:et,rawData:tt.buffer})}class Mu extends D{constructor(xe,Ce,je,et,tt,dt){super(xe,Ce,je,et,Qi,dt),tt&&(this.loadGeoJSON=tt),this._dynamicIndex=new fe}loadData(xe,Ce){const je=xe&&xe.request,et=je&&je.collectResourceTiming;this.loadGeoJSON(xe,(tt,dt)=>{if(tt||!dt)return Ce(tt);if(typeof dt!="object")return Ce(new Error(`Input data given to '${xe.source}' is not a valid GeoJSON object.`));{try{if(xe.filter){const ct=o.z(xe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ct.result==="error")throw new Error(ct.value.map(wt=>`${wt.key}: ${wt.message}`).join(", "));dt.features=dt.features.filter(wt=>ct.value.evaluate({zoom:0},wt))}xe.dynamic?(dt.type==="Feature"&&(dt={type:"FeatureCollection",features:[dt]}),xe.append||(this._dynamicIndex.clear(),this.loaded={}),this._dynamicIndex.load(dt.features,this.loaded),xe.cluster&&(dt.features=this._dynamicIndex.getFeatures())):this.loaded={},this._geoJSONIndex=xe.cluster?new tr(function({superclusterOptions:ct,clusterProperties:wt}){if(!wt||!ct)return ct;const Wt={},Ut={},dr={accumulated:null,zoom:0},Ar={properties:null},Fr=Object.keys(wt);for(const Pn of Fr){const[Zr,wn]=wt[Pn],xr=o.z(wn),gi=o.z(typeof Zr=="string"?[Zr,["accumulated"],["get",Pn]]:Zr);Wt[Pn]=xr.value,Ut[Pn]=gi.value}return ct.map=Pn=>{Ar.properties=Pn;const Zr={};for(const wn of Fr)Zr[wn]=Wt[wn].evaluate(dr,Ar);return Zr},ct.reduce=(Pn,Zr)=>{Ar.properties=Zr;for(const wn of Fr)dr.accumulated=Pn[wn],Pn[wn]=Ut[wn].evaluate(dr,Ar)},ct}(xe)).load(dt.features):xe.dynamic?this._dynamicIndex:function(ct,wt){return new ln(ct,wt)}(dt,xe.geojsonVtOptions)}catch(ct){return Ce(ct)}const Et={};if(et){const ct=g(je);ct&&(Et.resourceTiming={},Et.resourceTiming[xe.source]=JSON.parse(JSON.stringify(ct)))}Ce(null,Et)}})}reloadTile(xe,Ce){const je=this.loaded;return je&&je[xe.uid]?xe.partial?Ce(null,void 0):super.reloadTile(xe,Ce):this.loadTile(xe,Ce)}loadGeoJSON(xe,Ce){if(xe.request)o.h(xe.request,Ce);else{if(typeof xe.data!="string")return Ce(new Error(`Input data given to '${xe.source}' is not a valid GeoJSON object.`));try{return Ce(null,JSON.parse(xe.data))}catch{return Ce(new Error(`Input data given to '${xe.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(xe,Ce){try{Ce(null,this._geoJSONIndex.getClusterExpansionZoom(xe.clusterId))}catch(je){Ce(je)}}getClusterChildren(xe,Ce){try{Ce(null,this._geoJSONIndex.getChildren(xe.clusterId))}catch(je){Ce(je)}}getClusterLeaves(xe,Ce){try{Ce(null,this._geoJSONIndex.getLeaves(xe.clusterId,xe.limit,xe.offset))}catch(je){Ce(je)}}}class Gi{constructor(xe,Ce){this.tileID=new o.aQ(xe.tileID.overscaledZ,xe.tileID.wrap,xe.tileID.canonical.z,xe.tileID.canonical.x,xe.tileID.canonical.y),this.tileZoom=xe.tileZoom,this.uid=xe.uid,this.zoom=xe.zoom,this.canonical=xe.tileID.canonical,this.pixelRatio=xe.pixelRatio,this.tileSize=xe.tileSize,this.source=xe.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=xe.projection,this.brightness=Ce}parse(xe,Ce,je,et){this.status="parsing";const tt=new o.aQ(je.tileID.overscaledZ,je.tileID.wrap,je.tileID.canonical.z,je.tileID.canonical.x,je.tileID.canonical.y),dt={},Et=Ce.familiesBySource[je.source],ct=new o.dQ(tt,je.promoteId);return ct.bucketLayerIDs=[],ct.is3DTile=!0,o.e6(xe).then(wt=>{if(!wt)return et(new Error("Could not parse tile"));const Wt=o.e7(wt,1/o.b7(je.tileID.canonical)),Ut=wt.json.extensionsUsed&&wt.json.extensionsUsed.includes("MAPBOX_mesh_features")||wt.json.asset.extras&&wt.json.asset.extras.MAPBOX_mesh_features,dr=wt.json.extensionsUsed&&wt.json.extensionsUsed.includes("EXT_meshopt_compression"),Ar=new o.Y(this.zoom,{brightness:this.brightness});for(const Fr in Et)for(const Pn of Et[Fr]){const Zr=Pn[0];ct.bucketLayerIDs.push(Pn.map(xr=>xr.id)),Zr.recalculate(Ar,[]);const wn=new o.e8(Wt,tt,Ut,dr,this.brightness,ct);Ut||(wn.needsUpload=!0),dt[Zr.fqid]=wn,wn.evaluate(Zr)}this.status="done",et(null,{buckets:dt,featureIndex:ct})}).catch(wt=>et(new Error(wt.message)))}}class Kn{constructor(xe,Ce,je,et,tt,dt){this.actor=xe,this.layerIndex=Ce,this.brightness=dt,this.loading={},this.loaded={}}loadTile(xe,Ce){const je=xe.uid,et=this.loading[je]=new Gi(xe,this.brightness);o.e5(xe.request,(tt,dt)=>{const Et=!this.loading[je];return delete this.loading[je],Et||tt?(et.status="done",Et||(this.loaded[je]=et),Ce(tt)):dt&&dt.byteLength!==0?void et.parse(dt,this.layerIndex,xe,(ct,wt)=>{et.status="done",this.loaded=this.loaded||{},this.loaded[je]=et,ct||!wt?Ce(ct):Ce(null,wt)}):(et.status="done",this.loaded[je]=et,Ce())})}reloadTile(xe,Ce){const je=this.loaded,et=xe.uid;if(je&&je[et]){const tt=je[et];tt.projection=xe.projection,tt.brightness=xe.brightness;const dt=(Et,ct)=>{tt.reloadCallback&&(delete tt.reloadCallback,this.loadTile(xe,Ce)),Ce(Et,ct)};tt.status==="parsing"?tt.reloadCallback=dt:tt.status==="done"&&this.loadTile(xe,Ce)}}abortTile(xe,Ce){const je=xe.uid;this.loading[je]&&delete this.loading[je],Ce()}removeTile(xe,Ce){const je=this.loaded,et=xe.uid;je&&je[et]&&delete je[et],Ce()}}class Ed{constructor(xe){this.self=xe,this.actor=new o.e9(xe,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=o.aK({name:"mercator"}),this.workerSourceTypes={vector:D,geojson:Mu,"batched-model":Kn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Ce,je)=>{if(this.workerSourceTypes[Ce])throw new Error(`Worker source with name "${Ce}" already registered.`);this.workerSourceTypes[Ce]=je},this.self.registerRTLTextPlugin=Ce=>{if(o.ea.isParsed())throw new Error("RTL text plugin already registered.");o.ea.applyArabicShaping=Ce.applyArabicShaping,o.ea.processBidirectionalText=Ce.processBidirectionalText,o.ea.processStyledBidirectionalText=Ce.processStyledBidirectionalText}}clearCaches(xe,Ce,je){delete this.layerIndexes[xe],delete this.availableImages[xe],delete this.workerSources[xe],delete this.demWorkerSources[xe],delete this.rasterArrayWorkerSource,je()}checkIfReady(xe,Ce,je){je()}setReferrer(xe,Ce){this.referrer=Ce}spriteLoaded(xe,{scope:Ce,isLoaded:je}){if(this.isSpriteLoaded[xe]||(this.isSpriteLoaded[xe]={}),this.isSpriteLoaded[xe][Ce]=je,this.workerSources[xe]&&this.workerSources[xe][Ce])for(const et in this.workerSources[xe][Ce]){const tt=this.workerSources[xe][Ce][et];for(const dt in tt){const Et=tt[dt];Et instanceof D&&(Et.isSpriteLoaded=je,Et.fire(new o.g("isSpriteLoaded")))}}}setImages(xe,{scope:Ce,images:je},et){if(this.availableImages[xe]||(this.availableImages[xe]={}),this.availableImages[xe][Ce]=je,this.workerSources[xe]&&this.workerSources[xe][Ce]){for(const tt in this.workerSources[xe][Ce]){const dt=this.workerSources[xe][Ce][tt];for(const Et in dt)dt[Et].availableImages=je}et()}else et()}setProjection(xe,Ce){this.projections[xe]=o.aK(Ce)}setBrightness(xe,Ce,je){this.brightness=Ce,je()}setLayers(xe,Ce,je){this.getLayerIndex(xe,Ce.scope).replace(Ce.layers,Ce.options),je()}updateLayers(xe,Ce,je){this.getLayerIndex(xe,Ce.scope).update(Ce.layers,Ce.removedIds,Ce.options),je()}loadTile(xe,Ce,je){Ce.projection=this.projections[xe]||this.defaultProjection,this.getWorkerSource(xe,Ce.type,Ce.source,Ce.scope).loadTile(Ce,je)}loadDEMTile(xe,Ce,je){this.getDEMWorkerSource(xe,Ce.source,Ce.scope).loadTile(Ce,je)}decodeRasterArray(xe,Ce,je){this.getRasterArrayWorkerSource().decodeRasterArray(Ce,je)}reloadTile(xe,Ce,je){Ce.projection=this.projections[xe]||this.defaultProjection,this.getWorkerSource(xe,Ce.type,Ce.source,Ce.scope).reloadTile(Ce,je)}abortTile(xe,Ce,je){this.getWorkerSource(xe,Ce.type,Ce.source,Ce.scope).abortTile(Ce,je)}removeTile(xe,Ce,je){this.getWorkerSource(xe,Ce.type,Ce.source,Ce.scope).removeTile(Ce,je)}removeSource(xe,Ce,je){if(!(this.workerSources[xe]&&this.workerSources[xe][Ce.scope]&&this.workerSources[xe][Ce.scope][Ce.type]&&this.workerSources[xe][Ce.scope][Ce.type][Ce.source]))return;const et=this.workerSources[xe][Ce.scope][Ce.type][Ce.source];delete this.workerSources[xe][Ce.scope][Ce.type][Ce.source],et.removeSource!==void 0?et.removeSource(Ce,je):je()}loadWorkerSource(xe,Ce,je){try{this.self.importScripts(Ce.url),je()}catch(et){je(et.toString())}}syncRTLPluginState(xe,Ce,je){try{o.ea.setState(Ce);const et=o.ea.getPluginURL();if(o.ea.isLoaded()&&!o.ea.isParsed()&&et!=null){this.self.importScripts(et);const tt=o.ea.isParsed();je(tt?void 0:new Error(`RTL Text Plugin failed to import scripts from ${et}`),tt)}}catch(et){je(et.toString())}}setDracoUrl(xe,Ce){this.dracoUrl=Ce}getAvailableImages(xe,Ce){this.availableImages[xe]||(this.availableImages[xe]={});let je=this.availableImages[xe][Ce];return je||(je=[]),je}getLayerIndex(xe,Ce){this.layerIndexes[xe]||(this.layerIndexes[xe]={});let je=this.layerIndexes[xe][Ce];return je||(je=this.layerIndexes[xe][Ce]=new E,je.scope=Ce),je}getWorkerSource(xe,Ce,je,et){return this.workerSources[xe]||(this.workerSources[xe]={}),this.workerSources[xe][et]||(this.workerSources[xe][et]={}),this.workerSources[xe][et][Ce]||(this.workerSources[xe][et][Ce]={}),this.isSpriteLoaded[xe]||(this.isSpriteLoaded[xe]={}),this.workerSources[xe][et][Ce][je]||(this.workerSources[xe][et][Ce][je]=new this.workerSourceTypes[Ce]({send:(tt,dt,Et,ct,wt,Wt)=>{this.actor.send(tt,dt,Et,xe,wt,Wt)},scheduler:this.actor.scheduler},this.getLayerIndex(xe,et),this.getAvailableImages(xe,et),this.isSpriteLoaded[xe][et],void 0,this.brightness)),this.workerSources[xe][et][Ce][je]}getDEMWorkerSource(xe,Ce,je){return this.demWorkerSources[xe]||(this.demWorkerSources[xe]={}),this.demWorkerSources[xe][je]||(this.demWorkerSources[xe][je]={}),this.demWorkerSources[xe][je][Ce]||(this.demWorkerSources[xe][je][Ce]=new $),this.demWorkerSources[xe][je][Ce]}getRasterArrayWorkerSource(){return this.rasterArrayWorkerSource||(this.rasterArrayWorkerSource=new B),this.rasterArrayWorkerSource}enforceCacheSizeLimit(xe,Ce){o.eb(Ce)}getWorkerPerformanceMetrics(xe,Ce,je){je(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Ed(self)),Ed}),c(["./shared"],function(o){var g=y;function y(b){return!function(d){return typeof window>"u"||typeof document>"u"?"not a browser":function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var w,T,C=new Blob([""],{type:"text/javascript"}),O=URL.createObjectURL(C);try{T=new Worker(O),w=!0}catch{w=!1}return T&&T.terminate(),URL.revokeObjectURL(O),w}()?function(){var w=document.createElement("canvas");w.width=w.height=1;var T=w.getContext("2d");if(!T)return!1;var C=T.getImageData(0,0,1,1);return C&&C.width===w.width}()?(x[m=d&&d.failIfMajorPerformanceCaveat]===void 0&&(x[m]=function(w){var T,C=function(O){var z=document.createElement("canvas"),K=Object.create(y.webGLContextAttributes);return K.failIfMajorPerformanceCaveat=O,z.getContext("webgl2",K)}(w);if(!C)return!1;try{T=C.createShader(C.VERTEX_SHADER)}catch{return!1}return!(!T||C.isContextLost())&&(C.shaderSource(T,"void main() {}"),C.compileShader(T),C.getShaderParameter(T,C.COMPILE_STATUS)===!0)}(m)),x[m]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL2 support"):"insufficient Canvas/getImageData support":"insufficient worker support";var m}(b)}var x={};function E(b,d,m){const w=document.createElement(b);return d!=null&&(w.className=d),m&&m.appendChild(w),w}function A(b,d,m){const w=document.createElementNS("http://www.w3.org/2000/svg",b);for(const T of Object.keys(d))w.setAttributeNS(null,T,String(d[T]));return m&&m.appendChild(w),w}y.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const M=typeof document<"u"?document.documentElement&&document.documentElement.style:null,R=M&&M.userSelect!==void 0?"userSelect":"WebkitUserSelect";let k;function D(){M&&R&&(k=M[R],M[R]="none")}function $(){M&&R&&(M[R]=k)}function B(b){b.preventDefault(),b.stopPropagation(),window.removeEventListener("click",B,!0)}function V(){window.addEventListener("click",B,!0),window.setTimeout(()=>{window.removeEventListener("click",B,!0)},0)}function U(b,d){const m=b.getBoundingClientRect();return j(b,m,d)}function Z(b,d){const m=b.getBoundingClientRect(),w=[];for(let T=0;T<d.length;T++)w.push(j(b,m,d[T]));return w}function ne(b){return window.InstallTrigger!==void 0&&b.button===2&&b.ctrlKey&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:b.button}function j(b,d,m){const w=b.offsetWidth===d.width?1:b.offsetWidth/d.width;return new o.P((m.clientX-d.left)*w,(m.clientY-d.top)*w)}class fe{constructor(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps=new Set,this._updatedImages=new Set}isDirty(){return this._changed}setDirty(){this._changed=!0}getUpdatedSourceCaches(){return this._updatedSourceCaches}updateSourceCache(d,m){this._updatedSourceCaches[d]=m,this.setDirty()}discardSourceCacheUpdate(d){delete this._updatedSourceCaches[d]}updateLayer(d){const m=d.scope;this._updatedLayers[m]=this._updatedLayers[m]||new Set,this._updatedLayers[m].add(d.id),this.setDirty()}removeLayer(d){const m=d.scope;this._removedLayers[m]=this._removedLayers[m]||{},this._updatedLayers[m]=this._updatedLayers[m]||new Set,this._removedLayers[m][d.id]=d,this._updatedLayers[m].delete(d.id),this._updatedPaintProps.delete(d.fqid),this.setDirty()}getRemovedLayer(d){return this._removedLayers[d.scope]?this._removedLayers[d.scope][d.id]:null}discardLayerRemoval(d){this._removedLayers[d.scope]&&delete this._removedLayers[d.scope][d.id]}getLayerUpdatesByScope(){const d={};for(const m in this._updatedLayers)d[m]=d[m]||{},d[m].updatedIds=Array.from(this._updatedLayers[m].values());for(const m in this._removedLayers)d[m]=d[m]||{},d[m].removedIds=Object.keys(this._removedLayers[m]);return d}getUpdatedPaintProperties(){return this._updatedPaintProps}updatePaintProperties(d){this._updatedPaintProps.add(d.fqid),this.setDirty()}getUpdatedImages(){return Array.from(this._updatedImages.values())}updateImage(d){this._updatedImages.add(d),this.setDirty()}resetUpdatedImages(){this._updatedImages.clear()}reset(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps.clear(),this._updatedImages.clear()}}const be={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class pe{constructor(d,m,w,T,C,O){this.length=m.length,this.attributes=w,this.itemSize=m.bytesPerElement,this.dynamicDraw=T,this.instanceCount=O,this.context=d;const z=d.gl;this.buffer=z.createBuffer(),d.bindVertexBuffer.set(this.buffer),z.bufferData(z.ARRAY_BUFFER,m.arrayBuffer,this.dynamicDraw?z.DYNAMIC_DRAW:z.STATIC_DRAW),this.dynamicDraw||C||m.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(d){const m=this.context.gl;this.bind(),m.bufferSubData(m.ARRAY_BUFFER,0,d.arrayBuffer)}enableAttributes(d,m){for(let w=0;w<this.attributes.length;w++){const T=m.attributes[this.attributes[w].name];T!==void 0&&d.enableVertexAttribArray(T)}}setVertexAttribPointers(d,m,w){for(let T=0;T<this.attributes.length;T++){const C=this.attributes[T],O=m.attributes[C.name];O!==void 0&&d.vertexAttribPointer(O,C.components,d[be[C.type]],!1,this.itemSize,C.offset+this.itemSize*(w||0))}}setVertexAttribDivisor(d,m,w){for(let T=0;T<this.attributes.length;T++){const C=m.attributes[this.attributes[T].name];C!==void 0&&this.instanceCount&&this.instanceCount>0&&d.vertexAttribDivisor(C,w)}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class le{constructor(d){this.gl=d.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(d){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class G extends le{getDefault(){return o.C.transparent}set(d){const m=this.current;(d.r!==m.r||d.g!==m.g||d.b!==m.b||d.a!==m.a||this.dirty)&&(this.gl.clearColor(d.r,d.g,d.b,d.a),this.current=d,this.dirty=!1)}}class N extends le{getDefault(){return 1}set(d){(d!==this.current||this.dirty)&&(this.gl.clearDepth(d),this.current=d,this.dirty=!1)}}class Y extends le{getDefault(){return 0}set(d){(d!==this.current||this.dirty)&&(this.gl.clearStencil(d),this.current=d,this.dirty=!1)}}class te extends le{getDefault(){return[!0,!0,!0,!0]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||d[2]!==m[2]||d[3]!==m[3]||this.dirty)&&(this.gl.colorMask(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class re extends le{getDefault(){return!0}set(d){(d!==this.current||this.dirty)&&(this.gl.depthMask(d),this.current=d,this.dirty=!1)}}class he extends le{getDefault(){return 255}set(d){(d!==this.current||this.dirty)&&(this.gl.stencilMask(d),this.current=d,this.dirty=!1)}}class we extends le{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(d){const m=this.current;(d.func!==m.func||d.ref!==m.ref||d.mask!==m.mask||this.dirty)&&(this.gl.stencilFunc(d.func,d.ref,d.mask),this.current=d,this.dirty=!1)}}class ye extends le{getDefault(){const d=this.gl;return[d.KEEP,d.KEEP,d.KEEP]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||d[2]!==m[2]||this.dirty)&&(this.gl.stencilOp(d[0],d[1],d[2]),this.current=d,this.dirty=!1)}}class ue extends le{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;d?m.enable(m.STENCIL_TEST):m.disable(m.STENCIL_TEST),this.current=d,this.dirty=!1}}class J extends le{getDefault(){return[0,1]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||this.dirty)&&(this.gl.depthRange(d[0],d[1]),this.current=d,this.dirty=!1)}}class de extends le{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;d?m.enable(m.DEPTH_TEST):m.disable(m.DEPTH_TEST),this.current=d,this.dirty=!1}}class ke extends le{getDefault(){return this.gl.LESS}set(d){(d!==this.current||this.dirty)&&(this.gl.depthFunc(d),this.current=d,this.dirty=!1)}}class Oe extends le{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;d?m.enable(m.BLEND):m.disable(m.BLEND),this.current=d,this.dirty=!1}}class Se extends le{getDefault(){const d=this.gl;return[d.ONE,d.ZERO,d.ONE,d.ZERO]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||d[2]!==m[2]||d[3]!==m[3]||this.dirty)&&(this.gl.blendFuncSeparate(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class We extends le{getDefault(){return o.C.transparent}set(d){const m=this.current;(d.r!==m.r||d.g!==m.g||d.b!==m.b||d.a!==m.a||this.dirty)&&(this.gl.blendColor(d.r,d.g,d.b,d.a),this.current=d,this.dirty=!1)}}class Je extends le{getDefault(){return this.gl.FUNC_ADD}set(d){(d!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(d,d),this.current=d,this.dirty=!1)}}class $e extends le{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;d?m.enable(m.CULL_FACE):m.disable(m.CULL_FACE),this.current=d,this.dirty=!1}}class ft extends le{getDefault(){return this.gl.BACK}set(d){(d!==this.current||this.dirty)&&(this.gl.cullFace(d),this.current=d,this.dirty=!1)}}class Me extends le{getDefault(){return this.gl.CCW}set(d){(d!==this.current||this.dirty)&&(this.gl.frontFace(d),this.current=d,this.dirty=!1)}}let Te=class extends le{getDefault(){return null}set(b){(b!==this.current||this.dirty)&&(this.gl.useProgram(b),this.current=b,this.dirty=!1)}};class Le extends le{getDefault(){return this.gl.TEXTURE0}set(d){(d!==this.current||this.dirty)&&(this.gl.activeTexture(d),this.current=d,this.dirty=!1)}}class Ne extends le{getDefault(){const d=this.gl;return[0,0,d.drawingBufferWidth,d.drawingBufferHeight]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||d[2]!==m[2]||d[3]!==m[3]||this.dirty)&&(this.gl.viewport(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class At extends le{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.bindFramebuffer(m.FRAMEBUFFER,d),this.current=d,this.dirty=!1}}class Ct extends le{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.bindRenderbuffer(m.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class Lt extends le{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.bindTexture(m.TEXTURE_2D,d),this.current=d,this.dirty=!1}}class sr extends le{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.bindBuffer(m.ARRAY_BUFFER,d),this.current=d,this.dirty=!1}}class Bt extends le{getDefault(){return null}set(d){const m=this.gl;m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,d),this.current=d,this.dirty=!1}}class tr extends le{getDefault(){return null}set(d){this.gl&&(d!==this.current||this.dirty)&&(this.gl.bindVertexArray(d),this.current=d,this.dirty=!1)}}class Xt extends le{getDefault(){return 4}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_ALIGNMENT,d),this.current=d,this.dirty=!1}}class xn extends le{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d),this.current=d,this.dirty=!1}}class Nr extends le{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,d),this.current=d,this.dirty=!1}}class gt extends le{constructor(d,m){super(d),this.context=d,this.parent=m}getDefault(){return null}}class kt extends gt{setDirty(){this.dirty=!0}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,d,0),this.current=d,this.dirty=!1}}class Zt extends gt{attachment(){return this.gl.DEPTH_ATTACHMENT}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferRenderbuffer(m.FRAMEBUFFER,this.attachment(),m.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class ur extends gt{attachment(){return this.gl.DEPTH_ATTACHMENT}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferTexture2D(m.FRAMEBUFFER,this.attachment(),m.TEXTURE_2D,d,0),this.current=d,this.dirty=!1}}class yr extends Zt{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class kr{constructor(d,m,w,T,C){this.context=d,this.width=m,this.height=w;const O=this.framebuffer=d.gl.createFramebuffer();T&&(this.colorAttachment=new kt(d,O)),C&&(this.depthAttachmentType=C,this.depthAttachment=C==="renderbuffer"?new Zt(d,O):new ur(d,O))}destroy(){const d=this.context.gl;if(this.colorAttachment){const m=this.colorAttachment.get();m&&d.deleteTexture(m)}if(this.depthAttachment&&this.depthAttachmentType)if(this.depthAttachmentType==="renderbuffer"){const m=this.depthAttachment.get();m&&d.deleteRenderbuffer(m)}else{const m=this.depthAttachment.get();m&&d.deleteTexture(m)}d.deleteFramebuffer(this.framebuffer)}}class Be{constructor(d,m){this.gl=d,this.clearColor=new G(this),this.clearDepth=new N(this),this.clearStencil=new Y(this),this.colorMask=new te(this),this.depthMask=new re(this),this.stencilMask=new he(this),this.stencilFunc=new we(this),this.stencilOp=new ye(this),this.stencilTest=new ue(this),this.depthRange=new J(this),this.depthTest=new de(this),this.depthFunc=new ke(this),this.blend=new Oe(this),this.blendFunc=new Se(this),this.blendColor=new We(this),this.blendEquation=new Je(this),this.cullFace=new $e(this),this.cullFaceSide=new ft(this),this.frontFace=new Me(this),this.program=new Te(this),this.activeTexture=new Le(this),this.viewport=new Ne(this),this.bindFramebuffer=new At(this),this.bindRenderbuffer=new Ct(this),this.bindTexture=new Lt(this),this.bindVertexBuffer=new sr(this),this.bindElementBuffer=new Bt(this),this.bindVertexArrayOES=new tr(this),this.pixelStoreUnpack=new Xt(this),this.pixelStoreUnpackPremultiplyAlpha=new xn(this),this.pixelStoreUnpackFlipY=new Nr(this),this.options=m?{...m}:{},this.options.extTextureFilterAnisotropicForceOff||(this.extTextureFilterAnisotropic=d.getExtension("EXT_texture_filter_anisotropic")||d.getExtension("MOZ_EXT_texture_filter_anisotropic")||d.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=d.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),this.extDebugRendererInfo=d.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=d.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=d.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.options.extTextureFloatLinearForceOff||(this.extTextureFloatLinear=d.getExtension("OES_texture_float_linear")),this.extRenderToTextureHalfFloat=d.getExtension("EXT_color_buffer_half_float"),this.extTimerQuery=d.getExtension("EXT_disjoint_timer_query_webgl2"),this.maxTextureSize=d.getParameter(d.MAX_TEXTURE_SIZE),this.maxPointSize=d.getParameter(d.ALIASED_POINT_SIZE_RANGE)[1]}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(d,m,w){return new o.I(this,d,m,w)}createVertexBuffer(d,m,w,T,C){return new pe(this,d,m,w,T,C)}createRenderbuffer(d,m,w){const T=this.gl,C=T.createRenderbuffer();return this.bindRenderbuffer.set(C),T.renderbufferStorage(T.RENDERBUFFER,d,m,w),this.bindRenderbuffer.set(null),C}createFramebuffer(d,m,w,T){return new kr(this,d,m,w,T)}clear({color:d,depth:m,stencil:w,colorMask:T}){const C=this.gl;let O=0;d&&(O|=C.COLOR_BUFFER_BIT,this.clearColor.set(d),this.colorMask.set(T||[!0,!0,!0,!0])),m!==void 0&&(O|=C.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(m),this.depthMask.set(!0)),w!==void 0&&(O|=C.STENCIL_BUFFER_BIT,this.clearStencil.set(w),this.stencilMask.set(255)),C.clear(O)}setCullFace(d){d.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(d.mode),this.frontFace.set(d.frontFace))}setDepthMode(d){d.func!==this.gl.ALWAYS||d.mask?(this.depthTest.set(!0),this.depthFunc.set(d.func),this.depthMask.set(d.mask),this.depthRange.set(d.range)):this.depthTest.set(!1)}setStencilMode(d){d.test.func!==this.gl.ALWAYS||d.mask?(this.stencilTest.set(!0),this.stencilMask.set(d.mask),this.stencilOp.set([d.fail,d.depthFail,d.pass]),this.stencilFunc.set({func:d.test.func,ref:d.ref,mask:d.test.mask})):this.stencilTest.set(!1)}setColorMode(d){o.d(d.blendFunction,o.a.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(d.blendFunction),this.blendColor.set(d.blendColor),d.blendEquation?this.blendEquation.set(d.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(d.mask)}unbindVAO(){this.bindVertexArrayOES.set(null)}}class ge{constructor(d,m,w,T){const C={width:w[0],height:w[1],data:null},O=d.gl;this.targetColorTexture=new o.T(d,C,O.RGBA,{useMipmap:!1}),this.backgroundColorTexture=new o.T(d,C,O.RGBA,{useMipmap:!1}),this.context=d,this.updateParticleTexture(m,T),this.lastInvalidatedAt=0}updateParticleTexture(d,m){if(this.particleTextureDimension===m.width)return;(this.particleTexture0||this.particleTexture1||this.particleIndexBuffer||this.particleSegment)&&(this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleIndexBuffer.destroy(),this.particleSegment.destroy());const w=this.context.gl,T=m.width*m.height;this.particleTexture0=new o.T(this.context,m,w.RGBA,{premultiply:!1,useMipmap:!1}),this.particleTexture1=new o.T(this.context,m,w.RGBA,{premultiply:!1,useMipmap:!1});const C=new o.S;C.reserve(T);for(let O=0;O<T;O++)C.emplaceBack(O);this.particleIndexBuffer=this.context.createVertexBuffer(C,o.p.members,!0),this.particleSegment=o.b.simpleSegment(0,0,this.particleIndexBuffer.length,0),this.particleTextureDimension=m.width}update(d){return!(this.lastInvalidatedAt<d&&(this.lastInvalidatedAt=o.e.now(),1))}destroy(){this.targetColorTexture.destroy(),this.backgroundColorTexture.destroy(),this.particleIndexBuffer.destroy(),this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleSegment.destroy()}}class ve extends o.E{constructor(d){super(),this.requestManager=d,this.models={"":{}},this.numModelsLoading={}}loadModel(d,m){return o.l(this.requestManager.transformRequest(m,o.R.Model).url).then(w=>{if(!w)return;const T=o.c(w),C=new o.M(d,void 0,void 0,T);return C.computeBoundsAndApplyParent(),C}).catch(w=>{if(w&&w.status===404)return null;this.fire(new o.f(new Error(`Could not load model ${d} from ${m}: ${w.message}`)))})}load(d,m){this.models[m]||(this.models[m]={});const w=Object.keys(d);this.numModelsLoading[m]=(this.numModelsLoading[m]||0)+w.length;const T=[];for(const C of w)T.push(this.loadModel(C,d[C]));Promise.allSettled(T).then(C=>{for(let O=0;O<C.length;O++){const{status:z,value:K}=C[O];z==="fulfilled"&&K&&(this.models[m][w[O]]={model:K,numReferences:1})}this.numModelsLoading[m]-=w.length,this.fire(new o.g("data",{dataType:"style"}))}).catch(C=>{this.fire(new o.f(new Error(`Could not load models: ${C.message}`)))})}isLoaded(){for(const d in this.numModelsLoading)if(this.numModelsLoading[d]>0)return!1;return!0}hasModel(d,m){return!!this.getModel(d,m)}getModel(d,m){return this.models[m]||(this.models[m]={}),this.models[m][d]?this.models[m][d].model:void 0}addModel(d,m,w){this.models[w]||(this.models[w]={}),this.hasModel(d,w)&&this.models[w][d].numReferences++,this.load({[d]:this.requestManager.normalizeModelURL(m)},w)}addModels(d,m){this.models[m]||(this.models[m]={});const w={};for(const T in d)this.models[m][T]={},w[T]=this.requestManager.normalizeModelURL(d[T]);this.load(w,m)}addModelsFromBucket(d,m){this.models[m]||(this.models[m]={});const w={};for(const T of d)this.hasModel(T,m)?this.models[m][T].numReferences++:w[T]=this.requestManager.normalizeModelURL(T);this.load(w,m)}removeModel(d,m){if(this.models[m]&&this.models[m][d]&&(this.models[m][d].numReferences--,this.models[m][d].numReferences===0)){const w=this.models[m][d].model;delete this.models[m][d],w.destroy()}}listModels(d){return this.models[d]||(this.models[d]={}),Object.keys(this.models[d])}upload(d,m){this.models[m]||(this.models[m]={});for(const w in this.models[m])this.models[m][w].model&&this.models[m][w].model.upload(d.context)}}function Qe(b){const{userImage:d}=b;return!!(d&&d.render&&d.render())&&(b.data.replace(new Uint8Array(d.data.buffer)),!0)}class bt extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0}createScope(d){this.images[d]={},this.loaded[d]=!1,this.updatedImages[d]={},this.patterns[d]={},this.callbackDispatchedThisFrame[d]={},this.atlasImage[d]=new o.j({width:1,height:1})}isLoaded(){for(const d in this.loaded)if(!this.loaded[d])return!1;return!0}setLoaded(d,m){if(this.loaded[m]!==d&&(this.loaded[m]=d,d)){for(const{ids:w,callback:T}of this.requestors)this._notify(w,m,T);this.requestors=[]}}hasImage(d,m){return!!this.getImage(d,m)}getImage(d,m){return this.images[m][d]}addImage(d,m,w){this._validate(d,w)&&(this.images[m][d]=w)}_validate(d,m){let w=!0;return this._validateStretch(m.stretchX,m.data&&m.data.width)||(this.fire(new o.f(new Error(`Image "${d}" has invalid "stretchX" value`))),w=!1),this._validateStretch(m.stretchY,m.data&&m.data.height)||(this.fire(new o.f(new Error(`Image "${d}" has invalid "stretchY" value`))),w=!1),this._validateContent(m.content,m)||(this.fire(new o.f(new Error(`Image "${d}" has invalid "content" value`))),w=!1),w}_validateStretch(d,m){if(!d)return!0;let w=0;for(const T of d){if(T[0]<w||T[1]<T[0]||m<T[1])return!1;w=T[1]}return!0}_validateContent(d,m){return!(d&&(d.length!==4||d[0]<0||m.data.width<d[0]||d[1]<0||m.data.height<d[1]||d[2]<0||m.data.width<d[2]||d[3]<0||m.data.height<d[3]||d[2]<d[0]||d[3]<d[1]))}updateImage(d,m,w){w.version=this.images[m][d].version+1,this.images[m][d]=w,this.updatedImages[m][d]=!0}removeImage(d,m){const w=this.images[m][d];delete this.images[m][d],delete this.patterns[m][d],w.userImage&&w.userImage.onRemove&&w.userImage.onRemove()}listImages(d){return Object.keys(this.images[d])}getImages(d,m,w){let T=!0;const C=!!this.loaded[m];if(!C)for(const O of d)this.images[m][O]||(T=!1);C||T?this._notify(d,m,w):this.requestors.push({ids:d,scope:m,callback:w})}getUpdatedImages(d){return this.updatedImages[d]}_notify(d,m,w){const T={};for(const C of d){this.images[m][C]||this.fire(new o.g("styleimagemissing",{id:C}));const O=this.images[m][C];O?T[C]={data:O.data.clone(),pixelRatio:O.pixelRatio,sdf:O.sdf,version:O.version,stretchX:O.stretchX,stretchY:O.stretchY,content:O.content,hasRenderCallback:!!(O.userImage&&O.userImage.render)}:o.w(`Image "${C}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}w(null,T)}getPixelSize(d){const{width:m,height:w}=this.atlasImage[d];return{width:m,height:w}}getPattern(d,m,w){const T=this.patterns[m][d],C=this.getImage(d,m);if(!C)return null;if(T&&T.position.version===C.version)return T.position;if(T)T.position.version=C.version;else{const O={w:C.data.width+2,h:C.data.height+2,x:0,y:0},z=new o.m(O,C);this.patterns[m][d]={bin:O,position:z}}return this._updatePatternAtlas(m,w),this.patterns[m][d].position}bind(d,m){const w=d.gl;let T=this.atlasTexture[m];T?this.dirty&&(T.update(this.atlasImage[m]),this.dirty=!1):(T=new o.T(d,this.atlasImage[m],w.RGBA),this.atlasTexture[m]=T),T.bind(w.LINEAR,w.CLAMP_TO_EDGE)}_updatePatternAtlas(d,m){const w=[];for(const z in this.patterns[d])w.push(this.patterns[d][z].bin);const{w:T,h:C}=o.k(w),O=this.atlasImage[d];O.resize({width:T||1,height:C||1});for(const z in this.patterns[d]){const{bin:K}=this.patterns[d][z],q=K.x+1,Q=K.y+1,ie=this.images[d][z].data,ce=ie.width,me=ie.height;o.j.copy(ie,O,{x:0,y:0},{x:q,y:Q},{width:ce,height:me},m),o.j.copy(ie,O,{x:0,y:me-1},{x:q,y:Q-1},{width:ce,height:1},m),o.j.copy(ie,O,{x:0,y:0},{x:q,y:Q+me},{width:ce,height:1},m),o.j.copy(ie,O,{x:ce-1,y:0},{x:q-1,y:Q},{width:1,height:me},m),o.j.copy(ie,O,{x:0,y:0},{x:q+ce,y:Q},{width:1,height:me},m)}this.dirty=!0}beginFrame(){for(const d in this.images)this.callbackDispatchedThisFrame[d]={}}dispatchRenderCallbacks(d,m){for(const w of d){if(this.callbackDispatchedThisFrame[m][w])continue;this.callbackDispatchedThisFrame[m][w]=!0;const T=this.images[m][w];Qe(T)&&this.updateImage(w,m,T)}}}function It(b){const d=b.key,m=b.value,w=b.valueSpec||{},T=b.objectElementValidators||{},C=b.style,O=b.styleSpec;let z=[];const K=o.o(m);if(K!=="object")return[new o.V(d,m,`object expected, ${K} found`)];for(const q in m){const Q=q.split(".")[0];let ie;T[Q]?ie=T[Q]:w[Q]?ie=Kn:T["*"]?ie=T["*"]:w["*"]&&(ie=Kn),ie?z=z.concat(ie({key:(d&&`${d}.`)+q,value:m[q],valueSpec:w[Q]||w["*"],style:C,styleSpec:O,object:m,objectKey:q},m)):z.push(new o.n(d,m[q],`unknown property "${q}"`))}for(const q in w)T[q]||w[q].required&&w[q].default===void 0&&m[q]===void 0&&z.push(new o.V(d,m,`missing required property "${q}"`));return z}function Tt(b){const d=b.value,m=b.valueSpec,w=b.style,T=b.styleSpec,C=b.key,O=b.arrayElementValidator||Kn;if(o.o(d)!=="array")return[new o.V(C,d,`array expected, ${o.o(d)} found`)];if(m.length&&d.length!==m.length)return[new o.V(C,d,`array length ${m.length} expected, length ${d.length} found`)];if(m["min-length"]&&d.length<m["min-length"])return[new o.V(C,d,`array length at least ${m["min-length"]} expected, length ${d.length} found`)];let z={type:m.value,values:m.values,minimum:m.minimum,maximum:m.maximum,function:void 0};T.$version<7&&(z.function=m.function),o.o(m.value)==="object"&&(z=m.value);let K=[];for(let q=0;q<d.length;q++)K=K.concat(O({array:d,arrayIndex:q,value:d[q],valueSpec:z,style:w,styleSpec:T,key:`${C}[${q}]`},!0));return K}function fn(b){const d=b.key,m=b.value,w=b.valueSpec;let T=o.o(m);if(T==="number"&&m!=m&&(T="NaN"),T!=="number")return[new o.V(d,m,`number expected, ${T} found`)];if("minimum"in w){let C=w.minimum;if(o.o(w.minimum)==="array"&&(C=w.minimum[b.arrayIndex]),m<C)return[new o.V(d,m,`${m} is less than the minimum value ${C}`)]}if("maximum"in w){let C=w.maximum;if(o.o(w.maximum)==="array"&&(C=w.maximum[b.arrayIndex]),m>C)return[new o.V(d,m,`${m} is greater than the maximum value ${C}`)]}return[]}function Mr(b){const d=b.valueSpec,m=o.u(b.value.type);let w,T,C,O={};const z=m!=="categorical"&&b.value.property===void 0,K=!z,q=o.o(b.value.stops)==="array"&&o.o(b.value.stops[0])==="array"&&o.o(b.value.stops[0][0])==="object",Q=It({key:b.key,value:b.value,valueSpec:b.styleSpec.function,style:b.style,styleSpec:b.styleSpec,objectElementValidators:{stops:function(me){if(m==="identity")return[new o.V(me.key,me.value,'identity function may not have a "stops" property')];let Ee=[];const Ae=me.value;return Ee=Ee.concat(Tt({key:me.key,value:Ae,valueSpec:me.valueSpec,style:me.style,styleSpec:me.styleSpec,arrayElementValidator:ie})),o.o(Ae)==="array"&&Ae.length===0&&Ee.push(new o.V(me.key,Ae,"array must have at least one stop")),Ee},default:function(me){return Kn({key:me.key,value:me.value,valueSpec:d,style:me.style,styleSpec:me.styleSpec})}}});return m==="identity"&&z&&Q.push(new o.V(b.key,b.value,'missing required property "property"')),m==="identity"||b.value.stops||Q.push(new o.V(b.key,b.value,'missing required property "stops"')),m==="exponential"&&b.valueSpec.expression&&!o.s(b.valueSpec)&&Q.push(new o.V(b.key,b.value,"exponential functions not supported")),b.styleSpec.$version>=8&&(K&&!o.r(b.valueSpec)?Q.push(new o.V(b.key,b.value,"property functions not supported")):z&&!o.t(b.valueSpec)&&Q.push(new o.V(b.key,b.value,"zoom functions not supported"))),m!=="categorical"&&!q||b.value.property!==void 0||Q.push(new o.V(b.key,b.value,'"property" property is required')),Q;function ie(me){let Ee=[];const Ae=me.value,Pe=me.key;if(o.o(Ae)!=="array")return[new o.V(Pe,Ae,`array expected, ${o.o(Ae)} found`)];if(Ae.length!==2)return[new o.V(Pe,Ae,`array length 2 expected, length ${Ae.length} found`)];if(q){if(o.o(Ae[0])!=="object")return[new o.V(Pe,Ae,`object expected, ${o.o(Ae[0])} found`)];if(Ae[0].zoom===void 0)return[new o.V(Pe,Ae,"object stop key must have zoom")];if(Ae[0].value===void 0)return[new o.V(Pe,Ae,"object stop key must have value")];const Ie=o.u(Ae[0].zoom);if(typeof Ie!="number")return[new o.V(Pe,Ae[0].zoom,"stop zoom values must be numbers")];if(C&&C>Ie)return[new o.V(Pe,Ae[0].zoom,"stop zoom values must appear in ascending order")];Ie!==C&&(C=Ie,T=void 0,O={}),Ee=Ee.concat(It({key:`${Pe}[0]`,value:Ae[0],valueSpec:{zoom:{}},style:me.style,styleSpec:me.styleSpec,objectElementValidators:{zoom:fn,value:ce}}))}else Ee=Ee.concat(ce({key:`${Pe}[0]`,value:Ae[0],valueSpec:{},style:me.style,styleSpec:me.styleSpec},Ae));return o.v(o.x(Ae[1]))?Ee.concat([new o.V(`${Pe}[1]`,Ae[1],"expressions are not allowed in function stops.")]):Ee.concat(Kn({key:`${Pe}[1]`,value:Ae[1],valueSpec:d,style:me.style,styleSpec:me.styleSpec}))}function ce(me,Ee){const Ae=o.o(me.value),Pe=o.u(me.value),Ie=me.value!==null?me.value:Ee;if(w){if(Ae!==w)return[new o.V(me.key,Ie,`${Ae} stop domain type must match previous stop domain type ${w}`)]}else w=Ae;if(Ae!=="number"&&Ae!=="string"&&Ae!=="boolean"&&typeof Pe!="number"&&typeof Pe!="string"&&typeof Pe!="boolean")return[new o.V(me.key,Ie,"stop domain value must be a number, string, or boolean")];if(Ae!=="number"&&m!=="categorical"){let Ve=`number expected, ${Ae} found`;return o.r(d)&&m===void 0&&(Ve+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new o.V(me.key,Ie,Ve)]}return m!=="categorical"||Ae!=="number"||typeof Pe=="number"&&isFinite(Pe)&&Math.floor(Pe)===Pe?m!=="categorical"&&Ae==="number"&&typeof Pe=="number"&&typeof T=="number"&&T!==void 0&&Pe<T?[new o.V(me.key,Ie,"stop domain values must appear in ascending order")]:(T=Pe,m==="categorical"&&Pe in O?[new o.V(me.key,Ie,"stop domain values must be unique")]:(O[Pe]=!0,[])):[new o.V(me.key,Ie,`integer expected, found ${String(Pe)}`)]}}function Hr(b){const d=(b.expressionContext==="property"?o.y:o.z)(o.x(b.value),b.valueSpec);if(d.result==="error")return d.value.map(w=>new o.V(`${b.key}${w.key}`,b.value,w.message));const m=d.value.expression||d.value._styleExpression.expression;if(b.expressionContext==="property"&&b.propertyKey==="text-font"&&!m.outputDefined())return[new o.V(b.key,b.value,`Invalid data expression for "${b.propertyKey}". Output values must be contained as literals within the expression.`)];if(b.expressionContext==="property"&&b.propertyType==="layout"&&!o.A(m))return[new o.V(b.key,b.value,'"feature-state" data expressions are not supported with layout properties.')];if(b.expressionContext==="filter")return li(m,b);if(b.expressionContext&&b.expressionContext.indexOf("cluster")===0){if(!o.B(m,["zoom","feature-state"]))return[new o.V(b.key,b.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(b.expressionContext==="cluster-initial"&&!o.D(m))return[new o.V(b.key,b.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function li(b,d){const m=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(d.valueSpec&&d.valueSpec.expression)for(const T of d.valueSpec.expression.parameters)m.delete(T);if(m.size===0)return[];const w=[];return b instanceof o.F&&m.has(b.name)?[new o.V(d.key,d.value,`["${b.name}"] expression is not supported in a filter for a ${d.object.type} layer with id: ${d.object.id}`)]:(b.eachChild(T=>{w.push(...li(T,d))}),w)}function Ir(b){const d=b.key,m=b.value,w=b.valueSpec,T=[];return Array.isArray(w.values)?w.values.indexOf(o.u(m))===-1&&T.push(new o.V(d,m,`expected one of [${w.values.join(", ")}], ${JSON.stringify(m)} found`)):Object.keys(w.values).indexOf(o.u(m))===-1&&T.push(new o.V(d,m,`expected one of [${Object.keys(w.values).join(", ")}], ${JSON.stringify(m)} found`)),T}function Li(b){return o.H(o.x(b.value))?Hr(o.q({},b,{expressionContext:"filter",valueSpec:b.styleSpec[`filter_${b.layerType||"fill"}`]})):Iu(b)}function Iu(b){const d=b.value,m=b.key;if(o.o(d)!=="array")return[new o.V(m,d,`array expected, ${o.o(d)} found`)];const w=b.styleSpec;let T,C=[];if(d.length<1)return[new o.V(m,d,"filter array must have at least 1 element")];switch(C=C.concat(Ir({key:`${m}[0]`,value:d[0],valueSpec:w.filter_operator,style:b.style,styleSpec:b.styleSpec})),o.u(d[0])){case"<":case"<=":case">":case">=":d.length>=2&&o.u(d[1])==="$type"&&C.push(new o.V(m,d,`"$type" cannot be use with operator "${d[0]}"`));case"==":case"!=":d.length!==3&&C.push(new o.V(m,d,`filter array for operator "${d[0]}" must have 3 elements`));case"in":case"!in":d.length>=2&&(T=o.o(d[1]),T!=="string"&&C.push(new o.V(`${m}[1]`,d[1],`string expected, ${T} found`)));for(let O=2;O<d.length;O++)T=o.o(d[O]),o.u(d[1])==="$type"?C=C.concat(Ir({key:`${m}[${O}]`,value:d[O],valueSpec:w.geometry_type,style:b.style,styleSpec:b.styleSpec})):T!=="string"&&T!=="number"&&T!=="boolean"&&C.push(new o.V(`${m}[${O}]`,d[O],`string, number, or boolean expected, ${T} found`));break;case"any":case"all":case"none":for(let O=1;O<d.length;O++)C=C.concat(Iu({key:`${m}[${O}]`,value:d[O],style:b.style,styleSpec:b.styleSpec}));break;case"has":case"!has":T=o.o(d[1]),d.length!==2?C.push(new o.V(m,d,`filter array for "${d[0]}" operator must have 2 elements`)):T!=="string"&&C.push(new o.V(`${m}[1]`,d[1],`string expected, ${T} found`))}return C}function Bi(b,d){const m=b.key,w=b.style,T=b.layer,C=b.styleSpec,O=b.value,z=b.objectKey,K=C[`${d}_${b.layerType}`];if(!K)return[];const q=z.match(/^(.*)-transition$/);if(d==="paint"&&q&&K[q[1]]&&K[q[1]].transition)return Kn({key:m,value:O,valueSpec:C.transition,style:w,styleSpec:C});const Q=b.valueSpec||K[z];if(!Q)return[new o.n(m,O,`unknown property "${z}"`)];let ie;if(o.o(O)==="string"&&o.r(Q)&&!Q.tokens&&(ie=/^{([^}]+)}$/.exec(O))){const me=`\`{ "type": "identity", "property": ${ie?JSON.stringify(ie[1]):'"_"'} }\``;return[new o.V(m,O,`"${z}" does not support interpolation syntax
Use an identity property function instead: ${me}.`)]}const ce=[];if(b.layerType==="symbol")z!=="text-field"||!w||w.glyphs||w.imports||ce.push(new o.V(m,O,'use of "text-field" requires a style "glyphs" property')),z==="text-font"&&o.J(o.x(O))&&o.u(O.type)==="identity"&&ce.push(new o.V(m,O,'"text-font" does not support identity functions'));else if(b.layerType==="model"&&d==="paint"&&T&&T.layout&&T.layout.hasOwnProperty("model-id")&&o.r(Q)&&(o.K(Q)||o.t(Q))){const me=o.y(o.x(O),Q),Ee=me.value.expression||me.value._styleExpression.expression;Ee&&!o.B(Ee,["measure-light"])&&(z==="model-emissive-strength"&&o.D(Ee)&&o.A(Ee)||ce.push(new o.V(m,O,`${z} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`)))}return ce.concat(Kn({key:b.key,value:O,valueSpec:Q,style:w,styleSpec:C,expressionContext:"property",propertyType:d,propertyKey:z}))}function Mi(b){return Bi(b,"paint")}function Gl(b){return Bi(b,"layout")}function zi(b){let d=[];const m=b.value,w=b.key,T=b.style,C=b.styleSpec;m.type||m.ref||d.push(new o.V(w,m,'either "type" or "ref" is required'));let O=o.u(m.type);const z=o.u(m.ref);if(m.id){const K=o.u(m.id);for(let q=0;q<b.arrayIndex;q++){const Q=T.layers[q];o.u(Q.id)===K&&d.push(new o.V(w,m.id,`duplicate layer id "${m.id}", previously used at line ${Q.id.__line__}`))}}if("ref"in m){let K;["type","source","source-layer","filter","layout"].forEach(q=>{q in m&&d.push(new o.V(w,m[q],`"${q}" is prohibited for ref layers`))}),T.layers.forEach(q=>{o.u(q.id)===z&&(K=q)}),K?K.ref?d.push(new o.V(w,m.ref,"ref cannot reference another ref layer")):O=o.u(K.type):typeof z=="string"&&d.push(new o.V(w,m.ref,`ref layer "${z}" not found`))}else if(O!=="background"&&O!=="sky"&&O!=="slot")if(m.source){const K=T.sources&&T.sources[m.source],q=K&&o.u(K.type);K?q==="vector"&&O==="raster"?d.push(new o.V(w,m.source,`layer "${m.id}" requires a raster source`)):q==="raster"&&O!=="raster"?d.push(new o.V(w,m.source,`layer "${m.id}" requires a vector source`)):q!=="vector"||m["source-layer"]?q==="raster-dem"&&O!=="hillshade"?d.push(new o.V(w,m.source,"raster-dem source can only be used with layer type 'hillshade'.")):q!=="raster-array"||["raster","raster-particle"].includes(O)?O!=="line"||!m.paint||!m.paint["line-gradient"]&&!m.paint["line-trim-offset"]||q==="geojson"&&K.lineMetrics?O==="raster-particle"&&q!=="raster-array"&&d.push(new o.V(w,m.source,`layer "${m.id}" requires a 'raster-array' source.`)):d.push(new o.V(w,m,`layer "${m.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):d.push(new o.V(w,m.source,"raster-array source can only be used with layer type 'raster'.")):d.push(new o.V(w,m,`layer "${m.id}" must specify a "source-layer"`)):d.push(new o.V(w,m.source,`source "${m.source}" not found`))}else d.push(new o.V(w,m,'missing required property "source"'));return d=d.concat(It({key:w,value:m,valueSpec:C.layer,style:b.style,styleSpec:b.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Kn({key:`${w}.type`,value:m.type,valueSpec:C.layer.type,style:b.style,styleSpec:b.styleSpec,object:m,objectKey:"type"}),filter:K=>Li(o.q({layerType:O},K)),layout:K=>It({layer:m,key:K.key,value:K.value,valueSpec:{},style:K.style,styleSpec:K.styleSpec,objectElementValidators:{"*":q=>Gl(o.q({layerType:O},q))}}),paint:K=>It({layer:m,key:K.key,value:K.value,valueSpec:{},style:K.style,styleSpec:K.styleSpec,objectElementValidators:{"*":q=>Mi(o.q({layerType:O,layer:m},q))}})}})),d}function Pi(b){const d=b.value,m=b.key,w=o.o(d);return w!=="string"?[new o.V(m,d,`string expected, ${w} found`)]:[]}const ql={promoteId:function({key:b,value:d}){if(o.o(d)==="string")return Pi({key:b,value:d});{const m=[];for(const w in d)m.push(...Pi({key:`${b}.${w}`,value:d[w]}));return m}}};function ui(b){const d=b.value,m=b.key,w=b.styleSpec,T=b.style;if(!d.type)return[new o.V(m,d,'"type" is required')];const C=o.u(d.type);let O=[];switch(["vector","raster","raster-dem","raster-array"].includes(C)&&(d.url||d.tiles||O.push(new o.n(m,d,'Either "url" or "tiles" is required.'))),C){case"vector":case"raster":case"raster-dem":case"raster-array":return O=O.concat(It({key:m,value:d,valueSpec:w[`source_${C.replace("-","_")}`],style:b.style,styleSpec:w,objectElementValidators:ql})),O;case"geojson":if(O=It({key:m,value:d,valueSpec:w.source_geojson,style:T,styleSpec:w,objectElementValidators:ql}),d.cluster)for(const z in d.clusterProperties){const[K,q]=d.clusterProperties[z],Q=typeof K=="string"?[K,["accumulated"],["get",z]]:K;O.push(...Hr({key:`${m}.${z}.map`,value:q,expressionContext:"cluster-map"})),O.push(...Hr({key:`${m}.${z}.reduce`,value:Q,expressionContext:"cluster-reduce"}))}return O;case"video":return It({key:m,value:d,valueSpec:w.source_video,style:T,styleSpec:w});case"image":return It({key:m,value:d,valueSpec:w.source_image,style:T,styleSpec:w});case"canvas":return[new o.V(m,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ir({key:`${m}.type`,value:d.type,valueSpec:{values:Ji(w)},style:T,styleSpec:w})}}function Ji(b){return b.source.reduce((d,m)=>{const w=b[m];return w.type.type==="enum"&&(d=d.concat(Object.keys(w.type.values))),d},[])}function ln(b){const d=b.value,m=b.styleSpec,w=m.light,T=b.style;let C=[];const O=o.o(d);if(d===void 0)return C;if(O!=="object")return C=C.concat([new o.V("light",d,`object expected, ${O} found`)]),C;for(const z in d){const K=z.match(/^(.*)-transition$/);C=C.concat(K&&w[K[1]]&&w[K[1]].transition?Kn({key:z,value:d[z],valueSpec:m.transition,style:T,styleSpec:m}):w[z]?Kn({key:z,value:d[z],valueSpec:w[z],style:T,styleSpec:m}):[new o.V(z,d[z],`unknown property "${z}"`)])}return C}function jn(b){const d=b.value;let m=[];if(!d)return m;const w=o.o(d);if(w!=="object")return m=m.concat([new o.V("light-3d",d,`object expected, ${w} found`)]),m;const T=b.styleSpec,C=T["light-3d"],O=b.key,z=b.style,K=b.style.lights;for(const ie of["type","id"])if(!(ie in d))return m=m.concat([new o.V("light-3d",d,`missing property ${ie} on light`)]),m;if(d.type&&K)for(let ie=0;ie<b.arrayIndex;ie++){const ce=o.u(d.type),me=K[ie];o.u(me.type)===ce&&m.push(new o.V(O,d.id,`duplicate light type "${d.type}", previously defined at line ${me.id.__line__}`))}const q=`properties_light_${d.type}`;if(!(q in T))return m=m.concat([new o.V("light-3d",d,`Invalid light type ${d.type}`)]),m;const Q=T[q];for(const ie in d)if(ie==="properties"){const ce=d[ie],me=o.o(ce);if(me!=="object")return m=m.concat([new o.V("properties",ce,`object expected, ${me} found`)]),m;for(const Ee in ce)m=m.concat(Q[Ee]?Kn({key:Ee,value:ce[Ee],valueSpec:Q[Ee],style:z,styleSpec:T}):[new o.n(b.key,ce[Ee],`unknown property "${Ee}"`)])}else{const ce=ie.match(/^(.*)-transition$/);m=m.concat(ce&&C[ce[1]]&&C[ce[1]].transition?Kn({key:ie,value:d[ie],valueSpec:T.transition,style:z,styleSpec:T}):C[ie]?Kn({key:ie,value:d[ie],valueSpec:C[ie],style:z,styleSpec:T}):[new o.n(ie,d[ie],`unknown property "${ie}"`)])}return m}function Qi(b){const d=b.value,m=b.key,w=b.style,T=b.styleSpec,C=T.terrain;let O=[];const z=o.o(d);if(d===void 0||z==="null")return O;if(z!=="object")return O=O.concat([new o.V("terrain",d,`object expected, ${z} found`)]),O;for(const K in d){const q=K.match(/^(.*)-transition$/);O=O.concat(q&&C[q[1]]&&C[q[1]].transition?Kn({key:K,value:d[K],valueSpec:T.transition,style:w,styleSpec:T}):C[K]?Kn({key:K,value:d[K],valueSpec:C[K],style:w,styleSpec:T}):[new o.n(K,d[K],`unknown property "${K}"`)])}if(d.source){const K=w.sources&&w.sources[d.source],q=K&&o.u(K.type);K?q!=="raster-dem"&&O.push(new o.V(m,d.source,`terrain cannot be used with a source of type ${String(q)}, it only be used with a "raster-dem" source type`)):O.push(new o.V(m,d.source,`source "${d.source}" not found`))}else O.push(new o.V(m,d,'terrain is missing required property "source"'));return O}function Mu(b){const d=b.value,m=b.style,w=b.styleSpec,T=w.fog;let C=[];const O=o.o(d);if(d===void 0)return C;if(O!=="object")return C=C.concat([new o.V("fog",d,`object expected, ${O} found`)]),C;for(const z in d){const K=z.match(/^(.*)-transition$/);C=C.concat(K&&T[K[1]]&&T[K[1]].transition?Kn({key:z,value:d[z],valueSpec:w.transition,style:m,styleSpec:w}):T[z]?Kn({key:z,value:d[z],valueSpec:T[z],style:m,styleSpec:w}):[new o.n(z,d[z],`unknown property "${z}"`)])}return C}const Gi={"*":()=>[],array:Tt,boolean:function(b){const d=b.value,m=b.key,w=o.o(d);return w!=="boolean"?[new o.V(m,d,`boolean expected, ${w} found`)]:[]},number:fn,color:function(b){const d=b.key,m=b.value,w=o.o(m);return w!=="string"?[new o.V(d,m,`color expected, ${w} found`)]:o.G(m)===null?[new o.V(d,m,`color expected, "${m}" found`)]:[]},enum:Ir,filter:Li,function:Mr,layer:zi,object:It,source:ui,model:o.L,light:ln,"light-3d":jn,terrain:Qi,fog:Mu,string:Pi,formatted:function(b){return Pi(b).length===0?[]:Hr(b)},resolvedImage:function(b){return Pi(b).length===0?[]:Hr(b)},projection:function(b){const d=b.value,m=b.styleSpec,w=m.projection,T=b.style;let C=[];const O=o.o(d);if(O==="object")for(const z in d)C=C.concat(Kn({key:z,value:d[z],valueSpec:w[z],style:T,styleSpec:m}));else O!=="string"&&(C=C.concat([new o.V("projection",d,`object or string expected, ${O} found`)]));return C},import:function(b){const{value:d,styleSpec:m}=b,{data:w,...T}=d;Object.defineProperty(T,"__line__",{value:d.__line__,enumerable:!1});let C=It(o.q({},b,{value:T,valueSpec:m.import}));return o.u(T.id)===""&&C.push(new o.V(`${b.key}.id`,T,"import id can't be an empty string")),w&&(C=C.concat(it(w,m,{key:`${b.key}.data`}))),C}};function Kn(b,d=!1){const m=b.value,w=b.valueSpec,T=b.styleSpec;if(w.expression&&o.J(o.u(m)))return Mr(b);if(w.expression&&o.v(o.x(m)))return Hr(b);if(w.type&&Gi[w.type]){const C=Gi[w.type](b);return d===!0&&C.length>0&&o.o(b.value)==="array"?Hr(b):C}return It(o.q({},b,{valueSpec:w.type?T[w.type]:w}))}function Ed(b){const d=b.value,m=b.key,w=Pi(b);return w.length||(d.indexOf("{fontstack}")===-1&&w.push(new o.V(m,d,'"glyphs" url must include a "{fontstack}" token')),d.indexOf("{range}")===-1&&w.push(new o.V(m,d,'"glyphs" url must include a "{range}" token'))),w}function it(b,d=o.N,m={}){return Kn({key:m.key||"",value:b,valueSpec:d.$root,styleSpec:d,style:b,objectElementValidators:{glyphs:Ed,"*":()=>[]}})}function xe(b,d=o.N){return dr(it(b,d))}const Ce=b=>dr(ui(b)),je=b=>dr(ln(b)),et=b=>dr(jn(b)),tt=b=>dr(Qi(b)),dt=b=>dr(Mu(b)),Et=b=>dr(zi(b)),ct=b=>dr(Li(b)),wt=b=>dr(Mi(b)),Wt=b=>dr(Gl(b)),Ut=b=>dr(o.L(b));function dr(b){return b.slice().sort((d,m)=>d.line&&m.line?d.line-m.line:0)}function Ar(b,d){let m=!1;if(d&&d.length)for(const w of d)w instanceof o.n?o.w(w.message):(b.fire(new o.f(new Error(w.message))),m=!0);return m}let Fr;class Pn extends o.E{constructor(d,m="flat"){super(),this._transitionable=new o.O(Fr||(Fr=new o.U({anchor:new o.W(o.N.light.anchor),position:new o.X(o.N.light.position),color:new o.W(o.N.light.color),intensity:new o.W(o.N.light.intensity)}))),this.setLight(d,m),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(d,m,w={}){this._validate(je,d,w)||(this._transitionable.setTransitionOrValue(d),this.id=m)}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}_validate(d,m,w){return(!w||w.validate!==!1)&&Ar(this,d.call(xe,o.Q({value:m,style:{glyphs:!0,sprite:!0},styleSpec:o.N})))}}const Zr=new o.U({source:new o.W(o.N.terrain.source),exaggeration:new o.W(o.N.terrain.exaggeration)});let wn=class extends o.E{constructor(b,d,m,w){super(),this.scope=m,this._transitionable=new o.O(Zr,m,w),this._transitionable.setTransitionOrValue(b,w),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=d}get(){return this._transitionable.serialize()}set(b,d){this._transitionable.setTransitionOrValue(b,d)}updateTransitions(b){this._transitioning=this._transitionable.transitioned(b,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(b){this.properties=this._transitioning.possiblyEvaluate(b)}getExaggeration(b){return this._transitioning.possiblyEvaluate(new o.Y(b)).get("exaggeration")}isZoomDependent(){const b=this._transitionable._values.exaggeration;return b!=null&&b.value!=null&&b.value.expression!=null&&b.value.expression instanceof o.Z}};const xr=45,gi=65,Cn=.05;function vn(b,d,m,w){const T=o.a0(xr,gi,m),[C,O]=Ui(b,w);let z=1-Math.min(1,Math.exp((d-C)/(O-C)*-6));return z*=z*z,z=Math.min(1,1.00747*z),z*T*b.alpha}function Ui(b,d){const m=.5/Math.tan(.5*d);return[b.range[0]+m,b.range[1]+m]}function Wi(b,d,m,w,T){const C=o.$.transformMat4([],[d,m,w],T.mercatorFogMatrix);return vn(b,o.$.length(C),T.pitch,T._fov)}function qa(b,d,m,w,T,C,O){const z=[[m,w,0],[T,w,0],[T,C,0],[m,C,0]];let K=Number.MAX_VALUE,q=-Number.MAX_VALUE;for(const Q of z){const ie=o.$.transformMat4([],Q,d),ce=o.$.length(ie);K=Math.min(K,ce),q=Math.max(q,ce)}return[vn(b,K,O.pitch,O._fov),vn(b,q,O.pitch,O._fov)]}const _o=new o.U({range:new o.W(o.N.fog.range),color:new o.W(o.N.fog.color),"high-color":new o.W(o.N.fog["high-color"]),"space-color":new o.W(o.N.fog["space-color"]),"horizon-blend":new o.W(o.N.fog["horizon-blend"]),"star-intensity":new o.W(o.N.fog["star-intensity"]),"vertical-range":new o.W(o.N.fog["vertical-range"])});class Fo extends o.E{constructor(d,m,w,T){super(),this._transitionable=new o.O(_o,w,new Map(T)),this.set(d,T),this._transitioning=this._transitionable.untransitioned(),this._transform=m,this.properties=new o.a1(_o),this.scope=w}get state(){const d=this._transform,m=d.projection.name==="globe",w=o.a2(d.zoom),T=this.properties.get("range"),C=[.5,3];return{range:m?[o.a3(C[0],T[0],w),o.a3(C[1],T[1],w)]:T,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(d,m,w={}){if(this._validate(dt,d,w))return;const T=o.Q({},d);for(const C of Object.keys(o.N.fog))T[C]===void 0&&(T[C]=o.N.fog[C].default);this._options=T,this._transitionable.setTransitionOrValue(this._options,m)}getOpacity(d){if(!this._transform.projection.supportsFog)return 0;const m=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:o.a0(xr,gi,d))*m.a}getOpacityAtLatLng(d,m){return this._transform.projection.supportsFog?function(w,T,C){const O=o._.fromLngLat(T),z=C.elevation?C.elevation.getAtPointOrZero(O):0;return Wi(w,O.x,O.y,z,C)}(this.state,d,m):0}getOpacityForTile(d){if(!this._transform.projection.supportsFog)return[1,1];const m=this._transform.calculateFogTileMatrix(d.toUnwrapped());return qa(this.state,m,0,0,o.a4,o.a4,this._transform)}getOpacityForBounds(d,m,w,T,C){return this._transform.projection.supportsFog?qa(this.state,d,m,w,T,C,this._transform):[1,1]}getFovAdjustedRange(d){return this._transform.projection.supportsFog?Ui(this.state,d):[0,1]}isVisibleOnFrustum(d){if(!this._transform.projection.supportsFog)return!1;const m=[4,5,6,7];for(const w of m){const T=d.points[w];let C;if(T[2]>=0)C=T;else{const O=d.points[w-4];C=o.a5(O,T,O[2]/(O[2]-T[2]))}if(Wi(this.state,C[0],C[1],0,this._transform)>=Cn)return!0}return!1}updateConfig(d){this._transitionable.setTransitionOrValue(this._options,new Map(d))}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}_validate(d,m,w){return(!w||w.validate!==!1)&&Ar(this,d.call(xe,o.Q({value:m,style:{glyphs:!0,sprite:!0},styleSpec:o.N})))}}class Cf extends o.E{constructor(d,m,w,T){super(),this.scope=w,this._options=d,this.properties=new o.a1(m),this._transitionable=new o.O(m,w,new Map(T)),this._transitionable.setTransitionOrValue(d.properties),this._transitioning=this._transitionable.untransitioned()}updateConfig(d){this._transitionable.setTransitionOrValue(this._options.properties,new Map(d))}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(d,m){this._options=d,this._transitionable.setTransitionOrValue(d.properties,m)}shadowsEnabled(){return!!this.properties&&this.properties.get("cast-shadows")===!0}}let w3,S3;var a0=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#ifdef RENDER_CUTOFF
float cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}
#endif`,cn=`
out vec4 glFragColor;highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}
#ifdef INDICATOR_CUTOUT
uniform vec2 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;
#endif
vec4 applyCutout(vec4 color) {
#ifdef INDICATOR_CUTOUT
float holeMinOpacity=u_indicator_cutout_params.x;float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);
#else
return color;
#endif
}
#ifdef DEBUG_WIREFRAME
#define HANDLE_WIREFRAME_DEBUG \\
glFragColor=vec4(0.7,0.0,0.0,0.7); \\
gl_FragDepth=gl_FragCoord.z-0.0001;
#else
#define HANDLE_WIREFRAME_DEBUG
#endif
#ifdef RENDER_CUTOFF
uniform highp vec4 u_cutoff_params;in float v_cutoff_opacity;
#endif
vec4 textureLodCustom(sampler2D image,vec2 pos,vec2 lod_coord) {vec2 size=vec2(textureSize(image,0));vec2 dx=dFdx(lod_coord.xy*size);vec2 dy=dFdy(lod_coord.xy*size);float delta_max_sqr=max(dot(dx,dx),dot(dy,dy));float lod=0.5*log2(delta_max_sqr);return textureLod(image,pos,lod);}vec4 applyLUT(highp sampler3D lut,vec4 col) {vec3 size=vec3(textureSize(lut,0));vec3 uvw=(col.rbg*float(size-1.0)+0.5)/size;return vec4(texture(lut,uvw).rgb,col.a);}vec3 applyLUT(highp sampler3D lut,vec3 col) {return applyLUT(lut,vec4(col,1.0)).rgb;}`,mv=`
#define EXTENT 8192.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(PI/4.0+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}
#ifdef RENDER_CUTOFF
uniform vec4 u_cutoff_params;out float v_cutoff_opacity;
#endif
const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}`,Ad="in highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;out highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",E3=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(dd,0)).r;float bl=texture(u_dem,pos+vec2(0,dd)).r;float br=texture(u_dem,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem_prev,pos).r;float tr=texture(u_dem_prev,pos+vec2(dd,0)).r;float bl=texture(u_dem_prev,pos+vec2(0,dd)).r;float br=texture(u_dem_prev,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
vec4 fourSample(vec2 pos,vec2 off) {float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }
#endif
#ifdef DEPTH_OCCLUSION
uniform highp sampler2D u_depth;uniform highp vec2 u_depth_size_inv;uniform highp vec2 u_depth_range_unpack;uniform highp float u_occluder_half_size;uniform highp float u_occlusion_depth_offset;
#ifdef DEPTH_D24
float unpack_depth(float depth) {return depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}vec4 unpack_depth4(vec4 depth) {return depth*u_depth_range_unpack.x+vec4(u_depth_range_unpack.y);}
#else
highp float unpack_depth_rgba(vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;
#ifdef DEPTH_D24
float depth=unpack_depth(texture(u_depth,(coord.xy+1.0)*0.5).r);
#else
float depth=unpack_depth_rgba(texture(u_depth,(coord.xy+1.0)*0.5));
#endif
return coord.z+u_occlusion_depth_offset > depth;}highp vec4 getCornerDepths(vec2 coord) {highp vec3 df=vec3(u_occluder_half_size*u_depth_size_inv,0.0);highp vec2 uv=0.5*coord.xy+0.5;
#ifdef DEPTH_D24
highp vec4 depth=vec4(
texture(u_depth,uv-df.xz).r,texture(u_depth,uv+df.xz).r,texture(u_depth,uv-df.zy).r,texture(u_depth,uv+df.zy).r
);depth=unpack_depth4(depth);
#else
highp vec4 depth=vec4(
unpack_depth_rgba(texture(u_depth,uv-df.xz)),unpack_depth_rgba(texture(u_depth,uv+df.xz)),unpack_depth_rgba(texture(u_depth,uv-df.zy)),unpack_depth_rgba(texture(u_depth,uv+df.zy))
);
#endif
return depth;}highp float occlusionFadeMultiSample(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec2 uv=0.5*coord.xy+0.5;int NX=3;int NY=4;highp vec2 df=u_occluder_half_size*u_depth_size_inv;highp vec2 oneStep=2.0*u_occluder_half_size*u_depth_size_inv/vec2(NX-1,NY-1);highp float res=0.0;for (int y=0; y < NY;++y) {for (int x=0; x < NX;++x) {
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)));
#endif
res+=1.0-clamp(300.0*(coord.z+u_occlusion_depth_offset-depth),0.0,1.0);}}res=clamp(2.0*res/float(NX*NY)-0.5,0.0,1.0);return res;}highp float occlusionFade(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec4 depth=getCornerDepths(coord.xy);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z+u_occlusion_depth_offset)-depth),0.0,1.0));}
#else
bool isOccluded(vec4 frag) { return false; }highp float occlusionFade(vec4 frag) { return 1.0; }highp float occlusionFadeMultiSample(vec4 frag) { return 1.0; }
#endif//DEPTH_OCCLUSION`,A3=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;out vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,T3=`highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}
#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;in vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos,float opacity_limit) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,min(opacity,opacity_limit));}vec3 fog_apply(vec3 color,vec3 pos) {return fog_apply(color,pos,1.0);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {
#ifdef FOG_DITHERING
vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);
#else
return color;
#endif
}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,P3=`#ifdef RASTER_ARRAY
uniform sampler2D u_image0;uniform sampler2D u_image1;const vec4 NODATA=vec4(1);ivec4 _raTexLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}vec2 _raTexLinearMix(highp vec2 fxy,highp vec4 colorMix,highp float colorOffset,highp vec4 t00,highp vec4 t10,highp vec4 t01,highp vec4 t11) {vec2 c00=t00==NODATA ? vec2(0) : vec2(colorOffset+dot(t00,colorMix),1);vec2 c10=t10==NODATA ? vec2(0) : vec2(colorOffset+dot(t10,colorMix),1);vec2 c01=t01==NODATA ? vec2(0) : vec2(colorOffset+dot(t01,colorMix),1);vec2 c11=t11==NODATA ? vec2(0) : vec2(colorOffset+dot(t11,colorMix),1);return mix(mix(c01,c11,fxy.x),mix(c00,c10,fxy.x),fxy.y);}vec2 raTexture2D_image0_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image0,c.yz,0),texelFetch(u_image0,c.xz,0),texelFetch(u_image0,c.yw,0),texelFetch(u_image0,c.xw,0)
);}vec2 raTexture2D_image1_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image1,c.yz,0),texelFetch(u_image1,c.xz,0),texelFetch(u_image1,c.yw,0),texelFetch(u_image1,c.xw,0)
);}vec2 raTexture2D_image0_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image0,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}vec2 raTexture2D_image1_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image1,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}
#endif`,C3=`#ifdef RASTER_ARRAY
uniform sampler2D u_velocity;uniform mediump vec2 u_velocity_res;uniform mediump float u_max_speed;const vec4 NO_DATA=vec4(1);const vec2 INVALID_VELOCITY=vec2(-1);uniform highp vec2 u_uv_offset;uniform highp float u_data_offset;uniform highp vec2 u_data_scale;ivec4 rasterArrayLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}highp vec2 lookup_velocity(highp vec2 uv) {uv=u_uv_offset.x+u_uv_offset.y*uv;highp vec2 fxy;ivec4 c=rasterArrayLinearCoord(uv,u_velocity_res,fxy);highp vec4 tl=texelFetch(u_velocity,c.yz,0);highp vec4 tr=texelFetch(u_velocity,c.xz,0);highp vec4 bl=texelFetch(u_velocity,c.yw,0);highp vec4 br=texelFetch(u_velocity,c.xw,0);if (tl==NO_DATA) {return INVALID_VELOCITY;}if (tr==NO_DATA) {return INVALID_VELOCITY;}if (bl==NO_DATA) {return INVALID_VELOCITY;}if (br==NO_DATA) {return INVALID_VELOCITY;}highp vec4 t=mix(mix(bl,br,fxy.x),mix(tl,tr,fxy.x),fxy.y);highp vec2 velocity=u_data_offset+vec2(dot(t.rg,u_data_scale),dot(t.ba,u_data_scale));velocity.y=-velocity.y;velocity/=max(u_max_speed,length(velocity));return velocity;}
#endif
uniform highp float u_particle_pos_scale;uniform highp vec2 u_particle_pos_offset;highp vec4 pack_pos_to_rgba(highp vec2 p) {highp vec2 v=(p+u_particle_pos_offset)/u_particle_pos_scale;highp vec4 r=vec4(v.x,fract(v.x*255.0),v.y,fract(v.y*255.0));return vec4(r.x-r.y/255.0,r.y,r.z-r.w/255.0,r.w);}highp vec2 unpack_pos_from_rgba(highp vec4 v) {v=floor(v*255.0+0.5)/255.0;highp vec2 p=vec2(v.x+(v.y/255.0),v.z+(v.w/255.0));return u_particle_pos_scale*p-u_particle_pos_offset;}`,I3=`#ifdef RENDER_SHADOWS
uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {vec3 transformed_normal=vec3(-normal.xy,normal.z);float NDotL=dot(normalize(transformed_normal),u_shadow_direction);float dotScale=min(1.0-NDotL,1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}
#endif//RENDER_SHADOWS`,M3=`#ifdef RENDER_SHADOWS
#ifdef DEPTH_TEXTURE
uniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;
#else
uniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;
#endif
uniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_1,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_1,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_0,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_0,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;
#ifdef NATIVE
highp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));
#else
highp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(
shadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)
);
#endif
vec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {
#ifdef SHADOWS_SINGLE_CASCADE
light_view_pos0.xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);
#else
light_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));
#endif
}highp float calculate_shadow_bias(float NDotL) {
#ifdef NORMAL_OFFSET
return 0.5*u_shadow_bias.x;
#else
return 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));
#endif
}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_opacity(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,float shadow_opacity) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias)*shadow_opacity;return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}
#endif`;const o0=[];Oh(a0,o0),Oh(mv,o0),Oh(cn,o0);const s0={"_prelude_fog.vertex.glsl":A3,"_prelude_terrain.vertex.glsl":E3,"_prelude_shadow.vertex.glsl":I3,"_prelude_fog.fragment.glsl":T3,"_prelude_shadow.fragment.glsl":M3,"_prelude_lighting.glsl":`
#ifdef LIGHTING_3D_MODE
uniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 linearProduct(vec3 srgbIn,vec3 k) {return srgbIn*pow(k,vec3(1./2.2));}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}
#endif//LIGHTING_3D_MODE`,"_prelude_raster_array.glsl":P3,"_prelude_raster_particle.glsl":C3},gv={};On("",E3),On(T3,A3),On(M3,I3),On(P3,""),On(C3,"");const yv=On(cn,mv),uS=a0;var cS={background:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
in vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_lighting.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform mediump vec4 u_color;out vec4 v_color;uniform float u_emissive_strength;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;in vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=textureLodCustom(u_image,pos,v_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float blur_positive=blur < 0.0 ? 0.0 : 1.0;lowp float antialiasblur=v_data.z;float extrude_length=length(extrude)+antialiasblur*(1.0-blur_positive);float antialiased_blur=-max(abs(blur),antialiasblur);float opacity_t=smoothstep((1.0-blur_positive)*antialiased_blur,blur_positive*antialiased_blur,extrude_length-1.0)-smoothstep(0.0,antialiasblur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
glFragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:On("void main() {glFragColor=vec4(1.0);}","in vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:On(`#include "_prelude_fog.fragment.glsl"
uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);glFragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {glFragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:On(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));glFragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(0.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,"in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:On("in float v_placed;in float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);glFragColor =mix(red,blue,step(0.5,v_placed))*0.5;glFragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`#include "_prelude_terrain.vertex.glsl"
in vec3 a_pos;in vec2 a_anchor_pos;in vec2 a_extrude;in vec2 a_placed;in vec2 a_shift;in float a_size_scale;in vec2 a_padding;in float a_z_offset;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;out float v_placed;out float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*(a_z_offset+elevation(a_anchor_pos)),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:On("in float v_radius;in vec2 v_extrude;in float v_perspective_ratio;in float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);glFragColor=color*alpha*opacity_t;}",`in vec2 a_pos_2f;in float a_radius;in vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;out float v_radius;out vec2 v_extrude;out float v_perspective_ratio;out float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:On("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);glFragColor=mix(u_color,overlay_color,overlay_color.a);}",`#include "_prelude_terrain.vertex.glsl"
in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;
#endif
out vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in highp vec2 v_pos;uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
in vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;out highp vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;in highp vec2 v_pos;in highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out highp vec2 v_pos;out highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;in vec2 v_pos;uniform float u_emissive_strength;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec4 v_color;in vec4 v_flat;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;
#endif
uniform lowp float u_opacity;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec2 v_ao;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
in vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
in highp vec3 v_normal;
#endif
uniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
in float v_flood_radius;in float v_has_floodlight;
#endif
uniform float u_emissive_strength;in float v_height;void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
vec3 normal=normalize(v_normal);
#endif
float z;vec4 color=v_color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);
#ifdef LIGHTING_3D_MODE
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#else
color=mix(v_color,v_roof_color,z);
#endif
#endif
float h=max(0.0,v_height);float ao_shade=1.0;
#ifdef FAUX_AO
float intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
color.rgb*=mix(ao_shade,1.0,v_has_floodlight);
#else
color.rgb*=ao_shade;
#endif
#else
color.rgb*=ao_shade;
#endif
#endif
#ifdef LIGHTING_3D_MODE
float flood_radiance=0.0;
#ifdef FLOOD_LIGHT
flood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;
#endif
#ifdef RENDER_SHADOWS
#ifdef FLOOD_LIGHT
float ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);
#else
float shadowed_lighting_factor;
#ifdef RENDER_CUTOFF
shadowed_lighting_factor=shadowed_light_factor_normal_opacity(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,v_cutoff_opacity);if (v_cutoff_opacity==0.0) {discard;}
#else
shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);
#endif
color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);
#endif
#else
color.rgb=apply_lighting(color.rgb,normal);
#ifdef FLOOD_LIGHT
color.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);
#endif
#endif
color.rgb=mix(color.rgb,v_flat.rgb,u_emissive_strength);color*=u_opacity;
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));
#endif
#ifdef INDICATOR_CUTOUT
color=applyCutout(color);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;uniform float u_alignment;uniform float u_width_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec4 a_join_normal_inside_polygon;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
uniform highp float u_vertical_scale;out vec4 v_color;out vec4 v_flat;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
out vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
out highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec2 v_ao;
#endif
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
out float v_flood_radius;out float v_has_floodlight;
#endif
out float v_height;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define highp float flood_light_wall_radius
#pragma mapbox: define highp float line_width
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize highp float flood_light_wall_radius
#pragma mapbox: initialize highp float line_width
base*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
v_normal=normal;
#endif
base=max(0.0,base);float attr_height=height;height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele=0.0;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float cutoff=1.0;vec3 scaled_pos=pos;
#ifdef RENDER_CUTOFF
vec3 centroid_random=vec3(centroid_pos.xy,centroid_pos.x+centroid_pos.y+1.0);vec3 ground_pos=centroid_pos.x==0.0 ? pos.xyz : (centroid_random/8.0);vec4 ground=u_matrix*vec4(ground_pos.xy,ele,1.0);cutoff=cutoff_opacity(u_cutoff_params,ground.z);if (centroid_pos.y !=0.0 && centroid_pos.x !=0.0) {vec3 g=floor(ground_pos);vec3 mod_=centroid_random-g*8.0;float seed=min(1.0,0.1*(min(3.5,max(mod_.x+mod_.y,0.2*attr_height))*0.35+mod_.z));if (cutoff < 0.8-seed) {cutoff=0.0;}}float cutoff_scale=cutoff;v_cutoff_opacity=cutoff;scaled_pos.z=mix(c_ele,h,cutoff_scale);
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (cutoff==0.0 && centroid_pos.x !=0.0));
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside_polygon.xy/EXTENT);float isPolygon=a_join_normal_inside_polygon.w;float sideAlignment=abs(isPolygon*u_alignment);scaled_pos.xy+=(1.0-a_join_normal_inside_polygon.z)*mix(wall_offset*0.5,wall_offset*mix(1.0,0.0,max(u_alignment,0.0)),sideAlignment);scaled_pos.xy-=a_join_normal_inside_polygon.z*mix(wall_offset*0.5,wall_offset*mix(0.0,1.0,max(u_alignment,0.0)),sideAlignment);
#endif
gl_Position=mix(u_matrix*vec4(scaled_pos,1),AWAY,hidden);h=h-ele;v_height=h;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=pos;vec3 shd_pos1=pos;
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifndef LIGHTING_3D_MODE
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#endif
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
float is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;
#endif
v_color=vec4(color.rgb,1.0);v_flat=vec4(linearProduct(color.rgb,vec3(calculate_NdotL(normal))),1.0);
#else
v_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionDepth:On(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_alignment;uniform float u_width_scale;uniform float u_vertical_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec4 a_join_normal_inside_polygon;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp float line_width
out highp float v_depth;void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp float line_width
base*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base);pos=vec3(pos_nx.xy,h);
#else
pos=vec3(pos_nx.xy,t > 0.0 ? height : base);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside_polygon.xy/EXTENT);float isPolygon=a_join_normal_inside_polygon.w;float sideAlignment=abs(isPolygon*u_alignment);pos.xy+=(1.0-a_join_normal_inside_polygon.z)*mix(wall_offset*0.5,wall_offset*mix(1.0,0.0,max(u_alignment,0.0)),sideAlignment);pos.xy-=a_join_normal_inside_polygon.z*mix(wall_offset*0.5,wall_offset*mix(0.0,1.0,max(u_alignment,0.0)),sideAlignment);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}`),fillExtrusionPattern:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
in vec3 v_normal;
#endif
in vec2 v_pos;in vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_alignment;uniform float u_width_scale;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec4 a_join_normal_inside_polygon;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
out vec2 v_pos;out vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
out vec3 v_normal;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
#pragma mapbox: define highp float line_width
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
#pragma mapbox: initialize highp float line_width
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside_polygon.xy/EXTENT);float isPolygon=a_join_normal_inside_polygon.w;float sideAlignment=abs(isPolygon*u_alignment);p.xy+=(1.0-a_join_normal_inside_polygon.z)*mix(wall_offset*0.5,wall_offset*mix(1.0,0.0,max(u_alignment,0.0)),sideAlignment);p.xy-=a_join_normal_inside_polygon.z*mix(wall_offset*0.5,wall_offset*mix(0.0,1.0,max(u_alignment,0.0)),sideAlignment);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_normal=normal;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),groundShadow:On(`#include "_prelude_shadow.fragment.glsl"
precision highp float;uniform vec3 u_ground_shadow_factor;in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#ifdef FOG
in float v_fog_opacity;
#endif
void main() {float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);
#ifdef RENDER_CUTOFF
shadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w));
#endif
#ifdef FOG
shadow=mix(shadow,vec3(1.0),v_fog_opacity);
#endif
#ifdef INDICATOR_CUTOUT
shadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0)).r);
#endif
glFragColor=vec4(shadow,1.0);}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;in vec2 a_pos;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;
#ifdef FOG
out float v_fog_opacity;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);
#ifdef FOG
v_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);
#endif
}`),fillExtrusionGroundEffect:On(`uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;
#ifdef SDF_SUBPASS
in highp vec2 v_pos;in highp vec4 v_line_segment;in highp float v_flood_light_radius_tile;in highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}
#ifdef FOG
in highp float v_fog;
#endif
#endif
void main() {
#ifdef CLEAR_SUBPASS
vec4 color=vec4(1.0);
#ifdef CLEAR_FROM_TEXTURE
color=texture(u_fb,gl_FragCoord.xy/vec2(u_fb_size));
#endif
glFragColor=color;
#else
#ifdef SDF_SUBPASS
highp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;
#ifdef FOG
fog=v_fog;
#endif
#ifdef RENDER_CUTOFF
fog*=v_cutoff_opacity;
#endif
glFragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));
#else
vec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);
#ifdef OVERDRAW_INSPECTOR
color=vec4(1.0);
#endif
glFragColor=color;
#endif
HANDLE_WIREFRAME_DEBUG;
#endif
}`,`#include "_prelude_fog.vertex.glsl"
in highp vec4 a_pos_end;in highp float a_angular_offset_factor;in highp float a_hidden_by_landmark;
#ifdef SDF_SUBPASS
out highp vec2 v_pos;out highp vec4 v_line_segment;out highp float v_flood_light_radius_tile;out highp vec2 v_ao;
#ifdef FOG
out highp float v_fog;
#endif
#endif
uniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp vec2 u_ao;
#pragma mapbox: define highp float flood_light_ground_radius
const float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {
#pragma mapbox: initialize highp float flood_light_ground_radius
vec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;fl_ground_radius=abs(flood_light_ground_radius);float direction=flood_light_ground_radius < 0.0 ?-1.0 : 1.0;float flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=direction*angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(1.0,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=direction*perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;
#ifdef SDF_SUBPASS
v_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);
#ifdef FOG
v_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);
#endif
#endif
float hidden_by_landmark=0.0;
#ifdef HAS_CENTROID
hidden_by_landmark=a_hidden_by_landmark;
#endif
float isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
}`),hillshadePrepare:On(`precision highp float;uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;float getElevation(vec2 coord) {return texture(u_image,coord).r/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));glFragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);glFragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
glFragColor=apply_lighting_with_emission_ground(glFragColor,u_emissive_strength);
#endif
#ifdef FOG
glFragColor=fog_dither(fog_apply_premultiplied(glFragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;in vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture(u_dash_image,v_tex).r;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trim_alpha=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);out_color=mix(out_color,u_trim_color,transition_factor);trim_alpha=out_color.a;}
#endif
if (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}
#ifdef RENDER_LINE_BORDER
float edgeBlur=(border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color.rgb=mix(border_color.rgb*border_color.a*trim_alpha,out_color.rgb,smoothAlpha);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define EXTRUDE_SCALE 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED)
in float a_z_offset;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
in highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
in float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;out vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);
#if defined(ELEVATED)
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 halfCellProgress=normal.yx*32.0;float ele0=elevation(pos);float ele_line=max(ele0,max(elevation(pos+halfCellProgress),elevation(pos-halfCellProgress)));float ele1=elevation(pos+offsetTile);float ele2=elevation(pos-offsetTile);float ele_max=max(ele_line,0.5*(ele1+ele2));float ele=ele_max-ele0+ele1+a_z_offset ;gl_Position=u_matrix*vec4(pos+offsetTile,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*0.1*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);
#else
gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform highp float u_device_pixel_ratio;uniform highp float u_alpha_discard_threshold;uniform highp vec2 u_texsize;uniform highp float u_tile_units_to_pixels;uniform highp vec2 u_trim_offset;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in highp float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec4 v_uv;
#endif
#ifdef LINE_JOIN_NONE
in vec2 v_pattern_data;
#endif
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;float pattern_size=display_size.x/u_tile_units_to_pixels;float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);highp float pattern_x=v_linesofar/pattern_size*aspect;float x=mod(pattern_x,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec2 lod_pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(pattern_x,y));vec4 color=textureLodCustom(u_image,pos,lod_pos);
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {color=vec4(0,0,0,0);}}
#endif
#ifdef LINE_JOIN_NONE
float pattern_len=pattern_size/aspect;float segment_phase=pattern_len-mod(v_linesofar-v_pattern_data.x+pattern_len,pattern_len);float visible_start=segment_phase-step(pattern_len*0.5,segment_phase)*pattern_len;float visible_end=floor((v_pattern_data.y-segment_phase)/pattern_len)*pattern_len+segment_phase;visible_end+=step(pattern_len*0.5,v_pattern_data.y-visible_end)*pattern_len;if (v_pattern_data.x < visible_start || v_pattern_data.x >=visible_end) {color=vec4(0.0);}
#endif
#ifdef LIGHTING_3D_MODE
color=apply_lighting_ground(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=(alpha*opacity);if (u_alpha_discard_threshold !=0.0) {if (color.a < u_alpha_discard_threshold) {discard;}}
#ifdef INDICATOR_CUTOUT
color=applyCutout(color);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED)
in float a_z_offset;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec4 a_packed;
#endif
in highp float a_linesofar;
#ifdef LINE_JOIN_NONE
in highp vec3 a_pattern_data;out vec2 v_pattern_data;
#endif
uniform mat4 u_matrix;uniform float u_tile_units_to_pixels;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out highp float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
out highp vec4 v_uv;
#endif
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
#pragma mapbox: define mediump float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define mediump float floorwidth
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
void main() {
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
#pragma mapbox: initialize mediump float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize mediump float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);vec2 dist=outset*a_extrude*scale;float u=0.5*a_direction;float t=1.0-abs(u);vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);
#if defined(ELEVATED)
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 halfCellProgress=normal.yx*32.0;float ele0=elevation(pos);float ele_line=max(ele0,max(elevation(pos+halfCellProgress),elevation(pos-halfCellProgress)));float ele1=elevation(pos+offsetTile);float ele2=elevation(pos-offsetTile);float ele_max=max(ele_line,0.5*(ele1+ele2));float ele=ele_max-ele0+ele1+a_z_offset ;gl_Position=u_matrix*vec4(pos+offsetTile,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*0.1*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);
#else
gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
float a_uv_x=a_packed[0];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef LINE_JOIN_NONE
v_width=floorwidth+ANTIALIASING;mediump float pixels_to_tile_units=1.0/u_tile_units_to_pixels;mediump float pixel_ratio_inverse=1.0/pixel_ratio;mediump float aspect=v_width/((pattern.w-pattern.y)*pixel_ratio_inverse);highp float subt_multiple=(pattern.z-pattern.x)*pixel_ratio_inverse*pixels_to_tile_units*aspect*32.0;highp float subt=floor(a_pattern_data.z/subt_multiple)*subt_multiple;float offset_sign=(fract(a_pattern_data.x)-0.5)*4.0;float line_progress_offset=offset_sign*v_width*0.5*pixels_to_tile_units;v_linesofar=(a_pattern_data.z-subt)+a_linesofar+line_progress_offset;v_pattern_data=vec2(a_pattern_data.x+line_progress_offset,a_pattern_data.y);
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_raster_array.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;uniform highp float u_zoom_transition;in vec2 v_pos0;in vec2 v_pos1;in float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
in float v_split_fade;
#endif
uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;uniform float u_emissive_strength;
#ifndef RASTER_ARRAY
uniform sampler2D u_image0;uniform sampler2D u_image1;
#endif
#ifdef RASTER_COLOR
uniform sampler2D u_color_ramp;uniform highp vec4 u_colorization_mix;uniform highp float u_colorization_offset;uniform vec2 u_texture_res;
#endif
void main() {vec4 color0,color1,color;vec2 value;
#ifdef RASTER_COLOR
#ifdef RASTER_ARRAY
#ifdef RASTER_ARRAY_LINEAR
value=mix(
raTexture2D_image0_linear(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_linear(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#else
value=mix(
raTexture2D_image0_nearest(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_nearest(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#endif
if (value.y > 0.0) value.x/=value.y;
#else
color=mix(texture(u_image0,v_pos0),texture(u_image1,v_pos1),u_fade_t);value=vec2(u_colorization_offset+dot(color.rgb,u_colorization_mix.rgb),color.a);
#endif
color=texture(u_color_ramp,vec2(value.x,0.5));if (color.a > 0.0) color.rgb/=color.a;color.a*=value.y;
#else
color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);
#endif
color.a*=u_opacity;
#ifdef GLOBE_POLES
color.a*=1.0-smoothstep(0.0,0.05,u_zoom_transition);
#endif
vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),u_emissive_strength).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef PROJECTION_GLOBE_VIEW
glFragColor*=mix(1.0,1.0-smoothstep(0.0,0.05,u_zoom_transition),smoothstep(0.8,0.9,v_split_fade));
#endif
#ifdef RENDER_CUTOFF
glFragColor=glFragColor*cutoff_opacity(u_cutoff_params,v_depth);
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;uniform vec2 u_texture_offset;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;in vec2 a_texture_pos;
#endif
out vec2 v_pos0;out vec2 v_pos1;out float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
out float v_split_fade;
#endif
void main() {vec2 uv;
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;gl_Position=u_matrix*u_globe_matrix*vec4(globe_pos   ,1.0);uv=a_uv;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);
#endif
#else
float w=1.0+dot(a_texture_pos,u_perspective_transform);uv=a_texture_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);    
v_split_fade=0.0;if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;float opposite_merc_center=mod(u_merc_center.x+0.5,1.0);float dist_from_poles=(abs(mercatorY-0.5)*2.0);float range=0.1;v_split_fade=abs(opposite_merc_center-mercatorX);v_split_fade=clamp(1.0-v_split_fade,0.0,1.0);v_split_fade=max(smoothstep(1.0-range,1.0,dist_from_poles),max(smoothstep(1.0-range,1.0,v_split_fade),smoothstep(1.0-range,1.0,1.0-v_split_fade)));}float tiles=u_grid_matrix[0][2];if (tiles > 0.0) {float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvY=mercatorY*tiles-idy;float uvX=mercatorX*tiles-idx;uv=vec2(uvX,uvY);}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;v_pos0=u_texture_offset.x+u_texture_offset.y*v_pos0;v_pos1=u_texture_offset.x+u_texture_offset.y*v_pos1;
#ifdef RENDER_CUTOFF
v_depth=gl_Position.z;
#endif
}`),rasterParticle:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;in vec2 v_pos0;in vec2 v_pos1;uniform sampler2D u_image0;uniform sampler2D u_image1;void main() {vec4 color0,color1,color;color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 out_color=color.rgb;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),0.0).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {float w=1.0;vec2 uv;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvX=mercatorX*tiles-idx;float uvY=mercatorY*tiles-idy;uv=vec2(uvX,uvY);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
uv=a_texture_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),rasterParticleDraw:On("uniform sampler2D u_color_ramp;in float v_particle_speed;void main() {glFragColor=texture(u_color_ramp,vec2(v_particle_speed,0.5));}",`#include "_prelude_raster_particle.glsl"
in float a_index;uniform sampler2D u_particle_texture;uniform float u_particle_texture_side_len;uniform vec2 u_tile_offset;out float v_particle_speed;void main() {ivec2 pixel_coord=ivec2(
mod(a_index,u_particle_texture_side_len),a_index/u_particle_texture_side_len);vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);vec2 pos=unpack_pos_from_rgba(pixel)+u_tile_offset;vec2 tex_coord=fract(pos);vec2 velocity=lookup_velocity(tex_coord);if (velocity==INVALID_VELOCITY) {gl_Position=AWAY;v_particle_speed=0.0;} else {gl_Position=vec4(2.0*pos-1.0,0,1);v_particle_speed=length(velocity);}gl_PointSize=1.0;}`),rasterParticleTexture:On("uniform sampler2D u_texture;uniform float u_opacity;in vec2 v_tex_pos;void main() {vec4 color=texture(u_texture,v_tex_pos);glFragColor=vec4(floor(255.0*color*u_opacity)/255.0);}","in vec2 a_pos;out vec2 v_tex_pos;void main() {vec2 uv=0.5*a_pos+vec2(0.5);v_tex_pos=uv;gl_Position=vec4(a_pos,0.0,1.0);}"),rasterParticleUpdate:On(`#include "_prelude_raster_particle.glsl"
uniform sampler2D u_particle_texture;uniform mediump float u_particle_texture_side_len;uniform mediump float u_speed_factor;uniform highp float u_reset_rate;uniform highp float u_rand_seed;in highp vec2 v_tex_coord;vec2 linearstep(vec2 edge0,vec2 edge1,vec2 x) {return  clamp((x-edge0)/(edge1-edge0),vec2(0),vec2(1));}const highp vec3 rand_constants=vec3(12.9898,78.233,4375.85453);highp float rand(const highp vec2 co) {highp float t=dot(rand_constants.xy,co);return fract(sin(t)*(rand_constants.z+t));}void main() {ivec2 pixel_coord=ivec2(v_tex_coord*u_particle_texture_side_len);highp vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);highp vec2 pos=unpack_pos_from_rgba(pixel);highp vec2 velocity=lookup_velocity(clamp(pos,0.0,1.0));highp vec2 dp=velocity==INVALID_VELOCITY ? vec2(0) : velocity*u_speed_factor;pos=pos+dp;highp vec2 seed=(pos+v_tex_coord)*u_rand_seed;highp vec2 random_pos=vec2(rand(seed+1.3),rand(seed+2.1));highp vec2 persist_rate=pow(
linearstep(vec2(-u_particle_pos_offset),vec2(0),pos)*linearstep(vec2(1.0+u_particle_pos_offset),vec2(1),pos),vec2(4)
);highp vec2 per_frame_persist=pow(persist_rate,abs(dp)/u_particle_pos_offset);highp float drop_rate=1.0-per_frame_persist.x*per_frame_persist.y;drop_rate=any(greaterThanEqual(abs(pos-0.5),vec2(0.5+u_particle_pos_offset))) ? 1.0 : drop_rate;highp float drop=step(1.0-drop_rate-u_reset_rate,rand(seed));highp vec2 next_pos=mix(pos,random_pos,drop);glFragColor=pack_pos_to_rgba(next_pos);}`,"in vec2 a_pos;out vec2 v_tex_coord;void main() {v_tex_coord=0.5*(a_pos+vec2(1.0));gl_Position=vec4(a_pos,0.0,1.0);}"),symbolIcon:On(`#include "_prelude_lighting.glsl"
uniform sampler2D u_texture;
#ifdef ICON_TRANSITION
uniform float u_icon_transition;
#endif
in float v_fade_opacity;in vec2 v_tex_a;
#ifdef ICON_TRANSITION
in vec2 v_tex_b;
#endif
#ifdef COLOR_ADJUSTMENT
uniform mat4 u_color_adj_mat;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float emissive_strength
lowp float alpha=opacity*v_fade_opacity;vec4 out_color;
#ifdef ICON_TRANSITION
vec4 a=texture(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b);
#else
out_color=texture(u_texture,v_tex_a);
#endif
#ifdef COLOR_ADJUSTMENT
out_color=u_color_adj_mat*out_color;
#endif
out_color*=alpha;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef OCCLUSION_QUERIES
in float a_occlusion_query_opacity;
#endif
#ifdef Z_OFFSET
in float a_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
#ifdef ICON_TRANSITION
in vec2 a_texb;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out vec2 v_tex_a;
#ifdef ICON_TRANSITION
out vec2 v_tex_b;
#endif
out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float emissive_strength
#pragma mapbox: define lowp float occlusion_opacity
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float emissive_strength
#pragma mapbox: initialize lowp float occlusion_opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;vec3 world_pos_globe;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos_globe=a_globe_anchor+h;world_pos=mix_globe_mercator(world_pos_globe,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;vec2 a;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);vec4 projected_point_globe=u_matrix*vec4(world_pos_globe,1);a=projected_point_globe.xy/projected_point_globe.w;
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);a=projected_point.xy/projected_point.w;
#endif
vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=globe_occlusion_fade;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float out_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
v_tex_a=a_tex/u_texsize;
#ifdef ICON_TRANSITION
v_tex_b=a_texb/u_texsize;
#endif
v_fade_opacity=out_fade_opacity;
#ifdef DEPTH_OCCLUSION
float depthOcclusion=occlusionFadeMultiSample(projected_point);float depthOcclusionMultplier=mix(occlusion_opacity,1.0,depthOcclusion);v_fade_opacity*=depthOcclusionMultplier;
#endif
#ifdef OCCLUSION_QUERIES
float occludedFadeMultiplier=mix(occlusion_opacity,1.0,a_occlusion_query_opacity);v_fade_opacity*=occludedFadeMultiplier;
#endif
}`),symbolSDF:On(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;in float v_draw_halo;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);vec4 out_color=color*(alpha*opacity*fade_opacity);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
#ifdef OCCLUSION_QUERIES
in float a_occlusion_query_opacity;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out float v_draw_halo;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
#pragma mapbox: define lowp float occlusion_opacity
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
#pragma mapbox: initialize lowp float occlusion_opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;vec3 world_pos_globe;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos_globe=a_globe_anchor+h;world_pos=mix_globe_mercator(world_pos_globe,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;vec2 a;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);vec4 projected_point_globe=u_matrix*vec4(world_pos_globe,1);a=projected_point_globe.xy/projected_point_globe.w;
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);a=projected_point.xy/projected_point.w;
#endif
vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=globe_occlusion_fade;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;
#ifdef DEPTH_OCCLUSION
float depthOcclusion=occlusionFadeMultiSample(projected_point);float depthOcclusionMultplier=mix(occlusion_opacity,1.0,depthOcclusion);out_fade_opacity*=depthOcclusionMultplier;
#endif
#ifdef OCCLUSION_QUERIES
float occludedFadeMultiplier=mix(occlusion_opacity,1.0,a_occlusion_query_opacity);out_fade_opacity*=occludedFadeMultiplier;
#endif
float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,out_fade_opacity);}`),symbolTextAndIcon:On(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_halo;in float v_draw_halo;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;glFragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);vec4 out_color=color*(alpha*opacity*fade_opacity);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef OCCLUSION_QUERIES
in float a_occlusion_query_opacity;
#endif
#ifdef Z_OFFSET
in float a_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out float v_draw_halo;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
#pragma mapbox: define lowp float occlusion_opacity
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
#pragma mapbox: initialize lowp float occlusion_opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=globe_occlusion_fade;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
float out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;
#ifdef DEPTH_OCCLUSION
float depthOcclusion=occlusionFadeMultiSample(projected_point);float depthOcclusionMultplier=mix(occlusion_opacity,1.0,depthOcclusion);out_fade_opacity*=depthOcclusionMultplier;
#endif
#ifdef OCCLUSION_QUERIES
float occludedFadeMultiplier=mix(occlusion_opacity,1.0,a_occlusion_query_opacity);out_fade_opacity*=occludedFadeMultiplier;
#endif
float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+ xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,out_fade_opacity,is_sdf);}`),terrainRaster:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;in vec2 v_pos0;
#ifdef FOG
in float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#endif
uniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture(u_image0,v_pos0);vec4 color;
#ifdef LIGHTING_3D_MODE
const vec3 normal=vec3(0.0,0.0,1.0);
#ifdef RENDER_SHADOWS
float cutoffOpacity=1.0;
#ifdef RENDER_CUTOFF
cutoffOpacity=cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w);
#endif
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
vec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;
#else
float lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));
#endif
#else
float lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;
#endif
#endif
#else
color=image_color;
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_skirt_height;in vec2 a_pos;out vec2 v_pos0;
#ifdef FOG
out float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;
#endif
void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);
#endif
}`),terrainDepth:On("precision highp float;in float v_depth;void main() {glFragColor=pack_depth(v_depth);}",`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;out float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}`),skybox:On(`#include "_prelude_fog.fragment.glsl"
in lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=texture(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);glFragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,Ad),skyboxGradient:On(`#include "_prelude_fog.fragment.glsl"
in highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,Ad),skyboxCapture:On(`
in highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;precision highp float;
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;glFragColor=vec4(color,1.0);}`,"in highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;out highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;uniform float u_far_z_cutoff;in vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
raster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(raster.rgb*antialias,antialias);
#else
raster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;
#else
color=apply_lighting_ground(color);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=1.0-step(u_far_z_cutoff,1.0/gl_FragCoord.w);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;
#endif
out vec2 v_pos0;void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:On(`#include "_prelude_fog.fragment.glsl"
uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;in highp vec3 v_ray_dir;in highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {
#ifdef ALPHA_PASS
glFragColor=vec4(0,0,0,0);return;
#else
#ifdef NATIVE
glFragColor=vec4(1,1,1,1);
#else
glFragColor=vec4(0,0,0,1);
#endif
return;
#endif
}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;
#ifdef ALPHA_PASS
float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);glFragColor=vec4(1.0,1.0,1.0,a);
#else
vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;
#ifndef NATIVE
c=dither(c,gl_FragCoord.xy+u_temporal_offset);
#endif
glFragColor=vec4(c*t,t);
#endif
}`,`in vec3 a_pos;in vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;out highp vec3 v_ray_dir;out highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`),model:On(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;in highp vec4 v_position_height;in lowp vec4 v_color_mix;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in float v_depth_shadows;
#endif
#ifdef OCCLUSION_TEXTURE_TRANSFORM
uniform vec4 u_occlusionTextureTransform;
#endif
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#ifdef HAS_ATTRIBUTE_a_pbr
in lowp vec4 v_roughness_metallic_emissive_alpha;in mediump vec4 v_height_based_emission_params;
#endif
#ifdef HAS_TEXTURE_u_baseColorTexture
uniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;
#endif
#ifdef HAS_TEXTURE_u_metallicRoughnessTexture
uniform sampler2D u_metallicRoughnessTexture;
#endif
#ifdef HAS_TEXTURE_u_occlusionTexture
uniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;
#endif
#ifdef HAS_TEXTURE_u_normalTexture
uniform sampler2D u_normalTexture;
#endif
#ifdef HAS_TEXTURE_u_emissionTexture
uniform sampler2D u_emissionTexture;
#endif
#ifdef APPLY_LUT_ON_GPU
uniform highp sampler3D u_lutTexture;
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
in highp float v_depth;uniform highp sampler2D u_depthTexture;uniform vec2 u_inv_depth_size;uniform vec2 u_depth_range_unpack;
#ifdef DEPTH_D24
float unpack_depth(float depth) {return  depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}
#else
highp float unpack_depth_rgba(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded() {vec2 coord=gl_FragCoord.xy*u_inv_depth_size;
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depthTexture,coord).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depthTexture,coord));
#endif
return v_depth > depth+0.0005;}
#endif
#define saturate(_x) clamp(_x,0.,1.)
vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}float calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)
{
#ifdef LIGHTING_3D_MODE
vec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));
#endif
return apply_lighting(albedo,transformed_normal,lighting_factor);
#else
vec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;
#endif
}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;
#ifdef HAS_ATTRIBUTE_a_color_3f
albedo*=vec4(color_3f,1.0);
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#else
#ifdef HAS_ATTRIBUTE_a_color_4f
albedo*=color_4f;
#endif
#endif
#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)
vec4 texColor=texture(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}
#ifdef UNPREMULT_TEXTURE_IN_SHADER
if(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;
#endif
if(u_baseTextureIsAlpha) {if (texColor.r < 0.5) {discard;}} else {texColor.rgb=sRGBToLinear(texColor.rgb);albedo*=texColor;}
#endif
vec4 color=vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);
#ifdef APPLY_LUT_ON_GPU
color=applyLUT(u_lutTexture,color);
#endif
return color;}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {
#ifdef HAS_TEXTURE_u_normalTexture
highp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;
#else
return mat3(1.0);
#endif
}highp vec3 getNormal(){highp vec3 n;
#ifdef HAS_ATTRIBUTE_a_normal_3f
n=normalize(normal_3f);
#else
highp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;
#endif
#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
vec3 nMap=texture( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);
#endif
return n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;
#ifdef HAS_ATTRIBUTE_a_pbr
mat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;
#endif
#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) 
vec4 mrSample=texture(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;
#endif
const float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)
{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)
{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)
{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)
{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)
{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)
{
#ifdef LIGHTING_3D_MODE
return mat.diffuseColor;
#else
return mat.diffuseColor/PI;
#endif
}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)
{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)
{vec3 env_light=vec3(0.65,0.65,0.65);
#ifdef LIGHTING_3D_MODE
float ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;
#endif
vec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)
{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=NdotL;
#endif
vec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;
#if !defined(LIGHTING_3D_MODE)
const vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);
#endif
color*=intensityFactor;return color;}void main() {
#ifdef TERRAIN_FRAGMENT_OCCLUSION
if (isOccluded()) {discard;}
#endif
vec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;
#ifdef LIGHTING_3D_MODE
lightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;
#endif
vec4 finalColor;
#ifdef DIFFUSE_SHADED
vec3 N=getNormal();vec3 baseColor=getBaseColor().rgb;vec3 diffuse=getDiffuseShadedColor(baseColor,N,lightDir,lightColor);
#ifdef HAS_TEXTURE_u_occlusionTexture
float ao=(texture(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;
#endif
finalColor=vec4(mix(diffuse,baseColor,u_emissive_strength),1.0)*u_opacity;
#else
Material mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);float ao=1.0;
#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
#ifdef OCCLUSION_TEXTURE_TRANSFORM
vec2 uv=uv_2f.xy*u_occlusionTextureTransform.zw+u_occlusionTextureTransform.xy;
#else
vec2 uv=uv_2f;
#endif
ao=(texture(u_occlusionTexture,uv).x-1.0)*u_aoIntensity+1.0;color*=ao;
#endif
vec4 emissive=u_emissiveFactor;
#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
emissive.rgb*=sRGBToLinear(texture(u_emissionTexture,uv_2f).rgb);
#endif
#ifdef APPLY_LUT_ON_GPU
float emissiveFactorLength=max(length(u_emissiveFactor.rgb),0.001);emissive.rgb=sRGBToLinear(applyLUT(u_lutTexture,linearTosRGB(emissive.rgb/emissiveFactorLength).rbg))*emissiveFactorLength;
#endif
color+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;
#ifdef HAS_ATTRIBUTE_a_pbr
float resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);vec3 color_mix=v_color_mix.rgb;
#ifdef APPLY_LUT_ON_GPU
color_mix=applyLUT(u_lutTexture,color_mix);
#endif
color=mix(color,color_mix,min(1.0,resEmission));
#ifdef HAS_ATTRIBUTE_a_color_4f
float distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);
#endif
#endif
vec3 unlitColor=mat.baseColor.rgb*ao+emissive.rgb;color=mix(color,unlitColor,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);
#endif
#ifdef FOG
finalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));
#endif
#ifdef RENDER_CUTOFF
finalColor*=v_cutoff_opacity;
#endif
#ifdef INDICATOR_CUTOUT
finalColor=applyCutout(finalColor);
#endif
glFragColor=finalColor;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec3 a_pos_3f;
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr
#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength
uniform mat4 u_matrix;uniform mat4 u_node_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_normal_matrix;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out float v_depth_shadows;
#endif
out vec4 v_position_height;out lowp vec4 v_color_mix;
#ifdef TERRAIN_FRAGMENT_OCCLUSION
out highp float v_depth;
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
out lowp vec4 v_roughness_metallic_emissive_alpha;out mediump vec4 v_height_based_emission_params;
#endif
vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}void main() {
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute-custom highp vec4 pbr
#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength
highp mat4 normal_matrix;
#ifdef INSTANCED_ARRAYS
normal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
normal_matrix=u_normal_matrix;
#endif
vec3 local_pos;mat3 rs;
#ifdef MODEL_POSITION_ON_GPU
vec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float hidden=float(pos_a.x > EXTENT);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=mix(u_matrix*pos,AWAY,hidden);pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;
#else
local_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);
#endif
v_position_height.w=a_pos_3f.z;
#ifdef HAS_ATTRIBUTE_a_pbr
vec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;
#endif
#ifdef FOG
v_fog_pos=fog_position(local_pos);
#endif
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
float x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);
#else
normal_3f=vec3(normal_matrix*vec4(normal_3f,0));
#endif
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#ifdef HAS_ATTRIBUTE_a_color_4f
v_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);
#endif
#endif
#ifdef RENDER_SHADOWS
vec4 shadow_pos=u_node_matrix*vec4(local_pos,1.0);
#ifdef NORMAL_OFFSET
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
vec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#else
vec3 offset=shadow_normal_offset_model(normal_3f);shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#endif
#endif
#endif
v_pos_light_view_0=u_light_matrix_0*shadow_pos;v_pos_light_view_1=u_light_matrix_1*shadow_pos;v_depth_shadows=gl_Position.w;
#endif
}`),modelDepth:On(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`in vec3 a_pos_3f;uniform mat4 u_matrix;out highp float v_depth;
#ifdef MODEL_POSITION_ON_GPU
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_instance;
#endif
uniform highp mat4 u_node_matrix;
#endif
void main() {
#ifdef MODEL_POSITION_ON_GPU
highp mat4 instance;
#ifdef INSTANCED_ARRAYS
instance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
instance=u_instance;
#endif
vec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float hidden=float(pos_a.x > EXTENT);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=mix(u_matrix*pos,AWAY,hidden);
#else
gl_Position=u_matrix*vec4(a_pos_3f,1);
#endif
v_depth=gl_Position.z/gl_Position.w;}`),stars:On(`in highp vec2 v_uv;in mediump float v_intensity;float shapeCircle(in vec2 uv)
{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;glFragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}`,`
in vec3 a_pos_3f;in vec2 a_uv;in float a_size_scale;in float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;out highp vec2 v_uv;out mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}`),occlusion:On("uniform vec4 u_color;void main() {glFragColor=u_color;}",`#include "_prelude_terrain.vertex.glsl"
in highp vec2 a_offset_xy;uniform highp vec3 u_anchorPos;uniform mat4 u_matrix;uniform vec2 u_screenSizePx;uniform vec2 u_occluderSizePx;void main() {vec3 world_pos=u_anchorPos;
#ifdef TERRAIN
float e=elevation(world_pos.xy);world_pos.z+=e;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1.0);projected_point.xy+=projected_point.w*a_offset_xy*0.5*u_occluderSizePx/u_screenSizePx;gl_Position=projected_point;}`)};function Oh(b,d){const m=b.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let w of m)if(w=w.trim(),w[0]==="#"&&w.includes("if")&&!w.includes("endif")){w=w.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const T=w.split(" ");for(const C of T)d.includes(C)||d.push(C)}}function On(b,d){const m=/#include\s+"([^"]+)"/g,w=/#pragma mapbox: ([\w\-]+) ([\w]+) ([\w]+) ([\w]+)/g;let T=d.match(/(attribute(\S*)|(^\s*|;)in) (highp |mediump |lowp )?([\w]+) ([\w]+)/gm);T&&(T=T.map(q=>{const Q=q.split(" ");return Q[Q.length-1]}),T=[...new Set(T)]);const C={},O=[],z=[];if(b=b.replace(m,(q,Q)=>(z.push(Q),"")),(d=d.replace(m,(q,Q)=>(O.push(Q),""))).includes("flat out"))return void console.error('The usage of "flat" qualifier is disallowed, see: https://bugs.webkit.org/show_bug.cgi?id=268071');let K=[...o0];Oh(b,K),Oh(d,K);for(const q of[...O,...z])s0[q]||console.error(`Undefined include: ${q}`),gv[q]||(gv[q]=[],Oh(s0[q],gv[q])),K=[...K,...gv[q]];return{fragmentSource:b=b.replace(w,(q,Q,ie,ce,me)=>(C[me]=!0,Q==="define"?`
#ifndef HAS_UNIFORM_u_${me}
in ${ie} ${ce} ${me};
#else
uniform ${ie} ${ce} u_${me};
#endif
`:Q==="initialize"?`
#ifdef HAS_UNIFORM_u_${me}
    ${ie} ${ce} ${me} = u_${me};
#endif
`:Q==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${me}
    in ${ie} ${ce} ${me};
#endif
`:Q==="initialize-attribute"?"":void 0)),vertexSource:d=d.replace(w,(q,Q,ie,ce,me)=>{const Ee=ce==="float"?"vec2":ce,Ae=me.match(/color/)?"color":Ee;return Q==="define-attribute-vertex-shader-only"?`
#ifdef HAS_ATTRIBUTE_a_${me}
in ${ie} ${ce} a_${me};
#endif
`:C[me]?Q==="define"?`
#ifndef HAS_UNIFORM_u_${me}
uniform lowp float u_${me}_t;
in ${ie} ${Ee} a_${me};
out ${ie} ${ce} ${me};
#else
uniform ${ie} ${ce} u_${me};
#endif
`:Q==="initialize"?Ae==="vec4"?`
#ifndef HAS_UNIFORM_u_${me}
    ${me} = a_${me};
#else
    ${ie} ${ce} ${me} = u_${me};
#endif
`:`
#ifndef HAS_UNIFORM_u_${me}
    ${me} = unpack_mix_${Ae}(a_${me}, u_${me}_t);
#else
    ${ie} ${ce} ${me} = u_${me};
#endif
`:Q==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${me}
    in ${ie} ${ce} a_${me};
    out ${ie} ${ce} ${me};
#endif
`:Q==="initialize-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${me}
    ${me} = a_${me};
#endif
`:void 0:Q==="define"?`
#ifndef HAS_UNIFORM_u_${me}
uniform lowp float u_${me}_t;
in ${ie} ${Ee} a_${me};
#else
uniform ${ie} ${ce} u_${me};
#endif
`:Q==="define-instanced"?Ae==="mat4"?`
#ifdef INSTANCED_ARRAYS
in vec4 a_${me}0;
in vec4 a_${me}1;
in vec4 a_${me}2;
in vec4 a_${me}3;
#else
uniform ${ie} ${ce} u_${me};
#endif
`:`
#ifdef INSTANCED_ARRAYS
in ${ie} ${Ee} a_${me};
#else
uniform ${ie} ${ce} u_${me};
#endif
`:Q==="initialize-attribute-custom"?`
#ifdef HAS_ATTRIBUTE_a_${me}
    ${ie} ${ce} ${me} = a_${me};
#endif
`:Ae==="vec4"?`
#ifndef HAS_UNIFORM_u_${me}
    ${ie} ${ce} ${me} = a_${me};
#else
    ${ie} ${ce} ${me} = u_${me};
#endif
`:`
#ifndef HAS_UNIFORM_u_${me}
    ${ie} ${ce} ${me} = unpack_mix_${Ae}(a_${me}, u_${me}_t);
#else
    ${ie} ${ce} ${me} = u_${me};
#endif
`}),staticAttributes:T,usedDefines:K,vertexIncludes:O,fragmentIncludes:z}}class Qk{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(d,m,w,T,C,O,z,K){this.context=d;let q=this.boundPaintVertexBuffers.length!==T.length;for(let ie=0;!q&&ie<T.length;ie++)this.boundPaintVertexBuffers[ie]!==T[ie]&&(q=!0);let Q=this.boundDynamicVertexBuffers.length!==z.length;for(let ie=0;!Q&&ie<z.length;ie++)this.boundDynamicVertexBuffers[ie]!==z[ie]&&(Q=!0);if(!this.vao||this.boundProgram!==m||this.boundLayoutVertexBuffer!==w||q||Q||this.boundIndexBuffer!==C||this.boundVertexOffset!==O)this.freshBind(m,w,T,C,O,z,K);else{d.bindVertexArrayOES.set(this.vao);for(const ie of z)ie&&(ie.bind(),K&&ie.instanceCount&&ie.setVertexAttribDivisor(d.gl,m,K));C&&C.dynamicDraw&&C.bind()}}freshBind(d,m,w,T,C,O,z){const K=d.numAttributes,q=this.context,Q=q.gl;this.vao&&this.destroy(),this.vao=q.gl.createVertexArray(),q.bindVertexArrayOES.set(this.vao),this.boundProgram=d,this.boundLayoutVertexBuffer=m,this.boundPaintVertexBuffers=w,this.boundIndexBuffer=T,this.boundVertexOffset=C,this.boundDynamicVertexBuffers=O,m.enableAttributes(Q,d),m.bind(),m.setVertexAttribPointers(Q,d,C);for(const ie of w)ie.enableAttributes(Q,d),ie.bind(),ie.setVertexAttribPointers(Q,d,C);for(const ie of O)ie&&(ie.enableAttributes(Q,d),ie.bind(),ie.setVertexAttribPointers(Q,d,C),z&&ie.instanceCount&&ie.setVertexAttribDivisor(Q,d,z));T&&T.bind(),q.currentNumAttributes=K}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null)}}function eO(b,d){const m=Math.pow(2,d.canonical.z),w=d.canonical.y;return[new o._(0,w/m).toLngLat().lat,new o._(0,(w+1)/m).toLngLat().lat]}function tO(b,d,m,w,T,C,O){const z=b.context,K=z.gl,q=m.hillshadeFBO;if(!q)return;b.prepareDrawTile();const Q=b.isTileAffectedByFog(d),ie=b.getOrCreateProgram("hillshade",{overrideFog:Q});z.activeTexture.set(K.TEXTURE0),K.bindTexture(K.TEXTURE_2D,q.colorAttachment.get());const ce=((Pe,Ie,Ve,Ue)=>{const Fe=Ve.paint.get("hillshade-shadow-color"),Ye=Ve.paint.get("hillshade-highlight-color"),He=Ve.paint.get("hillshade-accent-color"),Ge=Ve.paint.get("hillshade-emissive-strength");let nt=o.ac(Ve.paint.get("hillshade-illumination-direction"));if(Ve.paint.get("hillshade-illumination-anchor")==="viewport")nt-=Pe.transform.angle;else if(Pe.style&&Pe.style.enable3dLights()&&Pe.style.directionalLight){const pt=Pe.style.directionalLight.properties.get("direction"),ot=o.ad(pt.x,pt.y,pt.z);nt=o.ac(ot[1])}const at=!Pe.options.moving;return{u_matrix:Ue||Pe.transform.calculateProjMatrix(Ie.tileID.toUnwrapped(),at),u_image:0,u_latrange:eO(0,Ie.tileID),u_light:[Ve.paint.get("hillshade-exaggeration"),nt],u_shadow:Fe.toRenderColor(Ve.lut),u_highlight:Ye.toRenderColor(Ve.lut),u_emissive_strength:Ge,u_accent:He.toRenderColor(Ve.lut)}})(b,m,w,b.terrain?d.projMatrix:null);b.uploadCommonUniforms(z,ie,d.toUnwrapped());const{tileBoundsBuffer:me,tileBoundsIndexBuffer:Ee,tileBoundsSegments:Ae}=b.getTileBoundsBuffers(m);ie.draw(b,K.TRIANGLES,T,C,O,o.ag.disabled,ce,w.id,me,Ee,Ae)}function dS(b,d,m){if(!d.needsDEMTextureUpload)return;const w=b.context,T=w.gl;w.pixelStoreUnpackPremultiplyAlpha.set(!1),d.demTexture=d.demTexture||b.getTileTexture(m.stride);const C=m.getPixels();d.demTexture?d.demTexture.update(C,{premultiply:!1}):d.demTexture=new o.T(w,C,T.R32F,{premultiply:!1}),d.needsDEMTextureUpload=!1}function rO(b,d,m){const w=b.context,T=w.gl;if(!d.dem)return;const C=d.dem;if(w.activeTexture.set(T.TEXTURE1),dS(b,d,C),!d.demTexture)return;d.demTexture.bind(T.NEAREST,T.CLAMP_TO_EDGE);const O=C.dim;w.activeTexture.set(T.TEXTURE0);let z=d.hillshadeFBO;if(!z){const ce=new o.T(w,{width:O,height:O,data:null},T.RGBA);ce.bind(T.LINEAR,T.CLAMP_TO_EDGE),z=d.hillshadeFBO=w.createFramebuffer(O,O,!0,"renderbuffer"),z.colorAttachment.set(ce.texture)}w.bindFramebuffer.set(z.framebuffer),w.viewport.set([0,0,O,O]);const{tileBoundsBuffer:K,tileBoundsIndexBuffer:q,tileBoundsSegments:Q}=b.getMercatorTileBoundsBuffers(),ie=[];b.linearFloatFilteringSupported()&&ie.push("TERRAIN_DEM_FLOAT_FORMAT"),b.getOrCreateProgram("hillshadePrepare",{defines:ie}).draw(b,T.TRIANGLES,o.af.disabled,o.ah.disabled,o.a.unblended,o.ag.disabled,((ce,me)=>{const Ee=me.stride,Ae=o.ae.create();return o.ae.ortho(Ae,0,o.a4,-o.a4,0,0,1),o.ae.translate(Ae,Ae,[0,-o.a4,0]),{u_matrix:Ae,u_image:1,u_dimension:[Ee,Ee],u_zoom:ce.overscaledZ}})(d.tileID,C),m.id,K,q,Q),d.needsHillshadePrepare=!1}function k3(b,d,m,w,T){const C=function(z,K){if(z)return T(z);if(K){if(b.url&&K.tiles&&b.tiles&&delete b.tiles,K.variants){if(!Array.isArray(K.variants))return T(new Error("variants must be an array"));for(const Q of K.variants){if(Q==null||typeof Q!="object"||Q.constructor!==Object)return T(new Error("variant must be an object"));if(!Array.isArray(Q.capabilities))return T(new Error("capabilities must be an array"));if(Q.capabilities.length===1&&Q.capabilities[0]==="meshopt"){K=o.Q(K,Q);break}}}const q=o.ai(o.Q(K,b),["tilejson","tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);K.vector_layers&&(q.vectorLayers=K.vector_layers,q.vectorLayerIds=q.vectorLayers.map(Q=>Q.id)),K.raster_layers&&(q.rasterLayers=K.raster_layers,q.rasterLayerIds=q.rasterLayers.map(Q=>Q.id)),q.tiles=d.canonicalizeTileset(q,b.url),T(null,q)}},O=function(z,K,q){if(!z)return null;if(!K&&!q)return z;q=q||z.worldview_default;const Q=Object.values(z.language||{});if(Q.length===0)return null;const ie=Object.values(z.worldview||{});if(ie.length===0)return null;const ce=Q.every(Ee=>Ee===K),me=ie.every(Ee=>Ee===q);return ce&&me?z:K in(z.language_options||{})||q in(z.worldview_options||{})?null:z.language_options&&z.worldview_options?z:null}(b.data,m,w);return O?o.e.frame(()=>C(null,O)):b.url?o.h(d.transformRequest(d.normalizeSourceURL(b.url,null,m,w),o.R.Source),C):o.e.frame(()=>{const{data:z,...K}=b;C(null,K)})}class l0{constructor(d,m,w){this.bounds=o.aj.convert(this.validateBounds(d)),this.minzoom=m||0,this.maxzoom=w||24}validateBounds(d){return Array.isArray(d)&&d.length===4?[Math.max(-180,d[0]),Math.max(-90,d[1]),Math.min(180,d[2]),Math.min(90,d[3])]:[-180,-90,180,90]}contains(d){const m=Math.pow(2,d.z),w=Math.floor(o.ak(this.bounds.getWest())*m),T=Math.floor(o.al(this.bounds.getNorth())*m),C=Math.ceil(o.ak(this.bounds.getEast())*m),O=Math.ceil(o.al(this.bounds.getSouth())*m);return d.x>=w&&d.x<C&&d.y>=T&&d.y<O}}class Hs extends o.E{constructor(d,m,w,T){super(),this.id=d,this.dispatcher=w,this.setEventedParent(T),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.Q({type:"raster"},m),o.Q(this,o.ai(m,["url","scheme","tileSize"]))}load(d){this._loaded=!1,this.fire(new o.g("dataloading",{dataType:"source"})),this._tileJSONRequest=k3(this._options,this.map._requestManager,null,null,(m,w)=>{this._tileJSONRequest=null,this._loaded=!0,m?this.fire(new o.f(m)):w&&(o.Q(this,w),w.bounds&&(this.tileBounds=new l0(w.bounds,this.minzoom,this.maxzoom)),o.ao(w.tiles),this.fire(new o.g("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.g("data",{dataType:"source",sourceDataType:"content"}))),d&&d(m)})}loaded(){return this._loaded}onAdd(d){this.map=d,this.load()}reload(){this.cancelTileJSONRequest();const d=o.am(this.id,this.scope);this.load(()=>this.map.style.clearSource(d))}setTiles(d){return this._options.tiles=d,this.reload(),this}setUrl(d){return this.url=d,this._options.url=d,this.reload(),this}onRemove(d){this.cancelTileJSONRequest()}serialize(){return o.Q({},this._options)}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}loadTile(d,m){const w=o.e.devicePixelRatio>=2,T=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme),w,this.tileSize);d.request=o.i(this.map._requestManager.transformRequest(T,o.R.Tile),(C,O,z,K)=>(delete d.request,d.aborted?(d.state="unloaded",m(null)):C?(d.state="errored",m(C)):O?(this.map._refreshExpiredTiles&&d.setExpiryData({cacheControl:z,expires:K}),d.setTexture(O,this.map.painter),d.state="loaded",o.an(this.dispatcher),void m(null)):m(null)))}abortTile(d,m){d.request&&(d.request.cancel(),delete d.request),m&&m()}unloadTile(d,m){d.texture&&d.texture instanceof o.T?(d.destroy(!0),d.texture&&d.texture instanceof o.T&&this.map.painter.saveTileTexture(d.texture)):d.destroy(),m&&m()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class fS extends o.E{constructor(d,m,w,T){if(super(),this.id=d,this.dispatcher=w,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.Q(this,o.ai(m,["url","scheme","tileSize","promoteId"])),this._options=o.Q({type:"vector"},m),this._collectResourceTiming=!!m.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(T),this._tileWorkers={},this._deduped=new o.ap}load(d){this._loaded=!1,this.fire(new o.g("dataloading",{dataType:"source"}));const m=Array.isArray(this.map._language)?this.map._language.join():this.map._language,w=this.map._worldview;this._tileJSONRequest=k3(this._options,this.map._requestManager,m,w,(T,C)=>{this._tileJSONRequest=null,this._loaded=!0,T?(m&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${m}`),w&&w.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${w}`),this.fire(new o.f(T))):C&&(o.Q(this,C),C.bounds&&(this.tileBounds=new l0(C.bounds,this.minzoom,this.maxzoom)),o.ao(C.tiles,this.map._requestManager._customAccessToken),this.fire(new o.g("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.g("data",{dataType:"source",sourceDataType:"content"}))),d&&d(T)})}loaded(){return this._loaded}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}onAdd(d){this.map=d,this.load()}reload(){this.cancelTileJSONRequest();const d=o.am(this.id,this.scope);this.load(()=>this.map.style.clearSource(d))}setTiles(d){return this._options.tiles=d,this.reload(),this}setUrl(d){return this.url=d,this._options.url=d,this.reload(),this}onRemove(d){this.cancelTileJSONRequest()}serialize(){return o.Q({},this._options)}loadTile(d,m){const w=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme)),T=this.map._requestManager.transformRequest(w,o.R.Tile),C=this.map.style?this.map.style.getLut(this.scope):null,O={request:T,data:void 0,uid:d.uid,tileID:d.tileID,tileZoom:d.tileZoom,zoom:d.tileID.overscaledZ,lut:C?{image:C.image.clone()}:null,tileSize:this.tileSize*d.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:o.e.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:d.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:d.isExtraShadowCaster,tessellationStep:this.map._tessellationStep};if(O.request.collectResourceTiming=this._collectResourceTiming,d.actor&&d.state!=="expired")d.state==="loading"?d.reloadCallback=m:d.request=d.actor.send("reloadTile",O,z.bind(this));else if(d.actor=this._tileWorkers[w]=this._tileWorkers[w]||this.dispatcher.getActor(),this.dispatcher.ready)d.request=d.actor.send("loadTile",O,z.bind(this),void 0,!0);else{const K=o.aq.call({deduped:this._deduped},O,(q,Q)=>{q||!Q?z.call(this,q):(O.data={cacheControl:Q.cacheControl,expires:Q.expires,rawData:Q.rawData.slice(0)},d.actor&&d.actor.send("loadTile",O,z.bind(this),void 0,!0))},!0);d.request={cancel:K}}function z(K,q){return delete d.request,d.aborted?m(null):K&&K.status!==404?m(K):(q&&q.resourceTiming&&(d.resourceTiming=q.resourceTiming),this.map._refreshExpiredTiles&&q&&d.setExpiryData(q),d.loadVectorData(q,this.map.painter),o.an(this.dispatcher),m(null),void(d.reloadCallback&&(this.loadTile(d,d.reloadCallback),d.reloadCallback=null)))}}abortTile(d){d.request&&(d.request.cancel(),delete d.request),d.actor&&d.actor.send("abortTile",{uid:d.uid,type:this.type,source:this.id,scope:this.scope})}unloadTile(d,m){d.actor&&d.actor.send("removeTile",{uid:d.uid,type:this.type,source:this.id,scope:this.scope}),d.destroy()}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}const pS=(b,d,m)=>({u_matrix:b,u_image0:0,u_skirt_height:d,u_ground_shadow_factor:m}),O3=(b,d,m,w,T,C,O,z,K,q,Q,ie,ce,me,Ee,Ae)=>({u_proj_matrix:Float32Array.from(b),u_globe_matrix:d,u_normalize_matrix:Float32Array.from(w),u_merc_matrix:m,u_zoom_transition:T,u_merc_center:C,u_image0:0,u_frustum_tl:O,u_frustum_tr:z,u_frustum_br:K,u_frustum_bl:q,u_globe_pos:Q,u_globe_radius:ie,u_viewport:ce,u_grid_matrix:Ae?Float32Array.from(Ae):new Float32Array(9),u_skirt_height:me,u_far_z_cutoff:Ee});class u0{constructor(d=0,m=0,w=0,T=0){if(isNaN(d)||d<0||isNaN(m)||m<0||isNaN(w)||w<0||isNaN(T)||T<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=d,this.bottom=m,this.left=w,this.right=T}interpolate(d,m,w){return m.top!=null&&d.top!=null&&(this.top=o.a3(d.top,m.top,w)),m.bottom!=null&&d.bottom!=null&&(this.bottom=o.a3(d.bottom,m.bottom,w)),m.left!=null&&d.left!=null&&(this.left=o.a3(d.left,m.left,w)),m.right!=null&&d.right!=null&&(this.right=o.a3(d.right,m.right,w)),this}getCenter(d,m){const w=o.au((this.left+d-this.right)/2,0,d),T=o.au((this.top+m-this.bottom)/2,0,m);return new o.P(w,T)}equals(d){return this.top===d.top&&this.bottom===d.bottom&&this.left===d.left&&this.right===d.right}clone(){return new u0(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function If(b,d){const m=o.ax(b,3);o.ae.fromQuat(b,d),o.aA(b,3,m)}function or(b,d){const m=o.aw.identity([]);return o.aw.rotateZ(m,m,-d),o.aw.rotateX(m,m,-b),m}function Dh(b,d){const m=[b[0],b[1],0],w=[d[0],d[1],0];if(o.$.length(m)>=1e-15){const O=o.$.normalize([],m);o.$.scale(w,O,o.$.dot(w,O)),d[0]=w[0],d[1]=w[1]}const T=o.$.cross([],d,b);if(o.$.len(T)<1e-15)return null;const C=Math.atan2(-T[1],T[0]);return or(Math.atan2(Math.sqrt(b[0]*b[0]+b[1]*b[1]),-b[2]),C)}class hS{constructor(d,m){this.position=d,this.orientation=m}get position(){return this._position}set position(d){if(d){const m=d instanceof o._?d:new o._(d[0],d[1],d[2]);this._renderWorldCopies&&(m.x=o.av(m.x,0,1)),this._position=m}else this._position=null}lookAtPoint(d,m){if(this.orientation=null,!this.position)return;const w=this.position,T=this._elevation?this._elevation.getAtPointOrZero(o._.fromLngLat(d)):0,C=o._.fromLngLat(d,T),O=[C.x-w.x,C.y-w.y,C.z-w.z];m||(m=[0,0,1]),m[2]=Math.abs(m[2]),this.orientation=Dh(O,m)}setPitchBearing(d,m){this.orientation=or(o.ac(d),o.ac(-m))}}class Rh{constructor(d,m){this._transform=o.ae.identity([]),this.orientation=m,this.position=d}get mercatorPosition(){const d=this.position;return new o._(d[0],d[1],d[2])}get position(){const d=o.ax(this._transform,3);return[d[0],d[1],d[2]]}set position(d){var m;d&&o.aA(this._transform,3,[(m=d)[0],m[1],m[2],1])}get orientation(){return this._orientation}set orientation(d){this._orientation=d||o.aw.identity([]),d&&If(this._transform,this._orientation)}getPitchBearing(){const d=this.forward(),m=this.right();return{bearing:Math.atan2(-m[1],m[0]),pitch:Math.atan2(Math.sqrt(d[0]*d[0]+d[1]*d[1]),-d[2])}}setPitchBearing(d,m){this._orientation=or(d,m),If(this._transform,this._orientation)}forward(){const d=o.ax(this._transform,2);return[-d[0],-d[1],-d[2]]}up(){const d=o.ax(this._transform,1);return[-d[0],-d[1],-d[2]]}right(){const d=o.ax(this._transform,0);return[d[0],d[1],d[2]]}getCameraToWorld(d,m){const w=new Float64Array(16);return o.ae.invert(w,this.getWorldToCamera(d,m)),w}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(d,m,w){const T=this.position;o.$.scale(T,T,-d);const C=new Float64Array(16);return o.ae.fromScaling(C,[w,w,w]),o.ae.translate(C,C,T),C[10]*=m,C}getWorldToCamera(d,m){const w=new Float64Array(16),T=new Float64Array(4),C=this.position;return o.aw.conjugate(T,this._orientation),o.$.scale(C,C,-d),o.ae.fromQuat(w,T),o.ae.translate(w,w,C),w[1]*=-1,w[5]*=-1,w[9]*=-1,w[13]*=-1,w[8]*=m,w[9]*=m,w[10]*=m,w[11]*=m,w}getCameraToClipPerspective(d,m,w,T){const C=new Float64Array(16);return o.ae.perspective(C,d,m,w,T),C}getCameraToClipOrthographic(d,m,w,T,C,O){const z=new Float64Array(16);return o.ae.ortho(z,d,m,w,T,C,O),z}getDistanceToElevation(d,m=!1){const w=d===0?0:o.ay(d,m?o.az(this.position[1]):this.position[1]),T=this.forward();return(w-this.position[2])/T[2]}clone(){return new Rh([...this.position],[...this.orientation])}}const Sn={unknown:0,flipRequired:1,flipNotRequired:2},os=Math.tan(85*Math.PI/180);function c0(b,d,m,w,T,C,O){const z=o.ae.create();if(m)if(C.name==="globe"){const K=o.aC(T,d);o.ae.multiply(z,z,K)}else{const K=o.aD.invert([],O);z[0]=K[0],z[1]=K[1],z[4]=K[2],z[5]=K[3],w||o.ae.rotateZ(z,z,T.angle)}else o.ae.multiply(z,T.labelPlaneMatrix,b);return z}function vv(b,d,m,w,T,C,O){const z=c0(b,d,m,w,T,C,O);return C.name==="globe"&&m||(z[2]=z[6]=z[10]=z[14]=0),z}function _v(b,d,m,w,T,C,O){if(m){if(C.name==="globe"){const z=c0(b,d,m,w,T,C,O);return o.ae.invert(z,z),o.ae.multiply(z,b,z),z}{const z=o.ae.clone(b),K=o.ae.identity([]);return K[0]=O[0],K[1]=O[1],K[4]=O[2],K[5]=O[3],o.ae.multiply(z,z,K),w||o.ae.rotateZ(z,z,-T.angle),z}}return T.glCoordMatrix}function Zl(b,d,m,w){const T=[b,d,m,1];m?o.aB.transformMat4(T,T,w):$3(T,T,w);const C=T[3];return T[0]/=C,T[1]/=C,T[2]/=C,T}function pn(b,d){return Math.min(.5+b/d*.5,1.5)}function D3(b,d){const m=b[0]/b[3],w=b[1]/b[3];return m>=-d[0]&&m<=d[0]&&w>=-d[1]&&w<=d[1]}function $h(b,d,m,w,T,C,O,z,K,q){const Q=m.transform,ie=w?b.textSizeData:b.iconSizeData,ce=o.aE(ie,m.transform.zoom),me=Q.projection.name==="globe",Ee=[256/m.width*2+1,256/m.height*2+1],Ae=w?b.text.dynamicLayoutVertexArray:b.icon.dynamicLayoutVertexArray;Ae.clear();let Pe=null;me&&(Pe=w?b.text.globeExtVertexArray:b.icon.globeExtVertexArray);const Ie=b.lineVertexArray,Ve=w?b.text.placedSymbolArray:b.icon.placedSymbolArray,Ue=m.transform.width/m.transform.height;let Fe,Ye=!1;for(let He=0;He<Ve.length;He++){const Ge=Ve.get(He),{numGlyphs:nt,writingMode:at}=Ge;if(at!==o.aF.vertical||Ye||Fe===o.aF.horizontal||(Ye=!0),Fe=at,(Ge.hidden||at===o.aF.vertical)&&!Ye){Mf(nt,Ae);continue}Ye=!1;const pt=new o.P(Ge.tileAnchorX,Ge.tileAnchorY);let{x:ot,y:Xe,z:xt}=Q.projection.projectTilePoint(pt.x,pt.y,q.canonical);if(K){const[ar,lr,vr]=K(pt);ot+=ar,Xe+=lr,xt+=vr}const vt=[ot,Xe,xt,1];if(o.aB.transformMat4(vt,vt,d),!D3(vt,Ee)){Mf(nt,Ae);continue}const lt=vt[3],Kt=pn(m.transform.getCameraToCenterDistance(Q.projection),lt),zt=o.aG(ie,ce,Ge),ht=O?zt/Kt:zt*Kt,Pt=Zl(ot,Xe,xt,T);if(Pt[3]<=0){Mf(nt,Ae);continue}let st={};const Nt=O?null:K,jt=bo(Ge,ht,!1,z,d,T,C,b.glyphOffsetArray,Ie,Ae,Pe,Pt,pt,st,Ue,Nt,Q.projection,q,O);Ye=jt.useVertical,Nt&&jt.needsFlipping&&(st={}),(jt.notEnoughRoom||Ye||jt.needsFlipping&&bo(Ge,ht,!0,z,d,T,C,b.glyphOffsetArray,Ie,Ae,Pe,Pt,pt,st,Ue,Nt,Q.projection,q,O).notEnoughRoom)&&Mf(nt,Ae)}w?(b.text.dynamicLayoutVertexBuffer.updateData(Ae),Pe&&b.text.globeExtVertexBuffer&&b.text.globeExtVertexBuffer.updateData(Pe)):(b.icon.dynamicLayoutVertexBuffer.updateData(Ae),Pe&&b.icon.globeExtVertexBuffer&&b.icon.globeExtVertexBuffer.updateData(Pe))}function d0(b,d,m,w,T,C,O,z,K,q,Q,ie,ce,me,Ee,Ae){const{lineStartIndex:Pe,glyphStartIndex:Ie,segment:Ve}=z,Ue=Ie+z.numGlyphs,Fe=Pe+z.lineLength,Ye=d.getoffsetX(Ie),He=d.getoffsetX(Ue-1),Ge=Lh(b*Ye,m,w,T,C,O,Ve,Pe,Fe,K,q,Q,ie,ce,!0,me,Ee,Ae);if(!Ge)return null;const nt=Lh(b*He,m,w,T,C,O,Ve,Pe,Fe,K,q,Q,ie,ce,!0,me,Ee,Ae);return nt?{first:Ge,last:nt}:null}function R3(b,d,m,w){return b===o.aF.horizontal&&Math.abs(w)>Math.abs(m)?{useVertical:!0}:b===o.aF.vertical?w>0?{needsFlipping:!0}:null:d!==Sn.unknown&&function(T,C){return T===0||Math.abs(C/T)>os}(m,w)?d===Sn.flipRequired?{needsFlipping:!0}:null:m<0?{needsFlipping:!0}:null}function bo(b,d,m,w,T,C,O,z,K,q,Q,ie,ce,me,Ee,Ae,Pe,Ie,Ve){const Ue=d/24,Fe=b.lineOffsetX*Ue,Ye=b.lineOffsetY*Ue,{lineStartIndex:He,glyphStartIndex:Ge,numGlyphs:nt,segment:at,writingMode:pt,flipState:ot}=b,Xe=He+b.lineLength,xt=vt=>{if(Q){const[ht,Pt,st]=vt.up,Nt=q.length;o.aH(Q,Nt+0,ht,Pt,st),o.aH(Q,Nt+1,ht,Pt,st),o.aH(Q,Nt+2,ht,Pt,st),o.aH(Q,Nt+3,ht,Pt,st)}const[lt,Kt,zt]=vt.point;o.aI(q,lt,Kt,zt,vt.angle)};if(nt>1){const vt=d0(Ue,z,Fe,Ye,m,ie,ce,b,K,C,me,Ae,!1,Pe,Ie,Ve);if(!vt)return{notEnoughRoom:!0};if(w&&!m){let[lt,Kt,zt]=vt.first.point,[ht,Pt,st]=vt.last.point;[lt,Kt]=Zl(lt,Kt,zt,O),[ht,Pt]=Zl(ht,Pt,st,O);const Nt=R3(pt,ot,(ht-lt)*Ee,Pt-Kt);if(b.flipState=Nt&&Nt.needsFlipping?Sn.flipRequired:Sn.flipNotRequired,Nt)return Nt}xt(vt.first);for(let lt=Ge+1;lt<Ge+nt-1;lt++){const Kt=Lh(Ue*z.getoffsetX(lt),Fe,Ye,m,ie,ce,at,He,Xe,K,C,me,Ae,!1,!1,Pe,Ie,Ve);if(!Kt)return q.length-=4*(lt-Ge),{notEnoughRoom:!0};xt(Kt)}xt(vt.last)}else{if(w&&!m){const lt=Zl(ce.x,ce.y,0,T),Kt=He+at+1,zt=new o.P(K.getx(Kt),K.gety(Kt)),ht=Zl(zt.x,zt.y,0,T),Pt=ht[3]>0?ht:bv(ce,zt,lt,1,T,void 0,Pe,Ie.canonical),st=R3(pt,ot,(Pt[0]-lt[0])*Ee,Pt[1]-lt[1]);if(b.flipState=st&&st.needsFlipping?Sn.flipRequired:Sn.flipNotRequired,st)return st}const vt=Lh(Ue*z.getoffsetX(Ge),Fe,Ye,m,ie,ce,at,He,Xe,K,C,me,Ae,!1,!1,Pe,Ie,Ve);if(!vt)return{notEnoughRoom:!0};xt(vt)}return{}}function mS(b,d,m,w,T){const{x:C,y:O,z}=w.projectTilePoint(b.x,b.y,d);if(!T)return Zl(C,O,z,m);const[K,q,Q]=T(b);return Zl(C+K,O+q,z+Q,m)}function bv(b,d,m,w,T,C,O,z){const K=mS(b.sub(d)._unit()._add(b),z,T,O,C);return o.$.sub(K,m,K),o.$.normalize(K,K),o.$.scaleAndAdd(K,m,K,w)}function Lh(b,d,m,w,T,C,O,z,K,q,Q,ie,ce,me,Ee,Ae,Pe,Ie){const Ve=w?b-d:b+d;let Ue=Ve>0?1:-1,Fe=0;w&&(Ue*=-1,Fe=Math.PI),Ue<0&&(Fe+=Math.PI);let Ye=z+O+(Ue>0?0:1)|0,He=T,Ge=T,nt=0,at=0;const pt=Math.abs(Ve),ot=[],Xe=[];let xt=C,vt=xt;const lt=()=>bv(vt,xt,Ge,pt-nt+1,Q,ce,Ae,Pe.canonical);for(;nt+at<=pt;){if(Ye+=Ue,Ye<z||Ye>=K)return null;if(Ge=He,vt=xt,ot.push(Ge),me&&Xe.push(vt),xt=new o.P(q.getx(Ye),q.gety(Ye)),He=ie[Ye],!He){const lr=mS(xt,Pe.canonical,Q,Ae,ce);He=lr[3]>0?ie[Ye]=lr:lt()}nt+=at,at=o.$.distance(Ge,He)}Ee&&ce&&(ie[Ye]&&(He=lt(),at=o.$.distance(Ge,He)),ie[Ye]=He);const Kt=(pt-nt)/at,zt=xt.sub(vt)._mult(Kt)._add(vt),ht=o.$.sub([],He,Ge),Pt=o.$.scaleAndAdd([],Ge,ht,Kt);let st=[0,0,1],Nt=ht[0],jt=ht[1];if(Ie&&(st=Ae.upVector(Pe.canonical,zt.x,zt.y),st[0]!==0||st[1]!==0||st[2]!==1)){const lr=[st[2],0,-st[0]],vr=o.$.cross([],st,lr);o.$.normalize(lr,lr),o.$.normalize(vr,vr),Nt=o.$.dot(ht,lr),jt=o.$.dot(ht,vr)}if(m){const lr=o.$.cross([],st,ht);o.$.normalize(lr,lr),o.$.scaleAndAdd(Pt,Pt,lr,m*Ue)}const ar=Fe+Math.atan2(jt,Nt);return ot.push(Pt),me&&Xe.push(zt),{point:Pt,angle:ar,path:ot,tilePath:Xe,up:st}}function Mf(b,d){const m=d.length,w=m+4*b;d.resize(w),d.float32.fill(-1/0,4*m,4*w)}function $3(b,d,m){const w=d[0],T=d[1];return b[0]=m[0]*w+m[4]*T+m[12],b[1]=m[1]*w+m[5]*T+m[13],b[3]=m[3]*w+m[7]*T+m[15],b}const xv=(b,d,m)=>(1-m)*b+m*d,f0=b=>b*b*b*b*b;class p0{constructor(d,m,w,T,C,O,z){this.tileSize=512,this._renderWorldCopies=C===void 0||C,this._minZoom=d||0,this._maxZoom=m||22,this._minPitch=w??0,this._maxPitch=T??60,this.setProjection(O),this.setMaxBounds(z),this.width=0,this.height=0,this._center=new o.aJ(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new u0,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._expandedProjMatrixCache={},this._distanceTileDataCache={},this._camera=new Rh,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._tileCoverLift=0,this.freezeTileCoverage=!1,this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1}clone(){const d=new p0(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return d._elevation=this._elevation,d._centerAltitude=this._centerAltitude,d._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,d.tileSize=this.tileSize,d.mercatorFromTransition=this.mercatorFromTransition,d.width=this.width,d.height=this.height,d.cameraElevationReference=this.cameraElevationReference,d._center=this._center,d._setZoom(this.zoom),d._seaLevelZoom=this._seaLevelZoom,d.angle=this.angle,d._fov=this._fov,d._pitch=this._pitch,d._nearZ=this._nearZ,d._farZ=this._farZ,d._averageElevation=this._averageElevation,d._orthographicProjectionAtLowPitch=this._orthographicProjectionAtLowPitch,d._unmodified=this._unmodified,d._edgeInsets=this._edgeInsets.clone(),d._camera=this._camera.clone(),d._calcMatrices(),d.freezeTileCoverage=this.freezeTileCoverage,d.frustumCorners=this.frustumCorners,d}get isOrthographic(){return this.projection.name!=="globe"&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(d){this._elevation!==d&&(this._elevation=d,this._updateCameraOnTerrain(),this._calcMatrices())}get depthOcclusionForSymbolsAndCircles(){return this.projection.name!=="globe"&&!this.isOrthographic}updateElevation(d,m=!1){const w=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||w)&&this._updateCameraOnTerrain(),(d||w)&&this._constrainCamera(m),this._calcMatrices()}getProjection(){return o.ai(this.projection,["name","center","parallels"])}setProjection(d){this.projectionOptions=d||{name:"mercator"};const m=this.projection?this.getProjection():void 0;this.projection=o.aK(this.projectionOptions);const w=this.getProjection(),T=!o.d(m,w);return T&&this._calcMatrices(),this.mercatorFromTransition=!1,T}setOrthographicProjectionAtLowPitch(d){return this._orthographicProjectionAtLowPitch!==d&&(this._orthographicProjectionAtLowPitch=d,this._calcMatrices(),!0)}setMercatorFromTransition(){const d=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=o.aK({name:"mercator"});const m=d!==this.projection.name;return m&&this._calcMatrices(),m}get minZoom(){return this._minZoom}set minZoom(d){this._minZoom!==d&&(this._minZoom=d,this.zoom=Math.max(this.zoom,d))}get maxZoom(){return this._maxZoom}set maxZoom(d){this._maxZoom!==d&&(this._maxZoom=d,this.zoom=Math.min(this.zoom,d))}get minPitch(){return this._minPitch}set minPitch(d){this._minPitch!==d&&(this._minPitch=d,this.pitch=Math.max(this.pitch,d))}get maxPitch(){return this._maxPitch}set maxPitch(d){this._maxPitch!==d&&(this._maxPitch=d,this.pitch=Math.min(this.pitch,d))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(d){d===void 0?d=!0:d===null&&(d=!1),this._renderWorldCopies=d}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const d=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(d))}get cameraWorldSize(){const d=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(d))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return o.ay(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this.width,this.height)}get bearing(){return o.av(this.rotation,-180,180)}set bearing(d){this.rotation=d}get rotation(){return-this.angle/Math.PI*180}set rotation(d){const m=-d*Math.PI/180;this.angle!==m&&(this._unmodified=!1,this.angle=m,this._calcMatrices(),this.rotationMatrix=o.aD.create(),o.aD.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(d){const m=o.au(d,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==m&&(this._unmodified=!1,this._pitch=m,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const d=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/d)}set fov(d){d=Math.max(.01,Math.min(60,d)),this._fov!==d&&(this._unmodified=!1,this._fov=o.ac(d),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(d){this._averageElevation=d,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(d){const m=Math.min(Math.max(d,this.minZoom),this.maxZoom);this._zoom!==m&&(this._unmodified=!1,this._setZoom(m),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(d){this._zoom=d,this.scale=this.zoomScale(d),this.tileZoom=Math.floor(d),this.zoomFraction=d-this.tileZoom}get tileCoverLift(){return this._tileCoverLift}set tileCoverLift(d){this._tileCoverLift!==d&&(this._tileCoverLift=d)}_updateCameraOnTerrain(){const d=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,m=this.elevation&&d===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||d===Number.NEGATIVE_INFINITY&&(!m||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const w=this._elevation;m||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&w.exaggeration()&&this._centerAltitudeValidForExaggeration!==w.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*w.exaggeration(),this._centerAltitudeValidForExaggeration=w.exaggeration()):(this._centerAltitude=d||0,this._centerAltitudeValidForExaggeration=w.exaggeration()),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const d=this._elevation,m=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],w=this.horizonLineFromTop();let T=0,C=0;for(let O=0;O<m.length;O++){const z=new o.P(m[O][0]*this.width,w+m[O][1]*(this.height-w)),K=d.pointCoordinate(z);if(!K)continue;const q=1/Math.hypot(K[0]-this._camera.position[0],K[1]-this._camera.position[1]);T+=K[3]*q,C+=q}return C===0?NaN:T/C}get center(){return this._center}set center(d){d.lat===this._center.lat&&d.lng===this._center.lng||(this._unmodified=!1,this._center=d,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const d=this._seaLevelZoom,m=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),w=this.pixelsPerMeter/this.worldSize*m,T=this._mercatorZfromZoom(d),C=this._mercatorZfromZoom(this._maxZoom),O=Math.max(T-w,C);this._setZoom(this._zoomFromMercatorZ(O))}get padding(){return this._edgeInsets.toJSON()}set padding(d){this._edgeInsets.equals(d)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,d,1),this._calcMatrices())}computeZoomRelativeTo(d){const m=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,d.toAltitude()));let w;w=d.z<this._camera.position[2]?[m.x,m.y,m.z]:[d.x,d.y,d.z];const T=o.$.length(o.$.sub([],this._camera.position,w));return o.au(this._zoomFromMercatorZ(T),this._minZoom,this._maxZoom)}setFreeCameraOptions(d){if(!this.height||!d.position&&!d.orientation)return;this._updateCameraState();let m=!1;if(d.orientation&&!o.aw.exactEquals(d.orientation,this._camera.orientation)&&(m=this._setCameraOrientation(d.orientation)),d.position){const w=[d.position.x,d.position.y,d.position.z];o.$.exactEquals(w,this._camera.position)||(this._setCameraPosition(w),m=!0)}m&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const d=this._camera.position,m=new hS;return m.position=new o._(d[0],d[1],d[2]),m.orientation=this._camera.orientation,m._elevation=this.elevation,m._renderWorldCopies=this.renderWorldCopies,m}_setCameraOrientation(d){if(!o.aw.length(d))return!1;o.aw.normalize(d,d);const m=o.$.transformQuat([],[0,0,-1],d),w=o.$.transformQuat([],[0,-1,0],d);if(w[2]<0)return!1;const T=Dh(m,w);return!!T&&(this._camera.orientation=T,!0)}_setCameraPosition(d){const m=this.zoomScale(this.minZoom)*this.tileSize,w=this.zoomScale(this.maxZoom)*this.tileSize,T=this.cameraToCenterDistance;d[2]=o.au(d[2],T/w,T/m),this._camera.position=d}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(d){return this._edgeInsets.equals(d)}interpolatePadding(d,m,w){this._unmodified=!1,this._edgeInsets.interpolate(d,m,w),this._constrain(),this._calcMatrices()}coveringZoomLevel(d){const m=(d.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/d.tileSize));return Math.max(0,m)}getVisibleUnwrappedCoordinates(d){const m=[new o.aL(0,d)];if(this.renderWorldCopies){const w=this.pointCoordinate(new o.P(0,0)),T=this.pointCoordinate(new o.P(this.width,0)),C=this.pointCoordinate(new o.P(this.width,this.height)),O=this.pointCoordinate(new o.P(0,this.height)),z=Math.floor(Math.min(w.x,T.x,C.x,O.x)),K=Math.floor(Math.max(w.x,T.x,C.x,O.x)),q=1;for(let Q=z-q;Q<=K+q;Q++)Q!==0&&m.push(new o.aL(Q,d))}return m}isLODDisabled(d){return(!d||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCover(d,m,w){let T=[];const C=w!==void 0,O=!C;if(O&&this.zoom<m||C&&w[0]===0&&w[1]===0)return T;const z=new Set,K=(Q,ie,ce,me,Ee)=>{const Ae=o.b2(ie,Q,ce,me,Ee);z.has(Ae)||(T.push(new o.aQ(Q,ie,ce,me,Ee)),z.add(Ae))};for(let Q=0;Q<d.length;Q++){const ie=d[Q];if(O&&ie.canonical.z!==m)continue;const ce=ie.canonical,me=ie.overscaledZ,Ee=ie.wrap,Ae=1<<ce.z,Pe=ce.x+1<Ae,Ie=ce.x>0,Ve=ce.y+1<Ae,Ue=ce.y>0,Fe=ie.wrap-(Ie?0:1),Ye=ie.wrap+(Pe?0:1),He=Ie?ce.x-1:Ae-1,Ge=Pe?ce.x+1:0;if(C)w[0]<0?(K(me,Ye,ce.z,Ge,ce.y),w[1]<0&&Ve&&(K(me,Ee,ce.z,ce.x,ce.y+1),K(me,Ye,ce.z,Ge,ce.y+1)),w[1]>0&&Ue&&(K(me,Ee,ce.z,ce.x,ce.y-1),K(me,Ye,ce.z,Ge,ce.y-1))):w[0]>0?(K(me,Fe,ce.z,He,ce.y),w[1]<0&&Ve&&(K(me,Ee,ce.z,ce.x,ce.y+1),K(me,Fe,ce.z,He,ce.y+1)),w[1]>0&&Ue&&(K(me,Ee,ce.z,ce.x,ce.y-1),K(me,Fe,ce.z,He,ce.y-1))):w[1]<0&&Ve?K(me,Ee,ce.z,ce.x,ce.y+1):Ue&&K(me,Ee,ce.z,ce.x,ce.y-1);else{const nt=ie.visibleQuadrants;1&nt&&(K(me,Fe,ce.z,He,ce.y),Ue&&(K(me,Ee,ce.z,ce.x,ce.y-1),K(me,Fe,ce.z,He,ce.y-1))),2&nt&&(K(me,Ye,ce.z,Ge,ce.y),Ue&&(K(me,Ee,ce.z,ce.x,ce.y-1),K(me,Ye,ce.z,Ge,ce.y-1))),4&nt&&(K(me,Fe,ce.z,He,ce.y),Ve&&(K(me,Ee,ce.z,ce.x,ce.y+1),K(me,Fe,ce.z,He,ce.y+1))),8&nt&&(K(me,Ye,ce.z,Ge,ce.y),Ve&&(K(me,Ee,ce.z,ce.x,ce.y+1),K(me,Ye,ce.z,Ge,ce.y+1)))}}const q=[];for(const Q of T)T.some(ie=>Q.isChildOf(ie))||q.push(Q);if(T=q.filter(Q=>!d.some(ie=>!!(Q.overscaledZ<m&&ie.isChildOf(Q))||Q.equals(ie)||Q.isChildOf(ie))),O){const Q=1<<m,ie=this.projection.name==="globe"?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),ce=[Q*ie.x,Q*ie.y],me=4,Ee=me*me;T=T.filter(Ae=>{const Pe=Ae.canonical.x+.5-ce[0],Ie=Ae.canonical.y+.5-ce[1];return Pe*Pe+Ie*Ie<Ee})}return T}coveringTiles(d){let m=this.coveringZoomLevel(d);const w=m,T=this.elevation&&this.elevation.exaggeration(),C=T&&!d.isTerrainDEM,O=this.projection.name==="mercator";if(d.minzoom!==void 0&&m<d.minzoom)return[];d.maxzoom!==void 0&&m>d.maxzoom&&(m=d.maxzoom);const z=this.locationCoordinate(this.center),K=this.center.lat,q=1<<m,Q=[q*z.x,q*z.y,0],ie=this.projection.name==="globe",ce=!ie,me=o.aM.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,m,ce),Ee=ie?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),Ae=q*o.ay(1,this.center.lat),Pe=this._camera.position[2]/o.ay(1,this.center.lat),Ie=[q*Ee.x,q*Ee.y,Pe*(ce?1:Ae)],Ve=ie||T,Ue=this.cameraToCenterDistance/d.tileSize*(d.roundZoom?1:.502),Fe=this.isLODDisabled(!0)?m:0;let Ye;if(this._elevation&&d.isTerrainDEM)Ye=1e4*this._elevation.exaggeration();else if(this._elevation){const ht=this._elevation.getMinMaxForVisibleTiles();Ye=ht?ht.max:this._centerAltitude}else Ye=this._centerAltitude;const He=d.isTerrainDEM?-Ye:this._elevation?this._elevation.getMinElevationBelowMSL():0,Ge=this.projection.isReprojectedInTileSpace?o.aN(this):1,nt=ht=>{const st=new o._(ht.x+25e-6,ht.y,ht.z),Nt=new o._(ht.x,ht.y+25e-6,ht.z),jt=ht.toLngLat(),ar=st.toLngLat(),lr=Nt.toLngLat(),vr=this.locationCoordinate(jt),cr=this.locationCoordinate(ar),Or=this.locationCoordinate(lr),en=Math.hypot(cr.x-vr.x,cr.y-vr.y),Br=Math.hypot(Or.x-vr.x,Or.y-vr.y);return Math.sqrt(en*Br)*Ge/25e-6},at=ht=>{const Pt=Ye,st=He;return{aabb:o.aR(this,q,0,0,0,ht,st,Pt,this.projection),zoom:0,x:0,y:0,minZ:st,maxZ:Pt,wrap:ht,fullyVisible:!1}},pt=[];let ot=[];const Xe=m,xt=d.reparseOverscaled?w:m,vt=(Pe-this._centerAltitude)*Ae,lt=ht=>{if(!this._elevation||!ht.tileID||!O)return;const Pt=this._elevation.getMinMaxForTile(ht.tileID),st=ht.aabb;Pt?(st.min[2]=Pt.min,st.max[2]=Pt.max,st.center[2]=(st.min[2]+st.max[2])/2):(ht.shouldSplit=zt(ht),ht.shouldSplit||(st.min[2]=st.max[2]=st.center[2]=this._centerAltitude))},Kt=(ht,Pt)=>{if(.707*Pt<ht)return 1;const st=Pt/ht;return st/(1.4144271570014144+(Math.pow(1.1,st-1.4144271570014144+1)-1)/(1.1-1)-1)},zt=ht=>{if(ht.zoom<Fe)return!0;if(ht.zoom===Xe)return!1;if(ht.shouldSplit!=null)return ht.shouldSplit;const Pt=ht.aabb.distanceX(Ie),st=ht.aabb.distanceY(Ie);let Nt=vt,jt=1;if(ie){Nt=ht.aabb.distanceZ(Ie);const Br=Math.pow(2,ht.zoom),nn=o.az((ht.y+1)/Br),En=o.az(ht.y/Br),xi=Math.min(Math.max(K,nn),En),ni=o.b6(xi)/o.b6(K);if(jt=xi===K?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,ni/this._mercatorScaleRatio),this.zoom<=o.b3&&ht.zoom===Xe-1&&ni>=.9)return!0}else if(C&&(Nt=ht.aabb.distanceZ(Ie)*Ae),this.projection.isReprojectedInTileSpace&&w<=5){const Br=Math.pow(2,ht.zoom),nn=nt(new o._((ht.x+.5)/Br,(ht.y+.5)/Br));jt=nn>.85?1:nn}if(!O){const Br=Math.sqrt(Pt*Pt+st*st+Nt*Nt);let nn=(1<<Xe-ht.zoom)*Ue*jt;return nn*=Kt(Math.max(Nt,vt),Br),Br<nn}let ar=Number.MAX_VALUE,lr=0;const vr=ht.aabb.getCorners(),cr=[];for(const Br of vr){o.$.sub(cr,Br,Ie),ie||(C?cr[2]*=Ae:cr[2]=vt);const nn=o.$.dot(cr,this._camera.forward());nn<ar&&(ar=nn,lr=Math.abs(cr[2]))}let Or=(1<<Xe-ht.zoom)*Ue*jt;if(Or*=Kt(Math.max(lr,vt),ar),ar<Or)return!0;const en=ht.aabb.closestPoint(Q);return en[0]===Q[0]&&en[1]===Q[1]};if(this.renderWorldCopies)for(let ht=1;ht<=3;ht++)pt.push(at(-ht)),pt.push(at(ht));for(pt.push(at(0));pt.length>0;){const ht=pt.pop(),Pt=ht.x,st=ht.y;let Nt=ht.fullyVisible;const jt=()=>this.projection.name==="globe"&&(ht.y===0||ht.y===(1<<ht.zoom)-1);if(!Nt){let ar=Ve?ht.aabb.intersects(me):ht.aabb.intersectsFlat(me);if(ar===0&&jt()){const lr=new o.aO(ht.zoom,Pt,st);ar=o.aP(this,q,lr,!0).intersects(me)}if(ar===0)continue;Nt=ar===2}if(ht.zoom!==Xe&&zt(ht))for(let ar=0;ar<4;ar++){const lr=(Pt<<1)+ar%2,vr=(st<<1)+(ar>>1),cr={aabb:O?ht.aabb.quadrant(ar):o.aR(this,q,ht.zoom+1,lr,vr,ht.wrap,ht.minZ,ht.maxZ,this.projection),zoom:ht.zoom+1,x:lr,y:vr,wrap:ht.wrap,fullyVisible:Nt,tileID:void 0,shouldSplit:void 0,minZ:ht.minZ,maxZ:ht.maxZ};C&&!ie&&(cr.tileID=new o.aQ(ht.zoom+1===Xe?xt:ht.zoom+1,ht.wrap,ht.zoom+1,lr,vr),lt(cr)),pt.push(cr)}else{const ar=ht.zoom===Xe?xt:ht.zoom;if(d.minzoom&&d.minzoom>ar)continue;let lr=0;if(!Nt){let en=Ve?ht.aabb.intersectsPrecise(me):ht.aabb.intersectsPreciseFlat(me);if(en===0&&jt()){const Br=new o.aO(ht.zoom,Pt,st);en=o.aP(this,q,Br,!0).intersectsPrecise(me)}if(en===0)continue;if(d.calculateQuadrantVisibility)if(me.containsPoint(ht.aabb.center))lr=15;else for(let Br=0;Br<4;Br++)ht.aabb.quadrant(Br).intersects(me)!==0&&(lr|=1<<Br)}const vr=Q[0]-(.5+Pt+(ht.wrap<<ht.zoom))*(1<<m-ht.zoom),cr=Q[1]-.5-st,Or=ht.tileID?ht.tileID:new o.aQ(ar,ht.wrap,ht.zoom,Pt,st);d.calculateQuadrantVisibility&&(Or.visibleQuadrants=lr),ot.push({tileID:Or,distanceSq:vr*vr+cr*cr})}}if(this.fogCullDistSq){const ht=this.fogCullDistSq,Pt=this.horizonLineFromTop();ot=ot.filter(st=>{const Nt=[0,0,0,1],jt=[o.a4,o.a4,0,1],ar=this.calculateFogTileMatrix(st.tileID.toUnwrapped());o.aB.transformMat4(Nt,Nt,ar),o.aB.transformMat4(jt,jt,ar);const lr=o.aB.min([],Nt,jt),vr=o.aB.max([],Nt,jt),cr=o.aS(lr,vr);if(cr===0)return!0;let Or=!1;const en=this._elevation;if(en&&cr>ht&&Pt!==0){const Br=this.calculateProjMatrix(st.tileID.toUnwrapped());let nn;d.isTerrainDEM||(nn=en.getMinMaxForTile(st.tileID)),nn||(nn={min:He,max:Ye});const En=o.b4(this.rotation),xi=[En[0]*o.a4,En[1]*o.a4,nn.max];o.$.transformMat4(xi,xi,Br),Or=(1-xi[1])*this.height*.5<Pt}return cr<ht||Or})}return ot.sort((ht,Pt)=>ht.distanceSq-Pt.distanceSq).map(ht=>ht.tileID)}resize(d,m){this.width=d,this.height=m,this.pixelsToGLUnits=[2/d,-2/m],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(d){return Math.pow(2,d)}scaleZoom(d){return Math.log(d)/Math.LN2}project(d){const m=o.au(d.lat,-o.aT,o.aT),w=this.projection.project(d.lng,m);return new o.P(w.x*this.worldSize,w.y*this.worldSize)}unproject(d){return this.projection.unproject(d.x/this.worldSize,d.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/o.ay(1,this.center.lat)/this.worldSize}setLocationAtPoint(d,m){let w,T;const C=this.centerPoint;if(this.projection.name==="globe"){const z=this.worldSize;w=(m.x-C.x)/z,T=(m.y-C.y)/z}else{const z=this.pointCoordinate(m),K=this.pointCoordinate(C);w=z.x-K.x,T=z.y-K.y}const O=this.locationCoordinate(d);this.setLocation(new o._(O.x-w,O.y-T))}setLocation(d){this.center=this.coordinateLocation(d),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(d){return this.projection.locationPoint(this,d)}locationPoint3D(d){return this.projection.locationPoint(this,d,!0)}pointLocation(d){return this.coordinateLocation(this.pointCoordinate(d))}pointLocation3D(d){return this.coordinateLocation(this.pointCoordinate3D(d))}locationCoordinate(d,m){const w=m?o.ay(m,d.lat):void 0,T=this.projection.project(d.lng,d.lat);return new o._(T.x,T.y,w)}coordinateLocation(d){return this.projection.unproject(d.x,d.y)}pointRayIntersection(d,m){const w=m??this._centerAltitude,T=[d.x,d.y,0,1],C=[d.x,d.y,1,1];o.aB.transformMat4(T,T,this.pixelMatrixInverse),o.aB.transformMat4(C,C,this.pixelMatrixInverse);const O=C[3];o.aB.scale(T,T,1/T[3]),o.aB.scale(C,C,1/O);const z=T[2],K=C[2];return{p0:T,p1:C,t:z===K?0:(w-z)/(K-z)}}screenPointToMercatorRay(d){const m=[d.x,d.y,0,1],w=[d.x,d.y,1,1];return o.aB.transformMat4(m,m,this.pixelMatrixInverse),o.aB.transformMat4(w,w,this.pixelMatrixInverse),o.aB.scale(m,m,1/m[3]),o.aB.scale(w,w,1/w[3]),m[2]=o.ay(m[2],this._center.lat)*this.worldSize,w[2]=o.ay(w[2],this._center.lat)*this.worldSize,o.aB.scale(m,m,1/this.worldSize),o.aB.scale(w,w,1/this.worldSize),new o.aU([m[0],m[1],m[2]],o.$.normalize([],o.$.sub([],w,m)))}rayIntersectionCoordinate(d){const{p0:m,p1:w,t:T}=d,C=o.ay(m[2],this._center.lat),O=o.ay(w[2],this._center.lat);return new o._(o.a3(m[0],w[0],T)/this.worldSize,o.a3(m[1],w[1],T)/this.worldSize,o.a3(C,O,T))}pointCoordinate(d,m=this._centerAltitude){return this.projection.pointCoordinate(this,d.x,d.y,m)}pointCoordinate3D(d){if(!this.elevation)return this.pointCoordinate(d);let m=this.projection.pointCoordinate3D(this,d.x,d.y);if(m)return new o._(m[0],m[1],m[2]);let w=0,T=this.horizonLineFromTop();if(d.y>T)return this.pointCoordinate(d);const C=.02*T,O=d.clone();for(let z=0;z<10&&T-w>C;z++){O.y=o.a3(w,T,.66);const K=this.projection.pointCoordinate3D(this,O.x,O.y);K?(T=O.y,m=K):w=O.y}return m?new o._(m[0],m[1],m[2]):this.pointCoordinate(d)}isPointAboveHorizon(d){return this.projection.isPointAboveHorizon(this,d)}isPointOnSurface(d){if(d.y<0||d.y>this.height||d.x<0||d.x>this.width)return!1;if(this.elevation||this.zoom>=o.aV)return!this.isPointAboveHorizon(d);const m=this.pointCoordinate(d);return m.y>=0&&m.y<=1}_coordinatePoint(d,m){const w=m&&this.elevation?this.elevation.getAtPointOrZero(d,this._centerAltitude):this._centerAltitude,T=[d.x*this.worldSize,d.y*this.worldSize,w+d.toAltitude(),1];return o.aB.transformMat4(T,T,this.pixelMatrix),T[3]>0?new o.P(T[0]/T[3],T[1]/T[3]):new o.P(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:d,left:m}=this._edgeInsets,w=this.height-this._edgeInsets.bottom,T=this.width-this._edgeInsets.right,C=this.pointLocation3D(new o.P(m,d)),O=this.pointLocation3D(new o.P(T,d)),z=this.pointLocation3D(new o.P(T,w)),K=this.pointLocation3D(new o.P(m,w));let q=Math.min(C.lng,O.lng,z.lng,K.lng),Q=Math.max(C.lng,O.lng,z.lng,K.lng),ie=Math.min(C.lat,O.lat,z.lat,K.lat),ce=Math.max(C.lat,O.lat,z.lat,K.lat);const me=Math.pow(2,-this.zoom)/16*270,Ee=this.projection.name==="globe"?1:4,Ae=(Pe,Ie,Ve,Ue,Fe)=>{const Ye=(Pe+Ve)/2,He=(Ie+Ue)/2,Ge=new o.P(Ye,He),{lng:nt,lat:at}=this.pointLocation3D(Ge),pt=Math.max(0,q-nt,ie-at,nt-Q,at-ce);q=Math.min(q,nt),Q=Math.max(Q,nt),ie=Math.min(ie,at),ce=Math.max(ce,at),(Fe<Ee||pt>me)&&(Ae(Pe,Ie,Ye,He,Fe+1),Ae(Ye,He,Ve,Ue,Fe+1))};if(Ae(m,d,T,d,1),Ae(T,d,T,w,1),Ae(T,w,m,w,1),Ae(m,w,m,d,1),this.projection.name==="globe"){const[Pe,Ie]=o.aW(this);Pe?(ce=90,Q=180,q=-180):Ie&&(ie=-90,Q=180,q=-180)}return new o.aj(new o.aJ(q,ie),new o.aJ(Q,ce))}_getBoundsRectangular(d,m){const{top:w,left:T}=this._edgeInsets,C=this.height-this._edgeInsets.bottom,O=this.width-this._edgeInsets.right,z=new o.P(T,w),K=new o.P(O,w),q=new o.P(O,C),Q=new o.P(T,C);let ie=this.pointCoordinate(z,d),ce=this.pointCoordinate(K,d);const me=this.pointCoordinate(q,m),Ee=this.pointCoordinate(Q,m),Ae=(Pe,Ie)=>(Ie.y-Pe.y)/(Ie.x-Pe.x);return ie.y>1&&ce.y>=0?ie=new o._((1-Ee.y)/Ae(Ee,ie)+Ee.x,1):ie.y<0&&ce.y<=1&&(ie=new o._(-Ee.y/Ae(Ee,ie)+Ee.x,0)),ce.y>1&&ie.y>=0?ce=new o._((1-me.y)/Ae(me,ce)+me.x,1):ce.y<0&&ie.y<=1&&(ce=new o._(-me.y/Ae(me,ce)+me.x,0)),new o.aj().extend(this.coordinateLocation(ie)).extend(this.coordinateLocation(ce)).extend(this.coordinateLocation(Ee)).extend(this.coordinateLocation(me))}_getBoundsRectangularTerrain(){const d=this.elevation;if(!d.visibleDemTiles.length||d.isUsingMockSource())return this._getBoundsRectangular(0,0);const m=d.visibleDemTiles.reduce((w,T)=>{if(T.dem){const C=T.dem.tree;w.min=Math.min(w.min,C.minimums[0]),w.max=Math.max(w.max,C.maximums[0])}return w},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(m.min*d.exaggeration(),m.max*d.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(d=!0){const m=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,w=this.height/2-m*(1-this._horizonShift);return d?Math.max(0,w):w}getMaxBounds(){return this.maxBounds}setMaxBounds(d){this.maxBounds=d,this.minLat=-o.aT,this.maxLat=o.aT,this.minLng=-180,this.maxLng=180,d&&(this.minLat=d.getSouth(),this.maxLat=d.getNorth(),this.minLng=d.getWest(),this.maxLng=d.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=o.ak(this.minLng)*this.tileSize,this.worldMaxX=o.ak(this.maxLng)*this.tileSize,this.worldMinY=o.al(this.maxLat)*this.tileSize,this.worldMaxY=o.al(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(d,m){return this.projection.createTileMatrix(this,m,d)}calculateDistanceTileData(d){const m=d.key,w=this._distanceTileDataCache;if(w[m])return w[m];const T=d.canonical,C=1/this.height,O=this.cameraWorldSize,z=O/this.zoomScale(T.z),K=(T.x+Math.pow(2,T.z)*d.wrap)*z,q=T.y*z,Q=this.point;Q.x*=O/this.worldSize,Q.y*=O/this.worldSize;const ie=this.angle,ce=Math.sin(-ie),me=-Math.cos(-ie);return w[m]={bearing:[ce,me],center:[(Q.x-K)*C,(Q.y-q)*C],scale:z/o.a4*C},w[m]}calculateFogTileMatrix(d){const m=d.key,w=this._fogTileMatrixCache;if(w[m])return w[m];const T=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,d);return o.ae.multiply(T,this.worldToFogMatrix,T),w[m]=new Float32Array(T),w[m]}calculateProjMatrix(d,m=!1,w=!1){const T=d.key;let C;if(C=w?this._expandedProjMatrixCache:m?this._alignedProjMatrixCache:this._projMatrixCache,C[T])return C[T];const O=this.calculatePosMatrix(d,this.worldSize);let z;return z=this.projection.isReprojectedInTileSpace?this.mercatorMatrix:w?this.expandedFarZProjMatrix:m?this.alignedProjMatrix:this.projMatrix,o.ae.multiply(O,z,O),C[T]=new Float32Array(O),C[T]}calculatePixelsToTileUnitsMatrix(d){const m=d.tileID.key,w=this._pixelsToTileUnitsCache;if(w[m])return w[m];const T=o.aX(d,this);return w[m]=T,w[m]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const d=1/this.worldSize,m=o.ae.fromScaling([],[d,d,d]);return o.ae.multiply(m,m,this.globeMatrix),m}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const d=this._elevation;this._updateCameraState();const m=o.ay(1,this._center.lat)*this.worldSize,w=this._computeCameraPosition(m),T=this._camera.forward(),C=o.ay(1,this._center.lat);w[2]/=C,T[2]/=C,o.$.normalize(T,T);const O=d.raycast(w,T,d.exaggeration());if(O){const z=o.$.scaleAndAdd([],w,T,O),K=new o._(z[0],z[1],o.ay(z[2],o.az(z[1]))),q=(K.z+o.$.length([K.x-w[0],K.y-w[1],K.z-w[2]*C]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(q),this._centerAltitude=K.toAltitude(),this._center=this.coordinateLocation(K),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(d=!1){if(!this._elevation)return;const m=this._elevation,w=o.ay(1,this._center.lat)*this.worldSize,T=this._computeCameraPosition(w),C=m.getAtPointOrZero(new o._(...T)),O=this.pixelsPerMeter/this.worldSize*C,z=this._minimumHeightOverTerrain(),K=T[2]-O;if(K<=z)if(K<0||d){const q=this.locationCoordinate(this._center,this._centerAltitude),Q=[T[0],T[1],q.z-T[2]],ie=o.$.length(Q);Q[2]-=(z-K)/this._pixelsPerMercatorPixel;const ce=o.$.length(Q);if(ce===0)return;o.$.scale(Q,Q,ie/ce*this._pixelsPerMercatorPixel),this._camera.position=[T[0],T[1],q.z*this._pixelsPerMercatorPixel-Q[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const d=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||d){const ce=this.center;return ce.lat=o.au(ce.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!d)&&(ce.lng=o.au(ce.lng,this.minLng,this.maxLng)),this.center=ce,void(this._constraining=!1)}const m=this._unmodified,{x:w,y:T}=this.point;let C=0,O=w,z=T;const K=this.width/2,q=this.height/2,Q=this.worldMinY*this.scale,ie=this.worldMaxY*this.scale;if(T-q<Q&&(z=Q+q),T+q>ie&&(z=ie-q),ie-Q<this.height&&(C=Math.max(C,this.height/(ie-Q)),z=(ie+Q)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const ce=this.worldMinX*this.scale,me=this.worldMaxX*this.scale,Ee=this.worldSize/2-(ce+me)/2;O=(w+Ee+this.worldSize)%this.worldSize-Ee,O-K<ce&&(O=ce+K),O+K>me&&(O=me-K),me-ce<this.width&&(C=Math.max(C,this.width/(me-ce)),O=(me+ce)/2)}O===w&&z===T||(this.center=this.unproject(new o.P(O,z))),C&&(this.zoom+=this.scaleZoom(C)),this._constrainCamera(),this._unmodified=m,this._constraining=!1}_minZoomForBounds(){let d=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(d=Math.max(d,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),d}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const d=this.centerOffset,m=this.projection.name==="globe",w=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=o.ay(1,this.center.lat)/o.ay(1,o.b5));const T=o.aY(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,T),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const C=this.projection.zAxisUnit==="meters"?w:1,O=this._camera.getWorldToCamera(this.worldSize,C);let z;const K=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(K[8]=2*-d.x/this.width,K[9]=2*d.y/this.height,this.isOrthographic){let at=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),pt=at*this.aspect,ot=-pt,Xe=-at;pt-=d.x,ot-=d.x,at+=d.y,Xe+=d.y,z=this._camera.getCameraToClipOrthographic(ot,pt,Xe,at,this._nearZ,this._farZ),((xt,vt,lt,Kt)=>{for(let zt=0;zt<16;zt++)xt[zt]=xv(vt[zt],lt[zt],Kt)})(z,z,K,f0(this.pitch>=15?1:this.pitch/15))}else z=K;const q=o.ae.mul([],K,O);let Q=o.ae.mul([],z,O);if(this.projection.isReprojectedInTileSpace){const at=this.locationCoordinate(this.center),pt=o.ae.identity([]);o.ae.translate(pt,pt,[at.x*this.worldSize,at.y*this.worldSize,0]),o.ae.multiply(pt,pt,o.aZ(this)),o.ae.translate(pt,pt,[-at.x*this.worldSize,-at.y*this.worldSize,0]),o.ae.multiply(Q,Q,pt),o.ae.multiply(q,q,pt),this.inverseAdjustmentMatrix=o.a_(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];if(this.mercatorMatrix=o.ae.scale([],Q,[this.worldSize,this.worldSize,this.worldSize/C,1]),this.projMatrix=Q,this.invProjMatrix=o.ae.invert(new Float64Array(16),this.projMatrix),m){const at=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,1/0);at[8]=2*-d.x/this.width,at[9]=2*d.y/this.height,this.expandedFarZProjMatrix=o.ae.mul([],at,O)}else this.expandedFarZProjMatrix=this.projMatrix;const ie=o.ae.invert([],z);this.frustumCorners=o.a$.fromInvProjectionMatrix(ie,this.horizonLineFromTop(),this.height),this.cameraFrustum=o.aM.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!m);const ce=new Float32Array(16);o.ae.identity(ce),o.ae.scale(ce,ce,[1,-1,1]),o.ae.rotateX(ce,ce,this._pitch),o.ae.rotateZ(ce,ce,this.angle);const me=o.ae.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=o.ae.clone(me);const Ee=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;me[8]=2*-d.x/this.width,me[9]=2*(d.y+Ee)/this.height,this.skyboxMatrix=o.ae.multiply(ce,me,ce);const Ae=this.point,Pe=Ae.x,Ie=Ae.y,Ve=this.width%2/2,Ue=this.height%2/2,Fe=Math.cos(this.angle),Ye=Math.sin(this.angle),He=Pe-Math.round(Pe)+Fe*Ve+Ye*Ue,Ge=Ie-Math.round(Ie)+Fe*Ue+Ye*Ve,nt=new Float64Array(Q);if(o.ae.translate(nt,nt,[He>.5?He-1:He,Ge>.5?Ge-1:Ge,0]),this.alignedProjMatrix=nt,Q=o.ae.create(),o.ae.scale(Q,Q,[this.width/2,-this.height/2,1]),o.ae.translate(Q,Q,[1,-1,0]),this.labelPlaneMatrix=Q,Q=o.ae.create(),o.ae.scale(Q,Q,[1,-1,1]),o.ae.translate(Q,Q,[-1,-1,0]),o.ae.scale(Q,Q,[2/this.width,2/this.height,1]),this.glCoordMatrix=Q,this.pixelMatrix=o.ae.multiply(new Float64Array(16),this.labelPlaneMatrix,q),this._calcFogMatrices(),this._distanceTileDataCache={},Q=o.ae.invert(new Float64Array(16),this.pixelMatrix),!Q)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=Q,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=o.b0(this);const at=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=o.$.transformMat4(at,at,O),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=Q;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={},this._expandedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const d=this.cameraWorldSizeForFog,m=this.cameraPixelsPerMeter,w=this._camera.position,T=1/this.height/this._pixelsPerMercatorPixel,C=[d,d,m];o.$.scale(C,C,T),o.$.scale(w,w,-1),o.$.multiply(w,w,C);const O=o.ae.create();o.ae.translate(O,O,w),o.ae.scale(O,O,C),this.mercatorFogMatrix=O,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(d,m,T)}_computeCameraPosition(d){const m=(d=d||this.pixelsPerMeter)/this.pixelsPerMeter,w=this._camera.forward(),T=this.point,C=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*m-d/this.worldSize*this._centerAltitude;return[T.x/this.worldSize-w[0]*C,T.y/this.worldSize-w[1]*C,d/this.worldSize*this._centerAltitude-w[2]*C]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(d){const m=this._maxCameraBoundsDistance()*Math.cos(this._pitch),w=this._camera.position[2],T=d[2];let C=1;this.projection.wrap&&(this.center=this.center.wrap()),T>0&&(C=Math.min((m-w)/T,1)),this._camera.position=o.$.scaleAndAdd([],this._camera.position,d,C),this._updateStateFromCamera()}_updateStateFromCamera(){const d=this._camera.position,m=this._camera.forward(),{pitch:w,bearing:T}=this._camera.getPitchBearing(),C=o.ay(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,O=this._mercatorZfromZoom(this._maxZoom)*Math.cos(o.ac(this._maxPitch)),z=Math.max((d[2]-C)/Math.cos(w),O),K=this._zoomFromMercatorZ(z);o.$.scaleAndAdd(d,d,m,z),this._pitch=o.au(w,o.ac(this.minPitch),o.ac(this.maxPitch)),this.angle=o.av(T,-Math.PI,Math.PI),this._setZoom(o.au(K,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new o._(d[0],d[1],d[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(d){return Math.pow(2,d)*this.tileSize}_mercatorZfromZoom(d){return this.cameraToCenterDistance/this._worldSizeFromZoom(d)}_minimumHeightOverTerrain(){const d=Math.min(this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom,this._maxZoom)+4;return this._mercatorZfromZoom(d)}_zoomFromMercatorZ(d){return this.scaleZoom(this.cameraToCenterDistance/(d*this.tileSize))}zoomFromMercatorZAdjusted(d){let m=0,w=o.aV,T=0,C=1/0;for(;w-m>1e-6&&w>m;){const O=m+.5*(w-m),z=this.tileSize*Math.pow(2,O),K=this.getCameraToCenterDistance(this.projection,O,z),q=this.scaleZoom(K/(d*this.tileSize)),Q=Math.abs(O-q);Q<C&&(C=Q,T=O),O<q?m=O:w=O}return T}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(o.w("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(d,m){const w=Math.min(d.x,m.x),T=Math.max(d.x,m.x),C=Math.min(d.y,m.y),O=Math.max(d.y,m.y);if(C<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const z=[new o.P(w,C),new o.P(T,O),new o.P(w,O),new o.P(T,C)],K=this.renderWorldCopies?-3:0,q=this.renderWorldCopies?4:1;for(const Q of z){const ie=this.pointRayIntersection(Q);if(ie.t<0)return!0;const ce=this.rayIntersectionCoordinate(ie);if(ce.x<K||ce.y<0||ce.x>q||ce.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+o.b1(this.fovAboveCenter)>88||this.anyCornerOffEdge(new o.P(0,0),new o.P(this.width,this.height))}zoomDeltaToMovement(d,m){const w=o.$.length(o.$.sub([],this._camera.position,d)),T=this._zoomFromMercatorZ(w)+m;return w-this._mercatorZfromZoom(T)}getCameraPoint(){if(this.projection.name==="globe"){const d=function([m,w,T],C){const O=[m,w,T,1];o.aB.transformMat4(O,O,C);const z=O[3]=Math.max(O[3],1e-6);return O[0]/=z,O[1]/=z,O[2]/=z,O}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new o.P(d[0],d[1])}{const d=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(0,d))}}getCameraToCenterDistance(d,m=this.zoom,w=this.worldSize){const T=o.aY(d,m,this.width,this.height,1024),C=d.pixelSpaceConversion(this.center.lat,w,T);let O=.5/Math.tan(.5*this._fov)*this.height*C;return this.isOrthographic&&(O=xv(1,O,f0(this.pitch>=15?1:this.pitch/15))),O}getWorldToCameraMatrix(){const d=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&o.ae.multiply(d,d,this.globeMatrix),d}getFrustum(d){return o.aM.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,d,this.projection.zAxisUnit==="meters")}}const xo={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,LUT:10,ShadowMap0:11},ss=(b,d)=>{if(d>0&&b.terrain&&o.w("Cutoff is currently disabled on terrain"),d<=0||b.terrain)return{shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,1]}};const m=b.transform,w=Math.max(Math.abs(m._zoom-(b.minCutoffZoom-1)),1),T=m.isLODDisabled(!1)?o.a0(60,45,m.pitch):o.a0(30,15,m.pitch),C=m._farZ-m._nearZ,O=d*m.height,z=((1-(K=T))*m.cameraToCenterDistance+K*(m._farZ+O))*w;var K;return{shouldRenderCutoff:T<1,uniformValues:{u_cutoff_params:[m._nearZ,m._farZ,(z-m._nearZ)/C,(z-O-m._nearZ)/C]}}},wo={cascadeCount:2,normalOffset:3,shadowMapResolution:2048};class la{constructor(d,m){this.aabb=d,this.lastCascade=m}}class Td{add(d,m){const w=this.receivers[d.key];w!==void 0?(w.aabb.min[0]=Math.min(w.aabb.min[0],m.min[0]),w.aabb.min[1]=Math.min(w.aabb.min[1],m.min[1]),w.aabb.min[2]=Math.min(w.aabb.min[2],m.min[2]),w.aabb.max[0]=Math.max(w.aabb.max[0],m.max[0]),w.aabb.max[1]=Math.max(w.aabb.max[1],m.max[1]),w.aabb.max[2]=Math.max(w.aabb.max[2],m.max[2])):this.receivers[d.key]=new la(m,null)}clear(){this.receivers={}}get(d){return this.receivers[d.key]}computeRequiredCascades(d,m,w){const T=o.b8.fromPoints(d.points);let C=0;for(const O in this.receivers){const z=this.receivers[O];if(!z||!T.intersectsAabb(z.aabb))continue;z.aabb.min=T.closestPoint(z.aabb.min),z.aabb.max=T.closestPoint(z.aabb.max);const K=z.aabb.getCorners();for(let q=0;q<w.length;q++){let Q=!0;for(const ie of K){const ce=[ie[0]*m,ie[1]*m,ie[2]];if(o.$.transformMat4(ce,ce,w[q].matrix),ce[0]<-1||ce[0]>1||ce[1]<-1||ce[1]>1){Q=!1;break}}if(z.lastCascade=q,C=Math.max(C,q),Q)break}}return C+1}}class nO{constructor(d){this.painter=d,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new Td,this._depthMode=new o.af(d.context.gl.LEQUAL,o.af.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this._forceDisable=!1,this.useNormalOffset=!1,d.tp.registerParameter(this,["Shadows"],"_forceDisable",{label:"forceDisable"},()=>{this.painter.style.map.triggerRepaint()}),d.tp.registerParameter(wo,["Shadows"],"cascadeCount",{min:1,max:2,step:1}),d.tp.registerParameter(wo,["Shadows"],"normalOffset",{min:0,max:10,step:.05}),d.tp.registerParameter(wo,["Shadows"],"shadowMapResolution",{min:32,max:2048,step:32}),d.tp.registerBinding(this,["Shadows"],"_numCascadesToRender",{readonly:!0,label:"numCascadesToRender"})}destroy(){for(const d of this._cascades)d.texture.destroy(),d.framebuffer.destroy();this._cascades=[]}updateShadowParameters(d,m){const w=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!m||!m.properties)return;const T=m.properties.get("shadow-intensity");if(!m.shadowsEnabled()||T<=0||(this._shadowLayerCount=w.style.order.reduce((Ee,Ae)=>{const Pe=w.style._mergedLayers[Ae];return Ee+(Pe.hasShadowPass()&&!Pe.isHidden(d.zoom)?1:0)},0),this._enabled=this._shadowLayerCount>0,!this.enabled))return;const C=w.context,O=wo.shadowMapResolution,z=wo.shadowMapResolution;if(this._cascades.length===0||wo.shadowMapResolution!==this._cascades[0].texture.size[0]){this._cascades=[];for(let Ee=0;Ee<wo.cascadeCount;++Ee){const Ae=w._shadowMapDebug,Pe=C.gl,Ie=C.createFramebuffer(O,z,Ae,"texture"),Ve=new o.T(C,{width:O,height:z,data:null},Pe.DEPTH_COMPONENT);if(Ie.depthAttachment.set(Ve.texture),Ae){const Ue=new o.T(C,{width:O,height:z,data:null},Pe.RGBA);Ie.colorAttachment.set(Ue.texture)}this._cascades.push({framebuffer:Ie,texture:Ve,matrix:[],far:0,boundingSphereRadius:0,frustum:new o.aM,scale:0})}}this.shadowDirection=zh(m);let K=0;if(d.elevation){const Ee=d.elevation,Ae=[1e4,-1e4];Ee.visibleDemTiles.filter(Pe=>Pe.dem).forEach(Pe=>{const Ie=Pe.dem.tree;Ae[0]=Math.min(Ae[0],Ie.minimums[0]),Ae[1]=Math.max(Ae[1],Ie.maximums[0])}),Ae[0]!==1e4&&(K=(Ae[1]-Ae[0])*Ee.exaggeration())}const q=1.5*d.cameraToCenterDistance,Q=3*q,ie=new Float64Array(16);for(let Ee=0;Ee<this._cascades.length;++Ee){const Ae=this._cascades[Ee];let Pe=d.height/50,Ie=1;wo.cascadeCount===1?Ie=Q:Ee===0?Ie=q:(Pe=q,Ie=Q);const[Ve,Ue]=L3(d,this.shadowDirection,Pe,Ie,wo.shadowMapResolution,K);Ae.scale=d.scale,Ae.matrix=Ve,Ae.boundingSphereRadius=Ue,o.ae.invert(ie,Ae.matrix),Ae.frustum=o.aM.fromInvProjectionMatrix(ie,1,0,!0),Ae.far=Ie}const ce=this._cascades.length-1;this._uniformValues.u_fade_range=[.75*this._cascades[ce].far,this._cascades[ce].far],this._uniformValues.u_shadow_intensity=T,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=1/wo.shadowMapResolution,this._uniformValues.u_shadow_map_resolution=wo.shadowMapResolution,this._uniformValues.u_shadowmap_0=xo.ShadowMap0,this._uniformValues.u_shadowmap_1=xo.ShadowMap0+1,this._groundShadowTiles=w.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const me=w.transform.elevation;for(const Ee of this._groundShadowTiles){let Ae={min:0,max:0};if(me){const Pe=me.getMinMaxForTile(Ee);Pe&&(Ae=Pe)}this.addShadowReceiver(Ee.toUnwrapped(),Ae.min,Ae.max)}}get enabled(){return this._enabled&&!this._forceDisable}set enabled(d){this._enabled=d}drawShadowPass(d,m){if(!this.enabled)return;const w=this.painter,T=w.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(w.transform.getFrustum(0),w.transform.worldSize,this._cascades),T.viewport.set([0,0,wo.shadowMapResolution,wo.shadowMapResolution]);for(let C=0;C<this._numCascadesToRender;++C){w.currentShadowCascade=C,T.bindFramebuffer.set(this._cascades[C].framebuffer.framebuffer),T.clear({color:o.C.white,depth:1});for(const O of d.order){const z=d._mergedLayers[O];if(!z.hasShadowPass()||z.isHidden(w.transform.zoom))continue;const K=d.getLayerSourceCache(z),q=K?m[K.id]:void 0;(z.type==="model"||q&&q.length)&&w.renderLayer(w,K,z,q)}}w.currentShadowCascade=0}drawGroundShadows(){if(!this.enabled)return;const d=this.painter,m=d.style,w=d.context,T=m.directionalLight,C=m.ambientLight;if(!T||!C)return;const O=[],z=ss(d,d.longestCutoffRange);z.shouldRenderCutoff&&O.push("RENDER_CUTOFF");const K=h0(m,T,C),q=new o.af(w.gl.LEQUAL,o.af.ReadOnly,d.depthRangeFor3D);for(const Q of this._groundShadowTiles){const ie=Q.toUnwrapped(),ce=d.isTileAffectedByFog(Q),me=d.getOrCreateProgram("groundShadow",{defines:O,overrideFog:ce});this.setupShadows(ie,me),d.uploadCommonUniforms(w,me,ie,null,z);const Ee={u_matrix:d.transform.calculateProjMatrix(ie),u_ground_shadow_factor:K};me.draw(d,w.gl.TRIANGLES,q,o.ah.disabled,o.a.multiply,o.ag.disabled,Ee,"ground_shadow",d.tileExtentBuffer,d.quadTriangleIndexBuffer,d.tileExtentSegments,{},d.transform.zoom,null,null)}}getShadowPassColorMode(){return this.painter._shadowMapDebug?o.a.unblended:o.a.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(d){const m=this.painter.transform,w=m.calculatePosMatrix(d,m.worldSize);return o.ae.multiply(w,this._cascades[this.painter.currentShadowCascade].matrix,w),Float32Array.from(w)}calculateShadowPassMatrixFromMatrix(d){return o.ae.multiply(d,this._cascades[this.painter.currentShadowCascade].matrix,d),Float32Array.from(d)}setupShadows(d,m,w,T=0){if(!this.enabled)return;const C=this.painter.transform,O=this.painter.context,z=O.gl,K=this._uniformValues,q=new Float64Array(16),Q=C.calculatePosMatrix(d,C.worldSize);for(let ie=0;ie<this._cascades.length;ie++)o.ae.multiply(q,this._cascades[ie].matrix,Q),K[ie===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(q),O.activeTexture.set(z.TEXTURE0+xo.ShadowMap0+ie),this._cascades[ie].texture.bind(z.NEAREST,z.CLAMP_TO_EDGE);if(this.useNormalOffset=!!w,this.useNormalOffset){const ie=o.b7(d.canonical),ce=2/C.tileSize*o.a4/wo.shadowMapResolution,me=ce*this._cascades[0].boundingSphereRadius,Ee=ce*this._cascades[this._cascades.length-1].boundingSphereRadius,Ae=(w==="vector-tile"?1:3)/Math.pow(2,T-d.canonical.z-(1-C.zoom+Math.floor(C.zoom)));K.u_shadow_normal_offset=[ie,me*Ae,Ee*Ae],K.u_shadow_bias=[6e-5,.0012,.012]}else K.u_shadow_bias=[36e-5,.0012,.012];m.setShadowUniformValues(O,K)}setupShadowsFromMatrix(d,m,w=!1){if(!this.enabled)return;const T=this.painter.context,C=T.gl,O=this._uniformValues,z=new Float64Array(16);for(let K=0;K<wo.cascadeCount;K++)o.ae.multiply(z,this._cascades[K].matrix,d),O[K===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(z),T.activeTexture.set(C.TEXTURE0+xo.ShadowMap0+K),this._cascades[K].texture.bind(C.NEAREST,C.CLAMP_TO_EDGE);if(this.useNormalOffset=w,w){const K=wo.normalOffset;O.u_shadow_normal_offset=[1,K,K],O.u_shadow_bias=[6e-5,.0012,.012]}else O.u_shadow_bias=[36e-5,.0012,.012];m.setShadowUniformValues(T,O)}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(d,m,w,T){if(T[2]>=0)return{};const C=function(K,q,Q){const ie=Q/(1<<K.canonical.z);return new o.b8([K.canonical.x*ie+K.wrap*Q,K.canonical.y*ie+K.wrap*Q,0],[(K.canonical.x+1)*ie+K.wrap*Q,(K.canonical.y+1)*ie+K.wrap*Q,q])}(d,m,w).getCorners(),O=m/-T[2];T[0]<0?(o.$.add(C[0],C[0],[T[0]*O,0,0]),o.$.add(C[3],C[3],[T[0]*O,0,0])):T[0]>0&&(o.$.add(C[1],C[1],[T[0]*O,0,0]),o.$.add(C[2],C[2],[T[0]*O,0,0])),T[1]<0?(o.$.add(C[0],C[0],[0,T[1]*O,0]),o.$.add(C[1],C[1],[0,T[1]*O,0])):T[1]>0&&(o.$.add(C[2],C[2],[0,T[1]*O,0]),o.$.add(C[3],C[3],[0,T[1]*O,0]));const z={};return z.vertices=C,z.planes=[Bh(C[1],C[0],C[4]),Bh(C[2],C[1],C[5]),Bh(C[3],C[2],C[6]),Bh(C[0],C[3],C[7])],z}addShadowReceiver(d,m,w){this._receivers.add(d,o.b8.fromTileIdAndHeight(d,m,w))}getMaxCascadeForTile(d){const m=this._receivers.get(d);return m&&m.lastCascade?m.lastCascade:0}}function Bh(b,d,m){const w=o.$.sub([],m,d),T=o.$.sub([],b,d),C=o.$.cross([],w,T),O=o.$.length(C);return O===0?[0,0,1,0]:(o.$.scale(C,C,1/O),[C[0],C[1],C[2],-o.$.dot(C,d)])}function zh(b){const d=b.properties.get("direction"),m=o.ad(d.x,d.y,d.z);m[2]=o.au(m[2],0,75);const w=o.b9([m[0],m[1],m[2]]);return o.$.fromValues(w.x,w.y,w.z)}function h0(b,d,m){const w=d.properties.get("color"),T=d.properties.get("intensity"),C=d.properties.get("direction"),O=[C.x,C.y,C.z],z=m.properties.get("color"),K=m.properties.get("intensity"),q=Math.max(o.$.dot([0,0,1],O),0),Q=[0,0,0];o.$.scale(Q,z.toRenderColor(b.getLut(d.scope)).toArray01Linear().slice(0,3),K);const ie=[0,0,0];return o.$.scale(ie,w.toRenderColor(b.getLut(m.scope)).toArray01Linear().slice(0,3),q*T),o.ba([Q[0]>0?Q[0]/(Q[0]+ie[0]):0,Q[1]>0?Q[1]/(Q[1]+ie[1]):0,Q[2]>0?Q[2]/(Q[2]+ie[2]):0])}function L3(b,d,m,w,T,C){const O=b.zoom,z=b.scale,K=b.worldSize,q=1/K,Q=b.aspect,ie=Math.sqrt(1+Q*Q)*Math.tan(.5*b.fovX),ce=ie*ie,me=w-m,Ee=w+m;let Ae,Pe;ce>me/Ee?(Ae=w,Pe=w*ie):(Ae=.5*Ee*(1+ce),Pe=.5*Math.sqrt(me*me+2*(w*w+m*m)*ce+Ee*Ee*ce*ce));const Ie=b.projection.pixelsPerMeter(b.center.lat,K),Ve=b._camera.getCameraToWorldMercator(),Ue=[0,0,-Ae*q];o.$.transformMat4(Ue,Ue,Ve);let Fe=Pe*q;const Ye=b._edgeInsets;if(!(Ye.left===0&&Ye.top===0&&Ye.right===0&&Ye.bottom===0||Ye.left===Ye.right&&Ye.top===Ye.bottom)){const Nt=b._camera.getWorldToCamera(b.worldSize,b.projection.zAxisUnit==="meters"?Ie:1),jt=b._camera.getCameraToClipPerspective(b._fov,b.width/b.height,m,w);jt[8]=2*-b.centerOffset.x/b.width,jt[9]=2*b.centerOffset.y/b.height;const ar=new Float64Array(16);o.ae.mul(ar,jt,Nt);const lr=new Float64Array(16);o.ae.invert(lr,ar);const vr=o.aM.fromInvProjectionMatrix(lr,K,O,!0);for(const cr of vr.points){const Or=((He=cr)[0]/=z,He[1]/=z,He[2]=o.ay(He[2],b._center.lat),He);Fe=Math.max(Fe,o.$.len(o.$.subtract([],Ue,Or)))}}var He;Fe*=T/(T-1);const Ge=Math.acos(d[2]),nt=Math.atan2(-d[0],-d[1]),at=new Rh;at.position=Ue,at.setPitchBearing(Ge,nt);const pt=at.getWorldToCamera(K,Ie),ot=Fe*K,Xe=Math.min(b._mercatorZfromZoom(17)*K*-2,-2*ot),xt=at.getCameraToClipOrthographic(-ot,ot,-ot,ot,Xe,(ot+C*Ie)/d[2]),vt=new Float64Array(16);o.ae.multiply(vt,xt,pt);const lt=o.$.fromValues(Math.floor(1e6*Ue[0])/1e6*K,Math.floor(1e6*Ue[1])/1e6*K,0),Kt=.5*T,zt=[0,0,0];o.$.transformMat4(zt,lt,vt),o.$.scale(zt,zt,Kt);const ht=[Math.floor(zt[0]),Math.floor(zt[1]),Math.floor(zt[2])],Pt=[0,0,0];o.$.sub(Pt,zt,ht),o.$.scale(Pt,Pt,-1/Kt);const st=new Float64Array(16);return o.ae.identity(st),o.ae.translate(st,st,Pt),o.ae.multiply(vt,st,vt),[vt,ot]}function m0(b,d){return b!=null&&d!=null&&!(!b.hasData()||!d.hasData())&&b.demTexture!=null&&d.demTexture!=null&&b.tileID.key!==d.tileID.key}const Pd=new class{constructor(){this.operations={}}newMorphing(b,d,m,w,T){if(b in this.operations){const C=this.operations[b];C.to.tileID.key!==m.tileID.key&&(C.queued=m)}else this.operations[b]={startTime:w,phase:0,duration:T,from:d,to:m,queued:null}}getMorphValuesForProxy(b){if(!(b in this.operations))return null;const d=this.operations[b];return{from:d.from,to:d.to,phase:d.phase}}update(b){for(const d in this.operations){const m=this.operations[d];for(m.phase=(b-m.startTime)/m.duration;m.phase>=1||!this._validOp(m);)if(!this._nextOp(m,b)){delete this.operations[d];break}}}_nextOp(b,d){return!!b.queued&&(b.from=b.to,b.to=b.queued,b.queued=null,b.phase=0,b.startTime=d,!0)}_validOp(b){return b.from.hasData()&&b.to.hasData()}},g0={0:null,1:"TERRAIN_VERTEX_MORPHING"};function Cd(b,d,m){if(d===0)return 0;const w=d<1&&m===514?.25/d:1;return 6*Math.pow(1.5,22-b)*Math.max(d,1)*w}function y0(b,d){const m=1<<b.z;return!d&&(b.x===0||b.x===m-1)||b.y===0||b.y===m-1}const v0=b=>({u_matrix:b});function wv(b,d,m,w,T){if(T>0){const C=o.e.now(),O=(C-b.timeAdded)/T,z=d?(C-d.timeAdded)/T:-1,K=m.getSource(),q=w.coveringZoomLevel({tileSize:K.tileSize,roundZoom:K.roundZoom}),Q=!d||Math.abs(d.tileID.overscaledZ-q)>Math.abs(b.tileID.overscaledZ-q),ie=Q&&b.refreshedUponExpiration?1:o.au(Q?O:1-z,0,1);return b.refreshedUponExpiration&&O>=1&&(b.refreshedUponExpiration=!1),d?{opacity:1,mix:1-ie}:{opacity:ie,mix:0}}return{opacity:1,mix:0}}class Id extends Hs{constructor(d,m,w,T){super(d,m,w,T),this.type="raster-array",this.maxzoom=22,this._options=o.Q({type:"raster-array"},m)}triggerRepaint(d){const m=this.map.painter._terrain,w=this.map.style.getSourceCache(this.id);m&&m.enabled&&w&&m._clearRenderCacheForTile(w.id,d.tileID),this.map.triggerRepaint()}loadTile(d,m){const w=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize),T=this.map._requestManager.transformRequest(w,o.R.Tile);d.requestParams=T,d.actor||(d.actor=this.dispatcher.getActor()),d.request=d.fetchHeader(void 0,(C,O,z,K)=>{if(delete d.request,d.aborted)return d.state="unloaded",m(null);if(C)return C.code===20?void 0:(d.state="errored",m(C));this.map._refreshExpiredTiles&&d.setExpiryData({cacheControl:z,expires:K}),d.state="empty",m(null)})}unloadTile(d,m){const w=d.texture;w&&w instanceof o.T?(d.destroy(!0),this.map.painter.saveTileTexture(w)):(d.destroy(),d.flushQueues(),d._isHeaderLoaded=!1,delete d._mrt,delete d.textureDescriptor),d.fbo&&(d.fbo.destroy(),delete d.fbo),delete d.request,delete d.requestParams,delete d.neighboringTiles,d.state="unloaded"}prepareTile(d,m,w){d._isHeaderLoaded&&(d.state!=="empty"&&(d.state="reloading"),d.fetchBand(m,w,(T,C)=>{if(T)return d.state="errored",this.fire(new o.f(T)),void this.triggerRepaint(d);C&&(d.setTexture(C,this.map.painter),d.state="loaded",this.triggerRepaint(d))}))}getInitialBand(d){if(!this.rasterLayers)return 0;const m=this.rasterLayers.find(({id:C})=>C===d),w=m&&m.fields,T=w&&w.bands&&w.bands;return T?T[0]:0}getTextureDescriptor(d,m,w){if(!d)return;const T=m.sourceLayer||this.rasterLayerIds&&this.rasterLayerIds[0];if(!T)return;let C=null;m instanceof o.bm?C=m.paint.get("raster-array-band"):m instanceof o.bn&&(C=m.paint.get("raster-particle-array-band"));const O=C||this.getInitialBand(T);if(O!=null)if(d.textureDescriptor){if(!d.updateNeeded(T,O)||w)return Object.assign({},d.textureDescriptor,{texture:d.texture})}else this.prepareTile(d,T,O)}}const Sv={vector:fS,raster:Hs,"raster-dem":class extends Hs{constructor(b,d,m,w){super(b,d,m,w),this.type="raster-dem",this.maxzoom=22,this._options=o.Q({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox"}loadTile(b,d){const m=this.map._requestManager.normalizeTileURL(b.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function w(T,C){T&&(b.state="errored",d(T)),C&&(b.dem=C,b.dem.onDeserialize(),b.needsHillshadePrepare=!0,b.needsDEMTextureUpload=!0,b.state="loaded",d(null))}b.request=o.i(this.map._requestManager.transformRequest(m,o.R.Tile),(function(T,C,O,z){if(delete b.request,b.aborted)b.state="unloaded",d(null);else if(T)b.state="errored",d(T);else if(C){this.map._refreshExpiredTiles&&b.setExpiryData({cacheControl:O,expires:z});const K=ImageBitmap&&C instanceof ImageBitmap&&o.bk(),q=1-(C.width-o.bl(C.width))/2;q<1||b.neighboringTiles||(b.neighboringTiles=this._getNeighboringTiles(b.tileID));const Q=K?C:o.e.getImageData(C,q),ie={uid:b.uid,coord:b.tileID,source:this.id,scope:this.scope,rawImageData:Q,encoding:this.encoding,padding:q};b.actor&&b.state!=="expired"||(b.actor=this.dispatcher.getActor(),b.actor.send("loadDEMTile",ie,w.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(b){const d=b.canonical,m=Math.pow(2,d.z),w=(d.x-1+m)%m,T=d.x===0?b.wrap-1:b.wrap,C=(d.x+1+m)%m,O=d.x+1===m?b.wrap+1:b.wrap,z={};return z[new o.aQ(b.overscaledZ,T,d.z,w,d.y).key]={backfilled:!1},z[new o.aQ(b.overscaledZ,O,d.z,C,d.y).key]={backfilled:!1},d.y>0&&(z[new o.aQ(b.overscaledZ,T,d.z,w,d.y-1).key]={backfilled:!1},z[new o.aQ(b.overscaledZ,b.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},z[new o.aQ(b.overscaledZ,O,d.z,C,d.y-1).key]={backfilled:!1}),d.y+1<m&&(z[new o.aQ(b.overscaledZ,T,d.z,w,d.y+1).key]={backfilled:!1},z[new o.aQ(b.overscaledZ,b.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},z[new o.aQ(b.overscaledZ,O,d.z,C,d.y+1).key]={backfilled:!1}),z}},"raster-array":Id,geojson:class extends o.E{constructor(b,d,m,w){super(),this.id=b,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=m.getActor(),this.setEventedParent(w),this._data=d.data,this._options=o.Q({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.minzoom!==void 0&&(this.minzoom=d.minzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const T=o.a4/this.tileSize;this.workerOptions=o.Q({source:this.id,scope:this.scope,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*T,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*T,extent:o.a4,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:o.a4,radius:(d.clusterRadius!==void 0?d.clusterRadius:50)*T,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter,dynamic:d.dynamic},d.workerOptions)}onAdd(b){this.map=b,this.setData(this._data)}setData(b){return this._data=b,this._updateWorkerData(),this}updateData(b){if(!this._options.dynamic)return this.fire(new o.f(new Error("Can't call updateData on a GeoJSON source with dynamic set to false.")));if(typeof b!="string"&&(b.type==="Feature"&&(b={type:"FeatureCollection",features:[b]}),b.type!=="FeatureCollection"))return this.fire(new o.f(new Error("Data to update should be a feature or a feature collection.")));if(this._coalesce&&typeof b!="string"&&typeof this._data!="string"&&this._data.type==="FeatureCollection"){const d=new Map;for(const m of this._data.features)d.set(m.id,m);for(const m of b.features)d.set(m.id,m);this._data.features=[...d.values()]}else this._data=b;return this._updateWorkerData(!0),this}getClusterExpansionZoom(b,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:b,source:this.id,scope:this.scope},d),this}getClusterChildren(b,d){return this.actor.send("geojson.getClusterChildren",{clusterId:b,source:this.id,scope:this.scope},d),this}getClusterLeaves(b,d,m,w){return this.actor.send("geojson.getClusterLeaves",{source:this.id,scope:this.scope,clusterId:b,limit:d,offset:m},w),this}_updateWorkerData(b=!1){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new o.g("dataloading",{dataType:"source"})),this._loaded=!1;const d=o.Q({append:b},this.workerOptions);d.scope=this.scope;const m=this._data;typeof m=="string"?(d.request=this.map._requestManager.transformRequest(o.e.resolveURL(m),o.R.Source),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(m),this._pendingLoad=this.actor.send(`${this.type}.loadData`,d,(w,T)=>{if(this._loaded=!0,this._pendingLoad=null,w)this.fire(new o.f(w));else{const C={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&T&&T.resourceTiming&&T.resourceTiming[this.id]&&(C.resourceTiming=T.resourceTiming[this.id]),b&&(this._partialReload=!0),this.fire(new o.g("data",C)),this._partialReload=!1,this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(b),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(b,d){const m=b.actor?"reloadTile":"loadTile";b.actor=this.actor;const w=this.map.style?this.map.style.getLut(this.scope):null,T=this._partialReload,C={type:this.type,uid:b.uid,tileID:b.tileID,tileZoom:b.tileZoom,zoom:b.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,lut:w?{image:w.image.clone()}:null,scope:this.scope,pixelRatio:o.e.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0,partial:T};b.request=this.actor.send(m,C,(O,z)=>T&&!z?(b.state="loaded",d(null)):(delete b.request,b.destroy(),b.aborted?d(null):O?d(O):(b.loadVectorData(z,this.map.painter,m==="reloadTile"),d(null))),void 0,m==="loadTile")}abortTile(b){b.request&&(b.request.cancel(),delete b.request),b.aborted=!0}unloadTile(b,d){this.actor.send("removeTile",{uid:b.uid,type:this.type,source:this.id,scope:this.scope}),b.destroy()}onRemove(b){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return o.Q({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends o.bo{constructor(b,d,m,w){super(b,d,m,w),this.roundZoom=!0,this.type="video",this.options=d}load(){this._loaded=!1;const b=this.options;this.urls=[];for(const d of b.urls)this.urls.push(this.map._requestManager.transformRequest(d,o.R.Source).url);o.bp(this.urls,(d,m)=>{this._loaded=!0,d?this.fire(new o.f(d)):m&&(this.video=m,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(b){if(this.video){const d=this.video.seekable;b<d.start(0)||b>d.end(0)?this.fire(new o.f(new o.V(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=b}}getVideo(){return this.video}onAdd(b){this.map||(this.map=b,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const b=this.map.painter.context,d=b.gl;this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new o.T(b,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(b)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:o.bo,model:class extends o.E{constructor(b,d,m,w){super(),this.id=b,this.type="model",this.models=[],this._loaded=!1,this._options=d}load(){const b=[];for(const d in this._options.models){const m=this._options.models[d],w=o.l(this.map._requestManager.transformRequest(m.uri,o.R.Model).url).then(T=>{if(!T)return;const C=o.c(T),O=new o.M(d,m.position,m.orientation,C);O.computeBoundsAndApplyParent(),this.models.push(O)}).catch(T=>{this.fire(new o.f(new Error(`Could not load model ${d} from ${m.uri}: ${T.message}`)))});b.push(w)}return Promise.allSettled(b).then(()=>{this._loaded=!0,this.fire(new o.g("data",{dataType:"source",sourceDataType:"metadata"}))}).catch(d=>{this.fire(new o.f(new Error(`Could not load models: ${d.message}`)))})}onAdd(b){this.map=b,this.load()}hasTransition(){return!1}loaded(){return this._loaded}getModels(){return this.models}loadTile(b,d){}serialize(){return{type:"model"}}},"batched-model":class extends o.E{constructor(b,d,m,w){super(),this.type="batched-model",this.id=b,this.tileSize=512,this._options=d,this.tiles=this._options.tiles,this.maxzoom=d.maxzoom||19,this.minzoom=d.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=m,this.reparseOverscaled=!1,this.scheme="xyz",this._loaded=!1,this.setEventedParent(w)}onAdd(b){this.map=b,this.load()}load(b){this._loaded=!1,this.fire(new o.g("dataloading",{dataType:"source"}));const d=Array.isArray(this.map._language)?this.map._language.join():this.map._language,m=this.map._worldview;this._tileJSONRequest=k3(this._options,this.map._requestManager,d,m,(w,T)=>{this._tileJSONRequest=null,this._loaded=!0,w?(d&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${d}`),m&&m.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${m}`),this.fire(new o.f(w))):T&&(o.Q(this,T),T.bounds&&(this.tileBounds=new l0(T.bounds,this.minzoom,this.maxzoom)),o.ao(T.tiles,this.map._requestManager._customAccessToken),this.fire(new o.g("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.g("data",{dataType:"source",sourceDataType:"content"}))),b&&b(w)})}hasTransition(){return!1}hasTile(b){return!this.tileBounds||this.tileBounds.contains(b.canonical)}loaded(){return this._loaded}loadTile(b,d){const m=this.map._requestManager.normalizeTileURL(b.tileID.canonical.url(this.tiles,this.scheme)),w={request:this.map._requestManager.transformRequest(m,o.R.Tile),data:void 0,uid:b.uid,tileID:b.tileID,tileZoom:b.tileZoom,zoom:b.tileID.overscaledZ,tileSize:this.tileSize*b.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:b.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0};if(b.actor&&b.state!=="expired")if(b.state==="loading")b.reloadCallback=d;else{if(b.buckets){const C=Object.values(b.buckets);for(const O of C)O.dirty=!0;return void(b.state="loaded")}b.request=b.actor.send("reloadTile",w,T.bind(this))}else b.actor=this.dispatcher.getActor(),b.request=b.actor.send("loadTile",w,T.bind(this),void 0,!0);function T(C,O){return b.aborted?d(null):C&&C.status!==404?d(C):(O&&(O.resourceTiming&&(b.resourceTiming=O.resourceTiming),this.map._refreshExpiredTiles&&b.setExpiryData(O),b.buckets={...b.buckets,...O.buckets},O.featureIndex&&(b.latestFeatureIndex=O.featureIndex)),b.state="loaded",void d(null))}}serialize(){return o.Q({},this._options)}},canvas:class extends o.bo{constructor(b,d,m,w){super(b,d,m,w),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(T=>!Array.isArray(T)||T.length!==2||T.some(C=>typeof C!="number"))||this.fire(new o.f(new o.V(`sources.${b}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.f(new o.V(`sources.${b}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new o.f(new o.V(`sources.${b}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new o.f(new o.V(`sources.${b}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.f(new o.V(`sources.${b}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.f(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(b){this.map=b,this.load(),this.canvas&&this.animate&&this.play()}onRemove(b){this.pause()}prepare(){let b=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,b=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,b=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const d=this.map.painter.context;this.texture?!b&&!this._playing||this.texture instanceof o.bq||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.T(d,this.canvas,d.gl.RGBA,{premultiply:!0}),this._prepareData(d)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const b of[this.canvas.width,this.canvas.height])if(isNaN(b)||b<=0)return!0;return!1}},custom:class extends o.E{constructor(b,d,m,w){super(),this.id=b,this.type="custom",this._dataType="raster",this._dispatcher=m,this._implementation=d,this.setEventedParent(w),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new o.f(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new o.f(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new l0(this._implementation.bounds,this.minzoom,this.maxzoom)),d.update=this._update.bind(this),d.clearTiles=this._clearTiles.bind(this),d.coveringTiles=this._coveringTiles.bind(this),o.Q(this,o.ai(d,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return o.ai(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new o.g("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.g("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(b){this.map=b,this._loaded=!1,this.fire(new o.g("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(b),this.load()}onRemove(b){this._implementation.onRemove&&this._implementation.onRemove(b)}hasTile(b){if(this._implementation.hasTile){const{x:d,y:m,z:w}=b.canonical;return this._implementation.hasTile({x:d,y:m,z:w})}return!this.tileBounds||this.tileBounds.contains(b.canonical)}loadTile(b,d){const{x:m,y:w,z:T}=b.tileID.canonical,C=new AbortController;b.request=Promise.resolve(this._implementation.loadTile({x:m,y:w,z:T},{signal:C.signal})).then((function(O){return delete b.request,b.aborted?(b.state="unloaded",d(null)):O===void 0?(b.state="errored",d(null)):O===null?(this.loadTileData(b,{width:this.tileSize,height:this.tileSize,data:null}),b.state="loaded",d(null)):function(z){return z instanceof ImageData||z instanceof HTMLCanvasElement||z instanceof ImageBitmap||z instanceof HTMLImageElement}(O)?(this.loadTileData(b,O),b.state="loaded",void d(null)):(b.state="errored",d(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(O=>{O.code!==20&&(b.state="errored",d(O))}),b.request.cancel=()=>C.abort()}loadTileData(b,d){b.setTexture(d,this.map.painter)}unloadTile(b,d){if(b.texture&&b.texture instanceof o.T?(b.destroy(!0),b.texture&&b.texture instanceof o.T&&this.map.painter.saveTileTexture(b.texture)):b.destroy(),this._implementation.unloadTile){const{x:m,y:w,z:T}=b.tileID.canonical;this._implementation.unloadTile({x:m,y:w,z:T})}d&&d()}abortTile(b,d){b.request&&b.request.cancel&&(b.request.cancel(),delete b.request),d&&d()}hasTransition(){return!1}_coveringTiles(){return this.map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(b=>({x:b.canonical.x,y:b.canonical.y,z:b.canonical.z}))}_clearTiles(){const b=o.am(this.id,this.scope);this.map.style.clearSource(b)}_update(){this.fire(new o.g("data",{dataType:"source",sourceDataType:"content"}))}}},Ev=function(b,d,m,w){const T=new Sv[d.type](b,d,m,w);if(T.id!==b)throw new Error(`Expected Source id to be ${b} instead of ${T.id}`);return o.br(["load","abort","unload","serialize","prepare"],T),T};class gS extends o.bx{constructor(d){const m={type:"raster-dem",maxzoom:d.transform.maxZoom},w=new o.by(o.bz(),null),T=Ev("mock-dem",m,w,d.style);super("mock-dem",T,!1),T.setEventedParent(this),this._sourceLoaded=!0}_loadTile(d,m){d.state="loaded",m(null)}}class yS extends o.bx{constructor(d){const m=Ev("proxy",{type:"geojson",maxzoom:d.transform.maxZoom},new o.by(o.bz(),null),d.style);super("proxy",m,!1),m.setEventedParent(this),this.map=this.getSource().map=d,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(d,m,w){if(d.freezeTileCoverage)return;this.transform=d;const T=d.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((C,O)=>{if(C[O.key]="",!this._tiles[O.key]){const z=new o.bA(O,this._source.tileSize*O.overscaleFactor(),d.tileZoom);z.state="loaded",this._tiles[O.key]=z}return C},{});for(const C in this._tiles)C in T||(this.freeFBO(C),this._tiles[C].unloadVectorData(),delete this._tiles[C])}freeFBO(d){const m=this.proxyCachedFBO[d];if(m!==void 0){const w=Object.values(m);this.renderCachePool.push(...w),delete this.proxyCachedFBO[d]}}deallocRenderCache(){this.renderCache.forEach(d=>d.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class B3 extends o.aQ{constructor(d,m,w){super(d.overscaledZ,d.wrap,d.canonical.z,d.canonical.x,d.canonical.y),this.proxyTileKey=m,this.projMatrix=w}}class So extends o.bs{constructor(d,m){super(),this._debugParams={sortTilesHiZFirst:!0,disableRenderCache:!1},d.tp.registerParameter(this._debugParams,["Terrain"],"sortTilesHiZFirst",{},()=>{this._style.map.triggerRepaint()}),d.tp.registerParameter(this._debugParams,["Terrain"],"disableRenderCache",{},()=>{this._style.map.triggerRepaint()}),d.tp.registerButton(["Terrain"],"Invalidate Render Cache",()=>{this.invalidateRenderCache=!0,this._style.map.triggerRepaint()}),this.painter=d,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[w,T,C]=function(K){const q=new o.bv,Q=new o.bw,ie=131;q.reserve(17161),Q.reserve(33800);const ce=o.a4/128,me=o.a4+ce/2,Ee=me+ce;for(let Pe=-ce;Pe<Ee;Pe+=ce)for(let Ie=-ce;Ie<Ee;Ie+=ce){const Ve=Ie<0||Ie>me||Pe<0||Pe>me?24575:0,Ue=o.au(Math.round(Ie),0,o.a4),Fe=o.au(Math.round(Pe),0,o.a4);q.emplaceBack(Ue+Ve,Fe)}const Ae=(Pe,Ie)=>{const Ve=Ie*ie+Pe;Q.emplaceBack(Ve+1,Ve,Ve+ie),Q.emplaceBack(Ve+ie,Ve+ie+1,Ve+1)};for(let Pe=1;Pe<129;Pe++)for(let Ie=1;Ie<129;Ie++)Ae(Ie,Pe);return[0,129].forEach(Pe=>{for(let Ie=0;Ie<130;Ie++)Ae(Ie,Pe),Ae(Pe,Ie)}),[q,Q,32768]}(),O=d.context;this.gridBuffer=O.createVertexBuffer(w,o.bt.members),this.gridIndexBuffer=O.createIndexBuffer(T),this.gridSegments=o.b.simpleSegment(0,0,w.length,T.length),this.gridNoSkirtSegments=o.b.simpleSegment(0,0,w.length,C),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new yS(m.map),this.orthoMatrix=o.ae.create(),o.ae.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,o.a4,0,o.a4,0,1);const z=O.gl;this._overlapStencilMode=new o.ah({func:z.GEQUAL,mask:255},0,255,z.KEEP,z.KEEP,z.REPLACE),this._previousZoom=d.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=m,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new gS(m.map),this._pendingGroundEffectLayers=[]}set style(d){d.on("data",this._onStyleDataEvent.bind(this)),this._style=d,this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(d,m,w){if(d&&d.terrain){this._style!==d&&(this.style=d,this._evaluationZoom=void 0);const T=d.terrain.properties,C=d.terrain.drapeRenderMode===0,O=d.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=o.e.now();const z=d.terrain&&d.terrain.scope,K=T.get("source"),q=C?this._mockSourceCache:d.getSourceCache(K,z);if(!q)return void o.w(`Couldn't find terrain source "${K}".`);if(this.sourceCache=q,this._exaggeration=O?this.calculateExaggeration(m):T.get("exaggeration"),!m.projection.requiresDraping&&O&&this._exaggeration===0)return void this._disable();this.enabled=!0;const Q=()=>{this.sourceCache.used&&o.w(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const ie=this.getScaledDemTileSize();this.sourceCache.update(m,ie,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,Q(),this._initializing=!0),Q(),m.updateElevation(!0,w),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(m),this._emptyDEMTextureDirty=!0,this._previousZoom=m.zoom}else this._disable()}calculateExaggeration(d){const m=this._previousCameraAltitude,w=d.getFreeCameraOptions().position.z/d.pixelsPerMeter*d.worldSize;this._previousCameraAltitude=w;const T=m!=null?w-m:Number.MAX_VALUE;if(Math.abs(T)<2)return this._exaggeration;const C=d.zoom,O=this._style.terrain;if(!this._previousUpdateTimestamp)return O.getExaggeration(C);let z=C-this._previousZoom;const K=this._previousUpdateTimestamp;let q=C;this._evaluationZoom!=null&&(q=this._evaluationZoom,Math.abs(C-q)>.5&&(z=.5*(C-q+z)),z*T<0&&(q+=z)),this._evaluationZoom=q;const Q=O.getExaggeration(q),ie=Q===O.getExaggeration(Math.max(0,q-.1));if(ie&&Math.abs(Q-this._exaggeration)<.01)return Q;let ce=Math.min(.1,.00375*(this._updateTimestamp-K));return(ie||Q<.1||Math.abs(z)<1e-4)&&(ce=Math.min(.2,4*ce)),o.a3(this._exaggeration,Q,ce)}resetTileLookupCache(d){this._findCoveringTileCache[d]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(d){d.coord&&d.dataType==="source"?this._clearRenderCacheForTile(d.sourceCacheId,d.coord):d.dataType==="style"&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0)}_disable(){if(this.enabled&&(this.enabled=!1,this._emptyDEMTextureDirty=!0,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const d in this._style._mergedSourceCaches)this._style._mergedSourceCaches[d].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(d=>d.fb.destroy()),this.pool=[],this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy()}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this.enabled?this._exaggeration:0}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const d=2*this.proxySourceCache.getSource().tileSize;return[d,d]}set useVertexMorphing(d){this._useVertexMorphing=d}updateTileBinding(d){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const m=this.proxySourceCache,w=this.painter.transform;this._initializing&&(this._initializing=w._centerAltitude===0&&this.getAtPointOrZero(o._.fromLngLat(w.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const T=this.proxyCoords=m.getIds().map(K=>{const q=m.getTileByID(K).tileID;return q.projMatrix=w.calculateProjMatrix(q.toUnwrapped()),q});(function(K,q){const Q=q.transform.pointCoordinate(q.transform.getCameraPoint()),ie=new o.P(Q.x,Q.y);K.sort((ce,me)=>{if(me.overscaledZ-ce.overscaledZ)return me.overscaledZ-ce.overscaledZ;const Ee=new o.P(ce.canonical.x+(1<<ce.canonical.z)*ce.wrap,ce.canonical.y),Ae=new o.P(me.canonical.x+(1<<me.canonical.z)*me.wrap,me.canonical.y),Pe=ie.mult(1<<ce.canonical.z);return Pe.x-=.5,Pe.y-=.5,Pe.distSqr(Ee)-Pe.distSqr(Ae)})})(T,this.painter);const C=this.proxyToSource||{};this.proxyToSource={},T.forEach(K=>{this.proxyToSource[K.key]={}}),this.terrainTileForTile={};const O=this._style._mergedSourceCaches;for(const K in O){const q=O[K];if(!q.used||(q!==this.sourceCache&&this.resetTileLookupCache(q.id),this._setupProxiedCoordsForOrtho(q,d[K],C),q.usedForTerrain))continue;const Q=d[K];q.getSource().reparseOverscaled&&this._assignTerrainTiles(Q)}this.proxiedCoords[m.id]=T.map(K=>new B3(K,K.key,this.orthoMatrix)),this._assignTerrainTiles(T),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(C),this.renderingToTexture=!1;const z={};this._visibleDemTiles=[];for(const K of this.proxyCoords){const q=this.terrainTileForTile[K.key];if(!q)continue;const Q=q.tileID.key;Q in z||(this._visibleDemTiles.push(q),z[Q]=Q)}}_assignTerrainTiles(d){this._initializing||d.forEach(m=>{if(this.terrainTileForTile[m.key])return;const w=this._findTileCoveringTileID(m,this.sourceCache);w&&(this.terrainTileForTile[m.key]=w)})}_prepareDEMTextures(){const d=this.painter.context,m=d.gl;for(const w in this.terrainTileForTile){const T=this.terrainTileForTile[w],C=T.dem;!C||T.demTexture&&!T.needsDEMTextureUpload||(d.activeTexture.set(m.TEXTURE1),dS(this.painter,T,C))}}_prepareDemTileUniforms(d,m,w,T){if(!m||m.demTexture==null)return!1;const C=d.tileID.canonical,O=Math.pow(2,m.tileID.canonical.z-C.z),z=T||"";return w[`u_dem_tl${z}`]=[C.x*O%1,C.y*O%1],w[`u_dem_scale${z}`]=O,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){if(!this.enabled)return 0;let d=0;const m=this._visibleDemTiles.reduce((w,T)=>{if(!T.dem)return w;const C=T.dem.tree.minimums[0];return C>0&&d++,w+C},0);return d?m/d:0}_updateEmptyDEMTexture(){const d=this.painter.context,m=d.gl;d.activeTexture.set(m.TEXTURE2);const w=this._getLoadedAreaMinimum(),[T,C]=(()=>{const z=new o.bB({width:1,height:1},new Float32Array([w]));return[m.R32F,z]})();this._emptyDEMTextureDirty=!1;let O=this._emptyDEMTexture;return O?O.update(C,{premultiply:!1}):O=this._emptyDEMTexture=new o.T(d,C,T,{premultiply:!1}),O}setupElevationDraw(d,m,w){const T=this.painter.context,C=T.gl,O={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0};O.u_exaggeration=this.exaggeration();let z=null,K=null,q=1;if(w&&w.morphing&&this._useVertexMorphing){const me=w.morphing.srcDemTile,Ee=w.morphing.dstDemTile;q=w.morphing.phase,me&&Ee&&(this._prepareDemTileUniforms(d,me,O,"_prev")&&(K=me),this._prepareDemTileUniforms(d,Ee,O)&&(z=Ee))}const Q=me=>me&&me.demTexture&&this.painter.linearFloatFilteringSupported()?C.LINEAR:C.NEAREST;let ie=null;var ce;if(this.enabled?K&&z?(ie=z.demTexture,T.activeTexture.set(C.TEXTURE4),K.demTexture.bind(Q(K),C.CLAMP_TO_EDGE),O.u_dem_lerp=q):(z=this.terrainTileForTile[d.tileID.key],ie=this._prepareDemTileUniforms(d,z,O)?z.demTexture:this.emptyDEMTexture):ie=this.emptyDEMTexture,T.activeTexture.set(C.TEXTURE2),ie&&(O.u_dem_size=(ce=ie).size[0]===1?1:ce.size[0]-2,ie.bind(Q(z),C.CLAMP_TO_EDGE)),this.painter.setupDepthForOcclusion(w&&w.useDepthForOcclusion,m,O),w&&w.useMeterToDem&&z){const me=(1<<z.tileID.canonical.z)*o.ay(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;O.u_meter_to_dem=me}if(w&&w.labelPlaneMatrixInv&&(O.u_label_plane_matrix_inv=w.labelPlaneMatrixInv),m.setTerrainUniformValues(T,O),this.painter.transform.projection.name==="globe"){const me=this.globeUniformValues(this.painter.transform,d.tileID.canonical,w&&w.useDenormalizedUpVectorScale);m.setGlobeUniformValues(T,me)}}globeUniformValues(d,m,w){const T=d.projection;return{u_tile_tl_up:T.upVector(m,0,0),u_tile_tr_up:T.upVector(m,o.a4,0),u_tile_br_up:T.upVector(m,o.a4,o.a4),u_tile_bl_up:T.upVector(m,0,o.a4),u_tile_up_scale:w?o.bu(1):T.upVectorScale(m,d.center.lat,d.worldSize).metersToTile}}renderToBackBuffer(d){const m=this.painter,w=this.painter.context;d.length!==0&&(w.bindFramebuffer.set(null),w.viewport.set([0,0,m.width,m.height]),m.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(T,C,O,z,K){if(T.transform.projection.name==="globe")(function(q,Q,ie,ce,me){const Ee=q.context,Ae=Ee.gl;let Pe,Ie;const Ve=q.transform,Ue=o.bc(q,Ee,Ve),Fe=(xt,vt)=>{if(Ie===vt)return;const lt=[g0[vt],"PROJECTION_GLOBE_VIEW"];Ue&&lt.push("CUSTOM_ANTIALIASING");const Kt=q.isTileAffectedByFog(xt);Pe=q.getOrCreateProgram("globeRaster",{defines:lt,overrideFog:Kt}),Ie=vt},Ye=q.colorModeForRenderPass(),He=new o.af(Ae.LEQUAL,o.af.ReadWrite,q.depthRangeFor3D);Pd.update(me);const Ge=o.bd(Ve),nt=[o.ak(Ve.center.lng),o.al(Ve.center.lat)],at=q.globeSharedBuffers,pt=[Ve.width*o.e.devicePixelRatio,Ve.height*o.e.devicePixelRatio],ot=Float32Array.from(Ve.globeMatrix),Xe={useDenormalizedUpVectorScale:!0};{const xt=q.transform,vt=Cd(xt.zoom,Q.exaggeration(),Q.sourceCache._source.tileSize);Ie=-1;const lt=Ae.TRIANGLES;for(const Kt of ce){const zt=ie.getTile(Kt),ht=o.ah.disabled,Pt=Q.prevTerrainTileForTile[Kt.key],st=Q.terrainTileForTile[Kt.key];m0(Pt,st)&&Pd.newMorphing(Kt.key,Pt,st,me,250),Ee.activeTexture.set(Ae.TEXTURE0),zt.texture&&zt.texture.bind(Ae.LINEAR,Ae.CLAMP_TO_EDGE);const Nt=Pd.getMorphValuesForProxy(Kt.key),jt=Nt?1:0;Nt&&o.q(Xe,{morphing:{srcDemTile:Nt.from,dstDemTile:Nt.to,phase:o.bb(Nt.phase)}});const ar=o.be(Kt.canonical),lr=o.bf(ar.getCenter().lat),vr=o.bg(Kt.canonical,ar,lr,xt.worldSize/xt._pixelsPerMercatorPixel),cr=o.bh(o.bi(Kt.canonical)),Or=O3(xt.expandedFarZProjMatrix,ot,Ge,cr,o.a2(xt.zoom),nt,xt.frustumCorners.TL,xt.frustumCorners.TR,xt.frustumCorners.BR,xt.frustumCorners.BL,xt.globeCenterInViewSpace,xt.globeRadius,pt,vt,xt._farZ,vr);if(Fe(Kt,jt),Pe&&(Q.setupElevationDraw(zt,Pe,Xe),q.uploadCommonUniforms(Ee,Pe,Kt.toUnwrapped()),at)){const[en,Br,nn]=at.getGridBuffers(lr,vt!==0);Pe.draw(q,lt,He,ht,Ye,o.ag.backCCW,Or,"globe_raster",en,Br,nn)}}}if(at&&(q.renderDefaultNorthPole||q.renderDefaultSouthPole)){const xt=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Ue&&xt.push("CUSTOM_ANTIALIASING"),Pe=q.getOrCreateProgram("globeRaster",{defines:xt});for(const vt of ce){const{x:lt,y:Kt,z:zt}=vt.canonical,ht=Kt===0,Pt=Kt===(1<<zt)-1,[st,Nt,jt,ar]=at.getPoleBuffers(zt,!1);if(ar&&(ht||Pt)){const lr=ie.getTile(vt);Ee.activeTexture.set(Ae.TEXTURE0),lr.texture&&lr.texture.bind(Ae.LINEAR,Ae.CLAMP_TO_EDGE);let vr=o.bj(zt,lt,Ve);const cr=o.bh(o.bi(vt.canonical)),Or=(en,Br)=>en.draw(q,Ae.TRIANGLES,He,o.ah.disabled,Ye,o.ag.disabled,O3(Ve.expandedFarZProjMatrix,vr,vr,cr,0,nt,Ve.frustumCorners.TL,Ve.frustumCorners.TR,Ve.frustumCorners.BR,Ve.frustumCorners.BL,Ve.globeCenterInViewSpace,Ve.globeRadius,pt,0,Ve._farZ),"globe_pole_raster",Br,jt,ar);Q.setupElevationDraw(lr,Pe,Xe),q.uploadCommonUniforms(Ee,Pe,vt.toUnwrapped()),ht&&q.renderDefaultNorthPole&&Or(Pe,st),Pt&&q.renderDefaultSouthPole&&(vr=o.ae.scale(o.ae.create(),vr,[1,-1,1]),Or(Pe,Nt))}}}})(T,C,O,z,K);else{const q=T.context,Q=q.gl;let ie,ce;const me=T.shadowRenderer,Ee=ss(T,T.longestCutoffRange),Ae=Ye=>{if(ce===Ye)return;const He=[];He.push(g0[Ye]),Ee.shouldRenderCutoff&&He.push("RENDER_CUTOFF"),ie=T.getOrCreateProgram("terrainRaster",{defines:He}),ce=Ye},Pe=T.colorModeForRenderPass(),Ie=new o.af(Q.LEQUAL,o.af.ReadWrite,T.depthRangeFor3D);Pd.update(K);const Ve=T.transform,Ue=Cd(Ve.zoom,C.exaggeration(),C.sourceCache._source.tileSize);let Fe=[0,0,0];if(me){const Ye=T.style.directionalLight,He=T.style.ambientLight;Ye&&He&&(Fe=h0(T.style,Ye,He))}{ce=-1;const Ye=Q.TRIANGLES,[He,Ge]=[C.gridIndexBuffer,C.gridSegments];for(const nt of z){const at=O.getTile(nt),pt=o.ah.disabled,ot=C.prevTerrainTileForTile[nt.key],Xe=C.terrainTileForTile[nt.key];m0(ot,Xe)&&Pd.newMorphing(nt.key,ot,Xe,K,250),q.activeTexture.set(Q.TEXTURE0),at.texture&&at.texture.bind(Q.LINEAR,Q.CLAMP_TO_EDGE);const xt=Pd.getMorphValuesForProxy(nt.key),vt=xt?1:0;let lt;xt&&(lt={morphing:{srcDemTile:xt.from,dstDemTile:xt.to,phase:o.bb(xt.phase)}});const Kt=pS(nt.projMatrix,y0(nt.canonical,Ve.renderWorldCopies)?Ue/10:Ue,Fe);if(Ae(vt),!ie)continue;C.setupElevationDraw(at,ie,lt);const zt=nt.toUnwrapped();me&&me.setupShadows(zt,ie),T.uploadCommonUniforms(q,ie,zt,null,Ee),ie.draw(T,Ye,Ie,pt,Pe,o.ag.backCCW,Kt,"terrain_raster",C.gridBuffer,He,Ge)}}}}(m,this,this.proxySourceCache,d,this._updateTimestamp),this.renderingToTexture=!0,m.gpuTimingDeferredRenderEnd(),d.splice(0,d.length))}renderBatch(d){if(this._drapedRenderBatches.length===0)return d+1;this.renderingToTexture=!0;const m=this.painter,w=this.painter.context,T=this.proxySourceCache,C=this.proxiedCoords[T.id],O=this._drapedRenderBatches.shift(),z=m.style.order,K=[];let q=0;for(const Q of C){const ie=T.getTileByID(Q.proxyTileKey),ce=T.proxyCachedFBO[Q.key]?T.proxyCachedFBO[Q.key][d]:void 0,me=ce!==void 0?T.renderCache[ce]:this.pool[q++],Ee=ce!==void 0;if(ie.texture=me.tex,Ee&&!me.dirty){K.push(ie.tileID);continue}let Ae;w.bindFramebuffer.set(me.fb.framebuffer),this.renderedToTile=!1,me.dirty&&(w.clear({color:o.C.transparent,stencil:0}),me.dirty=!1);for(let Pe=O.start;Pe<=O.end;++Pe){const Ie=m.style._mergedLayers[z[Pe]];if(Ie.isHidden(m.transform.zoom))continue;const Ve=m.style.getLayerSourceCache(Ie),Ue=Ve?this.proxyToSource[Q.key][Ve.id]:[Q];if(!Ue)continue;const Fe=Ue;w.viewport.set([0,0,me.fb.width,me.fb.height]),Ae!==(Ve?Ve.id:null)&&(this._setupStencil(me,Ue,Ie,Ve),Ae=Ve?Ve.id:null),m.renderLayer(m,Ve,Ie,Fe)}if(this._drapedRenderBatches.length===0)for(const Pe of this._pendingGroundEffectLayers){const Ie=m.style._mergedLayers[z[Pe]];if(Ie.isHidden(m.transform.zoom))continue;const Ve=m.style.getLayerSourceCache(Ie),Ue=Ve?this.proxyToSource[Q.key][Ve.id]:[Q];if(!Ue)continue;const Fe=Ue;w.viewport.set([0,0,me.fb.width,me.fb.height]),Ae!==(Ve?Ve.id:null)&&(this._setupStencil(me,Ue,Ie,Ve),Ae=Ve?Ve.id:null),m.renderLayer(m,Ve,Ie,Fe)}this.renderedToTile?(me.dirty=!0,K.push(ie.tileID)):Ee||--q,q===5&&(q=0,this.renderToBackBuffer(K))}return this.renderToBackBuffer(K),this.renderingToTexture=!1,w.bindFramebuffer.set(null),w.viewport.set([0,0,m.width,m.height]),O.end+1}postRender(){}isLayerOrderingCorrect(d){const m=d.order.length;let w=-1,T=m;for(let C=0;C<m;++C)this._style.isLayerDraped(d._mergedLayers[d.order[C]])?w=Math.max(w,C):T=Math.min(T,C);return T>w}getMinElevationBelowMSL(){let d=0;return this._visibleDemTiles.filter(m=>m.dem).forEach(m=>{d=Math.min(d,m.dem.tree.minimums[0])}),d===0?d:(d-30)*this._exaggeration}raycast(d,m,w){if(!this._visibleDemTiles)return null;const T=this._visibleDemTiles.filter(C=>C.dem).map(C=>{const O=C.tileID,z=1<<O.overscaledZ,{x:K,y:q}=O.canonical,Q=K/z,ie=(K+1)/z,ce=q/z,me=(q+1)/z;return{minx:Q,miny:ce,maxx:ie,maxy:me,t:C.dem.tree.raycastRoot(Q,ce,ie,me,d,m,w),tile:C}});T.sort((C,O)=>(C.t!==null?C.t:Number.MAX_VALUE)-(O.t!==null?O.t:Number.MAX_VALUE));for(const C of T){if(C.t==null)return null;const O=C.tile.dem.tree.raycast(C.minx,C.miny,C.maxx,C.maxy,d,m,w);if(O!=null)return O}return null}_createFBO(){const d=this.painter.context,m=d.gl,w=this.drapeBufferSize;d.activeTexture.set(m.TEXTURE0);const T=new o.T(d,{width:w[0],height:w[1],data:null},m.RGBA);T.bind(m.LINEAR,m.CLAMP_TO_EDGE);const C=d.createFramebuffer(w[0],w[1],!0,null);return C.colorAttachment.set(T.texture),C.depthAttachment=new yr(d,C.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=d.createRenderbuffer(d.gl.DEPTH_STENCIL,w[0],w[1]),this._stencilRef=0,C.depthAttachment.set(this._sharedDepthStencil),d.clear({stencil:0})):C.depthAttachment.set(this._sharedDepthStencil),d.extTextureFilterAnisotropic&&m.texParameterf(m.TEXTURE_2D,d.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,d.extTextureFilterAnisotropicMax),{fb:C,tex:T,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._debugParams.disableRenderCache||this._style.hasLightTransitions())return!0;for(const d in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[d].hasTransition())return!0;return this._style.order.some(d=>{const m=this._style._mergedLayers[d],w=m.isHidden(this.painter.transform.zoom);return m.type==="custom"?!w&&m.shouldRedrape():!w&&m.hasTransition()})}_clearLineLayersFromRenderCache(){let d=!1;for(const w of this._style.getSources())if(w instanceof fS){d=!0;break}if(!d)return;const m={};for(let w=0;w<this._style.order.length;++w){const T=this._style._mergedLayers[this._style.order[w]],C=this._style.getLayerSourceCache(T);if(C&&!m[C.id]&&!T.isHidden(this.painter.transform.zoom)&&T.type==="line"&&T.widthExpression()instanceof o.Z){m[C.id]=!0;for(const O of this.proxyCoords){const z=this.proxyToSource[O.key][C.id];if(z)for(const K of z)this._clearRenderCacheForTile(C.id,K)}}}}_clearRasterLayersFromRenderCache(){let d=!1;for(const w in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[w]._source instanceof Hs){d=!0;break}if(!d)return;const m={};for(let w=0;w<this._style.order.length;++w){const T=this._style._mergedLayers[this._style.order[w]],C=this._style.getLayerSourceCache(T);if(!C||m[C.id]||T.isHidden(this.painter.transform.zoom)||T.type!=="raster")continue;const O=T.paint.get("raster-fade-duration");for(const z of this.proxyCoords){const K=this.proxyToSource[z.key][C.id];if(K)for(const q of K){const Q=wv(C.getTile(q),C.findLoadedParent(q,0),C,this.painter.transform,O);(Q.opacity!==1||Q.mix!==0)&&this._clearRenderCacheForTile(C.id,q)}}}}_setupDrapedRenderBatches(){const d=this._style.order,m=d.length;if(m===0)return;const w=[];this._pendingGroundEffectLayers=[];let T,C=0,O=this._style._mergedLayers[d[C]];for(;!this._style.isLayerDraped(O)&&O.isHidden(this.painter.transform.zoom)&&++C<m;)O=this._style._mergedLayers[d[C]];for(;C<m;++C){const z=this._style._mergedLayers[d[C]];z.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(z)?T===void 0&&(T=C):(z.type==="fill-extrusion"&&this._pendingGroundEffectLayers.push(C),T!==void 0&&(w.push({start:T,end:C-1}),T=void 0)))}if(T!==void 0&&w.push({start:T,end:C-1}),w.length!==0){const z=w[w.length-1];this._pendingGroundEffectLayers.every(K=>K>z.end)||o.w("fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.")}this._drapedRenderBatches=w}_setupRenderCache(d){const m=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,m.renderCache.length>m.renderCachePool.length){const O=Object.values(m.proxyCachedFBO);m.proxyCachedFBO={};for(let z=0;z<O.length;++z){const K=Object.values(O[z]);m.renderCachePool.push(...K)}}return}this._clearRasterLayersFromRenderCache();const w=this.proxyCoords,T=this._tilesDirty;for(let O=w.length-1;O>=0;O--){const z=w[O];if(m.getTileByID(z.key),m.proxyCachedFBO[z.key]!==void 0){const K=d[z.key],q=this.proxyToSource[z.key];let Q=0;for(const ie in q){const ce=q[ie],me=K[ie];if(!me||me.length!==ce.length||ce.some((Ee,Ae)=>Ee!==me[Ae]||T[ie]&&T[ie].hasOwnProperty(Ee.key))){Q=-1;break}++Q}for(const ie in m.proxyCachedFBO[z.key])m.renderCache[m.proxyCachedFBO[z.key][ie]].dirty=Q<0||Q!==Object.values(K).length}}const C=[...this._drapedRenderBatches];C.sort((O,z)=>z.end-z.start-(O.end-O.start));for(const O of C)for(const z of w){if(m.proxyCachedFBO[z.key])continue;let K=m.renderCachePool.pop();K===void 0&&m.renderCache.length<50&&(K=m.renderCache.length,m.renderCache.push(this._createFBO())),K!==void 0&&(m.proxyCachedFBO[z.key]={},m.proxyCachedFBO[z.key][O.start]=K,m.renderCache[K].dirty=!0)}this._tilesDirty={}}_setupStencil(d,m,w,T){if(!T||!this._sourceTilesOverlap[T.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const C=this.painter.context,O=C.gl;if(m.length<=1)return void(this._overlapStencilType=!1);let z;if(w.isTileClipped())z=m.length,this._overlapStencilMode.test={func:O.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(m[0].overscaledZ>m[m.length-1].overscaledZ))return void(this._overlapStencilType=!1);z=1,this._overlapStencilMode.test={func:O.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+z>255&&(C.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=z,this._overlapStencilMode.ref=this._stencilRef,w.isTileClipped()&&this._renderTileClippingMasks(m,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(d){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[d.key]),this._overlapStencilMode):o.ah.disabled}_renderTileClippingMasks(d,m){const w=this.painter,T=this.painter.context,C=T.gl;w._tileClippingMaskIDs={},T.setColorMode(o.a.disabled),T.setDepthMode(o.af.disabled);const O=w.getOrCreateProgram("clippingMask");for(const z of d){const K=w._tileClippingMaskIDs[z.key]=--m;O.draw(w,C.TRIANGLES,o.af.disabled,new o.ah({func:C.ALWAYS,mask:0},K,255,C.KEEP,C.KEEP,C.REPLACE),o.a.disabled,o.ag.disabled,v0(z.projMatrix),"$clipping",w.tileExtentBuffer,w.quadTriangleIndexBuffer,w.tileExtentSegments)}}pointCoordinate(d){const m=this.painter.transform;if(d.x<0||d.x>m.width||d.y<0||d.y>m.height)return null;const w=[d.x,d.y,1,1];o.aB.transformMat4(w,w,m.pixelMatrixInverse),o.aB.scale(w,w,1/w[3]),w[0]/=m.worldSize,w[1]/=m.worldSize;const T=m._camera.position,C=o.ay(1,m.center.lat),O=[T[0],T[1],T[2]/C,0],z=o.$.subtract([],w.slice(0,3),O);o.$.normalize(z,z);const K=this.raycast(O,z,this._exaggeration);return K!==null&&K?(o.$.scaleAndAdd(O,O,z,K),O[3]=O[2],O[2]*=C,O):null}_setupProxiedCoordsForOrtho(d,m,w){if(d.getSource()instanceof o.bo)return this._setupProxiedCoordsForImageSource(d,m,w);this._findCoveringTileCache[d.id]=this._findCoveringTileCache[d.id]||{};const T=this.proxiedCoords[d.id]=[],C=this.proxyCoords;for(let K=0;K<C.length;K++){const q=C[K],Q=this._findTileCoveringTileID(q,d);if(Q){const ie=this._createProxiedId(q,Q,w[q.key]&&w[q.key][d.id]);T.push(ie),this.proxyToSource[q.key][d.id]=[ie]}}let O=!1;const z=new Set;for(let K=0;K<m.length;K++){const q=d.getTile(m[K]);if(!q||!q.hasData())continue;const Q=this._findTileCoveringTileID(q.tileID,this.proxySourceCache);if(Q&&Q.tileID.canonical.z!==q.tileID.canonical.z){const ie=this.proxyToSource[Q.tileID.key][d.id],ce=this._createProxiedId(Q.tileID,q,w[Q.tileID.key]&&w[Q.tileID.key][d.id]);ie?ie.splice(ie.length-1,0,ce):this.proxyToSource[Q.tileID.key][d.id]=[ce];const me=this.proxyToSource[Q.tileID.key][d.id];z.has(me)||z.add(me),T.push(ce),O=!0}}if(this._sourceTilesOverlap[d.id]=O,O&&this._debugParams.sortTilesHiZFirst)for(const K of z)K.sort((q,Q)=>Q.overscaledZ-q.overscaledZ)}_setupProxiedCoordsForImageSource(d,m,w){if(!d.getSource().loaded())return;const T=this.proxiedCoords[d.id]=[],C=this.proxyCoords,O=d.getSource(),z=O.tileID;if(!z)return;const K=new o.P(z.x,z.y)._div(1<<z.z),q=O.coordinates.map(o._.fromLngLat).reduce((ie,ce)=>(ie.min.x=Math.min(ie.min.x,ce.x-K.x),ie.min.y=Math.min(ie.min.y,ce.y-K.y),ie.max.x=Math.max(ie.max.x,ce.x-K.x),ie.max.y=Math.max(ie.max.y,ce.y-K.y),ie),{min:new o.P(Number.MAX_VALUE,Number.MAX_VALUE),max:new o.P(-Number.MAX_VALUE,-Number.MAX_VALUE)}),Q=(ie,ce)=>{const me=ie.wrap+ie.canonical.x/(1<<ie.canonical.z),Ee=ie.canonical.y/(1<<ie.canonical.z),Ae=o.a4/(1<<ie.canonical.z),Pe=ce.wrap+ce.canonical.x/(1<<ce.canonical.z),Ie=ce.canonical.y/(1<<ce.canonical.z);return me+Ae<Pe+q.min.x||me>Pe+q.max.x||Ee+Ae<Ie+q.min.y||Ee>Ie+q.max.y};for(let ie=0;ie<C.length;ie++){const ce=C[ie];for(let me=0;me<m.length;me++){const Ee=d.getTile(m[me]);if(!Ee||!Ee.hasData()||Q(ce,Ee.tileID))continue;const Ae=this._createProxiedId(ce,Ee,w[ce.key]&&w[ce.key][d.id]),Pe=this.proxyToSource[ce.key][d.id];Pe?Pe.push(Ae):this.proxyToSource[ce.key][d.id]=[Ae],T.push(Ae)}}}_createProxiedId(d,m,w){let T=this.orthoMatrix;if(w){const C=w.find(O=>O.key===m.tileID.key);if(C)return C}if(m.tileID.key!==d.key){const C=d.canonical.z-m.tileID.canonical.z;let O,z,K;T=o.ae.create();const q=m.tileID.wrap-d.wrap<<d.overscaledZ;C>0?(O=o.a4>>C,z=O*((m.tileID.canonical.x<<C)-d.canonical.x+q),K=O*((m.tileID.canonical.y<<C)-d.canonical.y)):(O=o.a4<<-C,z=o.a4*(m.tileID.canonical.x-(d.canonical.x+q<<-C)),K=o.a4*(m.tileID.canonical.y-(d.canonical.y<<-C))),o.ae.ortho(T,0,O,0,O,0,1),o.ae.translate(T,T,[z,K,0])}return new B3(m.tileID,d.key,T)}_findTileCoveringTileID(d,m){let w=m.getTile(d);if(w&&w.hasData())return w;const T=this._findCoveringTileCache[m.id],C=T[d.key];if(w=C?m.getTileByID(C):null,w&&w.hasData()||C===null)return w;let O=w?w.tileID:d,z=O.overscaledZ;const K=m.getSource().minzoom,q=[];if(!C){const ie=m.getSource().maxzoom;if(d.canonical.z>=ie){const ce=d.canonical.z-ie;m.getSource().reparseOverscaled?(z=Math.max(d.canonical.z+2,m.transform.tileZoom),O=new o.aQ(z,d.wrap,ie,d.canonical.x>>ce,d.canonical.y>>ce)):ce!==0&&(z=ie,O=new o.aQ(z,d.wrap,ie,d.canonical.x>>ce,d.canonical.y>>ce))}O.key!==d.key&&(q.push(O.key),w=m.getTile(O))}const Q=ie=>{q.forEach(ce=>{T[ce]=ie}),q.length=0};for(z-=1;z>=K&&(!w||!w.hasData());z--){w&&Q(w.tileID.key);const ie=O.calculateScaledKey(z);if(w=m.getTileByID(ie),w&&w.hasData())break;const ce=T[ie];if(ce===null)break;ce===void 0?q.push(ie):w=m.getTileByID(ce)}return Q(w?w.tileID.key:null),w&&w.hasData()?w:null}findDEMTileFor(d){return this.enabled?this._findTileCoveringTileID(d,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(d,m){let w=this._tilesDirty[d];w||(w=this._tilesDirty[d]={}),w[m.key]=!0}}function vS(b,d,m){const w=function(z,K,q){const Q=o.$.dot(K,z),ie=o.$.dot(q,[.2126,.7152,.0722]),ce=(Ee,Ae,Pe)=>(1-Pe)*Ee+Pe*Ae,me=ce(1-.3*Math.min(ie,1),1,Math.min(Q+1,1));return ce(.92,1,Math.asin(o.au(K[2],-1,1))/Math.PI+.5)*me}(b,[0,0,1],d),T=[0,0,0];o.$.scale(T,m.slice(0,3),w);const C=[0,0,0];o.$.scale(C,d.slice(0,3),b[2]);const O=[0,0,0];return o.$.add(O,T,C),o.ba(O)}const z3=["fill","fillOutline","fillPattern","line","linePattern","background","backgroundPattern","hillshade","raster"],_S=["stars","fillExtrusion","fillExtrusionGroundEffect","model","symbolSDF","symbolIcon","symbolTextAndIcon"];class N3{static cacheKey(d,m,w,T){let C=`${m}${T?T.cacheKey:""}`;for(const O of w)d.usedDefines.includes(O)&&(C+=`/${O}`);return C}constructor(d,m,w,T,C,O){const z=d.gl;this.program=z.createProgram(),this.configuration=T,this.name=m,this.fixedDefines=[...O];const K=T?T.getBinderAttributes():[],q=(w.staticAttributes||[]).concat(K);let Q=T?T.defines():[];Q=Q.concat(O.map(Pe=>`#define ${Pe}`));const ie=`#version 300 es
`;let ce=ie+Q.concat("precision mediump float;",uS,yv.fragmentSource).join(`
`);for(const Pe of w.fragmentIncludes)ce+=`
${s0[Pe]}`;ce+=`
${w.fragmentSource}`;let me=ie+Q.concat("precision highp float;",uS,yv.vertexSource).join(`
`);for(const Pe of w.vertexIncludes)me+=`
${s0[Pe]}`;me+=`
${w.vertexSource}`;const Ee=z.createShader(z.FRAGMENT_SHADER);if(z.isContextLost())return void(this.failedToCreate=!0);z.shaderSource(Ee,ce),z.compileShader(Ee),z.attachShader(this.program,Ee);const Ae=z.createShader(z.VERTEX_SHADER);if(z.isContextLost())this.failedToCreate=!0;else{z.shaderSource(Ae,me),z.compileShader(Ae),z.attachShader(this.program,Ae),this.attributes={},this.numAttributes=q.length;for(let Pe=0;Pe<this.numAttributes;Pe++)if(q[Pe]){const Ie=q[Pe].startsWith("a_")?q[Pe]:`a_${q[Pe]}`;z.bindAttribLocation(this.program,Pe,Ie),this.attributes[Ie]=Pe}z.linkProgram(this.program),z.deleteShader(Ae),z.deleteShader(Ee),this.fixedUniforms=C(d),this.binderUniforms=T?T.getUniforms(d):[],(O.includes("TERRAIN")||m.indexOf("symbol")!==-1||m.indexOf("circle")!==-1)&&(this.terrainUniforms=(Pe=>({u_dem:new o.a8(Pe),u_dem_prev:new o.a8(Pe),u_dem_tl:new o.a9(Pe),u_dem_scale:new o.ab(Pe),u_dem_tl_prev:new o.a9(Pe),u_dem_scale_prev:new o.ab(Pe),u_dem_size:new o.ab(Pe),u_dem_lerp:new o.ab(Pe),u_exaggeration:new o.ab(Pe),u_depth:new o.a8(Pe),u_depth_size_inv:new o.a9(Pe),u_depth_range_unpack:new o.a9(Pe),u_occluder_half_size:new o.ab(Pe),u_occlusion_depth_offset:new o.ab(Pe),u_meter_to_dem:new o.ab(Pe),u_label_plane_matrix_inv:new o.a7(Pe)}))(d)),O.includes("GLOBE")&&(this.globeUniforms=(Pe=>({u_tile_tl_up:new o.ar(Pe),u_tile_tr_up:new o.ar(Pe),u_tile_br_up:new o.ar(Pe),u_tile_bl_up:new o.ar(Pe),u_tile_up_scale:new o.ab(Pe)}))(d)),O.includes("FOG")&&(this.fogUniforms=(Pe=>({u_fog_matrix:new o.a7(Pe),u_fog_range:new o.a9(Pe),u_fog_color:new o.at(Pe),u_fog_horizon_blend:new o.ab(Pe),u_fog_vertical_limit:new o.a9(Pe),u_fog_temporal_offset:new o.ab(Pe),u_frustum_tl:new o.ar(Pe),u_frustum_tr:new o.ar(Pe),u_frustum_br:new o.ar(Pe),u_frustum_bl:new o.ar(Pe),u_globe_pos:new o.ar(Pe),u_globe_radius:new o.ab(Pe),u_globe_transition:new o.ab(Pe),u_is_globe:new o.a8(Pe),u_viewport:new o.a9(Pe)}))(d)),O.includes("RENDER_CUTOFF")&&(this.cutoffUniforms=(Pe=>({u_cutoff_params:new o.at(Pe)}))(d)),O.includes("LIGHTING_3D_MODE")&&(this.lightsUniforms=(Pe=>({u_lighting_ambient_color:new o.ar(Pe),u_lighting_directional_dir:new o.ar(Pe),u_lighting_directional_color:new o.ar(Pe),u_ground_radiance:new o.ar(Pe)}))(d)),O.includes("RENDER_SHADOWS")&&(this.shadowUniforms=(Pe=>({u_light_matrix_0:new o.a7(Pe),u_light_matrix_1:new o.a7(Pe),u_fade_range:new o.a9(Pe),u_shadow_normal_offset:new o.ar(Pe),u_shadow_intensity:new o.ab(Pe),u_shadow_texel_size:new o.ab(Pe),u_shadow_map_resolution:new o.ab(Pe),u_shadow_direction:new o.ar(Pe),u_shadow_bias:new o.ar(Pe),u_shadowmap_0:new o.a8(Pe),u_shadowmap_1:new o.a8(Pe)}))(d))}}setTerrainUniformValues(d,m){if(!this.terrainUniforms)return;const w=this.terrainUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const T in m)w[T]&&w[T].set(this.program,T,m[T])}}setGlobeUniformValues(d,m){if(!this.globeUniforms)return;const w=this.globeUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const T in m)w[T]&&w[T].set(this.program,T,m[T])}}setFogUniformValues(d,m){if(!this.fogUniforms)return;const w=this.fogUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const T in m)w[T].set(this.program,T,m[T])}}setCutoffUniformValues(d,m){if(!this.cutoffUniforms)return;const w=this.cutoffUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const T in m)w[T].set(this.program,T,m[T])}}setLightsUniformValues(d,m){if(!this.lightsUniforms)return;const w=this.lightsUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const T in m)w[T].set(this.program,T,m[T])}}setShadowUniformValues(d,m){if(this.failedToCreate||!this.shadowUniforms)return;const w=this.shadowUniforms;d.program.set(this.program);for(const T in m)w[T].set(this.program,T,m[T])}_drawDebugWireframe(d,m,w,T,C,O,z,K,q,Q){const ie=d.options.wireframe;if(ie.terrain===!1&&ie.layers2D===!1&&ie.layers3D===!1)return;const ce=d.context;if(!(!(!ie.terrain||this.name!=="terrainRaster"&&this.name!=="globeRaster")||!(!ie.layers2D||d._terrain&&d._terrain.renderingToTexture||!z3.includes(this.name))||!(!ie.layers3D||!_S.includes(this.name))))return;const me=ce.gl,Ee=d.wireframeDebugCache.getLinesFromTrianglesBuffer(d.frameCounter,C,ce);if(!Ee)return;const Ae=[...this.fixedDefines];Ae.push("DEBUG_WIREFRAME");const Pe=d.getOrCreateProgram(this.name,{config:this.configuration,defines:Ae});ce.program.set(Pe.program);const Ie=(Fe,Ye,He)=>{if(Ye[Fe]&&He[Fe])for(const Ge in Ye[Fe])He[Fe][Ge]&&He[Fe][Ge].set(He.program,Ge,Ye[Fe][Ge].current)};q&&q.setUniforms(Pe.program,ce,Pe.binderUniforms,z,{zoom:K}),Ie("fixedUniforms",this,Pe),Ie("terrainUniforms",this,Pe),Ie("globeUniforms",this,Pe),Ie("fogUniforms",this,Pe),Ie("lightsUniforms",this,Pe),Ie("shadowUniforms",this,Pe),Ee.bind(),ce.setColorMode(new o.a([me.ONE,me.ONE_MINUS_SRC_ALPHA,me.ZERO,me.ONE],o.C.transparent,[!0,!0,!0,!1])),ce.setDepthMode(new o.af(m.func===me.LESS?me.LEQUAL:m.func,o.af.ReadOnly,m.range)),ce.setStencilMode(o.ah.disabled);const Ve=3*O.primitiveLength*2,Ue=3*O.primitiveOffset*2*2;Q&&Q>1?me.drawElementsInstanced(me.LINES,Ve,me.UNSIGNED_SHORT,Ue,Q):me.drawElements(me.LINES,Ve,me.UNSIGNED_SHORT,Ue),C.bind(),ce.program.set(this.program),ce.setDepthMode(m),ce.setStencilMode(w),ce.setColorMode(T)}draw(d,m,w,T,C,O,z,K,q,Q,ie,ce,me,Ee,Ae,Pe){const Ie=d.context,Ve=Ie.gl;if(this.failedToCreate)return;Ie.program.set(this.program),Ie.setDepthMode(w),Ie.setStencilMode(T),Ie.setColorMode(C),Ie.setCullFace(O);for(const Ye of Object.keys(this.fixedUniforms))this.fixedUniforms[Ye].set(this.program,Ye,z[Ye]);Ee&&Ee.setUniforms(this.program,Ie,this.binderUniforms,ce,{zoom:me});const Ue={[Ve.POINTS]:1,[Ve.LINES]:2,[Ve.TRIANGLES]:3,[Ve.LINE_STRIP]:1}[m],Fe=Pe&&Pe>0?1:void 0;for(const Ye of ie.get()){const He=Ye.vaos||(Ye.vaos={});(He[K]||(He[K]=new Qk)).bind(Ie,this,q,Ee?Ee.getPaintVertexBuffers():[],Q,Ye.vertexOffset,Ae||[],Fe),Pe&&Pe>1?Ve.drawElementsInstanced(m,Ye.primitiveLength*Ue,Ve.UNSIGNED_SHORT,Ye.primitiveOffset*Ue*2,Pe):Q?Ve.drawElements(m,Ye.primitiveLength*Ue,Ve.UNSIGNED_SHORT,Ye.primitiveOffset*Ue*2):Ve.drawArrays(m,Ye.vertexOffset,Ye.vertexLength),m===Ve.TRIANGLES&&Q&&this._drawDebugWireframe(d,w,T,C,Q,Ye,ce,me,Ee,Pe)}}}function F3(b,d){const m=Math.pow(2,d.tileID.overscaledZ),w=d.tileSize*Math.pow(2,b.transform.tileZoom)/m,T=w*(d.tileID.canonical.x+d.tileID.wrap*m),C=w*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture?d.imageAtlasTexture.size:[0,0],u_tile_units_to_pixels:1/o.bD(d,1,b.transform.tileZoom),u_pixel_coord_upper:[T>>16,C>>16],u_pixel_coord_lower:[65535&T,65535&C]}}const bS=o.ae.create(),ku=(b,d,m,w,T,C,O,z,K,q,Q,ie,ce,me,Ee,Ae,Pe,Ie)=>{const Ve=d.style.light,Ue=Ve.properties.get("position"),Fe=[Ue.x,Ue.y,Ue.z],Ye=o.bE.create();Ve.properties.get("anchor")==="viewport"&&(o.bE.fromRotation(Ye,-d.transform.angle),o.$.transformMat3(Fe,Fe,Ye));const He=Ve.properties.get("color"),Ge=d.transform,nt={u_matrix:b,u_lightpos:Fe,u_lightintensity:Ve.properties.get("intensity"),u_lightcolor:[He.r,He.g,He.b],u_vertical_gradient:+m,u_opacity:w,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:bS,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:T,u_edge_radius:C,u_alignment:O,u_width_scale:z,u_flood_light_color:me,u_vertical_scale:Ee,u_flood_light_intensity:Ae,u_ground_shadow_factor:Pe,u_emissive_strength:Ie};return Ge.projection.name==="globe"&&(nt.u_tile_id=[K.canonical.x,K.canonical.y,1<<K.canonical.z],nt.u_zoom_transition=Q,nt.u_inv_rot_matrix=ce,nt.u_merc_center=ie,nt.u_up_dir=Ge.projection.upVector(new o.aO(0,0,0),ie[0]*o.a4,ie[1]*o.a4),nt.u_height_lift=q),nt},Av=(b,d,m,w,T)=>({u_matrix:b,u_edge_radius:d,u_alignment:m,u_width_scale:w,u_vertical_scale:T}),xS=(b,d,m,w,T,C,O,z,K,q,Q,ie,ce,me,Ee,Ae)=>{const Pe=ku(b,d,m,w,T,C,O,z,K,Q,ie,ce,me,Ee,Ae,1,[0,0,0],0),Ie={u_height_factor:-Math.pow(2,K.overscaledZ)/q.tileSize/8};return o.Q(Pe,F3(d,q),Ie)},_0=(b,d)=>({u_matrix:b,u_emissive_strength:d}),Tv=(b,d,m,w)=>o.Q(_0(b,d),F3(m,w)),Pv=(b,d,m)=>({u_matrix:b,u_world:m,u_emissive_strength:d}),b0=(b,d,m,w,T)=>o.Q(Tv(b,d,m,w),{u_world:T}),Nh=(b,d,m,w)=>{const T=o.a4/m.tileSize;return{u_matrix:b,u_camera_to_center_distance:d.getCameraToCenterDistance(w),u_extrude_scale:[d.pixelsToGLUnits[0]/T,d.pixelsToGLUnits[1]/T]}},Cv=(b,d,m=1)=>({u_matrix:b,u_color:d.toRenderColor(null),u_overlay:0,u_overlay_scale:m}),wS=o.ae.create(),SS=(b,d,m,w,T,C,O)=>{const z=b.transform,K=z.projection.name==="globe",q=K?o.bF(z.zoom,d.canonical)*z._pixelsPerMercatorPixel:o.bD(m,1,C),Q={u_matrix:d.projMatrix,u_extrude_scale:q,u_intensity:O,u_inv_rot_matrix:wS,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(K){Q.u_inv_rot_matrix=w,Q.u_merc_center=T,Q.u_tile_id=[d.canonical.x,d.canonical.y,1<<d.canonical.z],Q.u_zoom_transition=o.a2(z.zoom);const ie=T[0]*o.a4,ce=T[1]*o.a4;Q.u_up_dir=z.projection.upVector(new o.aO(0,0,0),ie,ce)}return Q};function j3(b,[d,m,w,T],[C,O]){if(C===O)return[0,0,0,0];const z=255*(b-1)/(b*(O-C));return[d*z,m*z,w*z,T*z]}function x0(b,d,[m,w]){return m===w?0:.5/b+(d-m)*(b-1)/(b*(w-m))}const Iv=(b,d,m,w,T,C,O,z,K,q,Q,ie,ce,me,Ee,Ae,Pe,Ie,Ve,Ue,Fe)=>({u_matrix:b,u_normalize_matrix:d,u_globe_matrix:m,u_merc_matrix:w,u_grid_matrix:T,u_tl_parent:C,u_scale_parent:q,u_fade_t:Q.mix,u_opacity:Q.opacity*ie.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ie.paint.get("raster-brightness-min"),u_brightness_high:ie.paint.get("raster-brightness-max"),u_saturation_factor:o.bG(ie.paint.get("raster-saturation")),u_contrast_factor:o.bH(ie.paint.get("raster-contrast")),u_spin_weights:V3(ie.paint.get("raster-hue-rotate")),u_perspective_transform:ce,u_raster_elevation:me,u_zoom_transition:O,u_merc_center:z,u_cutoff_params:K,u_colorization_mix:j3(o.bI,Ae,Ie),u_colorization_offset:x0(o.bI,Pe,Ie),u_color_ramp:Ee,u_texture_offset:[Ue/(Ve+2*Ue),Ve/(Ve+2*Ue)],u_texture_res:[Ve+2*Ue,Ve+2*Ue],u_emissive_strength:Fe});function V3(b){b*=Math.PI/180;const d=Math.sin(b),m=Math.cos(b);return[(2*m+1)/3,(-Math.sqrt(3)*d-m+1)/3,(Math.sqrt(3)*d-m+1)/3]}const Ou=.05,kf=(b,d,m,w,T,C,O,z,K,q,Q,ie)=>({u_matrix:b,u_normalize_matrix:d,u_globe_matrix:m,u_merc_matrix:w,u_grid_matrix:T,u_tl_parent:C,u_scale_parent:q,u_fade_t:Q.mix,u_opacity:Q.opacity,u_image0:0,u_image1:1,u_raster_elevation:ie,u_zoom_transition:O,u_merc_center:z,u_cutoff_params:K}),iO=(b,d,m,w,T,C,O,z,K,q)=>({u_particle_texture:b,u_particle_texture_side_len:d,u_tile_offset:m,u_velocity:w,u_color_ramp:C,u_velocity_res:T,u_max_speed:O,u_uv_offset:z,u_data_scale:[255*K[0],255*K[1]],u_data_offset:q,u_particle_pos_scale:1.1,u_particle_pos_offset:[Ou,Ou]}),ES=(b,d,m,w,T,C,O,z,K,q)=>({u_particle_texture:b,u_particle_texture_side_len:d,u_velocity:m,u_velocity_res:w,u_max_speed:T,u_speed_factor:C,u_reset_rate:O,u_rand_seed:Math.random(),u_uv_offset:z,u_data_scale:[255*K[0],255*K[1]],u_data_offset:q,u_particle_pos_scale:1.1,u_particle_pos_offset:[Ou,Ou]}),w0=o.ae.create(),Fh=(b,d,m,w,T,C,O,z,K,q,Q,ie,ce,me,Ee,Ae,Pe,Ie)=>{const Ve=T.transform,Ue={u_is_size_zoom_constant:+(b==="constant"||b==="source"),u_is_size_feature_constant:+(b==="constant"||b==="camera"),u_size_t:d?d.uSizeT:0,u_size:d?d.uSize:0,u_camera_to_center_distance:Ve.getCameraToCenterDistance(Ae),u_rotate_symbol:+m,u_aspect_ratio:Ve.width/Ve.height,u_fade_change:T.options.fadeDuration?T.symbolFadeChange:1,u_matrix:C,u_label_plane_matrix:O,u_coord_matrix:z,u_is_text:+K,u_pitch_with_map:+w,u_texsize:q,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:w0,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:w0,u_up_vector:[0,-1,0],u_color_adj_mat:Pe,u_icon_transition:Ie||0};return Ae.name==="globe"&&(Ue.u_tile_id=[Q.canonical.x,Q.canonical.y,1<<Q.canonical.z],Ue.u_zoom_transition=ie,Ue.u_inv_rot_matrix=me,Ue.u_merc_center=ce,Ue.u_camera_forward=Ve._camera.forward(),Ue.u_ecef_origin=o.bJ(Ve.globeMatrix,Q.toUnwrapped()),Ue.u_tile_matrix=Float32Array.from(Ve.globeMatrix),Ue.u_up_vector=Ee),Ue},S0=(b,d,m,w,T,C,O,z,K,q,Q,ie,ce,me,Ee,Ae,Pe)=>o.Q(Fh(b,d,m,w,T,C,O,z,K,q,ie,ce,me,Ee,Ae,Pe),{u_gamma_scale:w?T.transform.getCameraToCenterDistance(Pe)*Math.cos(T.terrain?0:T.transform._pitch):1,u_device_pixel_ratio:o.e.devicePixelRatio,u_is_halo:+Q,undefined:void 0}),U3=(b,d,m,w,T,C,O,z,K,q,Q,ie,ce,me,Ee,Ae)=>o.Q(S0(b,d,m,w,T,C,O,z,!0,K,!0,Q,ie,ce,me,Ee,Ae),{u_texsize_icon:q,u_texture_icon:1}),W3=(b,d,m,w)=>({u_matrix:b,u_emissive_strength:d,u_opacity:m,u_color:w}),aO=(b,d,m,w,T,C,O,z)=>o.Q(function(K,q,Q,ie,ce){const{width:me,height:Ee}=ie.imageManager.getPixelSize(q),Ae=Math.pow(2,ce.tileID.overscaledZ),Pe=ce.tileSize*Math.pow(2,ie.transform.tileZoom)/Ae,Ie=Pe*(ce.tileID.canonical.x+ce.tileID.wrap*Ae),Ve=Pe*ce.tileID.canonical.y;return{u_image:0,u_pattern_tl:Q.tl,u_pattern_br:Q.br,u_texsize:[me,Ee],u_pattern_size:Q.displaySize,u_tile_units_to_pixels:1/o.bD(ce,1,ie.transform.tileZoom),u_pixel_coord_upper:[Ie>>16,Ve>>16],u_pixel_coord_lower:[65535&Ie,65535&Ve]}}(0,C,O,w,z),{u_matrix:b,u_emissive_strength:d,u_opacity:m}),Sl=new Float32Array(o.ae.identity([])),Of=(b,d,m,w,T,C,O,z,K,q,Q,ie,ce,me=[0,0,0],Ee)=>{const Ae=T.style.light,Pe=Ae.properties.get("position"),Ie=[-Pe.x,-Pe.y,Pe.z],Ve=o.bE.create();Ae.properties.get("anchor")==="viewport"&&(o.bE.fromRotation(Ve,-T.transform.angle),o.$.transformMat3(Ie,Ie,Ve));const Ue=Q.alphaMode==="MASK",Fe=Ae.properties.get("color").toRenderColor(null),Ye=ce.paint.get("model-ambient-occlusion-intensity"),He=ce.paint.get("model-color").constantOr(o.C.white).toRenderColor(null),Ge=ce.paint.get("model-color-mix-intensity").constantOr(0);return{u_matrix:b,u_lighting_matrix:d,u_normal_matrix:m,u_node_matrix:w||Sl,u_lightpos:Ie,u_lightintensity:Ae.properties.get("intensity"),u_lightcolor:[Fe.r,Fe.g,Fe.b],u_camera_pos:me,u_opacity:C,u_baseTextureIsAlpha:0,u_alphaMask:+Ue,u_alphaCutoff:Q.alphaCutoff,u_baseColorFactor:[O.r,O.g,O.b,O.a],u_emissiveFactor:[z[0],z[1],z[2],1],u_metallicFactor:K,u_roughnessFactor:q,u_baseColorTexture:xo.BaseColor,u_metallicRoughnessTexture:xo.MetallicRoughness,u_normalTexture:xo.Normal,u_occlusionTexture:xo.Occlusion,u_emissionTexture:xo.Emission,u_lutTexture:xo.LUT,u_color_mix:[He.r,He.g,He.b,Ge],u_aoIntensity:Ye,u_emissive_strength:ie,u_occlusionTextureTransform:Ee||[0,0,0,0]}},K3=(b,d=Sl,m=Sl)=>({u_matrix:b,u_instance:d,u_node_matrix:m}),AS={fillExtrusion:b=>({u_matrix:new o.a7(b),u_lightpos:new o.ar(b),u_lightintensity:new o.ab(b),u_lightcolor:new o.ar(b),u_vertical_gradient:new o.ab(b),u_opacity:new o.ab(b),u_edge_radius:new o.ab(b),u_alignment:new o.ab(b),u_width_scale:new o.ab(b),u_ao:new o.a9(b),u_tile_id:new o.ar(b),u_zoom_transition:new o.ab(b),u_inv_rot_matrix:new o.a7(b),u_merc_center:new o.a9(b),u_up_dir:new o.ar(b),u_height_lift:new o.ab(b),u_flood_light_color:new o.ar(b),u_vertical_scale:new o.ab(b),u_flood_light_intensity:new o.ab(b),u_ground_shadow_factor:new o.ar(b),u_emissive_strength:new o.ab(b)}),fillExtrusionDepth:b=>({u_matrix:new o.a7(b),u_edge_radius:new o.ab(b),u_alignment:new o.ab(b),u_width_scale:new o.ab(b),u_vertical_scale:new o.ab(b)}),fillExtrusionPattern:b=>({u_matrix:new o.a7(b),u_lightpos:new o.ar(b),u_lightintensity:new o.ab(b),u_lightcolor:new o.ar(b),u_vertical_gradient:new o.ab(b),u_height_factor:new o.ab(b),u_edge_radius:new o.ab(b),u_alignment:new o.ab(b),u_width_scale:new o.ab(b),u_ao:new o.a9(b),u_tile_id:new o.ar(b),u_zoom_transition:new o.ab(b),u_inv_rot_matrix:new o.a7(b),u_merc_center:new o.a9(b),u_up_dir:new o.ar(b),u_height_lift:new o.ab(b),u_image:new o.a8(b),u_texsize:new o.a9(b),u_pixel_coord_upper:new o.a9(b),u_pixel_coord_lower:new o.a9(b),u_tile_units_to_pixels:new o.ab(b),u_opacity:new o.ab(b)}),fillExtrusionGroundEffect:b=>({u_matrix:new o.a7(b),u_opacity:new o.ab(b),u_ao_pass:new o.ab(b),u_meter_to_tile:new o.ab(b),u_ao:new o.a9(b),u_flood_light_intensity:new o.ab(b),u_flood_light_color:new o.ar(b),u_attenuation:new o.ab(b),u_edge_radius:new o.ab(b),u_fb:new o.a8(b),u_fb_size:new o.ab(b)}),fill:b=>({u_matrix:new o.a7(b),u_emissive_strength:new o.ab(b)}),fillPattern:b=>({u_matrix:new o.a7(b),u_emissive_strength:new o.ab(b),u_image:new o.a8(b),u_texsize:new o.a9(b),u_pixel_coord_upper:new o.a9(b),u_pixel_coord_lower:new o.a9(b),u_tile_units_to_pixels:new o.ab(b)}),fillOutline:b=>({u_matrix:new o.a7(b),u_emissive_strength:new o.ab(b),u_world:new o.a9(b)}),fillOutlinePattern:b=>({u_matrix:new o.a7(b),u_emissive_strength:new o.ab(b),u_world:new o.a9(b),u_image:new o.a8(b),u_texsize:new o.a9(b),u_pixel_coord_upper:new o.a9(b),u_pixel_coord_lower:new o.a9(b),u_tile_units_to_pixels:new o.ab(b)}),circle:o.bK,collisionBox:b=>({u_matrix:new o.a7(b),u_camera_to_center_distance:new o.ab(b),u_extrude_scale:new o.a9(b)}),collisionCircle:b=>({u_matrix:new o.a7(b),u_inv_matrix:new o.a7(b),u_camera_to_center_distance:new o.ab(b),u_viewport_size:new o.a9(b)}),debug:b=>({u_color:new o.aa(b),u_matrix:new o.a7(b),u_overlay:new o.a8(b),u_overlay_scale:new o.ab(b)}),clippingMask:b=>({u_matrix:new o.a7(b)}),heatmap:b=>({u_extrude_scale:new o.ab(b),u_intensity:new o.ab(b),u_matrix:new o.a7(b),u_inv_rot_matrix:new o.a7(b),u_merc_center:new o.a9(b),u_tile_id:new o.ar(b),u_zoom_transition:new o.ab(b),u_up_dir:new o.ar(b)}),heatmapTexture:b=>({u_image:new o.a8(b),u_color_ramp:new o.a8(b),u_opacity:new o.ab(b)}),hillshade:b=>({u_matrix:new o.a7(b),u_image:new o.a8(b),u_latrange:new o.a9(b),u_light:new o.a9(b),u_shadow:new o.aa(b),u_highlight:new o.aa(b),u_emissive_strength:new o.ab(b),u_accent:new o.aa(b)}),hillshadePrepare:b=>({u_matrix:new o.a7(b),u_image:new o.a8(b),u_dimension:new o.a9(b),u_zoom:new o.ab(b)}),line:o.bL,linePattern:o.bM,raster:b=>({u_matrix:new o.a7(b),u_normalize_matrix:new o.a7(b),u_globe_matrix:new o.a7(b),u_merc_matrix:new o.a7(b),u_grid_matrix:new o.as(b),u_tl_parent:new o.a9(b),u_scale_parent:new o.ab(b),u_fade_t:new o.ab(b),u_opacity:new o.ab(b),u_image0:new o.a8(b),u_image1:new o.a8(b),u_brightness_low:new o.ab(b),u_brightness_high:new o.ab(b),u_saturation_factor:new o.ab(b),u_contrast_factor:new o.ab(b),u_spin_weights:new o.ar(b),u_perspective_transform:new o.a9(b),u_raster_elevation:new o.ab(b),u_zoom_transition:new o.ab(b),u_merc_center:new o.a9(b),u_cutoff_params:new o.at(b),u_colorization_mix:new o.at(b),u_colorization_offset:new o.ab(b),u_color_ramp:new o.a8(b),u_texture_offset:new o.a9(b),u_texture_res:new o.a9(b),u_emissive_strength:new o.ab(b)}),rasterParticle:b=>({u_matrix:new o.a7(b),u_normalize_matrix:new o.a7(b),u_globe_matrix:new o.a7(b),u_merc_matrix:new o.a7(b),u_grid_matrix:new o.as(b),u_tl_parent:new o.a9(b),u_scale_parent:new o.ab(b),u_fade_t:new o.ab(b),u_opacity:new o.ab(b),u_image0:new o.a8(b),u_image1:new o.a8(b),u_raster_elevation:new o.ab(b),u_zoom_transition:new o.ab(b),u_merc_center:new o.a9(b),u_cutoff_params:new o.at(b)}),rasterParticleTexture:b=>({u_texture:new o.a8(b),u_opacity:new o.ab(b)}),rasterParticleDraw:b=>({u_particle_texture:new o.a8(b),u_particle_texture_side_len:new o.ab(b),u_tile_offset:new o.a9(b),u_velocity:new o.a8(b),u_color_ramp:new o.a8(b),u_velocity_res:new o.a9(b),u_max_speed:new o.ab(b),u_uv_offset:new o.a9(b),u_data_scale:new o.a9(b),u_data_offset:new o.ab(b),u_particle_pos_scale:new o.ab(b),u_particle_pos_offset:new o.a9(b)}),rasterParticleUpdate:b=>({u_particle_texture:new o.a8(b),u_particle_texture_side_len:new o.ab(b),u_velocity:new o.a8(b),u_velocity_res:new o.a9(b),u_max_speed:new o.ab(b),u_speed_factor:new o.ab(b),u_reset_rate:new o.ab(b),u_rand_seed:new o.ab(b),u_uv_offset:new o.a9(b),u_data_scale:new o.a9(b),u_data_offset:new o.ab(b),u_particle_pos_scale:new o.ab(b),u_particle_pos_offset:new o.a9(b)}),symbolIcon:b=>({u_is_size_zoom_constant:new o.a8(b),u_is_size_feature_constant:new o.a8(b),u_size_t:new o.ab(b),u_size:new o.ab(b),u_camera_to_center_distance:new o.ab(b),u_rotate_symbol:new o.a8(b),u_aspect_ratio:new o.ab(b),u_fade_change:new o.ab(b),u_matrix:new o.a7(b),u_label_plane_matrix:new o.a7(b),u_coord_matrix:new o.a7(b),u_is_text:new o.a8(b),u_pitch_with_map:new o.a8(b),u_texsize:new o.a9(b),u_tile_id:new o.ar(b),u_zoom_transition:new o.ab(b),u_inv_rot_matrix:new o.a7(b),u_merc_center:new o.a9(b),u_camera_forward:new o.ar(b),u_tile_matrix:new o.a7(b),u_up_vector:new o.ar(b),u_ecef_origin:new o.ar(b),u_texture:new o.a8(b),u_icon_transition:new o.ab(b),u_color_adj_mat:new o.a7(b)}),symbolSDF:b=>({u_is_size_zoom_constant:new o.a8(b),u_is_size_feature_constant:new o.a8(b),u_size_t:new o.ab(b),u_size:new o.ab(b),u_camera_to_center_distance:new o.ab(b),u_rotate_symbol:new o.a8(b),u_aspect_ratio:new o.ab(b),u_fade_change:new o.ab(b),u_matrix:new o.a7(b),u_label_plane_matrix:new o.a7(b),u_coord_matrix:new o.a7(b),u_is_text:new o.a8(b),u_pitch_with_map:new o.a8(b),u_texsize:new o.a9(b),u_texture:new o.a8(b),u_gamma_scale:new o.ab(b),u_device_pixel_ratio:new o.ab(b),u_tile_id:new o.ar(b),u_zoom_transition:new o.ab(b),u_inv_rot_matrix:new o.a7(b),u_merc_center:new o.a9(b),u_camera_forward:new o.ar(b),u_tile_matrix:new o.a7(b),u_up_vector:new o.ar(b),u_ecef_origin:new o.ar(b),u_is_halo:new o.a8(b)}),symbolTextAndIcon:b=>({u_is_size_zoom_constant:new o.a8(b),u_is_size_feature_constant:new o.a8(b),u_size_t:new o.ab(b),u_size:new o.ab(b),u_camera_to_center_distance:new o.ab(b),u_rotate_symbol:new o.a8(b),u_aspect_ratio:new o.ab(b),u_fade_change:new o.ab(b),u_matrix:new o.a7(b),u_label_plane_matrix:new o.a7(b),u_coord_matrix:new o.a7(b),u_is_text:new o.a8(b),u_pitch_with_map:new o.a8(b),u_texsize:new o.a9(b),u_texsize_icon:new o.a9(b),u_texture:new o.a8(b),u_texture_icon:new o.a8(b),u_gamma_scale:new o.ab(b),u_device_pixel_ratio:new o.ab(b),u_is_halo:new o.a8(b)}),background:b=>({u_matrix:new o.a7(b),u_emissive_strength:new o.ab(b),u_opacity:new o.ab(b),u_color:new o.aa(b)}),backgroundPattern:b=>({u_matrix:new o.a7(b),u_emissive_strength:new o.ab(b),u_opacity:new o.ab(b),u_image:new o.a8(b),u_pattern_tl:new o.a9(b),u_pattern_br:new o.a9(b),u_texsize:new o.a9(b),u_pattern_size:new o.a9(b),u_pixel_coord_upper:new o.a9(b),u_pixel_coord_lower:new o.a9(b),u_tile_units_to_pixels:new o.ab(b)}),terrainRaster:b=>({u_matrix:new o.a7(b),u_image0:new o.a8(b),u_skirt_height:new o.ab(b),u_ground_shadow_factor:new o.ar(b)}),skybox:b=>({u_matrix:new o.a7(b),u_sun_direction:new o.ar(b),u_cubemap:new o.a8(b),u_opacity:new o.ab(b),u_temporal_offset:new o.ab(b)}),skyboxGradient:b=>({u_matrix:new o.a7(b),u_color_ramp:new o.a8(b),u_center_direction:new o.ar(b),u_radius:new o.ab(b),u_opacity:new o.ab(b),u_temporal_offset:new o.ab(b)}),skyboxCapture:b=>({u_matrix_3f:new o.as(b),u_sun_direction:new o.ar(b),u_sun_intensity:new o.ab(b),u_color_tint_r:new o.at(b),u_color_tint_m:new o.at(b),u_luminance:new o.ab(b)}),globeRaster:b=>({u_proj_matrix:new o.a7(b),u_globe_matrix:new o.a7(b),u_normalize_matrix:new o.a7(b),u_merc_matrix:new o.a7(b),u_zoom_transition:new o.ab(b),u_merc_center:new o.a9(b),u_image0:new o.a8(b),u_grid_matrix:new o.as(b),u_skirt_height:new o.ab(b),u_far_z_cutoff:new o.ab(b),u_frustum_tl:new o.ar(b),u_frustum_tr:new o.ar(b),u_frustum_br:new o.ar(b),u_frustum_bl:new o.ar(b),u_globe_pos:new o.ar(b),u_globe_radius:new o.ab(b),u_viewport:new o.a9(b)}),globeAtmosphere:b=>({u_frustum_tl:new o.ar(b),u_frustum_tr:new o.ar(b),u_frustum_br:new o.ar(b),u_frustum_bl:new o.ar(b),u_horizon:new o.ab(b),u_transition:new o.ab(b),u_fadeout_range:new o.ab(b),u_color:new o.at(b),u_high_color:new o.at(b),u_space_color:new o.at(b),u_temporal_offset:new o.ab(b),u_horizon_angle:new o.ab(b)}),model:b=>({u_matrix:new o.a7(b),u_lighting_matrix:new o.a7(b),u_normal_matrix:new o.a7(b),u_node_matrix:new o.a7(b),u_lightpos:new o.ar(b),u_lightintensity:new o.ab(b),u_lightcolor:new o.ar(b),u_camera_pos:new o.ar(b),u_opacity:new o.ab(b),u_baseColorFactor:new o.at(b),u_emissiveFactor:new o.at(b),u_metallicFactor:new o.ab(b),u_roughnessFactor:new o.ab(b),u_baseTextureIsAlpha:new o.a8(b),u_alphaMask:new o.a8(b),u_alphaCutoff:new o.ab(b),u_baseColorTexture:new o.a8(b),u_metallicRoughnessTexture:new o.a8(b),u_normalTexture:new o.a8(b),u_occlusionTexture:new o.a8(b),u_emissionTexture:new o.a8(b),u_lutTexture:new o.a8(b),u_color_mix:new o.at(b),u_aoIntensity:new o.ab(b),u_emissive_strength:new o.ab(b),u_occlusionTextureTransform:new o.at(b)}),modelDepth:b=>({u_matrix:new o.a7(b),u_instance:new o.a7(b),u_node_matrix:new o.a7(b)}),groundShadow:b=>({u_matrix:new o.a7(b),u_ground_shadow_factor:new o.ar(b)}),stars:b=>({u_matrix:new o.a7(b),u_up:new o.ar(b),u_right:new o.ar(b),u_intensity_multiplier:new o.ab(b)}),occlusion:b=>({u_matrix:new o.a7(b),u_anchorPos:new o.ar(b),u_screenSizePx:new o.a9(b),u_occluderSizePx:new o.a9(b),u_color:new o.at(b)})};function Df(b,d,m){const w=d.createTileMatrix(b,b.worldSize,m.toUnwrapped());return o.ae.multiply(new Float32Array(16),b.projMatrix,w)}function TS(b,d,m){if(d.projection.name===m.projection.name)return b.projMatrix;const w=m.clone();return w.setProjection(d.projection),Df(w,d.getProjection(),b)}function H3(b,d,m){return d.name===m.projection.name?b.projMatrix:Df(m,d,b)}let jh;function PS(b,d,m,w,T,C,O){const z=b.context,K=z.gl,q=b.transform,Q=b.getOrCreateProgram("collisionBox"),ie=[];let ce=0,me=0;for(let Fe=0;Fe<w.length;Fe++){const Ye=w[Fe],He=d.getTile(Ye),Ge=He.getBucket(m);if(!Ge)continue;const nt=TS(Ye,Ge,q);let at=nt;T[0]===0&&T[1]===0||(at=b.translatePosMatrix(nt,He,T,C));const pt=O?Ge.textCollisionBox:Ge.iconCollisionBox,ot=Ge.collisionCircleArray;if(ot.length>0){const Xe=o.ae.create(),xt=at;o.ae.mul(Xe,Ge.placementInvProjMatrix,q.glCoordMatrix),o.ae.mul(Xe,Xe,Ge.placementViewportMatrix),ie.push({circleArray:ot,circleOffset:me,transform:xt,invTransform:Xe,projection:Ge.getProjection()}),ce+=ot.length/4,me=ce}pt&&(b.terrain&&b.terrain.setupElevationDraw(He,Q),Q.draw(b,K.LINES,o.af.disabled,o.ah.disabled,b.colorModeForRenderPass(),o.ag.disabled,Nh(at,q,He,Ge.getProjection()),m.id,pt.layoutVertexBuffer,pt.indexBuffer,pt.segments,null,q.zoom,null,[pt.collisionVertexBuffer,pt.collisionVertexBufferExt]))}if(!O||!ie.length)return;const Ee=b.getOrCreateProgram("collisionCircle"),Ae=new o.bN;Ae.resize(4*ce),Ae._trim();let Pe=0;for(const Fe of ie)for(let Ye=0;Ye<Fe.circleArray.length/4;Ye++){const He=4*Ye,Ge=Fe.circleArray[He+0],nt=Fe.circleArray[He+1],at=Fe.circleArray[He+2],pt=Fe.circleArray[He+3];Ae.emplace(Pe++,Ge,nt,at,pt,0),Ae.emplace(Pe++,Ge,nt,at,pt,1),Ae.emplace(Pe++,Ge,nt,at,pt,2),Ae.emplace(Pe++,Ge,nt,at,pt,3)}(!jh||jh.length<2*ce)&&(jh=function(Fe){const Ye=2*Fe,He=new o.bw;He.resize(Ye),He._trim();for(let Ge=0;Ge<Ye;Ge++){const nt=6*Ge;He.uint16[nt+0]=4*Ge+0,He.uint16[nt+1]=4*Ge+1,He.uint16[nt+2]=4*Ge+2,He.uint16[nt+3]=4*Ge+2,He.uint16[nt+4]=4*Ge+3,He.uint16[nt+5]=4*Ge+0}return He}(ce));const Ie=z.createIndexBuffer(jh,!0),Ve=z.createVertexBuffer(Ae,o.bO.members,!0);for(const Fe of ie){const Ye={u_matrix:Fe.transform,u_inv_matrix:Fe.invTransform,u_camera_to_center_distance:(Ue=q).getCameraToCenterDistance(Fe.projection),u_viewport_size:[Ue.width,Ue.height]};Ee.draw(b,K.TRIANGLES,o.af.disabled,o.ah.disabled,b.colorModeForRenderPass(),o.ag.disabled,Ye,m.id,Ve,Ie,o.b.simpleSegment(0,2*Fe.circleOffset,Fe.circleArray.length,Fe.circleArray.length/2),null,q.zoom)}var Ue;Ve.destroy(),Ie.destroy()}const E0=o.ae.create();function CS(b){const d=b._camera.getWorldToCamera(b.worldSize,1),m=o.ae.multiply([],d,b.globeMatrix);o.ae.invert(m,m);const w=[0,0,0],T=[0,1,0,0];return o.aB.transformMat4(T,T,m),w[0]=T[0],w[1]=T[1],w[2]=T[2],o.$.normalize(w,w),w}function IS({width:b,height:d,anchor:m,textOffset:w,textScale:T},C){const{horizontalAlign:O,verticalAlign:z}=o.bS(m),K=-(O-.5)*b,q=-(z-.5)*d,Q=o.bR(m,w);return new o.P((K/T+Q[0])*C,(q/T+Q[1])*C)}function oO(b,d,m,w,T,C,O,z,K,q,Q){const ie=b.text.placedSymbolArray,ce=b.text.dynamicLayoutVertexArray,me=b.icon.dynamicLayoutVertexArray,Ee={},Ae=b.getProjection(),Pe=H3(z,Ae,C),Ie=C.elevation,Ve=Ae.upVectorScale(z.canonical,C.center.lat,C.worldSize).metersToTile;ce.clear();for(let Ue=0;Ue<ie.length;Ue++){const Fe=ie.get(Ue),{tileAnchorX:Ye,tileAnchorY:He,numGlyphs:Ge}=Fe,nt=Fe.hidden||!Fe.crossTileID||b.allowVerticalPlacement&&!Fe.placedOrientation?null:w[Fe.crossTileID];if(nt){let at=0,pt=0,ot=0;if(Ie){const st=Ie?Ie.getAtTileOffset(z,Ye,He):0,[Nt,jt,ar]=Ae.upVector(z.canonical,Ye,He);at=st*Nt*Ve,pt=st*jt*Ve,ot=st*ar*Ve}let[Xe,xt,vt,lt]=Zl(Fe.projectedAnchorX+at,Fe.projectedAnchorY+pt,Fe.projectedAnchorZ+ot,m?Pe:O);const Kt=pn(C.getCameraToCenterDistance(Ae),lt);let zt=T.evaluateSizeForFeature(b.textSizeData,q,Fe)*Kt/o.bP;m&&(zt*=b.tilePixelRatio/K);const ht=IS(nt,zt);m?({x:Xe,y:xt,z:vt}=Ae.projectTilePoint(Ye+ht.x,He+ht.y,z.canonical),[Xe,xt,vt]=Zl(Xe+at,xt+pt,vt+ot,O)):(d&&ht._rotate(-C.angle),Xe+=ht.x,xt+=ht.y,vt=0);const Pt=b.allowVerticalPlacement&&Fe.placedOrientation===o.aF.vertical?Math.PI/2:0;for(let st=0;st<Ge;st++)o.aI(ce,Xe,xt,vt,Pt);Q&&Fe.associatedIconIndex>=0&&(Ee[Fe.associatedIconIndex]={x:Xe,y:xt,z:vt,angle:Pt})}else Mf(Ge,ce)}if(Q){me.clear();const Ue=b.icon.placedSymbolArray;for(let Fe=0;Fe<Ue.length;Fe++){const Ye=Ue.get(Fe),{numGlyphs:He}=Ye,Ge=Ee[Fe];if(Ye.hidden||!Ge)Mf(He,me);else{const{x:nt,y:at,z:pt,angle:ot}=Ge;for(let Xe=0;Xe<He;Xe++)o.aI(me,nt,at,pt,ot)}}b.icon.dynamicLayoutVertexBuffer.updateData(me)}b.text.dynamicLayoutVertexBuffer.updateData(ce)}function A0(b,d,m,w,T,C,O={}){const z=m.paint.get("icon-translate"),K=m.paint.get("text-translate"),q=m.paint.get("icon-translate-anchor"),Q=m.paint.get("text-translate-anchor"),ie=m.layout.get("icon-rotation-alignment"),ce=m.layout.get("text-rotation-alignment"),me=m.layout.get("icon-pitch-alignment"),Ee=m.layout.get("text-pitch-alignment"),Ae=m.layout.get("icon-keep-upright"),Pe=m.layout.get("text-keep-upright"),Ie=m.paint.get("icon-color-saturation"),Ve=m.paint.get("icon-color-contrast"),Ue=m.paint.get("icon-color-brightness-min"),Fe=m.paint.get("icon-color-brightness-max");m.paint.get("icon-occlusion-opacity").constantOr(0),m.paint.get("text-occlusion-opacity").constantOr(0);const Ye=b.context,He=Ye.gl,Ge=b.transform,nt=ie==="map",at=ce==="map",pt=me==="map",ot=Ee==="map",Xe=m.layout.get("symbol-sort-key").constantOr(1)!==void 0;let xt=!1;const vt=b.depthModeForSublayer(0,o.af.ReadOnly),lt=[o.ak(Ge.center.lng),o.al(Ge.center.lat)],Kt=m.layout.get("text-variable-anchor"),zt=Ge.projection.name==="globe",ht=[],Pt=[0,-1,0];for(const st of w){const Nt=d.getTile(st),jt=Nt.getBucket(m);if(!jt||jt.projection.name==="mercator"&&zt||jt.fullyClipped)continue;const ar=jt.projection.name==="globe",lr=ar?o.a2(Ge.zoom):0,vr=H3(st,jt.getProjection(),Ge),cr=Ge.calculatePixelsToTileUnitsMatrix(Nt),Or=Kt&&jt.hasTextData(),en=jt.hasIconTextFit()&&Or&&jt.hasIconData(),Br=jt.getProjection().createInversionMatrix(Ge,st.canonical),nn=Vn=>{Ge.depthOcclusionForSymbolsAndCircles&&(m.hasInitialOcclusionOpacityProperties||b.terrain)&&(Vn.push("DEPTH_D24"),Vn.push("DEPTH_OCCLUSION"))},En=()=>{const Vn=nt&&m.layout.get("symbol-placement")!=="point",yn=[];nn(yn);const Wr=Vn||en,ua=m.paint.get("icon-image-cross-fade").constantOr(0);b.terrainRenderModeElevated()&&pt&&yn.push("PITCH_WITH_MAP_TERRAIN"),ar&&(yn.push("PROJECTION_GLOBE_VIEW"),Wr&&yn.push("PROJECTED_POS_ON_VIEWPORT")),ua>0&&yn.push("ICON_TRANSITION"),jt.icon.zOffsetVertexBuffer&&yn.push("Z_OFFSET"),Ie===0&&Ve===0&&Ue===0&&Fe===1||yn.push("COLOR_ADJUSTMENT");const ca=jt.icon.programConfigurations.get(m.id),To=b.getOrCreateProgram(jt.sdfIcons?"symbolSDF":"symbolIcon",{config:ca,defines:yn});let Po;const co=Nt.imageAtlasTexture?Nt.imageAtlasTexture.size:[0,0],Co=jt.iconSizeData,to=o.aE(Co,Ge.zoom),fo=pt||Ge.pitch!==0,Yt=c0(vr,Nt.tileID.canonical,pt,nt,Ge,jt.getProjection(),cr),br=_v(vr,Nt.tileID.canonical,pt,nt,Ge,jt.getProjection(),cr),Vo=b.translatePosMatrix(br,Nt,z,q,!0),ci=b.translatePosMatrix(vr,Nt,z,q),_t=Wr?E0:Yt,Mc=nt&&!pt&&!Vn;let Jl=Pt;!zt&&!Ge.mercatorFromTransition||nt||(Jl=CS(Ge));const kc=ar?Jl:Pt;if(jt.sdfIcons&&!jt.iconsInText)Po=S0(Co.kind,to,Mc,pt,b,ci,_t,Vo,!1,co,!0,st,lr,lt,Br,kc,jt.getProjection());else{const Vf=m.getColorAdjustmentMatrix(Ie,Ve,Ue,Fe);Po=Fh(Co.kind,to,Mc,pt,b,ci,_t,Vo,!1,co,st,lr,lt,Br,kc,jt.getProjection(),Vf,ua)}const Oc=Nt.imageAtlasTexture?Nt.imageAtlasTexture:null,e_=m.layout.get("icon-size").constantOr(0)!==1||jt.iconsNeedLinear,t_=jt.sdfIcons||b.options.rotating||b.options.zooming||e_||fo?He.LINEAR:He.NEAREST,$d=jt.sdfIcons&&m.paint.get("icon-halo-width").constantOr(1)!==0,vw=b.terrain&&pt&&Vn?o.ae.invert(o.ae.create(),Yt):E0;if(Vn&&jt.icon){const Vf=Ge.elevation,r_=Vf?Vf.getAtTileOffsetFunc(st,Ge.center.lat,Ge.worldSize,jt.getProjection()):null,Qh=vv(vr,Nt.tileID.canonical,pt,nt,Ge,jt.getProjection(),cr);$h(jt,vr,b,!1,Qh,br,pt,Ae,r_,st)}return{program:To,buffers:jt.icon,uniformValues:Po,atlasTexture:Oc,atlasTextureIcon:null,atlasInterpolation:t_,atlasInterpolationIcon:null,isSDF:jt.sdfIcons,hasHalo:$d,tile:Nt,labelPlaneMatrixInv:vw}},xi=()=>{const Vn=at&&m.layout.get("symbol-placement")!=="point",yn=[],Wr=Vn||Kt||en;b.terrainRenderModeElevated()&&ot&&yn.push("PITCH_WITH_MAP_TERRAIN"),ar&&(yn.push("PROJECTION_GLOBE_VIEW"),Wr&&yn.push("PROJECTED_POS_ON_VIEWPORT")),jt.text.zOffsetVertexBuffer&&yn.push("Z_OFFSET"),nn(yn);const ua=jt.text.programConfigurations.get(m.id),ca=b.getOrCreateProgram(jt.iconsInText?"symbolTextAndIcon":"symbolSDF",{config:ua,defines:yn});let To,Po=[0,0],co=null;const Co=jt.textSizeData;jt.iconsInText&&(Po=Nt.imageAtlasTexture?Nt.imageAtlasTexture.size:[0,0],co=Nt.imageAtlasTexture?Nt.imageAtlasTexture:null,To=ot||Ge.pitch!==0||b.options.rotating||b.options.zooming||Co.kind==="composite"||Co.kind==="camera"?He.LINEAR:He.NEAREST);const to=Nt.glyphAtlasTexture?Nt.glyphAtlasTexture.size:[0,0],fo=o.aE(Co,Ge.zoom),Yt=c0(vr,Nt.tileID.canonical,ot,at,Ge,jt.getProjection(),cr),br=_v(vr,Nt.tileID.canonical,ot,at,Ge,jt.getProjection(),cr),Vo=b.translatePosMatrix(br,Nt,K,Q,!0),ci=b.translatePosMatrix(vr,Nt,K,Q),_t=Wr?E0:Yt,Mc=at&&!ot&&!Vn;let Jl=Pt;!zt&&!Ge.mercatorFromTransition||at||(Jl=CS(Ge));const kc=ar?Jl:Pt;let Oc;Oc=jt.iconsInText?U3(Co.kind,fo,Mc,ot,b,ci,_t,Vo,to,Po,st,lr,lt,Br,kc,jt.getProjection()):S0(Co.kind,fo,Mc,ot,b,ci,_t,Vo,!0,to,!0,st,lr,lt,Br,kc,jt.getProjection());const e_=Nt.glyphAtlasTexture?Nt.glyphAtlasTexture:null,t_=He.LINEAR,$d=m.paint.get("text-halo-width").constantOr(1)!==0,vw=b.terrain&&ot&&Vn?o.ae.invert(o.ae.create(),Yt):E0;if(Vn&&jt.text){const Vf=Ge.elevation,r_=Vf?Vf.getAtTileOffsetFunc(st,Ge.center.lat,Ge.worldSize,jt.getProjection()):null,Qh=vv(vr,Nt.tileID.canonical,ot,at,Ge,jt.getProjection(),cr);$h(jt,vr,b,!0,Qh,br,ot,Pe,r_,st)}return{program:ca,buffers:jt.text,uniformValues:Oc,atlasTexture:e_,atlasTextureIcon:co,atlasInterpolation:t_,atlasInterpolationIcon:To,isSDF:!0,hasHalo:$d,tile:Nt,labelPlaneMatrixInv:vw}},ni=jt.icon.segments.get().length,In=jt.text.segments.get().length,ei=ni&&!O.onlyText?En():null,dn=In&&!O.onlyIcons?xi():null,hn=m.paint.get("icon-opacity").constantOr(1),tn=m.paint.get("text-opacity").constantOr(1);if(Xe&&jt.canOverlap){xt=!0;const Vn=hn&&!O.onlyText?jt.icon.segments.get():[],yn=tn&&!O.onlyIcons?jt.text.segments.get():[];for(const Wr of Vn)ht.push({segments:new o.b([Wr]),sortKey:Wr.sortKey,state:ei});for(const Wr of yn)ht.push({segments:new o.b([Wr]),sortKey:Wr.sortKey,state:dn})}else O.onlyText||ht.push({segments:hn?jt.icon.segments:new o.b([]),sortKey:0,state:ei}),O.onlyIcons||ht.push({segments:tn?jt.text.segments:new o.b([]),sortKey:0,state:dn})}xt&&ht.sort((st,Nt)=>st.sortKey-Nt.sortKey);for(const st of ht){const Nt=st.state;if(Nt)if(b.terrain?b.terrain.setupElevationDraw(Nt.tile,Nt.program,{useDepthForOcclusion:Ge.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:Nt.labelPlaneMatrixInv}):b.setupDepthForOcclusion(Ge.depthOcclusionForSymbolsAndCircles,Nt.program),Ye.activeTexture.set(He.TEXTURE0),Nt.atlasTexture&&Nt.atlasTexture.bind(Nt.atlasInterpolation,He.CLAMP_TO_EDGE,!0),Nt.atlasTextureIcon&&(Ye.activeTexture.set(He.TEXTURE1),Nt.atlasTextureIcon&&Nt.atlasTextureIcon.bind(Nt.atlasInterpolationIcon,He.CLAMP_TO_EDGE,!0)),b.uploadCommonLightUniforms(b.context,Nt.program),Nt.hasHalo){const jt=Nt.uniformValues;jt.u_is_halo=1,G3(Nt.buffers,st.segments,m,b,Nt.program,vt,T,C,jt,2),jt.u_is_halo=0}else{if(Nt.isSDF){const jt=Nt.uniformValues;Nt.hasHalo&&(jt.u_is_halo=1,G3(Nt.buffers,st.segments,m,b,Nt.program,vt,T,C,jt,1)),jt.u_is_halo=0}G3(Nt.buffers,st.segments,m,b,Nt.program,vt,T,C,Nt.uniformValues,1)}}}function G3(b,d,m,w,T,C,O,z,K,q){const Q=[b.dynamicLayoutVertexBuffer,b.opacityVertexBuffer,b.iconTransitioningVertexBuffer,b.globeExtVertexBuffer,b.zOffsetVertexBuffer];T.draw(w,w.context.gl.TRIANGLES,C,O,z,o.ag.disabled,K,m.id,b.layoutVertexBuffer,b.indexBuffer,d,m.paint,w.transform.zoom,b.programConfigurations.get(m.id),Q,q)}function T0(b,d,m,w,T,C,O){const z=b.context.gl,K=m.paint.get("fill-pattern"),q=K&&K.constantOr(1);let Q,ie,ce,me,Ee;O?(ie=q&&!m.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Q=z.LINES):(ie=q?"fillPattern":"fill",Q=z.TRIANGLES);for(const Ae of w){const Pe=d.getTile(Ae);if(q&&!Pe.patternsLoaded())continue;const Ie=Pe.getBucket(m);if(!Ie)continue;b.prepareDrawTile();const Ve=Ie.programConfigurations.get(m.id),Ue=b.isTileAffectedByFog(Ae),Fe=b.getOrCreateProgram(ie,{config:Ve,overrideFog:Ue});q&&(b.context.activeTexture.set(z.TEXTURE0),Pe.imageAtlasTexture&&Pe.imageAtlasTexture.bind(z.LINEAR,z.CLAMP_TO_EDGE),Ve.updatePaintBuffers());const Ye=K.constantOr(null);if(Ye&&Pe.imageAtlas){const nt=Pe.imageAtlas.patternPositions[Ye.toString()];nt&&Ve.setConstantPatternPositions(nt)}const He=b.translatePosMatrix(Ae.projMatrix,Pe,m.paint.get("fill-translate"),m.paint.get("fill-translate-anchor")),Ge=m.paint.get("fill-emissive-strength");if(O){me=Ie.indexBuffer2,Ee=Ie.segments2;const nt=b.terrain&&b.terrain.renderingToTexture?b.terrain.drapeBufferSize:[z.drawingBufferWidth,z.drawingBufferHeight];ce=ie==="fillOutlinePattern"&&q?b0(He,Ge,b,Pe,nt):Pv(He,Ge,nt)}else me=Ie.indexBuffer,Ee=Ie.segments,ce=q?Tv(He,Ge,b,Pe):_0(He,Ge);b.uploadCommonUniforms(b.context,Fe,Ae.toUnwrapped()),Fe.draw(b,Q,T,b.stencilModeForClipping(Ae),C,o.ag.disabled,ce,m.id,Ie.layoutVertexBuffer,me,Ee,m.paint,b.transform.zoom,Ve,void 0)}}function Rf(b,d,m,w,T,C,O,z){m.resetLayerRenderingStats(b);const K=b.context,q=K.gl,Q=b.transform,ie=m.paint.get("fill-extrusion-pattern"),ce=ie.constantOr(1),me=m.paint.get("fill-extrusion-opacity"),Ee=b.style.enable3dLights(),Ae=m.paint.get(Ee&&!ce?"fill-extrusion-ambient-occlusion-wall-radius":"fill-extrusion-ambient-occlusion-radius"),Pe=[m.paint.get("fill-extrusion-ambient-occlusion-intensity"),Ae],Ie=m.layout.get("fill-extrusion-edge-radius"),Ve=Ie>0&&!m.paint.get("fill-extrusion-rounded-roof"),Ue=Ve?0:Ie,Fe=Q.projection.name==="globe"?o.b_():0,Ye=Q.projection.name==="globe",He=Ye?o.a2(Q.zoom):0,Ge=[o.ak(Q.center.lng),o.al(Q.center.lat)],nt=m.paint.get("fill-extrusion-flood-light-color").toRenderColor(m.lut).toArray01().slice(0,3),at=m.paint.get("fill-extrusion-flood-light-intensity"),pt=m.paint.get("fill-extrusion-vertical-scale"),ot=m.paint.get("fill-extrusion-line-width").constantOr(1)!==0,Xe=ss(b,m.paint.get("fill-extrusion-cutoff-fade-range")),xt=m.paint.get("fill-extrusion-emissive-strength"),vt=[];Ye&&vt.push("PROJECTION_GLOBE_VIEW"),Pe[0]>0&&vt.push("FAUX_AO"),Ve&&vt.push("ZERO_ROOF_RADIUS"),z&&vt.push("HAS_CENTROID"),at>0&&vt.push("FLOOD_LIGHT"),Xe.shouldRenderCutoff&&vt.push("RENDER_CUTOFF"),ot&&vt.push("RENDER_WALL_MODE");const lt=(()=>{const ar=m.paint.get("fill-extrusion-line-alignment");switch(ar){case"inside":return 1;case"outside":return-1;case"center":return 0;default:return o.w(`Unsupported value for fill-extrusion-line-alignment: ${ar}`),0}})();let Kt;const zt=b.renderPass==="shadow",ht=b.shadowRenderer,Pt=zt&&!!ht;b.shadowRenderer&&(b.shadowRenderer.useNormalOffset=!0);let st=[0,0,0];if(ht){const ar=b.style.directionalLight,lr=b.style.ambientLight;ar&&lr&&(st=h0(b.style,ar,lr)),Kt=vt.concat(["SHADOWS_SINGLE_CASCADE"])}const Nt=Pt?"fillExtrusionDepth":ce?"fillExtrusionPattern":"fillExtrusion",jt=m.getLayerRenderingStats();for(const ar of w){const lr=d.getTile(ar),vr=lr.getBucket(m);if(!vr||vr.projection.name!==Q.projection.name)continue;let cr=!1;ht&&(cr=ht.getMaxCascadeForTile(ar.toUnwrapped())===0);const Or=b.isTileAffectedByFog(ar),en=vr.programConfigurations.get(m.id),Br=b.getOrCreateProgram(Nt,{config:en,defines:cr?Kt:vt,overrideFog:Or});if(b.terrain&&b.terrain.setupElevationDraw(lr,Br,{useMeterToDem:!0}),!vr.centroidVertexBuffer){const dn=Br.attributes.a_centroid_pos;dn!==void 0&&q.vertexAttrib2f(dn,0,0)}!zt&&ht&&ht.setupShadows(lr.tileID.toUnwrapped(),Br,"vector-tile",lr.tileID.overscaledZ),ce&&(b.context.activeTexture.set(q.TEXTURE0),lr.imageAtlasTexture&&lr.imageAtlasTexture.bind(q.LINEAR,q.CLAMP_TO_EDGE),en.updatePaintBuffers());const nn=ie.constantOr(null);if(nn&&lr.imageAtlas){const dn=lr.imageAtlas.patternPositions[nn.toString()];dn&&en.setConstantPatternPositions(dn)}const En=m.paint.get("fill-extrusion-vertical-gradient"),xi=1/vr.tileToMeter;let ni;if(zt&&ht){if(Du(lr.tileID,vr,b))continue;const dn=ht.calculateShadowPassMatrixFromTile(lr.tileID.toUnwrapped());ni=Av(dn,Ue,lt,xi,pt)}else{const dn=b.translatePosMatrix(ar.expandedProjMatrix,lr,m.paint.get("fill-extrusion-translate"),m.paint.get("fill-extrusion-translate-anchor")),hn=Q.projection.createInversionMatrix(Q,ar.canonical);ni=ce?xS(dn,b,En,me,Pe,Ue,lt,xi,ar,lr,Fe,He,Ge,hn,nt,pt):ku(dn,b,En,me,Pe,Ue,lt,xi,ar,Fe,He,Ge,hn,nt,pt,at,st,xt)}b.uploadCommonUniforms(K,Br,ar.toUnwrapped(),null,Xe);let In=vr.segments;if(Q.projection.name==="mercator"&&!zt&&(In=vr.getVisibleSegments(lr.tileID,b.terrain,b.transform.getFrustum(0)),!In.get().length))continue;if(jt)if(zt)for(const dn of In.get())jt.numRenderedVerticesInShadowPass+=dn.primitiveLength;else for(const dn of In.get())jt.numRenderedVerticesInTransparentPass+=dn.primitiveLength;const ei=[];(b.terrain||z)&&ei.push(vr.centroidVertexBuffer),Ye&&ei.push(vr.layoutVertexExtBuffer),ot&&ei.push(vr.wallVertexBuffer),Br.draw(b,K.gl.TRIANGLES,T,C,O,o.ag.backCCW,ni,m.id,vr.layoutVertexBuffer,vr.indexBuffer,In,m.paint,b.transform.zoom,en,ei)}b.shadowRenderer&&(b.shadowRenderer.useNormalOffset=!1)}function Vh(b,d,m,w,T,C,O,z,K,q,Q,ie,ce,me,Ee,Ae,Pe,Ie,Ve){const Ue=b.context,Fe=Ue.gl,Ye=b.transform,He=b.transform.zoom,Ge=[],nt=ss(b,m.paint.get("fill-extrusion-cutoff-fade-range"));q==="clear"?(Ge.push("CLEAR_SUBPASS"),Ve&&(Ge.push("CLEAR_FROM_TEXTURE"),Ue.activeTexture.set(Fe.TEXTURE0),Ve.bind(Fe.LINEAR,Fe.CLAMP_TO_EDGE))):q==="sdf"&&Ge.push("SDF_SUBPASS"),Pe&&Ge.push("HAS_CENTROID"),nt.shouldRenderCutoff&&Ge.push("RENDER_CUTOFF");const at=m.layout.get("fill-extrusion-edge-radius"),pt=(ot,Xe,xt,vt,lt)=>{const Kt=Xe.programConfigurations.get(m.id),zt=b.isTileAffectedByFog(ot),ht=b.getOrCreateProgram("fillExtrusionGroundEffect",{config:Kt,defines:Ge,overrideFog:zt}),Pt=((Nt,jt,ar,lr,vr,cr,Or,en,Br,nn,En)=>({u_matrix:jt,u_opacity:ar,u_ao_pass:lr?1:0,u_meter_to_tile:vr,u_ao:cr,u_flood_light_intensity:Or,u_flood_light_color:en,u_attenuation:Br,u_edge_radius:nn,u_fb:0,u_fb_size:En}))(0,vt,Q,K,lt,[ie,ce*lt],me,Ee,Ae,He>=17?0:at*lt,Ve?Ve.size[0]:0),st=[];Pe&&st.push(Xe.hiddenByLandmarkVertexBuffer),b.uploadCommonUniforms(Ue,ht,ot.toUnwrapped(),null,nt),ht.draw(b,Ue.gl.TRIANGLES,T,C,O,z,Pt,m.id,Xe.vertexBuffer,Xe.indexBuffer,xt,m.paint,He,Kt,st)};for(const ot of w){const Xe=d.getTile(ot),xt=Xe.getBucket(m);if(!xt||xt.projection.name!==Ye.projection.name||!xt.groundEffect||xt.groundEffect&&!xt.groundEffect.hasData())continue;const vt=xt.groundEffect,lt=1/xt.tileToMeter;{const Kt=b.translatePosMatrix(ot.projMatrix,Xe,m.paint.get("fill-extrusion-translate"),m.paint.get("fill-extrusion-translate-anchor")),zt=vt.getDefaultSegment();pt(ot,vt,zt,Kt,lt)}if(Ie)for(let Kt=0;Kt<4;Kt++){const zt=o.b$[Kt](ot),ht=d.getTile(zt);if(!ht)continue;const Pt=ht.getBucket(m);if(!Pt||Pt.projection.name!==Ye.projection.name||!Pt.groundEffect||Pt.groundEffect&&!Pt.groundEffect.hasData())continue;const st=Pt.groundEffect;let Nt,jt;Kt===0?(Nt=[-o.a4,0,0],jt=1):Kt===1?(Nt=[o.a4,0,0],jt=0):Kt===2?(Nt=[0,-o.a4,0],jt=3):(Nt=[0,o.a4,0],jt=2);const ar=st.regionSegments[jt];if(!ar)continue;const lr=new Float32Array(16);o.ae.translate(lr,ot.projMatrix,Nt),pt(ot,st,ar,b.translatePosMatrix(lr,Xe,m.paint.get("fill-extrusion-translate"),m.paint.get("fill-extrusion-translate-anchor")),lt)}}}function sO(b,d,m,w,T,C,O){w.centroidVertexArray.length===0&&w.createCentroidsBuffer();const z=C?C.findDEMTileFor(m):null;if(!(z&&z.dem||O))return;const K=Ie=>new o.P(Math.ceil((Ie+o.c2)*o.c3),0),q=Ie=>{const Ve=d.getSource().minzoom,Ue=Ye=>{const He=d.getTileByID(Ye);if(He&&He.hasData())return He.getBucket(T)},Fe=[0,-1,1];for(const Ye of Fe){if(Ie.overscaledZ+Ye<Ve)continue;const He=Ue(Ie.calculateScaledKey(Ie.overscaledZ+Ye));if(He)return He}},Q=[0,0,0],ie=(Ie,Ve)=>(Q[0]=Math.min(Ie.min.y,Ve.min.y),Q[1]=Math.max(Ie.max.y,Ve.max.y),Q[2]=o.a4-Ve.min.x>Ie.max.x?Ve.min.x-o.a4:Ie.max.x,Q),ce=(Ie,Ve)=>(Q[0]=Math.min(Ie.min.x,Ve.min.x),Q[1]=Math.max(Ie.max.x,Ve.max.x),Q[2]=o.a4-Ve.min.y>Ie.max.y?Ve.min.y-o.a4:Ie.max.y,Q),me=[(Ie,Ve)=>ie(Ie,Ve),(Ie,Ve)=>ie(Ve,Ie),(Ie,Ve)=>ce(Ie,Ve),(Ie,Ve)=>ce(Ve,Ie)],Ee=(Ie,Ve,Ue,Fe,Ye,He,Ge)=>{if(!C)return 0;const nt=[[He?Ue:Ie,He?Ie:Ue,0],[He?Ue:Ve,He?Ve:Ue,0]],at=Ge<0?o.a4+Ge:Ge,pt=[He?at:(Ie+Ve)/2,He?(Ie+Ve)/2:at,0];return Ue===0&&Ge<0||Ue!==0&&Ge>0?C.getForTilePoints(Ye,[pt],!0,Fe):nt.push(pt),C.getForTilePoints(m,nt,!0,z),Math.max(nt[0][2],nt[1][2],pt[2])/C.exaggeration()};for(let Ie=0;Ie<4;Ie++){const Ve=w.borderFeatureIndices[Ie];if(Ve.length===0)continue;const Ue=o.b$[Ie](m),Fe=q(Ue);if(!(Fe&&Fe instanceof o.c0)||w.borderDoneWithNeighborZ[Ie]===Fe.canonical.z)continue;Fe.centroidVertexArray.length===0&&Fe.createCentroidsBuffer();const Ye=C?C.findDEMTileFor(Ue):null;if(!(Ye&&Ye.dem||O))continue;const He=(Ie<2?1:5)-Ie,Ge=Fe.borderDoneWithNeighborZ[He]!==w.canonical.z,nt=Fe.borderFeatureIndices[He];let at=0;if(w.canonical.z!==Fe.canonical.z){for(const pt of Ve)w.showCentroid(w.featuresOnBorder[pt]);if(Ge)for(const pt of nt)Fe.showCentroid(Fe.featuresOnBorder[pt]);w.borderDoneWithNeighborZ[Ie]=Fe.canonical.z,Fe.borderDoneWithNeighborZ[He]=w.canonical.z}for(const pt of Ve){const ot=w.featuresOnBorder[pt],Xe=w.centroidData[ot.centroidDataIndex],xt=ot.borders[Ie];let vt;for(;at<nt.length;){vt=Fe.featuresOnBorder[nt[at]];const lt=vt.borders[He];if(lt[1]>xt[0]+3||lt[0]>xt[0]-3)break;Fe.showCentroid(vt),at++}if(vt&&at<nt.length){const lt=at;let Kt=0;for(;!(vt.borders[He][0]>xt[1]-3)&&(Kt++,++at!==nt.length);)vt=Fe.featuresOnBorder[nt[at]];if(vt=Fe.featuresOnBorder[nt[lt]],Kt>1){const Pt=vt.borders[He];Math.abs(xt[0]-Pt[0])<3&&Math.abs(xt[1]-Pt[1])<3&&(Kt=1,at=lt+1)}else if(Kt===0){w.showCentroid(ot);continue}const zt=Fe.centroidData[vt.centroidDataIndex];O&&Kt===1&&(((Ae=Xe).flags|(Pe=zt).flags)&o.c1?(Ae.flags|=o.c1,Pe.flags|=o.c1):(Ae.flags&=~o.c1,Pe.flags&=~o.c1));const ht=ot.intersectsCount()>1||vt.intersectsCount()>1;if(Kt>1)at=lt,Xe.centroidXY=zt.centroidXY=new o.P(0,0);else if(Ye&&Ye.dem&&!ht){const Pt=me[Ie](Xe,zt),st=Ie%2?o.a4-1:0,Nt=Ee(Pt[0],Math.min(o.a4-1,Pt[1]),st,Ye,Ue,Ie<2,Pt[2]);Xe.centroidXY=zt.centroidXY=K(Nt)}else ht?Xe.centroidXY=zt.centroidXY=new o.P(0,0):(Xe.centroidXY=w.encodeBorderCentroid(ot),zt.centroidXY=Fe.encodeBorderCentroid(vt));w.writeCentroidToBuffer(Xe),Fe.writeCentroidToBuffer(zt)}else w.showCentroid(ot)}w.borderDoneWithNeighborZ[Ie]=Fe.canonical.z,Fe.borderDoneWithNeighborZ[He]=w.canonical.z}var Ae,Pe;(w.needsCentroidUpdate||!w.centroidVertexBuffer&&w.centroidVertexArray.length!==0)&&w.uploadCentroid(b)}const MS=[1,0,0],lO=[0,1,0],Mv=[0,0,1];function Du(b,d,m){const w=m.transform,T=m.shadowRenderer;if(!T)return!0;const C=b.toUnwrapped(),O=w.tileSize*T._cascades[m.currentShadowCascade].scale;let z=d.maxHeight;if(w.elevation){const Ae=w.elevation.getMinMaxForTile(b);Ae&&(z+=Ae.max)}const K=[...T.shadowDirection];K[2]=-K[2];const q=T.computeSimplifiedTileShadowVolume(C,z,O,K);if(!q)return!1;const Q=[MS,lO,Mv,K,[K[0],0,K[2]],[0,K[1],K[2]]],ie=w.projection.name==="globe",ce=w.scaleZoom(O),me=o.aM.fromInvProjectionMatrix(w.invProjMatrix,w.worldSize,ce,!ie),Ee=T.getCurrentCascadeFrustum();return me.intersectsPrecise(q.vertices,q.planes,Q)===0||Ee.intersectsPrecise(q.vertices,q.planes,Q)===0}function P0(b){return[b[0]*o.c4,b[1]*o.c4,b[2]*o.c4,0]}function kv(b,d,m,w,T,C,O,z,K){const q=w.getSource(),Q=m.globeSharedBuffers;if(!Q)return;let ie,ce,me;if(d&&(ie=w.getTile(d)),q instanceof o.bo?(ce=q.texture,me=o.bj(0,0,m.transform)):ie&&d&&(ce=ie.texture,me=o.bj(d.canonical.z,d.canonical.x,m.transform)),!ce||!me)return;b||(me=o.ae.scale(o.ae.create(),me,[1,-1,1]));const Ee=m.context,Ae=Ee.gl,Pe=T.paint.get("raster-resampling")==="nearest"?Ae.NEAREST:Ae.LINEAR,Ie=m.colorModeForDrapableLayerRenderPass(C),Ve=O.defines;Ve.push("GLOBE_POLES");const Ue=new o.af(Ae.LEQUAL,o.af.ReadWrite,m.depthRangeFor3D),Fe=Float32Array.from(m.transform.expandedFarZProjMatrix),Ye=Float32Array.from(o.bh(o.bi(new o.aO(0,0,0))));m.terrain&&m.terrain.prepareDrawTile(),Ee.activeTexture.set(Ae.TEXTURE0),ce.bind(Pe,Ae.CLAMP_TO_EDGE),Ee.activeTexture.set(Ae.TEXTURE1),ce.bind(Pe,Ae.CLAMP_TO_EDGE),ce.useMipmap&&Ee.extTextureFilterAnisotropic&&m.transform.pitch>20&&Ae.texParameterf(Ae.TEXTURE_2D,Ee.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ee.extTextureFilterAnisotropicMax);const[He,Ge,nt,at]=d?Q.getPoleBuffers(d.canonical.z,!1):Q.getPoleBuffers(0,!0),pt=T.paint.get("raster-elevation");let ot;b?(ot=He,m.renderDefaultNorthPole=pt!==0):(ot=Ge,m.renderDefaultSouthPole=pt!==0);const Xe=P0(O.mix),xt=((lt,Kt,zt,ht,Pt,st,Nt,jt,ar,lr,vr,cr,Or)=>Iv(lt,Kt,zt,new Float32Array(16),new Float32Array(9),[0,0],ht,[0,0],[0,0,0,0],1,{opacity:1,mix:0},st,[0,0],jt,2,lr,vr,cr,1,0,Or))(Fe,Ye,me,o.a2(m.transform.zoom),0,T,0,pt,0,Xe,O.offset,O.range,C),vt=m.getOrCreateProgram("raster",{defines:Ve});m.uploadCommonUniforms(Ee,vt,null),vt.draw(m,Ae.TRIANGLES,Ue,K,Ie,z,xt,T.id,ot,nt,at)}function q3(b){const d=b._nearZ,m=b.projection.farthestPixelDistance(b),w=m-d,T=.2*b.height,C=d+T;return[d,m,(C-T-d)/w,(C-d)/w]}function $f(b,d,m,w){if(b)return d instanceof Id&&b instanceof o.c5?d.getTextureDescriptor(b,m,!0):{texture:b.texture,mix:P0(w.mix),offset:w.offset,buffer:0,tileSize:1}}function kS(b,d,m){if(!b)return null;const w=d.getTextureDescriptor(b,m,!0);if(!w)return null;let{texture:T,mix:C,offset:O,tileSize:z,buffer:K,format:q}=w;if(!T||!q)return null;let Q=!1;return q==="uint32"&&(Q=!0,C[3]=0,C=j3(o.c6,C,[0,m.paint.get("raster-particle-max-speed")]),O=x0(o.c6,O,[0,m.paint.get("raster-particle-max-speed")])),{texture:T,textureOffset:[K/(z+2*K),z/(z+2*K)],tileSize:z,scalarData:Q,scale:C,offset:O,defines:["RASTER_ARRAY",{uint8:"DATA_FORMAT_UINT8",uint16:"DATA_FORMAT_UINT16",uint32:"DATA_FORMAT_UINT32"}[q]]}}function Ov(b){const d=b._nearZ,m=b.projection.farthestPixelDistance(b),w=m-d,T=.2*b.height,C=d+T;return[d,m,(C-T-d)/w,(C-d)/w]}const Z3=new o.C(1,0,0,1),Dv=new o.C(0,1,0,1),X3=new o.C(0,0,1,1),Hn=new o.C(1,0,1,1),uO=new o.C(0,1,1,1);function Rr(b,d,m,w,T,C,O){const z=b.context,K=b.transform,q=z.gl,Q=K.projection.name==="globe",ie=Q?["PROJECTION_GLOBE_VIEW"]:[];let ce=o.ae.clone(m.projMatrix);if(Q&&o.a2(K.zoom)>0){const Xe=o.c7(m.canonical,K),xt=o.c8(Xe);ce=o.ae.multiply(new Float32Array(16),K.globeMatrix,xt),o.ae.multiply(ce,K.projMatrix,ce)}const me=o.ae.create();me[12]+=2*T/(o.e.devicePixelRatio*K.width),me[13]+=2*C/(o.e.devicePixelRatio*K.height),o.ae.multiply(ce,me,ce);const Ee=b.getOrCreateProgram("debug",{defines:ie}),Ae=d.getTileByID(m.key);b.terrain&&b.terrain.setupElevationDraw(Ae,Ee);const Pe=o.af.disabled,Ie=o.ah.disabled,Ve=b.colorModeForRenderPass(),Ue="$debug";z.activeTexture.set(q.TEXTURE0),b.emptyTexture.bind(q.LINEAR,q.CLAMP_TO_EDGE),Q?Ae._makeGlobeTileDebugBuffers(b.context,K):Ae._makeDebugTileBoundsBuffers(b.context,K.projection);const Fe=Ae._tileDebugBuffer||b.debugBuffer,Ye=Ae._tileDebugIndexBuffer||b.debugIndexBuffer,He=Ae._tileDebugSegments||b.debugSegments;if(Ee.draw(b,q.LINE_STRIP,Pe,Ie,Ve,o.ag.disabled,Cv(ce,w),Ue,Fe,Ye,He,null,null,null,[Ae._globeTileDebugBorderBuffer]),O){const Xe=Ae.latestRawTileData,xt=Math.floor((Xe&&Xe.byteLength||0)/1024);let vt=m.canonical.toString();m.overscaledZ!==m.canonical.z&&(vt+=` => ${m.overscaledZ}`),vt+=` ${Ae.state}`,vt+=` ${xt}kb`,function(lt,Kt){lt.initDebugOverlayCanvas();const zt=lt.debugOverlayCanvas,ht=lt.context.gl,Pt=lt.debugOverlayCanvas.getContext("2d");Pt.clearRect(0,0,zt.width,zt.height),Pt.shadowColor="white",Pt.shadowBlur=2,Pt.lineWidth=1.5,Pt.strokeStyle="white",Pt.textBaseline="top",Pt.font="bold 36px Open Sans, sans-serif",Pt.fillText(Kt,5,5),Pt.strokeText(Kt,5,5),lt.debugOverlayTexture.update(zt),lt.debugOverlayTexture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE)}(b,vt)}const Ge=d.getTile(m).tileSize,nt=512/Math.min(Ge,512)*(m.overscaledZ/K.zoom)*.5,at=Ae._tileDebugTextBuffer||b.debugBuffer,pt=Ae._tileDebugTextIndexBuffer||b.quadTriangleIndexBuffer,ot=Ae._tileDebugTextSegments||b.debugSegments;Ee.draw(b,q.TRIANGLES,Pe,Ie,o.a.alphaBlended,o.ag.disabled,Cv(ce,o.C.transparent,nt),Ue,at,pt,ot,null,null,null,[Ae._globeTileDebugTextBuffer])}function Y3(b,d,m,w){Uh(b,0,d+m/2,b.transform.width,m,w)}function C0(b,d,m,w){Uh(b,d-m/2,0,m,b.transform.height,w)}function Uh(b,d,m,w,T,C){const O=b.context,z=O.gl;z.enable(z.SCISSOR_TEST),z.scissor(d*o.e.devicePixelRatio,m*o.e.devicePixelRatio,w*o.e.devicePixelRatio,T*o.e.devicePixelRatio),O.clear({color:C}),z.disable(z.SCISSOR_TEST)}const Ru=o.c9([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:J3}=Ru;function Gs(b,d,m,w){b.emplaceBack(d,m,w)}class mr{constructor(d){this.vertexArray=new o.ca,this.indices=new o.bw,Gs(this.vertexArray,-1,-1,1),Gs(this.vertexArray,1,-1,1),Gs(this.vertexArray,-1,1,1),Gs(this.vertexArray,1,1,1),Gs(this.vertexArray,-1,-1,-1),Gs(this.vertexArray,1,-1,-1),Gs(this.vertexArray,-1,1,-1),Gs(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=d.createVertexBuffer(this.vertexArray,J3),this.indexBuffer=d.createIndexBuffer(this.indices),this.segment=o.b.simpleSegment(0,0,36,12)}}function Dn(b,d,m,w,T,C){const O=b.context.gl,z=d.paint.get("sky-atmosphere-color"),K=d.paint.get("sky-atmosphere-halo-color"),q=d.paint.get("sky-atmosphere-sun-intensity"),Q=((ie,ce,me,Ee,Ae)=>({u_matrix_3f:ie,u_sun_direction:ce,u_sun_intensity:me,u_color_tint_r:[Ee.r,Ee.g,Ee.b,Ee.a],u_color_tint_m:[Ae.r,Ae.g,Ae.b,Ae.a],u_luminance:5e-5}))(o.bE.fromMat4(o.bE.create(),w),T,q,z,K);O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_CUBE_MAP_POSITIVE_X+C,d.skyboxTexture,0),m.draw(b,O.TRIANGLES,o.af.disabled,o.ah.disabled,o.a.unblended,o.ag.frontCW,Q,"skyboxCapture",d.skyboxGeometry.vertexBuffer,d.skyboxGeometry.indexBuffer,d.skyboxGeometry.segment)}const qn=o.c9([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class El{constructor(d){const m=new o.cb;m.emplaceBack(-1,1,1,0,0),m.emplaceBack(1,1,1,1,0),m.emplaceBack(1,-1,1,1,1),m.emplaceBack(-1,-1,1,0,1);const w=new o.bw;w.emplaceBack(0,1,2),w.emplaceBack(2,3,0),this.vertexBuffer=d.createVertexBuffer(m,qn.members),this.indexBuffer=d.createIndexBuffer(w),this.segments=o.b.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Wh=o.c9([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_size_scale",components:1},{type:"Float32",name:"a_fade_opacity",components:1}]);class Un{constructor(){this.starsCount=16e3,this.sizeMultiplier=.15,this.sizeRange=100,this.intensityRange=200}}class Rv{constructor(d){this.colorModeAlphaBlendedWriteRGB=new o.a([o.cc,o.cd,o.cc,o.cd],o.C.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new o.a([o.cc,o.ce,o.cc,o.ce],o.C.transparent,[!1,!1,!1,!0]),this.params=new Un,this.updateNeeded=!0,d.tp.registerParameter(this.params,["Stars"],"starsCount",{min:100,max:16e3,step:1},()=>{this.updateNeeded=!0}),d.tp.registerParameter(this.params,["Stars"],"sizeMultiplier",{min:.01,max:2,step:.01}),d.tp.registerParameter(this.params,["Stars"],"sizeRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0}),d.tp.registerParameter(this.params,["Stars"],"intensityRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0})}update(d){const m=d.context;if(!this.atmosphereBuffer||this.updateNeeded){this.updateNeeded=!1,this.atmosphereBuffer=new El(m);const w=this.params.sizeRange,T=this.params.intensityRange,C=function(Q){const ie=o.ch(30),ce=[];for(let me=0;me<Q;++me){const Ee=2*Math.PI*ie(),Ae=Math.acos(1-2*ie())-.5*Math.PI;ce.push(o.$.fromValues(Math.cos(Ae)*Math.cos(Ee),Math.cos(Ae)*Math.sin(Ee),Math.sin(Ae)))}return ce}(this.params.starsCount),O=o.ch(300),z=new o.cf,K=new o.bw;let q=0;for(let Q=0;Q<C.length;++Q){const ie=o.$.scale([],C[Q],200),ce=Math.max(0,1+.01*w*(1*O()-.5)),me=Math.max(0,1+.01*T*(1*O()-.5));z.emplaceBack(ie[0],ie[1],ie[2],-1,-1,ce,me),z.emplaceBack(ie[0],ie[1],ie[2],1,-1,ce,me),z.emplaceBack(ie[0],ie[1],ie[2],1,1,ce,me),z.emplaceBack(ie[0],ie[1],ie[2],-1,1,ce,me),K.emplaceBack(q+0,q+1,q+2),K.emplaceBack(q+0,q+2,q+3),q+=4}this.starsVx=m.createVertexBuffer(z,Wh.members),this.starsIdx=m.createIndexBuffer(K),this.starsSegments=o.b.simpleSegment(0,0,z.length,K.length)}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy()}drawAtmosphereGlow(d,m){const w=d.context,T=w.gl,C=d.transform,O=new o.af(T.LEQUAL,o.af.ReadOnly,[0,1]),z=o.a2(C.zoom),K=d.style.getLut(m.scope),q=m.properties.get("color").toRenderColor(K).toArray01(),Q=m.properties.get("high-color").toRenderColor(K).toArray01(),ie=m.properties.get("space-color").toRenderColor(K).toArray01PremultipliedAlpha(),ce=5e-4,me=o.cg(m.properties.get("horizon-blend"),0,1,ce,.25),Ee=o.bc(d,w,C)&&me===ce?C.worldSize/(2*Math.PI*1.025)-1:C.globeRadius,Ae=d.frameCounter/1e3%1,Pe=o.$.length(C.globeCenterInViewSpace),Ie=Math.sqrt(Math.pow(Pe,2)-Math.pow(Ee,2)),Ve=Math.acos(Ie/Pe),Ue=Fe=>{const Ye=C.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"];Fe&&Ye.push("ALPHA_PASS");const He=d.getOrCreateProgram("globeAtmosphere",{defines:Ye}),Ge=((at,pt,ot,Xe,xt,vt,lt,Kt,zt,ht,Pt,st)=>({u_frustum_tl:at,u_frustum_tr:pt,u_frustum_br:ot,u_frustum_bl:Xe,u_horizon:xt,u_transition:vt,u_fadeout_range:lt,u_color:Kt,u_high_color:zt,u_space_color:ht,u_temporal_offset:Pt,u_horizon_angle:st}))(C.frustumCorners.TL,C.frustumCorners.TR,C.frustumCorners.BR,C.frustumCorners.BL,C.frustumCorners.horizon,z,me,q,Q,ie,Ae,Ve);d.uploadCommonUniforms(w,He);const nt=this.atmosphereBuffer;nt&&He.draw(d,T.TRIANGLES,O,o.ah.disabled,Fe?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,o.ag.backCW,Ge,Fe?"atmosphere_glow_alpha":"atmosphere_glow",nt.vertexBuffer,nt.indexBuffer,nt.segments)};Ue(!1),Ue(!0)}drawStars(d,m){const w=o.au(m.properties.get("star-intensity"),0,1);if(w===0)return;const T=d.context,C=T.gl,O=d.transform,z=d.getOrCreateProgram("stars"),K=o.aw.identity([]);o.aw.rotateX(K,K,-O._pitch),o.aw.rotateZ(K,K,-O.angle),o.aw.rotateX(K,K,o.ac(O._center.lat)),o.aw.rotateY(K,K,-o.ac(O._center.lng));const q=o.ae.fromQuat(new Float32Array(16),K),Q=o.ae.multiply([],O.starsProjMatrix,q),ie=o.bE.fromMat4([],q),ce=o.bE.invert([],ie),me=[0,1,0];o.$.transformMat3(me,me,ce),o.$.scale(me,me,this.params.sizeMultiplier);const Ee=[1,0,0];o.$.transformMat3(Ee,Ee,ce),o.$.scale(Ee,Ee,this.params.sizeMultiplier);const Ae=(Pe=me,Ie=Ee,Ve=w,{u_matrix:Float32Array.from(Q),u_up:Pe,u_right:Ie,u_intensity_multiplier:Ve});var Pe,Ie,Ve;d.uploadCommonUniforms(T,z),this.starsVx&&this.starsIdx&&z.draw(d,C.TRIANGLES,o.af.disabled,o.ah.disabled,this.colorModeAlphaBlendedWriteRGB,o.ag.disabled,Ae,"atmosphere_stars",this.starsVx,this.starsIdx,this.starsSegments)}}function Kh(b,d){const m=[...b],w=d.cameraWorldSizeForFog/d.worldSize,T=o.ae.identity([]);return o.ae.scale(T,T,[w,w,1]),o.ae.multiply(m,T,m),o.ae.multiply(m,d.worldToFogMatrix,m),m}function Lf(b,d,m,w,T){const C=m.material,O=w.context,{baseColorTexture:z,metallicRoughnessTexture:K}=C.pbrMetallicRoughness,{normalTexture:q,occlusionTexture:Q,emissionTexture:ie}=C;function ce(me,Ee,Ae){if(me&&(b.push(Ee),O.activeTexture.set(O.gl.TEXTURE0+Ae),me.gfxTexture)){const{minFilter:Pe,magFilter:Ie,wrapS:Ve,wrapT:Ue}=me.sampler;me.gfxTexture.bindExtraParam(Pe,Ie,Ve,Ue)}}ce(z,"HAS_TEXTURE_u_baseColorTexture",xo.BaseColor),ce(K,"HAS_TEXTURE_u_metallicRoughnessTexture",xo.MetallicRoughness),ce(q,"HAS_TEXTURE_u_normalTexture",xo.Normal),ce(Q,"HAS_TEXTURE_u_occlusionTexture",xo.Occlusion),ce(ie,"HAS_TEXTURE_u_emissionTexture",xo.Emission),T&&(T.texture||(T.texture=new o.cj(w.context,T.image,[T.image.height,T.image.height,T.image.height],O.gl.RGBA)),O.activeTexture.set(O.gl.TEXTURE0+xo.LUT),T.texture&&T.texture.bind(O.gl.LINEAR,O.gl.CLAMP_TO_EDGE),b.push("APPLY_LUT_ON_GPU")),m.texcoordBuffer&&(b.push("HAS_ATTRIBUTE_a_uv_2f"),d.push(m.texcoordBuffer)),m.colorBuffer&&(b.push(m.colorBuffer.itemSize===12?"HAS_ATTRIBUTE_a_color_3f":"HAS_ATTRIBUTE_a_color_4f"),d.push(m.colorBuffer)),m.normalBuffer&&(b.push("HAS_ATTRIBUTE_a_normal_3f"),d.push(m.normalBuffer)),m.pbrBuffer&&(b.push("HAS_ATTRIBUTE_a_pbr"),b.push("HAS_ATTRIBUTE_a_heightBasedEmissiveStrength"),d.push(m.pbrBuffer)),C.alphaMode!=="OPAQUE"&&C.alphaMode!=="MASK"||b.push("UNPREMULT_TEXTURE_IN_SHADER"),C.defined||b.push("DIFFUSE_SHADED"),b.push("USE_STANDARD_DERIVATIVES")}function Eo(b,d,m,w,T,C){const O=m.paint.get("model-opacity"),z=d.context,K=new o.af(d.context.gl.LEQUAL,o.af.ReadWrite,d.depthRangeFor3D),q=d.transform,Q=b.mesh,ie=Q.material,ce=ie.pbrMetallicRoughness,me=d.style.fog;let Ee;Ee=d.transform.projection.zAxisUnit==="pixels"?[...b.nodeModelMatrix]:o.ae.multiply([],w.zScaleMatrix,b.nodeModelMatrix),o.ae.multiply(Ee,w.negCameraPosMatrix,Ee);const Ae=o.ae.invert([],Ee);o.ae.transpose(Ae,Ae);const Pe=m.paint.get("model-emissive-strength").constantOr(0),Ie=Of(new Float32Array(b.worldViewProjection),new Float32Array(Ee),new Float32Array(Ae),null,d,O,ce.baseColorFactor.toRenderColor(null),ie.emissiveFactor,ce.metallicFactor,ce.roughnessFactor,ie,Pe,m),Ve={defines:[]},Ue=[];Lf(Ve.defines,Ue,Q,d,m.lut);const Fe=d.shadowRenderer;Fe&&(Fe.useNormalOffset=!1);let Ye=null;if(me){const nt=Kh(b.nodeModelMatrix,d.transform);if(Ye=new Float32Array(nt),q.projection.name!=="globe"){const at=Q.aabb.min,pt=Q.aabb.max,[ot,Xe]=me.getOpacityForBounds(nt,at[0],at[1],pt[0],pt[1]);Ve.overrideFog=ot>=Cn||Xe>=Cn}}const He=ss(d,m.paint.get("model-cutoff-fade-range"));He.shouldRenderCutoff&&Ve.defines.push("RENDER_CUTOFF");const Ge=d.getOrCreateProgram("model",Ve);d.uploadCommonUniforms(z,Ge,null,Ye,He),d.renderPass!=="shadow"&&Fe&&Fe.setupShadowsFromMatrix(b.nodeModelMatrix,Ge),Ge.draw(d,z.gl.TRIANGLES,K,T,C,Q.material.doubleSided?o.ag.disabled:o.ag.backCCW,Ie,m.id,Q.vertexBuffer,Q.indexBuffer,Q.segments,m.paint,d.transform.zoom,void 0,Ue)}function na(b,d,m,w,T,C,O){let z;z=b.projection.name==="globe"?o.ck(m,b):[...m],o.ae.multiply(z,z,d.matrix);const K=o.ae.multiply([],w,z);if(d.meshes)for(const q of d.meshes){if(q.material.alphaMode!=="BLEND"){O.push({mesh:q,depth:0,modelIndex:T,worldViewProjection:K,nodeModelMatrix:z});continue}const Q=o.$.transformMat4([],q.centroid,K);Q[2]>0&&C.push({mesh:q,depth:Q[2],modelIndex:T,worldViewProjection:K,nodeModelMatrix:z})}if(d.children)for(const q of d.children)na(b,q,m,w,T,C,O)}function Q3(b,d,m,w){const T=m.shadowRenderer;if(!T)return;const C=T.getShadowPassDepthMode(),O=T.getShadowPassColorMode(),z=T.calculateShadowPassMatrixFromMatrix(d),K=K3(z);m.getOrCreateProgram("modelDepth",{defines:m._shadowMapDebug?[]:["DEPTH_TEXTURE"]}).draw(m,m.context.gl.TRIANGLES,C,o.ah.disabled,O,o.ag.backCCW,K,w.id,b.vertexBuffer,b.indexBuffer,b.segments,w.paint,m.transform.zoom,void 0,void 0)}function I0(b,d,m){const w=d.updateZoomBasedPaintProperties(),T=function(C,O,z){let K,q,Q,ie=C.terrain?C.terrain.exaggeration():0;if(C.terrain&&ie>0){const ce=C.terrain,me=ce.findDEMTileFor(z);me&&me.dem?K=o.cm.create(ce,z,me):ie=0}if(ie===0&&(O.terrainElevationMin=0,O.terrainElevationMax=0),ie===O.validForExaggeration&&(ie===0||K&&K._demTile&&K._demTile.tileID===O.validForDEMTile.id&&K._dem._timestamp===O.validForDEMTile.timestamp))return!1;for(const ce in O.instancesPerModel){const me=O.instancesPerModel[ce];for(let Ee=0;Ee<me.instancedDataArray.length;++Ee){const Ae=(K?ie*K.getElevationAt(0|me.instancedDataArray.float32[16*Ee],0|me.instancedDataArray.float32[16*Ee+1],!0,!0):0)+me.instancesEvaluatedElevation[Ee];me.instancedDataArray.float32[16*Ee+6]=Ae,q=q?Math.min(O.terrainElevationMin,Ae):Ae,Q=Q?Math.max(O.terrainElevationMax,Ae):Ae}}return O.terrainElevationMin=q||0,O.terrainElevationMax=Q||0,O.validForExaggeration=ie,O.validForDEMTile=K&&K._demTile?{id:K._demTile.tileID,timestamp:K._dem._timestamp}:{id:void 0,timestamp:0},!0}(b,d,m);(w||T)&&(d.uploaded=!1,d.upload(b.context))}const Al={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new o.b8([0,0,0],[o.a4,o.a4,0])};function M0(b,d){const m=1<<b.canonical.z,w=d.getFreeCameraOptions().position,T=d.elevation,C=b.canonical.x/m,O=(b.canonical.x+1)/m,z=b.canonical.y/m,K=(b.canonical.y+1)/m;let q=d._centerAltitude;if(T){const me=T.getMinMaxForTile(b);me&&me.max>q&&(q=me.max)}const Q=o.au(w.x,C,O)-w.x,ie=o.au(w.y,z,K)-w.y,ce=o.ay(q,d.center.lat)-w.z;return d._zoomFromMercatorZ(Math.sqrt(Q*Q+ie*ie+ce*ce))}function $v(b,d,m,w,T,C,O){const z=b.context,K=b.renderPass==="shadow",q=b.shadowRenderer,Q=K&&q?q.getShadowPassDepthMode():new o.af(z.gl.LEQUAL,o.af.ReadWrite,b.depthRangeFor3D),ie=b.isTileAffectedByFog(C);if(m.meshes)for(const ce of m.meshes){const me=["MODEL_POSITION_ON_GPU"],Ee=[];let Ae,Pe,Ie;w.instancedDataArray.length>20&&me.push("INSTANCED_ARRAYS");const Ve=ss(b,d.paint.get("model-cutoff-fade-range"));if(Ve.shouldRenderCutoff&&me.push("RENDER_CUTOFF"),K&&q)Ae=b.getOrCreateProgram("modelDepth",{defines:me}),Pe=K3(O.shadowTileMatrix,O.shadowTileMatrix,Float32Array.from(m.matrix)),Ie=q.getShadowPassColorMode();else{Lf(me,Ee,ce,b,d.lut),Ae=b.getOrCreateProgram("model",{defines:me,overrideFog:ie});const Fe=ce.material,Ye=Fe.pbrMetallicRoughness,He=d.paint.get("model-opacity"),Ge=d.paint.get("model-emissive-strength").constantOr(0);Pe=Of(C.expandedProjMatrix,Float32Array.from(m.matrix),new Float32Array(16),null,b,He,Ye.baseColorFactor.toRenderColor(null),Fe.emissiveFactor,Ye.metallicFactor,Ye.roughnessFactor,Fe,Ge,d,T),q&&(O.shadowUniformsInitialized?Ae.setShadowUniformValues(z,q.getShadowUniformValues()):(q.setupShadows(C.toUnwrapped(),Ae,"model-tile",C.overscaledZ),O.shadowUniformsInitialized=!0)),Ie=Ve.shouldRenderCutoff||He<1||Fe.alphaMode!=="OPAQUE"?o.a.alphaBlended:o.a.unblended}b.uploadCommonUniforms(z,Ae,C.toUnwrapped(),null,Ve);const Ue=ce.material.doubleSided?o.ag.disabled:o.ag.backCCW;if(w.instancedDataArray.length>20)Ee.push(w.instancedDataBuffer),Ae.draw(b,z.gl.TRIANGLES,Q,o.ah.disabled,Ie,Ue,Pe,d.id,ce.vertexBuffer,ce.indexBuffer,ce.segments,d.paint,b.transform.zoom,void 0,Ee,w.instancedDataArray.length);else{const Fe=K?"u_instance":"u_normal_matrix";for(let Ye=0;Ye<w.instancedDataArray.length;++Ye)Pe[Fe]=new Float32Array(w.instancedDataArray.arrayBuffer,64*Ye,16),Ae.draw(b,z.gl.TRIANGLES,Q,o.ah.disabled,Ie,Ue,Pe,d.id,ce.vertexBuffer,ce.indexBuffer,ce.segments,d.paint,b.transform.zoom,void 0,Ee)}}if(m.children)for(const ce of m.children)$v(b,d,ce,w,T,C,O)}const Lv=[1,-1,1];function jo(b,d,m,w){if(!m.modelManager)return!0;const T=m.modelManager;if(!m.shadowRenderer)return!0;const C=m.shadowRenderer,O=d.aabb;let z=!0,K=b.maxHeight;if(K===0){let Q=0;for(const ie in b.instancesPerModel){const ce=T.getModel(ie,w);ce?Q=Math.max(Q,Math.max(Math.max(ce.aabb.max[0],ce.aabb.max[1]),ce.aabb.max[2])):z=!1}K=b.maxScale*Q*1.41+b.maxVerticalOffset,z&&(b.maxHeight=K)}O.max[2]=K,O.min[2]+=b.terrainElevationMin,O.max[2]+=b.terrainElevationMax,o.$.transformMat4(O.min,O.min,d.tileMatrix),o.$.transformMat4(O.max,O.max,d.tileMatrix);const q=O.intersects(C.getCurrentCascadeFrustum());return m.currentShadowCascade===0&&(b.isInsideFirstShadowMapFrustum=q===2),q===0}function qs(b,d){const m=b.uniformValues.u_cutoff_params[0],w=b.uniformValues.u_cutoff_params[1],T=b.uniformValues.u_cutoff_params[2],C=b.uniformValues.u_cutoff_params[3];return w===m||C===T?1:o.au(((d-m)/(w-m)-T)/(C-T),0,1)}function OS(b,d,m,w){if(d.pitch<20)return 1;const T=d.getWorldToCameraMatrix(),C=o.ae.multiply([],T,b),O=[...m.min,1];let z=o.aB.transformMat4([],O,C),K=z,q=z;O[1]=m.max[1],z=o.aB.transformMat4([],O,C),K=z[1]<K[1]?z:K,q=z[1]>q[1]?z:q,O[0]=m.max[0],z=o.aB.transformMat4([],O,C),K=z[1]<K[1]?z:K,q=z[1]>q[1]?z:q,O[1]=m.min[1],z=o.aB.transformMat4([],O,C),K=z[1]<K[1]?z:K,q=z[1]>q[1]?z:q;const Q=o.au(w[0],0,1),ie=100*d.pixelsPerMeter*o.au(w[1],0,1),ce=o.au(w[2],0,1),me=o.$.lerp([],K,q,Q),Ee=Math.tan(.5*d.fovX),Ae=-me[2]*Ee;if(ie===0)return me[1]<-Math.abs(Ae)?ce:1;const Pe=(-Math.abs(Ae)-me[1])/ie,Ie=(Ue,Fe,Ye)=>(1-Ye)*Ue+Ye*Fe,Ve=o.au(Ie(1,ce,Pe),ce,1);return Ie(1,Ve,o.au((d.pitch-20)/20,0,1))}class Hh{}class Ca{constructor(){this._storage=new Map}getLinesFromTrianglesBuffer(d,m,w){{const ie=this._storage.get(m.id);if(ie)return ie.lastUsedFrameIdx=d,ie.buf}const T=w.gl,C=T.getBufferParameter(T.ELEMENT_ARRAY_BUFFER,T.BUFFER_SIZE),O=new ArrayBuffer(C),z=new Int16Array(O);T.getBufferSubData(T.ELEMENT_ARRAY_BUFFER,0,new Int16Array(O));const K=new o.co;for(let ie=0;ie<C/2;ie+=3){const ce=z[ie],me=z[ie+1],Ee=z[ie+2];K.emplaceBack(ce,me),K.emplaceBack(me,Ee),K.emplaceBack(Ee,ce)}const q=w.bindVertexArrayOES.current,Q=new Hh;return Q.buf=new o.I(w,K),Q.lastUsedFrameIdx=d,this._storage.set(m.id,Q),w.bindVertexArrayOES.set(q),Q.buf}update(d){for(const[m,w]of this._storage)d-w.lastUsedFrameIdx>30&&(w.buf.destroy(),this._storage.delete(m))}destroy(){for(const[d,m]of this._storage)m.buf.destroy(),this._storage.delete(d)}}class Xl{constructor(d){this.occluderSize=30,this.depthOffset=-1e-4,d.registerParameter(this,["Occlusion"],"occluderSize",{min:1,max:100,step:1}),d.registerParameter(this,["Occlusion"],"depthOffset",{min:-.05,max:0,step:1e-5})}}const Yl={symbol:function(b,d,m,w,T){if(b.renderPass!=="translucent")return;const C=o.ah.disabled,O=b.colorModeForRenderPass();m.layout.get("text-variable-anchor")&&function(q,Q,ie,ce,me,Ee,Ae){const Pe=Q.transform,Ie=me==="map",Ve=Ee==="map";for(const Ue of q){const Fe=ce.getTile(Ue),Ye=Fe.getBucket(ie);if(!Ye||!Ye.text||!Ye.text.segments.get().length)continue;const He=o.aE(Ye.textSizeData,Pe.zoom),Ge=H3(Ue,Ye.getProjection(),Pe),nt=Pe.calculatePixelsToTileUnitsMatrix(Fe),at=c0(Ge,Fe.tileID.canonical,Ve,Ie,Pe,Ye.getProjection(),nt),pt=Ye.hasIconTextFit()&&Ye.hasIconData();if(He){const ot=Math.pow(2,Pe.zoom-Fe.tileID.overscaledZ);oO(Ye,Ie,Ve,Ae,o.bQ,Pe,at,Ue,ot,He,pt)}}}(w,b,m,d,m.layout.get("text-rotation-alignment"),m.layout.get("text-pitch-alignment"),T);const z=m.paint.get("icon-opacity").constantOr(1)!==0,K=m.paint.get("text-opacity").constantOr(1)!==0;m.layout.get("symbol-sort-key").constantOr(1)!==void 0&&(z||K)?A0(b,d,m,w,C,O):(z&&A0(b,d,m,w,C,O,{onlyIcons:!0}),K&&A0(b,d,m,w,C,O,{onlyText:!0})),d.map.showCollisionBoxes&&(PS(b,d,m,w,m.paint.get("text-translate"),m.paint.get("text-translate-anchor"),!0),PS(b,d,m,w,m.paint.get("icon-translate"),m.paint.get("icon-translate-anchor"),!1))},circle:function(b,d,m,w){if(b.renderPass!=="translucent")return;const T=m.paint.get("circle-opacity"),C=m.paint.get("circle-stroke-width"),O=m.paint.get("circle-stroke-opacity"),z=m.layout.get("circle-sort-key").constantOr(1)!==void 0,K=m.paint.get("circle-emissive-strength");if(T.constantOr(1)===0&&(C.constantOr(1)===0||O.constantOr(1)===0))return;const q=b.context,Q=q.gl,ie=b.transform,ce=b.depthModeForSublayer(0,o.af.ReadOnly),me=o.ah.disabled,Ee=b.colorModeForDrapableLayerRenderPass(K),Ae=ie.projection.name==="globe",Pe=[o.ak(ie.center.lng),o.al(ie.center.lat)],Ie=[];for(let Ue=0;Ue<w.length;Ue++){const Fe=w[Ue],Ye=d.getTile(Fe),He=Ye.getBucket(m);if(!He||He.projection.name!==ie.projection.name)continue;const Ge=He.programConfigurations.get(m.id),nt=o.bT(m),at=b.isTileAffectedByFog(Fe);Ae&&nt.push("PROJECTION_GLOBE_VIEW"),nt.push("DEPTH_D24"),b.terrain&&ie.depthOcclusionForSymbolsAndCircles&&nt.push("DEPTH_OCCLUSION");const pt=b.getOrCreateProgram("circle",{config:Ge,defines:nt,overrideFog:at}),ot=He.layoutVertexBuffer,Xe=He.globeExtVertexBuffer,xt=He.indexBuffer,vt=ie.projection.createInversionMatrix(ie,Fe.canonical),lt={programConfiguration:Ge,program:pt,layoutVertexBuffer:ot,globeExtVertexBuffer:Xe,indexBuffer:xt,uniformValues:o.bU(b,Fe,Ye,vt,Pe,m),tile:Ye};if(z){const Kt=He.segments.get();for(const zt of Kt)Ie.push({segments:new o.b([zt]),sortKey:zt.sortKey,state:lt})}else Ie.push({segments:He.segments,sortKey:0,state:lt})}z&&Ie.sort((Ue,Fe)=>Ue.sortKey-Fe.sortKey);const Ve={useDepthForOcclusion:ie.depthOcclusionForSymbolsAndCircles};for(const Ue of Ie){const{programConfiguration:Fe,program:Ye,layoutVertexBuffer:He,globeExtVertexBuffer:Ge,indexBuffer:nt,uniformValues:at,tile:pt}=Ue.state,ot=Ue.segments;b.terrain&&b.terrain.setupElevationDraw(pt,Ye,Ve),b.uploadCommonUniforms(q,Ye,pt.tileID.toUnwrapped()),Ye.draw(b,Q.TRIANGLES,ce,me,Ee,o.ag.disabled,at,m.id,He,nt,ot,m.paint,ie.zoom,Fe,[Ge])}},heatmap:function(b,d,m,w){if(m.paint.get("heatmap-opacity")!==0)if(b.renderPass==="offscreen"){const T=b.context,C=T.gl,O=o.ah.disabled,z=new o.a([C.ONE,C.ONE,C.ONE,C.ONE],o.C.transparent,[!0,!0,!0,!0]);(function(me,Ee,Ae,Pe){const Ie=me.gl,Ve=Ee.width*Pe,Ue=Ee.height*Pe;me.activeTexture.set(Ie.TEXTURE1),me.viewport.set([0,0,Ve,Ue]);let Fe=Ae.heatmapFbo;if(!Fe||Fe&&(Fe.width!==Ve||Fe.height!==Ue)){Fe&&Fe.destroy();const Ye=Ie.createTexture();Ie.bindTexture(Ie.TEXTURE_2D,Ye),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_S,Ie.CLAMP_TO_EDGE),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_T,Ie.CLAMP_TO_EDGE),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MIN_FILTER,Ie.LINEAR),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MAG_FILTER,Ie.LINEAR),Fe=Ae.heatmapFbo=me.createFramebuffer(Ve,Ue,!0,null),function(He,Ge,nt,at,pt,ot){const Xe=He.gl;Xe.texImage2D(Xe.TEXTURE_2D,0,He.extRenderToTextureHalfFloat?Xe.RGBA16F:Xe.RGBA,pt,ot,0,Xe.RGBA,He.extRenderToTextureHalfFloat?Xe.HALF_FLOAT:Xe.UNSIGNED_BYTE,null),at.colorAttachment.set(nt)}(me,0,Ye,Fe,Ve,Ue)}else Ie.bindTexture(Ie.TEXTURE_2D,Fe.colorAttachment.get()),me.bindFramebuffer.set(Fe.framebuffer)})(T,b,m,b.transform.projection.name==="globe"?.5:.25),T.clear({color:o.C.transparent});const K=b.transform,q=K.projection.name==="globe",Q=q?["PROJECTION_GLOBE_VIEW"]:[],ie=q?o.ag.frontCCW:o.ag.disabled,ce=[o.ak(K.center.lng),o.al(K.center.lat)];for(let me=0;me<w.length;me++){const Ee=w[me];if(d.hasRenderableParent(Ee))continue;const Ae=d.getTile(Ee),Pe=Ae.getBucket(m);if(!Pe||Pe.projection.name!==K.projection.name)continue;const Ie=b.isTileAffectedByFog(Ee),Ve=Pe.programConfigurations.get(m.id),Ue=b.getOrCreateProgram("heatmap",{config:Ve,defines:Q,overrideFog:Ie}),{zoom:Fe}=b.transform;b.terrain&&b.terrain.setupElevationDraw(Ae,Ue),b.uploadCommonUniforms(T,Ue,Ee.toUnwrapped());const Ye=K.projection.createInversionMatrix(K,Ee.canonical);Ue.draw(b,C.TRIANGLES,o.af.disabled,O,z,ie,SS(b,Ee,Ae,Ye,ce,Fe,m.paint.get("heatmap-intensity")),m.id,Pe.layoutVertexBuffer,Pe.indexBuffer,Pe.segments,m.paint,b.transform.zoom,Ve,q?[Pe.globeExtVertexBuffer]:null)}T.viewport.set([0,0,b.width,b.height])}else b.renderPass==="translucent"&&(b.context.setColorMode(b.colorModeForRenderPass()),function(T,C){const O=T.context,z=O.gl,K=C.heatmapFbo;if(!K)return;O.activeTexture.set(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,K.colorAttachment.get()),O.activeTexture.set(z.TEXTURE1);let q=C.colorRampTexture;q||(q=C.colorRampTexture=new o.T(O,C.colorRamp,z.RGBA)),q.bind(z.LINEAR,z.CLAMP_TO_EDGE),T.getOrCreateProgram("heatmapTexture").draw(T,z.TRIANGLES,o.af.disabled,o.ah.disabled,T.colorModeForRenderPass(),o.ag.disabled,((Q,ie,ce,me)=>({u_image:0,u_color_ramp:1,u_opacity:ie.paint.get("heatmap-opacity")}))(0,C),C.id,T.viewportBuffer,T.quadTriangleIndexBuffer,T.viewportSegments,C.paint,T.transform.zoom)}(b,m))},line:function(b,d,m,w){if(b.renderPass!=="translucent")return;const T=m.paint.get("line-opacity"),C=m.paint.get("line-width");if(T.constantOr(1)===0||C.constantOr(1)===0)return;const O=m.paint.get("line-emissive-strength"),z=m.paint.get("line-occlusion-opacity"),K=b.context,q=K.gl,Q=m.layout.get("line-z-offset"),ie=!Q.isConstant()||!!Q.constantOr(0),ce=ie?new o.af(b.depthOcclusion?q.GREATER:q.LEQUAL,o.af.ReadOnly,b.depthRangeFor3D):b.depthModeForSublayer(0,o.af.ReadOnly),me=b.colorModeForDrapableLayerRenderPass(O),Ee=b.terrain&&b.terrain.renderingToTexture,Ae=Ee?1:o.e.devicePixelRatio,Pe=m.paint.get("line-dasharray"),Ie=Pe.constantOr(1),Ve=m.layout.get("line-cap"),Ue=Pe.constantOr(null),Fe=Ve.constantOr(null),Ye=m.paint.get("line-pattern"),He=Ye.constantOr(1),Ge=Ye.constantOr(null),nt=m.paint.get("line-opacity").constantOr(1);let at=!He&&nt!==1||b.depthOcclusion&&z>0&&z<1;const pt=m.paint.get("line-gradient"),ot=He?"linePattern":"line",Xe=o.bV(m);let xt;if(Ee&&b.terrain&&b.terrain.clipOrMaskOverlapStencilType()&&(at=!1),z!==0&&b.depthOcclusion){const lt=m.paint._values["line-opacity"];lt&&lt.value&&lt.value.kind==="constant"?xt=lt.value:o.w(`Occlusion opacity for layer ${m.id} is supported only when line-opacity isn't data-driven.`)}if(ie&&(b.forceTerrainMode=!0),!ie&&z!==0&&b.terrain&&!Ee)return void o.w(`Occlusion opacity for layer ${m.id} is supported on terrain only if the layer has non-zero line-z-offset.`);const vt=at&&ie?b.stencilModeFor3D():o.ah.disabled;for(const lt of w){const Kt=d.getTile(lt);if(He&&!Kt.patternsLoaded())continue;const zt=Kt.getBucket(m);if(!zt)continue;b.prepareDrawTile();const ht=zt.programConfigurations.get(m.id),Pt=b.isTileAffectedByFog(lt),st=b.getOrCreateProgram(ot,{config:ht,defines:ie?[...Xe,"ELEVATED"]:Xe,overrideFog:Pt});if(Ge&&Kt.imageAtlas){const cr=Kt.imageAtlas.patternPositions[Ge.toString()];cr&&ht.setConstantPatternPositions(cr)}if(!He&&Ue&&Fe&&Kt.lineAtlas){const cr=Kt.lineAtlas.getDash(Ue,Fe);cr&&ht.setConstantPatternPositions(cr)}let[Nt,jt]=m.paint.get("line-trim-offset");(Fe==="round"||Fe==="square")&&Nt!==jt&&(Nt===0&&(Nt-=1),jt===1&&(jt+=1));const ar=Ee?lt.projMatrix:null,lr=He?o.bW(b,Kt,m,ar,Ae,[Nt,jt]):o.bX(b,Kt,m,ar,zt.lineClipsArray.length,Ae,[Nt,jt]);if(pt){const cr=zt.gradients[m.id];let Or=cr.texture;if(m.gradientVersion!==cr.version){let en=256;if(m.stepInterpolant){const Br=d.getSource().maxzoom,nn=lt.canonical.z===Br?Math.ceil(1<<b.transform.maxZoom-lt.canonical.z):1;en=o.au(o.bY(zt.maxLineLength/o.a4*1024*nn),256,K.maxTextureSize)}cr.gradient=o.bZ({expression:m.gradientExpression(),evaluationKey:"lineProgress",resolution:en,image:cr.gradient||void 0,clips:zt.lineClipsArray}),cr.texture?cr.texture.update(cr.gradient):cr.texture=new o.T(K,cr.gradient,q.RGBA),cr.version=m.gradientVersion,Or=cr.texture}K.activeTexture.set(q.TEXTURE1),Or.bind(m.stepInterpolant?q.NEAREST:q.LINEAR,q.CLAMP_TO_EDGE)}Ie&&(K.activeTexture.set(q.TEXTURE0),Kt.lineAtlasTexture&&Kt.lineAtlasTexture.bind(q.LINEAR,q.REPEAT),ht.updatePaintBuffers()),He&&(K.activeTexture.set(q.TEXTURE0),Kt.imageAtlasTexture&&Kt.imageAtlasTexture.bind(q.LINEAR,q.CLAMP_TO_EDGE),ht.updatePaintBuffers()),ie&&b.terrain.setupElevationDraw(Kt,st),b.uploadCommonUniforms(K,st,lt.toUnwrapped());const vr=cr=>{xt!=null&&(xt.value=nt*z),st.draw(b,q.TRIANGLES,ce,cr,me,o.ag.disabled,lr,m.id,zt.layoutVertexBuffer,zt.indexBuffer,zt.segments,m.paint,b.transform.zoom,ht,[zt.layoutVertexBuffer2,zt.patternVertexBuffer,zt.zOffsetVertexBuffer]),xt!=null&&(xt.value=nt)};if(at&&!ie){const cr=b.stencilModeForClipping(lt).ref;cr===0&&Ee&&K.clear({stencil:0});const Or={func:q.EQUAL,mask:255};lr.u_alpha_discard_threshold=.8,vr(new o.ah(Or,cr,255,q.KEEP,q.KEEP,q.INVERT)),lr.u_alpha_discard_threshold=0,vr(new o.ah(Or,cr,255,q.KEEP,q.KEEP,q.KEEP))}else at&&ie&&(lr.u_alpha_discard_threshold=.001),vr(ie?vt:b.stencilModeForClipping(lt))}at&&(b.resetStencilClippingMasks(),Ee&&K.clear({stencil:0})),z===0||b.depthOcclusion||Ee||b.layersWithOcclusionOpacity.push(b.currentLayer),ie&&(b.forceTerrainMode=!1)},fill:function(b,d,m,w){const T=m.paint.get("fill-color"),C=m.paint.get("fill-opacity");if(C.constantOr(1)===0)return;const O=m.paint.get("fill-emissive-strength"),z=b.colorModeForDrapableLayerRenderPass(O),K=m.paint.get("fill-pattern"),q=b.opaquePassEnabledForLayer()&&!K.constantOr(1)&&T.constantOr(o.C.transparent).a===1&&C.constantOr(0)===1?"opaque":"translucent";if(b.renderPass===q){const Q=b.depthModeForSublayer(1,b.renderPass==="opaque"?o.af.ReadWrite:o.af.ReadOnly);T0(b,d,m,w,Q,z,!1)}if(b.renderPass==="translucent"&&m.paint.get("fill-antialias")){const Q=b.depthModeForSublayer(m.getPaintProperty("fill-outline-color")?2:0,o.af.ReadOnly);T0(b,d,m,w,Q,z,!0)}},"fill-extrusion":function(b,d,m,w){const T=m.paint.get("fill-extrusion-opacity"),C=b.context,O=C.gl,z=b.terrain,K=z&&z.renderingToTexture;if(T===0)return;const q=b.conflationActive&&b.style.isLayerClipped(m,d.getSource()),Q=b.style.order.indexOf(m.fqid);if(q&&function(ie,ce,me,Ee,Ae){for(const Pe of Ee){const Ie=ce.getTile(Pe).getBucket(me);Ie&&(Ie.updateReplacement(Pe,ie.replacementSource,Ae),Ie.uploadCentroid(ie.context))}}(b,d,m,w,Q),z||q)for(const ie of w){const ce=d.getTile(ie).getBucket(m);ce&&sO(b.context,d,ie,ce,m,z,q)}if(b.renderPass==="shadow"&&b.shadowRenderer){const ie=b.shadowRenderer;if(z&&T<.65&&m._transitionablePaint._values["fill-extrusion-opacity"].value.expression instanceof o.Z)return;const ce=ie.getShadowPassDepthMode(),me=ie.getShadowPassColorMode();Rf(b,d,m,w,ce,o.ah.disabled,me,q)}else if(b.renderPass==="translucent"){const ie=!m.paint.get("fill-extrusion-pattern").constantOr(1),ce=m.paint.get("fill-extrusion-color").constantOr(o.C.white);if(!K&&ce.a!==0){const me=new o.af(b.context.gl.LEQUAL,o.af.ReadWrite,b.depthRangeFor3D);T===1&&ie?Rf(b,d,m,w,me,o.ah.disabled,o.a.unblended,q):(Rf(b,d,m,w,me,o.ah.disabled,o.a.disabled,q),Rf(b,d,m,w,me,b.stencilModeFor3D(),b.colorModeForRenderPass(),q),b.resetStencilClippingMasks())}if(b.style.enable3dLights()&&ie&&(!z&&b.transform.projection.name!=="globe"||K)){const me=m.paint.get("fill-extrusion-opacity"),Ee=m.paint.get("fill-extrusion-ambient-occlusion-intensity"),Ae=m.paint.get("fill-extrusion-ambient-occlusion-ground-radius"),Pe=m.paint.get("fill-extrusion-flood-light-intensity"),Ie=m.paint.get("fill-extrusion-flood-light-color").toRenderColor(m.lut).toArray01().slice(0,3),Ve=Ee>0&&Ae>0,Ue=Pe>0,Fe=(He,Ge,nt)=>(1-nt)*He+nt*Ge,Ye=He=>{const Ge=b.depthModeForSublayer(1,o.af.ReadOnly,O.LEQUAL,!0),nt=m.paint.get(He?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),at=Fe(.1,3,nt),pt=b._showOverdrawInspector;if(!pt){const ot=new o.ah({func:O.ALWAYS,mask:255},255,255,O.KEEP,O.KEEP,O.REPLACE),Xe=new o.a([O.ONE,O.ONE,O.ONE,O.ONE],o.C.transparent,[!1,!1,!1,!0],O.MIN);Vh(b,d,m,w,Ge,ot,Xe,o.ag.disabled,He,"sdf",me,Ee,Ae,Pe,Ie,at,q,!1)}{const ot=pt?o.ah.disabled:new o.ah({func:O.EQUAL,mask:255},255,255,O.KEEP,O.DECR,O.DECR),Xe=pt?b.colorModeForRenderPass():new o.a([O.ONE_MINUS_DST_ALPHA,O.DST_ALPHA,O.ONE,O.ONE],o.C.transparent,[!0,!0,!0,!0]);Vh(b,d,m,w,Ge,ot,Xe,o.ag.disabled,He,"color",me,Ee,Ae,Pe,Ie,at,q,!1)}};if(K){const He=(Ge,nt,at)=>{const pt=b.depthModeForSublayer(1,o.af.ReadOnly,O.LEQUAL,!1),ot=m.paint.get(Ge?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),Xe=Fe(.1,3,ot);{const xt=new o.a([O.ONE,O.ONE,O.ONE,O.ONE],o.C.transparent,[!1,!1,!1,!0]);Vh(b,d,m,w,pt,o.ah.disabled,xt,o.ag.disabled,Ge,"clear",me,Ee,Ae,Pe,Ie,Xe,q,nt)}{const xt=new o.ah({func:O.ALWAYS,mask:255},255,255,O.KEEP,O.KEEP,O.REPLACE),vt=new o.a([O.ONE,O.ONE,O.ONE,O.ONE],o.C.transparent,[!1,!1,!1,!0],O.MIN);Vh(b,d,m,w,pt,xt,vt,o.ag.disabled,Ge,"sdf",me,Ee,Ae,Pe,Ie,Xe,q,nt)}{const xt=Ge?O.ZERO:O.ONE_MINUS_DST_ALPHA,vt=new o.ah({func:O.EQUAL,mask:255},255,255,O.KEEP,O.DECR,O.DECR),lt=new o.a([xt,O.DST_ALPHA,O.ONE_MINUS_DST_ALPHA,O.ZERO],o.C.transparent,[!0,!0,!0,!0]);Vh(b,d,m,w,pt,vt,lt,o.ag.disabled,Ge,"color",me,Ee,Ae,Pe,Ie,Xe,q,nt)}{const xt=new o.a([O.ONE,O.ONE,O.ONE,Ge?O.ZERO:O.ONE],o.C.transparent,[!1,!1,!1,!0],Ge?O.FUNC_ADD:O.MAX);Vh(b,d,m,w,pt,o.ah.disabled,xt,o.ag.disabled,Ge,"clear",me,Ee,Ae,Pe,Ie,Xe,q,nt,at)}};if(Ve||Ue){let Ge;if(b.prepareDrawTile(),z){const nt=z.drapeBufferSize[0],at=z.drapeBufferSize[1];Ge=z.framebufferCopyTexture,Ge&&(!Ge||Ge.size[0]===nt&&Ge.size[1]===at)||(Ge&&Ge.destroy(),Ge=z.framebufferCopyTexture=new o.T(C,new o.j({width:nt,height:at}),O.RGBA)),Ge.bind(O.LINEAR,O.CLAMP_TO_EDGE),O.copyTexImage2D(O.TEXTURE_2D,0,O.RGBA,0,0,nt,at,0)}Ve&&He(!0,!1,Ge),Ue&&He(!1,!0,Ge)}}else Ve&&Ye(!0),Ue&&Ye(!1),(Ve||Ue)&&b.resetStencilClippingMasks()}}},hillshade:function(b,d,m,w){if(b.renderPass!=="offscreen"&&b.renderPass!=="translucent"||b.style.disableElevatedTerrain)return;const T=b.context,C=b.terrain&&b.terrain.renderingToTexture,[O,z]=b.renderPass!=="translucent"||C?[{},w]:b.stencilConfigForOverlap(w);for(const K of z){const q=d.getTile(K);if(q.needsHillshadePrepare&&b.renderPass==="offscreen")rO(b,q,m);else if(b.renderPass==="translucent"){const Q=b.depthModeForSublayer(0,o.af.ReadOnly),ie=m.paint.get("hillshade-emissive-strength"),ce=b.colorModeForDrapableLayerRenderPass(ie),me=C&&b.terrain?b.terrain.stencilModeForRTTOverlap(K):O[K.overscaledZ];tO(b,K,q,m,Q,me,ce)}}T.viewport.set([0,0,b.width,b.height]),b.resetStencilClippingMasks()},raster:function(b,d,m,w,T,C){if(b.renderPass!=="translucent"||m.paint.get("raster-opacity")===0)return;const O=b.transform.projection.name==="globe",z=m.paint.get("raster-elevation")!==0,K=z&&O;if(b.renderElevatedRasterBackface&&!K)return;const q=b.context,Q=q.gl,ie=d.getSource(),ce=function(He,Ge,nt,at){const pt=Ge.paint.get("raster-color"),ot=He.type==="raster-array",Xe=[],xt=Ge.paint.get("raster-resampling"),vt=Ge.paint.get("raster-color-mix");let lt=Ge.paint.get("raster-color-range");const Kt=[vt[0],vt[1],vt[2],0],zt=vt[3];let ht=xt==="nearest"?at.NEAREST:at.LINEAR;if(ot&&(Xe.push("RASTER_ARRAY"),pt||Xe.push("RASTER_COLOR"),xt==="linear"&&Xe.push("RASTER_ARRAY_LINEAR"),ht=at.NEAREST,!lt&&He.rasterLayers)){const Pt=He.rasterLayers.find(({id:st})=>st===Ge.sourceLayer);Pt&&Pt.fields&&Pt.fields.range&&(lt=Pt.fields.range)}if(lt=lt||[0,1],pt){Xe.push("RASTER_COLOR"),nt.activeTexture.set(at.TEXTURE2),Ge.updateColorRamp(lt);let Pt=Ge.colorRampTexture;Pt||(Pt=Ge.colorRampTexture=new o.T(nt,Ge.colorRamp,at.RGBA)),Pt.bind(at.LINEAR,at.CLAMP_TO_EDGE)}return{mix:Kt,range:lt,offset:zt,defines:Xe,resampling:ht}}(ie,m,q,Q);if(ie instanceof o.bo&&!w.length&&!O)return;const me=m.paint.get("raster-emissive-strength"),Ee=b.colorModeForDrapableLayerRenderPass(me),Ae=b.terrain&&b.terrain.renderingToTexture,Pe=!b.options.moving,Ie=m.paint.get("raster-resampling")==="nearest"?Q.NEAREST:Q.LINEAR;if(ie instanceof o.bo&&!w.length&&(ie.onNorthPole||ie.onSouthPole)){const He=z?b.stencilModeFor3D():o.ah.disabled;return void kv(!!ie.onNorthPole,null,b,d,m,me,ce,o.ag.disabled,He)}if(!w.length)return;const[Ve,Ue]=ie instanceof o.bo||Ae?[{},w]:b.stencilConfigForOverlap(w),Fe=Ue[Ue.length-1].overscaledZ;K&&ce.defines.push("PROJECTION_GLOBE_VIEW"),z&&ce.defines.push("RENDER_CUTOFF");const Ye=(He,Ge,nt)=>{for(const at of He){const pt=at.toUnwrapped(),ot=d.getTile(at);if(Ae&&(!ot||!ot.hasData()))continue;q.activeTexture.set(Q.TEXTURE0);const Xe=$f(ot,ie,m,ce);if(!Xe||!Xe.texture)continue;const{texture:xt,mix:vt,offset:lt,tileSize:Kt,buffer:zt}=Xe;let ht,Pt;Ae?(ht=o.af.disabled,Pt=at.projMatrix):z?(ht=new o.af(Q.LEQUAL,o.af.ReadWrite,b.depthRangeFor3D),Pt=O?Float32Array.from(b.transform.expandedFarZProjMatrix):b.transform.calculateProjMatrix(pt,Pe)):(ht=b.depthModeForSublayer(at.overscaledZ-Fe,m.paint.get("raster-opacity")===1?o.af.ReadWrite:o.af.ReadOnly,Q.LESS),Pt=b.transform.calculateProjMatrix(pt,Pe));const st=b.terrain&&Ae?b.terrain.stencilModeForRTTOverlap(at):Ve[at.overscaledZ],Nt=C?0:m.paint.get("raster-fade-duration");ot.registerFadeDuration(Nt);const jt=d.findLoadedParent(at,0),ar=wv(ot,jt,d,b.transform,Nt);let lr,vr;b.terrain&&b.terrain.prepareDrawTile(),q.activeTexture.set(Q.TEXTURE0),xt.bind(Ie,Q.CLAMP_TO_EDGE),q.activeTexture.set(Q.TEXTURE1),jt?(jt.texture&&jt.texture.bind(Ie,Q.CLAMP_TO_EDGE),lr=Math.pow(2,jt.tileID.overscaledZ-ot.tileID.overscaledZ),vr=[ot.tileID.canonical.x*lr%1,ot.tileID.canonical.y*lr%1]):xt.bind(Ie,Q.CLAMP_TO_EDGE),xt.useMipmap&&q.extTextureFilterAnisotropic&&b.transform.pitch>20&&Q.texParameterf(Q.TEXTURE_2D,q.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,q.extTextureFilterAnisotropicMax);const cr=b.transform;let Or;const en=z?q3(cr):[0,0,0,0];let Br,nn,En,xi,ni,In=0;if(K&&ie instanceof o.bo&&ie.coordinates.length>3)Br=Float32Array.from(o.bh(o.bi(new o.aO(0,0,0)))),nn=Float32Array.from(cr.globeMatrix),En=Float32Array.from(o.bd(cr)),xi=[o.ak(cr.center.lng),o.al(cr.center.lat)],Or=ie.elevatedGlobePerspectiveTransform,ni=ie.elevatedGlobeGridMatrix||new Float32Array(9);else if(K){const tn=o.be(at.canonical);In=o.bf(tn.getCenter().lat),Br=Float32Array.from(o.bh(o.bi(at.canonical))),nn=Float32Array.from(cr.globeMatrix),En=Float32Array.from(o.bd(cr)),xi=[o.ak(cr.center.lng),o.al(cr.center.lat)],Or=[0,0],ni=Float32Array.from(o.bg(at.canonical,tn,In,cr.worldSize/cr._pixelsPerMercatorPixel))}else Or=ie instanceof o.bo?ie.perspectiveTransform:[0,0],Br=new Float32Array(16),nn=new Float32Array(9),En=new Float32Array(16),xi=[0,0],ni=new Float32Array(9);const ei=Iv(Pt,Br,nn,En,ni,vr||[0,0],o.a2(b.transform.zoom),xi,en,lr||1,ar,m,Or,z?m.paint.get("raster-elevation"):0,2,vt,lt,ce.range,Kt,zt,me),dn=b.isTileAffectedByFog(at),hn=b.getOrCreateProgram("raster",{defines:ce.defines,overrideFog:dn});if(b.uploadCommonUniforms(q,hn,pt),ie instanceof o.bo){const tn=ie.elevatedGlobeVertexBuffer,Vn=ie.elevatedGlobeIndexBuffer;if(Ae||!O)ie.boundsBuffer&&ie.boundsSegments&&hn.draw(b,Q.TRIANGLES,ht,o.ah.disabled,Ee,o.ag.disabled,ei,m.id,ie.boundsBuffer,b.quadTriangleIndexBuffer,ie.boundsSegments);else if(tn&&Vn){const yn=cr.zoom<=o.b3?ie.elevatedGlobeSegments:ie.getSegmentsForLongitude(cr.center.lng);yn&&hn.draw(b,Q.TRIANGLES,ht,o.ah.disabled,Ee,Ge,ei,m.id,tn,Vn,yn)}}else if(K){ht=new o.af(Q.LEQUAL,o.af.ReadOnly,b.depthRangeFor3D);const tn=b.globeSharedBuffers;if(tn){const[Vn,yn,Wr]=tn.getGridBuffers(In,!1);hn.draw(b,Q.TRIANGLES,ht,nt||st,b.colorModeForRenderPass(),Ge,ei,m.id,Vn,yn,Wr)}}else{const{tileBoundsBuffer:tn,tileBoundsIndexBuffer:Vn,tileBoundsSegments:yn}=b.getTileBoundsBuffers(ot);hn.draw(b,Q.TRIANGLES,ht,st,Ee,o.ag.disabled,ei,m.id,tn,Vn,yn)}}if(!(ie instanceof o.bo)&&K)for(const at of He){const pt=at.canonical.y===(1<<at.canonical.z)-1;at.canonical.y===0&&kv(!0,at,b,d,m,me,ce,Ge,nt||o.ah.disabled),pt&&kv(!1,at,b,d,m,me,ce,Ge===o.ag.frontCW?o.ag.backCW:o.ag.frontCW,nt||o.ah.disabled)}};K?Ye(Ue,b.renderElevatedRasterBackface?o.ag.backCW:o.ag.frontCW,b.stencilModeFor3D()):Ye(Ue,o.ag.disabled,void 0),b.resetStencilClippingMasks()},"raster-particle":function(b,d,m,w,T,C){b.renderPass==="offscreen"&&function(O,z,K,q){if(!q.length)return;const Q=O.context,ie=Q.gl,ce=z.getSource();if(!(ce instanceof Id))return;const me=Math.ceil(Math.sqrt(K.paint.get("raster-particle-count")));let Ee=K.particlePositionRGBAImage;if(!Ee||Ee.width!==me){const Ue=function(Fe){const Ye=Fe*Fe,He=new Uint8Array(4*Ye),Ge=function(at){return at|=0,at=Math.imul(2747636419^at,2654435769),at=Math.imul(at^at>>>16,2654435769),((at=Math.imul(at^at>>>16,2654435769))>>>0)/4294967296},nt=1/1.1;for(let at=0;at<Ye;at++){const pt=nt*(Ge(2*at+0)+Ou),ot=nt*(Ge(2*at+1)+Ou),Xe=255*pt%1,xt=255*ot%1,vt=Xe,lt=ot-xt/255,Kt=xt;He[4*at+0]=255*(pt-Xe/255),He[4*at+1]=255*vt,He[4*at+2]=255*lt,He[4*at+3]=255*Kt}return He}(me);Ee=K.particlePositionRGBAImage=new o.j({width:me,height:me},Ue)}let Ae=K.particleFramebuffer;Ae?Ae.width!==me&&(Ae.destroy(),Ae=K.particleFramebuffer=Q.createFramebuffer(me,me,!0,null)):Ae=K.particleFramebuffer=Q.createFramebuffer(me,me,!0,null);const Pe=[];for(const Ue of q){const Fe=z.getTile(Ue);if(!(Fe instanceof o.c5))continue;const Ye=kS(Fe,ce,K);if(!Ye)continue;const He=[Fe.tileSize,Fe.tileSize];let Ge=K.tileFramebuffer;Ge||(Ge=K.tileFramebuffer=Q.createFramebuffer(He[0],He[1],!0,null));let nt=Fe.rasterParticleState;nt||(nt=Fe.rasterParticleState=new ge(Q,Ue,He,Ee));const at=nt.update(K.lastInvalidatedAt);nt.particleTextureDimension!==me&&nt.updateParticleTexture(Ue,Ee);const pt=nt.targetColorTexture;nt.targetColorTexture=nt.backgroundColorTexture,nt.backgroundColorTexture=pt;const ot=nt.particleTexture0;nt.particleTexture0=nt.particleTexture1,nt.particleTexture1=ot,Pe.push([Ue,Ye,nt,at])}if(Pe.length===0)return;const Ie=o.e.now(),Ve=K.previousDrawTimestamp?.001*(Ie-K.previousDrawTimestamp):.0167;if(K.previousDrawTimestamp=Ie,K.hasColorMap()){Q.activeTexture.set(ie.TEXTURE0+2);let Ue=K.colorRampTexture;Ue||(Ue=K.colorRampTexture=new o.T(Q,K.colorRamp,ie.RGBA)),Ue.bind(ie.LINEAR,ie.CLAMP_TO_EDGE)}Q.bindFramebuffer.set(K.tileFramebuffer.framebuffer),function(Ue,Fe,Ye){const He=Ue.context,Ge=He.gl,nt=Fe.tileFramebuffer;He.activeTexture.set(Ge.TEXTURE0);const at={u_texture:0,u_opacity:1.05*(ot=Fe.paint.get("raster-particle-fade-opacity-factor"))/(ot+.05)},pt=Ue.getOrCreateProgram("rasterParticleTexture",{defines:[],overrideFog:!1});var ot;for(const Xe of Ye){const[,,xt,vt]=Xe;nt.colorAttachment.set(xt.targetColorTexture.texture),He.viewport.set([0,0,nt.width,nt.height]),He.clear({color:o.C.transparent}),vt&&(xt.backgroundColorTexture.bind(Ge.NEAREST,Ge.CLAMP_TO_EDGE),pt.draw(Ue,Ge.TRIANGLES,o.af.disabled,o.ah.disabled,o.a.alphaBlended,o.ag.disabled,at,Fe.id,Ue.viewportBuffer,Ue.quadTriangleIndexBuffer,Ue.viewportSegments))}}(O,K,Pe),function(Ue,Fe,Ye,He){const Ge=Ue.context,nt=Ge.gl,at=Ye.tileFramebuffer,pt=Ue.transform.projection.name==="globe",ot=Ye.paint.get("raster-particle-max-speed");for(const Xe of He){const[xt,vt,lt]=Xe;Ge.activeTexture.set(nt.TEXTURE0+0),vt.texture.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),at.colorAttachment.set(lt.targetColorTexture.texture);const Kt=Ue.getOrCreateProgram("rasterParticleDraw",{defines:vt.defines,overrideFog:!1});Ge.activeTexture.set(nt.TEXTURE0+1);const zt=vt.scalarData?[]:[0,1,2,3].map(st=>o.b$[st](xt));zt.push(xt);const ht=xt.canonical.x,Pt=xt.canonical.y;for(const st of zt){const Nt=Fe.getTile(pt?st.wrapped():st);if(!Nt)continue;const jt=Nt.rasterParticleState;if(!jt)continue;const ar=st.canonical.x+(1<<st.canonical.z)*(st.wrap-xt.wrap),lr=st.canonical.y;jt.particleTexture0.bind(nt.NEAREST,nt.CLAMP_TO_EDGE);const vr=iO(1,jt.particleTexture0.size[0],[ar-ht,lr-Pt],0,vt.texture.size,2,ot,vt.textureOffset,vt.scale,vt.offset);Kt.draw(Ue,nt.POINTS,o.af.disabled,o.ah.disabled,o.a.alphaBlended,o.ag.disabled,vr,Ye.id,jt.particleIndexBuffer,void 0,jt.particleSegment)}}}(O,z,K,Pe),Q.bindFramebuffer.set(K.particleFramebuffer.framebuffer),function(Ue,Fe,Ye,He){const Ge=Ue.context,nt=Ge.gl,at=Fe.paint.get("raster-particle-max-speed"),pt=He*Fe.paint.get("raster-particle-speed-factor")*.15,ot=function(xt){return Math.pow(xt,6)}(.01+1*Fe.paint.get("raster-particle-reset-rate-factor")),Xe=Fe.particleFramebuffer;Ge.viewport.set([0,0,Xe.width,Xe.height]);for(const xt of Ye){const[,vt,lt]=xt;Ge.activeTexture.set(nt.TEXTURE0+0),vt.texture.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),Ge.activeTexture.set(nt.TEXTURE0+1);const Kt=lt.particleTexture0;Kt.bind(nt.NEAREST,nt.CLAMP_TO_EDGE);const zt=ES(1,Kt.size[0],0,vt.texture.size,at,pt,ot,vt.textureOffset,vt.scale,vt.offset);Xe.colorAttachment.set(lt.particleTexture1.texture),Ge.clear({color:o.C.transparent}),Ue.getOrCreateProgram("rasterParticleUpdate",{defines:vt.defines}).draw(Ue,nt.TRIANGLES,o.af.disabled,o.ah.disabled,o.a.unblended,o.ag.disabled,zt,Fe.id,Ue.viewportBuffer,Ue.quadTriangleIndexBuffer,Ue.viewportSegments)}}(O,K,Pe,Ve)}(b,d,m,w),b.renderPass==="translucent"&&(function(O,z,K,q,Q){const ie=O.context,ce=ie.gl,me=z.getSource().tileSize,Ee=5*(1-o.a0(o.aV,o.aV+1,O.transform.zoom))*me+K.paint.get("raster-particle-elevation"),Ae=!O.options.moving,Pe=O.transform.projection.name==="globe";if(!q.length)return;const[Ie,Ve]=O.stencilConfigForOverlap(q),Ue=[];Pe&&Ue.push("PROJECTION_GLOBE_VIEW");const Fe=O.stencilModeFor3D();for(const Ye of Ve){const He=Ye.toUnwrapped(),Ge=z.getTile(Ye);if(!Ge.rasterParticleState)continue;const nt=Ge.rasterParticleState,at=100;Ge.registerFadeDuration(at);const pt=z.findLoadedParent(Ye,0),ot=wv(Ge,pt,z,O.transform,at);let Xe,xt;O.terrain&&O.terrain.prepareDrawTile(),ie.activeTexture.set(ce.TEXTURE0),nt.targetColorTexture.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),ie.activeTexture.set(ce.TEXTURE1),pt&&pt.rasterParticleState?(pt.rasterParticleState.targetColorTexture.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),Xe=Math.pow(2,pt.tileID.overscaledZ-Ge.tileID.overscaledZ),xt=[Ge.tileID.canonical.x*Xe%1,Ge.tileID.canonical.y*Xe%1]):nt.targetColorTexture.bind(ce.LINEAR,ce.CLAMP_TO_EDGE);const vt=Pe?Float32Array.from(O.transform.expandedFarZProjMatrix):O.transform.calculateProjMatrix(He,Ae),lt=O.transform,Kt=Ov(lt),zt=o.be(Ye.canonical),ht=o.bf(zt.getCenter().lat);let Pt,st,Nt,jt,ar;Pe?(Pt=Float32Array.from(o.bh(o.bi(Ye.canonical))),st=Float32Array.from(lt.globeMatrix),Nt=Float32Array.from(o.bd(lt)),jt=[o.ak(lt.center.lng),o.al(lt.center.lat)],ar=Float32Array.from(o.bg(Ye.canonical,zt,ht,lt.worldSize/lt._pixelsPerMercatorPixel))):(Pt=new Float32Array(16),st=new Float32Array(9),Nt=new Float32Array(16),jt=[0,0],ar=new Float32Array(9));const lr=kf(vt,Pt,st,Nt,ar,xt||[0,0],o.a2(O.transform.zoom),jt,Kt,Xe||1,ot,Ee),vr=O.isTileAffectedByFog(Ye),cr=O.getOrCreateProgram("rasterParticle",{defines:Ue,overrideFog:vr});if(O.uploadCommonUniforms(ie,cr,He),Pe){const Or=new o.af(ce.LEQUAL,o.af.ReadOnly,O.depthRangeFor3D),en=0,Br=O.globeSharedBuffers;if(Br){const[nn,En,xi]=Br.getGridBuffers(ht,en!==0);cr.draw(O,ce.TRIANGLES,Or,Fe,o.a.alphaBlended,O.renderElevatedRasterBackface?o.ag.frontCCW:o.ag.backCCW,lr,K.id,nn,En,xi)}}else{const Or=O.depthModeForSublayer(0,o.af.ReadOnly),en=Ie[Ye.overscaledZ],{tileBoundsBuffer:Br,tileBoundsIndexBuffer:nn,tileBoundsSegments:En}=O.getTileBoundsBuffers(Ge);cr.draw(O,ce.TRIANGLES,Or,en,o.a.alphaBlended,o.ag.disabled,lr,K.id,Br,nn,En)}}O.resetStencilClippingMasks()}(b,d,m,w),b.style.map.triggerRepaint())},background:function(b,d,m,w){const T=m.paint.get("background-color"),C=m.paint.get("background-opacity"),O=m.paint.get("background-emissive-strength");if(C===0)return;const z=b.context,K=z.gl,q=b.transform,Q=q.tileSize,ie=m.paint.get("background-pattern");let ce;if(ie!==void 0&&(ie===null||(ce=b.imageManager.getPattern(ie.toString(),m.scope,b.style.getLut(m.scope)),!ce)))return;const me=!ie&&T.a===1&&C===1&&b.opaquePassEnabledForLayer()?"opaque":"translucent";if(b.renderPass!==me)return;const Ee=o.ah.disabled,Ae=b.depthModeForSublayer(0,me==="opaque"?o.af.ReadWrite:o.af.ReadOnly),Pe=b.colorModeForDrapableLayerRenderPass(O),Ie=ie?"backgroundPattern":"background";let Ve,Ue=w;Ue||(Ve=b.getBackgroundTiles(),Ue=Object.values(Ve).map(Fe=>Fe.tileID)),ie&&(z.activeTexture.set(K.TEXTURE0),b.imageManager.bind(b.context,m.scope));for(const Fe of Ue){const Ye=b.isTileAffectedByFog(Fe),He=b.getOrCreateProgram(Ie,{overrideFog:Ye}),Ge=Fe.toUnwrapped(),nt=w?Fe.projMatrix:b.transform.calculateProjMatrix(Ge);b.prepareDrawTile();const at=d?d.getTile(Fe):Ve?Ve[Fe.key]:new o.bA(Fe,Q,q.zoom,b),pt=ie?aO(nt,O,C,b,0,m.scope,ce,{tileID:Fe,tileSize:Q}):W3(nt,O,C,T.toRenderColor(m.lut));b.uploadCommonUniforms(z,He,Ge);const{tileBoundsBuffer:ot,tileBoundsIndexBuffer:Xe,tileBoundsSegments:xt}=b.getTileBoundsBuffers(at);He.draw(b,K.TRIANGLES,Ae,Ee,Pe,o.ag.disabled,pt,m.id,ot,Xe,xt)}},sky:function(b,d,m){const w=b._atmosphere?o.a2(b.transform.zoom):1,T=m.paint.get("sky-opacity")*w;if(T===0)return;const C=b.context,O=m.paint.get("sky-type"),z=new o.af(C.gl.LEQUAL,o.af.ReadOnly,[0,1]),K=b.frameCounter/1e3%1;O==="atmosphere"?b.renderPass==="offscreen"?m.needsSkyboxCapture(b)&&(function(q,Q,ie,ce){const me=q.context,Ee=me.gl;let Ae=Q.skyboxFbo;if(!Ae){Ae=Q.skyboxFbo=me.createFramebuffer(32,32,!0,null),Q.skyboxGeometry=new mr(me),Q.skyboxTexture=me.gl.createTexture(),Ee.bindTexture(Ee.TEXTURE_CUBE_MAP,Q.skyboxTexture),Ee.texParameteri(Ee.TEXTURE_CUBE_MAP,Ee.TEXTURE_WRAP_S,Ee.CLAMP_TO_EDGE),Ee.texParameteri(Ee.TEXTURE_CUBE_MAP,Ee.TEXTURE_WRAP_T,Ee.CLAMP_TO_EDGE),Ee.texParameteri(Ee.TEXTURE_CUBE_MAP,Ee.TEXTURE_MIN_FILTER,Ee.LINEAR),Ee.texParameteri(Ee.TEXTURE_CUBE_MAP,Ee.TEXTURE_MAG_FILTER,Ee.LINEAR);for(let Ue=0;Ue<6;++Ue)Ee.texImage2D(Ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,Ee.RGBA,32,32,0,Ee.RGBA,Ee.UNSIGNED_BYTE,null)}me.bindFramebuffer.set(Ae.framebuffer),me.viewport.set([0,0,32,32]);const Pe=Q.getCenter(q,!0),Ie=q.getOrCreateProgram("skyboxCapture"),Ve=new Float64Array(16);o.ae.identity(Ve),o.ae.rotateY(Ve,Ve,.5*-Math.PI),Dn(q,Q,Ie,Ve,Pe,0),o.ae.identity(Ve),o.ae.rotateY(Ve,Ve,.5*Math.PI),Dn(q,Q,Ie,Ve,Pe,1),o.ae.identity(Ve),o.ae.rotateX(Ve,Ve,.5*-Math.PI),Dn(q,Q,Ie,Ve,Pe,2),o.ae.identity(Ve),o.ae.rotateX(Ve,Ve,.5*Math.PI),Dn(q,Q,Ie,Ve,Pe,3),o.ae.identity(Ve),Dn(q,Q,Ie,Ve,Pe,4),o.ae.identity(Ve),o.ae.rotateY(Ve,Ve,Math.PI),Dn(q,Q,Ie,Ve,Pe,5),me.viewport.set([0,0,q.width,q.height])}(b,m),m.markSkyboxValid(b)):b.renderPass==="sky"&&function(q,Q,ie,ce,me){const Ee=q.context,Ae=Ee.gl,Pe=q.transform,Ie=q.getOrCreateProgram("skybox");Ee.activeTexture.set(Ae.TEXTURE0),Ae.bindTexture(Ae.TEXTURE_CUBE_MAP,Q.skyboxTexture);const Ve=((Ue,Fe,Ye,He,Ge)=>({u_matrix:Ue,u_sun_direction:Fe,u_cubemap:0,u_opacity:He,u_temporal_offset:Ge}))(Pe.skyboxMatrix,Q.getCenter(q,!1),0,ce,me);q.uploadCommonUniforms(Ee,Ie),Ie.draw(q,Ae.TRIANGLES,ie,o.ah.disabled,q.colorModeForRenderPass(),o.ag.backCW,Ve,"skybox",Q.skyboxGeometry.vertexBuffer,Q.skyboxGeometry.indexBuffer,Q.skyboxGeometry.segment)}(b,m,z,T,K):O==="gradient"&&b.renderPass==="sky"&&function(q,Q,ie,ce,me){const Ee=q.context,Ae=Ee.gl,Pe=q.transform,Ie=q.getOrCreateProgram("skyboxGradient");Q.skyboxGeometry||(Q.skyboxGeometry=new mr(Ee)),Ee.activeTexture.set(Ae.TEXTURE0);let Ve=Q.colorRampTexture;Ve||(Ve=Q.colorRampTexture=new o.T(Ee,Q.colorRamp,Ae.RGBA)),Ve.bind(Ae.LINEAR,Ae.CLAMP_TO_EDGE);const Ue=((Fe,Ye,He,Ge,nt)=>({u_matrix:Fe,u_color_ramp:0,u_center_direction:Ye,u_radius:o.ac(He),u_opacity:Ge,u_temporal_offset:nt}))(Pe.skyboxMatrix,Q.getCenter(q,!1),Q.paint.get("sky-gradient-radius"),ce,me);q.uploadCommonUniforms(Ee,Ie),Ie.draw(q,Ae.TRIANGLES,ie,o.ah.disabled,q.colorModeForRenderPass(),o.ag.backCW,Ue,"skyboxGradient",Q.skyboxGeometry.vertexBuffer,Q.skyboxGeometry.indexBuffer,Q.skyboxGeometry.segment)}(b,m,z,T,K)},debug:function(b,d,m,w,T,C){for(let O=0;O<m.length;O++)if(T){const q=new o.C(w.r*.8,w.g*.8,w.b*.8,1);Rr(b,d,m[O],w,-1,-1,C),Rr(b,d,m[O],w,-1,1,C),Rr(b,d,m[O],w,1,1,C),Rr(b,d,m[O],w,1,-1,C),Rr(b,d,m[O],q,0,0,C)}else Rr(b,d,m[O],w,0,0,C)},custom:function(b,d,m,w){const T=b.context,C=m.implementation;if(!b.transform.projection.unsupportedLayers||!b.transform.projection.unsupportedLayers.includes("custom")||b.terrain&&(b.terrain.renderingToTexture||b.renderPass==="offscreen")&&m.isDraped(d)){if(b.renderPass==="offscreen"){const O=C.prerender;if(O){if(b.setCustomLayerDefaults(),T.setColorMode(b.colorModeForRenderPass()),b.transform.projection.name==="globe"){const z=b.transform.pointMerc;O.call(C,T.gl,b.transform.customLayerMatrix(),b.transform.getProjection(),b.transform.globeToMercatorMatrix(),o.a2(b.transform.zoom),[z.x,z.y],b.transform.pixelsPerMeterRatio)}else O.call(C,T.gl,b.transform.customLayerMatrix());T.setDirty(),b.setBaseState()}}else if(b.renderPass==="translucent"){if(b.terrain&&b.terrain.renderingToTexture){const z=C.renderToTile;if(z){const K=w[0].canonical,q=new o._(K.x+w[0].wrap*(1<<K.z),K.y,K.z);T.setDepthMode(o.af.disabled),T.setStencilMode(o.ah.disabled),T.setColorMode(b.colorModeForRenderPass()),b.setCustomLayerDefaults(),z.call(C,T.gl,q),T.setDirty(),b.setBaseState()}return}b.setCustomLayerDefaults(),T.setColorMode(b.colorModeForRenderPass()),T.setStencilMode(o.ah.disabled);const O=C.renderingMode==="3d"?new o.af(b.context.gl.LEQUAL,o.af.ReadWrite,b.depthRangeFor3D):b.depthModeForSublayer(0,o.af.ReadOnly);if(T.setDepthMode(O),b.transform.projection.name==="globe"){const z=b.transform.pointMerc;C.render(T.gl,b.transform.customLayerMatrix(),b.transform.getProjection(),b.transform.globeToMercatorMatrix(),o.a2(b.transform.zoom),[z.x,z.y],b.transform.pixelsPerMeterRatio)}else C.render(T.gl,b.transform.customLayerMatrix());T.setDirty(),b.setBaseState(),T.bindFramebuffer.set(null)}}else o.w("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")},model:function(b,d,m,w){if(b.renderPass==="opaque")return;const T=m.paint.get("model-opacity");if(T===0)return;const C=m.paint.get("model-cast-shadows");if(b.renderPass==="shadow"&&(!C||b.terrain&&T<.65&&m._transitionablePaint._values["model-opacity"].value.expression instanceof o.Z))return;const O=b.shadowRenderer,z=m.paint.get("model-receive-shadows");O&&(O.useNormalOffset=!0,z||(O.enabled=!1));const K=()=>{O&&(O.useNormalOffset=!0,z||(O.enabled=!0))},q=d.getSource();if(b.renderPass==="light-beam"&&q.type!=="batched-model")return;if(q.type==="vector"||q.type==="geojson")return function(Ie,Ve,Ue,Fe,Ye){const He=Ie.transform;if(He.projection.name!=="mercator")return void o.w(`Drawing 3D models for ${He.projection.name} projection is not yet implemented`);const Ge=He.getFreeCameraOptions().position;if(!Ie.modelManager)return;const nt=Ie.modelManager;Ue.modelManager=nt;const at=Ie.shadowRenderer;if(!Ue._unevaluatedLayout._values.hasOwnProperty("model-id"))return;const pt=Ue._unevaluatedLayout._values["model-id"],ot={...Ue.layout.get("model-id").parameters},Xe=Ie.style.order.indexOf(Ue.fqid);for(const xt of Fe){const vt=Ve.getTile(xt).getBucket(Ue);if(!vt||vt.projection.name!==He.projection.name)continue;const lt=vt.getModelUris();lt&&!vt.modelsRequested&&(nt.addModelsFromBucket(lt,Ye),vt.modelsRequested=!0);const Kt=M0(xt,He);ot.zoom=Kt;const zt=pt.possiblyEvaluate(ot);if(I0(Ie,vt,xt),Al.shadowUniformsInitialized=!1,Al.useSingleShadowCascade=!!at&&at.getMaxCascadeForTile(xt.toUnwrapped())===0,Ie.renderPass==="shadow"&&at){if(Ie.currentShadowCascade===1&&vt.isInsideFirstShadowMapFrustum)continue;const st=He.calculatePosMatrix(xt.toUnwrapped(),He.worldSize);if(Al.tileMatrix.set(st),Al.shadowTileMatrix=Float32Array.from(at.calculateShadowPassMatrixFromMatrix(st)),Al.aabb.min.fill(0),Al.aabb.max[0]=Al.aabb.max[1]=o.a4,Al.aabb.max[2]=0,jo(vt,Al,Ie,Ue.scope))continue}const ht=1<<xt.canonical.z,Pt=[((Ge.x-xt.wrap)*ht-xt.canonical.x)*o.a4,(Ge.y*ht-xt.canonical.y)*o.a4,Ge.z*ht*o.a4];Ie.conflationActive&&Object.keys(vt.instancesPerModel).length>0&&Ie.style.isLayerClipped(Ue,Ve.getSource())&&vt.updateReplacement(xt,Ie.replacementSource,Xe,Ye)&&(vt.uploaded=!1,vt.upload(Ie.context));for(let st in vt.instancesPerModel){const Nt=vt.instancesPerModel[st];Nt.features.length>0&&(st=zt.evaluate(Nt.features[0].feature,{}));const jt=nt.getModel(st,Ye);if(jt&&jt.uploaded)for(const ar of jt.nodes)$v(Ie,Ue,ar,Nt,Pt,xt,Al)}}}(b,d,m,w,q.type==="vector"?m.scope:""),void K();if(!q.loaded())return;if(q.type==="batched-model")return function(Ie,Ve,Ue,Fe){Ue.resetLayerRenderingStats(Ie);const Ye=Ie.context,He=Ie.transform,Ge=Ie.style.fog,nt=Ie.shadowRenderer;if(He.projection.name!=="mercator")return void o.w(`Drawing 3D landmark models for ${He.projection.name} projection is not yet implemented`);const at=Ie.transform.getFreeCameraOptions().position,pt=o.$.scale([],[at.x,at.y,at.z],Ie.transform.worldSize);o.$.negate(pt,pt);const ot=o.ae.identity([]),Xe=o.ci(He.center.lat,He.zoom),xt=o.ae.fromScaling([],[1,1,1/Xe]);o.ae.translate(ot,ot,pt);const vt=Ue.paint.get("model-opacity"),lt=new o.af(Ye.gl.LEQUAL,o.af.ReadWrite,Ie.depthRangeFor3D),Kt=new o.af(Ye.gl.LEQUAL,o.af.ReadOnly,Ie.depthRangeFor3D),zt=new o.b8([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),ht=Ie.renderPass==="shadow",Pt=ht&&nt?nt.getCurrentCascadeFrustum():He.getFrustum(He.scaleZoom(He.worldSize)),st=Ue.paint.get("model-front-cutoff"),Nt=st[2]<1,jt=ss(Ie,Ue.paint.get("model-cutoff-fade-range")),ar=Ue.getLayerRenderingStats();(function(lr,vr,cr,Or){const en=lr.terrain?lr.terrain.exaggeration():0,Br=lr.transform.zoom;for(const nn of Or){const En=vr.getTile(nn).getBucket(cr);En&&(lr.conflationActive&&En.updateReplacement(nn,lr.replacementSource),En.evaluateScale(lr,cr),lr.terrain&&en>0&&En.elevationUpdate(lr.terrain,en,nn,cr.source),En.needsReEvaluation(lr,Br,cr)&&En.evaluate(cr))}})(Ie,Ve,Ue,Fe),function(){let lr,vr,cr;Nt?(lr=Fe.length-1,vr=-1,cr=-1):(lr=0,vr=Fe.length,cr=1);for(let Or=lr;Or!==vr;Or+=cr){const en=Fe[Or],Br=Ve.getTile(en).getBucket(Ue);if(!Br||!Br.uploaded)continue;let nn=!1;nt&&(nn=nt.getMaxCascadeForTile(en.toUnwrapped())===0);const En=He.calculatePosMatrix(en.toUnwrapped(),He.worldSize),xi=Br.modelTraits,ni=[];for(const In of Br.getNodesInfo()){if(In.hiddenByReplacement||!In.node.meshes)continue;const ei=In.node;let dn=0;Ie.terrain&&ei.elevation&&(dn=ei.elevation*Ie.terrain.exaggeration());const hn=In.evaluatedScale;if(hn[0]<=1&&hn[1]<=1&&hn[2]<=1&&(()=>{const co=In.aabb;return zt.min=[...co.min],zt.max=[...co.max],zt.min[2]+=dn,zt.max[2]+=dn,o.$.transformMat4(zt.min,zt.min,En),o.$.transformMat4(zt.max,zt.max,En),zt})().intersects(Pt)===0)continue;const tn=[...En],Vn=ei.anchor?ei.anchor[0]:0,yn=ei.anchor?ei.anchor[1]:0;o.ae.translate(tn,tn,[Vn*(hn[0]-1),yn*(hn[1]-1),dn]),o.$.exactEquals(hn,o.cl)||o.ae.scale(tn,tn,hn);const Wr=o.ae.multiply([],tn,ei.matrix),ua=o.ae.multiply([],He.expandedFarZProjMatrix,Wr),ca=o.ae.multiply([],He.expandedFarZProjMatrix,tn),To=o.aB.transformMat4([],[Vn,yn,dn,1],ua)[2];ei.hidden=!1;let Po=vt;ht||(Nt&&(Po*=OS(tn,He,In.aabb,st)),Po*=qs(jt,To)),Po!==0?ni.push({nodeInfo:In,depth:To,opacity:Po,wvpForNode:ua,wvpForTile:ca,nodeModelMatrix:Wr,tileModelMatrix:tn}):ei.hidden=!0}ht||ni.sort((In,ei)=>!Nt||In.opacity===1&&ei.opacity===1?In.depth<ei.depth?-1:1:In.opacity===1?-1:ei.opacity===1?1:In.depth>ei.depth?-1:1);for(const In of ni){const ei=In.nodeInfo,dn=ei.node;let hn=o.ae.multiply([],xt,In.tileModelMatrix);o.ae.multiply(hn,ot,hn);const tn=o.ae.invert([],hn);o.ae.transpose(tn,tn),o.ae.scale(tn,tn,Lv),hn=o.ae.multiply(hn,hn,dn.matrix);const Vn=Ie.renderPass==="light-beam",yn=xi&o.cn.HasMapboxMeshFeatures,Wr=yn?0:ei.evaluatedRMEA[0][2];for(let ua=0;ua<dn.meshes.length;++ua){const ca=dn.meshes[ua],To=ua===dn.lightMeshIndex;let Po=In.wvpForNode;if(To){if(!Vn&&!Ie.terrain&&Ie.shadowRenderer){Ie.currentLayer<Ie.firstLightBeamLayer&&(Ie.firstLightBeamLayer=Ie.currentLayer);continue}Po=In.wvpForTile}else if(Vn)continue;const co={defines:[]},Co=[];if(Lf(co.defines,Co,ca,Ie,Ue.lut),yn||co.defines.push("DIFFUSE_SHADED"),nn&&co.defines.push("SHADOWS_SINGLE_CASCADE"),ar&&(ht?ar.numRenderedVerticesInShadowPass+=ca.vertexArray.length:ar.numRenderedVerticesInTransparentPass+=ca.vertexArray.length),ht){Q3(ca,In.nodeModelMatrix,Ie,Ue);continue}let to=null;if(Ge){const _t=Kh(In.nodeModelMatrix,Ie.transform);if(to=new Float32Array(_t),He.projection.name!=="globe"){const Mc=ca.aabb.min,Jl=ca.aabb.max,[kc,Oc]=Ge.getOpacityForBounds(_t,Mc[0],Mc[1],Jl[0],Jl[1]);co.overrideFog=kc>=Cn||Oc>=Cn}}const fo=ca.material;let Yt;fo.occlusionTexture&&fo.occlusionTexture.offsetScale&&(Yt=fo.occlusionTexture.offsetScale,co.defines.push("OCCLUSION_TEXTURE_TRANSFORM")),!ht&&nt&&(nt.useNormalOffset=!!ca.normalBuffer);const br=Ie.getOrCreateProgram("model",co);!ht&&nt&&nt.setupShadowsFromMatrix(In.tileModelMatrix,br,nt.useNormalOffset),Ie.uploadCommonUniforms(Ye,br,null,to);const Vo=fo.pbrMetallicRoughness;Vo.metallicFactor=.9,Vo.roughnessFactor=.5;const ci=Of(new Float32Array(Po),new Float32Array(hn),new Float32Array(tn),new Float32Array(dn.matrix),Ie,In.opacity,Vo.baseColorFactor.toRenderColor(null),fo.emissiveFactor,Vo.metallicFactor,Vo.roughnessFactor,fo,Wr,Ue,[0,0,0],Yt);!To&&(ei.hasTranslucentParts||In.opacity<1)&&br.draw(Ie,Ye.gl.TRIANGLES,lt,o.ah.disabled,o.a.disabled,o.ag.backCCW,ci,Ue.id,ca.vertexBuffer,ca.indexBuffer,ca.segments,Ue.paint,Ie.transform.zoom,void 0,Co),br.draw(Ie,Ye.gl.TRIANGLES,To?Kt:lt,o.ah.disabled,To||In.opacity<1||ei.hasTranslucentParts?o.a.alphaBlended:o.a.unblended,o.ag.backCCW,ci,Ue.id,ca.vertexBuffer,ca.indexBuffer,ca.segments,Ue.paint,Ie.transform.zoom,void 0,Co)}}}}()}(b,d,m,w),void K();if(q.type!=="model")return;const Q=q.getModels(),ie=[],ce=b.transform.getFreeCameraOptions().position,me=o.$.scale([],[ce.x,ce.y,ce.z],b.transform.worldSize);o.$.negate(me,me);const Ee=[],Ae=[];let Pe=0;for(const Ie of Q){const Ve=m.paint.get("model-rotation").constantOr(null),Ue=m.paint.get("model-scale").constantOr(null),Fe=m.paint.get("model-translation").constantOr(null);Ie.computeModelMatrix(b,Ve,Ue,Fe,!0,!0,!1);const Ye=o.ae.identity([]),He=o.ci(Ie.position.lat,b.transform.zoom),Ge=o.ae.fromScaling([],[1,1,1/He]);o.ae.translate(Ye,Ye,me),ie.push({zScaleMatrix:Ge,negCameraPosMatrix:Ye});for(const nt of Ie.nodes)na(b.transform,nt,Ie.matrix,b.transform.expandedFarZProjMatrix,Pe,Ee,Ae);Pe++}if(Ee.sort((Ie,Ve)=>Ve.depth-Ie.depth),b.renderPass!=="shadow"){if(T===1)for(const Ie of Ae)Eo(Ie,b,m,ie[Ie.modelIndex],o.ah.disabled,b.colorModeForRenderPass());else{for(const Ie of Ae)Eo(Ie,b,m,ie[Ie.modelIndex],o.ah.disabled,o.a.disabled);for(const Ie of Ae)Eo(Ie,b,m,ie[Ie.modelIndex],b.stencilModeFor3D(),b.colorModeForRenderPass());b.resetStencilClippingMasks()}for(const Ie of Ee)Eo(Ie,b,m,ie[Ie.modelIndex],o.ah.disabled,b.colorModeForRenderPass());K()}else{for(const Ie of Ae)Q3(Ie.mesh,Ie.nodeModelMatrix,b,m);for(const Ie of Ee)Q3(Ie.mesh,Ie.nodeModelMatrix,b,m);K()}}},Ba={model:function(b,d,m){const w=d.getSource();if(!w.loaded())return;if(w.type==="vector"||w.type==="geojson")return void(m.modelManager&&m.modelManager.upload(m,w.type==="vector"?b.scope:""));if(w.type==="batched-model"||w.type!=="model")return;const T=w.getModels();for(const C of T)C.upload(m.context)},raster:function(b,d,m){const w=d.getSource();if(!(w instanceof Id&&w.loaded()))return;const T=b.sourceLayer||w.rasterLayerIds&&w.rasterLayerIds[0];if(!T)return;const C=b.paint.get("raster-array-band")||w.getInitialBand(T);if(C==null)return;const O=d.getIds().map(z=>d.getTileByID(z));for(const z of O)z.updateNeeded(T,C)&&w.prepareTile(z,T,C)},"raster-particle":function(b,d,m){const w=d.getSource();if(!(w instanceof Id&&w.loaded()))return;const T=b.sourceLayer||w.rasterLayerIds&&w.rasterLayerIds[0];if(!T)return;const C=b.paint.get("raster-particle-array-band")||w.getInitialBand(T);if(C==null)return;const O=d.getIds().map(z=>d.getTileByID(z));for(const z of O)z.updateNeeded(T,C)&&w.prepareTile(z,T,C)}};class ew{constructor(d,m,w,T){this.context=new Be(d,m),this.transform=w,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.tp=T,this._timeStamp=o.e.now(),this._averageFPS=0,this._fpsHistory=[],this._dt=0,this._debugParams={showTerrainProxyTiles:!1,fpsWindow:30,continousRedraw:!1,enabledLayers:{}};const C=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","raster-particle","hillshade","model","background","sky"];for(const z of C)this._debugParams.enabledLayers[z]=!0;T.registerParameter(this._debugParams,["Terrain"],"showTerrainProxyTiles",{},()=>{this.style.map.triggerRepaint()}),T.registerParameter(this._debugParams,["FPS"],"fpsWindow",{min:1,max:100,step:1}),T.registerBinding(this._debugParams,["FPS"],"continousRedraw",{readonly:!0,label:"continuous redraw"}),T.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"value"}),T.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"graph",view:"graph",min:0,max:200});for(const z of C)T.registerParameter(this._debugParams.enabledLayers,["Debug","Layers"],z);this.occlusionParams=new Xl(T),this.setup(),this.numSublayers=o.bx.maxUnderzooming+o.bx.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new o.cp,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new nO(this),this._wireframeDebugCache=new Ca,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0,this.layersWithOcclusionOpacity=[];const O=new o.j({width:1,height:1},Uint8Array.of(0,0,0,0));this.emptyDepthTexture=new o.T(this.context,O,d.RGBA)}updateTerrain(d,m){const w=!!d&&!!d.terrain&&this.transform.projection.supportsTerrain;if(!(w||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new So(this,d));const T=this._terrain;this.transform.elevation=w?T:null,T.update(d,this.transform,m),this.transform.elevation&&!T.enabled&&(this.transform.elevation=null)}_updateFog(d){const m=d.fog;if(!m||this.transform.projection.name==="globe"||m.getOpacity(this.transform.pitch)<1||m.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[w,T]=m.getFovAdjustedRange(this.transform._fov);if(w>T)return void(this.transform.fogCullDistSq=null);const C=w+.78*(T-w);this.transform.fogCullDistSq=C*C}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled||this._forceTerrainMode?this._terrain:null}get forceTerrainMode(){return this._forceTerrainMode}set forceTerrainMode(d){d&&!this._terrain&&(this._terrain=new So(this,this.style)),this._forceTerrainMode=d}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(d,m){if(this.width=d*o.e.devicePixelRatio,this.height=m*o.e.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const w of this.style.order)this.style._mergedLayers[w].resize()}setup(){const d=this.context,m=new o.bv;m.emplaceBack(0,0),m.emplaceBack(o.a4,0),m.emplaceBack(0,o.a4),m.emplaceBack(o.a4,o.a4),this.tileExtentBuffer=d.createVertexBuffer(m,o.bt.members),this.tileExtentSegments=o.b.simpleSegment(0,0,4,2);const w=new o.bv;w.emplaceBack(0,0),w.emplaceBack(o.a4,0),w.emplaceBack(0,o.a4),w.emplaceBack(o.a4,o.a4),this.debugBuffer=d.createVertexBuffer(w,o.bt.members),this.debugSegments=o.b.simpleSegment(0,0,4,5);const T=new o.bv;T.emplaceBack(-1,-1),T.emplaceBack(1,-1),T.emplaceBack(-1,1),T.emplaceBack(1,1),this.viewportBuffer=d.createVertexBuffer(T,o.bt.members),this.viewportSegments=o.b.simpleSegment(0,0,4,2);const C=new o.cq;C.emplaceBack(0,0,0,0),C.emplaceBack(o.a4,0,o.a4,0),C.emplaceBack(0,o.a4,0,o.a4),C.emplaceBack(o.a4,o.a4,o.a4,o.a4),this.mercatorBoundsBuffer=d.createVertexBuffer(C,o.cr.members),this.mercatorBoundsSegments=o.b.simpleSegment(0,0,4,2);const O=new o.bw;O.emplaceBack(0,1,2),O.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=d.createIndexBuffer(O);const z=new o.cs;for(const q of[0,1,3,2,0])z.emplaceBack(q);this.debugIndexBuffer=d.createIndexBuffer(z),this.emptyTexture=new o.T(d,new o.j({width:1,height:1},Uint8Array.of(0,0,0,0)),d.gl.RGBA),this.identityMat=o.ae.create();const K=this.context.gl;this.stencilClearMode=new o.ah({func:K.ALWAYS,mask:0},0,255,K.ZERO,K.ZERO,K.ZERO),this.loadTimeStamps.push(performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(d){return d._makeTileBoundsBuffers(this.context,this.transform.projection),d._tileBoundsBuffer?{tileBoundsBuffer:d._tileBoundsBuffer,tileBoundsIndexBuffer:d._tileBoundsIndexBuffer,tileBoundsSegments:d._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const d=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram("clippingMask").draw(this,d.TRIANGLES,o.af.disabled,this.stencilClearMode,o.a.disabled,o.ag.disabled,v0(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(d,m,w){if(!m||this.currentStencilSource===m.id||!d.isTileClipped()||!w||w.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let z=!1;for(const K of w)if(this._tileClippingMaskIDs[K.key]===void 0){z=!0;break}if(!z)return}this.currentStencilSource=m.id;const T=this.context,C=T.gl;this.nextStencilID+w.length>256&&this.clearStencil(),T.setColorMode(o.a.disabled),T.setDepthMode(o.af.disabled);const O=this.getOrCreateProgram("clippingMask");this._tileClippingMaskIDs={};for(const z of w){const K=m.getTile(z),q=this._tileClippingMaskIDs[z.key]=this.nextStencilID++,{tileBoundsBuffer:Q,tileBoundsIndexBuffer:ie,tileBoundsSegments:ce}=this.getTileBoundsBuffers(K);O.draw(this,C.TRIANGLES,o.af.disabled,new o.ah({func:C.ALWAYS,mask:0},q,255,C.KEEP,C.KEEP,C.REPLACE),o.a.disabled,o.ag.disabled,v0(z.projMatrix),"$clipping",Q,ie,ce)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const d=this.nextStencilID++,m=this.context.gl;return new o.ah({func:m.NOTEQUAL,mask:255},d,255,m.KEEP,m.KEEP,m.REPLACE)}stencilModeForClipping(d){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(d);const m=this.context.gl;return new o.ah({func:m.EQUAL,mask:255},this._tileClippingMaskIDs[d.key],0,m.KEEP,m.KEEP,m.REPLACE)}stencilConfigForOverlap(d){const m=this.context.gl,w=d.sort((O,z)=>z.overscaledZ-O.overscaledZ),T=w[w.length-1].overscaledZ,C=w[0].overscaledZ-T+1;if(C>1){this.currentStencilSource=void 0,this.nextStencilID+C>256&&this.clearStencil();const O={};for(let z=0;z<C;z++)O[z+T]=new o.ah({func:m.GEQUAL,mask:255},z+this.nextStencilID,255,m.KEEP,m.KEEP,m.REPLACE);return this.nextStencilID+=C,[O,w]}return[{[T]:o.ah.disabled},w]}colorModeForRenderPass(){const d=this.context.gl;return this._showOverdrawInspector?new o.a([d.CONSTANT_COLOR,d.ONE,d.CONSTANT_COLOR,d.ONE],new o.C(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?o.a.unblended:o.a.alphaBlended}colorModeForDrapableLayerRenderPass(d){const m=this.context.gl;return this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture&&this.renderPass==="translucent"?new o.a([m.ONE,m.ONE_MINUS_SRC_ALPHA,m.CONSTANT_ALPHA,m.ONE_MINUS_SRC_ALPHA],new o.C(0,0,0,d===void 0?0:d),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(d,m,w,T=!1){if(this.depthOcclusion)return new o.af(this.context.gl.GREATER,o.af.ReadOnly,this.depthRangeFor3D);if(!this.opaquePassEnabledForLayer()&&!T)return o.af.disabled;const C=1-((1+this.currentLayer)*this.numSublayers+d)*this.depthEpsilon;return new o.af(w||this.context.gl.LEQUAL,m,[C,C])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}blitDepth(){const d=this.context.gl,m=Math.ceil(this.width),w=Math.ceil(this.height),T=this.context.bindFramebuffer.get(),C=d.getParameter(d.TEXTURE_BINDING_2D);this.depthFBO&&this.depthFBO.width===m&&this.depthFBO.height===w||(this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),m!==0&&w!==0&&(this.depthFBO=new kr(this.context,m,w,!1,"texture"),this.depthTexture=new o.T(this.context,{width:m,height:w,data:null},d.DEPTH_STENCIL),this.depthFBO.depthAttachment.set(this.depthTexture.texture))),this.context.bindFramebuffer.set(T),d.bindTexture(d.TEXTURE_2D,C),this.depthFBO&&(d.bindFramebuffer(d.READ_FRAMEBUFFER,null),d.bindFramebuffer(d.DRAW_FRAMEBUFFER,this.depthFBO.framebuffer),d.blitFramebuffer(0,0,m,w,0,0,m,w,d.DEPTH_BUFFER_BIT,d.NEAREST),d.bindFramebuffer(d.FRAMEBUFFER,this.context.bindFramebuffer.current))}updateAverageFPS(){this._fpsHistory.push(this._dt===0?0:1e3/this._dt),this._fpsHistory.length>this._debugParams.fpsWindow&&this._fpsHistory.splice(0,this._fpsHistory.length-this._debugParams.fpsWindow),this._averageFPS=Math.round(this._fpsHistory.reduce((d,m)=>d+m/this._fpsHistory.length,0))}render(d,m){const w=o.e.now();this._dt=w-this._timeStamp,this._timeStamp=w,this._wireframeDebugCache.update(this.frameCounter),this._debugParams.continousRedraw=d.map.repaint,this.style=d,this.options=m;const T=this.style._mergedLayers,C=this.style.order.filter(ot=>{const Xe=T[ot];return!(Xe.type in this._debugParams.enabledLayers)||this._debugParams.enabledLayers[Xe.type]});let O=!1,z=!1;for(const ot of C){const Xe=T[ot];Xe.type==="circle"&&(O=!0),Xe.type==="symbol"&&(Xe.hasInitialOcclusionOpacityProperties?z=!0:O=!0)}const K=C.map(ot=>T[ot]),q=this.style._mergedSourceCaches;this.imageManager=d.imageManager,this.modelManager=d.modelManager,this.symbolFadeChange=d.placement.symbolFadeChange(o.e.now()),this.imageManager.beginFrame();let Q=0,ie=!1;for(const ot in q){const Xe=q[ot];Xe.used&&(Xe.prepare(this.context),Xe.getSource().usedInConflation&&++Q)}let ce=!1;for(const ot of K)ot.isHidden(this.transform.zoom)||(ot.type==="clip"&&(ce=!0),this.prepareLayer(ot));const me={},Ee={},Ae={},Pe={},Ie={};for(const ot in q){const Xe=q[ot];me[ot]=Xe.getVisibleCoordinates(),Ee[ot]=me[ot].slice().reverse(),Ae[ot]=Xe.getVisibleCoordinates(!0).reverse(),Pe[ot]=Xe.getShadowCasterCoordinates(),Ie[ot]=Xe.sortCoordinatesByDistance(me[ot])}const Ve=ot=>{const Xe=this.style.getLayerSourceCache(ot);return Xe&&Xe.used?Xe.getSource():null};if(Q||ce){const ot=[],Xe=[];let xt=0;for(const vt of K)this.isSourceForClippingOrConflation(vt,Ve(vt))&&(ot.push(vt),Xe.push(xt)),xt++;if(ot&&(ce||ot.length>1)){const vt=[];for(let lt=0;lt<ot.length;lt++){const Kt=ot[lt],zt=Xe[lt],ht=this.style.getLayerSourceCache(Kt);if(!ht||!ht.used||!ht.getSource().usedInConflation&&Kt.type!=="clip")continue;let Pt=o.cv,st=o.cw.None;const Nt=[];if(Kt.type==="clip"){Pt=zt;for(const jt of Kt.layout.get("clip-layer-types"))st|=jt==="model"?o.cw.Model:jt==="symbol"?o.cw.Symbol:o.cw.FillExtrusion;for(const jt of Kt.layout.get("clip-layer-scope"))Nt.push(jt)}vt.push({layer:Kt.fqid,cache:ht,order:Pt,clipMask:st,clipScope:Nt})}this.replacementSource.setSources(vt),ie=!0}}ie||this.replacementSource.clear(),this.conflationActive=ie,this.minCutoffZoom=0,this.longestCutoffRange=0,this.opaquePassCutoff=1/0,this._lastOcclusionLayer=-1,this.layersWithOcclusionOpacity=[];for(let ot=0;ot<K.length;ot++){const Xe=K[ot],xt=Xe.cutoffRange();if(this.longestCutoffRange=Math.max(xt,this.longestCutoffRange),xt>0){const vt=Ve(Xe);vt&&(this.minCutoffZoom=Math.max(vt.minzoom,this.minCutoffZoom)),Xe.minzoom&&(this.minCutoffZoom=Math.max(Xe.minzoom,this.minCutoffZoom))}Xe.is3D()&&(this.opaquePassCutoff===1/0&&(this.opaquePassCutoff=ot),this._lastOcclusionLayer=ot)}const Ue=this.style&&this.style.fog;Ue?(this._fogVisible=Ue.getOpacity(this.transform.pitch)!==0,this._fogVisible&&this.transform.projection.name!=="globe"&&(this._fogVisible=Ue.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(Ae),this.opaquePassCutoff=0);const Fe=this._shadowRenderer;if(Fe){Fe.updateShadowParameters(this.transform,this.style.directionalLight);for(const ot in q)for(const Xe of me[ot]){let xt={min:0,max:0};this.terrain&&(xt=this.terrain.getMinMaxForTile(Xe)||xt),Fe.addShadowReceiver(Xe.toUnwrapped(),xt.min,xt.max)}}if(this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new o.ct(this.context)),this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new Rv(this)),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),!o.cu(this.context.gl))return;this.renderPass="offscreen";for(const ot of K){const Xe=d.getLayerSourceCache(ot);if(!ot.hasOffscreenPass()||ot.isHidden(this.transform.zoom))continue;const xt=Xe?Ee[Xe.id]:void 0;(ot.type==="custom"||ot.type==="raster"||ot.type==="raster-particle"||ot.isSky()||xt&&xt.length)&&this.renderLayer(this,Xe,ot,xt)}this.depthRangeFor3D=[0,1-(K.length+2)*this.numSublayers*this.depthEpsilon],this._shadowRenderer&&(this.renderPass="shadow",this._shadowRenderer.drawShadowPass(this.style,Pe)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const Ye=this.transform.projection.name==="globe"||this.transform.isHorizonVisible(),He=(()=>{if(m.showOverdrawInspector)return o.C.black;const ot=this.style.fog;if(ot&&this.transform.projection.supportsFog){const Xe=this.style.getLut(ot.scope);if(!Ye){const xt=ot.properties.get("color").toRenderColor(Xe).toArray01();return new o.C(...xt)}if(Ye){const xt=ot.properties.get("space-color").toRenderColor(Xe).toArray01();return new o.C(...xt)}}return o.C.transparent})();if(this.context.clear({color:He,depth:1}),this.clearStencil(),this._showOverdrawInspector=m.showOverdrawInspector,this.renderPass="opaque",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&Ye&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=C.length-1;this.currentLayer>=0;this.currentLayer--){const ot=K[this.currentLayer],Xe=d.getLayerSourceCache(ot);if(ot.isSky())continue;const xt=Xe?(ot.is3D()?Ie:Ee)[Xe.id]:void 0;this._renderTileClippingMasks(ot,Xe,xt),this.renderLayer(this,Xe,ot,xt)}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&Ye&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass="sky",(!this._atmosphere||o.a2(this.transform.zoom)>0)&&(this.transform.projection.name==="globe"||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<C.length;this.currentLayer++){const ot=K[this.currentLayer],Xe=d.getLayerSourceCache(ot);ot.isSky()&&this.renderLayer(this,Xe,ot,Xe?Ee[Xe.id]:void 0)}function Ge(ot,Xe){let xt;return Xe&&(xt=(ot.type==="symbol"?Ae:ot.is3D()?Ie:Ee)[Xe.id]),xt}if(this.renderPass="translucent",this.transform.projection.name==="globe"){for(this.renderElevatedRasterBackface=!0,this.currentLayer=0;this.currentLayer<C.length;){const ot=K[this.currentLayer];if(ot.type==="raster"||ot.type==="raster-particle"){const Xe=d.getLayerSourceCache(ot);this.renderLayer(this,Xe,ot,Ge(ot,Xe))}++this.currentLayer}this.renderElevatedRasterBackface=!1}this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let nt=0;Fe&&(nt=Fe.getShadowCastingLayerCount());let at=!1,pt=-1;for(let ot=0;ot<C.length;++ot){const Xe=K[ot];Xe.isHidden(this.transform.zoom)||Xe.is3D()&&(pt=ot)}for(z&&pt===-1&&(O=!0);this.currentLayer<C.length;){const ot=K[this.currentLayer],Xe=d.getLayerSourceCache(ot);if(ot.isSky())++this.currentLayer;else if(this.terrain&&this.style.isLayerDraped(ot)){if(ot.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer),this._lastOcclusionLayer=Math.max(this.currentLayer,this._lastOcclusionLayer)}else{if(O&&!at&&this.terrain&&!this.transform.isOrthographic&&(at=!0,this.blitDepth()),z&&pt!==-1&&this.currentLayer===pt+1&&!this.transform.isOrthographic&&this.blitDepth(),ot.is3D()||this.terrain||this._renderTileClippingMasks(ot,Xe,Xe?me[Xe.id]:void 0),this.renderLayer(this,Xe,ot,Ge(ot,Xe)),!this.terrain&&Fe&&nt>0&&ot.hasShadowPass()&&--nt==0&&(Fe.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const xt=this.currentLayer;for(this.renderPass="light-beam",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=xt;this.currentLayer++){const vt=K[this.currentLayer];if(!vt.hasLightBeamPass())continue;const lt=d.getLayerSourceCache(vt);this.renderLayer(this,lt,vt,lt?Ee[lt.id]:void 0)}this.currentLayer=xt,this.renderPass="translucent"}if(this.currentLayer>=this._lastOcclusionLayer&&this.layersWithOcclusionOpacity.length>0){const xt=this.currentLayer;this.depthOcclusion=!0;for(const vt of this.layersWithOcclusionOpacity){this.currentLayer=vt;const lt=K[this.currentLayer],Kt=d.getLayerSourceCache(lt),zt=Kt?Ee[Kt.id]:void 0;lt.is3D()||this.terrain||this._renderTileClippingMasks(lt,Kt,Kt?me[Kt.id]:void 0),this.renderLayer(this,Kt,lt,zt)}this.depthOcclusion=!1,this.currentLayer=xt,this.renderPass="translucent",this.layersWithOcclusionOpacity=[]}++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let ot=null;K.forEach(Xe=>{const xt=d.getLayerSourceCache(Xe);xt&&!Xe.isHidden(this.transform.zoom)&&xt.getVisibleCoordinates().length&&(!ot||ot.getSource().maxzoom<xt.getSource().maxzoom)&&(ot=xt)}),ot&&this.options.showTileBoundaries&&Yl.debug(this,ot,ot.getVisibleCoordinates(),o.C.red,!1,this.options.showParseStatus)}this.terrain&&this._debugParams.showTerrainProxyTiles&&Yl.debug(this,this.terrain.proxySourceCache,this.terrain.proxyCoords,new o.C(1,.8,.1,1),!0,this.options.showParseStatus),this.options.showPadding&&function(ot){const Xe=ot.transform.padding;Y3(ot,ot.transform.height-(Xe.top||0),3,Z3),Y3(ot,Xe.bottom||0,3,Dv),C0(ot,Xe.left||0,3,X3),C0(ot,ot.transform.width-(Xe.right||0),3,Hn);const xt=ot.transform.centerPoint;(function(vt,lt,Kt,zt){Uh(vt,lt-1,Kt-10,2,20,zt),Uh(vt,lt-10,Kt-1,20,2,zt)})(ot,xt.x,ot.transform.height-xt.y,uO)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(performance.now()),this.saveCanvasCopy()),ie||(this.conflationActive=!1)}prepareLayer(d){this.gpuTimingStart(d);const{unsupportedLayers:m}=this.transform.projection,w=!m||!m.includes(d.type);if(Ba[d.type]&&(w||this.terrain&&d.type==="custom")){const T=this.style.getLayerSourceCache(d);Ba[d.type](d,T,this)}this.gpuTimingEnd()}renderLayer(d,m,w,T){w.isHidden(this.transform.zoom)||(w.type==="background"||w.type==="sky"||w.type==="custom"||w.type==="model"||w.type==="raster"||w.type==="raster-particle"||T&&T.length)&&(this.id=w.id,this.gpuTimingStart(w),d.transform.projection.unsupportedLayers&&d.transform.projection.unsupportedLayers.includes(w.type)&&(!d.terrain||w.type!=="custom")||w.type==="clip"||Yl[w.type](d,m,w,T,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(d){if(!this.options.gpuTiming)return;const m=this.context.extTimerQuery,w=this.context.gl;let T=this.gpuTimers[d.id];T||(T=this.gpuTimers[d.id]={calls:0,cpuTime:0,query:w.createQuery()}),T.calls++,w.beginQuery(m.TIME_ELAPSED_EXT,T.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const d=this.context.extTimerQuery,m=this.context.gl,w=m.createQuery();this.deferredRenderGpuTimeQueries.push(w),m.beginQuery(d.TIME_ELAPSED_EXT,w)}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}collectGpuTimers(){const d=this.gpuTimers;return this.gpuTimers={},d}collectDeferredRenderGpuQueries(){const d=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],d}queryGpuTimers(d){const m={};for(const w in d){const T=d[w],C=this.context.extTimerQuery,O=C.getQueryParameter(T.query,this.context.gl.QUERY_RESULT)/1e6;C.deleteQueryEXT(T.query),m[w]=O}return m}queryGpuTimeDeferredRender(d){if(!this.options.gpuTimingDeferredRender)return 0;const m=this.context.extTimerQuery,w=this.context.gl;let T=0;for(const C of d)T+=m.getQueryParameter(C,w.QUERY_RESULT)/1e6,m.deleteQueryEXT(C);return T}translatePosMatrix(d,m,w,T,C){if(!w[0]&&!w[1])return d;const O=C?T==="map"?this.transform.angle:0:T==="viewport"?-this.transform.angle:0;if(O){const q=Math.sin(O),Q=Math.cos(O);w=[w[0]*Q-w[1]*q,w[0]*q+w[1]*Q]}const z=[C?w[0]:o.bD(m,w[0],this.transform.zoom),C?w[1]:o.bD(m,w[1],this.transform.zoom),0],K=new Float32Array(16);return o.ae.translate(K,d,z),K}saveTileTexture(d){const m=d.size[0],w=this._tileTextures[m];w?w.push(d):this._tileTextures[m]=[d]}getTileTexture(d){const m=this._tileTextures[d];return m&&m.length>0?m.pop():null}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture||this.forceTerrainMode}linearFloatFilteringSupported(){return this.context.extTextureFloatLinear!=null}currentGlobalDefines(d,m,w){const T=w===void 0?this.terrain&&this.terrain.renderingToTexture:w,C=[];return this.style&&this.style.enable3dLights()&&(d==="globeRaster"||d==="terrainRaster"?(C.push("LIGHTING_3D_MODE"),C.push("LIGHTING_3D_ALPHA_EMISSIVENESS")):T||C.push("LIGHTING_3D_MODE")),this.renderPass==="shadow"?this._shadowMapDebug||C.push("DEPTH_TEXTURE"):this.shadowRenderer&&(this.shadowRenderer.useNormalOffset?C.push("RENDER_SHADOWS","DEPTH_TEXTURE","NORMAL_OFFSET"):C.push("RENDER_SHADOWS","DEPTH_TEXTURE")),this.terrainRenderModeElevated()&&(C.push("TERRAIN"),this.linearFloatFilteringSupported()&&C.push("TERRAIN_DEM_FLOAT_FORMAT")),this.transform.projection.name==="globe"&&C.push("GLOBE"),!this._fogVisible||T||m!==void 0&&!m||C.push("FOG","FOG_DITHERING"),T&&C.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&C.push("OVERDRAW_INSPECTOR"),C}getOrCreateProgram(d,m){this.cache=this.cache||{};const w=m&&m.defines||[],T=m&&m.config,C=this.currentGlobalDefines(d,m&&m.overrideFog,m&&m.overrideRtt).concat(w),O=N3.cacheKey(cS[d],d,C,T);return this.cache[O]||(this.cache[O]=new N3(this.context,d,cS[d],T,AS[d],C)),this.cache[O]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const d=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(d.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new o.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy(),this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),this.emptyDepthTexture&&this.emptyDepthTexture.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}uploadCommonLightUniforms(d,m){if(this.style.enable3dLights()){const w=this.style.directionalLight,T=this.style.ambientLight;if(w&&T){const C=((O,z,K)=>{const q=O.properties.get("direction"),Q=O.properties.get("color").toRenderColor(K.getLut(O.scope)).toArray01(),ie=O.properties.get("intensity"),ce=z.properties.get("color").toRenderColor(K.getLut(z.scope)).toArray01(),me=z.properties.get("intensity"),Ee=[q.x,q.y,q.z],Ae=o.bC(ce,me),Pe=o.bC(Q,ie);return{u_lighting_ambient_color:Ae,u_lighting_directional_dir:Ee,u_lighting_directional_color:Pe,u_ground_radiance:vS(Ee,Pe,Ae)}})(w,T,this.style);m.setLightsUniformValues(d,C)}}}uploadCommonUniforms(d,m,w,T,C){if(this.uploadCommonLightUniforms(d,m),this.terrain&&this.terrain.renderingToTexture)return;const O=this.style.fog;if(O){const z=O.getOpacity(this.transform.pitch),K=((q,Q,ie,ce,me,Ee,Ae,Pe,Ie,Ve,Ue,Fe)=>{const Ye=q.transform,He=Q.properties.get("color").toRenderColor(q.style.getLut(Q.scope)).toArray01();He[3]=ce;const Ge=q.frameCounter/1e3%1,[nt,at]=Q.properties.get("vertical-range");return{u_fog_matrix:ie?Ye.calculateFogTileMatrix(ie):Fe||q.identityMat,u_fog_range:Q.getFovAdjustedRange(Ye._fov),u_fog_color:He,u_fog_horizon_blend:Q.properties.get("horizon-blend"),u_fog_vertical_limit:[Math.min(nt,at),at],u_fog_temporal_offset:Ge,u_frustum_tl:me,u_frustum_tr:Ee,u_frustum_br:Ae,u_frustum_bl:Pe,u_globe_pos:Ie,u_globe_radius:Ve,u_viewport:Ue,u_globe_transition:o.a2(Ye.zoom),u_is_globe:+(Ye.projection.name==="globe")}})(this,O,w,z,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*o.e.devicePixelRatio,this.transform.height*o.e.devicePixelRatio],T);m.setFogUniformValues(d,K)}C&&m.setCutoffUniformValues(d,C.uniformValues)}setTileLoadedFlag(d){this.tileLoaded=d}saveCanvasCopy(){const d=this.canvasCopy();d&&(this.frameCopies.push(d),this.tileLoaded=!1)}canvasCopy(){const d=this.context.gl,m=d.createTexture();return d.bindTexture(d.TEXTURE_2D,m),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGBA,0,0,d.drawingBufferWidth,d.drawingBufferHeight,0),m}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const d=this.style&&this.style.fog;return!!d&&d.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const d=this._backgroundTiles,m=this._backgroundTiles={},w=this.transform.coveringTiles({tileSize:512});for(const T of w)m[T.key]=d[T.key]||new o.bA(T,512,this.transform.tileZoom,this);return m}clearBackgroundTiles(){this._backgroundTiles={}}isSourceForClippingOrConflation(d,m){return!(!d.is3D()||d.minzoom&&d.minzoom>this.transform.zoom||(this.style._clipLayerIndices.length||d.sourceLayer!=="building")&&d.type!=="clip"&&(!m||m.type!=="batched-model"))}isTileAffectedByFog(d){if(!this.style||!this.style.fog)return!1;if(this.transform.projection.name==="globe")return!0;let m=this._cachedTileFogOpacities[d.key];return m||(this._cachedTileFogOpacities[d.key]=m=this.style.fog.getOpacityForTile(d)),m[0]>=Cn||m[1]>=Cn}setupDepthForOcclusion(d,m,w){const T=this.context,C=T.gl,O=!!w;var z;w||(w={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0}),T.activeTexture.set(C.TEXTURE3),d&&this.depthFBO&&this.depthTexture?(this.depthTexture.bind(C.NEAREST,C.CLAMP_TO_EDGE),w.u_depth_size_inv=[1/this.depthFBO.width,1/this.depthFBO.height],w.u_depth_range_unpack=[2/((z=this.depthRangeFor3D)[1]-z[0]),-1-2*z[0]/(z[1]-z[0])],w.u_occluder_half_size=.5*this.occlusionParams.occluderSize,w.u_occlusion_depth_offset=this.occlusionParams.depthOffset):this.emptyDepthTexture.bind(C.NEAREST,C.CLAMP_TO_EDGE),T.activeTexture.set(C.TEXTURE0),O||m.setTerrainUniformValues(T,w)}}class Zs{constructor(d,m,w,T){this.screenBounds=d,this.cameraPoint=m,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=w,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,T)}static createFromScreenPoints(d,m){let w,T;if(d instanceof o.P||typeof d[0]=="number"){const C=o.P.convert(d);w=[C],T=m.isPointAboveHorizon(C)}else{const C=o.P.convert(d[0]),O=o.P.convert(d[1]);w=[C,O],T=o.cx(C,O).every(z=>m.isPointAboveHorizon(z))}return new Zs(w,m.getCameraPoint(),T,m)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(d){return o.cx(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],d)}bufferedCameraGeometry(d){const m=this.screenBounds[0],w=this.screenBounds.length===1?this.screenBounds[0].add(new o.P(1,1)):this.screenBounds[1],T=o.cx(m,w,0,!1);return this.cameraPoint.y>w.y&&(this.cameraPoint.x>m.x&&this.cameraPoint.x<w.x?T.splice(3,0,this.cameraPoint):this.cameraPoint.x>=w.x?T[2]=this.cameraPoint:this.cameraPoint.x<=m.x&&(T[3]=this.cameraPoint)),o.cy(T,d)}bufferedCameraGeometryGlobe(d){const m=this.screenBounds[0],w=this.screenBounds.length===1?this.screenBounds[0].add(new o.P(1,1)):this.screenBounds[1],T=o.cx(m,w,d),C=this.cameraPoint.clone();switch(3*((C.y>m.y)+(C.y>w.y))+((C.x>m.x)+(C.x>w.x))){case 0:T[0]=C,T[4]=C.clone();break;case 1:T.splice(1,0,C);break;case 2:T[1]=C;break;case 3:T.splice(4,0,C);break;case 5:T.splice(2,0,C);break;case 6:T[3]=C;break;case 7:T.splice(3,0,C);break;case 8:T[2]=C}return T}containsTile(d,m,w,T=0){const C=d.queryPadding/m._pixelsPerMercatorPixel+1,O=w?this._bufferedCameraMercator(C,m):this._bufferedScreenMercator(C,m);let z=d.tileID.wrap+(O.unwrapped?T:0);const K=O.polygon.map(Pe=>o.cz(d.tileTransform,Pe,z));if(!o.cA(K,0,0,o.a4,o.a4))return;z=d.tileID.wrap+(this.screenGeometryMercator.unwrapped?T:0);const q=this.screenGeometryMercator.polygon.map(Pe=>o.cB(d.tileTransform,Pe,z)),Q=q.map(Pe=>new o.P(Pe[0],Pe[1])),ie=m.getFreeCameraOptions().position||new o._(0,0,0),ce=o.cB(d.tileTransform,ie,z),me=q.map(Pe=>{const Ie=o.$.sub(Pe,Pe,ce);return o.$.normalize(Ie,Ie),new o.aU(ce,Ie)}),Ee=o.bD(d,1,m.zoom)*m._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:Q,tilespaceRays:me,bufferedTilespaceGeometry:K,bufferedTilespaceBounds:(Ae=o.cC(K),Ae.min.x=o.au(Ae.min.x,0,o.a4),Ae.min.y=o.au(Ae.min.y,0,o.a4),Ae.max.x=o.au(Ae.max.x,0,o.a4),Ae.max.y=o.au(Ae.max.y,0,o.a4),Ae),tile:d,tileID:d.tileID,pixelToTileUnitsFactor:Ee};var Ae}_bufferedScreenMercator(d,m){const w=Md(d);if(this._screenRaycastCache[w])return this._screenRaycastCache[w];{let T;return T=m.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(d),m):{polygon:this.bufferedScreenGeometry(d).map(C=>m.pointCoordinate3D(C)),unwrapped:!0},this._screenRaycastCache[w]=T,T}}_bufferedCameraMercator(d,m){const w=Md(d);if(this._cameraRaycastCache[w])return this._cameraRaycastCache[w];{let T;return T=m.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(d),m):{polygon:this.bufferedCameraGeometry(d).map(C=>m.pointCoordinate3D(C)),unwrapped:!0},this._cameraRaycastCache[w]=T,T}}_projectAndResample(d,m){const w=function(C,O){const z=o.ae.multiply([],O.pixelMatrix,O.globeMatrix),K=[0,-o.cF,0,1],q=[0,o.cF,0,1],Q=[0,0,0,1];o.aB.transformMat4(K,K,z),o.aB.transformMat4(q,q,z),o.aB.transformMat4(Q,Q,z);const ie=new o.P(K[0]/K[3],K[1]/K[3]),ce=new o.P(q[0]/q[3],q[1]/q[3]),me=o.cD(C,ie)&&K[3]<Q[3],Ee=o.cD(C,ce)&&q[3]<Q[3];if(!me&&!Ee)return null;const Ae=function(Ge,nt,at){for(let pt=1;pt<Ge.length;pt++){const ot=Tc(nt.pointCoordinate3D(Ge[pt-1]).x),Xe=Tc(nt.pointCoordinate3D(Ge[pt]).x);if(at<0){if(ot<Xe)return{idx:pt,t:-ot/(Xe-1-ot)}}else if(Xe<ot)return{idx:pt,t:(1-ot)/(Xe+1-ot)}}return null}(C,O,me?-1:1);if(!Ae)return null;const{idx:Pe,t:Ie}=Ae;let Ve=Pe>1?Bf(C.slice(0,Pe),O):[],Ue=Pe<C.length?Bf(C.slice(Pe),O):[];Ve=Ve.map(Ge=>new o.P(Tc(Ge.x),Ge.y)),Ue=Ue.map(Ge=>new o.P(Tc(Ge.x),Ge.y));const Fe=[...Ve];Fe.length===0&&Fe.push(Ue[Ue.length-1]);const Ye=o.a3(Fe[Fe.length-1].y,(Ue.length===0?Ve[0]:Ue[0]).y,Ie);let He;return He=me?[new o.P(0,Ye),new o.P(0,0),new o.P(1,0),new o.P(1,Ye)]:[new o.P(1,Ye),new o.P(1,1),new o.P(0,1),new o.P(0,Ye)],Fe.push(...He),Ue.length===0?Fe.push(Ve[0]):Fe.push(...Ue),{polygon:Fe.map(Ge=>new o._(Ge.x,Ge.y)),unwrapped:!1}}(d,m);if(w)return w;const T=function(C,O){let z=!1,K=-1/0,q=0;for(let ie=0;ie<C.length-1;ie++)C[ie].x>K&&(K=C[ie].x,q=ie);for(let ie=0;ie<C.length-1;ie++){const ce=(q+ie)%(C.length-1),me=C[ce],Ee=C[ce+1];Math.abs(me.x-Ee.x)>.5&&(me.x<Ee.x?(me.x+=1,ce===0&&(C[C.length-1].x+=1)):(Ee.x+=1,ce+1===C.length-1&&(C[0].x+=1)),z=!0)}const Q=o.ak(O.center.lng);return z&&Q<Math.abs(Q-1)&&C.forEach(ie=>{ie.x-=1}),{polygon:C,unwrapped:z}}(Bf(d,m).map(C=>new o.P(Tc(C.x),C.y)),m);return{polygon:T.polygon.map(C=>new o._(C.x,C.y)),unwrapped:T.unwrapped}}}function Bf(b,d){return o.cE(b,m=>{const w=d.pointCoordinate3D(m);m.x=w.x,m.y=w.y},1/256)}function Tc(b){return b<0?1+b%1:b%1}function Md(b){return 100*b|0}function cO(b,d){const m=o.ae.identity([]);return o.ae.scale(m,m,[.5*b.width,.5*-b.height,1]),o.ae.translate(m,m,[1,-1,0]),o.ae.multiply(m,m,b.calculateProjMatrix(d.toUnwrapped())),Float32Array.from(m)}function Pc(b,d,m,w,T,C,O,z=!1){const K=b.tilesIn(w,O,z);K.sort(tw);const q=[];for(const ie of K)q.push({wrappedTileID:ie.tile.tileID.wrapped().key,queryResults:ie.tile.queryRenderedFeatures(d,m,b._state,ie,T,C,cO(b.transform,ie.tile.tileID),z)});const Q=function(ie){const ce={},me={};for(const Ee of ie){const Ae=Ee.queryResults,Pe=Ee.wrappedTileID,Ie=me[Pe]=me[Pe]||{};for(const Ve in Ae){const Ue=Ae[Ve],Fe=Ie[Ve]=Ie[Ve]||{},Ye=ce[Ve]=ce[Ve]||[];for(const He of Ue)Fe[He.featureIndex]||(Fe[He.featureIndex]=!0,Ye.push(He))}}return ce}(q);for(const ie in Q)Q[ie].forEach(ce=>{const me=ce.feature,Ee=me.layer;Ee&&Ee.type!=="background"&&Ee.type!=="sky"&&Ee.type!=="slot"&&(me.source=Ee.source,Ee["source-layer"]&&(me.sourceLayer=Ee["source-layer"]),me.state=me.id!==void 0?b.getFeatureState(Ee["source-layer"],me.id):{})});return Q}function dO(b,d){const m=b.getRenderableIds().map(C=>b.getTileByID(C)),w=[],T={};for(let C=0;C<m.length;C++){const O=m[C],z=O.tileID.canonical.key;T[z]||(T[z]=!0,O.querySourceFeatures(w,d))}return w}function tw(b,d){const m=b.tileID,w=d.tileID;return m.overscaledZ-w.overscaledZ||m.canonical.y-w.canonical.y||m.wrap-w.wrap||m.canonical.x-w.canonical.x}class Ss{constructor(d){this.style=d,this.layersGotHidden=!1,this.layers=[]}processLayersChanged(){this.layers=[];const d=!1,m=!1;for(const w in this.style._mergedLayers){const T=this.style._mergedLayers[w];if(T.type==="fill-extrusion")this.layers.push({layer:T,visible:d,visibilityChanged:m});else if(T.type==="model"){const C=this.style.getLayerSource(T);C&&C.type==="batched-model"&&this.layers.push({layer:T,visible:d,visibilityChanged:m})}}}onNewFrame(d){this.layersGotHidden=!1;for(const m of this.layers){const w=m.layer;let T=!1;w.type==="fill-extrusion"?T=!w.isHidden(d)&&w.paint.get("fill-extrusion-opacity")>0:w.type==="model"&&(T=!w.isHidden(d)&&w.paint.get("model-opacity")>0),this.layersGotHidden=this.layersGotHidden||!T&&m.visible,m.visible=T}}updateZOffset(d,m){this.currentBuildingBuckets=[];for(const T of this.layers){const C=T.layer,O=this.style.getLayerSourceCache(C);let z=1;C.type==="fill-extrusion"&&(z=T.visible?C.paint.get("fill-extrusion-vertical-scale"):0);let K=O?O.getTile(m):null;if(!K&&O&&m.canonical.z>O.getSource().minzoom){let q=m.scaledTo(Math.min(O.getSource().maxzoom,m.overscaledZ-1));for(;q.overscaledZ>=O.getSource().minzoom&&(K=O.getTile(q),!K&&q.overscaledZ!==0);)q=q.scaledTo(q.overscaledZ-1)}this.currentBuildingBuckets.push({bucket:K?K.getBucket(C):null,tileID:K?K.tileID:m,verticalScale:z})}d.hasAnyZOffset=!1;let w=!1;for(let T=0;T<d.symbolInstances.length;T++){const C=d.symbolInstances.get(T),O=C.zOffset,z=this._getHeightAtTileOffset(m,C.tileAnchorX,C.tileAnchorY);C.zOffset=z!==Number.NEGATIVE_INFINITY?z:O,w||O===C.zOffset||(w=!0),d.hasAnyZOffset||C.zOffset===0||(d.hasAnyZOffset=!0)}w&&(d.zOffsetBuffersNeedUpload=!0,d.zOffsetSortDirty=!0)}_mapCoordToOverlappingTile(d,m,w,T){let C=m,O=w;if(d.canonical.z!==T.canonical.z){const z=T.canonical,K=1/(1<<d.canonical.z-z.z);C=(m+d.canonical.x*o.a4)*K-z.x*o.a4|0,O=(w+d.canonical.y*o.a4)*K-z.y*o.a4|0}return{tileX:C,tileY:O}}_getHeightAtTileOffset(d,m,w){let T,C;for(let O=0;O<this.layers.length;++O){if(this.layers[O].layer.type!=="fill-extrusion")continue;const{bucket:z,tileID:K,verticalScale:q}=this.currentBuildingBuckets[O];if(!z)continue;const{tileX:Q,tileY:ie}=this._mapCoordToOverlappingTile(d,m,w,K),ce=z.getHeightAtTileCoord(Q,ie);ce&&ce.height!==void 0&&(ce.hidden?T=ce.height:C=Math.max(ce.height*q,C||0))}if(C!==void 0)return C;for(let O=0;O<this.layers.length;++O){const z=this.layers[O];if(z.layer.type!=="model"||!z.visible)continue;const{bucket:K,tileID:q}=this.currentBuildingBuckets[O];if(!K)continue;const{tileX:Q,tileY:ie}=this._mapCoordToOverlappingTile(d,m,w,q),ce=K.getHeightAtTileCoord(Q,ie);if(ce&&!ce.hidden)return ce.height===void 0&&T!==void 0?Math.min(ce.maxHeight,T)*ce.verticalScale:ce.height?ce.height*ce.verticalScale:Number.NEGATIVE_INFINITY}return this.layersGotHidden?0:Number.NEGATIVE_INFINITY}}function fO(b,d){const m={};for(const w in b)w!=="ref"&&(m[w]=b[w]);return o.cG.forEach(w=>{w in d&&(m[w]=d[w])}),m}function k0(b){b=b.slice();const d=Object.create(null);for(let m=0;m<b.length;m++)d[b[m].id]=b[m];for(let m=0;m<b.length;m++)"ref"in b[m]&&(b[m]=fO(b[m],d[b[m].ref]));return b}const Gn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setSlot:"setSlot",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setCamera:"setCamera",setLights:"setLights",setProjection:"setProjection",addImport:"addImport",removeImport:"removeImport",updateImport:"updateImport"};function Gh(b,d,m){m.push({command:Gn.addSource,args:[b,d[b]]})}function DS(b,d,m){d.push({command:Gn.removeSource,args:[b]}),m[b]=!0}function pO(b,d,m,w){DS(b,m,w),Gh(b,d,m)}function O0(b,d,m){let w;for(w in b[m])if(b[m].hasOwnProperty(w)&&w!=="data"&&!o.d(b[m][w],d[m][w]))return!1;for(w in d[m])if(d[m].hasOwnProperty(w)&&w!=="data"&&!o.d(b[m][w],d[m][w]))return!1;return!0}function kd(b,d,m,w,T,C){let O;for(O in d=d||{},b=b||{})b.hasOwnProperty(O)&&(o.d(b[O],d[O])||m.push({command:C,args:[w,O,d[O],T]}));for(O in d)d.hasOwnProperty(O)&&!b.hasOwnProperty(O)&&(o.d(b[O],d[O])||m.push({command:C,args:[w,O,d[O],T]}))}function Bv(b){return b.id}function Cc(b,d){return b[d.id]=d,b}class RS{constructor(d,m){this.reset(d,m)}reset(d,m){this.points=d||[],this._distances=[0];for(let w=1;w<this.points.length;w++)this._distances[w]=this._distances[w-1]+this.points[w].dist(this.points[w-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(m||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(d){if(this.points.length===1)return this.points[0];d=o.au(d,0,1);let m=1,w=this._distances[m];const T=d*this.paddedLength+this.padding;for(;w<T&&m<this._distances.length;)w=this._distances[++m];const C=m-1,O=this._distances[C],z=w-O,K=z>0?(T-O)/z:0;return this.points[C].mult(1-K).add(this.points[m].mult(K))}}class D0{constructor(d,m,w){const T=this.boxCells=[],C=this.circleCells=[];this.xCellCount=Math.ceil(d/w),this.yCellCount=Math.ceil(m/w);for(let O=0;O<this.xCellCount*this.yCellCount;O++)T.push([]),C.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=d,this.height=m,this.xScale=this.xCellCount/d,this.yScale=this.yCellCount/m,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(d,m,w,T,C){this._forEachCell(m,w,T,C,this._insertBoxCell,this.boxUid++),this.boxKeys.push(d),this.bboxes.push(m),this.bboxes.push(w),this.bboxes.push(T),this.bboxes.push(C)}insertCircle(d,m,w,T){this._forEachCell(m-T,w-T,m+T,w+T,this._insertCircleCell,this.circleUid++),this.circleKeys.push(d),this.circles.push(m),this.circles.push(w),this.circles.push(T)}_insertBoxCell(d,m,w,T,C,O){this.boxCells[C].push(O)}_insertCircleCell(d,m,w,T,C,O){this.circleCells[C].push(O)}_query(d,m,w,T,C,O){if(w<0||d>this.width||T<0||m>this.height)return!C&&[];const z=[];if(d<=0&&m<=0&&this.width<=w&&this.height<=T){if(C)return!0;for(let K=0;K<this.boxKeys.length;K++)z.push({key:this.boxKeys[K],x1:this.bboxes[4*K],y1:this.bboxes[4*K+1],x2:this.bboxes[4*K+2],y2:this.bboxes[4*K+3]});for(let K=0;K<this.circleKeys.length;K++){const q=this.circles[3*K],Q=this.circles[3*K+1],ie=this.circles[3*K+2];z.push({key:this.circleKeys[K],x1:q-ie,y1:Q-ie,x2:q+ie,y2:Q+ie})}return O?z.filter(O):z}return this._forEachCell(d,m,w,T,this._queryCell,z,{hitTest:C,seenUids:{box:{},circle:{}}},O),C?z.length>0:z}_queryCircle(d,m,w,T,C){const O=d-w,z=d+w,K=m-w,q=m+w;if(z<0||O>this.width||q<0||K>this.height)return!T&&[];const Q=[];return this._forEachCell(O,K,z,q,this._queryCellCircle,Q,{hitTest:T,circle:{x:d,y:m,radius:w},seenUids:{box:{},circle:{}}},C),T?Q.length>0:Q}query(d,m,w,T,C){return this._query(d,m,w,T,!1,C)}hitTest(d,m,w,T,C){return this._query(d,m,w,T,!0,C)}hitTestCircle(d,m,w,T){return this._queryCircle(d,m,w,!0,T)}_queryCell(d,m,w,T,C,O,z,K){const q=z.seenUids,Q=this.boxCells[C];if(Q!==null){const ce=this.bboxes;for(const me of Q)if(!q.box[me]){q.box[me]=!0;const Ee=4*me;if(d<=ce[Ee+2]&&m<=ce[Ee+3]&&w>=ce[Ee+0]&&T>=ce[Ee+1]&&(!K||K(this.boxKeys[me]))){if(z.hitTest)return O.push(!0),!0;O.push({key:this.boxKeys[me],x1:ce[Ee],y1:ce[Ee+1],x2:ce[Ee+2],y2:ce[Ee+3]})}}}const ie=this.circleCells[C];if(ie!==null){const ce=this.circles;for(const me of ie)if(!q.circle[me]){q.circle[me]=!0;const Ee=3*me;if(this._circleAndRectCollide(ce[Ee],ce[Ee+1],ce[Ee+2],d,m,w,T)&&(!K||K(this.circleKeys[me]))){if(z.hitTest)return O.push(!0),!0;{const Ae=ce[Ee],Pe=ce[Ee+1],Ie=ce[Ee+2];O.push({key:this.circleKeys[me],x1:Ae-Ie,y1:Pe-Ie,x2:Ae+Ie,y2:Pe+Ie})}}}}}_queryCellCircle(d,m,w,T,C,O,z,K){const q=z.circle,Q=z.seenUids,ie=this.boxCells[C];if(ie!==null){const me=this.bboxes;for(const Ee of ie)if(!Q.box[Ee]){Q.box[Ee]=!0;const Ae=4*Ee;if(this._circleAndRectCollide(q.x,q.y,q.radius,me[Ae+0],me[Ae+1],me[Ae+2],me[Ae+3])&&(!K||K(this.boxKeys[Ee])))return O.push(!0),!0}}const ce=this.circleCells[C];if(ce!==null){const me=this.circles;for(const Ee of ce)if(!Q.circle[Ee]){Q.circle[Ee]=!0;const Ae=3*Ee;if(this._circlesCollide(me[Ae],me[Ae+1],me[Ae+2],q.x,q.y,q.radius)&&(!K||K(this.circleKeys[Ee])))return O.push(!0),!0}}}_forEachCell(d,m,w,T,C,O,z,K){const q=this._convertToXCellCoord(d),Q=this._convertToYCellCoord(m),ie=this._convertToXCellCoord(w),ce=this._convertToYCellCoord(T);for(let me=q;me<=ie;me++)for(let Ee=Q;Ee<=ce;Ee++)if(C.call(this,d,m,w,T,this.xCellCount*Ee+me,O,z,K))return}_convertToXCellCoord(d){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(d*this.xScale)))}_convertToYCellCoord(d){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(d*this.yScale)))}_circlesCollide(d,m,w,T,C,O){const z=T-d,K=C-m,q=w+O;return q*q>z*z+K*K}_circleAndRectCollide(d,m,w,T,C,O,z){const K=(O-T)/2,q=Math.abs(d-(T+K));if(q>K+w)return!1;const Q=(z-C)/2,ie=Math.abs(m-(C+Q));if(ie>Q+w)return!1;if(q<=K||ie<=Q)return!0;const ce=q-K,me=ie-Q;return ce*ce+me*me<=w*w}}const Ao=100;class hO{constructor(d,m,w=new D0(d.width+200,d.height+200,25),T=new D0(d.width+200,d.height+200,25)){this.transform=d,this.grid=w,this.ignoredGrid=T,this.pitchfactor=Math.cos(d._pitch)*d.cameraToCenterDistance,this.screenRightBoundary=d.width+Ao,this.screenBottomBoundary=d.height+Ao,this.gridRightBoundary=d.width+200,this.gridBottomBoundary=d.height+200,this.fogState=m}placeCollisionBox(d,m,w,T,C,O,z,K){let q=w.projectedAnchorX,Q=w.projectedAnchorY,ie=w.projectedAnchorZ;const ce=w.elevation,me=w.tileID,Ee=d.getProjection();if(ce&&me){const[He,Ge,nt]=Ee.upVector(me.canonical,w.tileAnchorX,w.tileAnchorY),at=Ee.upVectorScale(me.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;q+=He*ce*at,Q+=Ge*ce*at,ie+=nt*ce*at}const Ae=this.projectAndGetPerspectiveRatio(z,q,Q,ie,w.tileID,Ee.name==="globe"||!!ce||this.transform.pitch>0,Ee),Pe=O*Ae.perspectiveRatio,Ie=(w.x1*m+T.x-w.padding)*Pe+Ae.point.x,Ve=(w.y1*m+T.y-w.padding)*Pe+Ae.point.y,Ue=(w.x2*m+T.x+w.padding)*Pe+Ae.point.x,Fe=(w.y2*m+T.y+w.padding)*Pe+Ae.point.y,Ye=Ae.perspectiveRatio<=.55||Ae.occluded;return!this.isInsideGrid(Ie,Ve,Ue,Fe)||!C&&this.grid.hitTest(Ie,Ve,Ue,Fe,K)||Ye?{box:[],offscreen:!1,occluded:Ae.occluded}:{box:[Ie,Ve,Ue,Fe],offscreen:this.isOffscreen(Ie,Ve,Ue,Fe),occluded:!1}}placeCollisionCircles(d,m,w,T,C,O,z,K,q,Q,ie,ce,me,Ee,Ae){const Pe=[],Ie=this.transform.elevation,Ve=d.getProjection(),Ue=Ie?Ie.getAtTileOffsetFunc(Ae,this.transform.center.lat,this.transform.worldSize,Ve):null,Fe=new o.P(w.tileAnchorX,w.tileAnchorY);let{x:Ye,y:He,z:Ge}=Ve.projectTilePoint(Fe.x,Fe.y,Ae.canonical);if(Ue){const[zt,ht,Pt]=Ue(Fe);Ye+=zt,He+=ht,Ge+=Pt}const nt=Ve.name==="globe",at=this.projectAndGetPerspectiveRatio(z,Ye,He,Ge,Ae,nt||!!Ie||this.transform.pitch>0,Ve),{perspectiveRatio:pt}=at,ot=(ie?O/pt:O*pt)/o.bP,Xe=Zl(Ye,He,Ge,K),xt=at.signedDistanceFromCamera>0?d0(ot,C,w.lineOffsetX*ot,w.lineOffsetY*ot,!1,Xe,Fe,w,T,K,{},Ie&&!ie?Ue:null,ie&&!!Ie,Ve,Ae,ie):null;let vt=!1,lt=!1,Kt=!0;if(xt&&!at.occluded){const zt=.5*me*pt+Ee,ht=new o.P(-100,-100),Pt=new o.P(this.screenRightBoundary,this.screenBottomBoundary),st=new RS,{first:Nt,last:jt}=xt,ar=Nt.path.length;let lr=[];for(let Or=ar-1;Or>=1;Or--)lr.push(Nt.path[Or]);for(let Or=1;Or<jt.path.length;Or++)lr.push(jt.path[Or]);const vr=2.5*zt;q&&(lr=lr.map(([Or,en,Br],nn)=>(Ue&&!nt&&(Br=Ue(nn<ar-1?Nt.tilePath[ar-1-nn]:jt.tilePath[nn-ar+2])[2]),Zl(Or,en,Br,q))),lr.some(Or=>Or[3]<=0)&&(lr=[]));let cr=[];if(lr.length>0){let Or=1/0,en=-1/0,Br=1/0,nn=-1/0;for(const En of lr)Or=Math.min(Or,En[0]),Br=Math.min(Br,En[1]),en=Math.max(en,En[0]),nn=Math.max(nn,En[1]);en>=ht.x&&Or<=Pt.x&&nn>=ht.y&&Br<=Pt.y&&(cr=[lr.map(En=>new o.P(En[0],En[1]))],(Or<ht.x||en>Pt.x||Br<ht.y||nn>Pt.y)&&(cr=o.cH(cr,ht.x,ht.y,Pt.x,Pt.y)))}for(const Or of cr){st.reset(Or,.25*zt);let en=0;en=st.length<=.5*zt?1:Math.ceil(st.paddedLength/vr)+1;for(let Br=0;Br<en;Br++){const nn=Br/Math.max(en-1,1),En=st.lerp(nn),xi=En.x+Ao,ni=En.y+Ao;Pe.push(xi,ni,zt,0);const In=xi-zt,ei=ni-zt,dn=xi+zt,hn=ni+zt;if(Kt=Kt&&this.isOffscreen(In,ei,dn,hn),lt=lt||this.isInsideGrid(In,ei,dn,hn),!m&&this.grid.hitTestCircle(xi,ni,zt,ce)&&(vt=!0,!Q))return{circles:[],offscreen:!1,collisionDetected:vt,occluded:!1}}}}return{circles:!Q&&vt||!lt?[]:Pe,offscreen:Kt,collisionDetected:vt,occluded:at.occluded}}queryRenderedSymbols(d){if(d.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const m=[];let w=1/0,T=1/0,C=-1/0,O=-1/0;for(const Q of d){const ie=new o.P(Q.x+Ao,Q.y+Ao);w=Math.min(w,ie.x),T=Math.min(T,ie.y),C=Math.max(C,ie.x),O=Math.max(O,ie.y),m.push(ie)}const z=this.grid.query(w,T,C,O).concat(this.ignoredGrid.query(w,T,C,O)),K={},q={};for(const Q of z){const ie=Q.key;if(K[ie.bucketInstanceId]===void 0&&(K[ie.bucketInstanceId]={}),K[ie.bucketInstanceId][ie.featureIndex])continue;const ce=[new o.P(Q.x1,Q.y1),new o.P(Q.x2,Q.y1),new o.P(Q.x2,Q.y2),new o.P(Q.x1,Q.y2)];o.cI(m,ce)&&(K[ie.bucketInstanceId][ie.featureIndex]=!0,q[ie.bucketInstanceId]===void 0&&(q[ie.bucketInstanceId]=[]),q[ie.bucketInstanceId].push(ie.featureIndex))}return q}insertCollisionBox(d,m,w,T,C){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:w,featureIndex:T,collisionGroupID:C},d[0],d[1],d[2],d[3])}insertCollisionCircles(d,m,w,T,C){const O=m?this.ignoredGrid:this.grid,z={bucketInstanceId:w,featureIndex:T,collisionGroupID:C};for(let K=0;K<d.length;K+=4)O.insertCircle(z,d[K],d[K+1],d[K+2])}projectAndGetPerspectiveRatio(d,m,w,T,C,O,z){const K=[m,w,T,1];let q=!1;T||this.transform.pitch>0?(o.aB.transformMat4(K,K,d),this.fogState&&C&&z.name!=="globe"&&(q=function(ce,me,Ee,Ae,Pe,Ie){const Ve=Ie.calculateFogTileMatrix(Pe),Ue=[me,Ee,Ae];return o.$.transformMat4(Ue,Ue,Ve),vn(ce,o.$.length(Ue),Ie.pitch,Ie._fov)}(this.fogState,m,w,T,C.toUnwrapped(),this.transform)>.9)):$3(K,K,d);const Q=K[3];return{point:new o.P((K[0]/Q+1)/2*this.transform.width+Ao,(-K[1]/Q+1)/2*this.transform.height+Ao),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(z)/Q*.5,1.5),signedDistanceFromCamera:Q,occluded:O&&K[2]>Q||q}}isOffscreen(d,m,w,T){return w<Ao||d>=this.screenRightBoundary||T<Ao||m>this.screenBottomBoundary}isInsideGrid(d,m,w,T){return w>=0&&d<this.gridRightBoundary&&T>=0&&m<this.gridBottomBoundary}getViewportMatrix(){const d=o.ae.identity([]);return o.ae.translate(d,d,[-100,-100,0]),d}}class $S{constructor(d,m,w,T){this.opacity=d?Math.max(0,Math.min(1,d.opacity+(d.placed?m:-m))):T&&w?1:0,this.placed=w}isHidden(){return this.opacity===0&&!this.placed}}class R0{constructor(d,m,w,T,C,O=!1){this.text=new $S(d?d.text:null,m,w,C),this.icon=new $S(d?d.icon:null,m,T,C),this.clipped=O}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class zv{constructor(d,m,w,T=!1){this.text=d,this.icon=m,this.skipFade=w,this.clipped=T}}class mO{constructor(){this.invProjMatrix=o.ae.create(),this.viewportMatrix=o.ae.create(),this.circles=[]}}class rw{constructor(d,m,w,T,C){this.bucketInstanceId=d,this.featureIndex=m,this.sourceLayerIndex=w,this.bucketIndex=T,this.tileID=C}}class LS{constructor(d){this.crossSourceCollisions=d,this.maxGroupID=0,this.collisionGroups={}}get(d){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[d]){const m=++this.maxGroupID;this.collisionGroups[d]={ID:m,predicate:w=>w.collisionGroupID===m}}return this.collisionGroups[d]}}function nw(b,d,m,w,T){const{horizontalAlign:C,verticalAlign:O}=o.bS(b),z=-(C-.5)*d,K=-(O-.5)*m,q=o.bR(b,w);return new o.P(z+q[0]*T,K+q[1]*T)}function Nv(b,d,m,w,T){const C=new o.P(b,d);return m&&C._rotate(w?T:-T),C}class BS{constructor(d,m,w,T,C,O){this.transform=d.clone(),this.projection=d.projection.name,this.collisionIndex=new hO(this.transform,C),this.buildingIndex=O,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new LS(w),this.collisionCircleArrays={},this.prevPlacement=T,T&&(T.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(d,m,w,T){const C=w.getBucket(m),O=w.latestFeatureIndex;if(!C||!O||m.fqid!==C.layerIds[0])return;const z=C.layers[0].layout,K=w.collisionBoxArray,q=Math.pow(2,this.transform.zoom-w.tileID.overscaledZ),Q=w.tileSize/o.a4,ie=w.tileID.toUnwrapped();this.transform.setProjection(C.projection);const ce=(me=w.tileID,Ee=C.getProjection(),Ae=this.transform,Ee.name===this.projection?Ae.calculateProjMatrix(me.toUnwrapped()):Df(Ae,Ee,me));var me,Ee,Ae;const Pe=z.get("text-pitch-alignment")==="map",Ie=z.get("text-rotation-alignment")==="map";m.compileFilter();const Ve=m.dynamicFilter(),Ue=m.dynamicFilterNeedsFeature(),Fe=this.transform.calculatePixelsToTileUnitsMatrix(w),Ye=vv(ce,w.tileID.canonical,Pe,Ie,this.transform,C.getProjection(),Fe);let He=null;if(Pe){const at=_v(ce,w.tileID.canonical,Pe,Ie,this.transform,C.getProjection(),Fe);He=o.ae.multiply([],this.transform.labelPlaneMatrix,at)}let Ge=null;Ve&&w.latestFeatureIndex&&(Ge={unwrappedTileID:ie,dynamicFilter:Ve,dynamicFilterNeedsFeature:Ue,featureIndex:w.latestFeatureIndex}),this.retainedQueryData[C.bucketInstanceId]=new rw(C.bucketInstanceId,O,C.sourceLayerIndex,C.index,w.tileID);const nt={bucket:C,layout:z,posMatrix:ce,textLabelPlaneMatrix:Ye,labelToScreenMatrix:He,clippingData:Ge,scale:q,textPixelRatio:Q,holdingForFade:w.holdingForFade(),collisionBoxArray:K,partiallyEvaluatedTextSize:o.aE(C.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:o.aE(C.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(C.sourceID)};if(T)for(const at of C.sortKeyRanges){const{sortKey:pt,symbolInstanceStart:ot,symbolInstanceEnd:Xe}=at;d.push({sortKey:pt,symbolInstanceStart:ot,symbolInstanceEnd:Xe,parameters:nt})}else d.push({symbolInstanceStart:0,symbolInstanceEnd:C.symbolInstances.length,parameters:nt})}attemptAnchorPlacement(d,m,w,T,C,O,z,K,q,Q,ie,ce,me,Ee,Ae,Pe,Ie,Ve){const{textOffset0:Ue,textOffset1:Fe,crossTileID:Ye}=ce,He=[Ue,Fe],Ge=nw(d,w,T,He,C),nt=this.collisionIndex.placeCollisionBox(Ee,C,m,Nv(Ge.x,Ge.y,O,z,this.transform.angle),ie,K,q,Q.predicate);if(Pe){const at=Ee.getSymbolInstanceIconSize(Ve,this.transform.zoom,ce.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(Ee,at,Pe,Nv(Ge.x,Ge.y,O,z,this.transform.angle),ie,K,q,Q.predicate).box.length===0)return}if(nt.box.length>0){let at;return this.prevPlacement&&this.prevPlacement.variableOffsets[Ye]&&this.prevPlacement.placements[Ye]&&this.prevPlacement.placements[Ye].text&&(at=this.prevPlacement.variableOffsets[Ye].anchor),this.variableOffsets[Ye]={textOffset:He,width:w,height:T,anchor:d,textScale:C,prevAnchor:at},this.markUsedJustification(Ee,d,ce,Ae),Ee.allowVerticalPlacement&&(this.markUsedOrientation(Ee,Ae,ce),this.placedOrientations[Ye]=Ae),{shift:Ge,placedGlyphBoxes:nt}}}placeLayerBucketPart(d,m,w,T){const{bucket:C,layout:O,posMatrix:z,textLabelPlaneMatrix:K,labelToScreenMatrix:q,clippingData:Q,textPixelRatio:ie,holdingForFade:ce,collisionBoxArray:me,partiallyEvaluatedTextSize:Ee,partiallyEvaluatedIconSize:Ae,collisionGroup:Pe}=d.parameters,Ie=O.get("text-optional"),Ve=O.get("icon-optional"),Ue=O.get("text-allow-overlap"),Fe=O.get("icon-allow-overlap"),Ye=O.get("text-rotation-alignment")==="map",He=O.get("text-pitch-alignment")==="map",Ge=O.get("symbol-z-order")==="viewport-y",nt=O.get("symbol-z-elevate");this.transform.setProjection(C.projection);let at=Ue&&(Fe||!C.hasIconData()||Ve),pt=Fe&&(Ue||!C.hasTextData()||Ie);!C.collisionArrays&&me&&C.deserializeCollisionBoxes(me),w&&T&&C.updateCollisionDebugBuffers(this.transform.zoom,me);const ot=(Xe,xt,vt)=>{const{crossTileID:lt,numVerticalGlyphVertices:Kt}=Xe;if(Q){const dn={zoom:this.transform.zoom,pitch:this.transform.pitch};let hn=null;if(Q.dynamicFilterNeedsFeature){const tn=this.retainedQueryData[C.bucketInstanceId];hn=Q.featureIndex.loadFeature({featureIndex:Xe.featureIndex,bucketIndex:tn.bucketIndex,sourceLayerIndex:tn.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,Q.dynamicFilter)(dn,hn,this.retainedQueryData[C.bucketInstanceId].tileID.canonical,new o.P(Xe.tileAnchorX,Xe.tileAnchorY),this.transform.calculateDistanceTileData(Q.unwrappedTileID)))return this.placements[lt]=new zv(!1,!1,!1,!0),void m.add(lt)}if(m.has(lt))return;if(ce)return void(this.placements[lt]=new zv(!1,!1,!1));let zt=!1,ht=!1,Pt=!0,st=!1,Nt=!1,jt=null,ar={box:null,offscreen:null,occluded:null},lr={box:null,offscreen:null,occluded:null},vr=null,cr=null,Or=null,en=0,Br=0,nn=0;vt.textFeatureIndex?en=vt.textFeatureIndex:Xe.useRuntimeCollisionCircles&&(en=Xe.featureIndex),vt.verticalTextFeatureIndex&&(Br=vt.verticalTextFeatureIndex);const En=dn=>{dn.tileID=this.retainedQueryData[C.bucketInstanceId].tileID;const hn=this.transform.elevation;dn.elevation=Xe.zOffset+(hn?hn.getAtTileOffset(dn.tileID,dn.tileAnchorX,dn.tileAnchorY):0)},xi=vt.textBox;if(xi){En(xi);const dn=tn=>{let Vn=o.aF.horizontal;if(C.allowVerticalPlacement&&!tn&&this.prevPlacement){const yn=this.prevPlacement.placedOrientations[lt];yn&&(this.placedOrientations[lt]=yn,Vn=yn,this.markUsedOrientation(C,Vn,Xe))}return Vn},hn=(tn,Vn)=>{if(C.allowVerticalPlacement&&Kt>0&&vt.verticalTextBox){for(const yn of C.writingModes)if(yn===o.aF.vertical?(ar=Vn(),lr=ar):ar=tn(),ar&&ar.box&&ar.box.length)break}else ar=tn()};if(O.get("text-variable-anchor")){let tn=O.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[lt]){const Wr=this.prevPlacement.variableOffsets[lt];tn.indexOf(Wr.anchor)>0&&(tn=tn.filter(ua=>ua!==Wr.anchor),tn.unshift(Wr.anchor))}const Vn=(Wr,ua,ca)=>{const To=C.getSymbolInstanceTextSize(Ee,Xe,this.transform.zoom,xt),Po=(Wr.x2-Wr.x1)*To+2*Wr.padding,co=(Wr.y2-Wr.y1)*To+2*Wr.padding,Co=Xe.hasIconTextFit&&!Fe?ua:null;Co&&En(Co);let to={box:[],offscreen:!1,occluded:!1};const fo=Ue?2*tn.length:tn.length;for(let Yt=0;Yt<fo;++Yt){const br=this.attemptAnchorPlacement(tn[Yt%tn.length],Wr,Po,co,To,Ye,He,ie,z,Pe,Yt>=tn.length,Xe,xt,C,ca,Co,Ee,Ae);if(br&&(to=br.placedGlyphBoxes,to&&to.box&&to.box.length)){zt=!0,jt=br.shift;break}}return to};hn(()=>Vn(xi,vt.iconBox,o.aF.horizontal),()=>{const Wr=vt.verticalTextBox;return Wr&&En(Wr),C.allowVerticalPlacement&&!(ar&&ar.box&&ar.box.length)&&Kt>0&&Wr?Vn(Wr,vt.verticalIconBox,o.aF.vertical):{box:null,offscreen:null,occluded:null}}),ar&&(zt=ar.box,Pt=ar.offscreen,st=ar.occluded);const yn=dn(!(!ar||!ar.box));if(!zt&&this.prevPlacement){const Wr=this.prevPlacement.variableOffsets[lt];Wr&&(this.variableOffsets[lt]=Wr,this.markUsedJustification(C,Wr.anchor,Xe,yn))}}else{const tn=(Vn,yn)=>{const Wr=C.getSymbolInstanceTextSize(Ee,Xe,this.transform.zoom,xt),ua=this.collisionIndex.placeCollisionBox(C,Wr,Vn,new o.P(0,0),Ue,ie,z,Pe.predicate);return ua&&ua.box&&ua.box.length&&(this.markUsedOrientation(C,yn,Xe),this.placedOrientations[lt]=yn),ua};hn(()=>tn(xi,o.aF.horizontal),()=>{const Vn=vt.verticalTextBox;return C.allowVerticalPlacement&&Kt>0&&Vn?(En(Vn),tn(Vn,o.aF.vertical)):{box:null,offscreen:null,occluded:null}}),dn(!!(ar&&ar.box&&ar.box.length))}}if(vr=ar,zt=vr&&vr.box&&vr.box.length>0,Pt=vr&&vr.offscreen,st=vr&&vr.occluded,Xe.useRuntimeCollisionCircles){const dn=C.text.placedSymbolArray.get(Xe.centerJustifiedTextSymbolIndex>=0?Xe.centerJustifiedTextSymbolIndex:Xe.verticalPlacedTextSymbolIndex),hn=o.aG(C.textSizeData,Ee,dn),tn=O.get("text-padding");cr=this.collisionIndex.placeCollisionCircles(C,Ue,dn,C.lineVertexArray,C.glyphOffsetArray,hn,z,K,q,w,He,Pe.predicate,Xe.collisionCircleDiameter*hn/o.bP,tn,this.retainedQueryData[C.bucketInstanceId].tileID),zt=Ue||cr.circles.length>0&&!cr.collisionDetected,Pt=Pt&&cr.offscreen,st=cr.occluded}if(vt.iconFeatureIndex&&(nn=vt.iconFeatureIndex),vt.iconBox){const dn=hn=>{En(hn);const tn=Xe.hasIconTextFit&&jt?Nv(jt.x,jt.y,Ye,He,this.transform.angle):new o.P(0,0),Vn=C.getSymbolInstanceIconSize(Ae,this.transform.zoom,Xe.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(C,Vn,hn,tn,Fe,ie,z,Pe.predicate)};lr&&lr.box&&lr.box.length&&vt.verticalIconBox?(Or=dn(vt.verticalIconBox),ht=Or.box.length>0):(Or=dn(vt.iconBox),ht=Or.box.length>0),Pt=Pt&&Or.offscreen,Nt=Or.occluded}const ni=Ie||Xe.numHorizontalGlyphVertices===0&&Kt===0,In=Ve||Xe.numIconVertices===0;if(ni||In?In?ni||(ht=ht&&zt):zt=ht&&zt:ht=zt=ht&&zt,zt&&vr&&vr.box&&this.collisionIndex.insertCollisionBox(vr.box,O.get("text-ignore-placement"),C.bucketInstanceId,lr&&lr.box&&Br?Br:en,Pe.ID),ht&&Or&&this.collisionIndex.insertCollisionBox(Or.box,O.get("icon-ignore-placement"),C.bucketInstanceId,nn,Pe.ID),cr&&(zt&&this.collisionIndex.insertCollisionCircles(cr.circles,O.get("text-ignore-placement"),C.bucketInstanceId,en,Pe.ID),w)){const dn=C.bucketInstanceId;let hn=this.collisionCircleArrays[dn];hn===void 0&&(hn=this.collisionCircleArrays[dn]=new mO);for(let tn=0;tn<cr.circles.length;tn+=4)hn.circles.push(cr.circles[tn+0]),hn.circles.push(cr.circles[tn+1]),hn.circles.push(cr.circles[tn+2]),hn.circles.push(cr.collisionDetected?1:0)}const ei=C.projection.name!=="globe";at=at&&(ei||!st),pt=pt&&(ei||!Nt),this.placements[lt]=new zv(zt||at,ht||pt,Pt||C.justReloaded),m.add(lt)};if(nt&&this.buildingIndex&&(this.buildingIndex.updateZOffset(C,this.retainedQueryData[C.bucketInstanceId].tileID),C.updateZOffset()),Ge){const Xe=C.getSortedSymbolIndexes(this.transform.angle);for(let xt=Xe.length-1;xt>=0;--xt){const vt=Xe[xt];ot(C.symbolInstances.get(vt),vt,C.collisionArrays[vt])}C.hasAnyZOffset&&o.w(`${C.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`)}else if(C.hasAnyZOffset){const Xe=C.getSortedIndexesByZOffset();for(let xt=0;xt<Xe.length;++xt){const vt=Xe[xt];ot(C.symbolInstances.get(vt),vt,C.collisionArrays[vt])}}else for(let Xe=d.symbolInstanceStart;Xe<d.symbolInstanceEnd;Xe++)ot(C.symbolInstances.get(Xe),Xe,C.collisionArrays[Xe]);if(w&&C.bucketInstanceId in this.collisionCircleArrays){const Xe=this.collisionCircleArrays[C.bucketInstanceId];o.ae.invert(Xe.invProjMatrix,z),Xe.viewportMatrix=this.collisionIndex.getViewportMatrix()}C.justReloaded=!1}markUsedJustification(d,m,w,T){const{leftJustifiedTextSymbolIndex:C,centerJustifiedTextSymbolIndex:O,rightJustifiedTextSymbolIndex:z,verticalPlacedTextSymbolIndex:K,crossTileID:q}=w,Q=o.cM(m),ie=T===o.aF.vertical?K:Q==="left"?C:Q==="center"?O:Q==="right"?z:-1;C>=0&&(d.text.placedSymbolArray.get(C).crossTileID=ie>=0&&C!==ie?0:q),O>=0&&(d.text.placedSymbolArray.get(O).crossTileID=ie>=0&&O!==ie?0:q),z>=0&&(d.text.placedSymbolArray.get(z).crossTileID=ie>=0&&z!==ie?0:q),K>=0&&(d.text.placedSymbolArray.get(K).crossTileID=ie>=0&&K!==ie?0:q)}markUsedOrientation(d,m,w){const T=m===o.aF.horizontal||m===o.aF.horizontalOnly?m:0,C=m===o.aF.vertical?m:0,{leftJustifiedTextSymbolIndex:O,centerJustifiedTextSymbolIndex:z,rightJustifiedTextSymbolIndex:K,verticalPlacedTextSymbolIndex:q}=w,Q=d.text.placedSymbolArray;O>=0&&(Q.get(O).placedOrientation=T),z>=0&&(Q.get(z).placedOrientation=T),K>=0&&(Q.get(K).placedOrientation=T),q>=0&&(Q.get(q).placedOrientation=C)}commit(d){this.commitTime=d,this.zoomAtLastRecencyCheck=this.transform.zoom;const m=this.prevPlacement;let w=!1;this.prevZoomAdjustment=m?m.zoomAdjustment(this.transform.zoom):0;const T=m?m.symbolFadeChange(d):1,C=m?m.opacities:{},O=m?m.variableOffsets:{},z=m?m.placedOrientations:{};for(const K in this.placements){const q=this.placements[K],Q=C[K];Q?(this.opacities[K]=new R0(Q,T,q.text,q.icon,null,q.clipped),w=w||q.text!==Q.text.placed||q.icon!==Q.icon.placed):(this.opacities[K]=new R0(null,T,q.text,q.icon,q.skipFade,q.clipped),w=w||q.text||q.icon)}for(const K in C){const q=C[K];if(!this.opacities[K]){const Q=new R0(q,T,!1,!1);Q.isHidden()||(this.opacities[K]=Q,w=w||q.text.placed||q.icon.placed)}}for(const K in O)this.variableOffsets[K]||!this.opacities[K]||this.opacities[K].isHidden()||(this.variableOffsets[K]=O[K]);for(const K in z)this.placedOrientations[K]||!this.opacities[K]||this.opacities[K].isHidden()||(this.placedOrientations[K]=z[K]);w?this.lastPlacementChangeTime=d:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=m?m.lastPlacementChangeTime:d)}updateLayerOpacities(d,m,w,T){const C=new Set;for(const O of m){const z=O.getBucket(d);z&&O.latestFeatureIndex&&d.fqid===z.layerIds[0]&&(this.updateBucketOpacities(z,C,O.collisionBoxArray,w,T,O.tileID,d.scope),z.layers[0].layout.get("symbol-z-elevate")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(z,O.tileID),z.updateZOffset()))}}updateBucketOpacities(d,m,w,T,C,O,z){d.hasTextData()&&d.text.opacityVertexArray.clear(),d.hasIconData()&&d.icon.opacityVertexArray.clear(),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexArray.clear(),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexArray.clear();const K=d.layers[0].layout,q=!!d.layers[0].dynamicFilter(),Q=new R0(null,0,!1,!1,!0),ie=K.get("text-allow-overlap"),ce=K.get("icon-allow-overlap"),me=K.get("text-variable-anchor"),Ee=K.get("text-rotation-alignment")==="map",Ae=K.get("text-pitch-alignment")==="map",Pe=new R0(null,0,ie&&(ce||!d.hasIconData()||K.get("icon-optional")),ce&&(ie||!d.hasTextData()||K.get("text-optional")),!0);!d.collisionArrays&&w&&(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData())&&d.deserializeCollisionBoxes(w);const Ie=(Ue,Fe,Ye)=>{for(let He=0;He<Fe/4;He++)Ue.opacityVertexArray.emplaceBack(Ye)};let Ve=0;C&&d.updateReplacement(O,C);for(let Ue=0;Ue<d.symbolInstances.length;Ue++){const Fe=d.symbolInstances.get(Ue),{numHorizontalGlyphVertices:Ye,numVerticalGlyphVertices:He,crossTileID:Ge,numIconVertices:nt,tileAnchorX:at,tileAnchorY:pt}=Fe,ot=m.has(Ge);let Xe=this.opacities[Ge];ot?Xe=Q:Xe||(Xe=Pe,this.opacities[Ge]=Xe),m.add(Ge);const xt=Ye>0||He>0,vt=nt>0,lt=this.placedOrientations[Ge],Kt=lt===o.aF.vertical,zt=lt===o.aF.horizontal||lt===o.aF.horizontalOnly;!xt&&!vt||Xe.isHidden()||Ve++;let ht=!1;if((xt||vt)&&C)for(const Pt of d.activeReplacements){if(o.cJ(Pt,T,o.cw.Symbol,z)||Pt.min.x>at||at>Pt.max.x||Pt.min.y>pt||pt>Pt.max.y)continue;const st=o.cK(at,pt,O.canonical,Pt.footprintTileId.canonical);if(ht=o.cL(st,Pt),ht)break}if(xt){const Pt=ht?Od:Xs(Xe.text);Ie(d.text,Ye,Kt?Od:Pt),Ie(d.text,He,zt?Od:Pt);const st=Xe.text.isHidden(),{leftJustifiedTextSymbolIndex:Nt,centerJustifiedTextSymbolIndex:jt,rightJustifiedTextSymbolIndex:ar,verticalPlacedTextSymbolIndex:lr}=Fe,vr=d.text.placedSymbolArray,cr=st||Kt?1:0;Nt>=0&&(vr.get(Nt).hidden=cr),jt>=0&&(vr.get(jt).hidden=cr),ar>=0&&(vr.get(ar).hidden=cr),lr>=0&&(vr.get(lr).hidden=st||zt?1:0);const Or=this.variableOffsets[Ge];Or&&this.markUsedJustification(d,Or.anchor,Fe,lt);const en=this.placedOrientations[Ge];en&&(this.markUsedJustification(d,"left",Fe,en),this.markUsedOrientation(d,en,Fe))}if(vt){const Pt=ht?Od:Xs(Xe.icon),{placedIconSymbolIndex:st,verticalPlacedIconSymbolIndex:Nt}=Fe,jt=d.icon.placedSymbolArray,ar=Xe.icon.isHidden()?1:0;st>=0&&(Ie(d.icon,nt,Kt?Od:Pt),jt.get(st).hidden=ar),Nt>=0&&(Ie(d.icon,Fe.numVerticalIconVertices,zt?Od:Pt),jt.get(Nt).hidden=ar)}if(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData()){const Pt=d.collisionArrays[Ue];if(Pt){let st=new o.P(0,0),Nt=!0;if(Pt.textBox||Pt.verticalTextBox){if(me){const ar=this.variableOffsets[Ge];ar?(st=nw(ar.anchor,ar.width,ar.height,ar.textOffset,ar.textScale),Ee&&st._rotate(Ae?this.transform.angle:-this.transform.angle)):Nt=!1}q&&(Nt=!Xe.clipped),Pt.textBox&&$u(d.textCollisionBox.collisionVertexArray,Xe.text.placed,!Nt||Kt,st.x,st.y),Pt.verticalTextBox&&$u(d.textCollisionBox.collisionVertexArray,Xe.text.placed,!Nt||zt,st.x,st.y)}const jt=Nt&&!!(!zt&&Pt.verticalIconBox);Pt.iconBox&&$u(d.iconCollisionBox.collisionVertexArray,Xe.icon.placed,jt,Fe.hasIconTextFit?st.x:0,Fe.hasIconTextFit?st.y:0),Pt.verticalIconBox&&$u(d.iconCollisionBox.collisionVertexArray,Xe.icon.placed,!jt,Fe.hasIconTextFit?st.x:0,Fe.hasIconTextFit?st.y:0)}}}if(d.fullyClipped=Ve===0,d.sortFeatures(this.transform.angle),this.retainedQueryData[d.bucketInstanceId]&&(this.retainedQueryData[d.bucketInstanceId].featureSortOrder=d.featureSortOrder),d.hasTextData()&&d.text.opacityVertexBuffer&&d.text.opacityVertexBuffer.updateData(d.text.opacityVertexArray),d.hasIconData()&&d.icon.opacityVertexBuffer&&d.icon.opacityVertexBuffer.updateData(d.icon.opacityVertexArray),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexBuffer&&d.iconCollisionBox.collisionVertexBuffer.updateData(d.iconCollisionBox.collisionVertexArray),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexBuffer&&d.textCollisionBox.collisionVertexBuffer.updateData(d.textCollisionBox.collisionVertexArray),d.bucketInstanceId in this.collisionCircleArrays){const Ue=this.collisionCircleArrays[d.bucketInstanceId];d.placementInvProjMatrix=Ue.invProjMatrix,d.placementViewportMatrix=Ue.viewportMatrix,d.collisionCircleArray=Ue.circles,delete this.collisionCircleArrays[d.bucketInstanceId]}}symbolFadeChange(d){return this.fadeDuration===0?1:(d-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(d){return Math.max(0,(this.transform.zoom-d)/1.5)}hasTransitions(d){return this.stale||d-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(d,m){const w=this.zoomAtLastRecencyCheck===m?1-this.zoomAdjustment(m):1;return this.zoomAtLastRecencyCheck=m,this.commitTime+this.fadeDuration*w>d}setStale(){this.stale=!0}}function $u(b,d,m,w,T){b.emplaceBack(d?1:0,m?1:0,w||0,T||0),b.emplaceBack(d?1:0,m?1:0,w||0,T||0),b.emplaceBack(d?1:0,m?1:0,w||0,T||0),b.emplaceBack(d?1:0,m?1:0,w||0,T||0)}const Fv=Math.pow(2,25),zS=Math.pow(2,24),NS=Math.pow(2,17),$0=Math.pow(2,16),L0=Math.pow(2,9),FS=Math.pow(2,8),iw=Math.pow(2,1);function Xs(b){if(b.opacity===0&&!b.placed)return 0;if(b.opacity===1&&b.placed)return 4294967295;const d=b.placed?1:0,m=Math.floor(127*b.opacity);return m*Fv+d*zS+m*NS+d*$0+m*L0+d*FS+m*iw+d}const Od=0;class rr{constructor(d){this._sortAcrossTiles=d.layout.get("symbol-z-order")!=="viewport-y"&&d.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(d,m,w,T,C){const O=this._bucketParts;for(;this._currentTileIndex<d.length;)if(m.getBucketParts(O,T,d[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,C())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,O.sort((z,K)=>z.sortKey-K.sortKey));this._currentPartIndex<O.length;){const z=O[this._currentPartIndex];if(m.placeLayerBucketPart(z,this._seenCrossTileIDs,w,z.symbolInstanceStart===0),this._currentPartIndex++,C())return!0}return!1}}class jS{constructor(d,m,w,T,C,O,z,K,q){this.placement=new BS(d,C,O,z,K,q),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=w,this._showCollisionBoxes=T,this._done=!1}isDone(){return this._done}continuePlacement(d,m,w,T){const C=o.e.now(),O=()=>{const z=o.e.now()-C;return!this._forceFullPlacement&&z>2};for(;this._currentPlacementIndex>=0;){const z=m[d[this._currentPlacementIndex]],K=this.placement.collisionIndex.transform.zoom;if(z.type==="symbol"&&(!z.minzoom||z.minzoom<=K)&&(!z.maxzoom||z.maxzoom>K)){const q=z,Q=q.layout.get("symbol-z-elevate"),ie=this._inProgressLayer=this._inProgressLayer||new rr(q),ce=o.am(z.source,z.scope);if(ie.continuePlacement(Q?T[ce]:w[ce],this.placement,this._showCollisionBoxes,z,O))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(d){return this.placement.commit(d),this.placement}}const B0=512/o.a4/2;class aw{constructor(d,m,w){this.tileID=d,this.bucketInstanceId=w,this.index=new o.cN(m.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const T=d.canonical.x*o.a4,C=d.canonical.y*o.a4;for(let O=0;O<m.length;O++){const{key:z,crossTileID:K,tileAnchorX:q,tileAnchorY:Q}=m.get(O),ie=Math.floor((T+q)*B0),ce=Math.floor((C+Q)*B0);this.index.add(ie,ce),this.keys.push(z),this.crossTileIDs.push(K)}this.index.finish()}findMatches(d,m,w){const T=this.tileID.canonical.z<m.canonical.z?1:Math.pow(2,this.tileID.canonical.z-m.canonical.z),C=B0/Math.pow(2,m.canonical.z-this.tileID.canonical.z),O=m.canonical.x*o.a4,z=m.canonical.y*o.a4;for(let K=0;K<d.length;K++){const q=d.get(K);if(q.crossTileID)continue;const{key:Q,tileAnchorX:ie,tileAnchorY:ce}=q,me=Math.floor((O+ie)*C),Ee=Math.floor((z+ce)*C),Ae=this.index.range(me-T,Ee-T,me+T,Ee+T);for(const Pe of Ae){const Ie=this.crossTileIDs[Pe];if(this.keys[Pe]===Q&&!w.has(Ie)){w.add(Ie),q.crossTileID=Ie;break}}}}}class VS{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class jv{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(d){const m=Math.round((d-this.lng)/360);if(m!==0)for(const w in this.indexes){const T=this.indexes[w],C={};for(const O in T){const z=T[O];z.tileID=z.tileID.unwrapTo(z.tileID.wrap+m),C[z.tileID.key]=z}this.indexes[w]=C}this.lng=d}addBucket(d,m,w){if(this.indexes[d.overscaledZ]&&this.indexes[d.overscaledZ][d.key]){if(this.indexes[d.overscaledZ][d.key].bucketInstanceId===m.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(d.overscaledZ,this.indexes[d.overscaledZ][d.key])}for(let C=0;C<m.symbolInstances.length;C++)m.symbolInstances.get(C).crossTileID=0;this.usedCrossTileIDs[d.overscaledZ]||(this.usedCrossTileIDs[d.overscaledZ]=new Set);const T=this.usedCrossTileIDs[d.overscaledZ];for(const C in this.indexes){const O=this.indexes[C];if(Number(C)>d.overscaledZ)for(const z in O){const K=O[z];K.tileID.isChildOf(d)&&K.findMatches(m.symbolInstances,d,T)}else{const z=O[d.scaledTo(Number(C)).key];z&&z.findMatches(m.symbolInstances,d,T)}}for(let C=0;C<m.symbolInstances.length;C++){const O=m.symbolInstances.get(C);O.crossTileID||(O.crossTileID=w.generate(),T.add(O.crossTileID))}return this.indexes[d.overscaledZ]===void 0&&(this.indexes[d.overscaledZ]={}),this.indexes[d.overscaledZ][d.key]=new aw(d,m.symbolInstances,m.bucketInstanceId),!0}removeBucketCrossTileIDs(d,m){for(const w of m.crossTileIDs)this.usedCrossTileIDs[d].delete(w)}removeStaleBuckets(d){let m=!1;for(const w in this.indexes){const T=this.indexes[w];for(const C in T)d[T[C].bucketInstanceId]||(this.removeBucketCrossTileIDs(w,T[C]),delete T[C],m=!0)}return m}}class Ic{constructor(){this.layerIndexes={},this.crossTileIDs=new VS,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(d,m,w,T){let C=this.layerIndexes[d.fqid];C===void 0&&(C=this.layerIndexes[d.fqid]=new jv);let O=!1;const z={};T.name!=="globe"&&C.handleWrapJump(w);for(const K of m){const q=K.getBucket(d);q&&d.fqid===q.layerIds[0]&&(q.bucketInstanceId||(q.bucketInstanceId=++this.maxBucketInstanceId),C.addBucket(K.tileID,q,this.crossTileIDs)&&(O=!0),z[q.bucketInstanceId]=!0)}return C.removeStaleBuckets(z)&&(O=!0),O}pruneUnusedLayers(d){const m={};d.forEach(w=>{m[w]=!0});for(const w in this.layerIndexes)m[w]||delete this.layerIndexes[w]}}const ow=new o.U({data:new o.W(o.N.colorTheme.data)}),Ys=(b,d)=>Ar(b,d&&d.filter(m=>m.identifier!=="source.canvas")),Vv=o.ai(Gn,["addLayer","removeLayer","setLights","setPaintProperty","setLayoutProperty","setSlot","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection","setCamera","addImport","removeImport","updateImport"]),qh=o.ai(Gn,["setCenter","setZoom","setBearing","setPitch"]),US={version:8,layers:[],sources:{}},WS={duration:300,delay:0};class Js extends o.E{constructor(d,m={}){super(),this.map=d,this.scope=m.scope||"",this.globalId=null,this.fragments=[],this.importDepth=m.importDepth||0,this.importsCache=m.importsCache||new Map,this.resolvedImports=m.resolvedImports||new Set,this.transition=o.Q({},WS),this._buildingIndex=new Ss(this),this.crossTileSymbolIndex=new Ic,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._clipLayerIndices=[],this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=m.styleChanges||new fe,this.dispatcher=m.dispatcher?m.dispatcher:new o.by(o.bz(),this),m.imageManager?this.imageManager=m.imageManager:(this.imageManager=new bt,this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=m.glyphManager?m.glyphManager:new o.cP(d._requestManager,m.localFontFamily?o.cQ.all:m.localIdeographFontFamily?o.cQ.ideographs:o.cQ.none,m.localFontFamily||m.localIdeographFontFamily),m.modelManager?this.modelManager=m.modelManager:(this.modelManager=new ve(d._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this._styleColorTheme={lut:null,lutLoading:!1,lutLoadingCorrelationID:0,colorTheme:null},this._styleColorThemeForScope={},this.options=m.configOptions?m.configOptions:new Map,this._configDependentLayers=m.configDependentLayers?m.configDependentLayers:new Set,this._config=m.config,this._initialConfig=m.initialConfig,this.dispatcher.broadcast("setReferrer",o.cR());const w=this;this._rtlTextPluginCallback=Js.registerForPluginStateChange(T=>{w.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:T.pluginStatus,pluginURL:T.pluginURL},(C,O)=>{if(o.cS(C),O&&O.every(z=>z))for(const z in w._sourceCaches){const K=w._sourceCaches[z],q=K.getSource().type;q!=="vector"&&q!=="geojson"||K.reload()}})}),this.on("data",T=>{if(T.dataType!=="source"||T.sourceDataType!=="metadata")return;const C=this.getOwnSource(T.sourceId);if(C&&C.vectorLayerIds)for(const O in this._layers){const z=this._layers[O];z.source===C.id&&this._validateLayer(z)}})}load(d){return d?(typeof d=="string"?this.loadURL(d):this.loadJSON(d),this):this}_getGlobalId(d){if(!d)return null;if(typeof d=="string"){if(o.cT(d))return d;const m=o.cU(d);if(!m.startsWith("http"))try{return new URL(m,location.href).toString()}catch{return m}return m}return`json://${o.cV(JSON.stringify(d))}`}_diffStyle(d,m,w){this.globalId=this._getGlobalId(d);const T=(C,O)=>{try{O(null,this.setState(C,w))}catch(z){O(z,!1)}};if(typeof d=="string"){const C=this.map._requestManager.normalizeStyleURL(d),O=this.map._requestManager.transformRequest(C,o.R.Style);o.h(O,(z,K)=>{z?this.fire(new o.f(z)):K&&T(K,m)})}else typeof d=="object"&&T(d,m)}loadURL(d,m={}){this.fire(new o.g("dataloading",{dataType:"style"}));const w=typeof m.validate=="boolean"?m.validate:!o.cT(d);this.globalId=this._getGlobalId(d),d=this.map._requestManager.normalizeStyleURL(d,m.accessToken),this.resolvedImports.add(d);const T=this.importsCache.get(d);if(T)return this._load(T,w);const C=this.map._requestManager.transformRequest(d,o.R.Style);this._request=o.h(C,(O,z)=>{if(this._request=null,O)this.fire(new o.f(O));else if(z)return this.importsCache.set(d,z),this._load(z,w)})}loadJSON(d,m={}){this.fire(new o.g("dataloading",{dataType:"style"})),this.globalId=this._getGlobalId(d),this._request=o.e.frame(()=>{this._request=null,this._load(d,m.validate!==!1)})}loadEmpty(){this.fire(new o.g("dataloading",{dataType:"style"})),this._load(US,!1)}_loadImports(d,m,w){if(this.importDepth>=4)return o.w("Style doesn't support nesting deeper than 5"),Promise.resolve();const T=[];for(const C of d){const O=this._createFragmentStyle(C),z=new Promise(Q=>{O.once("style.import.load",Q),O.once("error",Q)}).then(()=>this.mergeAll());if(T.push(z),this.resolvedImports.has(C.url)){O.loadEmpty();continue}const K=C.data||this.importsCache.get(C.url);K?(O.loadJSON(K,{validate:m}),this._isInternalStyle(K)&&(O.globalId=null)):C.url?O.loadURL(C.url,{validate:m}):O.loadEmpty();const q={style:O,id:C.id,config:C.config};if(w){const Q=this.fragments.findIndex(({id:ie})=>ie===w);this.fragments=this.fragments.slice(0,Q).concat(q).concat(this.fragments.slice(Q))}else this.fragments.push(q)}return Promise.allSettled(T)}getImportGlobalIds(d=this,m=new Set){for(const w of d.fragments)w.style.globalId&&m.add(w.style.globalId),this.getImportGlobalIds(w.style,m);return[...m.values()]}_createFragmentStyle(d){const m=this.scope?o.am(d.id,this.scope):d.id;let w;const T=this._initialConfig&&this._initialConfig[m];(d.config||T)&&(w=o.Q({},d.config,T));const C=new Js(this.map,{scope:m,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager,config:w,configOptions:this.options,configDependentLayers:this._configDependentLayers});return C.setEventedParent(this.map,{style:C}),C}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.updateConfigDependencies(),this.map._triggerCameraUpdate(this.camera),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),this._shouldPrecompile=this.map._precompilePrograms&&this.isRootStyle()}_isInternalStyle(d){return this.isRootStyle()&&(d.fragment||!!d.schema&&d.fragment!==!1)}_load(d,m){const w=d.schema;if(this._isInternalStyle(d)){const O=o.Q({},US,{imports:[{id:"basemap",data:d,url:""}]});return void this._load(O,m)}if(this.updateConfig(this._config,w),m&&Ys(this,xe(d)))return;this._loaded=!0,this.stylesheet=o.cW(d);const T=()=>{for(const q in d.sources)this.addSource(q,d.sources[q],{validate:!1,isInitialLoad:!0});d.sprite?this._loadSprite(d.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(d.glyphs,this.scope);const O=k0(this.stylesheet.layers);if(this._order=O.map(q=>q.id),this.stylesheet.light&&o.w("The `light` root property is deprecated, prefer using `lights` with `flat` light type instead."),this.stylesheet.lights)if(this.stylesheet.lights.length===1&&this.stylesheet.lights[0].type==="flat"){const q=this.stylesheet.lights[0];this.light=new Pn(q.properties,q.id)}else this.setLights(this.stylesheet.lights);this.light||(this.light=new Pn(this.stylesheet.light)),this._layers={},this._serializedLayers={};for(const q of O){const Q=o.c$(q,this.scope,this._styleColorTheme.lut,this.options);Q.configDependencies.size!==0&&this._configDependentLayers.add(Q.fqid),Q.setEventedParent(this,{layer:{id:Q.id}}),this._layers[Q.id]=Q,this._serializedLayers[Q.id]=Q.serialize();const ie=this.getOwnLayerSourceCache(Q),ce=!!this.directionalLight&&this.directionalLight.shadowsEnabled();ie&&Q.canCastShadows()&&ce&&(ie.castsShadows=!0)}this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const z=this.stylesheet.terrain;z&&(this.checkCanvasFingerprintNoise(),this.disableElevatedTerrain||this.terrainSetForDrapingOnly()||this._createTerrain(z,1)),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.fire(new o.g("data",{dataType:"style"}));const K=this.isRootStyle();d.imports?this._loadImports(d.imports,m).then(()=>{this._reloadImports(),this.fire(new o.g(K?"style.load":"style.import.load"))}):(this._reloadImports(),this.fire(new o.g(K?"style.load":"style.import.load")))},C=this.stylesheet["color-theme"];if(this._styleColorTheme.colorTheme=C,C){const O=this._evaluateColorThemeData(C);this._loadColorTheme(O).then(()=>{T()}).catch(z=>{o.w(`Couldn't load color theme from the stylesheet: ${z}`),T()})}else this._styleColorTheme.lut=null,T()}isRootStyle(){return this.importDepth===0}mergeAll(){let d,m,w,T,C,O,z,K;const q={};this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(Q=>{if(Q.stylesheet){if(Q.light!=null&&(d=Q.light),Q.stylesheet.lights)for(const ie of Q.stylesheet.lights)ie.type==="ambient"&&Q.ambientLight!=null&&(m=Q.ambientLight),ie.type==="directional"&&Q.directionalLight!=null&&(w=Q.directionalLight);T=this._prioritizeTerrain(T,Q.terrain,Q.stylesheet.terrain),Q.stylesheet.fog&&Q.fog!=null&&(C=Q.fog),Q.stylesheet.camera!=null&&(K=Q.stylesheet.camera),Q.stylesheet.projection!=null&&(O=Q.stylesheet.projection),Q.stylesheet.transition!=null&&(z=Q.stylesheet.transition),q[Q.scope]=Q._styleColorTheme}}),this.light=d,this.ambientLight=m,this.directionalLight=w,this.fog=C,this._styleColorThemeForScope=q,T===null?delete this.terrain:this.terrain=T,this.camera=K||{"camera-projection":"perspective"},this.projection=O||{name:"mercator"},this.transition=o.Q({},WS,z),this.mergeSources(),this.mergeLayers()}forEachFragmentStyle(d){const m=w=>{for(const T of w.fragments)m(T.style);d(w)};m(this)}_prioritizeTerrain(d,m,w){const T=d&&d.drapeRenderMode===0;return w===null?m&&m.drapeRenderMode===0?m:T?d:null:m!=null&&(!d||T||m&&m.drapeRenderMode===1)?m:d}mergeTerrain(){let d;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(m=>{d=this._prioritizeTerrain(d,m.terrain,m.stylesheet.terrain)}),d===null?delete this.terrain:this.terrain=d}mergeProjection(){let d;this.forEachFragmentStyle(m=>{m.stylesheet.projection!=null&&(d=m.stylesheet.projection)}),this.projection=d||{name:"mercator"}}mergeSources(){const d={},m={},w={};this.forEachFragmentStyle(T=>{for(const C in T._sourceCaches){const O=o.am(C,T.scope);d[O]=T._sourceCaches[C]}for(const C in T._otherSourceCaches){const O=o.am(C,T.scope);m[O]=T._otherSourceCaches[C]}for(const C in T._symbolSourceCaches){const O=o.am(C,T.scope);w[O]=T._symbolSourceCaches[C]}}),this._mergedSourceCaches=d,this._mergedOtherSourceCaches=m,this._mergedSymbolSourceCaches=w}mergeLayers(){const d={},m=[],w={};this._mergedSlots=[],this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this.forEachFragmentStyle(O=>{for(const z of O._order){const K=O._layers[z];if(K.type==="slot"){const q=o.cX(z);if(d[q])continue;d[q]=[]}K.slot&&d[K.slot]?d[K.slot].push(K):m.push(K)}}),this._mergedOrder=[],this._clipLayerIndices=[];let T=0;const C=(O=[])=>{for(const z of O)if(z.type==="slot"){const K=o.cX(z.id);d[K]&&C(d[K]),this._mergedSlots.push(K)}else{const K=o.am(z.id,z.scope);this._mergedOrder.push(K),w[K]=z,z.is3D()&&(this._has3DLayers=!0),z.type==="circle"&&(this._hasCircleLayers=!0),z.type==="symbol"&&(this._hasSymbolLayers=!0),z.type==="clip"&&this._clipLayerIndices.push(T),T++}};C(m),this._mergedOrder.sort((O,z)=>{const K=w[O],q=w[z];return K.hasInitialOcclusionOpacityProperties?q.is3D()?1:0:K.is3D()&&q.hasInitialOcclusionOpacityProperties?-1:0}),this._mergedLayers=w,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged()}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}getCamera(){return this.stylesheet.camera}setCamera(d){return this.stylesheet.camera=o.Q({},this.stylesheet.camera,d),this.camera=this.stylesheet.camera,this}_evaluateColorThemeData(d){return d.data?function(m,w,T){const C=o.Q({},w);for(const z of Object.keys(o.N.colorTheme))C[z]===void 0&&(C[z]=o.N.colorTheme[z].default);const O=new o.O(ow,m,new Map(T));return O.setTransitionOrValue(C,T),O.untransitioned().possiblyEvaluate(new o.Y(0))}(this.scope,d,this.options).get("data"):null}_loadColorTheme(d){this._styleColorTheme.lutLoading=!0,this._styleColorTheme.lutLoadingCorrelationID+=1;const m=this._styleColorTheme.lutLoadingCorrelationID;return new Promise((w,T)=>{const C="data:image/png;base64,";if(!d||d.length===0)return this._styleColorTheme.lut=null,this._styleColorTheme.lutLoading=!1,void w();let O=d;O.startsWith(C)||(O=C+O);const z="mapbox-reserved-lut",K=new Image;K.src=O,K.onerror=()=>{this._styleColorTheme.lutLoading=!1,T(new Error("Failed to load image data"))},K.onload=()=>{if(this._styleColorTheme.lutLoadingCorrelationID!==m)return void w();this._styleColorTheme.lutLoading=!1;const{width:q,height:Q,data:ie}=o.e.getImageData(K);if(Q>32)return void T(new Error("The height of the image must be less than or equal to 32 pixels."));if(q!==Q*Q)return void T(new Error("The width of the image must be equal to the height squared."));this.getImage(z)&&this.removeImage(z),this.addImage(z,{data:new o.j({width:q,height:Q},ie),pixelRatio:1,sdf:!1,version:0});const ce=this.imageManager.getImage(z,this.scope);ce?(this._styleColorTheme.lut={image:ce.data,data:d},w()):T(new Error("Missing LUT image."))}})}getLut(d){const m=this._styleColorThemeForScope[d];return m?m.lut:null}setProjection(d){d?this.stylesheet.projection=d:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?(this.getTerrain()||this.stylesheet.terrain)&&!this.disableElevatedTerrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null,0))}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection))}_loadSprite(d){this._spriteRequest=function(m,w,T){let C,O,z;const K=o.e.devicePixelRatio>1?"@2x":"";let q=o.h(w.transformRequest(w.normalizeSpriteURL(m,K,".json"),o.R.SpriteJSON),(ce,me)=>{q=null,z||(z=ce,C=me,ie())}),Q=o.i(w.transformRequest(w.normalizeSpriteURL(m,K,".png"),o.R.SpriteImage),(ce,me)=>{Q=null,z||(z=ce,O=me,ie())});function ie(){if(z)T(z);else if(C&&O){const ce=o.e.getImageData(O),me={};for(const Ee in C){const{width:Ae,height:Pe,x:Ie,y:Ve,sdf:Ue,pixelRatio:Fe,stretchX:Ye,stretchY:He,content:Ge}=C[Ee],nt=new o.j({width:Ae,height:Pe});o.j.copy(ce,nt,{x:Ie,y:Ve},{x:0,y:0},{width:Ae,height:Pe},null),me[Ee]={data:nt,pixelRatio:Fe,sdf:Ue,stretchX:Ye,stretchY:He,content:Ge}}T(null,me)}}return{cancel(){q&&(q.cancel(),q=null),Q&&(Q.cancel(),Q=null)}}}(d,this.map._requestManager,(m,w)=>{if(this._spriteRequest=null,m)this.fire(new o.f(m));else if(w)for(const T in w)this.imageManager.addImage(T,this.scope,w[T]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new o.g("data",{dataType:"style"}))})}_validateLayer(d){const m=this.getOwnSource(d.source);if(!m)return;const w=d.sourceLayer;w&&(m.type==="geojson"||m.vectorLayerIds&&m.vectorLayerIds.indexOf(w)===-1)&&this.fire(new o.f(new Error(`Source layer "${w}" does not exist on source "${m.id}" as specified by style layer "${d.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._changes.getUpdatedSourceCaches()).length)return!1;for(const d in this._sourceCaches)if(!this._sourceCaches[d].loaded())return!1;if(!this.imageManager.isLoaded()||!this.modelManager.isLoaded()||this._styleColorTheme.lutLoading)return!1;for(const{style:d}of this.fragments)if(!d.loaded())return!1;return!0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map((d,m)=>{const w=this.fragments[m];return w&&w.style&&(d.data=w.style.serialize()),d})}_serializeSources(){const d={};for(const m in this._sourceCaches){const w=this._sourceCaches[m].getSource();d[w.id]||(d[w.id]=w.serialize())}return d}_serializeLayers(d){const m=[];for(const w of d){const T=this._layers[w];T&&T.type!=="custom"&&m.push(T.serialize())}return m}hasLightTransitions(){return!(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return!!this.fog&&this.fog.hasTransition()}hasTransitions(){if(this.hasLightTransitions()||this.hasFogTransition())return!0;for(const d in this._sourceCaches)if(this._sourceCaches[d].hasTransition())return!0;for(const d in this._layers)if(this._layers[d].hasTransition())return!0;return!1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}isLayerDraped(d){return!!this.terrain&&d.isDraped(this.getLayerSourceCache(d))}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}_checkLayer(d){const m=this.getOwnLayer(d);if(m)return m;this.fire(new o.f(new Error(`The layer '${d}' does not exist in the map's style.`)))}_checkSource(d){const m=this.getOwnSource(d);if(m)return m;this.fire(new o.f(new Error(`The source '${d}' does not exist in the map's style.`)))}precompilePrograms(d,m){const w=this.map.painter;if(w)for(let T=d.minzoom||0;T<(d.maxzoom||25.5);T++){const C=d.getProgramIds();if(C)for(const O of C){const z=d.getDefaultProgramParams(O,m.zoom,this._styleColorTheme.lut);z&&(w.style=this,this.fog&&(w._fogVisible=!0,z.overrideFog=!0,w.getOrCreateProgram(O,z)),w._fogVisible=!1,z.overrideFog=!1,w.getOrCreateProgram(O,z),(this.stylesheet.terrain||this.stylesheet.projection&&this.stylesheet.projection.name==="globe")&&(z.overrideRtt=!0,w.getOrCreateProgram(O,z)))}}}update(d){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(d),this.directionalLight&&this.directionalLight.recalculate(d);const m=this.calculateLightsBrightness();d.brightness=m||0,m!==this._brightness&&(this._brightness=m,this.dispatcher.broadcast("setBrightness",m));const w=this._changes.isDirty();let T=!1;if(this._changes.isDirty()){const O=this._changes.getLayerUpdatesByScope();for(const z in O){const{updatedIds:K,removedIds:q}=O[z];(K||q)&&(this._updateWorkerLayers(z,K,q),T=!0)}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(d),this.light&&this.light.updateTransitions(d),this.ambientLight&&this.ambientLight.updateTransitions(d),this.directionalLight&&this.directionalLight.updateTransitions(d),this.fog&&this.fog.updateTransitions(d),this._changes.reset()}const C={};for(const O in this._mergedSourceCaches){const z=this._mergedSourceCaches[O];C[O]=z.used,z.used=!1,z.tileCoverLift=0}for(const O of this._mergedOrder){const z=this._mergedLayers[O];if(z.recalculate(d,this._availableImages),!z.isHidden(d.zoom)){const K=this.getLayerSourceCache(z);K&&(K.used=!0,K.tileCoverLift=Math.max(K.tileCoverLift,z.tileCoverLift()))}!this._precompileDone&&this._shouldPrecompile&&("requestIdleCallback"in window?requestIdleCallback(()=>{this.precompilePrograms(z,d)}):this.precompilePrograms(z,d))}this._shouldPrecompile&&(this._precompileDone=!0),this.terrain&&T&&this.mergeLayers();for(const O in C){const z=this._mergedSourceCaches[O];C[O]!==z.used&&z.getSource().fire(new o.g("data",{sourceDataType:"visibility",dataType:"source",sourceId:z.getSource().id}))}this.light&&this.light.recalculate(d),this.terrain&&this.terrain.recalculate(d),this.fog&&this.fog.recalculate(d),this.z=d.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),w&&this.fire(new o.g("data",{dataType:"style"}))}_updateTilesForChangedImages(){const d=this._changes.getUpdatedImages();if(d.length){for(const m in this._sourceCaches)this._sourceCaches[m].reloadTilesForDependencies(["icons","patterns"],d);this._changes.resetUpdatedImages()}}_updateWorkerLayers(d,m,w){const T=this.getFragmentStyle(d);T&&this.dispatcher.broadcast("updateLayers",{layers:m?T._serializeLayers(m):[],scope:d,removedIds:w||[],options:T.options})}setState(d,m){if(this._checkLoaded(),Ys(this,xe(d)))return!1;(d=o.cW(d)).layers=k0(d.layers);const w=function(O,z){if(!O)return[{command:Gn.setStyle,args:[z]}];let K=[];try{if(!o.d(O.version,z.version))return[{command:Gn.setStyle,args:[z]}];if(o.d(O.center,z.center)||K.push({command:Gn.setCenter,args:[z.center]}),o.d(O.zoom,z.zoom)||K.push({command:Gn.setZoom,args:[z.zoom]}),o.d(O.bearing,z.bearing)||K.push({command:Gn.setBearing,args:[z.bearing]}),o.d(O.pitch,z.pitch)||K.push({command:Gn.setPitch,args:[z.pitch]}),o.d(O.sprite,z.sprite)||K.push({command:Gn.setSprite,args:[z.sprite]}),o.d(O.glyphs,z.glyphs)||K.push({command:Gn.setGlyphs,args:[z.glyphs]}),o.d(O.imports,z.imports)||function(me=[],Ee=[],Ae){Ee=Ee||[];const Pe=(me=me||[]).map(Bv),Ie=Ee.map(Bv),Ve=me.reduce(Cc,{}),Ue=Ee.reduce(Cc,{}),Fe=Pe.slice();let Ye,He,Ge,nt;for(Ye=0,He=0;Ye<Pe.length;Ye++)Ge=Pe[Ye],Ue.hasOwnProperty(Ge)?He++:(Ae.push({command:Gn.removeImport,args:[Ge]}),Fe.splice(Fe.indexOf(Ge,He),1));for(Ye=0,He=0;Ye<Ie.length;Ye++)Ge=Ie[Ie.length-1-Ye],Fe[Fe.length-1-Ye]!==Ge&&(Ve.hasOwnProperty(Ge)?(Ae.push({command:Gn.removeImport,args:[Ge]}),Fe.splice(Fe.lastIndexOf(Ge,Fe.length-He),1)):He++,nt=Fe[Fe.length-Ye],Ae.push({command:Gn.addImport,args:[Ue[Ge],nt]}),Fe.splice(Fe.length-Ye,0,Ge));for(const at of Ee){const pt=Ve[at.id];pt&&!o.d(pt,at)&&Ae.push({command:Gn.updateImport,args:[at.id,at]})}}(O.imports,z.imports,K),o.d(O.transition,z.transition)||K.push({command:Gn.setTransition,args:[z.transition]}),o.d(O.light,z.light)||K.push({command:Gn.setLight,args:[z.light]}),o.d(O.fog,z.fog)||K.push({command:Gn.setFog,args:[z.fog]}),o.d(O.projection,z.projection)||K.push({command:Gn.setProjection,args:[z.projection]}),o.d(O.lights,z.lights)||K.push({command:Gn.setLights,args:[z.lights]}),o.d(O.camera,z.camera)||K.push({command:Gn.setCamera,args:[z.camera]}),!o.d(O["color-theme"],z["color-theme"]))return[{command:Gn.setStyle,args:[z]}];const q={},Q=[];(function(me,Ee,Ae,Pe){let Ie;for(Ie in Ee=Ee||{},me=me||{})me.hasOwnProperty(Ie)&&(Ee.hasOwnProperty(Ie)||DS(Ie,Ae,Pe));for(Ie in Ee){if(!Ee.hasOwnProperty(Ie))continue;const Ve=Ee[Ie];me.hasOwnProperty(Ie)?o.d(me[Ie],Ve)||(me[Ie].type==="geojson"&&Ve.type==="geojson"&&O0(me,Ee,Ie)?Ae.push({command:Gn.setGeoJSONSourceData,args:[Ie,Ve.data]}):pO(Ie,Ee,Ae,Pe)):Gh(Ie,Ee,Ae)}})(O.sources,z.sources,Q,q);const ie=[];O.layers&&O.layers.forEach(me=>{me.source&&q[me.source]?K.push({command:Gn.removeLayer,args:[me.id]}):ie.push(me)});let ce=O.terrain;ce&&q[ce.source]&&(K.push({command:Gn.setTerrain,args:[void 0]}),ce=void 0),K=K.concat(Q),o.d(ce,z.terrain)||K.push({command:Gn.setTerrain,args:[z.terrain]}),function(me,Ee,Ae){Ee=Ee||[];const Pe=(me=me||[]).map(Bv),Ie=Ee.map(Bv),Ve=me.reduce(Cc,{}),Ue=Ee.reduce(Cc,{}),Fe=Pe.slice(),Ye=Object.create(null);let He,Ge,nt,at,pt,ot,Xe;for(He=0,Ge=0;He<Pe.length;He++)nt=Pe[He],Ue.hasOwnProperty(nt)?Ge++:(Ae.push({command:Gn.removeLayer,args:[nt]}),Fe.splice(Fe.indexOf(nt,Ge),1));for(He=0,Ge=0;He<Ie.length;He++)nt=Ie[Ie.length-1-He],Fe[Fe.length-1-He]!==nt&&(Ve.hasOwnProperty(nt)?(Ae.push({command:Gn.removeLayer,args:[nt]}),Fe.splice(Fe.lastIndexOf(nt,Fe.length-Ge),1)):Ge++,ot=Fe[Fe.length-He],Ae.push({command:Gn.addLayer,args:[Ue[nt],ot]}),Fe.splice(Fe.length-He,0,nt),Ye[nt]=!0);for(He=0;He<Ie.length;He++)if(nt=Ie[He],at=Ve[nt],pt=Ue[nt],!Ye[nt]&&!o.d(at,pt))if(o.d(at.source,pt.source)&&o.d(at["source-layer"],pt["source-layer"])&&o.d(at.type,pt.type)){for(Xe in kd(at.layout,pt.layout,Ae,nt,null,Gn.setLayoutProperty),kd(at.paint,pt.paint,Ae,nt,null,Gn.setPaintProperty),o.d(at.slot,pt.slot)||Ae.push({command:Gn.setSlot,args:[nt,pt.slot]}),o.d(at.filter,pt.filter)||Ae.push({command:Gn.setFilter,args:[nt,pt.filter]}),o.d(at.minzoom,pt.minzoom)&&o.d(at.maxzoom,pt.maxzoom)||Ae.push({command:Gn.setLayerZoomRange,args:[nt,pt.minzoom,pt.maxzoom]}),at)at.hasOwnProperty(Xe)&&Xe!=="layout"&&Xe!=="paint"&&Xe!=="filter"&&Xe!=="metadata"&&Xe!=="minzoom"&&Xe!=="maxzoom"&&Xe!=="slot"&&(Xe.indexOf("paint.")===0?kd(at[Xe],pt[Xe],Ae,nt,Xe.slice(6),Gn.setPaintProperty):o.d(at[Xe],pt[Xe])||Ae.push({command:Gn.setLayerProperty,args:[nt,Xe,pt[Xe]]}));for(Xe in pt)pt.hasOwnProperty(Xe)&&!at.hasOwnProperty(Xe)&&Xe!=="layout"&&Xe!=="paint"&&Xe!=="filter"&&Xe!=="metadata"&&Xe!=="minzoom"&&Xe!=="maxzoom"&&Xe!=="slot"&&(Xe.indexOf("paint.")===0?kd(at[Xe],pt[Xe],Ae,nt,Xe.slice(6),Gn.setPaintProperty):o.d(at[Xe],pt[Xe])||Ae.push({command:Gn.setLayerProperty,args:[nt,Xe,pt[Xe]]}))}else Ae.push({command:Gn.removeLayer,args:[nt]}),ot=Fe[Fe.lastIndexOf(nt)+1],Ae.push({command:Gn.addLayer,args:[pt,ot]})}(ie,z.layers,K)}catch(q){console.warn("Unable to compute style diff:",q),K=[{command:Gn.setStyle,args:[z]}]}return K}(this.serialize(),d).filter(O=>!(O.command in qh));if(w.length===0)return!1;const T=w.filter(O=>!(O.command in Vv));if(T.length>0)throw new Error(`Unimplemented: ${T.map(O=>O.command).join(", ")}.`);const C=[];return w.forEach(O=>{C.push(this[O.command].apply(this,O.args))}),m&&Promise.all(C).then(m),this.stylesheet=d,this.mergeAll(),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(d,m){return this.getImage(d)?this.fire(new o.f(new Error("An image with this name already exists."))):(this.imageManager.addImage(d,this.scope,m),this._afterImageUpdated(d),this)}updateImage(d,m){this.imageManager.updateImage(d,this.scope,m)}getImage(d){return this.imageManager.getImage(d,this.scope)}removeImage(d){return this.getImage(d)?(this.imageManager.removeImage(d,this.scope),this._afterImageUpdated(d),this):this.fire(new o.f(new Error("No image with this name exists.")))}_afterImageUpdated(d){this._availableImages=this.imageManager.listImages(this.scope),this._changes.updateImage(d),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.fire(new o.g("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(d,m,w={}){return this._checkLoaded(),this._validate(Ut,`models.${d}`,m,null,w)||(this.modelManager.addModel(d,m,this.scope),this._changes.setDirty()),this}hasModel(d){return this.modelManager.hasModel(d,this.scope)}removeModel(d){return this.hasModel(d)?(this.modelManager.removeModel(d,this.scope),this):this.fire(new o.f(new Error("No model with this ID exists.")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(d,m,w={}){if(this._checkLoaded(),this.getOwnSource(d)!==void 0)throw new Error(`There is already a source with ID "${d}".`);if(!m.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(m).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(m.type)>=0&&this._validate(Ce,`sources.${d}`,m,null,w))return;this.map&&this.map._collectResourceTiming&&(m.collectResourceTiming=!0);const T=Ev(d,m,this.dispatcher,this);T.scope=this.scope,T.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(T.id),source:T.serialize(),sourceId:T.id}));const C=O=>{const z=(O?"symbol:":"other:")+T.id,K=o.am(z,this.scope),q=this._sourceCaches[z]=new o.bx(K,T,O);(O?this._symbolSourceCaches:this._otherSourceCaches)[T.id]=q,q.onAdd(this.map)};C(!1),m.type!=="vector"&&m.type!=="geojson"||C(!0),T.onAdd&&T.onAdd(this.map),w.isInitialLoad||(this.mergeSources(),this._changes.setDirty())}removeSource(d){this._checkLoaded();const m=this.getOwnSource(d);if(!m)throw new Error("There is no source with this ID");for(const T in this._layers)if(this._layers[T].source===d)return this.fire(new o.f(new Error(`Source "${d}" cannot be removed while layer "${T}" is using it.`)));if(this.terrain&&this.terrain.scope===this.scope&&this.terrain.get().source===d)return this.fire(new o.f(new Error(`Source "${d}" cannot be removed while terrain is using it.`)));const w=this.getOwnSourceCaches(d);for(const T of w){const C=o.cX(T.id);delete this._sourceCaches[C],this._changes.discardSourceCacheUpdate(T.id),T.fire(new o.g("data",{sourceDataType:"metadata",dataType:"source",sourceId:T.getSource().id})),T.setEventedParent(null),T.clearTiles()}return delete this._otherSourceCaches[d],delete this._symbolSourceCaches[d],this.mergeSources(),m.setEventedParent(null),m.onRemove&&m.onRemove(this.map),this._changes.setDirty(),this}setGeoJSONSourceData(d,m){this._checkLoaded(),this.getOwnSource(d).setData(m),this._changes.setDirty()}getOwnSource(d){const m=this.getOwnSourceCache(d);return m&&m.getSource()}getOwnSources(){const d=[];for(const m in this._otherSourceCaches){const w=this.getOwnSourceCache(m);w&&d.push(w.getSource())}return d}areTilesLoaded(){const d=this._mergedSourceCaches;for(const m in d){const w=d[m]._tiles;for(const T in w){const C=w[T];if(C.state!=="loaded"&&C.state!=="errored")return!1}}return!0}setLights(d){if(this._checkLoaded(),!d)return delete this.ambientLight,void delete this.directionalLight;const m=this._getTransitionParameters();for(const T of d){if(this._validate(et,"lights",T))return;switch(T.type){case"ambient":if(this.ambientLight){const C=this.ambientLight;C.set(T),C.updateTransitions(m)}else this.ambientLight=new Cf(T,w3||(w3=new o.U({color:new o.W(o.N.properties_light_ambient.color),intensity:new o.W(o.N.properties_light_ambient.intensity)})),this.scope,this.options);break;case"directional":if(this.directionalLight){const C=this.directionalLight;C.set(T),C.updateTransitions(m)}else this.directionalLight=new Cf(T,S3||(S3=new o.U({direction:new o.a6(o.N.properties_light_directional.direction),color:new o.W(o.N.properties_light_directional.color),intensity:new o.W(o.N.properties_light_directional.intensity),"cast-shadows":new o.W(o.N.properties_light_directional["cast-shadows"]),"shadow-intensity":new o.W(o.N.properties_light_directional["shadow-intensity"])})),this.scope,this.options)}}const w=new o.Y(this.z||0,m);this.ambientLight&&this.ambientLight.recalculate(w),this.directionalLight&&this.directionalLight.recalculate(w),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast("setBrightness",this._brightness)}calculateLightsBrightness(){const d=this.directionalLight,m=this.ambientLight;if(!d||!m)return;const w=ie=>.2126*(ie[0]<=.03928?ie[0]/12.92:Math.pow((ie[0]+.055)/1.055,2.4))+.7152*(ie[1]<=.03928?ie[1]/12.92:Math.pow((ie[1]+.055)/1.055,2.4))+.0722*(ie[2]<=.03928?ie[2]/12.92:Math.pow((ie[2]+.055)/1.055,2.4)),T=d.properties.get("color").toRenderColor(null).toArray01(),C=d.properties.get("intensity"),O=d.properties.get("direction"),z=1-o.ad(O.x,O.y,O.z)[2]/90,K=w(T)*C*z,q=m.properties.get("color").toRenderColor(null).toArray01(),Q=m.properties.get("intensity");return(K+w(q)*Q)/2}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const d=[];return this.directionalLight&&d.push(this.directionalLight.get()),this.ambientLight&&d.push(this.ambientLight.get()),d}enable3dLights(){return!!this.ambientLight&&!!this.directionalLight}getFragmentStyle(d){if(!d)return this;if(o.cY(d)){const m=o.cZ(d),w=this.fragments.find(({id:C})=>C===m);if(!w)throw new Error(`Style import not found: ${d}`);const T=o.cX(d);return w.style.getFragmentStyle(T)}{const m=this.fragments.find(({id:w})=>w===d);if(!m)throw new Error(`Style import not found: ${d}`);return m.style}}getConfigProperty(d,m){const w=this.getFragmentStyle(d);if(!w)return null;const T=o.am(m,w.scope),C=w.options.get(T),O=C?C.value||C.default:null;return O?O.serialize():null}setConfigProperty(d,m,w){const T=this.getFragmentStyle(d);if(!T)return;const C=T.stylesheet.schema;if(!C||!C[m])return;const O=o.z(w);if(O.result!=="success")return void Ys(this,O.value);const z=O.value.expression,K=o.am(m,T.scope),q=T.options.get(K);if(!q)return;let Q;const{minValue:ie,maxValue:ce,stepValue:me,type:Ee,values:Ae}=C[m],Pe=o.z(C[m].default);Pe.result==="success"&&(Q=Pe.value.expression),Q?(this.options.set(K,{...q,value:z,default:Q,minValue:ie,maxValue:ce,stepValue:me,type:Ee,values:Ae}),this.updateConfigDependencies(m)):this.fire(new o.f(new Error(`No schema defined for the config option "${m}" in the "${d}" fragment.`)))}getConfig(d){const m=this.getFragmentStyle(d);if(!m)return null;const w=m.stylesheet.schema;if(!w)return null;const T={};for(const C in w){const O=o.am(C,m.scope),z=m.options.get(O),K=z?z.value||z.default:null;T[C]=K?K.serialize():null}return T}setConfig(d,m){const w=this.getFragmentStyle(d);w&&(w.updateConfig(m,w.stylesheet.schema),this.updateConfigDependencies())}getSchema(d){const m=this.getFragmentStyle(d);return m?m.stylesheet.schema:null}setSchema(d,m){const w=this.getFragmentStyle(d);w&&(w.stylesheet.schema=m,w.updateConfig(w._config,m),this.updateConfigDependencies())}updateConfig(d,m){if(this._config=d,d||m)if(m)for(const w in m){let T,C;const O=o.z(m[w].default);if(O.result==="success"&&(T=O.value.expression),d&&d[w]!==void 0){const ce=o.z(d[w]);ce.result==="success"&&(C=ce.value.expression)}const{minValue:z,maxValue:K,stepValue:q,type:Q,values:ie}=m[w];if(T){const ce=o.am(w,this.scope);this.options.set(ce,{default:T,value:C,minValue:z,maxValue:K,stepValue:q,type:Q,values:ie})}else this.fire(new o.f(new Error(`No schema defined for config option "${w}".`)))}else this.fire(new o.f(new Error("Attempting to set config for a style without schema.")))}updateConfigDependencies(d){for(const m of this._configDependentLayers){const w=this.getLayer(m);if(w){if(d&&!w.configDependencies.has(d))continue;w.possiblyEvaluateVisibility(),this._updateLayer(w)}}this.ambientLight&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.updateConfig(this.options),this.fog&&this.fog.updateConfig(this.options),this.forEachFragmentStyle(m=>{if(m._styleColorTheme.colorTheme){const w=m._evaluateColorThemeData(m._styleColorTheme.colorTheme);(!m._styleColorTheme.lut&&w!==""||m._styleColorTheme.lut&&w!==m._styleColorTheme.lut.data)&&m.setColorTheme(m._styleColorTheme.colorTheme)}}),this._changes.setDirty()}addLayer(d,m,w={}){this._checkLoaded();const T=d.id;if(this._layers[T])return void this.fire(new o.f(new Error(`Layer with id "${T}" already exists on this map`)));let C;if(d.type==="custom"){if(Ys(this,o.c_(d)))return;C=o.c$(d,this.scope,this._styleColorTheme.lut,this.options)}else{if(typeof d.source=="object"&&(this.addSource(T,d.source),d=o.cW(d),d=o.Q(d,{source:T})),this._validate(Et,`layers.${T}`,d,{arrayIndex:-1},w))return;C=o.c$(d,this.scope,this._styleColorTheme.lut,this.options),this._validateLayer(C),C.setEventedParent(this,{layer:{id:T}}),this._serializedLayers[C.id]=C.serialize()}C.configDependencies.size!==0&&this._configDependentLayers.add(C.fqid);let O=this._order.length;if(m){const Q=this._order.indexOf(m);if(Q===-1)return void this.fire(new o.f(new Error(`Layer with id "${m}" does not exist on this map.`)));C.slot===this._layers[m].slot?O=Q:o.w(`Layer with id "${m}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(O,0,T),this._layerOrderChanged=!0,this._layers[T]=C;const z=this.getOwnLayerSourceCache(C),K=!!this.directionalLight&&this.directionalLight.shadowsEnabled();z&&C.canCastShadows()&&K&&(z.castsShadows=!0);const q=this._changes.getRemovedLayer(C);if(q&&C.source&&z&&C.type!=="custom"){this._changes.discardLayerRemoval(C);const Q=o.am(C.source,C.scope);q.type!==C.type?this._changes.updateSourceCache(Q,"clear"):(this._changes.updateSourceCache(Q,"reload"),z.pause())}this._updateLayer(C),C.onAdd&&C.onAdd(this.map),C.scope=this.scope,this.mergeLayers()}moveLayer(d,m){this._checkLoaded();const w=this._checkLayer(d);if(!w||d===m)return;const T=this._order.indexOf(d);this._order.splice(T,1);let C=this._order.length;if(m){const O=this._order.indexOf(m);if(O===-1)return void this.fire(new o.f(new Error(`Layer with id "${m}" does not exist on this map.`)));w.slot===this._layers[m].slot?C=O:o.w(`Layer with id "${m}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(C,0,d),this._changes.setDirty(),this._layerOrderChanged=!0,this.mergeLayers()}removeLayer(d){this._checkLoaded();const m=this._checkLayer(d);if(!m)return;m.setEventedParent(null);const w=this._order.indexOf(d);this._order.splice(w,1),delete this._layers[d],delete this._serializedLayers[d],this._changes.setDirty(),this._layerOrderChanged=!0,this._configDependentLayers.delete(m.fqid),this._changes.removeLayer(m);const T=this.getOwnLayerSourceCache(m);if(T&&T.castsShadows){let C=!1;for(const O in this._layers)if(this._layers[O].source===m.source&&this._layers[O].canCastShadows()){C=!0;break}T.castsShadows=C}m.onRemove&&m.onRemove(this.map),this.mergeLayers()}getOwnLayer(d){return this._layers[d]}hasLayer(d){return d in this._mergedLayers}hasLayerType(d){for(const m in this._layers)if(this._layers[m].type===d)return!0;return!1}setLayerZoomRange(d,m,w){this._checkLoaded();const T=this._checkLayer(d);T&&(T.minzoom===m&&T.maxzoom===w||(m!=null&&(T.minzoom=m),w!=null&&(T.maxzoom=w),this._updateLayer(T)))}getSlots(){return this._checkLoaded(),this._mergedSlots}setSlot(d,m){this._checkLoaded();const w=this._checkLayer(d);w&&w.slot!==m&&(w.slot=m,this._updateLayer(w))}setFilter(d,m,w={}){this._checkLoaded();const T=this._checkLayer(d);if(T&&!o.d(T.filter,m))return m==null?(T.filter=void 0,void this._updateLayer(T)):void(this._validate(ct,`layers.${T.id}.filter`,m,{layerType:T.type},w)||(T.filter=o.cW(m),this._updateLayer(T)))}getFilter(d){const m=this._checkLayer(d);if(m)return o.cW(m.filter)}setLayoutProperty(d,m,w,T={}){this._checkLoaded();const C=this._checkLayer(d);if(C&&!o.d(C.getLayoutProperty(m),w)){if(w!=null&&(!T||T.validate!==!1)&&Ys(C,Wt.call(xe,{key:`layers.${d}.layout.${m}`,layerType:C.type,objectKey:m,value:w,styleSpec:o.N,style:{glyphs:!0,sprite:!0}})))return;C.setLayoutProperty(m,w),C.configDependencies.size!==0&&this._configDependentLayers.add(C.fqid),this._updateLayer(C)}}getLayoutProperty(d,m){const w=this._checkLayer(d);if(w)return w.getLayoutProperty(m)}setPaintProperty(d,m,w,T={}){this._checkLoaded();const C=this._checkLayer(d);if(!C||o.d(C.getPaintProperty(m),w)||w!=null&&(!T||T.validate!==!1)&&Ys(C,wt.call(xe,{key:`layers.${d}.paint.${m}`,layerType:C.type,objectKey:m,value:w,styleSpec:o.N})))return;const O=C.setPaintProperty(m,w);C.configDependencies.size!==0&&this._configDependentLayers.add(C.fqid),O&&this._updateLayer(C),this._changes.updatePaintProperties(C)}getPaintProperty(d,m){const w=this._checkLayer(d);if(w)return w.getPaintProperty(m)}setFeatureState(d,m){this._checkLoaded();const w=d.source,T=d.sourceLayer,C=this._checkSource(w);if(!C)return;const O=C.type;if(O==="geojson"&&T)return void this.fire(new o.f(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(O==="vector"&&!T)return void this.fire(new o.f(new Error("The sourceLayer parameter must be provided for vector source types.")));d.id===void 0&&this.fire(new o.f(new Error("The feature id parameter must be provided.")));const z=this.getOwnSourceCaches(w);for(const K of z)K.setFeatureState(T,d.id,m)}removeFeatureState(d,m){this._checkLoaded();const w=d.source,T=this._checkSource(w);if(!T)return;const C=T.type,O=C==="vector"?d.sourceLayer:void 0;if(C==="vector"&&!O)return void this.fire(new o.f(new Error("The sourceLayer parameter must be provided for vector source types.")));if(m&&typeof d.id!="string"&&typeof d.id!="number")return void this.fire(new o.f(new Error("A feature id is required to remove its specific state property.")));const z=this.getOwnSourceCaches(w);for(const K of z)K.removeFeatureState(O,d.id,m)}getFeatureState(d){this._checkLoaded();const m=d.source,w=d.sourceLayer,T=this._checkSource(m);if(T){if(T.type!=="vector"||w)return d.id===void 0&&this.fire(new o.f(new Error("The feature id parameter must be provided."))),this.getOwnSourceCaches(m)[0].getFeatureState(w,d.id);this.fire(new o.f(new Error("The sourceLayer parameter must be provided for vector source types.")))}}setTransition(d){return this.stylesheet.transition=o.Q({},this.stylesheet.transition,d),this.transition=this.stylesheet.transition,this}getTransition(){return o.Q({},this.stylesheet.transition)}serialize(){this._checkLoaded();const d=this.getTerrain(),m=d&&this.terrain&&this.terrain.scope===this.scope?d:this.stylesheet.terrain;return o.d0({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,fragment:this.stylesheet.fragment,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:m,fog:this.stylesheet.fog,center:this.stylesheet.center,"color-theme":this.stylesheet["color-theme"],zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},w=>w!==void 0)}_updateLayer(d){this._changes.updateLayer(d);const m=this.getLayerSourceCache(d),w=o.am(d.source,d.scope),T=this._changes.getUpdatedSourceCaches();d.source&&!T[w]&&m&&m.getSource().type!=="raster"&&(this._changes.updateSourceCache(w,"reload"),m.pause()),d.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(d){const m=z=>this._mergedLayers[z].type==="fill-extrusion"||this._mergedLayers[z].type==="model",w=this.order,T={},C=[];for(let z=w.length-1;z>=0;z--){const K=w[z];if(m(K)){T[K]=z;for(const q of d){const Q=q[K];if(Q)for(const ie of Q)C.push(ie)}}}C.sort((z,K)=>K.intersectionZ-z.intersectionZ);const O=[];for(let z=w.length-1;z>=0;z--){const K=w[z];if(m(K))for(let q=C.length-1;q>=0;q--){const Q=C[q].feature;if(Q.layer&&T[Q.layer.id]<z)break;O.push(Q),C.pop()}else for(const q of d){const Q=q[K];if(Q)for(const ie of Q)O.push(ie.feature)}}return O}queryRenderedFeatures(d,m,w){m&&m.filter&&this._validate(ct,"queryRenderedFeatures.filter",m.filter,null,m),m.scope=this.scope,m.availableImages=this._availableImages,m.serializedLayers=this._serializedLayers;const T={};if(m&&m.layers){if(!Array.isArray(m.layers))return this.fire(new o.f(new Error("parameters.layers must be an Array."))),[];for(const q of m.layers){const Q=this._mergedLayers[q];if(!Q)return this.fire(new o.f(new Error(`The layer '${q}' does not exist in the map's style and cannot be queried for features.`))),[];T[Q.source]=!0}}const C=[],O=m.serializedLayers||{},z=m&&m.layers?m.layers.some(q=>{const Q=this.getLayer(q);return Q&&Q.is3D()}):this.has3DLayers(),K=Zs.createFromScreenPoints(d,w);for(const q in this._mergedSourceCaches){const Q=this._mergedSourceCaches[q].getSource();if(!Q||Q.scope!==m.scope)continue;const ie=this._mergedSourceCaches[q].getSource().id;m.layers&&!T[ie]||C.push(Pc(this._mergedSourceCaches[q],this._mergedLayers,O,K,m,w,z,!!this.map._showQueryGeometry))}return this.placement&&C.push(function(q,Q,ie,ce,me,Ee,Ae){const Pe={},Ie=Ee.queryRenderedSymbols(ce),Ve=[];for(const Ue of Object.keys(Ie).map(Number))Ve.push(Ae[Ue]);Ve.sort(tw);for(const Ue of Ve){const Fe=Ue.featureIndex.lookupSymbolFeatures(Ie[Ue.bucketInstanceId],Q,Ue.bucketIndex,Ue.sourceLayerIndex,me.filter,me.layers,me.availableImages,q);for(const Ye in Fe){const He=Pe[Ye]=Pe[Ye]||[],Ge=Fe[Ye];Ge.sort((nt,at)=>{const pt=Ue.featureSortOrder;if(pt){const ot=pt.indexOf(nt.featureIndex);return pt.indexOf(at.featureIndex)-ot}return at.featureIndex-nt.featureIndex});for(const nt of Ge)He.push(nt)}}for(const Ue in Pe)Pe[Ue].forEach(Fe=>{const Ye=Fe.feature,He=ie(q[Ue]);if(!He)return;const Ge=He.getFeatureState(Ye.layer["source-layer"],Ye.id);Ye.source=Ye.layer.source,Ye.layer["source-layer"]&&(Ye.sourceLayer=Ye.layer["source-layer"]),Ye.state=Ge});return Pe}(this._mergedLayers,O,this.getLayerSourceCache.bind(this),K.screenGeometry,m,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(C)}querySourceFeatures(d,m){m&&m.filter&&this._validate(ct,"querySourceFeatures.filter",m.filter,null,m);const w=this.getOwnSourceCaches(d);let T=[];for(const C of w)T=T.concat(dO(C,m));return T}addSourceType(d,m,w){return Js.getSourceType(d)?w(new Error(`A source type called "${d}" already exists.`)):(Js.setSourceType(d,m),m.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:d,url:m.workerSourceURL},w):w(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(d,m,w={}){this._checkLoaded();const T=this.light.getLight();let C=!1;for(const z in d)if(!o.d(d[z],T[z])){C=!0;break}if(!C)return;const O=this._getTransitionParameters();this.light.setLight(d,m,w),this.light.updateTransitions(O)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}checkCanvasFingerprintNoise(){this.disableElevatedTerrain===void 0&&(this.disableElevatedTerrain=o.e.hasCanvasFingerprintNoise(),this.disableElevatedTerrain&&o.w("Terrain and hillshade are disabled because of Canvas2D limitations when fingerprinting protection is enabled (e.g. in private browsing mode)."))}setTerrain(d,m=1){if(this._checkLoaded(),!d)return this.terrainSetForDrapingOnly()||(delete this.terrain,this.map.transform.projection.requiresDraping&&this.setTerrainForDraping()),m===0&&delete this.terrain,d===null?this.stylesheet.terrain=null:delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);this.checkCanvasFingerprintNoise();let w=d;const T=d.source==null;if(m===1){if(this.disableElevatedTerrain)return;if(typeof w.source=="object"){const z="terrain-dem-src";this.addSource(z,w.source),w=o.cW(w),w=o.Q(w,{source:z})}const C=o.Q({},w),O={};if(this.terrain&&T){C.source=this.terrain.get().source;const z=this.terrain?this.getFragmentStyle(this.terrain.scope):null;z&&(O.style=z.serialize())}if(this._validate(tt,"terrain",C,O))return}if(!this.terrain||this.terrain.scope!==this.scope&&!T||this.terrain&&m!==this.terrain.drapeRenderMode){if(!w)return;this._createTerrain(w,m),this.fire(new o.g("data",{dataType:"style"}))}else{const C=this.terrain,O=C.get();for(const z of Object.keys(o.N.terrain))!w.hasOwnProperty(z)&&o.N.terrain[z].default&&(w[z]=o.N.terrain[z].default);for(const z in d)if(!o.d(d[z],O[z])){C.set(d,this.options),this.stylesheet.terrain=d;const K=this._getTransitionParameters({duration:0});C.updateTransitions(K),this.fire(new o.g("data",{dataType:"style"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(d){const m=this.fog=new Fo(d,this.map.transform,this.scope,this.options);this.stylesheet.fog=m.get();const w=this._getTransitionParameters({duration:0});m.updateTransitions(w)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const d of this.map._markers)d._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(d){if(this._checkLoaded(),!d)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const m=this.fog;if(!o.d(m.get(),d)){m.set(d,this.options),this.stylesheet.fog=m.get();const w=this._getTransitionParameters({duration:0});m.updateTransitions(w)}}else this._createFog(d);this._markersNeedUpdate=!0}setColorTheme(d){this._checkLoaded();const m=()=>{for(const T in this._layers)this._layers[T].lut=this._styleColorTheme.lut;for(const T in this._sourceCaches)this._sourceCaches[T].clearTiles()};if(this._styleColorTheme.colorTheme=d,!d)return this._styleColorTheme.lut=null,void m();const w=this._evaluateColorThemeData(d);this._loadColorTheme(w).then(()=>{this.fire(new o.g("colorthemeset")),m()}).catch(T=>{o.w(`Couldn't set color theme: ${T}`)})}_getTransitionParameters(d){return{now:o.e.now(),transition:o.Q(this.transition,d)}}updateDrapeFirstLayers(){if(!this.terrain)return;const d=[],m=[];for(const w of this._mergedOrder)this.isLayerDraped(this._mergedLayers[w])?d.push(w):m.push(w);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...d),this._drapedFirstOrder.push(...m)}_createTerrain(d,m){const w=this.terrain=new wn(d,m,this.scope,this.options);m===1&&(this.stylesheet.terrain=d),this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const T=this._getTransitionParameters({duration:0});w.updateTransitions(T)}_force3DLayerUpdate(){for(const d in this._layers){const m=this._layers[d];m.type==="fill-extrusion"&&this._updateLayer(m)}}_forceSymbolLayerUpdate(){for(const d in this._layers){const m=this._layers[d];m.type==="symbol"&&this._updateLayer(m)}}_validate(d,m,w,T,C={}){if(C&&C.validate===!1)return!1;const O=o.Q({},this.serialize());return Ys(this,d.call(xe,o.Q({key:m,style:O,value:w,styleSpec:o.N},T)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.d1.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._mergedLayers)this._mergedLayers[d].setEventedParent(null);for(const d in this._mergedSourceCaches)this._mergedSourceCaches[d].clearTiles(),this._mergedSourceCaches[d].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove())}clearSource(d){const m=this.getSourceCaches(d);for(const w of m)w.clearTiles()}clearSources(){for(const d in this._mergedSourceCaches)this._mergedSourceCaches[d].clearTiles()}reloadSource(d){const m=this.getSourceCaches(d);for(const w of m)w.resume(),w.reload()}reloadSources(){for(const d of this.getSources())d.reload&&d.reload()}updateSources(d){let m;this.directionalLight&&(m=zh(this.directionalLight));for(const w in this._mergedSourceCaches)this._mergedSourceCaches[w].update(d,void 0,void 0,m)}_generateCollisionBoxes(){for(const d in this._sourceCaches){const m=this._sourceCaches[d];m.resume(),m.reload()}}_updatePlacement(d,m,w,T,C,O,z=!1){let K=!1,q=!1;const Q={},ie={};for(const ce of this._mergedOrder){const me=this._mergedLayers[ce];if(me.type!=="symbol")continue;const Ee=o.am(me.source,me.scope);let Ae=Q[Ee];if(!Ae){const Ie=this.getLayerSourceCache(me);if(!Ie)continue;const Ve=Ie.getRenderableIds(!0).map(Ue=>Ie.getTileByID(Ue));ie[Ee]=Ve.slice(),Ae=Q[Ee]=Ve.sort((Ue,Fe)=>Fe.tileID.overscaledZ-Ue.tileID.overscaledZ||(Ue.tileID.isLessThan(Fe.tileID)?-1:1))}const Pe=this.crossTileSymbolIndex.addLayer(me,Ae,m.center.lng,m.projection);K=K||Pe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),z=z||this._layerOrderChanged||T===0,this._layerOrderChanged&&this.fire(new o.g("neworder")),(z||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.e.now(),m.zoom))&&(this.pauseablePlacement=new jS(m,this._mergedOrder,z,w,T,C,this.placement,this.fog&&m.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,Q,ie),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.e.now()),q=!0),K&&this.pauseablePlacement.placement.setStale()),q||K){this._buildingIndex.onNewFrame(m.zoom);for(let ce=0;ce<this._mergedOrder.length;ce++){const me=this._mergedLayers[this._mergedOrder[ce]];if(me.type!=="symbol")continue;const Ee=this.isLayerClipped(me)&&this._clipLayerIndices.some(Ae=>ce<Ae);this.placement.updateLayerOpacities(me,Q[o.am(me.source,me.scope)],ce,Ee?O:null)}}return{needsRerender:!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.e.now())}}_releaseSymbolFadeTiles(){for(const d in this._sourceCaches)this._sourceCaches[d].releaseSymbolFadeTiles()}addImport(d,m){this._checkLoaded();const w=this.stylesheet.imports=this.stylesheet.imports||[];if(w.findIndex(({id:C})=>C===d.id)!==-1)return void this.fire(new o.f(new Error(`Import with id '${d.id}' already exists in the map's style.`)));if(!m)return w.push(d),this._loadImports([d],!0);const T=w.findIndex(({id:C})=>C===m);return T===-1&&this.fire(new o.f(new Error(`Import with id "${m}" does not exist on this map.`))),this.stylesheet.imports=w.slice(0,T).concat(d).concat(w.slice(T)),this._loadImports([d],!0,m)}updateImport(d,m){this._checkLoaded();const w=this.stylesheet.imports||[],T=this.getImportIndex(d);return T===-1?this:typeof m=="string"?(this.setImportUrl(d,m),this):(m.url&&m.url!==w[T].url&&this.setImportUrl(d,m.url),o.d(m.config,w[T].config)||this.setImportConfig(d,m.config),o.d(m.data,w[T].data)||this.setImportData(d,m.data),this)}moveImport(d,m){this._checkLoaded();let w=this.stylesheet.imports||[];const T=this.getImportIndex(d);if(T===-1)return this;const C=this.getImportIndex(m);if(C===-1)return this;const O=w[T],z=this.fragments[T];return w=w.filter(({id:K})=>K!==d),this.fragments=this.fragments.filter(({id:K})=>K!==d),this.stylesheet.imports=w.slice(0,C).concat(O).concat(w.slice(C)),this.fragments=this.fragments.slice(0,C).concat(z).concat(this.fragments.slice(C)),this.mergeLayers(),this}setImportUrl(d,m){this._checkLoaded();const w=this.stylesheet.imports||[],T=this.getImportIndex(d);if(T===-1)return this;w[T].url=m;const C=this.fragments[T];return C.style=this._createFragmentStyle(w[T]),C.style.on("style.import.load",()=>this.mergeAll()),C.style.loadURL(m),this}setImportData(d,m){this._checkLoaded();const w=this.getImportIndex(d),T=this.stylesheet.imports||[];return w===-1?this:m?(this.fragments[w].style.setState(m),this._reloadImports(),this):(delete T[w].data,this.setImportUrl(d,T[w].url))}setImportConfig(d,m){this._checkLoaded();const w=this.getImportIndex(d),T=this.stylesheet.imports||[];if(w===-1)return this;m?T[w].config=m:delete T[w].config;const C=this.fragments[w],O=C.style.stylesheet&&C.style.stylesheet.schema;return C.config=m,C.style.updateConfig(m,O),this.updateConfigDependencies(),this}removeImport(d){this._checkLoaded();const m=this.stylesheet.imports||[],w=this.getImportIndex(d);w!==-1&&(m.splice(w,1),this.fragments[w].style._remove(),this.fragments.splice(w,1),this._reloadImports())}getImportIndex(d){const m=(this.stylesheet.imports||[]).findIndex(w=>w.id===d);return m===-1&&this.fire(new o.f(new Error(`Import '${d}' does not exist in the map's style and cannot be updated.`))),m}getLayer(d){return this._mergedLayers[d]}getSources(){const d=[];for(const m in this._mergedOtherSourceCaches){const w=this._mergedOtherSourceCaches[m];w&&d.push(w.getSource())}return d}getSource(d,m){const w=this.getSourceCache(d,m);return w&&w.getSource()}getLayerSource(d){const m=this.getLayerSourceCache(d);return m&&m.getSource()}getSourceCache(d,m){const w=o.am(d,m);return this._mergedOtherSourceCaches[w]}getLayerSourceCache(d){const m=o.am(d.source,d.scope);return d.type==="symbol"?this._mergedSymbolSourceCaches[m]:this._mergedOtherSourceCaches[m]}getSourceCaches(d){if(d==null)return Object.values(this._mergedSourceCaches);const m=[];return this._mergedOtherSourceCaches[d]&&m.push(this._mergedOtherSourceCaches[d]),this._mergedSymbolSourceCaches[d]&&m.push(this._mergedSymbolSourceCaches[d]),m}updateSourceCaches(){const d=this._changes.getUpdatedSourceCaches();for(const m in d){const w=d[m];w==="reload"?this.reloadSource(m):w==="clear"&&this.clearSource(m)}}updateLayers(d){const m=this._changes.getUpdatedPaintProperties();for(const w of m){const T=this.getLayer(w);T&&T.updateTransitions(d)}}getImages(d,m,w){this.imageManager.getImages(m.icons,m.scope,w),this._updateTilesForChangedImages();const T=C=>{C&&C.setDependencies(m.tileID.key,m.type,m.icons)};T(this._otherSourceCaches[m.source]),T(this._symbolSourceCaches[m.source])}getGlyphs(d,m,w){this.glyphManager.getGlyphs(m.stacks,m.scope,w)}getResource(d,m,w){return o.d2(m,w)}getOwnSourceCache(d){return this._otherSourceCaches[d]}getOwnLayerSourceCache(d){return d.type==="symbol"?this._symbolSourceCaches[d.source]:this._otherSourceCaches[d.source]}getOwnSourceCaches(d){const m=[];return this._otherSourceCaches[d]&&m.push(this._otherSourceCaches[d]),this._symbolSourceCaches[d]&&m.push(this._symbolSourceCaches[d]),m}_isSourceCacheLoaded(d){const m=this.getOwnSourceCaches(d);return m.length===0?(this.fire(new o.f(new Error(`There is no source with ID '${d}'`))),!1):m.every(w=>w.loaded())}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}isLayerClipped(d,m){if(this._clipLayerIndices.length===0&&d.type!=="fill-extrusion")return!1;const w=d.type==="fill-extrusion"&&d.sourceLayer==="building";let T=0;if(d.is3D()){if(w||m&&m.type==="batched-model")return!0;d.type==="model"&&(T=o.cw.Model)}else d.type==="symbol"&&(T=o.cw.Symbol);for(const C of this._clipLayerIndices){const O=this._mergedLayers[this._mergedOrder[C]];if(!O)continue;const z=[];for(const K of O.layout.get("clip-layer-types"))z.push(K==="model"?o.cw.Model:K==="symbol"?o.cw.Symbol:o.cw.FillExtrusion);for(const K of z)if(T&K)return!0}return!1}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.fragments.forEach(d=>{d.style._remove()}),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}function KS(b,d){let m=!1,w=null;const T=()=>{w=null,m&&(b(),w=setTimeout(T,d),m=!1)};return()=>(m=!0,w||T(),w)}Js.getSourceType=function(b){return Sv[b]},Js.setSourceType=function(b,d){Sv[b]=d},Js.registerForPluginStateChange=o.cO;class HS{constructor(d){this._hashName=d&&encodeURIComponent(d),o.br(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=KS(this._updateHashUnthrottled.bind(this),300)}addTo(d){return this._map=d,window.addEventListener("hashchange",this._onHashChange,!1),d.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const d=this._map;if(!d)return"";const m=sw(d);if(this._hashName){const w=this._hashName;let T=!1;const C=location.hash.slice(1).split("&").map(O=>{const z=O.split("=")[0];return z===w?(T=!0,`${z}=${m}`):O}).filter(O=>O);return T||C.push(`${w}=${m}`),`#${C.join("&")}`}return`#${m}`}_getCurrentHash(){const d=location.hash.replace("#","");if(this._hashName){let m;return d.split("&").map(w=>w.split("=")).forEach(w=>{w[0]===this._hashName&&(m=w)}),(m&&m[1]||"").split("/")}return d.split("/")}_onHashChange(){const d=this._map;if(!d)return!1;const m=this._getCurrentHash();if(m.length>=3&&!m.some(w=>isNaN(w))){const w=d.dragRotate.isEnabled()&&d.touchZoomRotate.isEnabled()?+(m[3]||0):d.getBearing();return d.jumpTo({center:[+m[2],+m[1]],zoom:+m[0],bearing:w,pitch:+(m[4]||0)}),!0}return!1}_updateHashUnthrottled(){history.replaceState(history.state,"",location.href.replace(/(#.+)?$/,this.getHashString()))}}function sw(b,d){const m=b.getCenter(),w=Math.round(100*b.getZoom())/100,T=Math.ceil((w*Math.LN2+Math.log(512/360/.5))/Math.LN10),C=Math.pow(10,T),O=Math.round(m.lng*C)/C,z=Math.round(m.lat*C)/C,K=b.getBearing(),q=b.getPitch();let Q=d?`/${O}/${z}/${w}`:`${w}/${z}/${O}`;return(K||q)&&(Q+="/"+Math.round(10*K)/10),q&&(Q+=`/${Math.round(q)}`),Q}const Zh={linearity:.3,easing:o.d3(0,0,.3,1)},gO=o.Q({deceleration:2500,maxSpeed:1400},Zh),yO=o.Q({deceleration:20,maxSpeed:1400},Zh),vO=o.Q({deceleration:1e3,maxSpeed:360},Zh),_O=o.Q({deceleration:1e3,maxSpeed:90},Zh);class GS{constructor(d){this._map=d,this.clear()}clear(){this._inertiaBuffer=[]}record(d){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.e.now(),settings:d})}_drainInertiaBuffer(){const d=this._inertiaBuffer,m=o.e.now();for(;d.length>0&&m-d[0].time>160;)d.shift()}_onMoveEnd(d){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const m={zoom:0,bearing:0,pitch:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:C}of this._inertiaBuffer)m.zoom+=C.zoomDelta||0,m.bearing+=C.bearingDelta||0,m.pitch+=C.pitchDelta||0,C.panDelta&&m.pan._add(C.panDelta),C.around&&(m.around=C.around),C.pinchAround&&(m.pinchAround=C.pinchAround);const w=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,T={};if(m.pan.mag()){const C=zf(m.pan.mag(),w,o.Q({},gO,d||{}));T.offset=m.pan.mult(C.amount/m.pan.mag()),T.center=this._map.transform.center,Uv(T,C)}if(m.zoom){const C=zf(m.zoom,w,yO);T.zoom=this._map.transform.zoom+C.amount,Uv(T,C)}if(m.bearing){const C=zf(m.bearing,w,vO);T.bearing=this._map.transform.bearing+o.au(C.amount,-179,179),Uv(T,C)}if(m.pitch){const C=zf(m.pitch,w,_O);T.pitch=this._map.transform.pitch+C.amount,Uv(T,C)}if(T.zoom||T.bearing){const C=m.pinchAround===void 0?m.around:m.pinchAround;T.around=C?this._map.unproject(C):this._map.getCenter()}return this.clear(),T.noMoveStart=!0,T}}function Uv(b,d){(!b.duration||b.duration<d.duration)&&(b.duration=d.duration,b.easing=d.easing)}function zf(b,d,m){const{maxSpeed:w,linearity:T,deceleration:C}=m,O=o.au(b*T/(d/1e3),-w,w),z=Math.abs(O)/(C*T);return{easing:m.easing,duration:1e3*z,amount:O*(z/2)}}class Qs extends o.g{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,m,w,T={}){const C=U(m.getCanvasContainer(),w),O=m.unproject(C);super(d,o.Q({point:C,lngLat:O,originalEvent:w},T)),this._defaultPrevented=!1,this.target=m}}class z0 extends o.g{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,m,w){const T=d==="touchend"?w.changedTouches:w.touches,C=Z(m.getCanvasContainer(),T),O=C.map(K=>m.unproject(K)),z=C.reduce((K,q,Q,ie)=>K.add(q.div(ie.length)),new o.P(0,0));super(d,{points:C,point:z,lngLats:O,lngLat:m.unproject(z),originalEvent:w}),this._defaultPrevented=!1}}class lw extends o.g{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,m){super("wheel",{originalEvent:m}),this._defaultPrevented=!1}}class Wv{constructor(d,m){this._map=d,this._clickTolerance=m.clickTolerance}reset(){this._mousedownPos=void 0}wheel(d){return this._firePreventable(new lw(this._map,d))}mousedown(d,m){return this._mousedownPos=m,this._firePreventable(new Qs(d.type,this._map,d))}mouseup(d){this._map.fire(new Qs(d.type,this._map,d))}preclick(d){const m=o.Q({},d);m.type="preclick",this._map.fire(new Qs(m.type,this._map,m))}click(d,m){this._mousedownPos&&this._mousedownPos.dist(m)>=this._clickTolerance||(this.preclick(d),this._map.fire(new Qs(d.type,this._map,d)))}dblclick(d){return this._firePreventable(new Qs(d.type,this._map,d))}mouseover(d){this._map.fire(new Qs(d.type,this._map,d))}mouseout(d){this._map.fire(new Qs(d.type,this._map,d))}touchstart(d){return this._firePreventable(new z0(d.type,this._map,d))}touchmove(d){this._map.fire(new z0(d.type,this._map,d))}touchend(d){this._map.fire(new z0(d.type,this._map,d))}touchcancel(d){this._map.fire(new z0(d.type,this._map,d))}_firePreventable(d){if(this._map.fire(d),d.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class uw{constructor(d){this._map=d}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(d){this._map.fire(new Qs(d.type,this._map,d))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Qs("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(d){this._delayContextMenu?this._contextMenuEvent=d:this._map.fire(new Qs(d.type,this._map,d)),this._map.listens("contextmenu")&&d.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Nf{constructor(d,m){this._map=d,this._el=d.getCanvasContainer(),this._container=d.getContainer(),this._clickTolerance=m.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(d,m){this.isEnabled()&&d.shiftKey&&d.button===0&&(D(),this._startPos=this._lastPos=m,this._active=!0)}mousemoveWindow(d,m){if(!this._active)return;const w=m,T=this._startPos,C=this._lastPos;if(!T||!C||C.equals(w)||!this._box&&w.dist(T)<this._clickTolerance)return;this._lastPos=w,this._box||(this._box=E("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",d));const O=Math.min(T.x,w.x),z=Math.max(T.x,w.x),K=Math.min(T.y,w.y),q=Math.max(T.y,w.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${O}px,${K}px)`,this._box.style.width=z-O+"px",this._box.style.height=q-K+"px")})}mouseupWindow(d,m){if(!this._active)return;const w=this._startPos,T=m;if(w&&d.button===0){if(this.reset(),V(),w.x!==T.x||w.y!==T.y)return this._map.fire(new o.g("boxzoomend",{originalEvent:d})),{cameraAnimation:C=>C.fitScreenCoordinates(w,T,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",d)}}keydown(d){this._active&&d.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",d))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),$(),delete this._startPos,delete this._lastPos}_fireEvent(d,m){return this._map.fire(new o.g(d,{originalEvent:m}))}}function N0(b,d){const m={};for(let w=0;w<b.length;w++)m[b[w].identifier]=d[w];return m}class qS{constructor(d){this.reset(),this.numTouches=d.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(d,m,w){(this.centroid||w.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=d.timeStamp),w.length===this.numTouches&&(this.centroid=function(T){const C=new o.P(0,0);for(const O of T)C._add(O);return C.div(T.length)}(m),this.touches=N0(w,m)))}touchmove(d,m,w){if(this.aborted||!this.centroid)return;const T=N0(w,m);for(const C in this.touches){const O=T[C];(!O||O.dist(this.touches[C])>30)&&(this.aborted=!0)}}touchend(d,m,w){if((!this.centroid||d.timeStamp-this.startTime>500)&&(this.aborted=!0),w.length===0){const T=!this.aborted&&this.centroid;if(this.reset(),T)return T}}}class Dd{constructor(d){this.singleTap=new qS(d),this.numTaps=d.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(d,m,w){this.singleTap.touchstart(d,m,w)}touchmove(d,m,w){this.singleTap.touchmove(d,m,w)}touchend(d,m,w){const T=this.singleTap.touchend(d,m,w);if(T){const C=d.timeStamp-this.lastTime<500,O=!this.lastTap||this.lastTap.dist(T)<30;if(C&&O||this.reset(),this.count++,this.lastTime=d.timeStamp,this.lastTap=T,this.count===this.numTaps)return this.reset(),T}}}class F0{constructor(){this._zoomIn=new Dd({numTouches:1,numTaps:2}),this._zoomOut=new Dd({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(d,m,w){this._zoomIn.touchstart(d,m,w),this._zoomOut.touchstart(d,m,w)}touchmove(d,m,w){this._zoomIn.touchmove(d,m,w),this._zoomOut.touchmove(d,m,w)}touchend(d,m,w){const T=this._zoomIn.touchend(d,m,w),C=this._zoomOut.touchend(d,m,w);return T?(this._active=!0,d.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:O=>O.easeTo({duration:300,zoom:O.getZoom()+1,around:O.unproject(T)},{originalEvent:d})}):C?(this._active=!0,d.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:O=>O.easeTo({duration:300,zoom:O.getZoom()-1,around:O.unproject(C)},{originalEvent:d})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Kv={0:1,2:2};class j0{constructor(d){this.reset(),this._clickTolerance=d.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(d,m){return!1}_move(d,m){return{}}mousedown(d,m){if(this._lastPoint)return;const w=ne(d);this._correctButton(d,w)&&(this._lastPoint=m,this._eventButton=w)}mousemoveWindow(d,m){const w=this._lastPoint;if(w){if(d.preventDefault(),this._eventButton!=null&&function(T,C){const O=Kv[C];return T.buttons===void 0||(T.buttons&O)!==O}(d,this._eventButton))this.reset();else if(this._moved||!(m.dist(w)<this._clickTolerance))return this._moved=!0,this._lastPoint=m,this._move(w,m)}}mouseupWindow(d){this._lastPoint&&ne(d)===this._eventButton&&(this._moved&&V(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class V0 extends j0{mousedown(d,m){super.mousedown(d,m),this._lastPoint&&(this._active=!0)}_correctButton(d,m){return m===0&&!d.ctrlKey}_move(d,m){return{around:m,panDelta:m.sub(d)}}}class U0 extends j0{_correctButton(d,m){return m===0&&d.ctrlKey||m===2}_move(d,m){const w=.8*(m.x-d.x);if(w)return this._active=!0,{bearingDelta:w}}contextmenu(d){d.preventDefault()}}class Hv extends j0{_correctButton(d,m){return m===0&&d.ctrlKey||m===2}_move(d,m){const w=-.5*(m.y-d.y);if(w)return this._active=!0,{pitchDelta:w}}contextmenu(d){d.preventDefault()}}class ZS{constructor(d,m){this._map=d,this._el=d.getCanvasContainer(),this._minTouches=1,this._clickTolerance=m.clickTolerance||1,this.reset(),o.br(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}touchstart(d,m,w){return this._calculateTransform(d,m,w)}touchmove(d,m,w){if(this._active&&!(w.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(w.length===1&&!o.d4())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return d.cancelable&&d.preventDefault(),this._calculateTransform(d,m,w)}}touchend(d,m,w){this._calculateTransform(d,m,w),this._active&&w.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(d,m,w){w.length>0&&(this._active=!0);const T=N0(w,m),C=new o.P(0,0),O=new o.P(0,0);let z=0;for(const q in T){const Q=T[q],ie=this._touches[q];ie&&(C._add(Q),O._add(Q.sub(ie)),z++,T[q]=Q)}if(this._touches=T,z<this._minTouches||!O.mag())return;const K=O.div(z);return this._sum._add(K),this._sum.mag()<this._clickTolerance?void 0:{around:C.div(z),panDelta:K}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=E("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.removeAttribute("role")},500)}}class W0{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(d){}_move(d,m,w){return{}}touchstart(d,m,w){this._firstTwoTouches||w.length<2||(this._firstTwoTouches=[w[0].identifier,w[1].identifier],this._start([m[0],m[1]]))}touchmove(d,m,w){const T=this._firstTwoTouches;if(!T)return;d.preventDefault();const[C,O]=T,z=Ff(w,m,C),K=Ff(w,m,O);if(!z||!K)return;const q=this._aroundCenter?null:z.add(K).div(2);return this._move([z,K],q,d)}touchend(d,m,w){if(!this._firstTwoTouches)return;const[T,C]=this._firstTwoTouches,O=Ff(w,m,T),z=Ff(w,m,C);O&&z||(this._active&&V(),this.reset())}touchcancel(){this.reset()}enable(d){this._enabled=!0,this._aroundCenter=!!d&&d.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Ff(b,d,m){for(let w=0;w<b.length;w++)if(b[w].identifier===m)return d[w]}function Xh(b,d){return Math.log(b/d)/Math.LN2}class XS extends W0{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(d){this._startDistance=this._distance=d[0].dist(d[1])}_move(d,m){const w=this._distance;if(this._distance=d[0].dist(d[1]),this._active||!(Math.abs(Xh(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Xh(this._distance,w),pinchAround:m}}}function cw(b,d){return 180*b.angleWith(d)/Math.PI}class YS extends W0{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(d){this._startVector=this._vector=d[0].sub(d[1]),this._minDiameter=d[0].dist(d[1])}_move(d,m){const w=this._vector;if(this._vector=d[0].sub(d[1]),w&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:cw(this._vector,w),pinchAround:m}}_isBelowThreshold(d){this._minDiameter=Math.min(this._minDiameter,d.mag());const m=25/(Math.PI*this._minDiameter)*360,w=this._startVector;if(!w)return!1;const T=cw(d,w);return Math.abs(T)<m}}function Rd(b){return Math.abs(b.y)>Math.abs(b.x)}class JS extends W0{constructor(d){super(),this._map=d}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(d){this._lastPoints=d,Rd(d[0].sub(d[1]))&&(this._valid=!1)}_move(d,m,w){const T=this._lastPoints;if(!T)return;const C=d[0].sub(T[0]),O=d[1].sub(T[1]);return this._map._cooperativeGestures&&!o.d4()&&w.touches.length<3||(this._valid=this.gestureBeginsVertically(C,O,w.timeStamp),!this._valid)?void 0:(this._lastPoints=d,this._active=!0,{pitchDelta:(C.y+O.y)/2*-.5})}gestureBeginsVertically(d,m,w){if(this._valid!==void 0)return this._valid;const T=d.mag()>=2,C=m.mag()>=2;if(!T&&!C)return;if(!T||!C)return this._firstMove==null&&(this._firstMove=w),w-this._firstMove<100&&void 0;const O=d.y>0==m.y>0;return Rd(d)&&Rd(m)&&O}}const bO={panStep:100,bearingStep:15,pitchStep:10};class xO{constructor(){const d=bO;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(d){if(d.altKey||d.ctrlKey||d.metaKey)return;let m=0,w=0,T=0,C=0,O=0;switch(d.keyCode){case 61:case 107:case 171:case 187:m=1;break;case 189:case 109:case 173:m=-1;break;case 37:d.shiftKey?w=-1:(d.preventDefault(),C=-1);break;case 39:d.shiftKey?w=1:(d.preventDefault(),C=1);break;case 38:d.shiftKey?T=1:(d.preventDefault(),O=-1);break;case 40:d.shiftKey?T=-1:(d.preventDefault(),O=1);break;default:return}return this._rotationDisabled&&(w=0,T=0),{cameraAnimation:z=>{const K=z.getZoom();z.easeTo({duration:300,easeId:"keyboardHandler",easing:wO,zoom:m?Math.round(K)+m*(d.shiftKey?2:1):K,bearing:z.getBearing()+w*this._bearingStep,pitch:z.getPitch()+T*this._pitchStep,offset:[-C*this._panStep,-O*this._panStep],center:z.getCenter()},{originalEvent:d})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function wO(b){return b*(2-b)}const Gv=4.000244140625,dw=1/450;class fw{constructor(d,m){this._map=d,this._el=d.getCanvasContainer(),this._handler=m,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=dw,o.br(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(d){this._defaultZoomRate=d}setWheelZoomRate(d){this._wheelZoomRate=d}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(d){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!d&&d.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(d){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(d.ctrlKey||d.metaKey||this.isZooming()||o.d4()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let m=d.deltaMode===WheelEvent.DOM_DELTA_LINE?40*d.deltaY:d.deltaY;const w=o.e.now(),T=w-(this._lastWheelEventTime||0);this._lastWheelEventTime=w,m!==0&&m%Gv==0?this._type="wheel":m!==0&&Math.abs(m)<4?this._type="trackpad":T>400?(this._type=null,this._lastValue=m,this._timeout=window.setTimeout(this._onTimeout,40,d)):this._type||(this._type=Math.abs(T*m)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,m+=this._lastValue)),d.shiftKey&&m&&(m/=4),this._type&&(this._lastWheelEvent=d,this._delta-=m,this._active||this._start(d)),d.preventDefault()}_onTimeout(d){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(d)}_start(d){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const m=U(this._el,d);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:m,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const d=this._map.transform;this._type==="wheel"&&d.projection.wrap&&(d._center.lng>=180||d._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const m=()=>d._terrainEnabled()&&this._aroundCoord?d.computeZoomRelativeTo(this._aroundCoord):d.zoom;if(this._delta!==0){const q=this._type==="wheel"&&Math.abs(this._delta)>Gv?this._wheelZoomRate:this._defaultZoomRate;let Q=2/(1+Math.exp(-Math.abs(this._delta*q)));this._delta<0&&Q!==0&&(Q=1/Q);const ie=m(),ce=Math.pow(2,ie),me=typeof this._targetZoom=="number"?d.zoomScale(this._targetZoom):ce;this._targetZoom=Math.min(d.maxZoom,Math.max(d.minZoom,d.scaleZoom(me*Q))),this._type==="wheel"&&(this._startZoom=ie,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0}const w=typeof this._targetZoom=="number"?this._targetZoom:m(),T=this._startZoom,C=this._easing;let O,z=!1;if(this._type==="wheel"&&T&&C){const q=Math.min((o.e.now()-this._lastWheelEventTime)/200,1),Q=C(q);O=o.a3(T,w,Q),q<1?this._frameId||(this._frameId=!0):z=!0}else O=w,z=!0;this._active=!0,z&&(this._active=!1,this._finishTimeout=window.setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200));let K=O-m();return K*this._lastDelta<0&&(K=0),{noInertia:!0,needsRenderFrame:!z,zoomDelta:K,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(d){let m=o.d5;if(this._prevEase){const w=this._prevEase,T=(o.e.now()-w.start)/w.duration,C=w.easing(T+.01)-w.easing(T),O=.27/Math.sqrt(C*C+1e-4)*.01,z=Math.sqrt(.0729-O*O);m=o.d3(O,z,.25,1)}return this._prevEase={start:o.e.now(),duration:d,easing:m},m}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=E("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.removeAttribute("role")},200)}}class pw{constructor(d,m){this._clickZoom=d,this._tapZoom=m}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class QS{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(d,m){return d.preventDefault(),{cameraAnimation:w=>{w.easeTo({duration:300,zoom:w.getZoom()+(d.shiftKey?-1:1),around:w.unproject(m)},{originalEvent:d})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class e7{constructor(){this._tap=new Dd({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(d,m,w){this._swipePoint||(this._tapTime&&d.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?w.length>0&&(this._swipePoint=m[0],this._swipeTouch=w[0].identifier):this._tap.touchstart(d,m,w))}touchmove(d,m,w){if(this._tapTime){if(this._swipePoint){if(w[0].identifier!==this._swipeTouch)return;const T=m[0],C=T.y-this._swipePoint.y;return this._swipePoint=T,d.preventDefault(),this._active=!0,{zoomDelta:C/128}}}else this._tap.touchmove(d,m,w)}touchend(d,m,w){this._tapTime?this._swipePoint&&w.length===0&&this.reset():this._tap.touchend(d,m,w)&&(this._tapTime=d.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class SO{constructor(d,m,w){this._el=d,this._mousePan=m,this._touchPan=w}enable(d){this._inertiaOptions=d||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class K0{constructor(d,m,w){this._pitchWithRotate=d.pitchWithRotate,this._mouseRotate=m,this._mousePitch=w}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class H0{constructor(d,m,w,T){this._el=d,this._touchZoom=m,this._touchRotate=w,this._tapDragZoom=T,this._rotationDisabled=!1,this._enabled=!0}enable(d){this._touchZoom.enable(d),this._rotationDisabled||this._touchRotate.enable(d),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const G0=b=>b.zoom||b.drag||b.pitch||b.rotate;class el extends o.g{}class hw{constructor(){this.constants=[1,1,.01],this.radius=0}setup(d,m){const w=o.$.sub([],m,d);this.radius=o.$.length(w[2]<0?o.$.div([],w,this.constants):[w[0],w[1],0])}projectRay(d){o.$.div(d,d,this.constants),o.$.normalize(d,d),o.$.mul(d,d,this.constants);const m=o.$.scale([],d,this.radius);if(m[2]>0){const w=o.$.scale([],[0,0,1],o.$.dot(m,[0,0,1])),T=o.$.scale([],o.$.normalize([],[m[0],m[1],0]),this.radius),C=o.$.add([],m,o.$.scale([],o.$.sub([],o.$.add([],T,w),m),2));m[0]=C[0],m[1]=C[1]}return m}}function jf(b){return b.panDelta&&b.panDelta.mag()||b.zoomDelta||b.bearingDelta||b.pitchDelta}class qv{constructor(d,m){this._map=d,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new GS(d),this._bearingSnap=m.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new hw,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(m),o.br(["handleEvent","handleWindowEvent"],this);const w=this._el;this._listeners=[[w,"touchstart",{passive:!0}],[w,"touchmove",{passive:!1}],[w,"touchend",void 0],[w,"touchcancel",void 0],[w,"mousedown",void 0],[w,"mousemove",void 0],[w,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[w,"mouseover",void 0],[w,"mouseout",void 0],[w,"dblclick",void 0],[w,"click",void 0],[w,"keydown",{capture:!1}],[w,"keyup",void 0],[w,"wheel",{passive:!1}],[w,"contextmenu",void 0],[window,"blur",void 0]];for(const[T,C,O]of this._listeners){const z=T===document?this.handleWindowEvent:this.handleEvent;T.addEventListener(C,z,O)}}destroy(){for(const[d,m,w]of this._listeners){const T=d===document?this.handleWindowEvent:this.handleEvent;d.removeEventListener(m,T,w)}}_addDefaultHandlers(d){const m=this._map,w=m.getCanvasContainer();this._add("mapEvent",new Wv(m,d));const T=m.boxZoom=new Nf(m,d);this._add("boxZoom",T);const C=new F0,O=new QS;m.doubleClickZoom=new pw(O,C),this._add("tapZoom",C),this._add("clickZoom",O);const z=new e7;this._add("tapDragZoom",z);const K=m.touchPitch=new JS(m);this._add("touchPitch",K);const q=new U0(d),Q=new Hv(d);m.dragRotate=new K0(d,q,Q),this._add("mouseRotate",q,["mousePitch"]),this._add("mousePitch",Q,["mouseRotate"]);const ie=new V0(d),ce=new ZS(m,d);m.dragPan=new SO(w,ie,ce),this._add("mousePan",ie),this._add("touchPan",ce,["touchZoom","touchRotate"]);const me=new YS,Ee=new XS;m.touchZoomRotate=new H0(w,Ee,me,z),this._add("touchRotate",me,["touchPan","touchZoom"]),this._add("touchZoom",Ee,["touchPan","touchRotate"]),this._add("blockableMapEvent",new uw(m));const Ae=m.scrollZoom=new fw(m,this);this._add("scrollZoom",Ae,["mousePan"]);const Pe=m.keyboard=new xO;this._add("keyboard",Pe);for(const Ie of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])d.interactive&&d[Ie]&&m[Ie].enable(d[Ie])}_add(d,m,w){this._handlers.push({handlerName:d,handler:m,allowed:w}),this._handlersById[d]=m}stop(d){if(!this._updatingCamera){for(const{handler:m}of this._handlers)m.reset();this._inertia.clear(),this._fireEvents({},{},d),this._changes=[],this._originalZoom=void 0}}isActive(){for(const{handler:d}of this._handlers)if(d.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!G0(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(d,m,w){for(const T in d)if(T!==w&&(!m||m.indexOf(T)<0))return!0;return!1}handleWindowEvent(d){this.handleEvent(d,`${d.type}Window`)}_getMapTouches(d){const m=[];for(const w of d)this._el.contains(w.target)&&m.push(w);return m}handleEvent(d,m){this._updatingCamera=!0;const w=d.type==="renderFrame",T=w?void 0:d,C={needsRenderFrame:!1},O={},z={},K=d.touches?this._getMapTouches(d.touches):void 0,q=K?Z(this._el,K):w?void 0:U(this._el,d);for(const{handlerName:ce,handler:me,allowed:Ee}of this._handlers){if(!me.isEnabled())continue;let Ae;this._blockedByActive(z,Ee,ce)?me.reset():me[m||d.type]&&(Ae=me[m||d.type](d,q,K),this.mergeHandlerResult(C,O,Ae,ce,T),Ae&&Ae.needsRenderFrame&&this._triggerRenderFrame()),(Ae||me.isActive())&&(z[ce]=me)}const Q={};for(const ce in this._previousActiveHandlers)z[ce]||(Q[ce]=T);this._previousActiveHandlers=z,(Object.keys(Q).length||jf(C))&&(this._changes.push([C,O,Q]),this._triggerRenderFrame()),(Object.keys(z).length||jf(C))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ie}=C;ie&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ie(this._map))}mergeHandlerResult(d,m,w,T,C){if(!w)return;o.Q(d,w);const O={handlerName:T,originalEvent:w.originalEvent||C};w.zoomDelta!==void 0&&(m.zoom=O),w.panDelta!==void 0&&(m.drag=O),w.pitchDelta!==void 0&&(m.pitch=O),w.bearingDelta!==void 0&&(m.rotate=O)}_applyChanges(){const d={},m={},w={};for(const[T,C,O]of this._changes)T.panDelta&&(d.panDelta=(d.panDelta||new o.P(0,0))._add(T.panDelta)),T.zoomDelta&&(d.zoomDelta=(d.zoomDelta||0)+T.zoomDelta),T.bearingDelta&&(d.bearingDelta=(d.bearingDelta||0)+T.bearingDelta),T.pitchDelta&&(d.pitchDelta=(d.pitchDelta||0)+T.pitchDelta),T.around!==void 0&&(d.around=T.around),T.aroundCoord!==void 0&&(d.aroundCoord=T.aroundCoord),T.pinchAround!==void 0&&(d.pinchAround=T.pinchAround),T.noInertia&&(d.noInertia=T.noInertia),o.Q(m,C),o.Q(w,O);this._updateMapTransform(d,m,w),this._changes=[]}_updateMapTransform(d,m,w){const T=this._map,C=T.transform,O=Ve=>[Ve.x,Ve.y,Ve.z];if((Ve=>{const Ue=this._eventsInProgress.drag;return Ue&&!this._handlersById[Ue.handlerName].isActive()})()&&!jf(d)){const Ve=C.zoom;C.cameraElevationReference="sea",this._originalZoom!=null&&C._orthographicProjectionAtLowPitch&&C.projection.name!=="globe"&&C.pitch===0?(C.cameraElevationReference="ground",C.zoom=this._originalZoom):(C.recenterOnTerrain(),C.cameraElevationReference="ground"),Ve!==C.zoom&&this._map._update(!0)}if(C._isCameraConstrained&&T._stop(!0),!jf(d))return void this._fireEvents(m,w,!0);let{panDelta:z,zoomDelta:K,bearingDelta:q,pitchDelta:Q,around:ie,aroundCoord:ce,pinchAround:me}=d;C._isCameraConstrained&&(K>0&&(K=0),C._isCameraConstrained=!1),me!==void 0&&(ie=me),(K||(Ve=>m[Ve]&&!this._eventsInProgress[Ve])("drag"))&&ie&&(this._dragOrigin=O(C.pointCoordinate3D(ie)),this._originalZoom=C.zoom,this._trackingEllipsoid.setup(C._camera.position,this._dragOrigin)),C.cameraElevationReference="sea",T._stop(!0),ie=ie||T.transform.centerPoint,q&&(C.bearing+=q),Q&&(C.pitch+=Q),C._updateCameraState();const Ee=[0,0,0];if(z)if(C.projection.name==="mercator"){const Ve=this._trackingEllipsoid.projectRay(C.screenPointToMercatorRay(ie).dir),Ue=this._trackingEllipsoid.projectRay(C.screenPointToMercatorRay(ie.sub(z)).dir);Ee[0]=Ue[0]-Ve[0],Ee[1]=Ue[1]-Ve[1]}else{const Ve=C.pointCoordinate(ie);if(C.projection.name==="globe"){z=z.rotate(-C.angle);const Ue=C._pixelsPerMercatorPixel/C.worldSize;Ee[0]=-z.x*o.d6(o.az(Ve.y))*Ue,Ee[1]=-z.y*o.d6(C.center.lat)*Ue}else{const Ue=C.pointCoordinate(ie.sub(z));Ve&&Ue&&(Ee[0]=Ue.x-Ve.x,Ee[1]=Ue.y-Ve.y)}}const Ae=C.zoom,Pe=[0,0,0];if(K){const Ve=O(ce||C.pointCoordinate3D(ie)),Ue={dir:o.$.normalize([],o.$.sub([],Ve,C._camera.position))};if(Ue.dir[2]<0){const Fe=C.zoomDeltaToMovement(Ve,K);o.$.scale(Pe,Ue.dir,Fe)}}const Ie=o.$.add(Ee,Ee,Pe);C._translateCameraConstrained(Ie),K&&Math.abs(C.zoom-Ae)>1e-4&&C.recenterOnTerrain(),C.cameraElevationReference="ground",this._map._update(),d.noInertia||this._inertia.record(d),this._fireEvents(m,w,!0)}_fireEvents(d,m,w){const T=G0(this._eventsInProgress),C=G0(d),O={};for(const Q in d){const{originalEvent:ie}=d[Q];this._eventsInProgress[Q]||(O[`${Q}start`]=ie),this._eventsInProgress[Q]=d[Q]}!T&&C&&this._fireEvent("movestart",C.originalEvent);for(const Q in O)this._fireEvent(Q,O[Q]);C&&this._fireEvent("move",C.originalEvent);for(const Q in d){const{originalEvent:ie}=d[Q];this._fireEvent(Q,ie)}const z={};let K;for(const Q in this._eventsInProgress){const{handlerName:ie,originalEvent:ce}=this._eventsInProgress[Q];this._handlersById[ie].isActive()||(delete this._eventsInProgress[Q],K=m[ie]||ce,z[`${Q}end`]=K)}for(const Q in z)this._fireEvent(Q,z[Q]);const q=G0(this._eventsInProgress);if(w&&(T||C)&&!q){this._updatingCamera=!0;const Q=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ie=ce=>ce!==0&&-this._bearingSnap<ce&&ce<this._bearingSnap;Q?(ie(Q.bearing||this._map.getBearing())&&(Q.bearing=0),this._map.easeTo(Q,{originalEvent:K})):(this._map.fire(new o.g("moveend",{originalEvent:K})),ie(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(d,m){this._map.fire(new o.g(d,m?{originalEvent:m}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(d=>{this._frameId=void 0,this.handleEvent(new el("renderFrame",{timeStamp:d})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Zv="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class mw extends o.E{constructor(d,m){super(),this._moving=!1,this._zooming=!1,this.transform=d,this._bearingSnap=m.bearingSnap,this._respectPrefersReducedMotion=m.respectPrefersReducedMotion!==!1,o.br(["_renderFrameCallback"],this)}getCenter(){return new o.aJ(this.transform.center.lng,this.transform.center.lat)}setCenter(d,m){return this.jumpTo({center:d},m)}panBy(d,m,w){return d=o.P.convert(d).mult(-1),this.panTo(this.transform.center,o.Q({offset:d},m),w)}panTo(d,m,w){return this.easeTo(o.Q({center:d},m),w)}getZoom(){return this.transform.zoom}setZoom(d,m){return this.jumpTo({zoom:d},m),this}zoomTo(d,m,w){return this.easeTo(o.Q({zoom:d},m),w)}zoomIn(d,m){return this.zoomTo(this.getZoom()+1,d,m),this}zoomOut(d,m){return this.zoomTo(this.getZoom()-1,d,m),this}getBearing(){return this.transform.bearing}setBearing(d,m){return this.jumpTo({bearing:d},m),this}getPadding(){return this.transform.padding}setPadding(d,m){return this.jumpTo({padding:d},m),this}rotateTo(d,m,w){return this.easeTo(o.Q({bearing:d},m),w)}resetNorth(d,m){return this.rotateTo(0,o.Q({duration:1e3},d),m),this}resetNorthPitch(d,m){return this.easeTo(o.Q({bearing:0,pitch:0,duration:1e3},d),m),this}snapToNorth(d,m){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(d,m):this}getPitch(){return this.transform.pitch}setPitch(d,m){return this.jumpTo({pitch:d},m),this}cameraForBounds(d,m){d=o.aj.convert(d);const w=m&&m.bearing||0,T=m&&m.pitch||0,C=d.getNorthWest(),O=d.getSouthEast();return this._cameraForBounds(this.transform,C,O,w,T,m)}_extendPadding(d){const m={top:0,right:0,bottom:0,left:0};return d==null?o.Q({},m,this.transform.padding):typeof d=="number"?{top:d,bottom:d,right:d,left:d}:o.Q({},m,d)}_extendCameraOptions(d){return(d=o.Q({offset:[0,0],maxZoom:this.transform.maxZoom},d)).padding=this._extendPadding(d.padding),d}_minimumAABBFrustumDistance(d,m){const w=m.max[0]-m.min[0],T=m.max[1]-m.min[1];return w/T>d.aspect?w/(2*Math.tan(.5*d.fovX)*d.aspect):T/(2*Math.tan(.5*d.fovY)*d.aspect)}_cameraForBoundsOnGlobe(d,m,w,T,C,O){const z=d.clone(),K=this._extendCameraOptions(O);z.bearing=T,z.pitch=C;const q=o.aJ.convert(m),Q=o.aJ.convert(w),ie=.5*(q.lat+Q.lat),ce=.5*(q.lng+Q.lng),me=o.d7(ie,ce),Ee=o.$.normalize([],me),Ae=o.$.normalize([],o.$.cross([],Ee,[0,1,0])),Pe=o.$.cross([],Ae,Ee),Ie=[Ae[0],Ae[1],Ae[2],0,Pe[0],Pe[1],Pe[2],0,Ee[0],Ee[1],Ee[2],0,0,0,0,1],Ve=[me,o.d7(q.lat,q.lng),o.d7(Q.lat,q.lng),o.d7(Q.lat,Q.lng),o.d7(q.lat,Q.lng),o.d7(ie,q.lng),o.d7(ie,Q.lng),o.d7(q.lat,ce),o.d7(Q.lat,ce)];let Ue=o.b8.fromPoints(Ve.map(st=>[o.$.dot(Ae,st),o.$.dot(Pe,st),o.$.dot(Ee,st)]));const Fe=o.$.transformMat4([],Ue.center,Ie);o.$.squaredLength(Fe)===0&&o.$.set(Fe,0,0,1),o.$.normalize(Fe,Fe),o.$.scale(Fe,Fe,o.cF),z.center=o.d8(Fe);const Ye=z.getWorldToCameraMatrix(),He=o.ae.invert(new Float64Array(16),Ye);Ue=o.b8.applyTransform(Ue,o.ae.multiply([],Ye,Ie));const Ge=this._extendAABB(Ue,z,K,T);if(!Ge)return void o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");Ue=Ge,o.$.transformMat4(Fe,Fe,Ye);const nt=.5*(Ue.max[2]-Ue.min[2]),at=this._minimumAABBFrustumDistance(z,Ue),pt=o.$.scale([],[0,0,1],nt),ot=o.$.add(pt,Fe,pt),Xe=at+(z.pitch===0?0:o.$.distance(Fe,ot)),xt=z.globeCenterInViewSpace,vt=o.$.sub([],Fe,[xt[0],xt[1],xt[2]]);o.$.normalize(vt,vt),o.$.scale(vt,vt,Xe);const lt=o.$.add([],Fe,vt);o.$.transformMat4(lt,lt,He);const Kt=o.da/o.cF,zt=o.$.length(lt),ht=o.ay(Math.max(zt*Kt-o.da,Number.EPSILON),0),Pt=Math.min(z.zoomFromMercatorZAdjusted(ht),K.maxZoom);return Pt>.5*(o.b3+o.aV)?(z.setProjection({name:"mercator"}),z.zoom=Pt,this._cameraForBounds(z,m,w,T,C,O)):{center:z.center,zoom:Pt,bearing:T,pitch:C}}_extendAABB(d,m,w,T){const C=.5*((w.padding.left||0)+(w.padding.right||0)),O=.5*((w.padding.top||0)+(w.padding.bottom||0)),z=O,K=C,q=C,Q=O,ie=m.width-(K+q),ce=m.height-(z+Q),me=o.$.sub([],d.max,d.min),Ee=Math.min(ie/me[0],ce/me[1]),Ae=Math.min(m.scaleZoom(m.scale*Ee),w.maxZoom);if(isNaN(Ae))return null;const Pe=m.scale/m.zoomScale(Ae),Ie=new o.b8([d.min[0]-K*Pe,d.min[1]-Q*Pe,d.min[2]],[d.max[0]+q*Pe,d.max[1]+z*Pe,d.max[2]]),Ve=(typeof w.offset.x=="number"&&typeof w.offset.y=="number"?new o.P(w.offset.x,w.offset.y):o.P.convert(w.offset)).rotate(-o.ac(T));return Ie.center[0]-=Ve.x*Pe,Ie.center[1]+=Ve.y*Pe,Ie}queryTerrainElevation(d,m){const w=this.transform.elevation;return w?(m=o.Q({},{exaggerated:!0},m),w.getAtPoint(o._.fromLngLat(d),null,m.exaggerated)):null}_cameraForBounds(d,m,w,T,C,O){if(d.projection.name==="globe")return this._cameraForBoundsOnGlobe(d,m,w,T,C,O);const z=d.clone(),K=this._extendCameraOptions(O);z.bearing=T,z.pitch=C;const q=o.aJ.convert(m),Q=o.aJ.convert(w),ie=new o.aJ(q.lng,Q.lat),ce=new o.aJ(Q.lng,q.lat),me=z.project(q),Ee=z.project(Q),Ae=this.queryTerrainElevation(q),Pe=this.queryTerrainElevation(Q),Ie=this.queryTerrainElevation(ie),Ve=this.queryTerrainElevation(ce),Ue=[[me.x,me.y,Math.min(Ae||0,Pe||0,Ie||0,Ve||0)],[Ee.x,Ee.y,Math.max(Ae||0,Pe||0,Ie||0,Ve||0)]];let Fe=o.b8.fromPoints(Ue);const Ye=z.getWorldToCameraMatrix(),He=o.ae.invert(new Float64Array(16),Ye);Fe=o.b8.applyTransform(Fe,Ye);const Ge=this._extendAABB(Fe,z,K,T);if(!Ge)return void o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");Fe=Ge;const nt=.5*o.$.sub([],Fe.max,Fe.min)[2],at=this._minimumAABBFrustumDistance(z,Fe),pt=[0,0,1,0];o.aB.transformMat4(pt,pt,Ye),o.aB.normalize(pt,pt);const ot=o.$.scale([],pt,at+nt),Xe=o.$.add([],Fe.center,ot);o.$.transformMat4(Fe.center,Fe.center,He),o.$.transformMat4(Xe,Xe,He);const xt=[Fe.center[0],Fe.center[1],Xe[2]*z.pixelsPerMeter];o.$.scale(xt,xt,1/z.worldSize);const vt=o.d9(xt[0]),lt=o.az(xt[1]),Kt=Math.min(z._zoomFromMercatorZ(xt[2]),K.maxZoom),zt=new o.aJ(vt,lt);return z.mercatorFromTransition&&Kt<.5*(o.b3+o.aV)?(z.setProjection({name:"globe"}),z.zoom=Kt,this._cameraForBounds(z,m,w,T,C,O)):{center:zt,zoom:Kt,bearing:T,pitch:C}}fitBounds(d,m,w){const T=this.cameraForBounds(d,m);return this._fitInternal(T,m,w)}fitScreenCoordinates(d,m,w,T,C){const O=o.P.convert(d),z=o.P.convert(m),K=new o.P(Math.min(O.x,z.x),Math.min(O.y,z.y)),q=new o.P(Math.max(O.x,z.x),Math.max(O.y,z.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(O,z))return this;const Q=this.transform.pointLocation3D(K),ie=this.transform.pointLocation3D(q),ce=this.transform.pointLocation3D(new o.P(K.x,q.y)),me=this.transform.pointLocation3D(new o.P(q.x,K.y)),Ee=[Math.min(Q.lng,ie.lng,ce.lng,me.lng),Math.min(Q.lat,ie.lat,ce.lat,me.lat)],Ae=[Math.max(Q.lng,ie.lng,ce.lng,me.lng),Math.max(Q.lat,ie.lat,ce.lat,me.lat)],Pe=T&&T.pitch?T.pitch:this.getPitch(),Ie=this._cameraForBounds(this.transform,Ee,Ae,w,Pe,T);return this._fitInternal(Ie,T,C)}_fitInternal(d,m,w){return d?(m=o.Q(d,m)).linear?this.easeTo(m,w):this.flyTo(m,w):this}jumpTo(d,m){this.stop();const w=d.preloadOnly?this.transform.clone():this.transform;let T=!1,C=!1,O=!1;if("zoom"in d&&w.zoom!==+d.zoom&&(T=!0,w.zoom=+d.zoom),d.center!==void 0&&(w.center=o.aJ.convert(d.center)),"bearing"in d&&w.bearing!==+d.bearing&&(C=!0,w.bearing=+d.bearing),"pitch"in d&&w.pitch!==+d.pitch&&(O=!0,w.pitch=+d.pitch),d.padding!=null){const z=typeof d.padding=="number"?this._extendPadding(d.padding):d.padding;w.isPaddingEqual(z)||(w.padding=z)}return d.preloadOnly?(this._preloadTiles(w),this):(this.fire(new o.g("movestart",m)).fire(new o.g("move",m)),T&&this.fire(new o.g("zoomstart",m)).fire(new o.g("zoom",m)).fire(new o.g("zoomend",m)),C&&this.fire(new o.g("rotatestart",m)).fire(new o.g("rotate",m)).fire(new o.g("rotateend",m)),O&&this.fire(new o.g("pitchstart",m)).fire(new o.g("pitch",m)).fire(new o.g("pitchend",m)),this.fire(new o.g("moveend",m)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||o.w(Zv),this.transform.getFreeCameraOptions()}setFreeCameraOptions(d,m){const w=this.transform;if(!w.projection.supportsFreeCamera)return o.w(Zv),this;this.stop();const T=w.zoom,C=w.pitch,O=w.bearing;w.setFreeCameraOptions(d);const z=T!==w.zoom,K=C!==w.pitch,q=O!==w.bearing;return this.fire(new o.g("movestart",m)).fire(new o.g("move",m)),z&&this.fire(new o.g("zoomstart",m)).fire(new o.g("zoom",m)).fire(new o.g("zoomend",m)),q&&this.fire(new o.g("rotatestart",m)).fire(new o.g("rotate",m)).fire(new o.g("rotateend",m)),K&&this.fire(new o.g("pitchstart",m)).fire(new o.g("pitch",m)).fire(new o.g("pitchend",m)),this.fire(new o.g("moveend",m)),this}easeTo(d,m){this._stop(!1,d.easeId),((d=o.Q({offset:[0,0],duration:500,easing:o.d5},d)).animate===!1||this._prefersReducedMotion(d))&&(d.duration=0);const w=this.transform,T=this.getZoom(),C=this.getBearing(),O=this.getPitch(),z=this.getPadding(),K="zoom"in d?+d.zoom:T,q="bearing"in d?this._normalizeBearing(d.bearing,C):C,Q="pitch"in d?+d.pitch:O,ie=this._extendPadding(d.padding),ce=o.P.convert(d.offset);let me,Ee,Ae;if(w.projection.name==="globe"){const at=o._.fromLngLat(w.center),pt=ce.rotate(-w.angle);at.x+=pt.x/w.worldSize,at.y+=pt.y/w.worldSize;const ot=at.toLngLat(),Xe=o.aJ.convert(d.center||ot);this._normalizeCenter(Xe),me=w.centerPoint.add(pt),Ee=new o.P(at.x,at.y).mult(w.worldSize),Ae=new o.P(o.ak(Xe.lng),o.al(Xe.lat)).mult(w.worldSize).sub(Ee)}else{me=w.centerPoint.add(ce);const at=w.pointLocation(me),pt=o.aJ.convert(d.center||at);this._normalizeCenter(pt),Ee=w.project(at),Ae=w.project(pt).sub(Ee)}const Pe=w.zoomScale(K-T);let Ie,Ve;d.around&&(Ie=o.aJ.convert(d.around),Ve=w.locationPoint(Ie));const Ue=this._zooming||K!==T,Fe=this._rotating||C!==q,Ye=this._pitching||Q!==O,He=!w.isPaddingEqual(ie),Ge=at=>pt=>{if(Ue&&(at.zoom=o.a3(T,K,pt)),Fe&&(at.bearing=o.a3(C,q,pt)),Ye&&(at.pitch=o.a3(O,Q,pt)),He&&(at.interpolatePadding(z,ie,pt),me=at.centerPoint.add(ce)),Ie)at.setLocationAtPoint(Ie,Ve);else{const ot=at.zoomScale(at.zoom-T),Xe=K>T?Math.min(2,Pe):Math.max(.5,Pe),xt=Math.pow(Xe,1-pt),vt=at.unproject(Ee.add(Ae.mult(pt*xt)).mult(ot));at.setLocationAtPoint(at.renderWorldCopies?vt.wrap():vt,me)}return d.preloadOnly||this._fireMoveEvents(m),at};if(d.preloadOnly){const at=this._emulate(Ge,d.duration,w);return this._preloadTiles(at),this}const nt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Ue,this._rotating=Fe,this._pitching=Ye,this._padding=He,this._easeId=d.easeId,this._prepareEase(m,d.noMoveStart,nt),this._ease(Ge(w),at=>{w.cameraElevationReference==="sea"&&w.recenterOnTerrain(),this._afterEase(m,at)},d),this}_prepareEase(d,m,w={}){this._moving=!0,this.transform.cameraElevationReference="sea",this.transform._orthographicProjectionAtLowPitch&&this.transform.pitch===0&&this.transform.projection.name!=="globe"&&(this.transform.cameraElevationReference="ground"),m||w.moving||this.fire(new o.g("movestart",d)),this._zooming&&!w.zooming&&this.fire(new o.g("zoomstart",d)),this._rotating&&!w.rotating&&this.fire(new o.g("rotatestart",d)),this._pitching&&!w.pitching&&this.fire(new o.g("pitchstart",d))}_fireMoveEvents(d){this.fire(new o.g("move",d)),this._zooming&&this.fire(new o.g("zoom",d)),this._rotating&&this.fire(new o.g("rotate",d)),this._pitching&&this.fire(new o.g("pitch",d))}_afterEase(d,m){if(this._easeId&&m&&this._easeId===m)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const w=this._zooming,T=this._rotating,C=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,w&&this.fire(new o.g("zoomend",d)),T&&this.fire(new o.g("rotateend",d)),C&&this.fire(new o.g("pitchend",d)),this.fire(new o.g("moveend",d))}flyTo(d,m){if(this._prefersReducedMotion(d)){const Pt=o.ai(d,["center","zoom","bearing","pitch","around","padding"]);return this.jumpTo(Pt,m)}this.stop(),d=o.Q({offset:[0,0],speed:1.2,curve:1.42,easing:o.d5},d);const w=this.transform,T=this.getZoom(),C=this.getBearing(),O=this.getPitch(),z=this.getPadding(),K="zoom"in d?o.au(+d.zoom,w.minZoom,w.maxZoom):T,q="bearing"in d?this._normalizeBearing(d.bearing,C):C,Q="pitch"in d?+d.pitch:O,ie=this._extendPadding(d.padding),ce=w.zoomScale(K-T),me=o.P.convert(d.offset);let Ee=w.centerPoint.add(me);const Ae=w.pointLocation(Ee),Pe=o.aJ.convert(d.center||Ae);this._normalizeCenter(Pe);const Ie=w.project(Ae),Ve=w.project(Pe).sub(Ie);let Ue=d.curve;const Fe=Math.max(w.width,w.height),Ye=Fe/ce,He=Ve.mag();if("minZoom"in d){const Pt=o.au(Math.min(d.minZoom,T,K),w.minZoom,w.maxZoom),st=Fe/w.zoomScale(Pt-T);Ue=Math.sqrt(st/He*2)}const Ge=Ue*Ue;function nt(Pt){const st=(Ye*Ye-Fe*Fe+(Pt?-1:1)*Ge*Ge*He*He)/(2*(Pt?Ye:Fe)*Ge*He);return Math.log(Math.sqrt(st*st+1)-st)}function at(Pt){return(Math.exp(Pt)-Math.exp(-Pt))/2}function pt(Pt){return(Math.exp(Pt)+Math.exp(-Pt))/2}const ot=nt(0);let Xe=function(Pt){return pt(ot)/pt(ot+Ue*Pt)},xt=function(Pt){return Fe*((pt(ot)*(at(st=ot+Ue*Pt)/pt(st))-at(ot))/Ge)/He;var st},vt=(nt(1)-ot)/Ue;if(Math.abs(He)<1e-6||!isFinite(vt)){if(Math.abs(Fe-Ye)<1e-6)return this.easeTo(d,m);const Pt=Ye<Fe?-1:1;vt=Math.abs(Math.log(Ye/Fe))/Ue,xt=function(){return 0},Xe=function(st){return Math.exp(Pt*Ue*st)}}d.duration="duration"in d?+d.duration:1e3*vt/("screenSpeed"in d?+d.screenSpeed/Ue:+d.speed),d.maxDuration&&d.duration>d.maxDuration&&(d.duration=0);const lt=C!==q,Kt=Q!==O,zt=!w.isPaddingEqual(ie),ht=Pt=>st=>{const Nt=st*vt,jt=1/Xe(Nt);Pt.zoom=st===1?K:T+Pt.scaleZoom(jt),lt&&(Pt.bearing=o.a3(C,q,st)),Kt&&(Pt.pitch=o.a3(O,Q,st)),zt&&(Pt.interpolatePadding(z,ie,st),Ee=Pt.centerPoint.add(me));const ar=st===1?Pe:Pt.unproject(Ie.add(Ve.mult(xt(Nt))).mult(jt));return Pt.setLocationAtPoint(Pt.renderWorldCopies?ar.wrap():ar,Ee),Pt._updateCameraOnTerrain(),d.preloadOnly||this._fireMoveEvents(m),Pt};if(d.preloadOnly){const Pt=this._emulate(ht,d.duration,w);return this._preloadTiles(Pt),this}return this._zooming=!0,this._rotating=lt,this._pitching=Kt,this._padding=zt,this._prepareEase(m,!1),this._ease(ht(w),()=>this._afterEase(m),d),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_requestRenderFrame(d){}_cancelRenderFrame(d){}_stop(d,m){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const w=this._onEaseEnd;this._onEaseEnd=void 0,w.call(this,m)}if(!d){const w=this.handlers;w&&w.stop(!1)}return this}_ease(d,m,w){w.animate===!1||w.duration===0?(d(1),m()):(this._easeStart=o.e.now(),this._easeOptions=w,this._onEaseFrame=d,this._onEaseEnd=m,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const d=Math.min((o.e.now()-this._easeStart)/this._easeOptions.duration,1),m=this._onEaseFrame;m&&m(this._easeOptions.easing(d)),d<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(d,m){d=o.av(d,-180,180);const w=Math.abs(d-m);return Math.abs(d-360-m)<w&&(d-=360),Math.abs(d+360-m)<w&&(d+=360),d}_normalizeCenter(d){const m=this.transform;if(m.maxBounds||m.projection.name!=="globe"&&!m.renderWorldCopies)return;const w=d.lng-m.center.lng;d.lng+=w>180?-360:w<-180?360:0}_prefersReducedMotion(d){return this._respectPrefersReducedMotion&&o.e.prefersReducedMotion&&!(d&&d.essential)}_emulate(d,m,w){const T=Math.ceil(15*m/1e3),C=[],O=d(w.clone());for(let z=0;z<=T;z++){const K=O(z/T);C.push(K.clone())}return C}_preloadTiles(d,m){}}class q0{constructor(d={}){this.options=d,o.br(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(d){const m=this.options&&this.options.compact,w=d._getUIString("AttributionControl.ToggleAttribution");this._map=d,this._container=E("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=E("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._compactButton.setAttribute("aria-label",w);const T=E("span","mapboxgl-ctrl-icon",this._compactButton);return T.setAttribute("aria-hidden","true"),T.setAttribute("title",w),this._innerContainer=E("div","mapboxgl-ctrl-attrib-inner",this._container),m&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),m===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let d=this._editLink;d||(d=this._editLink=this._container.querySelector(".mapbox-improve-map"));const m=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||o.db.ACCESS_TOKEN}];if(d){const w=m.reduce((T,C,O)=>(C.value&&(T+=`${C.key}=${C.value}${O<m.length-1?"&":""}`),T),"?");d.href=`${o.db.FEEDBACK_URL}/${w}#${sw(this._map,!0)}`,d.rel="noopener nofollow"}}_updateData(d){!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let d=[];if(this._map.style.stylesheet){const T=this._map.style.stylesheet;this.styleOwner=T.owner,this.styleId=T.id}const m=this._map.style._mergedSourceCaches;for(const T in m){const C=m[T];if(C.used){const O=C.getSource();O.attribution&&d.indexOf(O.attribution)<0&&d.push(O.attribution)}}d.sort((T,C)=>T.length-C.length),d=d.filter((T,C)=>{for(let O=C+1;O<d.length;O++)if(d[O].indexOf(T)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?d=[...this.options.customAttribution,...d]:d.unshift(this.options.customAttribution));const w=d.join(" | ");w!==this._attribHTML&&(this._attribHTML=w,d.length?(this._innerContainer.innerHTML=w,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Xv{constructor(){o.br(["_updateLogo","_updateCompact"],this)}onAdd(d){this._map=d,this._container=E("div","mapboxgl-ctrl");const m=E("a","mapboxgl-ctrl-logo");return m.target="_blank",m.rel="noopener nofollow",m.href="https://www.mapbox.com/",m.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),m.setAttribute("rel","noopener nofollow"),this._container.appendChild(m),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(d){d&&d.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const d=this._map.style._sourceCaches;if(Object.entries(d).length===0)return!0;for(const m in d){const w=d[m].getSource();if(w.hasOwnProperty("mapbox_logo")&&!w.mapbox_logo)return!1}return!0}_updateCompact(){const d=this._container.children;if(d.length){const m=d[0];this._map.getCanvasContainer().offsetWidth<250?m.classList.add("mapboxgl-compact"):m.classList.remove("mapboxgl-compact")}}}class Yv{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(d){const m=++this._id;return this._queue.push({callback:d,id:m,cancelled:!1}),m}remove(d){const m=this._currentlyRunning,w=m?this._queue.concat(m):this._queue;for(const T of w)if(T.id===d)return void(T.cancelled=!0)}run(d=0){const m=this._currentlyRunning=this._queue;this._queue=[];for(const w of m)if(!w.cancelled&&(w.callback(d),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Z0(b,d,m){if(b=new o.aJ(b.lng,b.lat),d){const w=new o.aJ(b.lng-360,b.lat),T=new o.aJ(b.lng+360,b.lat),C=360*Math.ceil(Math.abs(b.lng-m.center.lng)/360),O=m.locationPoint(b).distSqr(d),z=d.x<0||d.y<0||d.x>m.width||d.y>m.height;m.locationPoint(w).distSqr(d)<O&&(z||Math.abs(w.lng-m.center.lng)<C)?b=w:m.locationPoint(T).distSqr(d)<O&&(z||Math.abs(T.lng-m.center.lng)<C)&&(b=T)}for(;Math.abs(b.lng-m.center.lng)>180;){const w=m.locationPoint(b);if(w.x>=0&&w.y>=0&&w.x<=m.width&&w.y<=m.height)break;b.lng>m.center.lng?b.lng-=360:b.lng+=360}return b}const Jv={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Qv extends o.E{constructor(d,m){if(super(),(d instanceof HTMLElement||m)&&(d=o.Q({element:d},m)),o.br(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=d&&d.anchor||"center",this._color=d&&d.color||"#3FB1CE",this._scale=d&&d.scale||1,this._draggable=d&&d.draggable||!1,this._clickTolerance=d&&d.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=d&&d.rotation||0,this._rotationAlignment=d&&d.rotationAlignment||"auto",this._pitchAlignment=d&&d.pitchAlignment&&d.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=d&&d.occludedOpacity||.2,d&&d.element)this._element=d.element,this._offset=o.P.convert(d&&d.offset||[0,0]);else{this._defaultMarker=!0,this._element=E("div");const C=41,O=27,z=A("svg",{display:"block",height:C*this._scale+"px",width:O*this._scale+"px",viewBox:`0 0 ${O} ${C}`},this._element),K=A("radialGradient",{id:"shadowGradient"},A("defs",{},z));A("stop",{offset:"10%","stop-opacity":.4},K),A("stop",{offset:"100%","stop-opacity":.05},K),A("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},z),A("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},z),A("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},z),A("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},z),this._offset=o.P.convert(d&&d.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.hasAttribute("role")||this._element.setAttribute("role","img"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",C=>{C.preventDefault()}),this._element.addEventListener("mousedown",C=>{C.preventDefault()});const w=this._element.classList;for(const C in Jv)w.remove(`mapboxgl-marker-anchor-${C}`);w.add(`mapboxgl-marker-anchor-${this._anchor}`);const T=d&&d.className?d.className.trim().split(/\s+/):[];w.add(...T),this._popup=null}addTo(d){return d===this._map||(this.remove(),this._map=d,d.getCanvasContainer().appendChild(this._element),d.on("move",this._updateMoving),d.on("moveend",this._update),d.on("remove",this._clearFadeTimer),d._addMarker(this),this.setDraggable(this._draggable),this._update(),d.on("click",this._onMapClick)),this}remove(){const d=this._map;return d&&(d.off("click",this._onMapClick),d.off("move",this._updateMoving),d.off("moveend",this._update),d.off("mousedown",this._addDragHandler),d.off("touchstart",this._addDragHandler),d.off("mouseup",this._onUp),d.off("touchend",this._onUp),d.off("mousemove",this._onMove),d.off("touchmove",this._onMove),d.off("remove",this._clearFadeTimer),d._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(d){return this._lngLat=o.aJ.convert(d),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(d){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),d){if(!("offset"in d.options)){const T=Math.sqrt(Math.pow(13.5,2)/2);d.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[T,-1*(38.1-13.5+T)],"bottom-right":[-T,-1*(38.1-13.5+T)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=d,d._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(d){const m=d.code,w=d.charCode||d.keyCode;m!=="Space"&&m!=="Enter"&&w!==32&&w!==13||this.togglePopup()}_onMapClick(d){const m=d.originalEvent.target,w=this._element;this._popup&&(m===w||w.contains(m))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const d=this._popup;return d?(d.isOpen()?(d.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(d.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const d=this._map,m=this._pos;if(!d||!m)return!1;const w=d.unproject(m),T=d.getFreeCameraOptions();if(!T.position)return!1;const C=T.position.toLngLat();return C.distanceTo(w)<.9*C.distanceTo(this._lngLat)}_evaluateOpacity(){const d=this._map;if(!d)return;const m=this._pos;if(!m||m.x<0||m.x>d.transform.width||m.y<0||m.y>d.transform.height)return void this._clearFadeTimer();const w=d.unproject(m);let T;d._showingGlobe()&&o.dc(d.transform,this._lngLat)?T=0:(T=1-d._queryFogOpacity(w),d.transform._terrainEnabled()&&d.getTerrain()&&this._behindTerrain()&&(T*=this._occludedOpacity)),this._element.style.opacity=`${T}`,this._element.style.pointerEvents=T>0?"auto":"none",this._popup&&this._popup._setOpacity(T),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const d=this._pos;if(!d||!this._map)return;const m=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${d.x}px,${d.y}px)
            ${Jv[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${m.x}px,${m.y}px)
        `}_calculateXYTransform(){const d=this._pos,m=this._map,w=this.getPitchAlignment();if(!m||!d||w!=="map")return"";if(!m._showingGlobe()){const K=m.getPitch();return K?`rotateX(${K}deg)`:""}const T=o.b1(o.dd(m.transform,this._lngLat)),C=d.sub(o.de(m.transform)),O=Math.abs(C.x)+Math.abs(C.y);if(O===0)return"";const z=T/O;return`rotateX(${-C.y*z}deg) rotateY(${C.x*z}deg)`}_calculateZTransform(){const d=this._pos,m=this._map;if(!m||!d)return"";let w=0;const T=this.getRotationAlignment();if(T==="map")if(m._showingGlobe()){const C=m.project(new o.aJ(this._lngLat.lng,this._lngLat.lat+.001)),O=m.project(new o.aJ(this._lngLat.lng,this._lngLat.lat-.001)).sub(C);w=o.b1(Math.atan2(O.y,O.x))-90}else w=-m.getBearing();else if(T==="horizon"){const C=o.a0(4,6,m.getZoom()),O=o.de(m.transform);O.y+=C*m.transform.height;const z=d.sub(O),K=o.b1(Math.atan2(z.y,z.x));w=(K>90?K-270:K+90)*(1-C)}return w+=this._rotation,w?`rotateZ(${w}deg)`:""}_update(d){cancelAnimationFrame(this._updateFrameId);const m=this._map;m&&(m.transform.renderWorldCopies&&(this._lngLat=Z0(this._lngLat,this._pos,m.transform)),this._pos=m.project(this._lngLat),d===!0?this._updateFrameId=requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),m._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(m._showingGlobe()||m.getTerrain()||m.getFog())&&!this._fadeTimer&&(this._fadeTimer=window.setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(d){return this._offset=o.P.convert(d),this._update(),this}addClassName(d){return this._element.classList.add(d),this}removeClassName(d){return this._element.classList.remove(d),this}toggleClassName(d){return this._element.classList.toggle(d)}_onMove(d){const m=this._map;if(!m)return;const w=this._pointerdownPos,T=this._positionDelta;if(w&&T){if(!this._isDragging){const C=this._clickTolerance||m._clickTolerance;if(d.point.dist(w)<C)return;this._isDragging=!0}this._pos=d.point.sub(T),this._lngLat=m.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.g("dragstart"))),this.fire(new o.g("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const d=this._map;d&&(d.off("mousemove",this._onMove),d.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new o.g("dragend")),this._state="inactive"}_addDragHandler(d){const m=this._map,w=this._pos;m&&w&&this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(w),this._pointerdownPos=d.point,this._state="pending",m.on("mousemove",this._onMove),m.on("touchmove",this._onMove),m.once("mouseup",this._onUp),m.once("touchend",this._onUp))}setDraggable(d){this._draggable=!!d;const m=this._map;return m&&(d?(m.on("mousedown",this._addDragHandler),m.on("touchstart",this._addDragHandler)):(m.off("mousedown",this._addDragHandler),m.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(d){return this._rotation=d||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(d){return this._rotationAlignment=d||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(d){return this._pitchAlignment=d||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(d){return this._occludedOpacity=d||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Yh={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},EO=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function t7(b=new o.P(0,0),d="bottom"){if(typeof b=="number"){const m=Math.round(Math.sqrt(.5*Math.pow(b,2)));switch(d){case"top":return new o.P(0,b);case"top-left":return new o.P(m,m);case"top-right":return new o.P(-m,m);case"bottom":return new o.P(0,-b);case"bottom-left":return new o.P(m,-m);case"bottom-right":return new o.P(-m,-m);case"left":return new o.P(b,0);case"right":return new o.P(-b,0)}return new o.P(0,0)}return b instanceof o.P||Array.isArray(b)?o.P.convert(b):o.P.convert(b[d]||[0,0])}class AO{constructor(d){this.jumpTo(d)}getValue(d){if(d<=this._startTime)return this._start;if(d>=this._endTime)return this._end;const m=o.bb((d-this._startTime)/(this._endTime-this._startTime));return this._start*(1-m)+this._end*m}isEasing(d){return d>=this._startTime&&d<=this._endTime}jumpTo(d){this._startTime=-1/0,this._endTime=-1/0,this._start=d,this._end=d}easeTo(d,m,w){this._start=this.getValue(m),this._end=d,this._startTime=m,this._endTime=m+w}}const TO={"AttributionControl.ToggleAttribution":"Toggle attribution","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox homepage","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"};class PO{registerParameter(){}registerButton(){}registerBinding(){}refreshUI(){}}const CO={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1,precompilePrograms:!0},gw={showCompass:!0,showZoom:!0,visualizePitch:!1};class yw{constructor(d,m,w=!1){this._clickTolerance=10,this.element=m,this.mouseRotate=new U0({clickTolerance:d.dragRotate._mouseRotate._clickTolerance}),this.map=d,w&&(this.mousePitch=new Hv({clickTolerance:d.dragRotate._mousePitch._clickTolerance})),o.br(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),m.addEventListener("mousedown",this.mousedown),m.addEventListener("touchstart",this.touchstart,{passive:!1}),m.addEventListener("touchmove",this.touchmove),m.addEventListener("touchend",this.touchend),m.addEventListener("touchcancel",this.reset)}down(d,m){this.mouseRotate.mousedown(d,m),this.mousePitch&&this.mousePitch.mousedown(d,m),D()}move(d,m){const w=this.map,T=this.mouseRotate.mousemoveWindow(d,m),C=T&&T.bearingDelta;if(C&&w.setBearing(w.getBearing()+C),this.mousePitch){const O=this.mousePitch.mousemoveWindow(d,m),z=O&&O.pitchDelta;z&&w.setPitch(w.getPitch()+z)}}off(){const d=this.element;d.removeEventListener("mousedown",this.mousedown),d.removeEventListener("touchstart",this.touchstart,{passive:!1}),d.removeEventListener("touchmove",this.touchmove),d.removeEventListener("touchend",this.touchend),d.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){$(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.mouseup)}mousedown(d){this.down(o.Q({},d,{ctrlKey:!0,preventDefault:()=>d.preventDefault()}),U(this.element,d)),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.mouseup)}mousemove(d){this.move(d,U(this.element,d))}mouseup(d){this.mouseRotate.mouseupWindow(d),this.mousePitch&&this.mousePitch.mouseupWindow(d),this.offTemp()}touchstart(d){d.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Z(this.element,d.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>d.preventDefault()},this._startPos))}touchmove(d){d.targetTouches.length!==1?this.reset():(this._lastPos=Z(this.element,d.targetTouches)[0],this.move({preventDefault:()=>d.preventDefault()},this._lastPos))}touchend(d){d.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const r7={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Jh={maxWidth:100,unit:"metric"},n7={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"};return{version:o.dw,supported:g,setRTLTextPlugin:o.dy,getRTLTextPluginStatus:o.dz,Map:class extends mw{constructor(b){o.df.mark(o.dg.create);const d=b;if((b=o.Q({},CO,b)).minZoom!=null&&b.maxZoom!=null&&b.minZoom>b.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(b.minPitch!=null&&b.maxPitch!=null&&b.minPitch>b.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(b.minPitch!=null&&b.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(b.maxPitch!=null&&b.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(b.antialias&&o.dh(window)&&(b.antialias=!1,o.w("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new p0(b.minZoom,b.maxZoom,b.minPitch,b.maxPitch,b.renderWorldCopies),b),this._repaint=!!b.repaint,this._interactive=b.interactive,this._minTileCacheSize=b.minTileCacheSize,this._maxTileCacheSize=b.maxTileCacheSize,this._failIfMajorPerformanceCaveat=b.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=b.preserveDrawingBuffer,this._antialias=b.antialias,this._trackResize=b.trackResize,this._bearingSnap=b.bearingSnap,this._refreshExpiredTiles=b.refreshExpiredTiles,this._fadeDuration=b.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=b.crossSourceCollisions,this._collectResourceTiming=b.collectResourceTiming,this._language=this._parseLanguage(b.language),this._worldview=b.worldview,this._renderTaskQueue=new Yv,this._domRenderTaskQueue=new Yv,this._controls=[],this._markers=[],this._popups=[],this._mapId=o.di(),this._locale=o.Q({},TO,b.locale),this._clickTolerance=b.clickTolerance,this._cooperativeGestures=b.cooperativeGestures,this._performanceMetricsCollection=b.performanceMetricsCollection,this._tessellationStep=b.tessellationStep,this._containerWidth=0,this._containerHeight=0,this._showParseStatus=!0,this._precompilePrograms=b.precompilePrograms,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new AO(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._frameId=0,this._requestManager=new o.dj(b.transformRequest,b.accessToken,b.testMode),this._silenceAuthErrors=!!b.testMode,this._contextCreateOptions=b.contextCreateOptions?{...b.contextCreateOptions}:{},typeof b.container=="string"){const m=document.getElementById(b.container);if(!m)throw new Error(`Container '${b.container.toString()}' not found.`);this._container=m}else{if(!(b.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=b.container}if(this._container.childNodes.length>0&&o.w("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),b.maxBounds&&this.setMaxBounds(b.maxBounds),o.br(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._tp||(this._tp=new PO),this._tp.registerParameter(this,["Debug"],"showOverdrawInspector"),this._tp.registerParameter(this,["Debug"],"showTileBoundaries"),this._tp.registerParameter(this,["Debug"],"showParseStatus"),this._tp.registerParameter(this,["Debug"],"repaint"),this._tp.registerParameter(this,["Debug"],"showTileAABBs"),this._tp.registerParameter(this,["Debug"],"showPadding"),this._tp.registerParameter(this,["Debug"],"showCollisionBoxes",{noSave:!0}),this._tp.registerParameter(this.transform,["Debug"],"freezeTileCoverage",{noSave:!0},()=>{this._update()}),this._tp.registerParameter(this,["Debug","Wireframe"],"showTerrainWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers2DWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers3DWireframe"),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");if(this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this._fullscreenchangeEvent="onfullscreenchange"in document?"fullscreenchange":"webkitfullscreenchange",window.addEventListener("online",this._onWindowOnline,!1),window.addEventListener("resize",this._onWindowResize,!1),window.addEventListener("orientationchange",this._onWindowResize,!1),window.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.addEventListener("visibilitychange",this._onVisibilityChange,!1),this.handlers=new qv(this,b),this._localFontFamily=b.localFontFamily,this._localIdeographFontFamily=b.localIdeographFontFamily,(b.style||!b.testMode)&&this.setStyle(b.style||o.db.DEFAULT_STYLE,{config:b.config,localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),b.projection&&this.setProjection(b.projection),b.hash&&(this._hash=new HS(typeof b.hash=="string"&&b.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){d.center==null&&d.zoom==null||(this.transform._unmodified=!1),this.jumpTo({center:b.center,zoom:b.zoom,bearing:b.bearing,pitch:b.pitch});const m=b.bounds;m&&(this.resize(),this.fitBounds(m,o.Q({},b.fitBoundsOptions,{duration:0})))}this.resize(),b.attributionControl&&this.addControl(new q0({customAttribution:b.customAttribution})),this._logoControl=new Xv,this.addControl(this._logoControl,b.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this._postStyleLoadEvent()}),this.on("data",m=>{this._update(m.dataType==="style"),this.fire(new o.g(`${m.dataType}data`,m))}),this.on("dataloading",m=>{this.fire(new o.g(`${m.dataType}dataloading`,m))})}_getMapId(){return this._mapId}addControl(b,d){if(d===void 0&&(d=b.getDefaultPosition?b.getDefaultPosition():"top-right"),!b||!b.onAdd)return this.fire(new o.f(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const m=b.onAdd(this);this._controls.push(b);const w=this._controlPositions[d];return d.indexOf("bottom")!==-1?w.insertBefore(m,w.firstChild):w.appendChild(m),this}removeControl(b){if(!b||!b.onRemove)return this.fire(new o.f(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const d=this._controls.indexOf(b);return d>-1&&this._controls.splice(d,1),b.onRemove(this),this}hasControl(b){return this._controls.indexOf(b)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(b){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const d=!this._moving;return d&&this.fire(new o.g("movestart",b)).fire(new o.g("move",b)),this.fire(new o.g("resize",b)),d&&this.fire(new o.g("moveend",b)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(b){return this.transform.setMaxBounds(o.aj.convert(b)),this._update()}setMinZoom(b){if((b=b??-2)>=-2&&b<=this.transform.maxZoom)return this.transform.minZoom=b,this._update(),this.getZoom()<b?this.setZoom(b):this.fire(new o.g("zoomstart")).fire(new o.g("zoom")).fire(new o.g("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(b){if((b=b??22)>=this.transform.minZoom)return this.transform.maxZoom=b,this._update(),this.getZoom()>b?this.setZoom(b):this.fire(new o.g("zoomstart")).fire(new o.g("zoom")).fire(new o.g("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(b){if((b=b??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(b>=0&&b<=this.transform.maxPitch)return this.transform.minPitch=b,this._update(),this.getPitch()<b?this.setPitch(b):this.fire(new o.g("pitchstart")).fire(new o.g("pitch")).fire(new o.g("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(b){if((b=b??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(b>=this.transform.minPitch)return this.transform.maxPitch=b,this._update(),this.getPitch()>b?this.setPitch(b):this.fire(new o.g("pitchstart")).fire(new o.g("pitch")).fire(new o.g("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(b){return this.transform.renderWorldCopies=b,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(b){return b==="auto"?navigator.language:Array.isArray(b)?b.length===0?void 0:b.map(d=>d==="auto"?navigator.language:d):b}setLanguage(b){const d=this._parseLanguage(b);if(!this.style||d===this._language)return this;this._language=d,this.style.reloadSources();for(const m of this._controls)m._setLanguage&&m._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(b){return this.style&&b!==this._worldview?(this._worldview=b,this.style.reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(b){return this._lazyInitEmptyStyle(),b?typeof b=="string"&&(b={name:b}):b=null,this._useExplicitProjection=!!b,this._prioritizeAndUpdateProjection(b,this.style.projection)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const b=this.transform,d=b.projection.name;let m;d==="globe"&&b.zoom>=o.aV?(b.setMercatorFromTransition(),m=!0):d==="mercator"&&b.zoom<o.aV&&(b.setProjection({name:"globe"}),m=!0),m&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(b,d){return this._updateProjection(b||d||{name:"mercator"})}_updateProjection(b){let d;return d=b.name==="globe"&&this.transform.zoom>=o.aV?this.transform.setMercatorFromTransition():this.transform.setProjection(b),this.style.applyProjectionUpdate(),d&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(b){return this.transform.locationPoint3D(o.aJ.convert(b))}unproject(b){return this.transform.pointLocation3D(o.P.convert(b))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(b,d,m){if(b==="mouseenter"||b==="mouseover"){let w=!1;const T=O=>{const z=d.filter(q=>this.getLayer(q)),K=z.length?this.queryRenderedFeatures(O.point,{layers:z}):[];K.length?w||(w=!0,m.call(this,new Qs(b,this,O.originalEvent,{features:K}))):w=!1},C=()=>{w=!1};return{layers:new Set(d),listener:m,delegates:{mousemove:T,mouseout:C}}}if(b==="mouseleave"||b==="mouseout"){let w=!1;const T=O=>{const z=d.filter(K=>this.getLayer(K));(z.length?this.queryRenderedFeatures(O.point,{layers:z}):[]).length?w=!0:w&&(w=!1,m.call(this,new Qs(b,this,O.originalEvent)))},C=O=>{w&&(w=!1,m.call(this,new Qs(b,this,O.originalEvent)))};return{layers:new Set(d),listener:m,delegates:{mousemove:T,mouseout:C}}}{const w=T=>{const C=d.filter(z=>this.getLayer(z)),O=C.length?this.queryRenderedFeatures(T.point,{layers:C}):[];O.length&&(T.features=O,m.call(this,T),delete T.features)};return{layers:new Set(d),listener:m,delegates:{[b]:w}}}}on(b,d,m){if(typeof d=="function"||m===void 0)return super.on(b,d);if(Array.isArray(d)||(d=[d]),d){for(const T of d)if(!this._isValidId(T))return this}const w=this._createDelegatedListener(b,d,m);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[b]=this._delegatedListeners[b]||[],this._delegatedListeners[b].push(w);for(const T in w.delegates)this.on(T,w.delegates[T]);return this}once(b,d,m){if(typeof d=="function"||m===void 0)return super.once(b,d);if(Array.isArray(d)||(d=[d]),d){for(const T of d)if(!this._isValidId(T))return this}const w=this._createDelegatedListener(b,d,m);for(const T in w.delegates)this.once(T,w.delegates[T]);return this}off(b,d,m){if(typeof d=="function"||m===void 0)return super.off(b,d);const w=new Set(Array.isArray(d)?d:[d]);for(const O of w)if(!this._isValidId(O))return this;const T=(O,z)=>{if(O.size!==z.size)return!1;for(const K of O)if(!z.has(K))return!1;return!0},C=this._delegatedListeners?this._delegatedListeners[b]:void 0;return C&&(O=>{for(let z=0;z<O.length;z++){const K=O[z];if(K.listener===m&&T(K.layers,w)){for(const q in K.delegates)this.off(q,K.delegates[q]);return O.splice(z,1),this}}})(C),this}queryRenderedFeatures(b,d){if(!this.style)return[];if(d!==void 0||b===void 0||b instanceof o.P||Array.isArray(b)||(d=b,b=void 0),b=b||[[0,0],[this.transform.width,this.transform.height]],(d=d||{}).layers&&Array.isArray(d.layers)){for(const m of d.layers)if(!this._isValidId(m))return[]}return this.style.queryRenderedFeatures(b,d,this.transform)}querySourceFeatures(b,d){return this._isValidId(b)?this.style.querySourceFeatures(b,d):[]}isPointOnSurface(b){const{name:d}=this.transform.projection;return d!=="globe"&&d!=="mercator"&&o.w(`${d} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(o.P.convert(b))}setStyle(b,d){return d=o.Q({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},d),this.style&&b&&d.diff!==!1&&d.localFontFamily===this._localFontFamily&&d.localIdeographFontFamily===this._localIdeographFontFamily&&!d.config?(this.style._diffStyle(b,(m,w)=>{m?(o.w(`Unable to perform style diff: ${String(m.message||m.error||m)}. Rebuilding the style from scratch.`),this._updateStyle(b,d)):w&&this._update(!0)},()=>{this._postStyleLoadEvent()}),this):(this._localIdeographFontFamily=d.localIdeographFontFamily,this._localFontFamily=d.localFontFamily,this._updateStyle(b,d))}_getUIString(b){const d=this._locale[b];if(d==null)throw new Error(`Missing UI string '${b}'`);return d}_updateStyle(b,d){if(this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),b){const m=o.Q({},d);d&&d.config&&(m.initialConfig=d.config,delete m.config),this.style=new Js(this,m).load(b),this.style.setEventedParent(this,{style:this.style})}return this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Js(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(o.w("There is no style added to the map."),!1)}_isValidId(b){return b==null?(this.fire(new o.f(new Error("IDs can't be empty."))),!1):!o.cY(b)||(this.fire(new o.f(new Error(`IDs can't contain special symbols: "${b}".`))),!1)}addSource(b,d){return this._isValidId(b)?(this._lazyInitEmptyStyle(),this.style.addSource(b,d),this._update(!0)):this}isSourceLoaded(b){return!!this._isValidId(b)&&!!this.style&&this.style._isSourceCacheLoaded(b)}areTilesLoaded(){return this.style.areTilesLoaded()}addSourceType(b,d,m){this._lazyInitEmptyStyle(),this.style.addSourceType(b,d,m)}removeSource(b){return this._isValidId(b)?(this.style.removeSource(b),this._updateTerrain(),this._update(!0)):this}getSource(b){return this._isValidId(b)?this.style.getOwnSource(b):null}addImage(b,d,{pixelRatio:m=1,sdf:w=!1,stretchX:T,stretchY:C,content:O}={}){if(this._lazyInitEmptyStyle(),d instanceof HTMLImageElement||ImageBitmap&&d instanceof ImageBitmap){const{width:z,height:K,data:q}=o.e.getImageData(d);this.style.addImage(b,{data:new o.j({width:z,height:K},q),pixelRatio:m,stretchX:T,stretchY:C,content:O,sdf:w,version:0})}else if(d.width===void 0||d.height===void 0)this.fire(new o.f(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:z,height:K}=d,q=d;this.style.addImage(b,{data:new o.j({width:z,height:K},new Uint8Array(q.data)),pixelRatio:m,stretchX:T,stretchY:C,content:O,sdf:w,version:0,userImage:q}),q.onAdd&&q.onAdd(this,b)}}updateImage(b,d){this._lazyInitEmptyStyle();const m=this.style.getImage(b);if(!m)return void this.fire(new o.f(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const w=d instanceof HTMLImageElement||ImageBitmap&&d instanceof ImageBitmap?o.e.getImageData(d):d,{width:T,height:C,data:O}=w;if(T===void 0||C===void 0)return void this.fire(new o.f(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(T!==m.data.width||C!==m.data.height)return void this.fire(new o.f(new Error(`The width and height of the updated image (${T}, ${C})
                must be that same as the previous version of the image
                (${m.data.width}, ${m.data.height})`)));const z=!(d instanceof HTMLImageElement||ImageBitmap&&d instanceof ImageBitmap);m.data.replace(O,z),this.style.updateImage(b,m)}hasImage(b){return b?!!this.style&&!!this.style.getImage(b):(this.fire(new o.f(new Error("Missing required image id"))),!1)}removeImage(b){this.style.removeImage(b)}loadImage(b,d){o.i(this._requestManager.transformRequest(b,o.R.Image),(m,w)=>{d(m,w instanceof HTMLImageElement?o.e.getImageData(w):w)})}listImages(){return this.style.listImages()}addModel(b,d){this._lazyInitEmptyStyle(),this.style.addModel(b,d)}hasModel(b){return b?this.style.hasModel(b):(this.fire(new o.f(new Error("Missing required model id"))),!1)}removeModel(b){this.style.removeModel(b)}listModels(){return this.style.listModels()}addLayer(b,d){return this._isValidId(b.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(b,d),this._update(!0)):this}getSlot(b){const d=this.getLayer(b);return d&&d.slot||null}setSlot(b,d){return this.style.setSlot(b,d),this.style.mergeLayers(),this._update(!0)}addImport(b,d){return this.style.addImport(b,d),this}updateImport(b,d){return typeof d!="string"&&d.id!==b?(this.removeImport(b),this.addImport(d)):(this.style.updateImport(b,d),this._update(!0))}removeImport(b){return this.style.removeImport(b),this}moveImport(b,d){return this.style.moveImport(b,d),this._update(!0)}moveLayer(b,d){return this._isValidId(b)?(this.style.moveLayer(b,d),this._update(!0)):this}removeLayer(b){return this._isValidId(b)?(this.style.removeLayer(b),this._update(!0)):this}getLayer(b){if(!this._isValidId(b))return null;const d=this.style.getOwnLayer(b);return d?d.type==="custom"?d.implementation:d.serialize():void 0}getSlots(){return this.style.getSlots()}setLayerZoomRange(b,d,m){return this._isValidId(b)?(this.style.setLayerZoomRange(b,d,m),this._update(!0)):this}setFilter(b,d,m={}){return this._isValidId(b)?(this.style.setFilter(b,d,m),this._update(!0)):this}getFilter(b){return this._isValidId(b)?this.style.getFilter(b):null}setPaintProperty(b,d,m,w={}){return this._isValidId(b)?(this.style.setPaintProperty(b,d,m,w),this._update(!0)):this}getPaintProperty(b,d){return this._isValidId(b)?this.style.getPaintProperty(b,d):null}setLayoutProperty(b,d,m,w={}){return this._isValidId(b)?(this.style.setLayoutProperty(b,d,m,w),this._update(!0)):this}getLayoutProperty(b,d){return this._isValidId(b)?this.style.getLayoutProperty(b,d):null}getSchema(b){return this.style.getSchema(b)}setSchema(b,d){return this.style.setSchema(b,d),this._update(!0)}getConfig(b){return this.style.getConfig(b)}setConfig(b,d){return this.style.setConfig(b,d),this._update(!0)}getConfigProperty(b,d){return this.style.getConfigProperty(b,d)}setConfigProperty(b,d,m){return this.style.setConfigProperty(b,d,m),this._update(!0)}setLights(b){if(this._lazyInitEmptyStyle(),b&&b.length===1&&b[0].type==="flat"){const d=b[0];d.properties?this.style.setFlatLight(d.properties,d.id,{}):this.style.setFlatLight({},"flat")}else this.style.setLights(b),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const b=this.style.getLights()||[];return b.length===0&&b.push({id:this.style.light.id,type:"flat",properties:this.style.getFlatLight()}),b}setLight(b,d={}){return console.log("The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead."),this.setLights([{id:"flat",type:"flat",properties:b}])}getLight(){return console.log("The `map.getLight` function is deprecated, prefer using `map.getLights` instead."),this.style.getFlatLight()}setTerrain(b){return this._lazyInitEmptyStyle(),!b&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(b),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(b){return this._lazyInitEmptyStyle(),this.style.setFog(b),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setColorTheme(b){return this._lazyInitEmptyStyle(),this.style.setColorTheme(b),this._update(!0)}setCamera(b){return this.style.setCamera(b),this._triggerCameraUpdate(b)}_triggerCameraUpdate(b){return this._update(this.transform.setOrthographicProjectionAtLowPitch(b["camera-projection"]==="orthographic"))}getCamera(){return this.style.camera}_queryFogOpacity(b){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(o.aJ.convert(b),this.transform):0}setFeatureState(b,d){return this._isValidId(b.source)?(this.style.setFeatureState(b,d),this._update()):this}removeFeatureState(b,d){return this._isValidId(b.source)?(this.style.removeFeatureState(b,d),this._update()):this}getFeatureState(b){return this._isValidId(b.source)?this.style.getFeatureState(b):null}_updateContainerDimensions(){if(!this._container)return;const b=this._container.getBoundingClientRect().width||400,d=this._container.getBoundingClientRect().height||300;let m,w,T,C=this._container;for(;C&&(!w||!T);){const O=window.getComputedStyle(C).transform;O&&O!=="none"&&(m=O.match(/matrix.*\((.+)\)/)[1].split(", "),m[0]&&m[0]!=="0"&&m[0]!=="1"&&(w=m[0]),m[3]&&m[3]!=="0"&&m[3]!=="1"&&(T=m[3])),C=C.parentElement}this._containerWidth=w?Math.abs(b/w):b,this._containerHeight=T?Math.abs(d/T):d}_detectMissingCSS(){window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&o.w("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const b=this._container;b.classList.add("mapboxgl-map"),(this._missingCSSCanary=E("div","mapboxgl-canary",b)).style.visibility="hidden",this._detectMissingCSS();const d=this._canvasContainer=E("div","mapboxgl-canvas-container",b);this._canvas=E("canvas","mapboxgl-canvas",d),this._interactive&&(d.classList.add("mapboxgl-interactive"),this._canvas.setAttribute("tabindex","0")),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const m=this._controlContainer=E("div","mapboxgl-control-container",b),w=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(T=>{w[T]=E("div",`mapboxgl-ctrl-${T}`,m)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(b,d){const m=o.e.devicePixelRatio||1;this._canvas.width=m*Math.ceil(b),this._canvas.height=m*Math.ceil(d),this._canvas.style.width=`${b}px`,this._canvas.style.height=`${d}px`}_addMarker(b){this._markers.push(b)}_removeMarker(b){const d=this._markers.indexOf(b);d!==-1&&this._markers.splice(d,1)}_addPopup(b){this._popups.push(b)}_removePopup(b){const d=this._popups.indexOf(b);d!==-1&&this._popups.splice(d,1)}_setupPainter(){const b=o.Q({},g.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),d=this._canvas.getContext("webgl2",b);d?(o.dk(d,!0),this.painter=new ew(d,this._contextCreateOptions,this.transform,this._tp),this.on("data",m=>{m.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),o.dl.testSupport(d)):this.fire(new o.f(new Error("Failed to initialize WebGL")))}_contextLost(b){b.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.g("webglcontextlost",{originalEvent:b}))}_contextRestored(b){this._setupPainter(),this.resize(),this._update(),this.fire(new o.g("webglcontextrestored",{originalEvent:b}))}_onMapScroll(b){if(b.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}idle(){return!this.isMoving()&&this.loaded()}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}frameReady(){return this.loaded()&&!this._placementDirty}_update(b){return this.style?(this._styleDirty=this._styleDirty||b,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(b){return this._update(),this._renderTaskQueue.add(b)}_cancelRenderFrame(b){this._renderTaskQueue.remove(b)}_requestDomTask(b){!this.loaded()||this.loaded()&&!this.isMoving()?b():this._domRenderTaskQueue.add(b)}_render(b){let d;this.fire(new o.g("renderstart")),++this._frameId;const m=this.painter.context.extTimerQuery,w=o.e.now(),T=this.painter.context.gl;if(this.listens("gpu-timing-frame")&&(d=T.createQuery(),T.beginQuery(m.TIME_ELAPSED_EXT,d)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],performance.now())),this._renderTaskQueue.run(b),this._domRenderTaskQueue.run(b),this._removed)return;this._updateProjectionTransition();const C=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const q=this.transform.zoom,Q=this.transform.pitch,ie=o.e.now(),ce=new o.Y(q,{now:ie,fadeDuration:C,pitch:Q,transition:this.style.transition});this.style.update(ce)}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let O=!1;this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),O=this._updateAverageElevation(w),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):O=this._updateAverageElevation(w);const z=this.style&&this.style._updatePlacement(this.painter,this.painter.transform,this.showCollisionBoxes,C,this._crossSourceCollisions,this.painter.replacementSource);if(z&&(this._placementDirty=z.needsRerender),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showParseStatus:this.showParseStatus,wireframe:{terrain:this.showTerrainWireframe,layers2D:this.showLayers2DWireframe,layers3D:this.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:C,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new o.g("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.df.mark(o.dg.load),this.fire(new o.g("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),d){const q=o.e.now()-w;T.endQuery(m.TIME_ELAPSED_EXT),setTimeout(()=>{const Q=T.getQueryParameter(d,T.QUERY_RESULT)/1e6;T.deleteQuery(d),this.fire(new o.g("gpu-timing-frame",{cpuTime:q,gpuTime:Q}))},50)}if(this.listens("gpu-timing-layer")){const q=this.painter.collectGpuTimers();setTimeout(()=>{const Q=this.painter.queryGpuTimers(q);this.fire(new o.g("gpu-timing-layer",{layerTimes:Q}))},50)}if(this.listens("gpu-timing-deferred-render")){const q=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const Q=this.painter.queryGpuTimeDeferredRender(q);this.fire(new o.g("gpu-timing-deferred-render",{gpuTime:Q}))},50)}const K=this._sourcesDirty||this._styleDirty||this._placementDirty||O;if(K||this._repaint)this.triggerRepaint();else{const q=this.idle();if(q&&(O=this._updateAverageElevation(w,!0)),O)this.triggerRepaint();else if(this._triggerFrame(!1),q&&(this.fire(new o.g("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const Q=this._calculateSpeedIndex();this.fire(new o.g("speedindexcompleted",{speedIndex:Q})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||K||(this._fullyLoaded=!0,o.df.mark(o.dg.fullLoad),this._performanceMetricsCollection&&o.dm(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(b){for(const d of this._markers)b&&!this.getRenderWorldCopies()&&(d._lngLat=d._lngLat.wrap()),d._update();for(const d of this._popups)!b||this.getRenderWorldCopies()||d._trackPointer||(d._lngLat=d._lngLat.wrap()),d._update()}_updateAverageElevation(b,d=!1){const m=T=>(this.transform.averageElevation=T,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&m(0);const w=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(w||(d||b-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(b)){const T=this.transform.averageElevation;let C=this.transform.sampleAverageElevation();this.transform.elevation!=null&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(C)?C=0:this._averageElevationLastSampledAt=b;const O=Math.abs(T-C);if(O>1){if(this._isInitialLoad||w)return this._averageElevation.jumpTo(C),m(C);this._averageElevation.easeTo(C,b,300)}else if(O>1e-4)return this._averageElevation.jumpTo(C),m(C)}return!!this._averageElevation.isEasing(b)&&m(this._averageElevation.getValue(b))}_authenticate(){o.dn(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,b=>{if(b&&(b.message===o.dp||b.status===401)){const d=this.painter.context.gl;o.dk(d,!1),this._logoControl instanceof Xv&&this._logoControl._updateLogo(),d&&d.clear(d.DEPTH_BUFFER_BIT|d.COLOR_BUFFER_BIT|d.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new o.f(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),o.dq(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_postStyleLoadEvent(){this.style.globalId&&o.dr(this._requestManager._customAccessToken,{map:this,skuToken:this._requestManager._skuToken,style:this.style.globalId,importedStyles:this.style.getImportGlobalIds()})}_updateTerrain(){const b=this._isDragging();this.painter.updateTerrain(this.style,b)}_calculateSpeedIndex(){const b=this.painter.canvasCopy(),d=this.painter.getCanvasCopiesAndTimestamps();d.timeStamps.push(performance.now());const m=this.painter.context.gl,w=m.createFramebuffer();function T(C){m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,C,0);const O=new Uint8Array(m.drawingBufferWidth*m.drawingBufferHeight*4);return m.readPixels(0,0,m.drawingBufferWidth,m.drawingBufferHeight,m.RGBA,m.UNSIGNED_BYTE,O),O}return m.bindFramebuffer(m.FRAMEBUFFER,w),this._canvasPixelComparison(T(b),d.canvasCopies.map(T),d.timeStamps)}_canvasPixelComparison(b,d,m){let w=m[1]-m[0];const T=b.length/4;for(let C=0;C<d.length;C++){const O=d[C];let z=0;for(let K=0;K<O.length;K+=4)O[K]===b[K]&&O[K+1]===b[K+1]&&O[K+2]===b[K+2]&&O[K+3]===b[K+3]&&(z+=1);w+=(m[C+2]-m[C+1])*(1-z/T)}return w}remove(){this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),window.removeEventListener("resize",this._onWindowResize,!1),window.removeEventListener("orientationchange",this._onWindowResize,!1),window.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.removeEventListener("online",this._onWindowOnline,!1),window.removeEventListener("visibilitychange",this._onVisibilityChange,!1);const b=this.painter.context.gl.getExtension("WEBGL_lose_context");b&&b.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),o.ds(this.painter.context.gl),o.dt.remove(),o.du.remove(),this._removed=!0,this.fire(new o.g("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(b){this._renderNextFrame=this._renderNextFrame||b,this.style&&!this._frame&&(this._frame=o.e.frame(d=>{const m=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,m&&this._render(d)}))}_preloadTiles(b){const d=this.style?this.style.getSourceCaches():[];return o.dv(d,(m,w)=>m._preloadTiles(b,w),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(b){this._trackResize&&this.resize({originalEvent:b})._update()}_onVisibilityChange(){document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(b){this._showTileBoundaries!==b&&(this._showTileBoundaries=b,this._tp.refreshUI(),this._update())}get showParseStatus(){return!!this._showParseStatus}set showParseStatus(b){this._showParseStatus!==b&&(this._showParseStatus=b,this._tp.refreshUI(),this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(b){this._showTerrainWireframe!==b&&(this._showTerrainWireframe=b,this._tp.refreshUI(),this._update())}get showLayers2DWireframe(){return!!this._showLayers2DWireframe}set showLayers2DWireframe(b){this._showLayers2DWireframe!==b&&(this._showLayers2DWireframe=b,this._tp.refreshUI(),this._update())}get showLayers3DWireframe(){return!!this._showLayers3DWireframe}set showLayers3DWireframe(b){this._showLayers3DWireframe!==b&&(this._showLayers3DWireframe=b,this._tp.refreshUI(),this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(b){this._speedIndexTiming!==b&&(this._speedIndexTiming=b,this._update())}get showPadding(){return!!this._showPadding}set showPadding(b){this._showPadding!==b&&(this._showPadding=b,this._tp.refreshUI(),this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(b){this._showCollisionBoxes!==b&&(this._showCollisionBoxes=b,this._tp.refreshUI(),b?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(b){this._showOverdrawInspector!==b&&(this._showOverdrawInspector=b,this._tp.refreshUI(),this._update())}get repaint(){return!!this._repaint}set repaint(b){this._repaint!==b&&(this._repaint=b,this._tp.refreshUI(),this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(b){this._vertices=b,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(b){this._showTileAABBs!==b&&(this._showTileAABBs=b,this._tp.refreshUI(),b&&this._update())}_setCacheLimits(b,d){o.dx(b,d)}get version(){return o.dw}},NavigationControl:class{constructor(b={}){this.options=o.Q({},gw,b),this._container=E("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",d=>d.preventDefault()),this.options.showZoom&&(o.br(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",d=>{this._map&&this._map.zoomIn({},{originalEvent:d})}),E("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",d=>{this._map&&this._map.zoomOut({},{originalEvent:d})}),E("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(o.br(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",d=>{const m=this._map;m&&(this.options.visualizePitch?m.resetNorthPitch({},{originalEvent:d}):m.resetNorth({},{originalEvent:d}))}),this._compassIcon=E("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const b=this._map;if(!b)return;const d=b.getZoom(),m=d===b.getMaxZoom(),w=d===b.getMinZoom();this._zoomInButton.disabled=m,this._zoomOutButton.disabled=w,this._zoomInButton.setAttribute("aria-disabled",m.toString()),this._zoomOutButton.setAttribute("aria-disabled",w.toString())}_rotateCompassArrow(){const b=this._map;if(!b)return;const d=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(b.transform.pitch*(Math.PI/180)),.5)}) rotateX(${b.transform.pitch}deg) rotateZ(${b.transform.angle*(180/Math.PI)}deg)`:`rotate(${b.transform.angle*(180/Math.PI)}deg)`;b._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=d)})}onAdd(b){return this._map=b,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),b.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&b.on("pitch",this._rotateCompassArrow),b.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new yw(b,this._compass,this.options.visualizePitch)),this._container}onRemove(){const b=this._map;b&&(this._container.remove(),this.options.showZoom&&b.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&b.off("pitch",this._rotateCompassArrow),b.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(b,d){const m=E("button",b,this._container);return m.type="button",m.addEventListener("click",d),m}_setButtonTitle(b,d){if(!this._map)return;const m=this._map._getUIString(`NavigationControl.${d}`);b.setAttribute("aria-label",m),b.firstElementChild&&b.firstElementChild.setAttribute("title",m)}},GeolocateControl:class extends o.E{constructor(b={}){super();const d=navigator.geolocation;this.options=o.Q({geolocation:d},r7,b),o.br(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=KS(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(b){return this._map=b,this._container=E("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(b){const d=(m=!!this.options.geolocation)=>{this._supportsGeolocation=m,b(m)};this._supportsGeolocation!==void 0?b(this._supportsGeolocation):navigator.permissions!==void 0?navigator.permissions.query({name:"geolocation"}).then(m=>d(m.state!=="denied")).catch(()=>d()):d()}_isOutOfMapMaxBounds(b){const d=this._map.getMaxBounds(),m=b.coords;return!!d&&(m.longitude<d.getWest()||m.longitude>d.getEast()||m.latitude<d.getSouth()||m.latitude>d.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(b){if(this._map){if(this._isOutOfMapMaxBounds(b))return this._setErrorState(),this.fire(new o.g("outofmaxbounds",b)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=b,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(b),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(b),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName("mapboxgl-user-location-dot-stale"),this.fire(new o.g("geolocate",b)),this._finish()}}_updateCamera(b){const d=new o.aJ(b.coords.longitude,b.coords.latitude),m=b.coords.accuracy,w=this._map.getBearing(),T=o.Q({bearing:w},this.options.fitBoundsOptions);this._map.fitBounds(d.toBounds(m),T,{geolocateSource:!0})}_updateMarker(b){if(b){const d=new o.aJ(b.coords.longitude,b.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=b.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const b=this._map.transform,d=o.ay(1,b._center.lat)*b.worldSize,m=Math.ceil(2*this._accuracy*d);this._circleElement.style.width=`${m}px`,this._circleElement.style.height=`${m}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName("mapboxgl-user-location-show-heading")):(this._userLocationDotMarker.removeClassName("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(b){if(this._map){if(this.options.trackUserLocation)if(b.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(b.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName("mapboxgl-user-location-dot-stale"),this.fire(new o.g("error",b)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(b){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",d=>d.preventDefault()),this._geolocateButton=E("button","mapboxgl-ctrl-geolocate",this._container),E("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",b===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=E("div","mapboxgl-user-location"),this._dotElement.appendChild(E("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(E("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Qv({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=E("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Qv({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new o.g("trackuserlocationend")))})}}_onDeviceOrientation(b){this._userLocationDotMarker&&(b.webkitCompassHeading?this._heading=b.webkitCompassHeading:b.absolute===!0&&(this._heading=-1*b.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.g("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new o.g("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.g("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let b;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(b={maximumAge:6e5,timeout:0},this._noTimeout=!0):(b=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,b),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=window.setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const b=()=>{"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",this._onDeviceOrientation):window.addEventListener("deviceorientation",this._onDeviceOrientation)};typeof DeviceMotionEvent<"u"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(d=>{d==="granted"&&b()}).catch(console.error):b()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),window.removeEventListener("deviceorientation",this._onDeviceOrientation),window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:q0,ScaleControl:class{constructor(b={}){this.options=o.Q({},Jh,b),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),o.br(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const b=this.options.maxWidth||100,d=this._map,m=d._containerHeight/2,w=d._containerWidth/2-b/2,T=d.unproject([w,m]),C=d.unproject([w+b,m]),O=T.distanceTo(C);if(this.options.unit==="imperial"){const z=3.2808*O;z>5280?this._setScale(b,z/5280,"mile"):this._setScale(b,z,"foot")}else this.options.unit==="nautical"?this._setScale(b,O/1852,"nautical-mile"):O>=1e3?this._setScale(b,O/1e3,"kilometer"):this._setScale(b,O,"meter")}_setScale(b,d,m){this._map._requestDomTask(()=>{const w=function(C){const O=Math.pow(10,`${Math.floor(C)}`.length-1);let z=C/O;return z=z>=10?10:z>=5?5:z>=3?3:z>=2?2:z>=1?1:function(K){const q=Math.pow(10,Math.ceil(-Math.log(K)/Math.LN10));return Math.round(K*q)/q}(z),O*z}(d),T=w/d;this._container.innerHTML=this._isNumberFormatSupported&&m!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:m}).format(w):`${w}&nbsp;${n7[m]}`,this._container.style.width=b*T+"px"})}onAdd(b){return this._map=b,this._language=b.getLanguage(),this._container=E("div","mapboxgl-ctrl mapboxgl-ctrl-scale",b.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(b){this._language=b,this._update()}setUnit(b){this.options.unit=b,this._update()}},FullscreenControl:class{constructor(b={}){this._fullscreen=!1,b&&b.container&&(b.container instanceof HTMLElement?this._container=b.container:o.w("Full screen control 'container' must be a DOM element.")),o.br(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(b){return this._map=b,this._container||(this._container=this._map.getContainer()),this._controlContainer=E("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",o.w("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled)}_setupUI(){const b=this._fullscreenButton=E("button","mapboxgl-ctrl-fullscreen",this._controlContainer);E("span","mapboxgl-ctrl-icon",b).setAttribute("aria-hidden","true"),b.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const b=this._getTitle();this._fullscreenButton.setAttribute("aria-label",b),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",b)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(document.fullscreenElement||document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends o.E{constructor(b){super(),this.options=o.Q(Object.create(Yh),b),o.br(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(b&&b.className?b.className.trim().split(/\s+/):[])}addTo(b){return this._map&&this.remove(),this._map=b,this.options.closeOnClick&&b.on("preclick",this._onClose),this.options.closeOnMove&&b.on("move",this._onClose),b.on("remove",this.remove),this._update(),b._addPopup(this),this._focusFirstElement(),this._trackPointer?(b.on("mousemove",this._onMouseEvent),b.on("mouseup",this._onMouseEvent),b._canvasContainer.classList.add("mapboxgl-track-pointer")):b.on("move",this._update),this.fire(new o.g("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const b=this._map;return b&&(b.off("move",this._update),b.off("move",this._onClose),b.off("preclick",this._onClose),b.off("click",this._onClose),b.off("remove",this.remove),b.off("mousemove",this._onMouseEvent),b.off("mouseup",this._onMouseEvent),b.off("drag",this._onMouseEvent),b._canvasContainer&&b._canvasContainer.classList.remove("mapboxgl-track-pointer"),b._removePopup(this),this._map=void 0),this.fire(new o.g("close")),this}getLngLat(){return this._lngLat}setLngLat(b){this._lngLat=o.aJ.convert(b),this._pos=null,this._trackPointer=!1,this._update();const d=this._map;return d&&(d.on("move",this._update),d.off("mousemove",this._onMouseEvent),d._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const b=this._map;return b&&(b.off("move",this._update),b.on("mousemove",this._onMouseEvent),b.on("drag",this._onMouseEvent),b._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(b){return this.setDOMContent(document.createTextNode(b))}setHTML(b){const d=document.createDocumentFragment(),m=document.createElement("body");let w;for(m.innerHTML=b;w=m.firstChild,w;)d.appendChild(w);return this.setDOMContent(d)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(b){return this.options.maxWidth=b,this._update(),this}setDOMContent(b){let d=this._content;if(d)for(;d.hasChildNodes();)d.firstChild&&d.removeChild(d.firstChild);else d=this._content=E("div","mapboxgl-popup-content",this._container||void 0);if(d.appendChild(b),this.options.closeButton){const m=this._closeButton=E("button","mapboxgl-popup-close-button",d);m.type="button",m.setAttribute("aria-label","Close popup"),m.setAttribute("aria-hidden","true"),m.innerHTML="&#215;",m.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(b){return this._classList.add(b),this._updateClassList(),this}removeClassName(b){return this._classList.delete(b),this._updateClassList(),this}setOffset(b){return this.options.offset=b,this._update(),this}toggleClassName(b){let d;return this._classList.delete(b)?d=!1:(this._classList.add(b),d=!0),this._updateClassList(),d}_onMouseEvent(b){this._update(b.point)}_getAnchor(b){if(this.options.anchor)return this.options.anchor;const d=this._map,m=this._container,w=this._pos;if(!d||!m||!w)return"bottom";const T=m.offsetWidth,C=m.offsetHeight,O=w.x<T/2,z=w.x>d.transform.width-T/2;if(w.y+b<C)return O?"top-left":z?"top-right":"top";if(w.y>d.transform.height-C){if(O)return"bottom-left";if(z)return"bottom-right"}return O?"left":z?"right":"bottom"}_updateClassList(){const b=this._container;if(!b)return;const d=[...this._classList];d.push("mapboxgl-popup"),this._anchor&&d.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&d.push("mapboxgl-popup-track-pointer"),b.className=d.join(" ")}_update(b){const d=this._map,m=this._content;if(!d||!this._lngLat&&!this._trackPointer||!m)return;let w=this._container;if(w||(w=this._container=E("div","mapboxgl-popup",d.getContainer()),this._tip=E("div","mapboxgl-popup-tip",w),w.appendChild(m)),this.options.maxWidth&&w.style.maxWidth!==this.options.maxWidth&&(w.style.maxWidth=this.options.maxWidth),d.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Z0(this._lngLat,this._pos,d.transform)),!this._trackPointer||b){const T=this._pos=this._trackPointer&&b instanceof o.P?b:d.project(this._lngLat),C=t7(this.options.offset),O=this._anchor=this._getAnchor(C.y),z=t7(this.options.offset,O),K=T.add(z).round();d._requestDomTask(()=>{this._container&&O&&(this._container.style.transform=`${Jv[O]} translate(${K.x}px,${K.y}px)`)})}if(!this._marker&&d._showingGlobe()){const T=o.dc(d.transform,this._lngLat)?0:1;this._setOpacity(T)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const b=this._container.querySelector(EO);b&&b.focus()}_onClose(){this.remove()}_setOpacity(b){this._container&&(this._container.style.opacity=`${b}`),this._content&&(this._content.style.pointerEvents=b?"auto":"none")}},Marker:Qv,Style:Js,LngLat:o.aJ,LngLatBounds:o.aj,Point:o.P,MercatorCoordinate:o._,FreeCameraOptions:hS,Evented:o.E,config:o.db,prewarm:o.dA,clearPrewarmedResources:o.dB,get accessToken(){return o.db.ACCESS_TOKEN},set accessToken(b){o.db.ACCESS_TOKEN=b},get baseApiUrl(){return o.db.API_URL},set baseApiUrl(b){o.db.API_URL=b},get workerCount(){return o.dC.workerCount},set workerCount(b){o.dC.workerCount=b},get maxParallelImageRequests(){return o.db.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(b){o.db.MAX_PARALLEL_IMAGE_REQUESTS=b},clearStorage(b){o.dD(b)},get workerUrl(){return o.dE.workerUrl},set workerUrl(b){o.dE.workerUrl=b},get workerClass(){return o.dE.workerClass},set workerClass(b){o.dE.workerClass=b},get workerParams(){return o.dE.workerParams},set workerParams(b){o.dE.workerParams=b},get dracoUrl(){return o.dF()},set dracoUrl(b){o.dG(b)},get meshoptUrl(){return o.dH()},set meshoptUrl(b){o.dI(b)},setNow:o.e.setNow,restoreNow:o.e.restoreNow}});var p=s;return p})})(o4e);var ZJe=o4e.exports;const sL=oi(ZJe),XJe=e=>{const t=se.useRef(null),r=se.useRef(null),[n,i]=se.useState(!0);let s=!1;return se.useEffect(()=>{sL.accessToken="pk.eyJ1IjoibWFudWFyZXJhYSIsImEiOiJjbHVua3JhcHAxNjRkMmpwN2p1a2VwcTZlIn0.M7SLaBn_r3ldw0KuawrZbA",r.current=new sL.Map({container:t.current,style:"mapbox://styles/mapbox/light-v11",center:[-74.5,40],zoom:1,maxZoom:15,projection:"globe"}),e.dummyData.filter(y=>y.yourShares!==void 0).forEach(y=>{const x=document.createElement("div");x.className="custom-marker",x.innerHTML=`
        <div class="marker-content bg-black text-white">
          <strong>${y.propertyName}</strong>
          <br />
          <span>${y.yourShares} shares</span>
        </div>
      `,x.style.background="black",x.style.padding="5px",x.style.borderRadius="8px",x.style.boxShadow="0 2px 6px rgba(0,0,0,0.3)",x.style.textAlign="center",x.style.color="white",new sL.Marker(x).setLngLat([y.longitude,y.latitude]).addTo(r.current)});const p=()=>{if(!r.current||!n||s)return;const y=r.current.getZoom(),x=60,E=5,A=3;let M=360/x;if(y>A){const k=(E-y)/(E-A);M*=k}const R=r.current.getCenter();R.lng-=M,r.current.easeTo({center:R,duration:1e3,easing:k=>k}),r.current.once("moveend",p)},o=()=>{console.log("User interacting with the map"),s=!0},g=()=>{console.log("User stopped interacting with the map"),s=!1,p()};return r.current.on("mousedown",o),r.current.on("mouseup",g),r.current.on("dragend",g),r.current.on("pitchend",g),r.current.on("rotateend",g),p(),()=>{r.current.remove()}},[e.dummyData,n]),H.jsx("div",{style:{height:"100%"},ref:t,className:"map-container rounded-xl"})},YJe={number:e=>Intl.NumberFormat("en-US").format(+e.toFixed(0)),currency:e=>Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(+e.toFixed(0))};function uA({format:e=YJe.number,targetValue:t,direction:r="up",delay:n=0,className:i}){const s=se.useRef(null),c=r==="up",p=Cge(c?0:t),o=CUe(p,{damping:60,stiffness:80}),g=OUe(s,{margin:"0px",once:!0});return se.useEffect(()=>{if(!g)return;const y=setTimeout(()=>{p.set(c?t:0)},n);return()=>clearTimeout(y)},[g,n,c,t,p]),se.useEffect(()=>{o.on("change",y=>{s.current&&(s.current.textContent=e?e(y):y)})},[o,e]),H.jsx("span",{ref:s,className:ph("text-5xl font-bold text-black",i)})}const JJe=[{uid:"residential",name:"Residential"},{uid:"commercial",name:"Commercial"},{uid:"industrial",name:"Industrial"}],QJe=[{uid:"india",name:"India"},{uid:"france",name:"France"},{uid:"russia",name:"Russia"},{uid:"usa",name:"USA"}],eQe=[{uid:"0-100",name:"$0 - $100"},{uid:"101-500",name:"$101 - $500"},{uid:"501-1000",name:"$501 - $1000"},{uid:"1001+",name:"$1001+"}],tQe=[{uid:"propertyName",name:"Property Name"},{uid:"location",name:"Location"},{uid:"propertyType",name:"Property Type"},{uid:"ticketPrice",name:"Ticket Price"},{uid:"currentPrice",name:"Current Price"},{uid:"yourShares",name:"Your Shares"},{uid:"actions",name:"Actions"}];function rQe(e){const[t,r]=Ke.useState(""),[n,i]=Ke.useState(new Set(["all"])),[s,c]=Ke.useState(new Set(["all"])),[p,o]=Ke.useState(new Set(["all"])),[g,y]=Ke.useState({column:"propertyName",direction:"ascending"}),x=Ke.useMemo(()=>{let M=e.dummyData.filter(R=>R.yourShares!==void 0);return t&&(M=M.filter(R=>R.propertyName.toLowerCase().includes(t.toLowerCase()))),n.has("all")||(M=M.filter(R=>n.has(R.propertyType.toLowerCase()))),s.has("all")||(M=M.filter(R=>s.has(R.country.toLowerCase()))),p.has("all")||(M=M.filter(R=>{const k=parseFloat(R.ticketPrice.replace("$",""));return Array.from(p).some(D=>{const[$,B]=D.split("-").map(Number);return k>=$&&(B?k<=B:!0)})})),M},[t,n,s,p]),E=Ke.useMemo(()=>[...x].sort((M,R)=>{const k=M[g.column],D=R[g.column];let $;switch(g.column){case"propertyName":case"propertyType":$=k.localeCompare(D);break;case"location":const[B,V]=M.location.split(", "),[U,Z]=R.location.split(", ");$=V.localeCompare(Z)||B.localeCompare(U);break;case"ticketPrice":case"currentPrice":const ne=parseFloat(k.replace(/[^0-9.-]+/g,"")),j=parseFloat(D.replace(/[^0-9.-]+/g,""));$=ne-j;break;case"yourShares":$=k-D;break;default:$=0}return g.direction==="descending"?-$:$}),[g,x]),A=Ke.useCallback((M,R)=>{const k=M[R];switch(R){case"actions":return H.jsx("button",{className:"px-4 py-2 font-bold text-white bg-black border-2 border-black rounded-full hover:bg-white hover:text-black",children:"View"});default:return k}},[]);return H.jsxs("div",{className:"w-full max-w-full px-4 mx-auto",children:[H.jsxs("div",{className:"flex items-center justify-between gap-4 mt-2 mb-4",children:[H.jsxs("div",{className:"flex flex-row gap-x-4",children:[H.jsxs(Wl,{children:[H.jsx(Ul,{children:H.jsx(yl,{endContent:H.jsx(Kl,{}),variant:"flat",className:"h-12 text-md",children:"Property Type"})}),H.jsxs(Vl,{disallowEmptySelection:!0,selectedKeys:n,selectionMode:"multiple",onSelectionChange:i,closeOnSelect:!1,children:[H.jsx(ta,{children:"All Types"},"all"),JJe.map(M=>H.jsx(ta,{children:M.name},M.uid))]})]}),H.jsxs(Wl,{children:[H.jsx(Ul,{children:H.jsx(yl,{endContent:H.jsx(Kl,{}),variant:"flat",className:"h-12 text-md",children:"Location"})}),H.jsxs(Vl,{disallowEmptySelection:!0,selectedKeys:s,selectionMode:"multiple",onSelectionChange:c,closeOnSelect:!1,children:[H.jsx(ta,{children:"All Locations"},"all"),QJe.map(M=>H.jsx(ta,{children:M.name},M.uid))]})]}),H.jsxs(Wl,{children:[H.jsx(Ul,{children:H.jsx(yl,{endContent:H.jsx(Kl,{}),variant:"flat",className:"h-12 text-md",children:"Price"})}),H.jsxs(Vl,{disallowEmptySelection:!0,selectedKeys:p,selectionMode:"multiple",onSelectionChange:o,closeOnSelect:!1,children:[H.jsx(ta,{children:"All Prices"},"all"),eQe.map(M=>H.jsx(ta,{children:M.name},M.uid))]})]})]}),H.jsx(x9,{className:"w-full max-w-lg text-xl",placeholder:"Search for a property by name, location, etc...",startContent:H.jsx(M9,{}),value:t,onValueChange:r,size:"lg"})]}),H.jsxs(E9,{"aria-label":"User-owned property table",sortDescriptor:g,onSortChange:y,children:[H.jsx(I9,{columns:tQe,children:M=>H.jsx(C9,{allowsSorting:!0,align:M.uid==="actions"?"center":"start",className:"text-black text-md",children:M.name},M.uid)}),H.jsx(T9,{items:E,children:M=>H.jsx(A9,{className:"pb-2 my-6",children:R=>H.jsx(P9,{className:"text-md",children:A(M,R)})},M.id)})]})]})}const lL=[{id:1,propertyName:"Riverside Apartments",location:"Bengaluru, India",country:"India",propertyType:"Residential",ticketPrice:"$25",originalTicketPrice:"$20",currentPrice:"Not Trading",totalShares:"4533 / 6800",yourShares:1e3,latitude:12.9716,longitude:77.5946},{id:2,propertyName:"Central Mall",location:"Paris, France",country:"France",propertyType:"Commercial",ticketPrice:"$345",originalTicketPrice:"$300",currentPrice:"Not Trading",totalShares:"90 / 980",latitude:48.8566,longitude:2.3522},{id:3,propertyName:"Dzokevic Warehouse",location:"St.Petersburg, Russia",country:"Russia",propertyType:"Industrial",ticketPrice:"$85",originalTicketPrice:"$80",currentPrice:"$85.5 / share",totalShares:"90 / 980",yourShares:50,latitude:59.9343,longitude:30.3351},{id:4,propertyName:"Sunset Condos",location:"Mumbai, India",country:"India",propertyType:"Residential",ticketPrice:"$50",originalTicketPrice:"$45",currentPrice:"Not Trading",totalShares:"2000 / 3000",latitude:19.076,longitude:72.8777},{id:5,propertyName:"Tech Park",location:"San Francisco, USA",country:"USA",propertyType:"Commercial",ticketPrice:"$1200",originalTicketPrice:"$1150",currentPrice:"$1250 / share",totalShares:"50 / 100",yourShares:20,latitude:37.7749,longitude:-122.4194}];function nQe(e){const t=lL.filter(p=>p.yourShares!==void 0),r=t.reduce((p,o)=>{const g=parseFloat(o.ticketPrice.replace("$",""));return p+g*(o.yourShares||0)},0),n=t.reduce((p,o)=>{const g=parseFloat(o.originalTicketPrice.replace("$",""));return p+g*(o.yourShares||0)},0),i=r-n,s=t.length,c=t.reduce((p,o)=>p+(o.yourShares||0),0);return H.jsxs("div",{className:"flex flex-col w-full max-w-full px-4 mx-auto",children:[H.jsxs("div",{className:"flex flex-row space-x-6",children:[H.jsx("div",{className:"w-1/2",children:H.jsxs("div",{className:"flex flex-col",children:[H.jsx("div",{className:"text-left",children:H.jsx("p",{className:"text-lg",children:"Portfolio Stats"})}),H.jsx("div",{className:"py-0 my-0 divider before:bg-black/5 after:bg-black/5"}),H.jsxs("div",{className:"grid grid-cols-2 gap-6 p-4 mb-6 text-center gap-y-6",children:[H.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-black bg-black/10 gap-y-1 rounded-2xl",children:[H.jsxs("div",{className:"flex flex-row items-end justify-center gap-x-3",children:[H.jsx("p",{className:"text-4xl",children:"$"}),H.jsx(uA,{targetValue:r,direction:"up",format:p=>`${p.toFixed(0)}`})]}),H.jsx("div",{className:"text-2xl",children:"Total Invested Amount"})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-black bg-black/10 gap-y-1 rounded-2xl",children:[H.jsxs("div",{className:"flex flex-row items-end justify-center gap-x-3",children:[H.jsx("p",{className:"text-4xl",children:"$"}),H.jsx(uA,{targetValue:i,direction:"up",format:p=>`${p.toFixed(0)}`})]}),H.jsx("div",{className:"text-2xl",children:"Total Profit"})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-black bg-black/10 gap-y-1 rounded-2xl",children:[H.jsx(uA,{targetValue:s,direction:"up",format:p=>`${p.toFixed(0)}`}),H.jsx("div",{className:"text-2xl",children:"Total Properties Owned"})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-black bg-black/10 gap-y-1 rounded-2xl",children:[H.jsx(uA,{targetValue:c,direction:"up",format:p=>`${p.toFixed(0)}`}),H.jsx("div",{className:"text-2xl",children:"Total Shares Held"})]})]}),H.jsx("div",{className:"flex flex-row justify-center",children:H.jsx("button",{className:"w-full py-3 mx-4 text-lg text-white bg-black border-2 border-black rounded-xl hover:bg-white hover:text-black ",children:"Invest More"})})]})}),H.jsxs("div",{className:"w-[50rem] h-[30rem]",children:[H.jsx("div",{className:"text-left",children:H.jsx("p",{className:"text-lg",children:"Locate your shares"})}),H.jsx("div",{className:"py-0 my-0 divider before:bg-black/5 after:bg-black/5"}),H.jsx(XJe,{dummyData:lL})]})]}),H.jsx("div",{className:"pt-8 text-left",children:H.jsx("p",{className:"text-lg",children:"Your Properties"})}),H.jsx("div",{className:"py-0 my-0 divider before:bg-black/5 after:bg-black/5"}),H.jsx(rQe,{dummyData:lL})]})}const iQe=[{id:1,propertyName:"Riverside Apartments",location:"Bengaluru, India",country:"India",propertyType:"Residential",ticketPrice:"$25",sharesBought:1e3,purchasedOn:"2023-09-12T15:34:00",txnLink:"https://blockchain-explorer.com/tx/123456"},{id:2,propertyName:"Central Mall",location:"Paris, France",country:"France",propertyType:"Commercial",ticketPrice:"$345",sharesBought:200,purchasedOn:"2023-08-30T10:15:00",txnLink:"https://blockchain-explorer.com/tx/7891011"},{id:3,propertyName:"Dzokevic Warehouse",location:"St.Petersburg, Russia",country:"Russia",propertyType:"Industrial",ticketPrice:"$85",sharesBought:300,purchasedOn:"2023-09-01T12:00:00",txnLink:"https://blockchain-explorer.com/tx/121314"}],aQe=[{uid:"residential",name:"Residential"},{uid:"commercial",name:"Commercial"},{uid:"industrial",name:"Industrial"}],oQe=[{uid:"propertyName",name:"Property Name"},{uid:"location",name:"Location"},{uid:"propertyType",name:"Property Type"},{uid:"ticketPrice",name:"Ticket Price"},{uid:"sharesBought",name:"Shares Bought"},{uid:"purchasedOn",name:"Purchased On"},{uid:"totalPaid",name:"Total Paid"},{uid:"actions",name:"Actions"}],sQe=[{uid:"india",name:"India"},{uid:"france",name:"France"},{uid:"russia",name:"Russia"},{uid:"usa",name:"USA"}];function lQe(){const[e,t]=Ke.useState(""),[r,n]=Ke.useState(new Set(["all"])),[i,s]=Ke.useState(new Set(["all"])),[c,p]=Ke.useState({column:"propertyName",direction:"ascending"}),o=Ke.useMemo(()=>{let x=[...iQe];return e&&(x=x.filter(E=>E.propertyName.toLowerCase().includes(e.toLowerCase()))),r.has("all")||(x=x.filter(E=>r.has(E.propertyType.toLowerCase()))),i.has("all")||(x=x.filter(E=>i.has(E.country.toLowerCase()))),x},[e,r,i]),g=Ke.useMemo(()=>[...o].sort((x,E)=>{const A=x[c.column],M=E[c.column];let R;switch(c.column){case"propertyName":case"propertyType":R=A.localeCompare(M);break;case"location":const[k,D]=x.location.split(", "),[$,B]=E.location.split(", ");R=D.localeCompare(B)||k.localeCompare($);break;case"ticketPrice":const V=parseFloat(A.replace(/[^0-9.-]+/g,"")),U=parseFloat(M.replace(/[^0-9.-]+/g,""));R=V-U;break;case"sharesBought":R=A-M;break;case"purchasedOn":const Z=new Date(A).getTime(),ne=new Date(M).getTime();R=Z-ne;break;default:R=0}return c.direction==="descending"?-R:R}),[c,o]),y=Ke.useCallback((x,E)=>{const A=x[E];switch(E){case"actions":return H.jsx("a",{href:x.txnLink,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-white bg-black border-2 border-black rounded-full hover:bg-white hover:text-black",children:"View Txn"});case"purchasedOn":return new Date(A).toLocaleDateString();case"totalPaid":return`$ ${(parseFloat(x.ticketPrice.replace("$",""))*x.sharesBought).toFixed(2)}`;default:return A}},[]);return H.jsxs("div",{className:"w-full max-w-full px-4 mx-auto",children:[H.jsx("div",{className:"flex items-center justify-between mb-6",children:H.jsxs("div",{className:"flex flex-col items-start",children:[H.jsx("h2",{className:"text-2xl font-normal",children:"Transaction History"}),H.jsx("h1",{className:"text-5xl font-bold",children:"Your Investment Records"})]})}),H.jsxs("div",{className:"flex items-center justify-between gap-4 mt-8 mb-6",children:[H.jsxs("div",{className:"flex flex-row gap-x-4",children:[H.jsxs(Wl,{children:[H.jsx(Ul,{children:H.jsx(yl,{endContent:H.jsx(Kl,{}),variant:"flat",className:"h-12 text-md",children:"Property Type"})}),H.jsxs(Vl,{disallowEmptySelection:!0,selectedKeys:r,selectionMode:"multiple",onSelectionChange:n,closeOnSelect:!1,children:[H.jsx(ta,{children:"All Types"},"all"),aQe.map(x=>H.jsx(ta,{children:x.name},x.uid))]})]}),H.jsxs(Wl,{children:[H.jsx(Ul,{children:H.jsx(yl,{endContent:H.jsx(Kl,{}),variant:"flat",className:"h-12 text-md",children:"Location"})}),H.jsxs(Vl,{disallowEmptySelection:!0,selectedKeys:i,selectionMode:"multiple",onSelectionChange:s,closeOnSelect:!1,children:[H.jsx(ta,{children:"All Locations"},"all"),sQe.map(x=>H.jsx(ta,{children:x.name},x.uid))]})]})]}),H.jsx(x9,{className:"w-full max-w-lg text-xl",placeholder:"Search for a property by name, location, etc...",startContent:H.jsx(M9,{}),value:e,onValueChange:t,size:"lg"})]}),H.jsxs(E9,{"aria-label":"Transaction history table",sortDescriptor:c,onSortChange:p,children:[H.jsx(I9,{columns:oQe,children:x=>H.jsx(C9,{allowsSorting:!0,align:x.uid==="actions"?"center":"start",className:"text-black text-md",children:x.name},x.uid)}),H.jsx(T9,{items:g,className:"py-2",children:x=>H.jsx(A9,{className:"",children:E=>H.jsx(P9,{className:"py-3 text-md",children:y(x,E)})},x.id)})]})]})}var uQe=Array.isArray,Hl=uQe,cQe=typeof Er=="object"&&Er&&Er.Object===Object&&Er,l4e=cQe,dQe=l4e,fQe=typeof self=="object"&&self&&self.Object===Object&&self,pQe=dQe||fQe||Function("return this")(),Tf=pQe,hQe=Tf,mQe=hQe.Symbol,k9=mQe,Sie=k9,u4e=Object.prototype,gQe=u4e.hasOwnProperty,yQe=u4e.toString,k2=Sie?Sie.toStringTag:void 0;function vQe(e){var t=gQe.call(e,k2),r=e[k2];try{e[k2]=void 0;var n=!0}catch{}var i=yQe.call(e);return n&&(t?e[k2]=r:delete e[k2]),i}var _Qe=vQe,bQe=Object.prototype,xQe=bQe.toString;function wQe(e){return xQe.call(e)}var SQe=wQe,Eie=k9,EQe=_Qe,AQe=SQe,TQe="[object Null]",PQe="[object Undefined]",Aie=Eie?Eie.toStringTag:void 0;function CQe(e){return e==null?e===void 0?PQe:TQe:Aie&&Aie in Object(e)?EQe(e):AQe(e)}var Th=CQe;function IQe(e){return e!=null&&typeof e=="object"}var Ph=IQe,MQe=Th,kQe=Ph,OQe="[object Symbol]";function DQe(e){return typeof e=="symbol"||kQe(e)&&MQe(e)==OQe}var J4=DQe,RQe=Hl,$Qe=J4,LQe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,BQe=/^\w*$/;function zQe(e,t){if(RQe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||$Qe(e)?!0:BQe.test(e)||!LQe.test(e)||t!=null&&e in Object(t)}var GK=zQe;function NQe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var J1=NQe;const Q4=oi(J1);var FQe=Th,jQe=J1,VQe="[object AsyncFunction]",UQe="[object Function]",WQe="[object GeneratorFunction]",KQe="[object Proxy]";function HQe(e){if(!jQe(e))return!1;var t=FQe(e);return t==UQe||t==WQe||t==VQe||t==KQe}var qK=HQe;const hi=oi(qK);var GQe=Tf,qQe=GQe["__core-js_shared__"],ZQe=qQe,uL=ZQe,Tie=function(){var e=/[^.]+$/.exec(uL&&uL.keys&&uL.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function XQe(e){return!!Tie&&Tie in e}var YQe=XQe,JQe=Function.prototype,QQe=JQe.toString;function eet(e){if(e!=null){try{return QQe.call(e)}catch{}try{return e+""}catch{}}return""}var c4e=eet,tet=qK,ret=YQe,net=J1,iet=c4e,aet=/[\\^$.*+?()[\]{}|]/g,oet=/^\[object .+?Constructor\]$/,set=Function.prototype,uet=Object.prototype,cet=set.toString,det=uet.hasOwnProperty,fet=RegExp("^"+cet.call(det).replace(aet,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pet(e){if(!net(e)||ret(e))return!1;var t=tet(e)?fet:oet;return t.test(iet(e))}var het=pet;function met(e,t){return e==null?void 0:e[t]}var get=met,yet=het,vet=get;function _et(e,t){var r=vet(e,t);return yet(r)?r:void 0}var sv=_et,bet=sv,xet=bet(Object,"create"),nM=xet,Pie=nM;function wet(){this.__data__=Pie?Pie(null):{},this.size=0}var Eet=wet;function Aet(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Tet=Aet,Pet=nM,Cet="__lodash_hash_undefined__",Iet=Object.prototype,Met=Iet.hasOwnProperty;function ket(e){var t=this.__data__;if(Pet){var r=t[e];return r===Cet?void 0:r}return Met.call(t,e)?t[e]:void 0}var Oet=ket,Det=nM,Ret=Object.prototype,$et=Ret.hasOwnProperty;function Let(e){var t=this.__data__;return Det?t[e]!==void 0:$et.call(t,e)}var Bet=Let,zet=nM,Net="__lodash_hash_undefined__";function Fet(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=zet&&t===void 0?Net:t,this}var jet=Fet,Vet=Eet,Uet=Tet,Wet=Oet,Ket=Bet,Het=jet;function e3(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}e3.prototype.clear=Vet;e3.prototype.delete=Uet;e3.prototype.get=Wet;e3.prototype.has=Ket;e3.prototype.set=Het;var Get=e3;function qet(){this.__data__=[],this.size=0}var Zet=qet;function Xet(e,t){return e===t||e!==e&&t!==t}var ZK=Xet,Yet=ZK;function Jet(e,t){for(var r=e.length;r--;)if(Yet(e[r][0],t))return r;return-1}var iM=Jet,Qet=iM,ett=Array.prototype,ttt=ett.splice;function rtt(e){var t=this.__data__,r=Qet(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ttt.call(t,r,1),--this.size,!0}var ntt=rtt,itt=iM;function att(e){var t=this.__data__,r=itt(t,e);return r<0?void 0:t[r][1]}var ott=att,stt=iM;function ltt(e){return stt(this.__data__,e)>-1}var utt=ltt,ctt=iM;function dtt(e,t){var r=this.__data__,n=ctt(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var ftt=dtt,ptt=Zet,htt=ntt,mtt=ott,gtt=utt,ytt=ftt;function t3(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}t3.prototype.clear=ptt;t3.prototype.delete=htt;t3.prototype.get=mtt;t3.prototype.has=gtt;t3.prototype.set=ytt;var aM=t3,vtt=sv,_tt=Tf,btt=vtt(_tt,"Map"),XK=btt,Cie=Get,xtt=aM,wtt=XK;function Stt(){this.size=0,this.__data__={hash:new Cie,map:new(wtt||xtt),string:new Cie}}var Ett=Stt;function Att(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ttt=Att,Ptt=Ttt;function Ctt(e,t){var r=e.__data__;return Ptt(t)?r[typeof t=="string"?"string":"hash"]:r.map}var oM=Ctt,Itt=oM;function Mtt(e){var t=Itt(this,e).delete(e);return this.size-=t?1:0,t}var ktt=Mtt,Ott=oM;function Dtt(e){return Ott(this,e).get(e)}var Rtt=Dtt,$tt=oM;function Ltt(e){return $tt(this,e).has(e)}var Btt=Ltt,ztt=oM;function Ntt(e,t){var r=ztt(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Ftt=Ntt,jtt=Ett,Vtt=ktt,Utt=Rtt,Wtt=Btt,Ktt=Ftt;function r3(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}r3.prototype.clear=jtt;r3.prototype.delete=Vtt;r3.prototype.get=Utt;r3.prototype.has=Wtt;r3.prototype.set=Ktt;var YK=r3,d4e=YK,Htt="Expected a function";function JK(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Htt);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var c=e.apply(this,n);return r.cache=s.set(i,c)||s,c};return r.cache=new(JK.Cache||d4e),r}JK.Cache=d4e;var f4e=JK;const Gtt=oi(f4e);var qtt=f4e,Ztt=500;function Xtt(e){var t=qtt(e,function(n){return r.size===Ztt&&r.clear(),n}),r=t.cache;return t}var Ytt=Xtt,Jtt=Ytt,Qtt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ert=/\\(\\)?/g,trt=Jtt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Qtt,function(r,n,i,s){t.push(i?s.replace(ert,"$1"):n||r)}),t}),rrt=trt;function nrt(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var QK=nrt,Iie=k9,irt=QK,art=Hl,ort=J4,srt=1/0,Mie=Iie?Iie.prototype:void 0,kie=Mie?Mie.toString:void 0;function p4e(e){if(typeof e=="string")return e;if(art(e))return irt(e,p4e)+"";if(ort(e))return kie?kie.call(e):"";var t=e+"";return t=="0"&&1/e==-srt?"-0":t}var lrt=p4e,urt=lrt;function crt(e){return e==null?"":urt(e)}var h4e=crt,drt=Hl,frt=GK,prt=rrt,hrt=h4e;function mrt(e,t){return drt(e)?e:frt(e,t)?[e]:prt(hrt(e))}var m4e=mrt,grt=J4,yrt=1/0;function vrt(e){if(typeof e=="string"||grt(e))return e;var t=e+"";return t=="0"&&1/e==-yrt?"-0":t}var sM=vrt,_rt=m4e,brt=sM;function xrt(e,t){t=_rt(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[brt(t[r++])];return r&&r==n?e:void 0}var eH=xrt,wrt=eH;function Srt(e,t,r){var n=e==null?void 0:wrt(e,t);return n===void 0?r:n}var g4e=Srt;const pc=oi(g4e);function Ert(e){return e==null}var Art=Ert;const _i=oi(Art);var Trt=Th,Prt=Hl,Crt=Ph,Irt="[object String]";function Mrt(e){return typeof e=="string"||!Prt(e)&&Crt(e)&&Trt(e)==Irt}var krt=Mrt;const O9=oi(krt);var y4e={exports:{}},Yi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=typeof Symbol=="function"&&Symbol.for,tH=is?Symbol.for("react.element"):60103,rH=is?Symbol.for("react.portal"):60106,lM=is?Symbol.for("react.fragment"):60107,uM=is?Symbol.for("react.strict_mode"):60108,cM=is?Symbol.for("react.profiler"):60114,dM=is?Symbol.for("react.provider"):60109,fM=is?Symbol.for("react.context"):60110,nH=is?Symbol.for("react.async_mode"):60111,pM=is?Symbol.for("react.concurrent_mode"):60111,hM=is?Symbol.for("react.forward_ref"):60112,mM=is?Symbol.for("react.suspense"):60113,Ort=is?Symbol.for("react.suspense_list"):60120,gM=is?Symbol.for("react.memo"):60115,yM=is?Symbol.for("react.lazy"):60116,Drt=is?Symbol.for("react.block"):60121,Rrt=is?Symbol.for("react.fundamental"):60117,$rt=is?Symbol.for("react.responder"):60118,Lrt=is?Symbol.for("react.scope"):60119;function Cu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tH:switch(e=e.type,e){case nH:case pM:case lM:case cM:case uM:case mM:return e;default:switch(e=e&&e.$$typeof,e){case fM:case hM:case yM:case gM:case dM:return e;default:return t}}case rH:return t}}}function v4e(e){return Cu(e)===pM}Yi.AsyncMode=nH;Yi.ConcurrentMode=pM;Yi.ContextConsumer=fM;Yi.ContextProvider=dM;Yi.Element=tH;Yi.ForwardRef=hM;Yi.Fragment=lM;Yi.Lazy=yM;Yi.Memo=gM;Yi.Portal=rH;Yi.Profiler=cM;Yi.StrictMode=uM;Yi.Suspense=mM;Yi.isAsyncMode=function(e){return v4e(e)||Cu(e)===nH};Yi.isConcurrentMode=v4e;Yi.isContextConsumer=function(e){return Cu(e)===fM};Yi.isContextProvider=function(e){return Cu(e)===dM};Yi.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tH};Yi.isForwardRef=function(e){return Cu(e)===hM};Yi.isFragment=function(e){return Cu(e)===lM};Yi.isLazy=function(e){return Cu(e)===yM};Yi.isMemo=function(e){return Cu(e)===gM};Yi.isPortal=function(e){return Cu(e)===rH};Yi.isProfiler=function(e){return Cu(e)===cM};Yi.isStrictMode=function(e){return Cu(e)===uM};Yi.isSuspense=function(e){return Cu(e)===mM};Yi.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lM||e===pM||e===cM||e===uM||e===mM||e===Ort||typeof e=="object"&&e!==null&&(e.$$typeof===yM||e.$$typeof===gM||e.$$typeof===dM||e.$$typeof===fM||e.$$typeof===hM||e.$$typeof===Rrt||e.$$typeof===$rt||e.$$typeof===Lrt||e.$$typeof===Drt)};Yi.typeOf=Cu;y4e.exports=Yi;var uj=y4e.exports,Brt=Th,zrt=Ph,Nrt="[object Number]";function Frt(e){return typeof e=="number"||zrt(e)&&Brt(e)==Nrt}var _4e=Frt;const jrt=oi(_4e);var Vrt=_4e;function Urt(e){return Vrt(e)&&e!=+e}var Wrt=Urt;const D9=oi(Wrt);var cd=function(t){return t===0?0:t>0?1:-1},Gg=function(t){return O9(t)&&t.indexOf("%")===t.length-1},Lr=function(t){return jrt(t)&&!D9(t)},Bo=function(t){return Lr(t)||O9(t)},Krt=0,R9=function(t){var r=++Krt;return"".concat(t||"").concat(r)},Ry=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Lr(t)&&!O9(t))return n;var s;if(Gg(t)){var c=t.indexOf("%");s=r*parseFloat(t.slice(0,c))/100}else s=+t;return D9(s)&&(s=n),i&&s>r&&(s=r),s},Zm=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Hrt=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},sd=function(t,r){return Lr(t)&&Lr(r)?function(n){return t+n*(r-t)}:function(){return r}};function UP(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):pc(n,t))===r})}function lx(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function cj(e){"@babel/helpers - typeof";return cj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cj(e)}var Grt=["viewBox","children"],qrt=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Oie=["points","pathLength"],cL={svg:Grt,polygon:Oie,polyline:Oie},iH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],WP=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(se.isValidElement(t)&&(n=t.props),!Q4(n))return null;var i={};return Object.keys(n).forEach(function(s){iH.includes(s)&&(i[s]=r||function(c){return n[s](n,c)})}),i},Zrt=function(t,r,n){return function(i){return t(r,n,i),null}},KP=function(t,r,n){if(!Q4(t)||cj(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var c=t[s];iH.includes(s)&&typeof c=="function"&&(i||(i={}),i[s]=Zrt(c,r,n))}),i},Xrt=["children"],Yrt=["children"];function Die(e,t){if(e==null)return{};var r=Jrt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jrt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function dj(e){"@babel/helpers - typeof";return dj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dj(e)}var Rie={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Xp=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},$ie=null,dL=null,aH=function e(t){if(t===$ie&&Array.isArray(dL))return dL;var r=[];return se.Children.forEach(t,function(n){_i(n)||(uj.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),dL=r,$ie=t,r};function hc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Xp(i)}):n=[Xp(t)],aH(e).forEach(function(i){var s=pc(i,"type.displayName")||pc(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function su(e,t){var r=hc(e,t);return r&&r[0]}var Lie=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Lr(n)||n<=0||!Lr(i)||i<=0)},Qrt=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ent=function(t){return t&&t.type&&O9(t.type)&&Qrt.indexOf(t.type)>=0},tnt=function(t){return t&&dj(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},rnt=function(t,r,n,i){var s,c=(s=cL==null?void 0:cL[i])!==null&&s!==void 0?s:[];return!hi(t)&&(i&&c.includes(r)||qrt.includes(r))||n&&iH.includes(r)},Ei=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(se.isValidElement(t)&&(i=t.props),!Q4(i))return null;var s={};return Object.keys(i).forEach(function(c){var p;rnt((p=i)===null||p===void 0?void 0:p[c],c,r,n)&&(s[c]=i[c])}),s},fj=function e(t,r){if(t===r)return!0;var n=se.Children.count(t);if(n!==se.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Bie(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],c=r[i];if(Array.isArray(s)||Array.isArray(c)){if(!e(s,c))return!1}else if(!Bie(s,c))return!1}return!0},Bie=function(t,r){if(_i(t)&&_i(r))return!0;if(!_i(t)&&!_i(r)){var n=t.props||{},i=n.children,s=Die(n,Xrt),c=r.props||{},p=c.children,o=Die(c,Yrt);return i&&p?lx(s,o)&&fj(i,p):!i&&!p?lx(s,o):!1}return!1},zie=function(t,r){var n=[],i={};return aH(t).forEach(function(s,c){if(ent(s))n.push(s);else if(s){var p=Xp(s.type),o=r[p]||{},g=o.handler,y=o.once;if(g&&(!y||!i[p])){var x=g(s,p,c);n.push(x),i[p]=!0}}}),n},nnt=function(t){var r=t&&t.type;return r&&Rie[r]?Rie[r]:null},int=function(t,r){return aH(r).indexOf(t)},ant=["children","width","height","viewBox","className","style","title","desc"];function pj(){return pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pj.apply(this,arguments)}function ont(e,t){if(e==null)return{};var r=snt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function snt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function hj(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,c=e.style,p=e.title,o=e.desc,g=ont(e,ant),y=i||{width:r,height:n,x:0,y:0},x=bi("recharts-surface",s);return Ke.createElement("svg",pj({},Ei(g,!0,"svg"),{className:x,width:r,height:n,style:c,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height)}),Ke.createElement("title",null,p),Ke.createElement("desc",null,o),t)}var lnt=["children","className"];function mj(){return mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mj.apply(this,arguments)}function unt(e,t){if(e==null)return{};var r=cnt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cnt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var lo=Ke.forwardRef(function(e,t){var r=e.children,n=e.className,i=unt(e,lnt),s=bi("recharts-layer",n);return Ke.createElement("g",mj({className:s},Ei(i,!0),{ref:t}),r)}),Yp=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function dnt(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var fnt=dnt,pnt=fnt;function hnt(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:pnt(e,t,r)}var mnt=hnt,gnt="\\ud800-\\udfff",ynt="\\u0300-\\u036f",vnt="\\ufe20-\\ufe2f",_nt="\\u20d0-\\u20ff",bnt=ynt+vnt+_nt,xnt="\\ufe0e\\ufe0f",wnt="\\u200d",Snt=RegExp("["+wnt+gnt+bnt+xnt+"]");function Ent(e){return Snt.test(e)}var b4e=Ent;function Ant(e){return e.split("")}var Tnt=Ant,x4e="\\ud800-\\udfff",Pnt="\\u0300-\\u036f",Cnt="\\ufe20-\\ufe2f",Int="\\u20d0-\\u20ff",Mnt=Pnt+Cnt+Int,knt="\\ufe0e\\ufe0f",Ont="["+x4e+"]",gj="["+Mnt+"]",yj="\\ud83c[\\udffb-\\udfff]",Dnt="(?:"+gj+"|"+yj+")",w4e="[^"+x4e+"]",S4e="(?:\\ud83c[\\udde6-\\uddff]){2}",E4e="[\\ud800-\\udbff][\\udc00-\\udfff]",Rnt="\\u200d",A4e=Dnt+"?",T4e="["+knt+"]?",$nt="(?:"+Rnt+"(?:"+[w4e,S4e,E4e].join("|")+")"+T4e+A4e+")*",Lnt=T4e+A4e+$nt,Bnt="(?:"+[w4e+gj+"?",gj,S4e,E4e,Ont].join("|")+")",znt=RegExp(yj+"(?="+yj+")|"+Bnt+Lnt,"g");function Nnt(e){return e.match(znt)||[]}var Fnt=Nnt,jnt=Tnt,Vnt=b4e,Unt=Fnt;function Wnt(e){return Vnt(e)?Unt(e):jnt(e)}var Knt=Wnt,Hnt=mnt,Gnt=b4e,qnt=Knt,Znt=h4e;function Xnt(e){return function(t){t=Znt(t);var r=Gnt(t)?qnt(t):void 0,n=r?r[0]:t.charAt(0),i=r?Hnt(r,1).join(""):t.slice(1);return n[e]()+i}}var Ynt=Xnt,Jnt=Ynt,Qnt=Jnt("toUpperCase"),eit=Qnt;const vM=oi(eit);function pa(e){return function(){return e}}const P4e=Math.cos,HP=Math.sin,xd=Math.sqrt,GP=Math.PI,_M=2*GP,vj=Math.PI,_j=2*vj,Tg=1e-6,tit=_j-Tg;function C4e(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function rit(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return C4e;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class nit{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?C4e:rit(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,p=this._y1,o=n-t,g=i-r,y=c-t,x=p-r,E=y*y+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(E>Tg)if(!(Math.abs(x*o-g*y)>Tg)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let A=n-c,M=i-p,R=o*o+g*g,k=A*A+M*M,D=Math.sqrt(R),$=Math.sqrt(E),B=s*Math.tan((vj-Math.acos((R+E-k)/(2*D*$)))/2),V=B/$,U=B/D;Math.abs(V-1)>Tg&&this._append`L${t+V*y},${r+V*x}`,this._append`A${s},${s},0,0,${+(x*A>y*M)},${this._x1=t+U*o},${this._y1=r+U*g}`}}arc(t,r,n,i,s,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let p=n*Math.cos(i),o=n*Math.sin(i),g=t+p,y=r+o,x=1^c,E=c?i-s:s-i;this._x1===null?this._append`M${g},${y}`:(Math.abs(this._x1-g)>Tg||Math.abs(this._y1-y)>Tg)&&this._append`L${g},${y}`,n&&(E<0&&(E=E%_j+_j),E>tit?this._append`A${n},${n},0,1,${x},${t-p},${r-o}A${n},${n},0,1,${x},${this._x1=g},${this._y1=y}`:E>Tg&&this._append`A${n},${n},0,${+(E>=vj)},${x},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function oH(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new nit(t)}function sH(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function I4e(e){this._context=e}I4e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bM(e){return new I4e(e)}function M4e(e){return e[0]}function k4e(e){return e[1]}function O4e(e,t){var r=pa(!0),n=null,i=bM,s=null,c=oH(p);e=typeof e=="function"?e:e===void 0?M4e:pa(e),t=typeof t=="function"?t:t===void 0?k4e:pa(t);function p(o){var g,y=(o=sH(o)).length,x,E=!1,A;for(n==null&&(s=i(A=c())),g=0;g<=y;++g)!(g<y&&r(x=o[g],g,o))===E&&((E=!E)?s.lineStart():s.lineEnd()),E&&s.point(+e(x,g,o),+t(x,g,o));if(A)return s=null,A+""||null}return p.x=function(o){return arguments.length?(e=typeof o=="function"?o:pa(+o),p):e},p.y=function(o){return arguments.length?(t=typeof o=="function"?o:pa(+o),p):t},p.defined=function(o){return arguments.length?(r=typeof o=="function"?o:pa(!!o),p):r},p.curve=function(o){return arguments.length?(i=o,n!=null&&(s=i(n)),p):i},p.context=function(o){return arguments.length?(o==null?n=s=null:s=i(n=o),p):n},p}function cA(e,t,r){var n=null,i=pa(!0),s=null,c=bM,p=null,o=oH(g);e=typeof e=="function"?e:e===void 0?M4e:pa(+e),t=typeof t=="function"?t:pa(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?k4e:pa(+r);function g(x){var E,A,M,R=(x=sH(x)).length,k,D=!1,$,B=new Array(R),V=new Array(R);for(s==null&&(p=c($=o())),E=0;E<=R;++E){if(!(E<R&&i(k=x[E],E,x))===D)if(D=!D)A=E,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),M=E-1;M>=A;--M)p.point(B[M],V[M]);p.lineEnd(),p.areaEnd()}D&&(B[E]=+e(k,E,x),V[E]=+t(k,E,x),p.point(n?+n(k,E,x):B[E],r?+r(k,E,x):V[E]))}if($)return p=null,$+""||null}function y(){return O4e().defined(i).curve(c).context(s)}return g.x=function(x){return arguments.length?(e=typeof x=="function"?x:pa(+x),n=null,g):e},g.x0=function(x){return arguments.length?(e=typeof x=="function"?x:pa(+x),g):e},g.x1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:pa(+x),g):n},g.y=function(x){return arguments.length?(t=typeof x=="function"?x:pa(+x),r=null,g):t},g.y0=function(x){return arguments.length?(t=typeof x=="function"?x:pa(+x),g):t},g.y1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:pa(+x),g):r},g.lineX0=g.lineY0=function(){return y().x(e).y(t)},g.lineY1=function(){return y().x(e).y(r)},g.lineX1=function(){return y().x(n).y(t)},g.defined=function(x){return arguments.length?(i=typeof x=="function"?x:pa(!!x),g):i},g.curve=function(x){return arguments.length?(c=x,s!=null&&(p=c(s)),g):c},g.context=function(x){return arguments.length?(x==null?s=p=null:p=c(s=x),g):s},g}class D4e{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function iit(e){return new D4e(e,!0)}function ait(e){return new D4e(e,!1)}const lH={draw(e,t){const r=xd(t/GP);e.moveTo(r,0),e.arc(0,0,r,0,_M)}},oit={draw(e,t){const r=xd(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},R4e=xd(1/3),sit=R4e*2,lit={draw(e,t){const r=xd(t/sit),n=r*R4e;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},uit={draw(e,t){const r=xd(t),n=-r/2;e.rect(n,n,r,r)}},cit=.8908130915292852,$4e=HP(GP/10)/HP(7*GP/10),dit=HP(_M/10)*$4e,fit=-P4e(_M/10)*$4e,pit={draw(e,t){const r=xd(t*cit),n=dit*r,i=fit*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const c=_M*s/5,p=P4e(c),o=HP(c);e.lineTo(o*r,-p*r),e.lineTo(p*n-o*i,o*n+p*i)}e.closePath()}},fL=xd(3),hit={draw(e,t){const r=-xd(t/(fL*3));e.moveTo(0,r*2),e.lineTo(-fL*r,-r),e.lineTo(fL*r,-r),e.closePath()}},Hu=-.5,Gu=xd(3)/2,bj=1/xd(12),mit=(bj/2+1)*3,git={draw(e,t){const r=xd(t/mit),n=r/2,i=r*bj,s=n,c=r*bj+r,p=-s,o=c;e.moveTo(n,i),e.lineTo(s,c),e.lineTo(p,o),e.lineTo(Hu*n-Gu*i,Gu*n+Hu*i),e.lineTo(Hu*s-Gu*c,Gu*s+Hu*c),e.lineTo(Hu*p-Gu*o,Gu*p+Hu*o),e.lineTo(Hu*n+Gu*i,Hu*i-Gu*n),e.lineTo(Hu*s+Gu*c,Hu*c-Gu*s),e.lineTo(Hu*p+Gu*o,Hu*o-Gu*p),e.closePath()}};function yit(e,t){let r=null,n=oH(i);e=typeof e=="function"?e:pa(e||lH),t=typeof t=="function"?t:pa(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:pa(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:pa(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function qP(){}function ZP(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function L4e(e){this._context=e}L4e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ZP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ZP(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vit(e){return new L4e(e)}function B4e(e){this._context=e}B4e.prototype={areaStart:qP,areaEnd:qP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ZP(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _it(e){return new B4e(e)}function z4e(e){this._context=e}z4e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ZP(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bit(e){return new z4e(e)}function N4e(e){this._context=e}N4e.prototype={areaStart:qP,areaEnd:qP,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function xit(e){return new N4e(e)}function Nie(e){return e<0?-1:1}function Fie(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),p=(s*i+c*n)/(n+i);return(Nie(s)+Nie(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(p))||0}function jie(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function pL(e,t,r){var n=e._x0,i=e._y0,s=e._x1,c=e._y1,p=(s-n)/3;e._context.bezierCurveTo(n+p,i+p*t,s-p,c-p*r,s,c)}function XP(e){this._context=e}XP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pL(this,this._t0,jie(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pL(this,jie(this,r=Fie(this,e,t)),r);break;default:pL(this,this._t0,r=Fie(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function F4e(e){this._context=new j4e(e)}(F4e.prototype=Object.create(XP.prototype)).point=function(e,t){XP.prototype.point.call(this,t,e)};function j4e(e){this._context=e}j4e.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function wit(e){return new XP(e)}function Sit(e){return new F4e(e)}function V4e(e){this._context=e}V4e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Vie(e),i=Vie(t),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Vie(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),c=new Array(r);for(i[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function Eit(e){return new V4e(e)}function xM(e,t){this._context=e,this._t=t}xM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Ait(e){return new xM(e,.5)}function Tit(e){return new xM(e,0)}function Pit(e){return new xM(e,1)}function Fx(e,t){if((c=e.length)>1)for(var r=1,n,i,s=e[t[0]],c,p=s.length;r<c;++r)for(i=s,s=e[t[r]],n=0;n<p;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function xj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Cit(e,t){return e[t]}function Iit(e){const t=[];return t.key=e,t}function Mit(){var e=pa([]),t=xj,r=Fx,n=Cit;function i(s){var c=Array.from(e.apply(this,arguments),Iit),p,o=c.length,g=-1,y;for(const x of s)for(p=0,++g;p<o;++p)(c[p][g]=[0,+n(x,c[p].key,g,s)]).data=x;for(p=0,y=sH(t(c));p<o;++p)c[y[p]].index=p;return r(c,y),c}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:pa(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:pa(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?xj:typeof s=="function"?s:pa(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Fx,i):r},i}function kit(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,c;i<s;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}Fx(e,t)}}function Oit(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var c=0,p=0;c<i;++c)p+=e[c][r][1]||0;n[r][1]+=n[r][0]=-p/2}Fx(e,t)}}function Dit(e,t){if(!(!((c=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,c;n<s;++n){for(var p=0,o=0,g=0;p<c;++p){for(var y=e[t[p]],x=y[n][1]||0,E=y[n-1][1]||0,A=(x-E)/2,M=0;M<p;++M){var R=e[t[M]],k=R[n][1]||0,D=R[n-1][1]||0;A+=k-D}o+=x,g+=A*x}i[n-1][1]+=i[n-1][0]=r,o&&(r-=g/o)}i[n-1][1]+=i[n-1][0]=r,Fx(e,t)}}function q5(e){"@babel/helpers - typeof";return q5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q5(e)}var Rit=["type","size","sizeType"];function wj(){return wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wj.apply(this,arguments)}function Uie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uie(Object(r),!0).forEach(function(n){$it(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uie(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $it(e,t,r){return t=Lit(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lit(e){var t=Bit(e,"string");return q5(t)=="symbol"?t:String(t)}function Bit(e,t){if(q5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(q5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zit(e,t){if(e==null)return{};var r=Nit(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nit(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var U4e={symbolCircle:lH,symbolCross:oit,symbolDiamond:lit,symbolSquare:uit,symbolStar:pit,symbolTriangle:hit,symbolWye:git},Fit=Math.PI/180,jit=function(t){var r="symbol".concat(vM(t));return U4e[r]||lH},Vit=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Fit;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Uit=function(t,r){U4e["symbol".concat(vM(t))]=r},uH=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,c=t.sizeType,p=c===void 0?"area":c,o=zit(t,Rit),g=Wie(Wie({},o),{},{type:n,size:s,sizeType:p}),y=function(){var k=jit(n),D=yit().type(k).size(Vit(s,p,n));return D()},x=g.className,E=g.cx,A=g.cy,M=Ei(g,!0);return E===+E&&A===+A&&s===+s?Ke.createElement("path",wj({},M,{className:bi("recharts-symbols",x),transform:"translate(".concat(E,", ").concat(A,")"),d:y()})):null};uH.registerSymbol=Uit;function jx(e){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(e)}function Sj(){return Sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sj.apply(this,arguments)}function Kie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wit(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kie(Object(r),!0).forEach(function(n){Z5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kie(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kit(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hit(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K4e(n.key),n)}}function Git(e,t,r){return t&&Hit(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qit(e,t,r){return t=YP(t),Zit(e,W4e()?Reflect.construct(t,r||[],YP(e).constructor):t.apply(e,r))}function Zit(e,t){if(t&&(jx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xit(e)}function Xit(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W4e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W4e=function(){return!!e})()}function YP(e){return YP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},YP(e)}function Yit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ej(e,t)}function Ej(e,t){return Ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ej(e,t)}function Z5(e,t,r){return t=K4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K4e(e){var t=Jit(e,"string");return jx(t)=="symbol"?t:String(t)}function Jit(e,t){if(jx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qu=32,cH=function(e){Yit(t,e);function t(){return Kit(this,t),qit(this,t,arguments)}return Git(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=qu/2,c=qu/6,p=qu/3,o=n.inactive?i:n.color;if(n.type==="plainline")return Ke.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:qu,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return Ke.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(s,"h").concat(p,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*p,",").concat(s,`
            H`).concat(qu,"M").concat(2*p,",").concat(s,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(p,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return Ke.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(qu/8,"h").concat(qu,"v").concat(qu*3/4,"h").concat(-qu,"z"),className:"recharts-legend-icon"});if(Ke.isValidElement(n.legendIcon)){var g=Wit({},n);return delete g.legendIcon,Ke.cloneElement(n.legendIcon,g)}return Ke.createElement(uH,{fill:o,cx:s,cy:s,size:qu,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,c=i.iconSize,p=i.layout,o=i.formatter,g=i.inactiveColor,y={x:0,y:0,width:qu,height:qu},x={display:p==="horizontal"?"inline-block":"block",marginRight:10},E={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(A,M){var R=A.formatter||o,k=bi(Z5(Z5({"recharts-legend-item":!0},"legend-item-".concat(M),!0),"inactive",A.inactive));if(A.type==="none")return null;var D=hi(A.value)?null:A.value;Yp(!hi(A.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var $=A.inactive?g:A.color;return Ke.createElement("li",Sj({className:k,style:x,key:"legend-item-".concat(M)},KP(n.props,A,M)),Ke.createElement(hj,{width:c,height:c,viewBox:y,style:E},n.renderIcon(A)),Ke.createElement("span",{className:"recharts-legend-item-text",style:{color:$}},R?R(D,A,M):D))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,c=n.align;if(!i||!i.length)return null;var p={padding:0,margin:0,textAlign:s==="horizontal"?c:"left"};return Ke.createElement("ul",{className:"recharts-default-legend",style:p},this.renderItems())}}]),t}(se.PureComponent);Z5(cH,"displayName","Legend");Z5(cH,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Qit=aM;function eat(){this.__data__=new Qit,this.size=0}var tat=eat;function rat(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var nat=rat;function iat(e){return this.__data__.get(e)}var aat=iat;function oat(e){return this.__data__.has(e)}var sat=oat,lat=aM,uat=XK,cat=YK,dat=200;function fat(e,t){var r=this.__data__;if(r instanceof lat){var n=r.__data__;if(!uat||n.length<dat-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new cat(n)}return r.set(e,t),this.size=r.size,this}var pat=fat,hat=aM,mat=tat,gat=nat,yat=aat,vat=sat,_at=pat;function n3(e){var t=this.__data__=new hat(e);this.size=t.size}n3.prototype.clear=mat;n3.prototype.delete=gat;n3.prototype.get=yat;n3.prototype.has=vat;n3.prototype.set=_at;var H4e=n3,bat="__lodash_hash_undefined__";function xat(e){return this.__data__.set(e,bat),this}var wat=xat;function Sat(e){return this.__data__.has(e)}var Eat=Sat,Aat=YK,Tat=wat,Pat=Eat;function JP(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Aat;++t<r;)this.add(e[t])}JP.prototype.add=JP.prototype.push=Tat;JP.prototype.has=Pat;var G4e=JP;function Cat(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var q4e=Cat;function Iat(e,t){return e.has(t)}var Z4e=Iat,Mat=G4e,kat=q4e,Oat=Z4e,Dat=1,Rat=2;function $at(e,t,r,n,i,s){var c=r&Dat,p=e.length,o=t.length;if(p!=o&&!(c&&o>p))return!1;var g=s.get(e),y=s.get(t);if(g&&y)return g==t&&y==e;var x=-1,E=!0,A=r&Rat?new Mat:void 0;for(s.set(e,t),s.set(t,e);++x<p;){var M=e[x],R=t[x];if(n)var k=c?n(R,M,x,t,e,s):n(M,R,x,e,t,s);if(k!==void 0){if(k)continue;E=!1;break}if(A){if(!kat(t,function(D,$){if(!Oat(A,$)&&(M===D||i(M,D,r,n,s)))return A.push($)})){E=!1;break}}else if(!(M===R||i(M,R,r,n,s))){E=!1;break}}return s.delete(e),s.delete(t),E}var X4e=$at,Lat=Tf,Bat=Lat.Uint8Array,zat=Bat;function Nat(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var Fat=Nat;function jat(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var dH=jat,Hie=k9,Gie=zat,Vat=ZK,Uat=X4e,Wat=Fat,Kat=dH,Hat=1,Gat=2,qat="[object Boolean]",Zat="[object Date]",Xat="[object Error]",Yat="[object Map]",Jat="[object Number]",Qat="[object RegExp]",eot="[object Set]",tot="[object String]",rot="[object Symbol]",not="[object ArrayBuffer]",iot="[object DataView]",qie=Hie?Hie.prototype:void 0,hL=qie?qie.valueOf:void 0;function aot(e,t,r,n,i,s,c){switch(r){case iot:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case not:return!(e.byteLength!=t.byteLength||!s(new Gie(e),new Gie(t)));case qat:case Zat:case Jat:return Vat(+e,+t);case Xat:return e.name==t.name&&e.message==t.message;case Qat:case tot:return e==t+"";case Yat:var p=Wat;case eot:var o=n&Hat;if(p||(p=Kat),e.size!=t.size&&!o)return!1;var g=c.get(e);if(g)return g==t;n|=Gat,c.set(e,t);var y=Uat(p(e),p(t),n,i,s,c);return c.delete(e),y;case rot:if(hL)return hL.call(e)==hL.call(t)}return!1}var oot=aot;function sot(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Y4e=sot,lot=Y4e,uot=Hl;function cot(e,t,r){var n=t(e);return uot(e)?n:lot(n,r(e))}var dot=cot;function fot(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var c=e[r];t(c,r,e)&&(s[i++]=c)}return s}var pot=fot;function hot(){return[]}var mot=hot,got=pot,yot=mot,vot=Object.prototype,_ot=vot.propertyIsEnumerable,Zie=Object.getOwnPropertySymbols,bot=Zie?function(e){return e==null?[]:(e=Object(e),got(Zie(e),function(t){return _ot.call(e,t)}))}:yot,xot=bot;function wot(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Sot=wot,Eot=Th,Aot=Ph,Tot="[object Arguments]";function Pot(e){return Aot(e)&&Eot(e)==Tot}var Cot=Pot,Xie=Cot,Iot=Ph,J4e=Object.prototype,Mot=J4e.hasOwnProperty,kot=J4e.propertyIsEnumerable,Oot=Xie(function(){return arguments}())?Xie:function(e){return Iot(e)&&Mot.call(e,"callee")&&!kot.call(e,"callee")},fH=Oot,QP={exports:{}};function Dot(){return!1}var Rot=Dot;QP.exports;(function(e,t){var r=Tf,n=Rot,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,c=s&&s.exports===i,p=c?r.Buffer:void 0,o=p?p.isBuffer:void 0,g=o||n;e.exports=g})(QP,QP.exports);var Q4e=QP.exports,$ot=9007199254740991,Lot=/^(?:0|[1-9]\d*)$/;function Bot(e,t){var r=typeof e;return t=t??$ot,!!t&&(r=="number"||r!="symbol"&&Lot.test(e))&&e>-1&&e%1==0&&e<t}var pH=Bot,zot=9007199254740991;function Not(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=zot}var hH=Not,Fot=Th,jot=hH,Vot=Ph,Uot="[object Arguments]",Wot="[object Array]",Kot="[object Boolean]",Hot="[object Date]",Got="[object Error]",qot="[object Function]",Zot="[object Map]",Xot="[object Number]",Yot="[object Object]",Jot="[object RegExp]",Qot="[object Set]",est="[object String]",tst="[object WeakMap]",rst="[object ArrayBuffer]",nst="[object DataView]",ist="[object Float32Array]",ast="[object Float64Array]",ost="[object Int8Array]",sst="[object Int16Array]",lst="[object Int32Array]",ust="[object Uint8Array]",cst="[object Uint8ClampedArray]",dst="[object Uint16Array]",fst="[object Uint32Array]",xa={};xa[ist]=xa[ast]=xa[ost]=xa[sst]=xa[lst]=xa[ust]=xa[cst]=xa[dst]=xa[fst]=!0;xa[Uot]=xa[Wot]=xa[rst]=xa[Kot]=xa[nst]=xa[Hot]=xa[Got]=xa[qot]=xa[Zot]=xa[Xot]=xa[Yot]=xa[Jot]=xa[Qot]=xa[est]=xa[tst]=!1;function pst(e){return Vot(e)&&jot(e.length)&&!!xa[Fot(e)]}var hst=pst;function mst(e){return function(t){return e(t)}}var e3e=mst,eC={exports:{}};eC.exports;(function(e,t){var r=l4e,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,c=s&&r.process,p=function(){try{var o=i&&i.require&&i.require("util").types;return o||c&&c.binding&&c.binding("util")}catch{}}();e.exports=p})(eC,eC.exports);var gst=eC.exports,yst=hst,vst=e3e,Yie=gst,Jie=Yie&&Yie.isTypedArray,_st=Jie?vst(Jie):yst,t3e=_st,bst=Sot,xst=fH,wst=Hl,Sst=Q4e,Est=pH,Ast=t3e,Tst=Object.prototype,Pst=Tst.hasOwnProperty;function Cst(e,t){var r=wst(e),n=!r&&xst(e),i=!r&&!n&&Sst(e),s=!r&&!n&&!i&&Ast(e),c=r||n||i||s,p=c?bst(e.length,String):[],o=p.length;for(var g in e)(t||Pst.call(e,g))&&!(c&&(g=="length"||i&&(g=="offset"||g=="parent")||s&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||Est(g,o)))&&p.push(g);return p}var Ist=Cst,Mst=Object.prototype;function kst(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Mst;return e===r}var Ost=kst;function Dst(e,t){return function(r){return e(t(r))}}var r3e=Dst,Rst=r3e,$st=Rst(Object.keys,Object),Lst=$st,Bst=Ost,zst=Lst,Nst=Object.prototype,Fst=Nst.hasOwnProperty;function jst(e){if(!Bst(e))return zst(e);var t=[];for(var r in Object(e))Fst.call(e,r)&&r!="constructor"&&t.push(r);return t}var Vst=jst,Ust=qK,Wst=hH;function Kst(e){return e!=null&&Wst(e.length)&&!Ust(e)}var $9=Kst,Hst=Ist,Gst=Vst,qst=$9;function Zst(e){return qst(e)?Hst(e):Gst(e)}var wM=Zst,Xst=dot,Yst=xot,Jst=wM;function Qst(e){return Xst(e,Jst,Yst)}var elt=Qst,Qie=elt,tlt=1,rlt=Object.prototype,nlt=rlt.hasOwnProperty;function ilt(e,t,r,n,i,s){var c=r&tlt,p=Qie(e),o=p.length,g=Qie(t),y=g.length;if(o!=y&&!c)return!1;for(var x=o;x--;){var E=p[x];if(!(c?E in t:nlt.call(t,E)))return!1}var A=s.get(e),M=s.get(t);if(A&&M)return A==t&&M==e;var R=!0;s.set(e,t),s.set(t,e);for(var k=c;++x<o;){E=p[x];var D=e[E],$=t[E];if(n)var B=c?n($,D,E,t,e,s):n(D,$,E,e,t,s);if(!(B===void 0?D===$||i(D,$,r,n,s):B)){R=!1;break}k||(k=E=="constructor")}if(R&&!k){var V=e.constructor,U=t.constructor;V!=U&&"constructor"in e&&"constructor"in t&&!(typeof V=="function"&&V instanceof V&&typeof U=="function"&&U instanceof U)&&(R=!1)}return s.delete(e),s.delete(t),R}var alt=ilt,olt=sv,slt=Tf,llt=olt(slt,"DataView"),ult=llt,clt=sv,dlt=Tf,flt=clt(dlt,"Promise"),plt=flt,hlt=sv,mlt=Tf,glt=hlt(mlt,"Set"),n3e=glt,ylt=sv,vlt=Tf,_lt=ylt(vlt,"WeakMap"),blt=_lt,Aj=ult,Tj=XK,Pj=plt,Cj=n3e,Ij=blt,i3e=Th,i3=c4e,eae="[object Map]",xlt="[object Object]",tae="[object Promise]",rae="[object Set]",nae="[object WeakMap]",iae="[object DataView]",wlt=i3(Aj),Slt=i3(Tj),Elt=i3(Pj),Alt=i3(Cj),Tlt=i3(Ij),Pg=i3e;(Aj&&Pg(new Aj(new ArrayBuffer(1)))!=iae||Tj&&Pg(new Tj)!=eae||Pj&&Pg(Pj.resolve())!=tae||Cj&&Pg(new Cj)!=rae||Ij&&Pg(new Ij)!=nae)&&(Pg=function(e){var t=i3e(e),r=t==xlt?e.constructor:void 0,n=r?i3(r):"";if(n)switch(n){case wlt:return iae;case Slt:return eae;case Elt:return tae;case Alt:return rae;case Tlt:return nae}return t});var Plt=Pg,mL=H4e,Clt=X4e,Ilt=oot,Mlt=alt,aae=Plt,oae=Hl,sae=Q4e,klt=t3e,Olt=1,lae="[object Arguments]",uae="[object Array]",dA="[object Object]",Dlt=Object.prototype,cae=Dlt.hasOwnProperty;function Rlt(e,t,r,n,i,s){var c=oae(e),p=oae(t),o=c?uae:aae(e),g=p?uae:aae(t);o=o==lae?dA:o,g=g==lae?dA:g;var y=o==dA,x=g==dA,E=o==g;if(E&&sae(e)){if(!sae(t))return!1;c=!0,y=!1}if(E&&!y)return s||(s=new mL),c||klt(e)?Clt(e,t,r,n,i,s):Ilt(e,t,o,r,n,i,s);if(!(r&Olt)){var A=y&&cae.call(e,"__wrapped__"),M=x&&cae.call(t,"__wrapped__");if(A||M){var R=A?e.value():e,k=M?t.value():t;return s||(s=new mL),i(R,k,r,n,s)}}return E?(s||(s=new mL),Mlt(e,t,r,n,i,s)):!1}var $lt=Rlt,Llt=$lt,dae=Ph;function a3e(e,t,r,n,i){return e===t?!0:e==null||t==null||!dae(e)&&!dae(t)?e!==e&&t!==t:Llt(e,t,r,n,a3e,i)}var mH=a3e,Blt=H4e,zlt=mH,Nlt=1,Flt=2;function jlt(e,t,r,n){var i=r.length,s=i,c=!n;if(e==null)return!s;for(e=Object(e);i--;){var p=r[i];if(c&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++i<s;){p=r[i];var o=p[0],g=e[o],y=p[1];if(c&&p[2]){if(g===void 0&&!(o in e))return!1}else{var x=new Blt;if(n)var E=n(g,y,o,e,t,x);if(!(E===void 0?zlt(y,g,Nlt|Flt,n,x):E))return!1}}return!0}var Vlt=jlt,Ult=J1;function Wlt(e){return e===e&&!Ult(e)}var o3e=Wlt,Klt=o3e,Hlt=wM;function Glt(e){for(var t=Hlt(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Klt(i)]}return t}var qlt=Glt;function Zlt(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var s3e=Zlt,Xlt=Vlt,Ylt=qlt,Jlt=s3e;function Qlt(e){var t=Ylt(e);return t.length==1&&t[0][2]?Jlt(t[0][0],t[0][1]):function(r){return r===e||Xlt(r,e,t)}}var eut=Qlt;function tut(e,t){return e!=null&&t in Object(e)}var rut=tut,nut=m4e,iut=fH,aut=Hl,out=pH,sut=hH,lut=sM;function uut(e,t,r){t=nut(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var c=lut(t[n]);if(!(s=e!=null&&r(e,c)))break;e=e[c]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&sut(i)&&out(c,i)&&(aut(e)||iut(e)))}var cut=uut,dut=rut,fut=cut;function put(e,t){return e!=null&&fut(e,t,dut)}var hut=put,mut=mH,gut=g4e,yut=hut,vut=GK,_ut=o3e,but=s3e,xut=sM,wut=1,Sut=2;function Eut(e,t){return vut(e)&&_ut(t)?but(xut(e),t):function(r){var n=gut(r,e);return n===void 0&&n===t?yut(r,e):mut(t,n,wut|Sut)}}var Aut=Eut;function Tut(e){return e}var a3=Tut;function Put(e){return function(t){return t==null?void 0:t[e]}}var Cut=Put,Iut=eH;function Mut(e){return function(t){return Iut(t,e)}}var kut=Mut,Out=Cut,Dut=kut,Rut=GK,$ut=sM;function Lut(e){return Rut(e)?Out($ut(e)):Dut(e)}var But=Lut,zut=eut,Nut=Aut,Fut=a3,jut=Hl,Vut=But;function Uut(e){return typeof e=="function"?e:e==null?Fut:typeof e=="object"?jut(e)?Nut(e[0],e[1]):zut(e):Vut(e)}var Q1=Uut;function Wut(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var l3e=Wut;function Kut(e){return e!==e}var Hut=Kut;function Gut(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var qut=Gut,Zut=l3e,Xut=Hut,Yut=qut;function Jut(e,t,r){return t===t?Yut(e,t,r):Zut(e,Xut,r)}var Qut=Jut,ect=Qut;function tct(e,t){var r=e==null?0:e.length;return!!r&&ect(e,t,0)>-1}var rct=tct;function nct(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var ict=nct;function act(){}var oct=act,gL=n3e,sct=oct,lct=dH,uct=1/0,cct=gL&&1/lct(new gL([,-0]))[1]==uct?function(e){return new gL(e)}:sct,dct=cct,fct=G4e,pct=rct,hct=ict,mct=Z4e,gct=dct,yct=dH,vct=200;function _ct(e,t,r){var n=-1,i=pct,s=e.length,c=!0,p=[],o=p;if(r)c=!1,i=hct;else if(s>=vct){var g=t?null:gct(e);if(g)return yct(g);c=!1,i=mct,o=new fct}else o=t?[]:p;e:for(;++n<s;){var y=e[n],x=t?t(y):y;if(y=r||y!==0?y:0,c&&x===x){for(var E=o.length;E--;)if(o[E]===x)continue e;t&&o.push(x),p.push(y)}else i(o,x,r)||(o!==p&&o.push(x),p.push(y))}return p}var bct=_ct,xct=Q1,wct=bct;function Sct(e,t){return e&&e.length?wct(e,xct(t)):[]}var Ect=Sct;const fae=oi(Ect);function u3e(e,t,r){return t===!0?fae(e,r):hi(t)?fae(e,t):e}function Vx(e){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vx(e)}var Act=["ref"];function pae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pae(Object(r),!0).forEach(function(n){SM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pae(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f3e(n.key),n)}}function Pct(e,t,r){return t&&hae(e.prototype,t),r&&hae(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cct(e,t,r){return t=tC(t),Ict(e,c3e()?Reflect.construct(t,r||[],tC(e).constructor):t.apply(e,r))}function Ict(e,t){if(t&&(Vx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d3e(e)}function c3e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c3e=function(){return!!e})()}function tC(e){return tC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tC(e)}function d3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mj(e,t)}function Mj(e,t){return Mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mj(e,t)}function SM(e,t,r){return t=f3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f3e(e){var t=kct(e,"string");return Vx(t)=="symbol"?t:String(t)}function kct(e,t){if(Vx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oct(e,t){if(e==null)return{};var r=Dct(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dct(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Rct(e){return e.value}function $ct(e,t){if(Ke.isValidElement(e))return Ke.cloneElement(e,t);if(typeof e=="function")return Ke.createElement(e,t);t.ref;var r=Oct(t,Act);return Ke.createElement(cH,r)}var mae=1,X5=function(e){Mct(t,e);function t(){var r;Tct(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Cct(this,t,[].concat(i)),SM(d3e(r),"lastBoundingBox",{width:-1,height:-1}),r}return Pct(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>mae||Math.abs(i.height-this.lastBoundingBox.height)>mae)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?hg({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,c=i.align,p=i.verticalAlign,o=i.margin,g=i.chartWidth,y=i.chartHeight,x,E;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(c==="center"&&s==="vertical"){var A=this.getBBoxSnapshot();x={left:((g||0)-A.width)/2}}else x=c==="right"?{right:o&&o.right||0}:{left:o&&o.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(p==="middle"){var M=this.getBBoxSnapshot();E={top:((y||0)-M.height)/2}}else E=p==="bottom"?{bottom:o&&o.bottom||0}:{top:o&&o.top||0};return hg(hg({},x),E)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,c=i.width,p=i.height,o=i.wrapperStyle,g=i.payloadUniqBy,y=i.payload,x=hg(hg({position:"absolute",width:c||"auto",height:p||"auto"},this.getDefaultPosition(o)),o);return Ke.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:function(A){n.wrapperNode=A}},$ct(s,hg(hg({},this.props),{},{payload:u3e(y,g,Rct)})))}}],[{key:"getWithHeight",value:function(n,i){var s=n.props.layout;return s==="vertical"&&Lr(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}]),t}(se.PureComponent);SM(X5,"displayName","Legend");SM(X5,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gae=k9,Lct=fH,Bct=Hl,yae=gae?gae.isConcatSpreadable:void 0;function zct(e){return Bct(e)||Lct(e)||!!(yae&&e&&e[yae])}var Nct=zct,Fct=Y4e,jct=Nct;function p3e(e,t,r,n,i){var s=-1,c=e.length;for(r||(r=jct),i||(i=[]);++s<c;){var p=e[s];t>0&&r(p)?t>1?p3e(p,t-1,r,n,i):Fct(i,p):n||(i[i.length]=p)}return i}var h3e=p3e;function Vct(e){return function(t,r,n){for(var i=-1,s=Object(t),c=n(t),p=c.length;p--;){var o=c[e?p:++i];if(r(s[o],o,s)===!1)break}return t}}var Uct=Vct,Wct=Uct,Kct=Wct(),Hct=Kct,Gct=Hct,qct=wM;function Zct(e,t){return e&&Gct(e,t,qct)}var m3e=Zct,Xct=$9;function Yct(e,t){return function(r,n){if(r==null)return r;if(!Xct(r))return e(r,n);for(var i=r.length,s=t?i:-1,c=Object(r);(t?s--:++s<i)&&n(c[s],s,c)!==!1;);return r}}var Jct=Yct,Qct=m3e,edt=Jct,tdt=edt(Qct),gH=tdt,rdt=gH,ndt=$9;function idt(e,t){var r=-1,n=ndt(e)?Array(e.length):[];return rdt(e,function(i,s,c){n[++r]=t(i,s,c)}),n}var g3e=idt;function adt(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var odt=adt,vae=J4;function sdt(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=vae(e),c=t!==void 0,p=t===null,o=t===t,g=vae(t);if(!p&&!g&&!s&&e>t||s&&c&&o&&!p&&!g||n&&c&&o||!r&&o||!i)return 1;if(!n&&!s&&!g&&e<t||g&&r&&i&&!n&&!s||p&&r&&i||!c&&i||!o)return-1}return 0}var ldt=sdt,udt=ldt;function cdt(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,c=i.length,p=r.length;++n<c;){var o=udt(i[n],s[n]);if(o){if(n>=p)return o;var g=r[n];return o*(g=="desc"?-1:1)}}return e.index-t.index}var ddt=cdt,yL=QK,fdt=eH,pdt=Q1,hdt=g3e,mdt=odt,gdt=e3e,ydt=ddt,vdt=a3,_dt=Hl;function bdt(e,t,r){t.length?t=yL(t,function(s){return _dt(s)?function(c){return fdt(c,s.length===1?s[0]:s)}:s}):t=[vdt];var n=-1;t=yL(t,gdt(pdt));var i=hdt(e,function(s,c,p){var o=yL(t,function(g){return g(s)});return{criteria:o,index:++n,value:s}});return mdt(i,function(s,c){return ydt(s,c,r)})}var xdt=bdt;function wdt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Sdt=wdt,Edt=Sdt,_ae=Math.max;function Adt(e,t,r){return t=_ae(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=_ae(n.length-t,0),c=Array(s);++i<s;)c[i]=n[t+i];i=-1;for(var p=Array(t+1);++i<t;)p[i]=n[i];return p[t]=r(c),Edt(e,this,p)}}var Tdt=Adt;function Pdt(e){return function(){return e}}var Cdt=Pdt,Idt=sv,Mdt=function(){try{var e=Idt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),y3e=Mdt,kdt=Cdt,bae=y3e,Odt=a3,Ddt=bae?function(e,t){return bae(e,"toString",{configurable:!0,enumerable:!1,value:kdt(t),writable:!0})}:Odt,Rdt=Ddt,$dt=800,Ldt=16,Bdt=Date.now;function zdt(e){var t=0,r=0;return function(){var n=Bdt(),i=Ldt-(n-r);if(r=n,i>0){if(++t>=$dt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Ndt=zdt,Fdt=Rdt,jdt=Ndt,Vdt=jdt(Fdt),Udt=Vdt,Wdt=a3,Kdt=Tdt,Hdt=Udt;function Gdt(e,t){return Hdt(Kdt(e,t,Wdt),e+"")}var qdt=Gdt,Zdt=ZK,Xdt=$9,Ydt=pH,Jdt=J1;function Qdt(e,t,r){if(!Jdt(r))return!1;var n=typeof t;return(n=="number"?Xdt(r)&&Ydt(t,r.length):n=="string"&&t in r)?Zdt(r[t],e):!1}var EM=Qdt,eft=h3e,tft=xdt,rft=qdt,xae=EM,nft=rft(function(e,t){if(e==null)return[];var r=t.length;return r>1&&xae(e,t[0],t[1])?t=[]:r>2&&xae(t[0],t[1],t[2])&&(t=[t[0]]),tft(e,eft(t,1),[])}),ift=nft;const yH=oi(ift);function Y5(e){"@babel/helpers - typeof";return Y5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y5(e)}function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kj.apply(this,arguments)}function aft(e,t){return uft(e)||lft(e,t)||sft(e,t)||oft()}function oft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sft(e,t){if(e){if(typeof e=="string")return wae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wae(e,t)}}function wae(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lft(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,c,p=[],o=!0,g=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(o=(n=s.call(r)).done)&&(p.push(n.value),p.length!==t);o=!0);}catch(y){g=!0,i=y}finally{try{if(!o&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw i}}return p}}function uft(e){if(Array.isArray(e))return e}function Sae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sae(Object(r),!0).forEach(function(n){cft(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sae(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cft(e,t,r){return t=dft(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dft(e){var t=fft(e,"string");return Y5(t)=="symbol"?t:String(t)}function fft(e,t){if(Y5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Y5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pft(e){return Array.isArray(e)&&Bo(e[0])&&Bo(e[1])?e.join(" ~ "):e}var hft=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,c=t.itemStyle,p=c===void 0?{}:c,o=t.labelStyle,g=o===void 0?{}:o,y=t.payload,x=t.formatter,E=t.itemSorter,A=t.wrapperClassName,M=t.labelClassName,R=t.label,k=t.labelFormatter,D=t.accessibilityLayer,$=D===void 0?!1:D,B=function(){if(y&&y.length){var le={padding:0,margin:0},G=(E?yH(y,E):y).map(function(N,Y){if(N.type==="none")return null;var te=vL({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},p),re=N.formatter||x||pft,he=N.value,we=N.name,ye=he,ue=we;if(re&&ye!=null&&ue!=null){var J=re(he,we,N,Y,y);if(Array.isArray(J)){var de=aft(J,2);ye=de[0],ue=de[1]}else ye=J}return Ke.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:te},Bo(ue)?Ke.createElement("span",{className:"recharts-tooltip-item-name"},ue):null,Bo(ue)?Ke.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ke.createElement("span",{className:"recharts-tooltip-item-value"},ye),Ke.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return Ke.createElement("ul",{className:"recharts-tooltip-item-list",style:le},G)}return null},V=vL({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),U=vL({margin:0},g),Z=!_i(R),ne=Z?R:"",j=bi("recharts-default-tooltip",A),fe=bi("recharts-tooltip-label",M);Z&&k&&y!==void 0&&y!==null&&(ne=k(R,y));var be=$?{role:"status","aria-live":"assertive"}:{};return Ke.createElement("div",kj({className:j,style:V},be),Ke.createElement("p",{className:fe,style:U},Ke.isValidElement(ne)?ne:"".concat(ne)),B())};function J5(e){"@babel/helpers - typeof";return J5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J5(e)}function fA(e,t,r){return t=mft(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mft(e){var t=gft(e,"string");return J5(t)=="symbol"?t:String(t)}function gft(e,t){if(J5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(J5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O2="recharts-tooltip-wrapper",yft={visibility:"hidden"};function vft(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return bi(O2,fA(fA(fA(fA({},"".concat(O2,"-right"),Lr(r)&&t&&Lr(t.x)&&r>=t.x),"".concat(O2,"-left"),Lr(r)&&t&&Lr(t.x)&&r<t.x),"".concat(O2,"-bottom"),Lr(n)&&t&&Lr(t.y)&&n>=t.y),"".concat(O2,"-top"),Lr(n)&&t&&Lr(t.y)&&n<t.y))}function Eae(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,c=e.reverseDirection,p=e.tooltipDimension,o=e.viewBox,g=e.viewBoxDimension;if(s&&Lr(s[n]))return s[n];var y=r[n]-p-i,x=r[n]+i;if(t[n])return c[n]?y:x;if(c[n]){var E=y,A=o[n];return E<A?Math.max(x,o[n]):Math.max(y,o[n])}var M=x+p,R=o[n]+g;return M>R?Math.max(y,o[n]):Math.max(x,o[n])}function _ft(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function bft(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,c=e.tooltipBox,p=e.useTranslate3d,o=e.viewBox,g,y,x;return c.height>0&&c.width>0&&r?(y=Eae({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:o,viewBoxDimension:o.width}),x=Eae({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:o,viewBoxDimension:o.height}),g=_ft({translateX:y,translateY:x,useTranslate3d:p})):g=yft,{cssProperties:g,cssClasses:vft({translateX:y,translateY:x,coordinate:r})}}function Ux(e){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ux(e)}function Aae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aae(Object(r),!0).forEach(function(n){Rj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aae(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_3e(n.key),n)}}function Sft(e,t,r){return t&&wft(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eft(e,t,r){return t=rC(t),Aft(e,v3e()?Reflect.construct(t,r||[],rC(e).constructor):t.apply(e,r))}function Aft(e,t){if(t&&(Ux(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oj(e)}function v3e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v3e=function(){return!!e})()}function rC(e){return rC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rC(e)}function Oj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dj(e,t)}function Dj(e,t){return Dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dj(e,t)}function Rj(e,t,r){return t=_3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _3e(e){var t=Pft(e,"string");return Ux(t)=="symbol"?t:String(t)}function Pft(e,t){if(Ux(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pae=1,Cft=function(e){Tft(t,e);function t(){var r;xft(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Eft(this,t,[].concat(i)),Rj(Oj(r),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Rj(Oj(r),"handleKeyDown",function(c){if(c.key==="Escape"){var p,o,g,y;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(p=(o=r.props.coordinate)===null||o===void 0?void 0:o.x)!==null&&p!==void 0?p:0,y:(g=(y=r.props.coordinate)===null||y===void 0?void 0:y.y)!==null&&g!==void 0?g:0}})}}),r}return Sft(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Pae||Math.abs(n.height-this.state.lastBoundingBox.height)>Pae)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,c=i.allowEscapeViewBox,p=i.animationDuration,o=i.animationEasing,g=i.children,y=i.coordinate,x=i.hasPayload,E=i.isAnimationActive,A=i.offset,M=i.position,R=i.reverseDirection,k=i.useTranslate3d,D=i.viewBox,$=i.wrapperStyle,B=bft({allowEscapeViewBox:c,coordinate:y,offsetTopLeft:A,position:M,reverseDirection:R,tooltipBox:this.state.lastBoundingBox,useTranslate3d:k,viewBox:D}),V=B.cssClasses,U=B.cssProperties,Z=Tae(Tae({transition:E&&s?"transform ".concat(p,"ms ").concat(o):void 0},U),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&x?"visible":"hidden",position:"absolute",top:0,left:0},$);return Ke.createElement("div",{tabIndex:-1,className:V,style:Z,ref:function(j){n.wrapperNode=j}},g)}}]),t}(se.PureComponent),Ift=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Jp={isSsr:Ift(),get:function(t){return Jp[t]},set:function(t,r){if(typeof t=="string")Jp[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){Jp[i]=t[i]})}}};function Wx(e){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wx(e)}function Cae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Iae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cae(Object(r),!0).forEach(function(n){vH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cae(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x3e(n.key),n)}}function Oft(e,t,r){return t&&kft(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dft(e,t,r){return t=nC(t),Rft(e,b3e()?Reflect.construct(t,r||[],nC(e).constructor):t.apply(e,r))}function Rft(e,t){if(t&&(Wx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ft(e)}function $ft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b3e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b3e=function(){return!!e})()}function nC(e){return nC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nC(e)}function Lft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$j(e,t)}function $j(e,t){return $j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$j(e,t)}function vH(e,t,r){return t=x3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x3e(e){var t=Bft(e,"string");return Wx(t)=="symbol"?t:String(t)}function Bft(e,t){if(Wx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zft(e){return e.dataKey}function Nft(e,t){return Ke.isValidElement(e)?Ke.cloneElement(e,t):typeof e=="function"?Ke.createElement(e,t):Ke.createElement(hft,t)}var _p=function(e){Lft(t,e);function t(){return Mft(this,t),Dft(this,t,arguments)}return Oft(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,c=i.allowEscapeViewBox,p=i.animationDuration,o=i.animationEasing,g=i.content,y=i.coordinate,x=i.filterNull,E=i.isAnimationActive,A=i.offset,M=i.payload,R=i.payloadUniqBy,k=i.position,D=i.reverseDirection,$=i.useTranslate3d,B=i.viewBox,V=i.wrapperStyle,U=M??[];x&&U.length&&(U=u3e(M.filter(function(ne){return ne.value!=null&&(ne.hide!==!0||n.props.includeHidden)}),R,zft));var Z=U.length>0;return Ke.createElement(Cft,{allowEscapeViewBox:c,animationDuration:p,animationEasing:o,isAnimationActive:E,active:s,coordinate:y,hasPayload:Z,offset:A,position:k,reverseDirection:D,useTranslate3d:$,viewBox:B,wrapperStyle:V},Nft(g,Iae(Iae({},this.props),{},{payload:U})))}}]),t}(se.PureComponent);vH(_p,"displayName","Tooltip");vH(_p,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Jp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Fft=Tf,jft=function(){return Fft.Date.now()},Vft=jft,Uft=/\s/;function Wft(e){for(var t=e.length;t--&&Uft.test(e.charAt(t)););return t}var Kft=Wft,Hft=Kft,Gft=/^\s+/;function qft(e){return e&&e.slice(0,Hft(e)+1).replace(Gft,"")}var Zft=qft,Xft=Zft,Mae=J1,Yft=J4,kae=NaN,Jft=/^[-+]0x[0-9a-f]+$/i,Qft=/^0b[01]+$/i,ept=/^0o[0-7]+$/i,tpt=parseInt;function rpt(e){if(typeof e=="number")return e;if(Yft(e))return kae;if(Mae(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Mae(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Xft(e);var r=Qft.test(e);return r||ept.test(e)?tpt(e.slice(2),r?2:8):Jft.test(e)?kae:+e}var w3e=rpt,npt=J1,_L=Vft,Oae=w3e,ipt="Expected a function",apt=Math.max,opt=Math.min;function spt(e,t,r){var n,i,s,c,p,o,g=0,y=!1,x=!1,E=!0;if(typeof e!="function")throw new TypeError(ipt);t=Oae(t)||0,npt(r)&&(y=!!r.leading,x="maxWait"in r,s=x?apt(Oae(r.maxWait)||0,t):s,E="trailing"in r?!!r.trailing:E);function A(Z){var ne=n,j=i;return n=i=void 0,g=Z,c=e.apply(j,ne),c}function M(Z){return g=Z,p=setTimeout(D,t),y?A(Z):c}function R(Z){var ne=Z-o,j=Z-g,fe=t-ne;return x?opt(fe,s-j):fe}function k(Z){var ne=Z-o,j=Z-g;return o===void 0||ne>=t||ne<0||x&&j>=s}function D(){var Z=_L();if(k(Z))return $(Z);p=setTimeout(D,R(Z))}function $(Z){return p=void 0,E&&n?A(Z):(n=i=void 0,c)}function B(){p!==void 0&&clearTimeout(p),g=0,n=o=i=p=void 0}function V(){return p===void 0?c:$(_L())}function U(){var Z=_L(),ne=k(Z);if(n=arguments,i=this,o=Z,ne){if(p===void 0)return M(o);if(x)return clearTimeout(p),p=setTimeout(D,t),A(o)}return p===void 0&&(p=setTimeout(D,t)),c}return U.cancel=B,U.flush=V,U}var lpt=spt,upt=lpt,cpt=J1,dpt="Expected a function";function fpt(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(dpt);return cpt(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),upt(e,t,{leading:n,maxWait:t,trailing:i})}var ppt=fpt;const S3e=oi(ppt);function Q5(e){"@babel/helpers - typeof";return Q5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q5(e)}function Dae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dae(Object(r),!0).forEach(function(n){hpt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dae(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hpt(e,t,r){return t=mpt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mpt(e){var t=gpt(e,"string");return Q5(t)=="symbol"?t:String(t)}function gpt(e,t){if(Q5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Q5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ypt(e,t){return xpt(e)||bpt(e,t)||_pt(e,t)||vpt()}function vpt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _pt(e,t){if(e){if(typeof e=="string")return Rae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rae(e,t)}}function Rae(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bpt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,c,p=[],o=!0,g=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(o=(n=s.call(r)).done)&&(p.push(n.value),p.length!==t);o=!0);}catch(y){g=!0,i=y}finally{try{if(!o&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw i}}return p}}function xpt(e){if(Array.isArray(e))return e}var wpt=se.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,c=s===void 0?"100%":s,p=e.height,o=p===void 0?"100%":p,g=e.minWidth,y=g===void 0?0:g,x=e.minHeight,E=e.maxHeight,A=e.children,M=e.debounce,R=M===void 0?0:M,k=e.id,D=e.className,$=e.onResize,B=e.style,V=B===void 0?{}:B,U=se.useRef(null),Z=se.useRef();Z.current=$,se.useImperativeHandle(t,function(){return Object.defineProperty(U.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),U.current},configurable:!0})});var ne=se.useState({containerWidth:i.width,containerHeight:i.height}),j=ypt(ne,2),fe=j[0],be=j[1],pe=se.useCallback(function(G,N){be(function(Y){var te=Math.round(G),re=Math.round(N);return Y.containerWidth===te&&Y.containerHeight===re?Y:{containerWidth:te,containerHeight:re}})},[]);se.useEffect(function(){var G=function(we){var ye,ue=we[0].contentRect,J=ue.width,de=ue.height;pe(J,de),(ye=Z.current)===null||ye===void 0||ye.call(Z,J,de)};R>0&&(G=S3e(G,R,{trailing:!0,leading:!1}));var N=new ResizeObserver(G),Y=U.current.getBoundingClientRect(),te=Y.width,re=Y.height;return pe(te,re),N.observe(U.current),function(){N.disconnect()}},[pe,R]);var le=se.useMemo(function(){var G=fe.containerWidth,N=fe.containerHeight;if(G<0||N<0)return null;Yp(Gg(c)||Gg(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,o),Yp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=Gg(c)?G:c,te=Gg(o)?N:o;r&&r>0&&(Y?te=Y/r:te&&(Y=te*r),E&&te>E&&(te=E)),Yp(Y>0||te>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,te,c,o,y,x,r);var re=!Array.isArray(A)&&uj.isElement(A)&&Xp(A.type).endsWith("Chart");return Ke.Children.map(A,function(he){return uj.isElement(he)?se.cloneElement(he,pA({width:Y,height:te},re?{style:pA({height:"100%",width:"100%",maxHeight:te,maxWidth:Y},he.props.style)}:{})):he})},[r,A,o,E,x,y,fe,c]);return Ke.createElement("div",{id:k?"".concat(k):void 0,className:bi("recharts-responsive-container",D),style:pA(pA({},V),{},{width:c,height:o,minWidth:y,minHeight:x,maxHeight:E}),ref:U},le)}),E3e=function(t){return null};E3e.displayName="Cell";function e8(e){"@babel/helpers - typeof";return e8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e8(e)}function $ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$ae(Object(r),!0).forEach(function(n){Spt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$ae(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Spt(e,t,r){return t=Ept(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ept(e){var t=Apt(e,"string");return e8(t)=="symbol"?t:String(t)}function Apt(e,t){if(e8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(e8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j_={widthCache:{},cacheCount:0},Tpt=2e3,Ppt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Lae="recharts_measurement_span";function Cpt(e){var t=Lj({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var a5=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Jp.isSsr)return{width:0,height:0};var n=Cpt(r),i=JSON.stringify({text:t,copyStyle:n});if(j_.widthCache[i])return j_.widthCache[i];try{var s=document.getElementById(Lae);s||(s=document.createElement("span"),s.setAttribute("id",Lae),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=Lj(Lj({},Ppt),n);Object.assign(s.style,c),s.textContent="".concat(t);var p=s.getBoundingClientRect(),o={width:p.width,height:p.height};return j_.widthCache[i]=o,++j_.cacheCount>Tpt&&(j_.cacheCount=0,j_.widthCache={}),o}catch{return{width:0,height:0}}},Ipt=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function t8(e){"@babel/helpers - typeof";return t8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t8(e)}function iC(e,t){return Dpt(e)||Opt(e,t)||kpt(e,t)||Mpt()}function Mpt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kpt(e,t){if(e){if(typeof e=="string")return Bae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bae(e,t)}}function Bae(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Opt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,c,p=[],o=!0,g=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=s.call(r)).done)&&(p.push(n.value),p.length!==t);o=!0);}catch(y){g=!0,i=y}finally{try{if(!o&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw i}}return p}}function Dpt(e){if(Array.isArray(e))return e}function Rpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lpt(n.key),n)}}function $pt(e,t,r){return t&&zae(e.prototype,t),r&&zae(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lpt(e){var t=Bpt(e,"string");return t8(t)=="symbol"?t:String(t)}function Bpt(e,t){if(t8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(t8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nae=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fae=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zpt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Npt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,A3e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fpt=Object.keys(A3e),jb="NaN";function jpt(e,t){return e*A3e[t]}var hA=function(){function e(t,r){Rpt(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!zpt.test(r)&&(this.num=NaN,this.unit=""),Fpt.includes(r)&&(this.num=jpt(t,r),this.unit="px")}return $pt(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Npt.exec(r))!==null&&n!==void 0?n:[],s=iC(i,3),c=s[1],p=s[2];return new e(parseFloat(c),p??"")}}]),e}();function T3e(e){if(e.includes(jb))return jb;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Nae.exec(t))!==null&&r!==void 0?r:[],i=iC(n,4),s=i[1],c=i[2],p=i[3],o=hA.parse(s??""),g=hA.parse(p??""),y=c==="*"?o.multiply(g):o.divide(g);if(y.isNaN())return jb;t=t.replace(Nae,y.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var x,E=(x=Fae.exec(t))!==null&&x!==void 0?x:[],A=iC(E,4),M=A[1],R=A[2],k=A[3],D=hA.parse(M??""),$=hA.parse(k??""),B=R==="+"?D.add($):D.subtract($);if(B.isNaN())return jb;t=t.replace(Fae,B.toString())}return t}var jae=/\(([^()]*)\)/;function Vpt(e){for(var t=e;t.includes("(");){var r=jae.exec(t),n=iC(r,2),i=n[1];t=t.replace(jae,T3e(i))}return t}function Upt(e){var t=e.replace(/\s+/g,"");return t=Vpt(t),t=T3e(t),t}function Wpt(e){try{return Upt(e)}catch{return jb}}function bL(e){var t=Wpt(e.slice(5,-1));return t===jb?"":t}var Kpt=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hpt=["dx","dy","angle","className","breakAll"];function Bj(){return Bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bj.apply(this,arguments)}function Vae(e,t){if(e==null)return{};var r=Gpt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gpt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Uae(e,t){return Ypt(e)||Xpt(e,t)||Zpt(e,t)||qpt()}function qpt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zpt(e,t){if(e){if(typeof e=="string")return Wae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wae(e,t)}}function Wae(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xpt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,c,p=[],o=!0,g=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=s.call(r)).done)&&(p.push(n.value),p.length!==t);o=!0);}catch(y){g=!0,i=y}finally{try{if(!o&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw i}}return p}}function Ypt(e){if(Array.isArray(e))return e}var P3e=/[ \f\n\r\t\v\u2028\u2029]+/,C3e=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];_i(r)||(n?s=r.toString().split(""):s=r.toString().split(P3e));var c=s.map(function(o){return{word:o,width:a5(o,i).width}}),p=n?0:a5(" ",i).width;return{wordsWithComputedWidth:c,spaceWidth:p}}catch{return null}},Jpt=function(t,r,n,i,s){var c=t.maxLines,p=t.children,o=t.style,g=t.breakAll,y=Lr(c),x=p,E=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(te,re){var he=re.word,we=re.width,ye=te[te.length-1];if(ye&&(i==null||s||ye.width+we+n<Number(i)))ye.words.push(he),ye.width+=we+n;else{var ue={words:[he],width:we};te.push(ue)}return te},[])},A=E(r),M=function(Y){return Y.reduce(function(te,re){return te.width>re.width?te:re})};if(!y)return A;for(var R="…",k=function(Y){var te=x.slice(0,Y),re=C3e({breakAll:g,style:o,children:te+R}).wordsWithComputedWidth,he=E(re),we=he.length>c||M(he).width>Number(i);return[we,he]},D=0,$=x.length-1,B=0,V;D<=$&&B<=x.length-1;){var U=Math.floor((D+$)/2),Z=U-1,ne=k(Z),j=Uae(ne,2),fe=j[0],be=j[1],pe=k(U),le=Uae(pe,1),G=le[0];if(!fe&&!G&&(D=U+1),fe&&G&&($=U-1),!fe&&G){V=be;break}B++}return V||A},Kae=function(t){var r=_i(t)?[]:t.toString().split(P3e);return[{words:r}]},Qpt=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,c=t.breakAll,p=t.maxLines;if((r||n)&&!Jp.isSsr){var o,g,y=C3e({breakAll:c,children:i,style:s});if(y){var x=y.wordsWithComputedWidth,E=y.spaceWidth;o=x,g=E}else return Kae(i);return Jpt({breakAll:c,children:i,maxLines:p,style:s},o,g,r,n)}return Kae(i)},Hae="#808080",aC=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,c=t.lineHeight,p=c===void 0?"1em":c,o=t.capHeight,g=o===void 0?"0.71em":o,y=t.scaleToFit,x=y===void 0?!1:y,E=t.textAnchor,A=E===void 0?"start":E,M=t.verticalAnchor,R=M===void 0?"end":M,k=t.fill,D=k===void 0?Hae:k,$=Vae(t,Kpt),B=se.useMemo(function(){return Qpt({breakAll:$.breakAll,children:$.children,maxLines:$.maxLines,scaleToFit:x,style:$.style,width:$.width})},[$.breakAll,$.children,$.maxLines,x,$.style,$.width]),V=$.dx,U=$.dy,Z=$.angle,ne=$.className,j=$.breakAll,fe=Vae($,Hpt);if(!Bo(n)||!Bo(s))return null;var be=n+(Lr(V)?V:0),pe=s+(Lr(U)?U:0),le;switch(R){case"start":le=bL("calc(".concat(g,")"));break;case"middle":le=bL("calc(".concat((B.length-1)/2," * -").concat(p," + (").concat(g," / 2))"));break;default:le=bL("calc(".concat(B.length-1," * -").concat(p,")"));break}var G=[];if(x){var N=B[0].width,Y=$.width;G.push("scale(".concat((Lr(Y)?Y/N:1)/N,")"))}return Z&&G.push("rotate(".concat(Z,", ").concat(be,", ").concat(pe,")")),G.length&&(fe.transform=G.join(" ")),Ke.createElement("text",Bj({},Ei(fe,!0),{x:be,y:pe,className:bi("recharts-text",ne),textAnchor:A,fill:D.includes("url")?Hae:D}),B.map(function(te,re){var he=te.words.join(j?"":" ");return Ke.createElement("tspan",{x:be,dy:re===0?le:p,key:he},he)}))};function _1(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eht(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _H(e){let t,r,n;e.length!==2?(t=_1,r=(p,o)=>_1(e(p),o),n=(p,o)=>e(p)-o):(t=e===_1||e===eht?e:tht,r=e,n=e);function i(p,o,g=0,y=p.length){if(g<y){if(t(o,o)!==0)return y;do{const x=g+y>>>1;r(p[x],o)<0?g=x+1:y=x}while(g<y)}return g}function s(p,o,g=0,y=p.length){if(g<y){if(t(o,o)!==0)return y;do{const x=g+y>>>1;r(p[x],o)<=0?g=x+1:y=x}while(g<y)}return g}function c(p,o,g=0,y=p.length){const x=i(p,o,g,y-1);return x>g&&n(p[x-1],o)>-n(p[x],o)?x-1:x}return{left:i,center:c,right:s}}function tht(){return 0}function I3e(e){return e===null?NaN:+e}function*rht(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const nht=_H(_1),L9=nht.right;_H(I3e).center;class Gae extends Map{constructor(t,r=oht){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(qae(this,t))}has(t){return super.has(qae(this,t))}set(t,r){return super.set(iht(this,t),r)}delete(t){return super.delete(aht(this,t))}}function qae({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function iht({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function aht({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function oht(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sht(e=_1){if(e===_1)return M3e;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function M3e(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const lht=Math.sqrt(50),uht=Math.sqrt(10),cht=Math.sqrt(2);function oC(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),c=s>=lht?10:s>=uht?5:s>=cht?2:1;let p,o,g;return i<0?(g=Math.pow(10,-i)/c,p=Math.round(e*g),o=Math.round(t*g),p/g<e&&++p,o/g>t&&--o,g=-g):(g=Math.pow(10,i)*c,p=Math.round(e/g),o=Math.round(t/g),p*g<e&&++p,o*g>t&&--o),o<p&&.5<=r&&r<2?oC(e,t,r*2):[p,o,g]}function zj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,c]=n?oC(t,e,r):oC(e,t,r);if(!(s>=i))return[];const p=s-i+1,o=new Array(p);if(n)if(c<0)for(let g=0;g<p;++g)o[g]=(s-g)/-c;else for(let g=0;g<p;++g)o[g]=(s-g)*c;else if(c<0)for(let g=0;g<p;++g)o[g]=(i+g)/-c;else for(let g=0;g<p;++g)o[g]=(i+g)*c;return o}function Nj(e,t,r){return t=+t,e=+e,r=+r,oC(e,t,r)[2]}function Fj(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Nj(t,e,r):Nj(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Zae(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Xae(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function k3e(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?M3e:sht(i);n>r;){if(n-r>600){const o=n-r+1,g=t-r+1,y=Math.log(o),x=.5*Math.exp(2*y/3),E=.5*Math.sqrt(y*x*(o-x)/o)*(g-o/2<0?-1:1),A=Math.max(r,Math.floor(t-g*x/o+E)),M=Math.min(n,Math.floor(t+(o-g)*x/o+E));k3e(e,t,A,M,i)}const s=e[t];let c=r,p=n;for(D2(e,r,t),i(e[n],s)>0&&D2(e,r,n);c<p;){for(D2(e,c,p),++c,--p;i(e[c],s)<0;)++c;for(;i(e[p],s)>0;)--p}i(e[r],s)===0?D2(e,r,p):(++p,D2(e,p,n)),p<=t&&(r=p+1),t<=p&&(n=p-1)}return e}function D2(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function dht(e,t,r){if(e=Float64Array.from(rht(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Xae(e);if(t>=1)return Zae(e);var n,i=(n-1)*t,s=Math.floor(i),c=Zae(k3e(e,s).subarray(0,s+1)),p=Xae(e.subarray(s+1));return c+(p-c)*(i-s)}}function fht(e,t,r=I3e){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),c=+r(e[s],s,e),p=+r(e[s+1],s+1,e);return c+(p-c)*(i-s)}}function pht(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Sc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ch(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const jj=Symbol("implicit");function bH(){var e=new Gae,t=[],r=[],n=jj;function i(s){let c=e.get(s);if(c===void 0){if(n!==jj)return n;e.set(s,c=t.push(s)-1)}return r[c%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Gae;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return bH(t,r).unknown(n)},Sc.apply(i,arguments),i}function r8(){var e=bH().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,c,p=!1,o=0,g=0,y=.5;delete e.unknown;function x(){var E=t().length,A=i<n,M=A?i:n,R=A?n:i;s=(R-M)/Math.max(1,E-o+g*2),p&&(s=Math.floor(s)),M+=(R-M-s*(E-o))*y,c=s*(1-o),p&&(M=Math.round(M),c=Math.round(c));var k=pht(E).map(function(D){return M+s*D});return r(A?k.reverse():k)}return e.domain=function(E){return arguments.length?(t(E),x()):t()},e.range=function(E){return arguments.length?([n,i]=E,n=+n,i=+i,x()):[n,i]},e.rangeRound=function(E){return[n,i]=E,n=+n,i=+i,p=!0,x()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(E){return arguments.length?(p=!!E,x()):p},e.padding=function(E){return arguments.length?(o=Math.min(1,g=+E),x()):o},e.paddingInner=function(E){return arguments.length?(o=Math.min(1,E),x()):o},e.paddingOuter=function(E){return arguments.length?(g=+E,x()):g},e.align=function(E){return arguments.length?(y=Math.max(0,Math.min(1,E)),x()):y},e.copy=function(){return r8(t(),[n,i]).round(p).paddingInner(o).paddingOuter(g).align(y)},Sc.apply(x(),arguments)}function O3e(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return O3e(t())},e}function o5(){return O3e(r8.apply(null,arguments).paddingInner(1))}function xH(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function D3e(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function B9(){}var n8=.7,sC=1/n8,ux="\\s*([+-]?\\d+)\\s*",i8="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hht=/^#([0-9a-f]{3,8})$/,mht=new RegExp(`^rgb\\(${ux},${ux},${ux}\\)$`),ght=new RegExp(`^rgb\\(${gf},${gf},${gf}\\)$`),yht=new RegExp(`^rgba\\(${ux},${ux},${ux},${i8}\\)$`),vht=new RegExp(`^rgba\\(${gf},${gf},${gf},${i8}\\)$`),_ht=new RegExp(`^hsl\\(${i8},${gf},${gf}\\)$`),bht=new RegExp(`^hsla\\(${i8},${gf},${gf},${i8}\\)$`),Yae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xH(B9,a8,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jae,formatHex:Jae,formatHex8:xht,formatHsl:wht,formatRgb:Qae,toString:Qae});function Jae(){return this.rgb().formatHex()}function xht(){return this.rgb().formatHex8()}function wht(){return R3e(this).formatHsl()}function Qae(){return this.rgb().formatRgb()}function a8(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hht.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?eoe(t):r===3?new Bl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?mA(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?mA(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mht.exec(e))?new Bl(t[1],t[2],t[3],1):(t=ght.exec(e))?new Bl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yht.exec(e))?mA(t[1],t[2],t[3],t[4]):(t=vht.exec(e))?mA(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_ht.exec(e))?noe(t[1],t[2]/100,t[3]/100,1):(t=bht.exec(e))?noe(t[1],t[2]/100,t[3]/100,t[4]):Yae.hasOwnProperty(e)?eoe(Yae[e]):e==="transparent"?new Bl(NaN,NaN,NaN,0):null}function eoe(e){return new Bl(e>>16&255,e>>8&255,e&255,1)}function mA(e,t,r,n){return n<=0&&(e=t=r=NaN),new Bl(e,t,r,n)}function Sht(e){return e instanceof B9||(e=a8(e)),e?(e=e.rgb(),new Bl(e.r,e.g,e.b,e.opacity)):new Bl}function Vj(e,t,r,n){return arguments.length===1?Sht(e):new Bl(e,t,r,n??1)}function Bl(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}xH(Bl,Vj,D3e(B9,{brighter(e){return e=e==null?sC:Math.pow(sC,e),new Bl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?n8:Math.pow(n8,e),new Bl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Bl(uy(this.r),uy(this.g),uy(this.b),lC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:toe,formatHex:toe,formatHex8:Eht,formatRgb:roe,toString:roe}));function toe(){return`#${qg(this.r)}${qg(this.g)}${qg(this.b)}`}function Eht(){return`#${qg(this.r)}${qg(this.g)}${qg(this.b)}${qg((isNaN(this.opacity)?1:this.opacity)*255)}`}function roe(){const e=lC(this.opacity);return`${e===1?"rgb(":"rgba("}${uy(this.r)}, ${uy(this.g)}, ${uy(this.b)}${e===1?")":`, ${e})`}`}function lC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uy(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qg(e){return e=uy(e),(e<16?"0":"")+e.toString(16)}function noe(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ud(e,t,r,n)}function R3e(e){if(e instanceof ud)return new ud(e.h,e.s,e.l,e.opacity);if(e instanceof B9||(e=a8(e)),!e)return new ud;if(e instanceof ud)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),c=NaN,p=s-i,o=(s+i)/2;return p?(t===s?c=(r-n)/p+(r<n)*6:r===s?c=(n-t)/p+2:c=(t-r)/p+4,p/=o<.5?s+i:2-s-i,c*=60):p=o>0&&o<1?0:c,new ud(c,p,o,e.opacity)}function Aht(e,t,r,n){return arguments.length===1?R3e(e):new ud(e,t,r,n??1)}function ud(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}xH(ud,Aht,D3e(B9,{brighter(e){return e=e==null?sC:Math.pow(sC,e),new ud(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?n8:Math.pow(n8,e),new ud(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Bl(xL(e>=240?e-240:e+120,i,n),xL(e,i,n),xL(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ud(ioe(this.h),gA(this.s),gA(this.l),lC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lC(this.opacity);return`${e===1?"hsl(":"hsla("}${ioe(this.h)}, ${gA(this.s)*100}%, ${gA(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ioe(e){return e=(e||0)%360,e<0?e+360:e}function gA(e){return Math.max(0,Math.min(1,e||0))}function xL(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const wH=e=>()=>e;function Tht(e,t){return function(r){return e+r*t}}function Pht(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Cht(e){return(e=+e)==1?$3e:function(t,r){return r-t?Pht(t,r,e):wH(isNaN(t)?r:t)}}function $3e(e,t){var r=t-e;return r?Tht(e,r):wH(isNaN(e)?t:e)}const aoe=function e(t){var r=Cht(t);function n(i,s){var c=r((i=Vj(i)).r,(s=Vj(s)).r),p=r(i.g,s.g),o=r(i.b,s.b),g=$3e(i.opacity,s.opacity);return function(y){return i.r=c(y),i.g=p(y),i.b=o(y),i.opacity=g(y),i+""}}return n.gamma=e,n}(1);function Iht(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function Mht(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kht(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)i[c]=o3(e[c],t[c]);for(;c<r;++c)s[c]=t[c];return function(p){for(c=0;c<n;++c)s[c]=i[c](p);return s}}function Oht(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function uC(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Dht(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=o3(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Uj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wL=new RegExp(Uj.source,"g");function Rht(e){return function(){return e}}function $ht(e){return function(t){return e(t)+""}}function Lht(e,t){var r=Uj.lastIndex=wL.lastIndex=0,n,i,s,c=-1,p=[],o=[];for(e=e+"",t=t+"";(n=Uj.exec(e))&&(i=wL.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),p[c]?p[c]+=s:p[++c]=s),(n=n[0])===(i=i[0])?p[c]?p[c]+=i:p[++c]=i:(p[++c]=null,o.push({i:c,x:uC(n,i)})),r=wL.lastIndex;return r<t.length&&(s=t.slice(r),p[c]?p[c]+=s:p[++c]=s),p.length<2?o[0]?$ht(o[0].x):Rht(t):(t=o.length,function(g){for(var y=0,x;y<t;++y)p[(x=o[y]).i]=x.x(g);return p.join("")})}function o3(e,t){var r=typeof t,n;return t==null||r==="boolean"?wH(t):(r==="number"?uC:r==="string"?(n=a8(t))?(t=n,aoe):Lht:t instanceof a8?aoe:t instanceof Date?Oht:Mht(t)?Iht:Array.isArray(t)?kht:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Dht:uC)(e,t)}function SH(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Bht(e,t){t===void 0&&(t=e,e=o3);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(c){var p=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[p](c-p)}}function zht(e){return function(){return e}}function cC(e){return+e}var ooe=[0,1];function ml(e){return e}function Wj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:zht(isNaN(t)?NaN:.5)}function Nht(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Fht(e,t,r){var n=e[0],i=e[1],s=t[0],c=t[1];return i<n?(n=Wj(i,n),s=r(c,s)):(n=Wj(n,i),s=r(s,c)),function(p){return s(n(p))}}function jht(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=Wj(e[c],e[c+1]),s[c]=r(t[c],t[c+1]);return function(p){var o=L9(e,p,1,n)-1;return s[o](i[o](p))}}function z9(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function AM(){var e=ooe,t=ooe,r=o3,n,i,s,c=ml,p,o,g;function y(){var E=Math.min(e.length,t.length);return c!==ml&&(c=Nht(e[0],e[E-1])),p=E>2?jht:Fht,o=g=null,x}function x(E){return E==null||isNaN(E=+E)?s:(o||(o=p(e.map(n),t,r)))(n(c(E)))}return x.invert=function(E){return c(i((g||(g=p(t,e.map(n),uC)))(E)))},x.domain=function(E){return arguments.length?(e=Array.from(E,cC),y()):e.slice()},x.range=function(E){return arguments.length?(t=Array.from(E),y()):t.slice()},x.rangeRound=function(E){return t=Array.from(E),r=SH,y()},x.clamp=function(E){return arguments.length?(c=E?!0:ml,y()):c!==ml},x.interpolate=function(E){return arguments.length?(r=E,y()):r},x.unknown=function(E){return arguments.length?(s=E,x):s},function(E,A){return n=E,i=A,y()}}function EH(){return AM()(ml,ml)}function Vht(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dC(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Kx(e){return e=dC(Math.abs(e)),e?e[1]:NaN}function Uht(e,t){return function(r,n){for(var i=r.length,s=[],c=0,p=e[0],o=0;i>0&&p>0&&(o+p+1>n&&(p=Math.max(1,n-o)),s.push(r.substring(i-=p,i+p)),!((o+=p+1)>n));)p=e[c=(c+1)%e.length];return s.reverse().join(t)}}function Wht(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Kht=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o8(e){if(!(t=Kht.exec(e)))throw new Error("invalid format: "+e);var t;return new AH({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}o8.prototype=AH.prototype;function AH(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}AH.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hht(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var L3e;function Ght(e,t){var r=dC(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(L3e=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+dC(e,Math.max(0,t+s-1))[0]}function soe(e,t){var r=dC(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const loe={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Vht,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>soe(e*100,t),r:soe,s:Ght,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function uoe(e){return e}var coe=Array.prototype.map,doe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function qht(e){var t=e.grouping===void 0||e.thousands===void 0?uoe:Uht(coe.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?uoe:Wht(coe.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",p=e.minus===void 0?"−":e.minus+"",o=e.nan===void 0?"NaN":e.nan+"";function g(x){x=o8(x);var E=x.fill,A=x.align,M=x.sign,R=x.symbol,k=x.zero,D=x.width,$=x.comma,B=x.precision,V=x.trim,U=x.type;U==="n"?($=!0,U="g"):loe[U]||(B===void 0&&(B=12),V=!0,U="g"),(k||E==="0"&&A==="=")&&(k=!0,E="0",A="=");var Z=R==="$"?r:R==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",ne=R==="$"?n:/[%p]/.test(U)?c:"",j=loe[U],fe=/[defgprs%]/.test(U);B=B===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function be(pe){var le=Z,G=ne,N,Y,te;if(U==="c")G=j(pe)+G,pe="";else{pe=+pe;var re=pe<0||1/pe<0;if(pe=isNaN(pe)?o:j(Math.abs(pe),B),V&&(pe=Hht(pe)),re&&+pe==0&&M!=="+"&&(re=!1),le=(re?M==="("?M:p:M==="-"||M==="("?"":M)+le,G=(U==="s"?doe[8+L3e/3]:"")+G+(re&&M==="("?")":""),fe){for(N=-1,Y=pe.length;++N<Y;)if(te=pe.charCodeAt(N),48>te||te>57){G=(te===46?i+pe.slice(N+1):pe.slice(N))+G,pe=pe.slice(0,N);break}}}$&&!k&&(pe=t(pe,1/0));var he=le.length+pe.length+G.length,we=he<D?new Array(D-he+1).join(E):"";switch($&&k&&(pe=t(we+pe,we.length?D-G.length:1/0),we=""),A){case"<":pe=le+pe+G+we;break;case"=":pe=le+we+pe+G;break;case"^":pe=we.slice(0,he=we.length>>1)+le+pe+G+we.slice(he);break;default:pe=we+le+pe+G;break}return s(pe)}return be.toString=function(){return x+""},be}function y(x,E){var A=g((x=o8(x),x.type="f",x)),M=Math.max(-8,Math.min(8,Math.floor(Kx(E)/3)))*3,R=Math.pow(10,-M),k=doe[8+M/3];return function(D){return A(R*D)+k}}return{format:g,formatPrefix:y}}var yA,TH,B3e;Zht({thousands:",",grouping:[3],currency:["$",""]});function Zht(e){return yA=qht(e),TH=yA.format,B3e=yA.formatPrefix,yA}function Xht(e){return Math.max(0,-Kx(Math.abs(e)))}function Yht(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kx(t)/3)))*3-Kx(Math.abs(e)))}function Jht(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kx(t)-Kx(e))+1}function z3e(e,t,r,n){var i=Fj(e,t,r),s;switch(n=o8(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=Yht(i,c))&&(n.precision=s),B3e(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Jht(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Xht(i))&&(n.precision=s-(n.type==="%")*2);break}}return TH(n)}function e0(e){var t=e.domain;return e.ticks=function(r){var n=t();return zj(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return z3e(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,c=n[i],p=n[s],o,g,y=10;for(p<c&&(g=c,c=p,p=g,g=i,i=s,s=g);y-- >0;){if(g=Nj(c,p,r),g===o)return n[i]=c,n[s]=p,t(n);if(g>0)c=Math.floor(c/g)*g,p=Math.ceil(p/g)*g;else if(g<0)c=Math.ceil(c*g)/g,p=Math.floor(p*g)/g;else break;o=g}return e},e}function fC(){var e=EH();return e.copy=function(){return z9(e,fC())},Sc.apply(e,arguments),e0(e)}function N3e(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,cC),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return N3e(e).unknown(t)},e=arguments.length?Array.from(e,cC):[0,1],e0(r)}function F3e(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],c;return s<i&&(c=r,r=n,n=c,c=i,i=s,s=c),e[r]=t.floor(i),e[n]=t.ceil(s),e}function foe(e){return Math.log(e)}function poe(e){return Math.exp(e)}function Qht(e){return-Math.log(-e)}function emt(e){return-Math.exp(-e)}function tmt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rmt(e){return e===10?tmt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function nmt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function hoe(e){return(t,r)=>-e(-t,r)}function PH(e){const t=e(foe,poe),r=t.domain;let n=10,i,s;function c(){return i=nmt(n),s=rmt(n),r()[0]<0?(i=hoe(i),s=hoe(s),e(Qht,emt)):e(foe,poe),t}return t.base=function(p){return arguments.length?(n=+p,c()):n},t.domain=function(p){return arguments.length?(r(p),c()):r()},t.ticks=p=>{const o=r();let g=o[0],y=o[o.length-1];const x=y<g;x&&([g,y]=[y,g]);let E=i(g),A=i(y),M,R;const k=p==null?10:+p;let D=[];if(!(n%1)&&A-E<k){if(E=Math.floor(E),A=Math.ceil(A),g>0){for(;E<=A;++E)for(M=1;M<n;++M)if(R=E<0?M/s(-E):M*s(E),!(R<g)){if(R>y)break;D.push(R)}}else for(;E<=A;++E)for(M=n-1;M>=1;--M)if(R=E>0?M/s(-E):M*s(E),!(R<g)){if(R>y)break;D.push(R)}D.length*2<k&&(D=zj(g,y,k))}else D=zj(E,A,Math.min(A-E,k)).map(s);return x?D.reverse():D},t.tickFormat=(p,o)=>{if(p==null&&(p=10),o==null&&(o=n===10?"s":","),typeof o!="function"&&(!(n%1)&&(o=o8(o)).precision==null&&(o.trim=!0),o=TH(o)),p===1/0)return o;const g=Math.max(1,n*p/t.ticks().length);return y=>{let x=y/s(Math.round(i(y)));return x*n<n-.5&&(x*=n),x<=g?o(y):""}},t.nice=()=>r(F3e(r(),{floor:p=>s(Math.floor(i(p))),ceil:p=>s(Math.ceil(i(p)))})),t}function j3e(){const e=PH(AM()).domain([1,10]);return e.copy=()=>z9(e,j3e()).base(e.base()),Sc.apply(e,arguments),e}function moe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function goe(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function CH(e){var t=1,r=e(moe(t),goe(t));return r.constant=function(n){return arguments.length?e(moe(t=+n),goe(t)):t},e0(r)}function V3e(){var e=CH(AM());return e.copy=function(){return z9(e,V3e()).constant(e.constant())},Sc.apply(e,arguments)}function yoe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function imt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function amt(e){return e<0?-e*e:e*e}function IH(e){var t=e(ml,ml),r=1;function n(){return r===1?e(ml,ml):r===.5?e(imt,amt):e(yoe(r),yoe(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},e0(t)}function MH(){var e=IH(AM());return e.copy=function(){return z9(e,MH()).exponent(e.exponent())},Sc.apply(e,arguments),e}function omt(){return MH.apply(null,arguments).exponent(.5)}function voe(e){return Math.sign(e)*e*e}function smt(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function U3e(){var e=EH(),t=[0,1],r=!1,n;function i(s){var c=smt(e(s));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(s){return e.invert(voe(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,cC)).map(voe)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return U3e(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Sc.apply(i,arguments),e0(i)}function W3e(){var e=[],t=[],r=[],n;function i(){var c=0,p=Math.max(1,t.length);for(r=new Array(p-1);++c<p;)r[c-1]=fht(e,c/p);return s}function s(c){return c==null||isNaN(c=+c)?n:t[L9(r,c)]}return s.invertExtent=function(c){var p=t.indexOf(c);return p<0?[NaN,NaN]:[p>0?r[p-1]:e[0],p<r.length?r[p]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let p of c)p!=null&&!isNaN(p=+p)&&e.push(p);return e.sort(_1),i()},s.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return W3e().domain(e).range(t).unknown(n)},Sc.apply(s,arguments)}function K3e(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function c(o){return o!=null&&o<=o?i[L9(n,o,0,r)]:s}function p(){var o=-1;for(n=new Array(r);++o<r;)n[o]=((o+1)*t-(o-r)*e)/(r+1);return c}return c.domain=function(o){return arguments.length?([e,t]=o,e=+e,t=+t,p()):[e,t]},c.range=function(o){return arguments.length?(r=(i=Array.from(o)).length-1,p()):i.slice()},c.invertExtent=function(o){var g=i.indexOf(o);return g<0?[NaN,NaN]:g<1?[e,n[0]]:g>=r?[n[r-1],t]:[n[g-1],n[g]]},c.unknown=function(o){return arguments.length&&(s=o),c},c.thresholds=function(){return n.slice()},c.copy=function(){return K3e().domain([e,t]).range(i).unknown(s)},Sc.apply(e0(c),arguments)}function H3e(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[L9(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return H3e().domain(e).range(t).unknown(r)},Sc.apply(i,arguments)}const SL=new Date,EL=new Date;function No(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const c=i(s),p=i.ceil(s);return s-c<p-s?c:p},i.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,p)=>{const o=[];if(s=i.ceil(s),p=p==null?1:Math.floor(p),!(s<c)||!(p>0))return o;let g;do o.push(g=new Date(+s)),t(s,p),e(s);while(g<s&&s<c);return o},i.filter=s=>No(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,p)=>{if(c>=c)if(p<0)for(;++p<=0;)for(;t(c,-1),!s(c););else for(;--p>=0;)for(;t(c,1),!s(c););}),r&&(i.count=(s,c)=>(SL.setTime(+s),EL.setTime(+c),e(SL),e(EL),Math.floor(r(SL,EL))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?c=>n(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const pC=No(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pC.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?No(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):pC);pC.range;const zp=1e3,uc=zp*60,Np=uc*60,hh=Np*24,kH=hh*7,_oe=hh*30,AL=hh*365,Zg=No(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*zp)},(e,t)=>(t-e)/zp,e=>e.getUTCSeconds());Zg.range;const OH=No(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zp)},(e,t)=>{e.setTime(+e+t*uc)},(e,t)=>(t-e)/uc,e=>e.getMinutes());OH.range;const DH=No(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*uc)},(e,t)=>(t-e)/uc,e=>e.getUTCMinutes());DH.range;const RH=No(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zp-e.getMinutes()*uc)},(e,t)=>{e.setTime(+e+t*Np)},(e,t)=>(t-e)/Np,e=>e.getHours());RH.range;const $H=No(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Np)},(e,t)=>(t-e)/Np,e=>e.getUTCHours());$H.range;const N9=No(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*uc)/hh,e=>e.getDate()-1);N9.range;const TM=No(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hh,e=>e.getUTCDate()-1);TM.range;const G3e=No(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hh,e=>Math.floor(e/hh));G3e.range;function lv(e){return No(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*uc)/kH)}const PM=lv(0),hC=lv(1),lmt=lv(2),umt=lv(3),Hx=lv(4),cmt=lv(5),dmt=lv(6);PM.range;hC.range;lmt.range;umt.range;Hx.range;cmt.range;dmt.range;function uv(e){return No(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/kH)}const CM=uv(0),mC=uv(1),fmt=uv(2),pmt=uv(3),Gx=uv(4),hmt=uv(5),mmt=uv(6);CM.range;mC.range;fmt.range;pmt.range;Gx.range;hmt.range;mmt.range;const LH=No(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());LH.range;const BH=No(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());BH.range;const mh=No(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());mh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:No(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});mh.range;const gh=No(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:No(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});gh.range;function q3e(e,t,r,n,i,s){const c=[[Zg,1,zp],[Zg,5,5*zp],[Zg,15,15*zp],[Zg,30,30*zp],[s,1,uc],[s,5,5*uc],[s,15,15*uc],[s,30,30*uc],[i,1,Np],[i,3,3*Np],[i,6,6*Np],[i,12,12*Np],[n,1,hh],[n,2,2*hh],[r,1,kH],[t,1,_oe],[t,3,3*_oe],[e,1,AL]];function p(g,y,x){const E=y<g;E&&([g,y]=[y,g]);const A=x&&typeof x.range=="function"?x:o(g,y,x),M=A?A.range(g,+y+1):[];return E?M.reverse():M}function o(g,y,x){const E=Math.abs(y-g)/x,A=_H(([,,k])=>k).right(c,E);if(A===c.length)return e.every(Fj(g/AL,y/AL,x));if(A===0)return pC.every(Math.max(Fj(g,y,x),1));const[M,R]=c[E/c[A-1][2]<c[A][2]/E?A-1:A];return M.every(R)}return[p,o]}const[gmt,ymt]=q3e(gh,BH,CM,G3e,$H,DH),[vmt,_mt]=q3e(mh,LH,PM,N9,RH,OH);function TL(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function PL(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function R2(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function bmt(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,c=e.shortDays,p=e.months,o=e.shortMonths,g=$2(i),y=L2(i),x=$2(s),E=L2(s),A=$2(c),M=L2(c),R=$2(p),k=L2(p),D=$2(o),$=L2(o),B={a:re,A:he,b:we,B:ye,c:null,d:Aoe,e:Aoe,f:Umt,g:Qmt,G:t1t,H:Fmt,I:jmt,j:Vmt,L:Z3e,m:Wmt,M:Kmt,p:ue,q:J,Q:Coe,s:Ioe,S:Hmt,u:Gmt,U:qmt,V:Zmt,w:Xmt,W:Ymt,x:null,X:null,y:Jmt,Y:e1t,Z:r1t,"%":Poe},V={a:de,A:ke,b:Oe,B:Se,c:null,d:Toe,e:Toe,f:o1t,g:g1t,G:v1t,H:n1t,I:i1t,j:a1t,L:Y3e,m:s1t,M:l1t,p:We,q:Je,Q:Coe,s:Ioe,S:u1t,u:c1t,U:d1t,V:f1t,w:p1t,W:h1t,x:null,X:null,y:m1t,Y:y1t,Z:_1t,"%":Poe},U={a:be,A:pe,b:le,B:G,c:N,d:Soe,e:Soe,f:Lmt,g:woe,G:xoe,H:Eoe,I:Eoe,j:Omt,L:$mt,m:kmt,M:Dmt,p:fe,q:Mmt,Q:zmt,s:Nmt,S:Rmt,u:Amt,U:Tmt,V:Pmt,w:Emt,W:Cmt,x:Y,X:te,y:woe,Y:xoe,Z:Imt,"%":Bmt};B.x=Z(r,B),B.X=Z(n,B),B.c=Z(t,B),V.x=Z(r,V),V.X=Z(n,V),V.c=Z(t,V);function Z($e,ft){return function(Me){var Te=[],Le=-1,Ne=0,At=$e.length,Ct,Lt,sr;for(Me instanceof Date||(Me=new Date(+Me));++Le<At;)$e.charCodeAt(Le)===37&&(Te.push($e.slice(Ne,Le)),(Lt=boe[Ct=$e.charAt(++Le)])!=null?Ct=$e.charAt(++Le):Lt=Ct==="e"?" ":"0",(sr=ft[Ct])&&(Ct=sr(Me,Lt)),Te.push(Ct),Ne=Le+1);return Te.push($e.slice(Ne,Le)),Te.join("")}}function ne($e,ft){return function(Me){var Te=R2(1900,void 0,1),Le=j(Te,$e,Me+="",0),Ne,At;if(Le!=Me.length)return null;if("Q"in Te)return new Date(Te.Q);if("s"in Te)return new Date(Te.s*1e3+("L"in Te?Te.L:0));if(ft&&!("Z"in Te)&&(Te.Z=0),"p"in Te&&(Te.H=Te.H%12+Te.p*12),Te.m===void 0&&(Te.m="q"in Te?Te.q:0),"V"in Te){if(Te.V<1||Te.V>53)return null;"w"in Te||(Te.w=1),"Z"in Te?(Ne=PL(R2(Te.y,0,1)),At=Ne.getUTCDay(),Ne=At>4||At===0?mC.ceil(Ne):mC(Ne),Ne=TM.offset(Ne,(Te.V-1)*7),Te.y=Ne.getUTCFullYear(),Te.m=Ne.getUTCMonth(),Te.d=Ne.getUTCDate()+(Te.w+6)%7):(Ne=TL(R2(Te.y,0,1)),At=Ne.getDay(),Ne=At>4||At===0?hC.ceil(Ne):hC(Ne),Ne=N9.offset(Ne,(Te.V-1)*7),Te.y=Ne.getFullYear(),Te.m=Ne.getMonth(),Te.d=Ne.getDate()+(Te.w+6)%7)}else("W"in Te||"U"in Te)&&("w"in Te||(Te.w="u"in Te?Te.u%7:"W"in Te?1:0),At="Z"in Te?PL(R2(Te.y,0,1)).getUTCDay():TL(R2(Te.y,0,1)).getDay(),Te.m=0,Te.d="W"in Te?(Te.w+6)%7+Te.W*7-(At+5)%7:Te.w+Te.U*7-(At+6)%7);return"Z"in Te?(Te.H+=Te.Z/100|0,Te.M+=Te.Z%100,PL(Te)):TL(Te)}}function j($e,ft,Me,Te){for(var Le=0,Ne=ft.length,At=Me.length,Ct,Lt;Le<Ne;){if(Te>=At)return-1;if(Ct=ft.charCodeAt(Le++),Ct===37){if(Ct=ft.charAt(Le++),Lt=U[Ct in boe?ft.charAt(Le++):Ct],!Lt||(Te=Lt($e,Me,Te))<0)return-1}else if(Ct!=Me.charCodeAt(Te++))return-1}return Te}function fe($e,ft,Me){var Te=g.exec(ft.slice(Me));return Te?($e.p=y.get(Te[0].toLowerCase()),Me+Te[0].length):-1}function be($e,ft,Me){var Te=A.exec(ft.slice(Me));return Te?($e.w=M.get(Te[0].toLowerCase()),Me+Te[0].length):-1}function pe($e,ft,Me){var Te=x.exec(ft.slice(Me));return Te?($e.w=E.get(Te[0].toLowerCase()),Me+Te[0].length):-1}function le($e,ft,Me){var Te=D.exec(ft.slice(Me));return Te?($e.m=$.get(Te[0].toLowerCase()),Me+Te[0].length):-1}function G($e,ft,Me){var Te=R.exec(ft.slice(Me));return Te?($e.m=k.get(Te[0].toLowerCase()),Me+Te[0].length):-1}function N($e,ft,Me){return j($e,t,ft,Me)}function Y($e,ft,Me){return j($e,r,ft,Me)}function te($e,ft,Me){return j($e,n,ft,Me)}function re($e){return c[$e.getDay()]}function he($e){return s[$e.getDay()]}function we($e){return o[$e.getMonth()]}function ye($e){return p[$e.getMonth()]}function ue($e){return i[+($e.getHours()>=12)]}function J($e){return 1+~~($e.getMonth()/3)}function de($e){return c[$e.getUTCDay()]}function ke($e){return s[$e.getUTCDay()]}function Oe($e){return o[$e.getUTCMonth()]}function Se($e){return p[$e.getUTCMonth()]}function We($e){return i[+($e.getUTCHours()>=12)]}function Je($e){return 1+~~($e.getUTCMonth()/3)}return{format:function($e){var ft=Z($e+="",B);return ft.toString=function(){return $e},ft},parse:function($e){var ft=ne($e+="",!1);return ft.toString=function(){return $e},ft},utcFormat:function($e){var ft=Z($e+="",V);return ft.toString=function(){return $e},ft},utcParse:function($e){var ft=ne($e+="",!0);return ft.toString=function(){return $e},ft}}}var boe={"-":"",_:" ",0:"0"},as=/^\s*\d+/,xmt=/^%/,wmt=/[\\^$*+?|[\]().{}]/g;function $i(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function Smt(e){return e.replace(wmt,"\\$&")}function $2(e){return new RegExp("^(?:"+e.map(Smt).join("|")+")","i")}function L2(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Emt(e,t,r){var n=as.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Amt(e,t,r){var n=as.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Tmt(e,t,r){var n=as.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Pmt(e,t,r){var n=as.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Cmt(e,t,r){var n=as.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function xoe(e,t,r){var n=as.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function woe(e,t,r){var n=as.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Imt(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Mmt(e,t,r){var n=as.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function kmt(e,t,r){var n=as.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Soe(e,t,r){var n=as.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Omt(e,t,r){var n=as.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Eoe(e,t,r){var n=as.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Dmt(e,t,r){var n=as.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Rmt(e,t,r){var n=as.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function $mt(e,t,r){var n=as.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Lmt(e,t,r){var n=as.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Bmt(e,t,r){var n=xmt.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function zmt(e,t,r){var n=as.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Nmt(e,t,r){var n=as.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Aoe(e,t){return $i(e.getDate(),t,2)}function Fmt(e,t){return $i(e.getHours(),t,2)}function jmt(e,t){return $i(e.getHours()%12||12,t,2)}function Vmt(e,t){return $i(1+N9.count(mh(e),e),t,3)}function Z3e(e,t){return $i(e.getMilliseconds(),t,3)}function Umt(e,t){return Z3e(e,t)+"000"}function Wmt(e,t){return $i(e.getMonth()+1,t,2)}function Kmt(e,t){return $i(e.getMinutes(),t,2)}function Hmt(e,t){return $i(e.getSeconds(),t,2)}function Gmt(e){var t=e.getDay();return t===0?7:t}function qmt(e,t){return $i(PM.count(mh(e)-1,e),t,2)}function X3e(e){var t=e.getDay();return t>=4||t===0?Hx(e):Hx.ceil(e)}function Zmt(e,t){return e=X3e(e),$i(Hx.count(mh(e),e)+(mh(e).getDay()===4),t,2)}function Xmt(e){return e.getDay()}function Ymt(e,t){return $i(hC.count(mh(e)-1,e),t,2)}function Jmt(e,t){return $i(e.getFullYear()%100,t,2)}function Qmt(e,t){return e=X3e(e),$i(e.getFullYear()%100,t,2)}function e1t(e,t){return $i(e.getFullYear()%1e4,t,4)}function t1t(e,t){var r=e.getDay();return e=r>=4||r===0?Hx(e):Hx.ceil(e),$i(e.getFullYear()%1e4,t,4)}function r1t(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$i(t/60|0,"0",2)+$i(t%60,"0",2)}function Toe(e,t){return $i(e.getUTCDate(),t,2)}function n1t(e,t){return $i(e.getUTCHours(),t,2)}function i1t(e,t){return $i(e.getUTCHours()%12||12,t,2)}function a1t(e,t){return $i(1+TM.count(gh(e),e),t,3)}function Y3e(e,t){return $i(e.getUTCMilliseconds(),t,3)}function o1t(e,t){return Y3e(e,t)+"000"}function s1t(e,t){return $i(e.getUTCMonth()+1,t,2)}function l1t(e,t){return $i(e.getUTCMinutes(),t,2)}function u1t(e,t){return $i(e.getUTCSeconds(),t,2)}function c1t(e){var t=e.getUTCDay();return t===0?7:t}function d1t(e,t){return $i(CM.count(gh(e)-1,e),t,2)}function J3e(e){var t=e.getUTCDay();return t>=4||t===0?Gx(e):Gx.ceil(e)}function f1t(e,t){return e=J3e(e),$i(Gx.count(gh(e),e)+(gh(e).getUTCDay()===4),t,2)}function p1t(e){return e.getUTCDay()}function h1t(e,t){return $i(mC.count(gh(e)-1,e),t,2)}function m1t(e,t){return $i(e.getUTCFullYear()%100,t,2)}function g1t(e,t){return e=J3e(e),$i(e.getUTCFullYear()%100,t,2)}function y1t(e,t){return $i(e.getUTCFullYear()%1e4,t,4)}function v1t(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gx(e):Gx.ceil(e),$i(e.getUTCFullYear()%1e4,t,4)}function _1t(){return"+0000"}function Poe(){return"%"}function Coe(e){return+e}function Ioe(e){return Math.floor(+e/1e3)}var V_,Q3e,ewe;b1t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b1t(e){return V_=bmt(e),Q3e=V_.format,V_.parse,ewe=V_.utcFormat,V_.utcParse,V_}function x1t(e){return new Date(e)}function w1t(e){return e instanceof Date?+e:+new Date(+e)}function zH(e,t,r,n,i,s,c,p,o,g){var y=EH(),x=y.invert,E=y.domain,A=g(".%L"),M=g(":%S"),R=g("%I:%M"),k=g("%I %p"),D=g("%a %d"),$=g("%b %d"),B=g("%B"),V=g("%Y");function U(Z){return(o(Z)<Z?A:p(Z)<Z?M:c(Z)<Z?R:s(Z)<Z?k:n(Z)<Z?i(Z)<Z?D:$:r(Z)<Z?B:V)(Z)}return y.invert=function(Z){return new Date(x(Z))},y.domain=function(Z){return arguments.length?E(Array.from(Z,w1t)):E().map(x1t)},y.ticks=function(Z){var ne=E();return e(ne[0],ne[ne.length-1],Z??10)},y.tickFormat=function(Z,ne){return ne==null?U:g(ne)},y.nice=function(Z){var ne=E();return(!Z||typeof Z.range!="function")&&(Z=t(ne[0],ne[ne.length-1],Z??10)),Z?E(F3e(ne,Z)):y},y.copy=function(){return z9(y,zH(e,t,r,n,i,s,c,p,o,g))},y}function S1t(){return Sc.apply(zH(vmt,_mt,mh,LH,PM,N9,RH,OH,Zg,Q3e).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function E1t(){return Sc.apply(zH(gmt,ymt,gh,BH,CM,TM,$H,DH,Zg,ewe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function IM(){var e=0,t=1,r,n,i,s,c=ml,p=!1,o;function g(x){return x==null||isNaN(x=+x)?o:c(i===0?.5:(x=(s(x)-r)*i,p?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([e,t]=x,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),g):[e,t]},g.clamp=function(x){return arguments.length?(p=!!x,g):p},g.interpolator=function(x){return arguments.length?(c=x,g):c};function y(x){return function(E){var A,M;return arguments.length?([A,M]=E,c=x(A,M),g):[c(0),c(1)]}}return g.range=y(o3),g.rangeRound=y(SH),g.unknown=function(x){return arguments.length?(o=x,g):o},function(x){return s=x,r=x(e),n=x(t),i=r===n?0:1/(n-r),g}}function t0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function twe(){var e=e0(IM()(ml));return e.copy=function(){return t0(e,twe())},Ch.apply(e,arguments)}function rwe(){var e=PH(IM()).domain([1,10]);return e.copy=function(){return t0(e,rwe()).base(e.base())},Ch.apply(e,arguments)}function nwe(){var e=CH(IM());return e.copy=function(){return t0(e,nwe()).constant(e.constant())},Ch.apply(e,arguments)}function NH(){var e=IH(IM());return e.copy=function(){return t0(e,NH()).exponent(e.exponent())},Ch.apply(e,arguments)}function A1t(){return NH.apply(null,arguments).exponent(.5)}function iwe(){var e=[],t=ml;function r(n){if(n!=null&&!isNaN(n=+n))return t((L9(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(_1),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>dht(e,s/n))},r.copy=function(){return iwe(t).domain(e)},Ch.apply(r,arguments)}function MM(){var e=0,t=.5,r=1,n=1,i,s,c,p,o,g=ml,y,x=!1,E;function A(R){return isNaN(R=+R)?E:(R=.5+((R=+y(R))-s)*(n*R<n*s?p:o),g(x?Math.max(0,Math.min(1,R)):R))}A.domain=function(R){return arguments.length?([e,t,r]=R,i=y(e=+e),s=y(t=+t),c=y(r=+r),p=i===s?0:.5/(s-i),o=s===c?0:.5/(c-s),n=s<i?-1:1,A):[e,t,r]},A.clamp=function(R){return arguments.length?(x=!!R,A):x},A.interpolator=function(R){return arguments.length?(g=R,A):g};function M(R){return function(k){var D,$,B;return arguments.length?([D,$,B]=k,g=Bht(R,[D,$,B]),A):[g(0),g(.5),g(1)]}}return A.range=M(o3),A.rangeRound=M(SH),A.unknown=function(R){return arguments.length?(E=R,A):E},function(R){return y=R,i=R(e),s=R(t),c=R(r),p=i===s?0:.5/(s-i),o=s===c?0:.5/(c-s),n=s<i?-1:1,A}}function awe(){var e=e0(MM()(ml));return e.copy=function(){return t0(e,awe())},Ch.apply(e,arguments)}function owe(){var e=PH(MM()).domain([.1,1,10]);return e.copy=function(){return t0(e,owe()).base(e.base())},Ch.apply(e,arguments)}function swe(){var e=CH(MM());return e.copy=function(){return t0(e,swe()).constant(e.constant())},Ch.apply(e,arguments)}function FH(){var e=IH(MM());return e.copy=function(){return t0(e,FH()).exponent(e.exponent())},Ch.apply(e,arguments)}function T1t(){return FH.apply(null,arguments).exponent(.5)}const Moe=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:r8,scaleDiverging:awe,scaleDivergingLog:owe,scaleDivergingPow:FH,scaleDivergingSqrt:T1t,scaleDivergingSymlog:swe,scaleIdentity:N3e,scaleImplicit:jj,scaleLinear:fC,scaleLog:j3e,scaleOrdinal:bH,scalePoint:o5,scalePow:MH,scaleQuantile:W3e,scaleQuantize:K3e,scaleRadial:U3e,scaleSequential:twe,scaleSequentialLog:rwe,scaleSequentialPow:NH,scaleSequentialQuantile:iwe,scaleSequentialSqrt:A1t,scaleSequentialSymlog:nwe,scaleSqrt:omt,scaleSymlog:V3e,scaleThreshold:H3e,scaleTime:S1t,scaleUtc:E1t,tickFormat:z3e},Symbol.toStringTag,{value:"Module"}));var P1t=J4;function C1t(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],c=t(s);if(c!=null&&(p===void 0?c===c&&!P1t(c):r(c,p)))var p=c,o=s}return o}var lwe=C1t;function I1t(e,t){return e>t}var M1t=I1t,k1t=lwe,O1t=M1t,D1t=a3;function R1t(e){return e&&e.length?k1t(e,D1t,O1t):void 0}var $1t=R1t;const kM=oi($1t);function L1t(e,t){return e<t}var B1t=L1t,z1t=lwe,N1t=B1t,F1t=a3;function j1t(e){return e&&e.length?z1t(e,F1t,N1t):void 0}var V1t=j1t;const OM=oi(V1t);var U1t=QK,W1t=Q1,K1t=g3e,H1t=Hl;function G1t(e,t){var r=H1t(e)?U1t:K1t;return r(e,W1t(t))}var q1t=G1t,Z1t=h3e,X1t=q1t;function Y1t(e,t){return Z1t(X1t(e,t),1)}var J1t=Y1t;const Q1t=oi(J1t);var e0t=mH;function t0t(e,t){return e0t(e,t)}var r0t=t0t;const DM=oi(r0t);var s3=1e9,n0t={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VH,Ra=!0,bc="[DecimalError] ",cy=bc+"Invalid argument: ",jH=bc+"Exponent out of range: ",l3=Math.floor,Cg=Math.pow,i0t=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hu,qo=1e7,Sa=7,uwe=9007199254740991,gC=l3(uwe/Sa),qr={};qr.absoluteValue=qr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};qr.comparedTo=qr.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};qr.decimalPlaces=qr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Sa;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};qr.dividedBy=qr.div=function(e){return Qp(this,new this.constructor(e))};qr.dividedToIntegerBy=qr.idiv=function(e){var t=this,r=t.constructor;return sa(Qp(t,new r(e),0,1),r.precision)};qr.equals=qr.eq=function(e){return!this.cmp(e)};qr.exponent=function(){return vo(this)};qr.greaterThan=qr.gt=function(e){return this.cmp(e)>0};qr.greaterThanOrEqualTo=qr.gte=function(e){return this.cmp(e)>=0};qr.isInteger=qr.isint=function(){return this.e>this.d.length-2};qr.isNegative=qr.isneg=function(){return this.s<0};qr.isPositive=qr.ispos=function(){return this.s>0};qr.isZero=function(){return this.s===0};qr.lessThan=qr.lt=function(e){return this.cmp(e)<0};qr.lessThanOrEqualTo=qr.lte=function(e){return this.cmp(e)<1};qr.logarithm=qr.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(hu))throw Error(bc+"NaN");if(r.s<1)throw Error(bc+(r.s?"NaN":"-Infinity"));return r.eq(hu)?new n(0):(Ra=!1,t=Qp(s8(r,s),s8(e,s),s),Ra=!0,sa(t,i))};qr.minus=qr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fwe(t,e):cwe(t,(e.s=-e.s,e))};qr.modulo=qr.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(bc+"NaN");return r.s?(Ra=!1,t=Qp(r,e,0,1).times(e),Ra=!0,r.minus(t)):sa(new n(r),i)};qr.naturalExponential=qr.exp=function(){return dwe(this)};qr.naturalLogarithm=qr.ln=function(){return s8(this)};qr.negated=qr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};qr.plus=qr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cwe(t,e):fwe(t,(e.s=-e.s,e))};qr.precision=qr.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(cy+e);if(t=vo(i)+1,n=i.d.length-1,r=n*Sa+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};qr.squareRoot=qr.sqrt=function(){var e,t,r,n,i,s,c,p=this,o=p.constructor;if(p.s<1){if(!p.s)return new o(0);throw Error(bc+"NaN")}for(e=vo(p),Ra=!1,i=Math.sqrt(+p),i==0||i==1/0?(t=df(p.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=l3((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new o(t)):n=new o(i.toString()),r=o.precision,i=c=r+3;;)if(s=n,n=s.plus(Qp(p,s,c+2)).times(.5),df(s.d).slice(0,c)===(t=df(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(sa(s,r+1,0),s.times(s).eq(p)){n=s;break}}else if(t!="9999")break;c+=4}return Ra=!0,sa(n,r)};qr.times=qr.mul=function(e){var t,r,n,i,s,c,p,o,g,y=this,x=y.constructor,E=y.d,A=(e=new x(e)).d;if(!y.s||!e.s)return new x(0);for(e.s*=y.s,r=y.e+e.e,o=E.length,g=A.length,o<g&&(s=E,E=A,A=s,c=o,o=g,g=c),s=[],c=o+g,n=c;n--;)s.push(0);for(n=g;--n>=0;){for(t=0,i=o+n;i>n;)p=s[i]+A[n]*E[i-n-1]+t,s[i--]=p%qo|0,t=p/qo|0;s[i]=(s[i]+t)%qo|0}for(;!s[--c];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ra?sa(e,x.precision):e};qr.toDecimalPlaces=qr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(bf(e,0,s3),t===void 0?t=n.rounding:bf(t,0,8),sa(r,e+vo(r)+1,t))};qr.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=$y(n,!0):(bf(e,0,s3),t===void 0?t=i.rounding:bf(t,0,8),n=sa(new i(n),e+1,t),r=$y(n,!0,e+1)),r};qr.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?$y(i):(bf(e,0,s3),t===void 0?t=s.rounding:bf(t,0,8),n=sa(new s(i),e+vo(i)+1,t),r=$y(n.abs(),!1,e+vo(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};qr.toInteger=qr.toint=function(){var e=this,t=e.constructor;return sa(new t(e),vo(e)+1,t.rounding)};qr.toNumber=function(){return+this};qr.toPower=qr.pow=function(e){var t,r,n,i,s,c,p=this,o=p.constructor,g=12,y=+(e=new o(e));if(!e.s)return new o(hu);if(p=new o(p),!p.s){if(e.s<1)throw Error(bc+"Infinity");return p}if(p.eq(hu))return p;if(n=o.precision,e.eq(hu))return sa(p,n);if(t=e.e,r=e.d.length-1,c=t>=r,s=p.s,c){if((r=y<0?-y:y)<=uwe){for(i=new o(hu),t=Math.ceil(n/Sa+4),Ra=!1;r%2&&(i=i.times(p),Ooe(i.d,t)),r=l3(r/2),r!==0;)p=p.times(p),Ooe(p.d,t);return Ra=!0,e.s<0?new o(hu).div(i):sa(i,n)}}else if(s<0)throw Error(bc+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,p.s=1,Ra=!1,i=e.times(s8(p,n+g)),Ra=!0,i=dwe(i),i.s=s,i};qr.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=vo(i),n=$y(i,r<=s.toExpNeg||r>=s.toExpPos)):(bf(e,1,s3),t===void 0?t=s.rounding:bf(t,0,8),i=sa(new s(i),e,t),r=vo(i),n=$y(i,e<=r||r<=s.toExpNeg,e)),n};qr.toSignificantDigits=qr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(bf(e,1,s3),t===void 0?t=n.rounding:bf(t,0,8)),sa(new n(r),e,t)};qr.toString=qr.valueOf=qr.val=qr.toJSON=qr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vo(e),r=e.constructor;return $y(e,t<=r.toExpNeg||t>=r.toExpPos)};function cwe(e,t){var r,n,i,s,c,p,o,g,y=e.constructor,x=y.precision;if(!e.s||!t.s)return t.s||(t=new y(e)),Ra?sa(t,x):t;if(o=e.d,g=t.d,c=e.e,i=t.e,o=o.slice(),s=c-i,s){for(s<0?(n=o,s=-s,p=g.length):(n=g,i=c,p=o.length),c=Math.ceil(x/Sa),p=c>p?c+1:p+1,s>p&&(s=p,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(p=o.length,s=g.length,p-s<0&&(s=p,n=g,g=o,o=n),r=0;s;)r=(o[--s]=o[s]+g[s]+r)/qo|0,o[s]%=qo;for(r&&(o.unshift(r),++i),p=o.length;o[--p]==0;)o.pop();return t.d=o,t.e=i,Ra?sa(t,x):t}function bf(e,t,r){if(e!==~~e||e<t||e>r)throw Error(cy+e)}function df(e){var t,r,n,i=e.length-1,s="",c=e[0];if(i>0){for(s+=c,t=1;t<i;t++)n=e[t]+"",r=Sa-n.length,r&&(s+=Um(r)),s+=n;c=e[t],n=c+"",r=Sa-n.length,r&&(s+=Um(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Qp=function(){function e(n,i){var s,c=0,p=n.length;for(n=n.slice();p--;)s=n[p]*i+c,n[p]=s%qo|0,c=s/qo|0;return c&&n.unshift(c),n}function t(n,i,s,c){var p,o;if(s!=c)o=s>c?1:-1;else for(p=o=0;p<s;p++)if(n[p]!=i[p]){o=n[p]>i[p]?1:-1;break}return o}function r(n,i,s){for(var c=0;s--;)n[s]-=c,c=n[s]<i[s]?1:0,n[s]=c*qo+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,c){var p,o,g,y,x,E,A,M,R,k,D,$,B,V,U,Z,ne,j,fe=n.constructor,be=n.s==i.s?1:-1,pe=n.d,le=i.d;if(!n.s)return new fe(n);if(!i.s)throw Error(bc+"Division by zero");for(o=n.e-i.e,ne=le.length,U=pe.length,A=new fe(be),M=A.d=[],g=0;le[g]==(pe[g]||0);)++g;if(le[g]>(pe[g]||0)&&--o,s==null?$=s=fe.precision:c?$=s+(vo(n)-vo(i))+1:$=s,$<0)return new fe(0);if($=$/Sa+2|0,g=0,ne==1)for(y=0,le=le[0],$++;(g<U||y)&&$--;g++)B=y*qo+(pe[g]||0),M[g]=B/le|0,y=B%le|0;else{for(y=qo/(le[0]+1)|0,y>1&&(le=e(le,y),pe=e(pe,y),ne=le.length,U=pe.length),V=ne,R=pe.slice(0,ne),k=R.length;k<ne;)R[k++]=0;j=le.slice(),j.unshift(0),Z=le[0],le[1]>=qo/2&&++Z;do y=0,p=t(le,R,ne,k),p<0?(D=R[0],ne!=k&&(D=D*qo+(R[1]||0)),y=D/Z|0,y>1?(y>=qo&&(y=qo-1),x=e(le,y),E=x.length,k=R.length,p=t(x,R,E,k),p==1&&(y--,r(x,ne<E?j:le,E))):(y==0&&(p=y=1),x=le.slice()),E=x.length,E<k&&x.unshift(0),r(R,x,k),p==-1&&(k=R.length,p=t(le,R,ne,k),p<1&&(y++,r(R,ne<k?j:le,k))),k=R.length):p===0&&(y++,R=[0]),M[g++]=y,p&&R[0]?R[k++]=pe[V]||0:(R=[pe[V]],k=1);while((V++<U||R[0]!==void 0)&&$--)}return M[0]||M.shift(),A.e=o,sa(A,c?s+vo(A)+1:s)}}();function dwe(e,t){var r,n,i,s,c,p,o=0,g=0,y=e.constructor,x=y.precision;if(vo(e)>16)throw Error(jH+vo(e));if(!e.s)return new y(hu);for(t==null?(Ra=!1,p=x):p=t,c=new y(.03125);e.abs().gte(.1);)e=e.times(c),g+=5;for(n=Math.log(Cg(2,g))/Math.LN10*2+5|0,p+=n,r=i=s=new y(hu),y.precision=p;;){if(i=sa(i.times(e),p),r=r.times(++o),c=s.plus(Qp(i,r,p)),df(c.d).slice(0,p)===df(s.d).slice(0,p)){for(;g--;)s=sa(s.times(s),p);return y.precision=x,t==null?(Ra=!0,sa(s,x)):s}s=c}}function vo(e){for(var t=e.e*Sa,r=e.d[0];r>=10;r/=10)t++;return t}function CL(e,t,r){if(t>e.LN10.sd())throw Ra=!0,r&&(e.precision=r),Error(bc+"LN10 precision limit exceeded");return sa(new e(e.LN10),t)}function Um(e){for(var t="";e--;)t+="0";return t}function s8(e,t){var r,n,i,s,c,p,o,g,y,x=1,E=10,A=e,M=A.d,R=A.constructor,k=R.precision;if(A.s<1)throw Error(bc+(A.s?"NaN":"-Infinity"));if(A.eq(hu))return new R(0);if(t==null?(Ra=!1,g=k):g=t,A.eq(10))return t==null&&(Ra=!0),CL(R,g);if(g+=E,R.precision=g,r=df(M),n=r.charAt(0),s=vo(A),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)A=A.times(e),r=df(A.d),n=r.charAt(0),x++;s=vo(A),n>1?(A=new R("0."+r),s++):A=new R(n+"."+r.slice(1))}else return o=CL(R,g+2,k).times(s+""),A=s8(new R(n+"."+r.slice(1)),g-E).plus(o),R.precision=k,t==null?(Ra=!0,sa(A,k)):A;for(p=c=A=Qp(A.minus(hu),A.plus(hu),g),y=sa(A.times(A),g),i=3;;){if(c=sa(c.times(y),g),o=p.plus(Qp(c,new R(i),g)),df(o.d).slice(0,g)===df(p.d).slice(0,g))return p=p.times(2),s!==0&&(p=p.plus(CL(R,g+2,k).times(s+""))),p=Qp(p,new R(x),g),R.precision=k,t==null?(Ra=!0,sa(p,k)):p;p=o,i+=2}}function koe(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=l3(r/Sa),e.d=[],n=(r+1)%Sa,r<0&&(n+=Sa),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Sa;n<i;)e.d.push(+t.slice(n,n+=Sa));t=t.slice(n),n=Sa-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ra&&(e.e>gC||e.e<-gC))throw Error(jH+r)}else e.s=0,e.e=0,e.d=[0];return e}function sa(e,t,r){var n,i,s,c,p,o,g,y,x=e.d;for(c=1,s=x[0];s>=10;s/=10)c++;if(n=t-c,n<0)n+=Sa,i=t,g=x[y=0];else{if(y=Math.ceil((n+1)/Sa),s=x.length,y>=s)return e;for(g=s=x[y],c=1;s>=10;s/=10)c++;n%=Sa,i=n-Sa+c}if(r!==void 0&&(s=Cg(10,c-i-1),p=g/s%10|0,o=t<0||x[y+1]!==void 0||g%s,o=r<4?(p||o)&&(r==0||r==(e.s<0?3:2)):p>5||p==5&&(r==4||o||r==6&&(n>0?i>0?g/Cg(10,c-i):0:x[y-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return o?(s=vo(e),x.length=1,t=t-s-1,x[0]=Cg(10,(Sa-t%Sa)%Sa),e.e=l3(-t/Sa)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(n==0?(x.length=y,s=1,y--):(x.length=y+1,s=Cg(10,Sa-n),x[y]=i>0?(g/Cg(10,c-i)%Cg(10,i)|0)*s:0),o)for(;;)if(y==0){(x[0]+=s)==qo&&(x[0]=1,++e.e);break}else{if(x[y]+=s,x[y]!=qo)break;x[y--]=0,s=1}for(n=x.length;x[--n]===0;)x.pop();if(Ra&&(e.e>gC||e.e<-gC))throw Error(jH+vo(e));return e}function fwe(e,t){var r,n,i,s,c,p,o,g,y,x,E=e.constructor,A=E.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new E(e),Ra?sa(t,A):t;if(o=e.d,x=t.d,n=t.e,g=e.e,o=o.slice(),c=g-n,c){for(y=c<0,y?(r=o,c=-c,p=x.length):(r=x,n=g,p=o.length),i=Math.max(Math.ceil(A/Sa),p)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=o.length,p=x.length,y=i<p,y&&(p=i),i=0;i<p;i++)if(o[i]!=x[i]){y=o[i]<x[i];break}c=0}for(y&&(r=o,o=x,x=r,t.s=-t.s),p=o.length,i=x.length-p;i>0;--i)o[p++]=0;for(i=x.length;i>c;){if(o[--i]<x[i]){for(s=i;s&&o[--s]===0;)o[s]=qo-1;--o[s],o[i]+=qo}o[i]-=x[i]}for(;o[--p]===0;)o.pop();for(;o[0]===0;o.shift())--n;return o[0]?(t.d=o,t.e=n,Ra?sa(t,A):t):new E(0)}function $y(e,t,r){var n,i=vo(e),s=df(e.d),c=s.length;return t?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+Um(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Um(-i-1)+s,r&&(n=r-c)>0&&(s+=Um(n))):i>=c?(s+=Um(i+1-c),r&&(n=r-i-1)>0&&(s=s+"."+Um(n))):((n=i+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(s+="."),s+=Um(n))),e.s<0?"-"+s:s}function Ooe(e,t){if(e.length>t)return e.length=t,!0}function pwe(e){var t,r,n;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(cy+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return koe(c,s.toString())}else if(typeof s!="string")throw Error(cy+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,i0t.test(s))koe(c,s);else throw Error(cy+s)}if(i.prototype=qr,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=pwe,i.config=i.set=a0t,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function a0t(e){if(!e||typeof e!="object")throw Error(bc+"Object expected");var t,r,n,i=["precision",1,s3,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(l3(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(cy+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(cy+r+": "+n);return this}var VH=pwe(n0t);hu=new VH(1);const ea=VH;function o0t(e){return c0t(e)||u0t(e)||l0t(e)||s0t()}function s0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l0t(e,t){if(e){if(typeof e=="string")return Kj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kj(e,t)}}function u0t(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function c0t(e){if(Array.isArray(e))return Kj(e)}function Kj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d0t=function(t){return t},hwe={"@@functional/placeholder":!0},mwe=function(t){return t===hwe},Doe=function(t){return function r(){return arguments.length===0||arguments.length===1&&mwe(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},f0t=function e(t,r){return t===1?r:Doe(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var c=i.filter(function(p){return p!==hwe}).length;return c>=t?r.apply(void 0,i):e(t-c,Doe(function(){for(var p=arguments.length,o=new Array(p),g=0;g<p;g++)o[g]=arguments[g];var y=i.map(function(x){return mwe(x)?o.shift():x});return r.apply(void 0,o0t(y).concat(o))}))})},RM=function(t){return f0t(t.length,t)},Hj=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},p0t=RM(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),h0t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return d0t;var i=r.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce(function(p,o){return o(p)},s.apply(void 0,arguments))}},Gj=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},gwe=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return r&&s.every(function(p,o){return p===r[o]})||(r=s,n=t.apply(void 0,s)),n}};function m0t(e){var t;return e===0?t=1:t=Math.floor(new ea(e).abs().log(10).toNumber())+1,t}function g0t(e,t,r){for(var n=new ea(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var y0t=RM(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),v0t=RM(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),_0t=RM(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const $M={rangeStep:g0t,getDigitCount:m0t,interpolateNumber:y0t,uninterpolateNumber:v0t,uninterpolateTruncation:_0t};function qj(e){return w0t(e)||x0t(e)||ywe(e)||b0t()}function b0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x0t(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function w0t(e){if(Array.isArray(e))return Zj(e)}function l8(e,t){return A0t(e)||E0t(e,t)||ywe(e,t)||S0t()}function S0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ywe(e,t){if(e){if(typeof e=="string")return Zj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zj(e,t)}}function Zj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E0t(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var c=e[Symbol.iterator](),p;!(n=(p=c.next()).done)&&(r.push(p.value),!(t&&r.length===t));n=!0);}catch(o){i=!0,s=o}finally{try{!n&&c.return!=null&&c.return()}finally{if(i)throw s}}return r}}function A0t(e){if(Array.isArray(e))return e}function vwe(e){var t=l8(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function _we(e,t,r){if(e.lte(0))return new ea(0);var n=$M.getDigitCount(e.toNumber()),i=new ea(10).pow(n),s=e.div(i),c=n!==1?.05:.1,p=new ea(Math.ceil(s.div(c).toNumber())).add(r).mul(c),o=p.mul(i);return t?o:new ea(Math.ceil(o))}function T0t(e,t,r){var n=1,i=new ea(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new ea(10).pow($M.getDigitCount(e)-1),i=new ea(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new ea(Math.floor(e)))}else e===0?i=new ea(Math.floor((t-1)/2)):r||(i=new ea(Math.floor(e)));var c=Math.floor((t-1)/2),p=h0t(p0t(function(o){return i.add(new ea(o-c).mul(n)).toNumber()}),Hj);return p(0,t)}function bwe(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ea(0),tickMin:new ea(0),tickMax:new ea(0)};var s=_we(new ea(t).sub(e).div(r-1),n,i),c;e<=0&&t>=0?c=new ea(0):(c=new ea(e).add(t).div(2),c=c.sub(new ea(c).mod(s)));var p=Math.ceil(c.sub(e).div(s).toNumber()),o=Math.ceil(new ea(t).sub(c).div(s).toNumber()),g=p+o+1;return g>r?bwe(e,t,r,n,i+1):(g<r&&(o=t>0?o+(r-g):o,p=t>0?p:p+(r-g)),{step:s,tickMin:c.sub(new ea(p).mul(s)),tickMax:c.add(new ea(o).mul(s))})}function P0t(e){var t=l8(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),p=vwe([r,n]),o=l8(p,2),g=o[0],y=o[1];if(g===-1/0||y===1/0){var x=y===1/0?[g].concat(qj(Hj(0,i-1).map(function(){return 1/0}))):[].concat(qj(Hj(0,i-1).map(function(){return-1/0})),[y]);return r>n?Gj(x):x}if(g===y)return T0t(g,i,s);var E=bwe(g,y,c,s),A=E.step,M=E.tickMin,R=E.tickMax,k=$M.rangeStep(M,R.add(new ea(.1).mul(A)),A);return r>n?Gj(k):k}function C0t(e,t){var r=l8(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=vwe([n,i]),p=l8(c,2),o=p[0],g=p[1];if(o===-1/0||g===1/0)return[n,i];if(o===g)return[o];var y=Math.max(t,2),x=_we(new ea(g).sub(o).div(y-1),s,0),E=[].concat(qj($M.rangeStep(new ea(o),new ea(g).sub(new ea(.99).mul(x)),x)),[g]);return n>i?Gj(E):E}var I0t=gwe(P0t),M0t=gwe(C0t),k0t="Invariant failed";function Ly(e,t){throw new Error(k0t)}var O0t=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function yC(){return yC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yC.apply(this,arguments)}function D0t(e,t){return B0t(e)||L0t(e,t)||$0t(e,t)||R0t()}function R0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $0t(e,t){if(e){if(typeof e=="string")return Roe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Roe(e,t)}}function Roe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L0t(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,c,p=[],o=!0,g=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(o=(n=s.call(r)).done)&&(p.push(n.value),p.length!==t);o=!0);}catch(y){g=!0,i=y}finally{try{if(!o&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw i}}return p}}function B0t(e){if(Array.isArray(e))return e}function z0t(e,t){if(e==null)return{};var r=N0t(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N0t(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function F9(e){var t=e.offset,r=e.layout,n=e.width,i=e.dataKey,s=e.data,c=e.dataPointFormatter,p=e.xAxis,o=e.yAxis,g=z0t(e,O0t),y=Ei(g,!1);e.direction==="x"&&p.type!=="number"&&Ly();var x=s.map(function(E){var A=c(E,i),M=A.x,R=A.y,k=A.value,D=A.errorVal;if(!D)return null;var $=[],B,V;if(Array.isArray(D)){var U=D0t(D,2);B=U[0],V=U[1]}else B=V=D;if(r==="vertical"){var Z=p.scale,ne=R+t,j=ne+n,fe=ne-n,be=Z(k-B),pe=Z(k+V);$.push({x1:pe,y1:j,x2:pe,y2:fe}),$.push({x1:be,y1:ne,x2:pe,y2:ne}),$.push({x1:be,y1:j,x2:be,y2:fe})}else if(r==="horizontal"){var le=o.scale,G=M+t,N=G-n,Y=G+n,te=le(k-B),re=le(k+V);$.push({x1:N,y1:re,x2:Y,y2:re}),$.push({x1:G,y1:te,x2:G,y2:re}),$.push({x1:N,y1:te,x2:Y,y2:te})}return Ke.createElement(lo,yC({className:"recharts-errorBar",key:"bar-".concat($.map(function(he){return"".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))},y),$.map(function(he){return Ke.createElement("line",yC({},he,{key:"line-".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))}))});return Ke.createElement(lo,{className:"recharts-errorBars"},x)}F9.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};F9.displayName="ErrorBar";function u8(e){"@babel/helpers - typeof";return u8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u8(e)}function $oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$oe(Object(r),!0).forEach(function(n){F0t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$oe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F0t(e,t,r){return t=j0t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j0t(e){var t=V0t(e,"string");return u8(t)=="symbol"?t:String(t)}function V0t(e,t){if(u8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(u8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xwe=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,c=su(r,X5);if(!c)return null;var p;return c.props&&c.props.payload?p=c.props&&c.props.payload:s==="children"?p=(n||[]).reduce(function(o,g){var y=g.item,x=g.props,E=x.sectors||x.data||[];return o.concat(E.map(function(A){return{type:c.props.iconType||y.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):p=(n||[]).map(function(o){var g=o.item,y=g.props,x=y.dataKey,E=y.name,A=y.legendType,M=y.hide;return{inactive:M,dataKey:x,type:c.props.iconType||A||"square",color:UH(g),value:E||x,payload:g.props}}),IL(IL(IL({},c.props),X5.getWithHeight(c,i)),{},{payload:p,item:c})};function c8(e){"@babel/helpers - typeof";return c8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c8(e)}function Loe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Loe(Object(r),!0).forEach(function(n){cx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Loe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cx(e,t,r){return t=U0t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U0t(e){var t=W0t(e,"string");return c8(t)=="symbol"?t:String(t)}function W0t(e,t){if(c8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(c8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Boe(e){return q0t(e)||G0t(e)||H0t(e)||K0t()}function K0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H0t(e,t){if(e){if(typeof e=="string")return Xj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xj(e,t)}}function G0t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function q0t(e){if(Array.isArray(e))return Xj(e)}function Xj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Su(e,t,r){return _i(e)||_i(t)?r:Bo(t)?pc(e,t,r):hi(t)?t(e):r}function s5(e,t,r,n){var i=Q1t(e,function(p){return Su(p,t)});if(r==="number"){var s=i.filter(function(p){return Lr(p)||parseFloat(p)});return s.length?[OM(s),kM(s)]:[1/0,-1/0]}var c=n?i.filter(function(p){return!_i(p)}):i;return c.map(function(p){return Bo(p)||p instanceof Date?p:""})}var Z0t=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=-1,p=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(p<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var o=s.range,g=0;g<p;g++){var y=g>0?i[g-1].coordinate:i[p-1].coordinate,x=i[g].coordinate,E=g>=p-1?i[0].coordinate:i[g+1].coordinate,A=void 0;if(cd(x-y)!==cd(E-x)){var M=[];if(cd(E-x)===cd(o[1]-o[0])){A=E;var R=x+o[1]-o[0];M[0]=Math.min(R,(R+y)/2),M[1]=Math.max(R,(R+y)/2)}else{A=y;var k=E+o[1]-o[0];M[0]=Math.min(x,(k+x)/2),M[1]=Math.max(x,(k+x)/2)}var D=[Math.min(x,(A+x)/2),Math.max(x,(A+x)/2)];if(t>D[0]&&t<=D[1]||t>=M[0]&&t<=M[1]){c=i[g].index;break}}else{var $=Math.min(y,E),B=Math.max(y,E);if(t>($+x)/2&&t<=(B+x)/2){c=i[g].index;break}}}else for(var V=0;V<p;V++)if(V===0&&t<=(n[V].coordinate+n[V+1].coordinate)/2||V>0&&V<p-1&&t>(n[V].coordinate+n[V-1].coordinate)/2&&t<=(n[V].coordinate+n[V+1].coordinate)/2||V===p-1&&t>(n[V].coordinate+n[V-1].coordinate)/2){c=n[V].index;break}return c},UH=function(t){var r=t,n=r.type.displayName,i=t.props,s=i.stroke,c=i.fill,p;switch(n){case"Line":p=s;break;case"Area":case"Radar":p=s&&s!=="none"?s:c;break;default:p=c;break}return p},X0t=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var c={},p=Object.keys(s),o=0,g=p.length;o<g;o++)for(var y=s[p[o]].stackGroups,x=Object.keys(y),E=0,A=x.length;E<A;E++){var M=y[x[E]],R=M.items,k=M.cateAxisId,D=R.filter(function(U){return Xp(U.type).indexOf("Bar")>=0});if(D&&D.length){var $=D[0].props.barSize,B=D[0].props[k];c[B]||(c[B]=[]);var V=_i($)?r:$;c[B].push({item:D[0],stackList:D.slice(1),barSize:_i(V)?void 0:Ry(V,n,0)})}}return c},Y0t=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,c=s===void 0?[]:s,p=t.maxBarSize,o=c.length;if(o<1)return null;var g=Ry(r,i,0,!0),y,x=[];if(c[0].barSize===+c[0].barSize){var E=!1,A=i/o,M=c.reduce(function(V,U){return V+U.barSize||0},0);M+=(o-1)*g,M>=i&&(M-=(o-1)*g,g=0),M>=i&&A>0&&(E=!0,A*=.9,M=o*A);var R=(i-M)/2>>0,k={offset:R-g,size:0};y=c.reduce(function(V,U){var Z={item:U.item,position:{offset:k.offset+k.size+g,size:E?A:U.barSize}},ne=[].concat(Boe(V),[Z]);return k=ne[ne.length-1].position,U.stackList&&U.stackList.length&&U.stackList.forEach(function(j){ne.push({item:j,position:k})}),ne},x)}else{var D=Ry(n,i,0,!0);i-2*D-(o-1)*g<=0&&(g=0);var $=(i-2*D-(o-1)*g)/o;$>1&&($>>=0);var B=p===+p?Math.min($,p):$;y=c.reduce(function(V,U,Z){var ne=[].concat(Boe(V),[{item:U.item,position:{offset:D+($+g)*Z+($-B)/2,size:B}}]);return U.stackList&&U.stackList.length&&U.stackList.forEach(function(j){ne.push({item:j,position:ne[ne.length-1].position})}),ne},x)}return y},J0t=function(t,r,n,i){var s=n.children,c=n.width,p=n.margin,o=c-(p.left||0)-(p.right||0),g=xwe({children:s,legendWidth:o});if(g){var y=i||{},x=y.width,E=y.height,A=g.align,M=g.verticalAlign,R=g.layout;if((R==="vertical"||R==="horizontal"&&M==="middle")&&A!=="center"&&Lr(t[A]))return ic(ic({},t),{},cx({},A,t[A]+(x||0)));if((R==="horizontal"||R==="vertical"&&A==="center")&&M!=="middle"&&Lr(t[M]))return ic(ic({},t),{},cx({},M,t[M]+(E||0)))}return t},Q0t=function(t,r,n){return _i(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},wwe=function(t,r,n,i,s){var c=r.props.children,p=hc(c,F9).filter(function(g){return Q0t(i,s,g.props.direction)});if(p&&p.length){var o=p.map(function(g){return g.props.dataKey});return t.reduce(function(g,y){var x=Su(y,n);if(_i(x))return g;var E=Array.isArray(x)?[OM(x),kM(x)]:[x,x],A=o.reduce(function(M,R){var k=Su(y,R,0),D=E[0]-Math.abs(Array.isArray(k)?k[0]:k),$=E[1]+Math.abs(Array.isArray(k)?k[1]:k);return[Math.min(D,M[0]),Math.max($,M[1])]},[1/0,-1/0]);return[Math.min(A[0],g[0]),Math.max(A[1],g[1])]},[1/0,-1/0])}return null},egt=function(t,r,n,i,s){var c=r.map(function(p){return wwe(t,p,n,s,i)}).filter(function(p){return!_i(p)});return c&&c.length?c.reduce(function(p,o){return[Math.min(p[0],o[0]),Math.max(p[1],o[1])]},[1/0,-1/0]):null},Swe=function(t,r,n,i,s){var c=r.map(function(o){var g=o.props.dataKey;return n==="number"&&g&&wwe(t,o,g,i)||s5(t,g,n,s)});if(n==="number")return c.reduce(function(o,g){return[Math.min(o[0],g[0]),Math.max(o[1],g[1])]},[1/0,-1/0]);var p={};return c.reduce(function(o,g){for(var y=0,x=g.length;y<x;y++)p[g[y]]||(p[g[y]]=!0,o.push(g[y]));return o},[])},Ewe=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Awe=function(t,r,n,i){if(i)return t.map(function(o){return o.coordinate});var s,c,p=t.map(function(o){return o.coordinate===r&&(s=!0),o.coordinate===n&&(c=!0),o.coordinate});return s||p.push(r),c||p.push(n),p},Fp=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,c=t.type,p=t.range,o=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,g=(r||n)&&c==="category"&&i.bandwidth?i.bandwidth()/o:0;if(g=t.axisType==="angleAxis"&&(p==null?void 0:p.length)>=2?cd(p[0]-p[1])*2*g:g,r&&(t.ticks||t.niceTicks)){var y=(t.ticks||t.niceTicks).map(function(x){var E=s?s.indexOf(x):x;return{coordinate:i(E)+g,value:x,offset:g}});return y.filter(function(x){return!D9(x.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(x,E){return{coordinate:i(x)+g,value:x,index:E,offset:g}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(x){return{coordinate:i(x)+g,value:x,offset:g}}):i.domain().map(function(x,E){return{coordinate:i(x)+g,value:s?s[x]:x,index:E,offset:g}})},ML=new WeakMap,vA=function(t,r){if(typeof r!="function")return t;ML.has(t)||ML.set(t,new WeakMap);var n=ML.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},tgt=function(t,r,n){var i=t.scale,s=t.type,c=t.layout,p=t.axisType;if(i==="auto")return c==="radial"&&p==="radiusAxis"?{scale:r8(),realScaleType:"band"}:c==="radial"&&p==="angleAxis"?{scale:fC(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:o5(),realScaleType:"point"}:s==="category"?{scale:r8(),realScaleType:"band"}:{scale:fC(),realScaleType:"linear"};if(O9(i)){var o="scale".concat(vM(i));return{scale:(Moe[o]||o5)(),realScaleType:Moe[o]?o:"point"}}return hi(i)?{scale:i}:{scale:o5(),realScaleType:"point"}},zoe=1e-4,rgt=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-zoe,c=Math.max(i[0],i[1])+zoe,p=t(r[0]),o=t(r[n-1]);(p<s||p>c||o<s||o>c)&&t.domain([r[0],r[n-1]])}},ngt=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},igt=function(t,r){if(!r||r.length!==2||!Lr(r[0])||!Lr(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Lr(t[0])||t[0]<n)&&(s[0]=n),(!Lr(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},agt=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,c=0,p=0;p<r;++p){var o=D9(t[p][n][1])?t[p][n][0]:t[p][n][1];o>=0?(t[p][n][0]=s,t[p][n][1]=s+o,s=t[p][n][1]):(t[p][n][0]=c,t[p][n][1]=c+o,c=t[p][n][1])}},ogt=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,c=0;c<r;++c){var p=D9(t[c][n][1])?t[c][n][0]:t[c][n][1];p>=0?(t[c][n][0]=s,t[c][n][1]=s+p,s=t[c][n][1]):(t[c][n][0]=0,t[c][n][1]=0)}},sgt={sign:agt,expand:kit,none:Fx,silhouette:Oit,wiggle:Dit,positive:ogt},lgt=function(t,r,n){var i=r.map(function(p){return p.props.dataKey}),s=sgt[n],c=Mit().keys(i).value(function(p,o){return+Su(p,o,0)}).order(xj).offset(s);return c(t)},ugt=function(t,r,n,i,s,c){if(!t)return null;var p=c?r.reverse():r,o={},g=p.reduce(function(x,E){var A=E.props,M=A.stackId,R=A.hide;if(R)return x;var k=E.props[n],D=x[k]||{hasStack:!1,stackGroups:{}};if(Bo(M)){var $=D.stackGroups[M]||{numericAxisId:n,cateAxisId:i,items:[]};$.items.push(E),D.hasStack=!0,D.stackGroups[M]=$}else D.stackGroups[R9("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[E]};return ic(ic({},x),{},cx({},k,D))},o),y={};return Object.keys(g).reduce(function(x,E){var A=g[E];if(A.hasStack){var M={};A.stackGroups=Object.keys(A.stackGroups).reduce(function(R,k){var D=A.stackGroups[k];return ic(ic({},R),{},cx({},k,{numericAxisId:n,cateAxisId:i,items:D.items,stackedData:lgt(t,D.items,s)}))},M)}return ic(ic({},x),{},cx({},E,A))},y)},cgt=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,c=r.originalDomain,p=r.allowDecimals,o=n||r.scale;if(o!=="auto"&&o!=="linear")return null;if(s&&i==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var g=t.domain();if(!g.length)return null;var y=I0t(g,s,p);return t.domain([OM(y),kM(y)]),{niceTicks:y}}if(s&&i==="number"){var x=t.domain(),E=M0t(x,s,p);return{niceTicks:E}}return null};function Noe(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,c=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!_i(i[t.dataKey])){var p=UP(r,"value",i[t.dataKey]);if(p)return p.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var o=Su(i,_i(c)?t.dataKey:c);return _i(o)?null:t.scale(o)}var Foe=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,c=t.entry,p=t.index;if(r.type==="category")return n[p]?n[p].coordinate+i:null;var o=Su(c,r.dataKey,r.domain[p]);return _i(o)?null:r.scale(o)-s/2+i},dgt=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},fgt=function(t,r){var n=t.props.stackId;if(Bo(n)){var i=r[n];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},pgt=function(t){return t.reduce(function(r,n){return[OM(n.concat([r[0]]).filter(Lr)),kM(n.concat([r[1]]).filter(Lr))]},[1/0,-1/0])},Twe=function(t,r,n){return Object.keys(t).reduce(function(i,s){var c=t[s],p=c.stackedData,o=p.reduce(function(g,y){var x=pgt(y.slice(r,n+1));return[Math.min(g[0],x[0]),Math.max(g[1],x[1])]},[1/0,-1/0]);return[Math.min(o[0],i[0]),Math.max(o[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},joe=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Voe=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yj=function(t,r,n){if(hi(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Lr(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(joe.test(t[0])){var s=+joe.exec(t[0])[1];i[0]=r[0]-s}else hi(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Lr(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(Voe.test(t[1])){var c=+Voe.exec(t[1])[1];i[1]=r[1]+c}else hi(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},vC=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=yH(r,function(x){return x.coordinate}),c=1/0,p=1,o=s.length;p<o;p++){var g=s[p],y=s[p-1];c=Math.min((g.coordinate||0)-(y.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0},Uoe=function(t,r,n){return!t||!t.length||DM(t,pc(n,"type.defaultProps.domain"))?r:t},Pwe=function(t,r){var n=t.props,i=n.dataKey,s=n.name,c=n.unit,p=n.formatter,o=n.tooltipType,g=n.chartType,y=n.hide;return ic(ic({},Ei(t,!1)),{},{dataKey:i,unit:c,formatter:p,name:s||i,color:UH(t),value:Su(r,i),type:o,payload:r,chartType:g,hide:y})};function d8(e){"@babel/helpers - typeof";return d8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d8(e)}function Woe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Koe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Woe(Object(r),!0).forEach(function(n){hgt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Woe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hgt(e,t,r){return t=mgt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mgt(e){var t=ggt(e,"string");return d8(t)=="symbol"?t:String(t)}function ggt(e,t){if(d8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(d8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _C=Math.PI/180,ygt=function(t){return t*180/Math.PI},vs=function(t,r,n,i){return{x:t+Math.cos(-_C*i)*n,y:r+Math.sin(-_C*i)*n}},vgt=function(t,r){var n=t.x,i=t.y,s=r.x,c=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-c,2))},_gt=function(t,r){var n=t.x,i=t.y,s=r.cx,c=r.cy,p=vgt({x:n,y:i},{x:s,y:c});if(p<=0)return{radius:p};var o=(n-s)/p,g=Math.acos(o);return i>c&&(g=2*Math.PI-g),{radius:p,angle:ygt(g),angleInRadian:g}},bgt=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(i,s);return{startAngle:r-c*360,endAngle:n-c*360}},xgt=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),c=Math.floor(i/360),p=Math.min(s,c);return t+p*360},Hoe=function(t,r){var n=t.x,i=t.y,s=_gt({x:n,y:i},r),c=s.radius,p=s.angle,o=r.innerRadius,g=r.outerRadius;if(c<o||c>g)return!1;if(c===0)return!0;var y=bgt(r),x=y.startAngle,E=y.endAngle,A=p,M;if(x<=E){for(;A>E;)A-=360;for(;A<x;)A+=360;M=A>=x&&A<=E}else{for(;A>x;)A-=360;for(;A<E;)A+=360;M=A>=E&&A<=x}return M?Koe(Koe({},r),{},{radius:c,angle:xgt(A,r)}):null};function f8(e){"@babel/helpers - typeof";return f8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f8(e)}var wgt=["offset"];function Sgt(e){return Pgt(e)||Tgt(e)||Agt(e)||Egt()}function Egt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Agt(e,t){if(e){if(typeof e=="string")return Jj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jj(e,t)}}function Tgt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pgt(e){if(Array.isArray(e))return Jj(e)}function Jj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cgt(e,t){if(e==null)return{};var r=Igt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Igt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Goe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Goe(Object(r),!0).forEach(function(n){Mgt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Goe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mgt(e,t,r){return t=kgt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kgt(e){var t=Ogt(e,"string");return f8(t)=="symbol"?t:String(t)}function Ogt(e,t){if(f8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(f8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p8(){return p8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p8.apply(this,arguments)}var Dgt=function(t){var r=t.value,n=t.formatter,i=_i(t.children)?r:t.children;return hi(n)?n(i):i},Rgt=function(t,r){var n=cd(r-t),i=Math.min(Math.abs(r-t),360);return n*i},$gt=function(t,r,n){var i=t.position,s=t.viewBox,c=t.offset,p=t.className,o=s,g=o.cx,y=o.cy,x=o.innerRadius,E=o.outerRadius,A=o.startAngle,M=o.endAngle,R=o.clockWise,k=(x+E)/2,D=Rgt(A,M),$=D>=0?1:-1,B,V;i==="insideStart"?(B=A+$*c,V=R):i==="insideEnd"?(B=M-$*c,V=!R):i==="end"&&(B=M+$*c,V=R),V=D<=0?V:!V;var U=vs(g,y,k,B),Z=vs(g,y,k,B+(V?1:-1)*359),ne="M".concat(U.x,",").concat(U.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(V?0:1,`,
    `).concat(Z.x,",").concat(Z.y),j=_i(t.id)?R9("recharts-radial-line-"):t.id;return Ke.createElement("text",p8({},n,{dominantBaseline:"central",className:bi("recharts-radial-bar-label",p)}),Ke.createElement("defs",null,Ke.createElement("path",{id:j,d:ne})),Ke.createElement("textPath",{xlinkHref:"#".concat(j)},r))},Lgt=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,c=s.cx,p=s.cy,o=s.innerRadius,g=s.outerRadius,y=s.startAngle,x=s.endAngle,E=(y+x)/2;if(i==="outside"){var A=vs(c,p,g+n,E),M=A.x,R=A.y;return{x:M,y:R,textAnchor:M>=c?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:c,y:p,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:c,y:p,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:c,y:p,textAnchor:"middle",verticalAnchor:"end"};var k=(o+g)/2,D=vs(c,p,k,E),$=D.x,B=D.y;return{x:$,y:B,textAnchor:"middle",verticalAnchor:"middle"}},Bgt=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,c=r,p=c.x,o=c.y,g=c.width,y=c.height,x=y>=0?1:-1,E=x*i,A=x>0?"end":"start",M=x>0?"start":"end",R=g>=0?1:-1,k=R*i,D=R>0?"end":"start",$=R>0?"start":"end";if(s==="top"){var B={x:p+g/2,y:o-x*i,textAnchor:"middle",verticalAnchor:A};return ko(ko({},B),n?{height:Math.max(o-n.y,0),width:g}:{})}if(s==="bottom"){var V={x:p+g/2,y:o+y+E,textAnchor:"middle",verticalAnchor:M};return ko(ko({},V),n?{height:Math.max(n.y+n.height-(o+y),0),width:g}:{})}if(s==="left"){var U={x:p-k,y:o+y/2,textAnchor:D,verticalAnchor:"middle"};return ko(ko({},U),n?{width:Math.max(U.x-n.x,0),height:y}:{})}if(s==="right"){var Z={x:p+g+k,y:o+y/2,textAnchor:$,verticalAnchor:"middle"};return ko(ko({},Z),n?{width:Math.max(n.x+n.width-Z.x,0),height:y}:{})}var ne=n?{width:g,height:y}:{};return s==="insideLeft"?ko({x:p+k,y:o+y/2,textAnchor:$,verticalAnchor:"middle"},ne):s==="insideRight"?ko({x:p+g-k,y:o+y/2,textAnchor:D,verticalAnchor:"middle"},ne):s==="insideTop"?ko({x:p+g/2,y:o+E,textAnchor:"middle",verticalAnchor:M},ne):s==="insideBottom"?ko({x:p+g/2,y:o+y-E,textAnchor:"middle",verticalAnchor:A},ne):s==="insideTopLeft"?ko({x:p+k,y:o+E,textAnchor:$,verticalAnchor:M},ne):s==="insideTopRight"?ko({x:p+g-k,y:o+E,textAnchor:D,verticalAnchor:M},ne):s==="insideBottomLeft"?ko({x:p+k,y:o+y-E,textAnchor:$,verticalAnchor:A},ne):s==="insideBottomRight"?ko({x:p+g-k,y:o+y-E,textAnchor:D,verticalAnchor:A},ne):Q4(s)&&(Lr(s.x)||Gg(s.x))&&(Lr(s.y)||Gg(s.y))?ko({x:p+Ry(s.x,g),y:o+Ry(s.y,y),textAnchor:"end",verticalAnchor:"end"},ne):ko({x:p+g/2,y:o+y/2,textAnchor:"middle",verticalAnchor:"middle"},ne)},zgt=function(t){return"cx"in t&&Lr(t.cx)};function Ls(e){var t=e.offset,r=t===void 0?5:t,n=Cgt(e,wgt),i=ko({offset:r},n),s=i.viewBox,c=i.position,p=i.value,o=i.children,g=i.content,y=i.className,x=y===void 0?"":y,E=i.textBreakAll;if(!s||_i(p)&&_i(o)&&!se.isValidElement(g)&&!hi(g))return null;if(se.isValidElement(g))return se.cloneElement(g,i);var A;if(hi(g)){if(A=se.createElement(g,i),se.isValidElement(A))return A}else A=Dgt(i);var M=zgt(s),R=Ei(i,!0);if(M&&(c==="insideStart"||c==="insideEnd"||c==="end"))return $gt(i,A,R);var k=M?Lgt(i):Bgt(i);return Ke.createElement(aC,p8({className:bi("recharts-label",x)},R,k,{breakAll:E}),A)}Ls.displayName="Label";var Cwe=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,c=t.endAngle,p=t.r,o=t.radius,g=t.innerRadius,y=t.outerRadius,x=t.x,E=t.y,A=t.top,M=t.left,R=t.width,k=t.height,D=t.clockWise,$=t.labelViewBox;if($)return $;if(Lr(R)&&Lr(k)){if(Lr(x)&&Lr(E))return{x,y:E,width:R,height:k};if(Lr(A)&&Lr(M))return{x:A,y:M,width:R,height:k}}return Lr(x)&&Lr(E)?{x,y:E,width:0,height:0}:Lr(r)&&Lr(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:c||i||0,innerRadius:g||0,outerRadius:y||o||p||0,clockWise:D}:t.viewBox?t.viewBox:{}},Ngt=function(t,r){return t?t===!0?Ke.createElement(Ls,{key:"label-implicit",viewBox:r}):Bo(t)?Ke.createElement(Ls,{key:"label-implicit",viewBox:r,value:t}):se.isValidElement(t)?t.type===Ls?se.cloneElement(t,{key:"label-implicit",viewBox:r}):Ke.createElement(Ls,{key:"label-implicit",content:t,viewBox:r}):hi(t)?Ke.createElement(Ls,{key:"label-implicit",content:t,viewBox:r}):Q4(t)?Ke.createElement(Ls,p8({viewBox:r},t,{key:"label-implicit"})):null:null},Fgt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=Cwe(t),c=hc(i,Ls).map(function(o,g){return se.cloneElement(o,{viewBox:r||s,key:"label-".concat(g)})});if(!n)return c;var p=Ngt(t.label,r||s);return[p].concat(Sgt(c))};Ls.parseViewBox=Cwe;Ls.renderCallByParent=Fgt;function jgt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Vgt=jgt;const Ugt=oi(Vgt);function h8(e){"@babel/helpers - typeof";return h8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h8(e)}var Wgt=["valueAccessor"],Kgt=["data","dataKey","clockWise","id","textBreakAll"];function Hgt(e){return Xgt(e)||Zgt(e)||qgt(e)||Ggt()}function Ggt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qgt(e,t){if(e){if(typeof e=="string")return Qj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qj(e,t)}}function Zgt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xgt(e){if(Array.isArray(e))return Qj(e)}function Qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bC.apply(this,arguments)}function qoe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zoe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qoe(Object(r),!0).forEach(function(n){Ygt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qoe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ygt(e,t,r){return t=Jgt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jgt(e){var t=Qgt(e,"string");return h8(t)=="symbol"?t:String(t)}function Qgt(e,t){if(h8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(h8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xoe(e,t){if(e==null)return{};var r=eyt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eyt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var tyt=function(t){return Array.isArray(t.value)?Ugt(t.value):t.value};function b1(e){var t=e.valueAccessor,r=t===void 0?tyt:t,n=Xoe(e,Wgt),i=n.data,s=n.dataKey,c=n.clockWise,p=n.id,o=n.textBreakAll,g=Xoe(n,Kgt);return!i||!i.length?null:Ke.createElement(lo,{className:"recharts-label-list"},i.map(function(y,x){var E=_i(s)?r(y,x):Su(y&&y.payload,s),A=_i(p)?{}:{id:"".concat(p,"-").concat(x)};return Ke.createElement(Ls,bC({},Ei(y,!0),g,A,{parentViewBox:y.parentViewBox,value:E,textBreakAll:o,viewBox:Ls.parseViewBox(_i(c)?y:Zoe(Zoe({},y),{},{clockWise:c})),key:"label-".concat(x),index:x}))}))}b1.displayName="LabelList";function ryt(e,t){return e?e===!0?Ke.createElement(b1,{key:"labelList-implicit",data:t}):Ke.isValidElement(e)||hi(e)?Ke.createElement(b1,{key:"labelList-implicit",data:t,content:e}):Q4(e)?Ke.createElement(b1,bC({data:t},e,{key:"labelList-implicit"})):null:null}function nyt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=hc(n,b1).map(function(c,p){return se.cloneElement(c,{data:t,key:"labelList-".concat(p)})});if(!r)return i;var s=ryt(e.label,t);return[s].concat(Hgt(i))}b1.renderCallByParent=nyt;function m8(e){"@babel/helpers - typeof";return m8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m8(e)}function eV(){return eV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eV.apply(this,arguments)}function Yoe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Joe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yoe(Object(r),!0).forEach(function(n){iyt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yoe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iyt(e,t,r){return t=ayt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ayt(e){var t=oyt(e,"string");return m8(t)=="symbol"?t:String(t)}function oyt(e,t){if(m8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var syt=function(t,r){var n=cd(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},_A=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,c=t.sign,p=t.isExternal,o=t.cornerRadius,g=t.cornerIsExternal,y=o*(p?1:-1)+i,x=Math.asin(o/y)/_C,E=g?s:s+c*x,A=vs(r,n,y,E),M=vs(r,n,i,E),R=g?s-c*x:s,k=vs(r,n,y*Math.cos(x*_C),R);return{center:A,circleTangency:M,lineTangency:k,theta:x}},Iwe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,c=t.startAngle,p=t.endAngle,o=syt(c,p),g=c+o,y=vs(r,n,s,c),x=vs(r,n,s,g),E="M ".concat(y.x,",").concat(y.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(c>g),`,
    `).concat(x.x,",").concat(x.y,`
  `);if(i>0){var A=vs(r,n,i,c),M=vs(r,n,i,g);E+="L ".concat(M.x,",").concat(M.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(c<=g),`,
            `).concat(A.x,",").concat(A.y," Z")}else E+="L ".concat(r,",").concat(n," Z");return E},lyt=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,c=t.cornerRadius,p=t.forceCornerRadius,o=t.cornerIsExternal,g=t.startAngle,y=t.endAngle,x=cd(y-g),E=_A({cx:r,cy:n,radius:s,angle:g,sign:x,cornerRadius:c,cornerIsExternal:o}),A=E.circleTangency,M=E.lineTangency,R=E.theta,k=_A({cx:r,cy:n,radius:s,angle:y,sign:-x,cornerRadius:c,cornerIsExternal:o}),D=k.circleTangency,$=k.lineTangency,B=k.theta,V=o?Math.abs(g-y):Math.abs(g-y)-R-B;if(V<0)return p?"M ".concat(M.x,",").concat(M.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):Iwe({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:g,endAngle:y});var U="M ".concat(M.x,",").concat(M.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(x<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(V>180),",").concat(+(x<0),",").concat(D.x,",").concat(D.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(x<0),",").concat($.x,",").concat($.y,`
  `);if(i>0){var Z=_A({cx:r,cy:n,radius:i,angle:g,sign:x,isExternal:!0,cornerRadius:c,cornerIsExternal:o}),ne=Z.circleTangency,j=Z.lineTangency,fe=Z.theta,be=_A({cx:r,cy:n,radius:i,angle:y,sign:-x,isExternal:!0,cornerRadius:c,cornerIsExternal:o}),pe=be.circleTangency,le=be.lineTangency,G=be.theta,N=o?Math.abs(g-y):Math.abs(g-y)-fe-G;if(N<0&&c===0)return"".concat(U,"L").concat(r,",").concat(n,"Z");U+="L".concat(le.x,",").concat(le.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(x<0),",").concat(pe.x,",").concat(pe.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(x>0),",").concat(ne.x,",").concat(ne.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(x<0),",").concat(j.x,",").concat(j.y,"Z")}else U+="L".concat(r,",").concat(n,"Z");return U},uyt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Mwe=function(t){var r=Joe(Joe({},uyt),t),n=r.cx,i=r.cy,s=r.innerRadius,c=r.outerRadius,p=r.cornerRadius,o=r.forceCornerRadius,g=r.cornerIsExternal,y=r.startAngle,x=r.endAngle,E=r.className;if(c<s||y===x)return null;var A=bi("recharts-sector",E),M=c-s,R=Ry(p,M,0,!0),k;return R>0&&Math.abs(y-x)<360?k=lyt({cx:n,cy:i,innerRadius:s,outerRadius:c,cornerRadius:Math.min(R,M/2),forceCornerRadius:o,cornerIsExternal:g,startAngle:y,endAngle:x}):k=Iwe({cx:n,cy:i,innerRadius:s,outerRadius:c,startAngle:y,endAngle:x}),Ke.createElement("path",eV({},Ei(r,!0),{className:A,d:k,role:"img"}))};function g8(e){"@babel/helpers - typeof";return g8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g8(e)}function tV(){return tV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tV.apply(this,arguments)}function Qoe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ese(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qoe(Object(r),!0).forEach(function(n){cyt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qoe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cyt(e,t,r){return t=dyt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dyt(e){var t=fyt(e,"string");return g8(t)=="symbol"?t:String(t)}function fyt(e,t){if(g8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tse={curveBasisClosed:_it,curveBasisOpen:bit,curveBasis:vit,curveBumpX:iit,curveBumpY:ait,curveLinearClosed:xit,curveLinear:bM,curveMonotoneX:wit,curveMonotoneY:Sit,curveNatural:Eit,curveStep:Ait,curveStepAfter:Pit,curveStepBefore:Tit},bA=function(t){return t.x===+t.x&&t.y===+t.y},B2=function(t){return t.x},z2=function(t){return t.y},pyt=function(t,r){if(hi(t))return t;var n="curve".concat(vM(t));return(n==="curveMonotone"||n==="curveBump")&&r?tse["".concat(n).concat(r==="vertical"?"Y":"X")]:tse[n]||bM},hyt=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,c=t.baseLine,p=t.layout,o=t.connectNulls,g=o===void 0?!1:o,y=pyt(n,p),x=g?s.filter(function(R){return bA(R)}):s,E;if(Array.isArray(c)){var A=g?c.filter(function(R){return bA(R)}):c,M=x.map(function(R,k){return ese(ese({},R),{},{base:A[k]})});return p==="vertical"?E=cA().y(z2).x1(B2).x0(function(R){return R.base.x}):E=cA().x(B2).y1(z2).y0(function(R){return R.base.y}),E.defined(bA).curve(y),E(M)}return p==="vertical"&&Lr(c)?E=cA().y(z2).x1(B2).x0(c):Lr(c)?E=cA().x(B2).y1(z2).y0(c):E=O4e().x(B2).y(z2),E.defined(bA).curve(y),E(x)},rV=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var c=n&&n.length?hyt(t):i;return Ke.createElement("path",tV({},Ei(t,!1),WP(t),{className:bi("recharts-curve",r),d:c,ref:s}))},myt=Object.getOwnPropertyNames,gyt=Object.getOwnPropertySymbols,yyt=Object.prototype.hasOwnProperty;function rse(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function xA(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var s=i.cache,c=s.get(r),p=s.get(n);if(c&&p)return c===n&&p===r;s.set(r,n),s.set(n,r);var o=e(r,n,i);return s.delete(r),s.delete(n),o}}function nse(e){return myt(e).concat(gyt(e))}var kwe=Object.hasOwn||function(e,t){return yyt.call(e,t)};function u3(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var Owe="_owner",ise=Object.getOwnPropertyDescriptor,ase=Object.keys;function vyt(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function _yt(e,t){return u3(e.getTime(),t.getTime())}function ose(e,t,r){if(e.size!==t.size)return!1;for(var n={},i=e.entries(),s=0,c,p;(c=i.next())&&!c.done;){for(var o=t.entries(),g=!1,y=0;(p=o.next())&&!p.done;){var x=c.value,E=x[0],A=x[1],M=p.value,R=M[0],k=M[1];!g&&!n[y]&&(g=r.equals(E,R,s,y,e,t,r)&&r.equals(A,k,E,R,e,t,r))&&(n[y]=!0),y++}if(!g)return!1;s++}return!0}function byt(e,t,r){var n=ase(e),i=n.length;if(ase(t).length!==i)return!1;for(var s;i-- >0;)if(s=n[i],s===Owe&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!kwe(t,s)||!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function N2(e,t,r){var n=nse(e),i=n.length;if(nse(t).length!==i)return!1;for(var s,c,p;i-- >0;)if(s=n[i],s===Owe&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!kwe(t,s)||!r.equals(e[s],t[s],s,s,e,t,r)||(c=ise(e,s),p=ise(t,s),(c||p)&&(!c||!p||c.configurable!==p.configurable||c.enumerable!==p.enumerable||c.writable!==p.writable)))return!1;return!0}function xyt(e,t){return u3(e.valueOf(),t.valueOf())}function wyt(e,t){return e.source===t.source&&e.flags===t.flags}function sse(e,t,r){if(e.size!==t.size)return!1;for(var n={},i=e.values(),s,c;(s=i.next())&&!s.done;){for(var p=t.values(),o=!1,g=0;(c=p.next())&&!c.done;)!o&&!n[g]&&(o=r.equals(s.value,c.value,s.value,c.value,e,t,r))&&(n[g]=!0),g++;if(!o)return!1}return!0}function Syt(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var Eyt="[object Arguments]",Ayt="[object Boolean]",Tyt="[object Date]",Pyt="[object Map]",Cyt="[object Number]",Iyt="[object Object]",Myt="[object RegExp]",kyt="[object Set]",Oyt="[object String]",Dyt=Array.isArray,lse=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,use=Object.assign,Ryt=Object.prototype.toString.call.bind(Object.prototype.toString);function $yt(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,i=e.areObjectsEqual,s=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,p=e.areSetsEqual,o=e.areTypedArraysEqual;return function(y,x,E){if(y===x)return!0;if(y==null||x==null||typeof y!="object"||typeof x!="object")return y!==y&&x!==x;var A=y.constructor;if(A!==x.constructor)return!1;if(A===Object)return i(y,x,E);if(Dyt(y))return t(y,x,E);if(lse!=null&&lse(y))return o(y,x,E);if(A===Date)return r(y,x,E);if(A===RegExp)return c(y,x,E);if(A===Map)return n(y,x,E);if(A===Set)return p(y,x,E);var M=Ryt(y);return M===Tyt?r(y,x,E):M===Myt?c(y,x,E):M===Pyt?n(y,x,E):M===kyt?p(y,x,E):M===Iyt?typeof y.then!="function"&&typeof x.then!="function"&&i(y,x,E):M===Eyt?i(y,x,E):M===Ayt||M===Cyt||M===Oyt?s(y,x,E):!1}}function Lyt(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?N2:vyt,areDatesEqual:_yt,areMapsEqual:n?rse(ose,N2):ose,areObjectsEqual:n?N2:byt,arePrimitiveWrappersEqual:xyt,areRegExpsEqual:wyt,areSetsEqual:n?rse(sse,N2):sse,areTypedArraysEqual:n?N2:Syt};if(r&&(i=use({},i,r(i))),t){var s=xA(i.areArraysEqual),c=xA(i.areMapsEqual),p=xA(i.areObjectsEqual),o=xA(i.areSetsEqual);i=use({},i,{areArraysEqual:s,areMapsEqual:c,areObjectsEqual:p,areSetsEqual:o})}return i}function Byt(e){return function(t,r,n,i,s,c,p){return e(t,r,p)}}function zyt(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,s=e.strict;if(n)return function(o,g){var y=n(),x=y.cache,E=x===void 0?t?new WeakMap:void 0:x,A=y.meta;return r(o,g,{cache:E,equals:i,meta:A,strict:s})};if(t)return function(o,g){return r(o,g,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var c={cache:void 0,equals:i,meta:void 0,strict:s};return function(o,g){return r(o,g,c)}}var Nyt=r0();r0({strict:!0});r0({circular:!0});r0({circular:!0,strict:!0});r0({createInternalComparator:function(){return u3}});r0({strict:!0,createInternalComparator:function(){return u3}});r0({circular:!0,createInternalComparator:function(){return u3}});r0({circular:!0,createInternalComparator:function(){return u3},strict:!0});function r0(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,s=e.strict,c=s===void 0?!1:s,p=Lyt(e),o=$yt(p),g=n?n(o):Byt(o);return zyt({circular:r,comparator:o,createState:i,equals:g,strict:c})}function Fyt(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function cse(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):Fyt(i)};requestAnimationFrame(n)}function nV(e){"@babel/helpers - typeof";return nV=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nV(e)}function jyt(e){return Kyt(e)||Wyt(e)||Uyt(e)||Vyt()}function Vyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uyt(e,t){if(e){if(typeof e=="string")return dse(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dse(e,t)}}function dse(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wyt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kyt(e){if(Array.isArray(e))return e}function Hyt(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,p=jyt(c),o=p[0],g=p.slice(1);if(typeof o=="number"){cse(i.bind(null,g),o);return}i(o),cse(i.bind(null,g));return}nV(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function y8(e){"@babel/helpers - typeof";return y8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y8(e)}function fse(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fse(Object(r),!0).forEach(function(n){Dwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fse(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dwe(e,t,r){return t=Gyt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gyt(e){var t=qyt(e,"string");return y8(t)==="symbol"?t:String(t)}function qyt(e,t){if(y8(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(y8(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zyt=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},Xyt=function(t){return t},Yyt=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},l5=function(t,r){return Object.keys(r).reduce(function(n,i){return pse(pse({},n),{},Dwe({},i,t(i,r[i])))},{})},hse=function(t,r,n){return t.map(function(i){return"".concat(Yyt(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Jyt(e,t){return tvt(e)||evt(e,t)||Rwe(e,t)||Qyt()}function Qyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function evt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,c,p=[],o=!0,g=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(o=(n=s.call(r)).done)&&(p.push(n.value),p.length!==t);o=!0);}catch(y){g=!0,i=y}finally{try{if(!o&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw i}}return p}}function tvt(e){if(Array.isArray(e))return e}function rvt(e){return avt(e)||ivt(e)||Rwe(e)||nvt()}function nvt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rwe(e,t){if(e){if(typeof e=="string")return iV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iV(e,t)}}function ivt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function avt(e){if(Array.isArray(e))return iV(e)}function iV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xC=1e-4,$we=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Lwe=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},mse=function(t,r){return function(n){var i=$we(t,r);return Lwe(i,n)}},ovt=function(t,r){return function(n){var i=$we(t,r),s=[].concat(rvt(i.map(function(c,p){return c*p}).slice(1)),[0]);return Lwe(s,n)}},gse=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],c=r[2],p=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,c=1,p=1;break;case"ease":i=.25,s=.1,c=.25,p=1;break;case"ease-in":i=.42,s=0,c=1,p=1;break;case"ease-out":i=.42,s=0,c=.58,p=1;break;case"ease-in-out":i=0,s=0,c=.58,p=1;break;default:{var o=r[0].split("(");if(o[0]==="cubic-bezier"&&o[1].split(")")[0].split(",").length===4){var g=o[1].split(")")[0].split(",").map(function(k){return parseFloat(k)}),y=Jyt(g,4);i=y[0],s=y[1],c=y[2],p=y[3]}}}var x=mse(i,c),E=mse(s,p),A=ovt(i,c),M=function(D){return D>1?1:D<0?0:D},R=function(D){for(var $=D>1?1:D,B=$,V=0;V<8;++V){var U=x(B)-$,Z=A(B);if(Math.abs(U-$)<xC||Z<xC)return E(B);B=M(B-U/Z)}return E(B)};return R.isStepper=!1,R},svt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,c=t.dt,p=c===void 0?17:c,o=function(y,x,E){var A=-(y-x)*n,M=E*s,R=E+(A-M)*p/1e3,k=E*p/1e3+y;return Math.abs(k-x)<xC&&Math.abs(R)<xC?[x,0]:[k,R]};return o.isStepper=!0,o.dt=p,o},lvt=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gse(i);case"spring":return svt();default:if(i.split("(")[0]==="cubic-bezier")return gse(i)}return typeof i=="function"?i:null};function v8(e){"@babel/helpers - typeof";return v8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v8(e)}function yse(e){return dvt(e)||cvt(e)||Bwe(e)||uvt()}function uvt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cvt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dvt(e){if(Array.isArray(e))return oV(e)}function vse(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vse(Object(r),!0).forEach(function(n){aV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vse(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aV(e,t,r){return t=fvt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fvt(e){var t=pvt(e,"string");return v8(t)==="symbol"?t:String(t)}function pvt(e,t){if(v8(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(v8(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hvt(e,t){return yvt(e)||gvt(e,t)||Bwe(e,t)||mvt()}function mvt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bwe(e,t){if(e){if(typeof e=="string")return oV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oV(e,t)}}function oV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gvt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,c,p=[],o=!0,g=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(o=(n=s.call(r)).done)&&(p.push(n.value),p.length!==t);o=!0);}catch(y){g=!0,i=y}finally{try{if(!o&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw i}}return p}}function yvt(e){if(Array.isArray(e))return e}var wC=function(t,r,n){return t+(r-t)*n},sV=function(t){var r=t.from,n=t.to;return r!==n},vvt=function e(t,r,n){var i=l5(function(s,c){if(sV(c)){var p=t(c.from,c.to,c.velocity),o=hvt(p,2),g=o[0],y=o[1];return cs(cs({},c),{},{from:g,velocity:y})}return c},r);return n<1?l5(function(s,c){return sV(c)?cs(cs({},c),{},{velocity:wC(c.velocity,i[s].velocity,n),from:wC(c.from,i[s].from,n)}):c},r):e(t,i,n-1)};const _vt=function(e,t,r,n,i){var s=Zyt(e,t),c=s.reduce(function(k,D){return cs(cs({},k),{},aV({},D,[e[D],t[D]]))},{}),p=s.reduce(function(k,D){return cs(cs({},k),{},aV({},D,{from:e[D],velocity:0,to:t[D]}))},{}),o=-1,g,y,x=function(){return null},E=function(){return l5(function(D,$){return $.from},p)},A=function(){return!Object.values(p).filter(sV).length},M=function(D){g||(g=D);var $=D-g,B=$/r.dt;p=vvt(r,p,B),i(cs(cs(cs({},e),t),E())),g=D,A()||(o=requestAnimationFrame(x))},R=function(D){y||(y=D);var $=(D-y)/n,B=l5(function(U,Z){return wC.apply(void 0,yse(Z).concat([r($)]))},c);if(i(cs(cs(cs({},e),t),B)),$<1)o=requestAnimationFrame(x);else{var V=l5(function(U,Z){return wC.apply(void 0,yse(Z).concat([r(1)]))},c);i(cs(cs(cs({},e),t),V))}};return x=r.isStepper?M:R,function(){return requestAnimationFrame(x),function(){cancelAnimationFrame(o)}}};function qx(e){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qx(e)}var bvt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xvt(e,t){if(e==null)return{};var r=wvt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wvt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function kL(e){return Tvt(e)||Avt(e)||Evt(e)||Svt()}function Svt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Evt(e,t){if(e){if(typeof e=="string")return lV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lV(e,t)}}function Avt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tvt(e){if(Array.isArray(e))return lV(e)}function lV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_se(Object(r),!0).forEach(function(n){L6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_se(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L6(e,t,r){return t=zwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cvt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zwe(n.key),n)}}function Ivt(e,t,r){return t&&Cvt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zwe(e){var t=Mvt(e,"string");return qx(t)==="symbol"?t:String(t)}function Mvt(e,t){if(qx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uV(e,t)}function uV(e,t){return uV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uV(e,t)}function Ovt(e){var t=Dvt();return function(){var n=SC(e),i;if(t){var s=SC(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return cV(this,i)}}function cV(e,t){if(t&&(qx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dV(e)}function dV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dvt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function SC(e){return SC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},SC(e)}var yh=function(e){kvt(r,e);var t=Ovt(r);function r(n,i){var s;Pvt(this,r),s=t.call(this,n,i);var c=s.props,p=c.isActive,o=c.attributeName,g=c.from,y=c.to,x=c.steps,E=c.children,A=c.duration;if(s.handleStyleChange=s.handleStyleChange.bind(dV(s)),s.changeStyle=s.changeStyle.bind(dV(s)),!p||A<=0)return s.state={style:{}},typeof E=="function"&&(s.state={style:y}),cV(s);if(x&&x.length)s.state={style:x[0].style};else if(g){if(typeof E=="function")return s.state={style:g},cV(s);s.state={style:o?L6({},o,g):g}}else s.state={style:{}};return s}return Ivt(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,c=i.canBegin;this.mounted=!0,!(!s||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,c=s.isActive,p=s.canBegin,o=s.attributeName,g=s.shouldReAnimate,y=s.to,x=s.from,E=this.state.style;if(p){if(!c){var A={style:o?L6({},o,y):y};this.state&&E&&(o&&E[o]!==y||!o&&E!==y)&&this.setState(A);return}if(!(Nyt(i.to,y)&&i.canBegin&&i.isActive)){var M=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var R=M||g?x:i.to;if(this.state&&E){var k={style:o?L6({},o,R):R};(o&&E[o]!==R||!o&&E!==R)&&this.setState(k)}this.runAnimation(Gc(Gc({},this.props),{},{from:R,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,c=i.from,p=i.to,o=i.duration,g=i.easing,y=i.begin,x=i.onAnimationEnd,E=i.onAnimationStart,A=_vt(c,p,lvt(g),o,this.changeStyle),M=function(){s.stopJSAnimation=A()};this.manager.start([E,y,M,o,x])}},{key:"runStepAnimation",value:function(i){var s=this,c=i.steps,p=i.begin,o=i.onAnimationStart,g=c[0],y=g.style,x=g.duration,E=x===void 0?0:x,A=function(R,k,D){if(D===0)return R;var $=k.duration,B=k.easing,V=B===void 0?"ease":B,U=k.style,Z=k.properties,ne=k.onAnimationEnd,j=D>0?c[D-1]:k,fe=Z||Object.keys(U);if(typeof V=="function"||V==="spring")return[].concat(kL(R),[s.runJSAnimation.bind(s,{from:j.style,to:U,duration:$,easing:V}),$]);var be=hse(fe,$,V),pe=Gc(Gc(Gc({},j.style),U),{},{transition:be});return[].concat(kL(R),[pe,$,ne]).filter(Xyt)};return this.manager.start([o].concat(kL(c.reduce(A,[y,Math.max(E,p)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Hyt());var s=i.begin,c=i.duration,p=i.attributeName,o=i.to,g=i.easing,y=i.onAnimationStart,x=i.onAnimationEnd,E=i.steps,A=i.children,M=this.manager;if(this.unSubscribe=M.subscribe(this.handleStyleChange),typeof g=="function"||typeof A=="function"||g==="spring"){this.runJSAnimation(i);return}if(E.length>1){this.runStepAnimation(i);return}var R=p?L6({},p,o):o,k=hse(Object.keys(R),c,g);M.start([y,s,Gc(Gc({},R),{},{transition:k}),c,x])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var c=i.duration;i.attributeName,i.easing;var p=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var o=xvt(i,bvt),g=se.Children.count(s),y=this.state.style;if(typeof s=="function")return s(y);if(!p||g===0||c<=0)return s;var x=function(A){var M=A.props,R=M.style,k=R===void 0?{}:R,D=M.className,$=se.cloneElement(A,Gc(Gc({},o),{},{style:Gc(Gc({},k),y),className:D}));return $};return g===1?x(se.Children.only(s)):Ke.createElement("div",null,se.Children.map(s,function(E){return x(E)}))}}]),r}(se.PureComponent);yh.displayName="Animate";yh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yh.propTypes={from:$r.oneOfType([$r.object,$r.string]),to:$r.oneOfType([$r.object,$r.string]),attributeName:$r.string,duration:$r.number,begin:$r.number,easing:$r.oneOfType([$r.string,$r.func]),steps:$r.arrayOf($r.shape({duration:$r.number.isRequired,style:$r.object.isRequired,easing:$r.oneOfType([$r.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$r.func]),properties:$r.arrayOf("string"),onAnimationEnd:$r.func})),children:$r.oneOfType([$r.node,$r.func]),isActive:$r.bool,canBegin:$r.bool,onAnimationEnd:$r.func,shouldReAnimate:$r.bool,onAnimationStart:$r.func,onAnimationReStart:$r.func};$r.object,$r.object,$r.object,$r.element;$r.object,$r.object,$r.object,$r.oneOfType([$r.array,$r.element]),$r.any;function _8(e){"@babel/helpers - typeof";return _8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_8(e)}function EC(){return EC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EC.apply(this,arguments)}function Rvt(e,t){return zvt(e)||Bvt(e,t)||Lvt(e,t)||$vt()}function $vt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lvt(e,t){if(e){if(typeof e=="string")return bse(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bse(e,t)}}function bse(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bvt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,c,p=[],o=!0,g=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(o=(n=s.call(r)).done)&&(p.push(n.value),p.length!==t);o=!0);}catch(y){g=!0,i=y}finally{try{if(!o&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw i}}return p}}function zvt(e){if(Array.isArray(e))return e}function xse(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xse(Object(r),!0).forEach(function(n){Nvt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xse(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nvt(e,t,r){return t=Fvt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fvt(e){var t=jvt(e,"string");return _8(t)=="symbol"?t:String(t)}function jvt(e,t){if(_8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sse=function(t,r,n,i,s){var c=Math.min(Math.abs(n)/2,Math.abs(i)/2),p=i>=0?1:-1,o=n>=0?1:-1,g=i>=0&&n>=0||i<0&&n<0?1:0,y;if(c>0&&s instanceof Array){for(var x=[0,0,0,0],E=0,A=4;E<A;E++)x[E]=s[E]>c?c:s[E];y="M".concat(t,",").concat(r+p*x[0]),x[0]>0&&(y+="A ".concat(x[0],",").concat(x[0],",0,0,").concat(g,",").concat(t+o*x[0],",").concat(r)),y+="L ".concat(t+n-o*x[1],",").concat(r),x[1]>0&&(y+="A ".concat(x[1],",").concat(x[1],",0,0,").concat(g,`,
        `).concat(t+n,",").concat(r+p*x[1])),y+="L ".concat(t+n,",").concat(r+i-p*x[2]),x[2]>0&&(y+="A ".concat(x[2],",").concat(x[2],",0,0,").concat(g,`,
        `).concat(t+n-o*x[2],",").concat(r+i)),y+="L ".concat(t+o*x[3],",").concat(r+i),x[3]>0&&(y+="A ".concat(x[3],",").concat(x[3],",0,0,").concat(g,`,
        `).concat(t,",").concat(r+i-p*x[3])),y+="Z"}else if(c>0&&s===+s&&s>0){var M=Math.min(c,s);y="M ".concat(t,",").concat(r+p*M,`
            A `).concat(M,",").concat(M,",0,0,").concat(g,",").concat(t+o*M,",").concat(r,`
            L `).concat(t+n-o*M,",").concat(r,`
            A `).concat(M,",").concat(M,",0,0,").concat(g,",").concat(t+n,",").concat(r+p*M,`
            L `).concat(t+n,",").concat(r+i-p*M,`
            A `).concat(M,",").concat(M,",0,0,").concat(g,",").concat(t+n-o*M,",").concat(r+i,`
            L `).concat(t+o*M,",").concat(r+i,`
            A `).concat(M,",").concat(M,",0,0,").concat(g,",").concat(t,",").concat(r+i-p*M," Z")}else y="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return y},Vvt=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,c=r.y,p=r.width,o=r.height;if(Math.abs(p)>0&&Math.abs(o)>0){var g=Math.min(s,s+p),y=Math.max(s,s+p),x=Math.min(c,c+o),E=Math.max(c,c+o);return n>=g&&n<=y&&i>=x&&i<=E}return!1},Uvt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WH=function(t){var r=wse(wse({},Uvt),t),n=se.useRef(),i=se.useState(-1),s=Rvt(i,2),c=s[0],p=s[1];se.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&p(V)}catch{}},[]);var o=r.x,g=r.y,y=r.width,x=r.height,E=r.radius,A=r.className,M=r.animationEasing,R=r.animationDuration,k=r.animationBegin,D=r.isAnimationActive,$=r.isUpdateAnimationActive;if(o!==+o||g!==+g||y!==+y||x!==+x||y===0||x===0)return null;var B=bi("recharts-rectangle",A);return $?Ke.createElement(yh,{canBegin:c>0,from:{width:y,height:x,x:o,y:g},to:{width:y,height:x,x:o,y:g},duration:R,animationEasing:M,isActive:$},function(V){var U=V.width,Z=V.height,ne=V.x,j=V.y;return Ke.createElement(yh,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:k,duration:R,isActive:D,easing:M},Ke.createElement("path",EC({},Ei(r,!0),{className:B,d:Sse(ne,j,U,Z,E),ref:n})))}):Ke.createElement("path",EC({},Ei(r,!0),{className:B,d:Sse(o,g,y,x,E)}))};function fV(){return fV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fV.apply(this,arguments)}var KH=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,c=bi("recharts-dot",s);return r===+r&&n===+n&&i===+i?Ke.createElement("circle",fV({},Ei(t,!1),WP(t),{className:c,cx:r,cy:n,r:i})):null};function b8(e){"@babel/helpers - typeof";return b8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b8(e)}var Wvt=["x","y","top","left","width","height","className"];function pV(){return pV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pV.apply(this,arguments)}function Ese(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kvt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ese(Object(r),!0).forEach(function(n){Hvt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ese(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hvt(e,t,r){return t=Gvt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gvt(e){var t=qvt(e,"string");return b8(t)=="symbol"?t:String(t)}function qvt(e,t){if(b8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zvt(e,t){if(e==null)return{};var r=Xvt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xvt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Yvt=function(t,r,n,i,s,c){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(c,",").concat(r,"h").concat(n)},Jvt=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,c=t.top,p=c===void 0?0:c,o=t.left,g=o===void 0?0:o,y=t.width,x=y===void 0?0:y,E=t.height,A=E===void 0?0:E,M=t.className,R=Zvt(t,Wvt),k=Kvt({x:n,y:s,top:p,left:g,width:x,height:A},R);return!Lr(n)||!Lr(s)||!Lr(x)||!Lr(A)||!Lr(p)||!Lr(g)?null:Ke.createElement("path",pV({},Ei(k,!0),{className:bi("recharts-cross",M),d:Yvt(n,s,x,A,p,g)}))},Qvt=r3e,e_t=Qvt(Object.getPrototypeOf,Object),t_t=e_t,r_t=Th,n_t=t_t,i_t=Ph,a_t="[object Object]",o_t=Function.prototype,s_t=Object.prototype,Nwe=o_t.toString,l_t=s_t.hasOwnProperty,u_t=Nwe.call(Object);function c_t(e){if(!i_t(e)||r_t(e)!=a_t)return!1;var t=n_t(e);if(t===null)return!0;var r=l_t.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Nwe.call(r)==u_t}var d_t=c_t;const f_t=oi(d_t);var p_t=Th,h_t=Ph,m_t="[object Boolean]";function g_t(e){return e===!0||e===!1||h_t(e)&&p_t(e)==m_t}var y_t=g_t;const v_t=oi(y_t);function x8(e){"@babel/helpers - typeof";return x8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x8(e)}function AC(){return AC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AC.apply(this,arguments)}function __t(e,t){return S_t(e)||w_t(e,t)||x_t(e,t)||b_t()}function b_t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x_t(e,t){if(e){if(typeof e=="string")return Ase(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ase(e,t)}}function Ase(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w_t(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,c,p=[],o=!0,g=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(o=(n=s.call(r)).done)&&(p.push(n.value),p.length!==t);o=!0);}catch(y){g=!0,i=y}finally{try{if(!o&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw i}}return p}}function S_t(e){if(Array.isArray(e))return e}function Tse(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tse(Object(r),!0).forEach(function(n){E_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tse(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E_t(e,t,r){return t=A_t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A_t(e){var t=T_t(e,"string");return x8(t)=="symbol"?t:String(t)}function T_t(e,t){if(x8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(x8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cse=function(t,r,n,i,s){var c=n-i,p;return p="M ".concat(t,",").concat(r),p+="L ".concat(t+n,",").concat(r),p+="L ".concat(t+n-c/2,",").concat(r+s),p+="L ".concat(t+n-c/2-i,",").concat(r+s),p+="L ".concat(t,",").concat(r," Z"),p},P_t={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},C_t=function(t){var r=Pse(Pse({},P_t),t),n=se.useRef(),i=se.useState(-1),s=__t(i,2),c=s[0],p=s[1];se.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var B=n.current.getTotalLength();B&&p(B)}catch{}},[]);var o=r.x,g=r.y,y=r.upperWidth,x=r.lowerWidth,E=r.height,A=r.className,M=r.animationEasing,R=r.animationDuration,k=r.animationBegin,D=r.isUpdateAnimationActive;if(o!==+o||g!==+g||y!==+y||x!==+x||E!==+E||y===0&&x===0||E===0)return null;var $=bi("recharts-trapezoid",A);return D?Ke.createElement(yh,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:E,x:o,y:g},to:{upperWidth:y,lowerWidth:x,height:E,x:o,y:g},duration:R,animationEasing:M,isActive:D},function(B){var V=B.upperWidth,U=B.lowerWidth,Z=B.height,ne=B.x,j=B.y;return Ke.createElement(yh,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:k,duration:R,easing:M},Ke.createElement("path",AC({},Ei(r,!0),{className:$,d:Cse(ne,j,V,U,Z),ref:n})))}):Ke.createElement("g",null,Ke.createElement("path",AC({},Ei(r,!0),{className:$,d:Cse(o,g,y,x,E)})))},I_t=["option","shapeType","propTransformer","activeClassName","isActive"];function w8(e){"@babel/helpers - typeof";return w8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w8(e)}function M_t(e,t){if(e==null)return{};var r=k_t(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k_t(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ise(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ise(Object(r),!0).forEach(function(n){O_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ise(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O_t(e,t,r){return t=D_t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D_t(e){var t=R_t(e,"string");return w8(t)=="symbol"?t:String(t)}function R_t(e,t){if(w8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $_t(e,t){return TC(TC({},t),e)}function L_t(e,t){return e==="symbols"}function Mse(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ke.createElement(WH,r);case"trapezoid":return Ke.createElement(C_t,r);case"sector":return Ke.createElement(Mwe,r);case"symbols":if(L_t(t))return Ke.createElement(uH,r);break;default:return null}}function B_t(e){return se.isValidElement(e)?e.props:e}function z_t(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?$_t:n,s=e.activeClassName,c=s===void 0?"recharts-active-shape":s,p=e.isActive,o=M_t(e,I_t),g;if(se.isValidElement(t))g=se.cloneElement(t,TC(TC({},o),B_t(t)));else if(hi(t))g=t(o);else if(f_t(t)&&!v_t(t)){var y=i(t,o);g=Ke.createElement(Mse,{shapeType:r,elementProps:y})}else{var x=o;g=Ke.createElement(Mse,{shapeType:r,elementProps:x})}return p?Ke.createElement(lo,{className:c},g):g}function LM(e,t){return t!=null&&"trapezoids"in e.props}function BM(e,t){return t!=null&&"sectors"in e.props}function S8(e,t){return t!=null&&"points"in e.props}function N_t(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function F_t(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function j_t(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function V_t(e,t){var r;return LM(e,t)?r=N_t:BM(e,t)?r=F_t:S8(e,t)&&(r=j_t),r}function U_t(e,t){var r;return LM(e,t)?r="trapezoids":BM(e,t)?r="sectors":S8(e,t)&&(r="points"),r}function W_t(e,t){if(LM(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(BM(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return S8(e,t)?t.payload:{}}function K_t(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=U_t(r,t),s=W_t(r,t),c=n.filter(function(o,g){var y=DM(s,o),x=r.props[i].filter(function(M){var R=V_t(r,t);return R(M,t)}),E=r.props[i].indexOf(x[x.length-1]),A=g===E;return y&&A}),p=n.indexOf(c[c.length-1]);return p}var H_t=Math.ceil,G_t=Math.max;function q_t(e,t,r,n){for(var i=-1,s=G_t(H_t((t-e)/(r||1)),0),c=Array(s);s--;)c[n?s:++i]=e,e+=r;return c}var Z_t=q_t,X_t=w3e,kse=1/0,Y_t=17976931348623157e292;function J_t(e){if(!e)return e===0?e:0;if(e=X_t(e),e===kse||e===-kse){var t=e<0?-1:1;return t*Y_t}return e===e?e:0}var Fwe=J_t,Q_t=Z_t,ebt=EM,OL=Fwe;function tbt(e){return function(t,r,n){return n&&typeof n!="number"&&ebt(t,r,n)&&(r=n=void 0),t=OL(t),r===void 0?(r=t,t=0):r=OL(r),n=n===void 0?t<r?1:-1:OL(n),Q_t(t,r,n,e)}}var rbt=tbt,nbt=rbt,ibt=nbt(),abt=ibt;const PC=oi(abt);function E8(e){"@babel/helpers - typeof";return E8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E8(e)}function Ose(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ose(Object(r),!0).forEach(function(n){jwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ose(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jwe(e,t,r){return t=obt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function obt(e){var t=sbt(e,"string");return E8(t)=="symbol"?t:String(t)}function sbt(e,t){if(E8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(E8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lbt=["Webkit","Moz","O","ms"],ubt=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=lbt.reduce(function(s,c){return Dse(Dse({},s),{},jwe({},c+n,r))},{});return i[t]=r,i};function Zx(e){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zx(e)}function CC(){return CC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CC.apply(this,arguments)}function Rse(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rse(Object(r),!0).forEach(function(n){iu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rse(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cbt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uwe(n.key),n)}}function dbt(e,t,r){return t&&$se(e.prototype,t),r&&$se(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fbt(e,t,r){return t=IC(t),pbt(e,Vwe()?Reflect.construct(t,r||[],IC(e).constructor):t.apply(e,r))}function pbt(e,t){if(t&&(Zx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zd(e)}function Vwe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vwe=function(){return!!e})()}function IC(e){return IC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},IC(e)}function Zd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hbt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hV(e,t)}function hV(e,t){return hV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hV(e,t)}function iu(e,t,r){return t=Uwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uwe(e){var t=mbt(e,"string");return Zx(t)=="symbol"?t:String(t)}function mbt(e,t){if(Zx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gbt=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,c=t.width,p=t.travellerWidth;if(!r||!r.length)return{};var o=r.length,g=o5().domain(PC(0,o)).range([s,s+c-p]),y=g.domain().map(function(x){return g(x)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:g(n),endX:g(i),scale:g,scaleValues:y}},Lse=function(t){return t.changedTouches&&!!t.changedTouches.length},Xx=function(e){hbt(t,e);function t(r){var n;return cbt(this,t),n=fbt(this,t,[r]),iu(Zd(n),"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),iu(Zd(n),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),iu(Zd(n),"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,c=i.onDragEnd,p=i.startIndex;c==null||c({endIndex:s,startIndex:p})}),n.detachDragEndListener()}),iu(Zd(n),"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),iu(Zd(n),"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),iu(Zd(n),"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),iu(Zd(n),"handleSlideDragStart",function(i){var s=Lse(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(Zd(n),"startX"),endX:n.handleTravellerDragStart.bind(Zd(n),"endX")},n.state={},n}return dbt(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,c=this.state.scaleValues,p=this.props,o=p.gap,g=p.data,y=g.length-1,x=Math.min(i,s),E=Math.max(i,s),A=t.getIndexInRange(c,x),M=t.getIndexInRange(c,E);return{startIndex:A-A%o,endIndex:M===y?y:M-M%o}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,c=i.tickFormatter,p=i.dataKey,o=Su(s[n],p,n);return hi(c)?c(o,n):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,c=i.startX,p=i.endX,o=this.props,g=o.x,y=o.width,x=o.travellerWidth,E=o.startIndex,A=o.endIndex,M=o.onChange,R=n.pageX-s;R>0?R=Math.min(R,g+y-x-p,g+y-x-c):R<0&&(R=Math.max(R,g-c,g-p));var k=this.getIndex({startX:c+R,endX:p+R});(k.startIndex!==E||k.endIndex!==A)&&M&&M(k),this.setState({startX:c+R,endX:p+R,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=Lse(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,c=i.movingTravellerId,p=i.endX,o=i.startX,g=this.state[c],y=this.props,x=y.x,E=y.width,A=y.travellerWidth,M=y.onChange,R=y.gap,k=y.data,D={startX:this.state.startX,endX:this.state.endX},$=n.pageX-s;$>0?$=Math.min($,x+E-A-g):$<0&&($=Math.max($,x-g)),D[c]=g+$;var B=this.getIndex(D),V=B.startIndex,U=B.endIndex,Z=function(){var j=k.length-1;return c==="startX"&&(p>o?V%R===0:U%R===0)||p<o&&U===j||c==="endX"&&(p>o?U%R===0:V%R===0)||p>o&&U===j};this.setState(iu(iu({},c,g+$),"brushMoveStartX",n.pageX),function(){M&&Z()&&M(B)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,c=this.state,p=c.scaleValues,o=c.startX,g=c.endX,y=this.state[i],x=p.indexOf(y);if(x!==-1){var E=x+n;if(!(E===-1||E>=p.length)){var A=p[E];i==="startX"&&A>=g||i==="endX"&&A<=o||this.setState(iu({},i,A),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,c=n.width,p=n.height,o=n.fill,g=n.stroke;return Ke.createElement("rect",{stroke:g,fill:o,x:i,y:s,width:c,height:p})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,c=n.width,p=n.height,o=n.data,g=n.children,y=n.padding,x=se.Children.only(g);return x?Ke.cloneElement(x,{x:i,y:s,width:c,height:p,margin:y,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,c,p=this,o=this.props,g=o.y,y=o.travellerWidth,x=o.height,E=o.traveller,A=o.ariaLabel,M=o.data,R=o.startIndex,k=o.endIndex,D=Math.max(n,this.props.x),$=DL(DL({},Ei(this.props,!1)),{},{x:D,y:g,width:y,height:x}),B=A||"Min value: ".concat((s=M[R])===null||s===void 0?void 0:s.name,", Max value: ").concat((c=M[k])===null||c===void 0?void 0:c.name);return Ke.createElement(lo,{tabIndex:0,role:"slider","aria-label":B,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(U){["ArrowLeft","ArrowRight"].includes(U.key)&&(U.preventDefault(),U.stopPropagation(),p.handleTravellerMoveKeyboard(U.key==="ArrowRight"?1:-1,i))},onFocus:function(){p.setState({isTravellerFocused:!0})},onBlur:function(){p.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(E,$))}},{key:"renderSlide",value:function(n,i){var s=this.props,c=s.y,p=s.height,o=s.stroke,g=s.travellerWidth,y=Math.min(n,i)+g,x=Math.max(Math.abs(i-n)-g,0);return Ke.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:y,y:c,width:x,height:p})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,c=n.y,p=n.height,o=n.travellerWidth,g=n.stroke,y=this.state,x=y.startX,E=y.endX,A=5,M={pointerEvents:"none",fill:g};return Ke.createElement(lo,{className:"recharts-brush-texts"},Ke.createElement(aC,CC({textAnchor:"end",verticalAnchor:"middle",x:Math.min(x,E)-A,y:c+p/2},M),this.getTextOfTick(i)),Ke.createElement(aC,CC({textAnchor:"start",verticalAnchor:"middle",x:Math.max(x,E)+o+A,y:c+p/2},M),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,c=n.children,p=n.x,o=n.y,g=n.width,y=n.height,x=n.alwaysShowText,E=this.state,A=E.startX,M=E.endX,R=E.isTextActive,k=E.isSlideMoving,D=E.isTravellerMoving,$=E.isTravellerFocused;if(!i||!i.length||!Lr(p)||!Lr(o)||!Lr(g)||!Lr(y)||g<=0||y<=0)return null;var B=bi("recharts-brush",s),V=Ke.Children.count(c)===1,U=ubt("userSelect","none");return Ke.createElement(lo,{className:B,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:U},this.renderBackground(),V&&this.renderPanorama(),this.renderSlide(A,M),this.renderTravellerLayer(A,"startX"),this.renderTravellerLayer(M,"endX"),(R||k||D||$||x)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,c=n.width,p=n.height,o=n.stroke,g=Math.floor(s+p/2)-1;return Ke.createElement(Ke.Fragment,null,Ke.createElement("rect",{x:i,y:s,width:c,height:p,fill:o,stroke:"none"}),Ke.createElement("line",{x1:i+1,y1:g,x2:i+c-1,y2:g,fill:"none",stroke:"#fff"}),Ke.createElement("line",{x1:i+1,y1:g+2,x2:i+c-1,y2:g+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return Ke.isValidElement(n)?s=Ke.cloneElement(n,i):hi(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,c=n.width,p=n.x,o=n.travellerWidth,g=n.updateId,y=n.startIndex,x=n.endIndex;if(s!==i.prevData||g!==i.prevUpdateId)return DL({prevData:s,prevTravellerWidth:o,prevUpdateId:g,prevX:p,prevWidth:c},s&&s.length?gbt({data:s,width:c,x:p,travellerWidth:o,startIndex:y,endIndex:x}):{scale:null,scaleValues:null});if(i.scale&&(c!==i.prevWidth||p!==i.prevX||o!==i.prevTravellerWidth)){i.scale.range([p,p+c-o]);var E=i.scale.domain().map(function(A){return i.scale(A)});return{prevData:s,prevTravellerWidth:o,prevUpdateId:g,prevX:p,prevWidth:c,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:E}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,c=0,p=s-1;p-c>1;){var o=Math.floor((c+p)/2);n[o]>i?p=o:c=o}return i>=n[p]?p:c}}]),t}(se.PureComponent);iu(Xx,"displayName","Brush");iu(Xx,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ybt=gH;function vbt(e,t){var r;return ybt(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var _bt=vbt,bbt=q4e,xbt=Q1,wbt=_bt,Sbt=Hl,Ebt=EM;function Abt(e,t,r){var n=Sbt(e)?bbt:wbt;return r&&Ebt(e,t,r)&&(t=void 0),n(e,xbt(t))}var Tbt=Abt;const Pbt=oi(Tbt);var yf=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},Bse=y3e;function Cbt(e,t,r){t=="__proto__"&&Bse?Bse(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Ibt=Cbt,Mbt=Ibt,kbt=m3e,Obt=Q1;function Dbt(e,t){var r={};return t=Obt(t),kbt(e,function(n,i,s){Mbt(r,i,t(n,i,s))}),r}var Rbt=Dbt;const $bt=oi(Rbt);function Lbt(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Bbt=Lbt,zbt=gH;function Nbt(e,t){var r=!0;return zbt(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var Fbt=Nbt,jbt=Bbt,Vbt=Fbt,Ubt=Q1,Wbt=Hl,Kbt=EM;function Hbt(e,t,r){var n=Wbt(e)?jbt:Vbt;return r&&Kbt(e,t,r)&&(t=void 0),n(e,Ubt(t))}var Gbt=Hbt;const Wwe=oi(Gbt);var qbt=["x","y"];function A8(e){"@babel/helpers - typeof";return A8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A8(e)}function mV(){return mV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mV.apply(this,arguments)}function zse(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zse(Object(r),!0).forEach(function(n){Zbt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zse(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zbt(e,t,r){return t=Xbt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xbt(e){var t=Ybt(e,"string");return A8(t)=="symbol"?t:String(t)}function Ybt(e,t){if(A8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jbt(e,t){if(e==null)return{};var r=Qbt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qbt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ext(e,t){var r=e.x,n=e.y,i=Jbt(e,qbt),s="".concat(r),c=parseInt(s,10),p="".concat(n),o=parseInt(p,10),g="".concat(t.height||i.height),y=parseInt(g,10),x="".concat(t.width||i.width),E=parseInt(x,10);return F2(F2(F2(F2(F2({},t),i),c?{x:c}:{}),o?{y:o}:{}),{},{height:y,width:E,name:t.name,radius:t.radius})}function Nse(e){return Ke.createElement(z_t,mV({shapeType:"rectangle",propTransformer:ext,activeClassName:"recharts-active-bar"},e))}var txt=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=typeof n=="number";return s?t(n,i):(s||Ly(),r)}},rxt=["value","background"],Kwe;function Yx(e){"@babel/helpers - typeof";return Yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yx(e)}function nxt(e,t){if(e==null)return{};var r=ixt(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ixt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function MC(){return MC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MC.apply(this,arguments)}function Fse(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fse(Object(r),!0).forEach(function(n){o1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fse(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function axt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gwe(n.key),n)}}function oxt(e,t,r){return t&&jse(e.prototype,t),r&&jse(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sxt(e,t,r){return t=kC(t),lxt(e,Hwe()?Reflect.construct(t,r||[],kC(e).constructor):t.apply(e,r))}function lxt(e,t){if(t&&(Yx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B6(e)}function Hwe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hwe=function(){return!!e})()}function kC(e){return kC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kC(e)}function B6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gV(e,t)}function gV(e,t){return gV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gV(e,t)}function o1(e,t,r){return t=Gwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gwe(e){var t=cxt(e,"string");return Yx(t)=="symbol"?t:String(t)}function cxt(e,t){if(Yx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j9=function(e){uxt(t,e);function t(){var r;axt(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=sxt(this,t,[].concat(i)),o1(B6(r),"state",{isAnimationFinished:!1}),o1(B6(r),"id",R9("recharts-bar-")),o1(B6(r),"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),c&&c()}),o1(B6(r),"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),c&&c()}),r}return oxt(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,c=s.shape,p=s.dataKey,o=s.activeIndex,g=s.activeBar,y=Ei(this.props,!1);return n&&n.map(function(x,E){var A=E===o,M=A?g:c,R=Wo(Wo(Wo({},y),x),{},{isActive:A,option:M,index:E,dataKey:p,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Ke.createElement(lo,MC({className:"recharts-bar-rectangle"},KP(i.props,x,E),{key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value)}),Ke.createElement(Nse,R))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,c=i.layout,p=i.isAnimationActive,o=i.animationBegin,g=i.animationDuration,y=i.animationEasing,x=i.animationId,E=this.state.prevData;return Ke.createElement(yh,{begin:o,duration:g,isActive:p,easing:y,from:{t:0},to:{t:1},key:"bar-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var M=A.t,R=s.map(function(k,D){var $=E&&E[D];if($){var B=sd($.x,k.x),V=sd($.y,k.y),U=sd($.width,k.width),Z=sd($.height,k.height);return Wo(Wo({},k),{},{x:B(M),y:V(M),width:U(M),height:Z(M)})}if(c==="horizontal"){var ne=sd(0,k.height),j=ne(M);return Wo(Wo({},k),{},{y:k.y+k.height-j,height:j})}var fe=sd(0,k.width),be=fe(M);return Wo(Wo({},k),{},{width:be})});return Ke.createElement(lo,null,n.renderRectanglesStatically(R))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,c=this.state.prevData;return s&&i&&i.length&&(!c||!DM(c,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,c=i.dataKey,p=i.activeIndex,o=Ei(this.props.background,!1);return s.map(function(g,y){g.value;var x=g.background,E=nxt(g,rxt);if(!x)return null;var A=Wo(Wo(Wo(Wo(Wo({},E),{},{fill:"#eee"},x),o),KP(n.props,g,y)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:c,index:y,key:"background-bar-".concat(y),className:"recharts-bar-background-rectangle"});return Ke.createElement(Nse,MC({option:n.props.background,isActive:y===p},A))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.data,p=s.xAxis,o=s.yAxis,g=s.layout,y=s.children,x=hc(y,F9);if(!x)return null;var E=g==="vertical"?c[0].height/2:c[0].width/2,A=function(k,D){var $=Array.isArray(k.value)?k.value[1]:k.value;return{x:k.x,y:k.y,value:$,errorVal:Su(k,D)}},M={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Ke.createElement(lo,M,x.map(function(R){return Ke.cloneElement(R,{key:"error-bar-".concat(i,"-").concat(R.props.dataKey),data:c,xAxis:p,yAxis:o,layout:g,offset:E,dataPointFormatter:A})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,c=n.className,p=n.xAxis,o=n.yAxis,g=n.left,y=n.top,x=n.width,E=n.height,A=n.isAnimationActive,M=n.background,R=n.id;if(i||!s||!s.length)return null;var k=this.state.isAnimationFinished,D=bi("recharts-bar",c),$=p&&p.allowDataOverflow,B=o&&o.allowDataOverflow,V=$||B,U=_i(R)?this.id:R;return Ke.createElement(lo,{className:D},$||B?Ke.createElement("defs",null,Ke.createElement("clipPath",{id:"clipPath-".concat(U)},Ke.createElement("rect",{x:$?g:g-x/2,y:B?y:y-E/2,width:$?x:x*2,height:B?E:E*2}))):null,Ke.createElement(lo,{className:"recharts-bar-rectangles",clipPath:V?"url(#clipPath-".concat(U,")"):null},M?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(V,U),(!A||k)&&b1.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}]),t}(se.PureComponent);Kwe=j9;o1(j9,"displayName","Bar");o1(j9,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Jp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});o1(j9,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,c=e.yAxis,p=e.xAxisTicks,o=e.yAxisTicks,g=e.stackedData,y=e.dataStartIndex,x=e.displayedData,E=e.offset,A=ngt(n,r);if(!A)return null;var M=t.layout,R=r.props,k=R.dataKey,D=R.children,$=R.minPointSize,B=M==="horizontal"?c:s,V=g?B.scale.domain():null,U=dgt({numericAxis:B}),Z=hc(D,E3e),ne=x.map(function(j,fe){var be,pe,le,G,N,Y;g?be=igt(g[y+fe],V):(be=Su(j,k),Array.isArray(be)||(be=[U,be]));var te=txt($,Kwe.defaultProps.minPointSize)(be[1],fe);if(M==="horizontal"){var re,he=[c.scale(be[0]),c.scale(be[1])],we=he[0],ye=he[1];pe=Foe({axis:s,ticks:p,bandSize:i,offset:A.offset,entry:j,index:fe}),le=(re=ye??we)!==null&&re!==void 0?re:void 0,G=A.size;var ue=we-ye;if(N=Number.isNaN(ue)?0:ue,Y={x:pe,y:c.y,width:G,height:c.height},Math.abs(te)>0&&Math.abs(N)<Math.abs(te)){var J=cd(N||te)*(Math.abs(te)-Math.abs(N));le-=J,N+=J}}else{var de=[s.scale(be[0]),s.scale(be[1])],ke=de[0],Oe=de[1];if(pe=ke,le=Foe({axis:c,ticks:o,bandSize:i,offset:A.offset,entry:j,index:fe}),G=Oe-ke,N=A.size,Y={x:s.x,y:le,width:s.width,height:N},Math.abs(te)>0&&Math.abs(G)<Math.abs(te)){var Se=cd(G||te)*(Math.abs(te)-Math.abs(G));G+=Se}}return Wo(Wo(Wo({},j),{},{x:pe,y:le,width:G,height:N,value:g?be:be[1],payload:j,background:Y},Z&&Z[fe]&&Z[fe].props),{},{tooltipPayload:[Pwe(r,j)],tooltipPosition:{x:pe+G/2,y:le+N/2}})});return Wo({data:ne,layout:M},E)});function T8(e){"@babel/helpers - typeof";return T8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T8(e)}function dxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qwe(n.key),n)}}function fxt(e,t,r){return t&&Vse(e.prototype,t),r&&Vse(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Use(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Use(Object(r),!0).forEach(function(n){zM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Use(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zM(e,t,r){return t=qwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qwe(e){var t=pxt(e,"string");return T8(t)=="symbol"?t:String(t)}function pxt(e,t){if(T8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hxt=function(t,r,n,i,s){var c=t.width,p=t.height,o=t.layout,g=t.children,y=Object.keys(r),x={left:n.left,leftMirror:n.left,right:c-n.right,rightMirror:c-n.right,top:n.top,topMirror:n.top,bottom:p-n.bottom,bottomMirror:p-n.bottom},E=!!su(g,j9);return y.reduce(function(A,M){var R=r[M],k=R.orientation,D=R.domain,$=R.padding,B=$===void 0?{}:$,V=R.mirror,U=R.reversed,Z="".concat(k).concat(V?"Mirror":""),ne,j,fe,be,pe;if(R.type==="number"&&(R.padding==="gap"||R.padding==="no-gap")){var le=D[1]-D[0],G=1/0,N=R.categoricalDomain.sort();if(N.forEach(function(ke,Oe){Oe>0&&(G=Math.min((ke||0)-(N[Oe-1]||0),G))}),Number.isFinite(G)){var Y=G/le,te=R.layout==="vertical"?n.height:n.width;if(R.padding==="gap"&&(ne=Y*te/2),R.padding==="no-gap"){var re=Ry(t.barCategoryGap,Y*te),he=Y*te/2;ne=he-re-(he-re)/te*re}}}i==="xAxis"?j=[n.left+(B.left||0)+(ne||0),n.left+n.width-(B.right||0)-(ne||0)]:i==="yAxis"?j=o==="horizontal"?[n.top+n.height-(B.bottom||0),n.top+(B.top||0)]:[n.top+(B.top||0)+(ne||0),n.top+n.height-(B.bottom||0)-(ne||0)]:j=R.range,U&&(j=[j[1],j[0]]);var we=tgt(R,s,E),ye=we.scale,ue=we.realScaleType;ye.domain(D).range(j),rgt(ye);var J=cgt(ye,id(id({},R),{},{realScaleType:ue}));i==="xAxis"?(pe=k==="top"&&!V||k==="bottom"&&V,fe=n.left,be=x[Z]-pe*R.height):i==="yAxis"&&(pe=k==="left"&&!V||k==="right"&&V,fe=x[Z]-pe*R.width,be=n.top);var de=id(id(id({},R),J),{},{realScaleType:ue,x:fe,y:be,scale:ye,width:i==="xAxis"?n.width:R.width,height:i==="yAxis"?n.height:R.height});return de.bandSize=vC(de,J),!R.hide&&i==="xAxis"?x[Z]+=(pe?-1:1)*de.height:R.hide||(x[Z]+=(pe?-1:1)*de.width),id(id({},A),{},zM({},M,de))},{})},Zwe=function(t,r){var n=t.x,i=t.y,s=r.x,c=r.y;return{x:Math.min(n,s),y:Math.min(i,c),width:Math.abs(s-n),height:Math.abs(c-i)}},mxt=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return Zwe({x:r,y:n},{x:i,y:s})},Xwe=function(){function e(t){dxt(this,e),this.scale=t}return fxt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}case"end":{var p=this.bandwidth?this.bandwidth():0;return this.scale(r)+p}default:return this.scale(r)}if(i){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}]),e}();zM(Xwe,"EPS",1e-4);var HH=function(t){var r=Object.keys(t).reduce(function(n,i){return id(id({},n),{},zM({},i,Xwe.create(t[i])))},{});return id(id({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.bandAware,p=s.position;return $bt(i,function(o,g){return r[g].apply(o,{bandAware:c,position:p})})},isInRange:function(i){return Wwe(i,function(s,c){return r[c].isInRange(s)})}})};function gxt(e){return(e%180+180)%180}var yxt=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=gxt(i),c=s*Math.PI/180,p=Math.atan(n/r),o=c>p&&c<Math.PI-p?n/Math.sin(c):r/Math.cos(c);return Math.abs(o)},vxt=Q1,_xt=$9,bxt=wM;function xxt(e){return function(t,r,n){var i=Object(t);if(!_xt(t)){var s=vxt(r);t=bxt(t),r=function(p){return s(i[p],p,i)}}var c=e(t,r,n);return c>-1?i[s?t[c]:c]:void 0}}var wxt=xxt,Sxt=Fwe;function Ext(e){var t=Sxt(e),r=t%1;return t===t?r?t-r:t:0}var Axt=Ext,Txt=l3e,Pxt=Q1,Cxt=Axt,Ixt=Math.max;function Mxt(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Cxt(r);return i<0&&(i=Ixt(n+i,0)),Txt(e,Pxt(t),i)}var kxt=Mxt,Oxt=wxt,Dxt=kxt,Rxt=Oxt(Dxt),$xt=Rxt;const Lxt=oi($xt);var Bxt=Gtt(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),GH=se.createContext(void 0),qH=se.createContext(void 0),Ywe=se.createContext(void 0),Jwe=se.createContext({}),Qwe=se.createContext(void 0),e2e=se.createContext(0),t2e=se.createContext(0),Wse=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,c=t.clipPathId,p=t.children,o=t.width,g=t.height,y=Bxt(s);return Ke.createElement(GH.Provider,{value:n},Ke.createElement(qH.Provider,{value:i},Ke.createElement(Jwe.Provider,{value:s},Ke.createElement(Ywe.Provider,{value:y},Ke.createElement(Qwe.Provider,{value:c},Ke.createElement(e2e.Provider,{value:g},Ke.createElement(t2e.Provider,{value:o},p)))))))},zxt=function(){return se.useContext(Qwe)},r2e=function(t){var r=se.useContext(GH);r==null&&Ly();var n=r[t];return n==null&&Ly(),n},Nxt=function(){var t=se.useContext(GH);return Zm(t)},Fxt=function(){var t=se.useContext(qH),r=Lxt(t,function(n){return Wwe(n.domain,Number.isFinite)});return r||Zm(t)},n2e=function(t){var r=se.useContext(qH);r==null&&Ly();var n=r[t];return n==null&&Ly(),n},jxt=function(){var t=se.useContext(Ywe);return t},Vxt=function(){return se.useContext(Jwe)},ZH=function(){return se.useContext(t2e)},XH=function(){return se.useContext(e2e)};function P8(e){"@babel/helpers - typeof";return P8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P8(e)}function Kse(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kse(Object(r),!0).forEach(function(n){Uxt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kse(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uxt(e,t,r){return t=Wxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wxt(e){var t=Kxt(e,"string");return P8(t)=="symbol"?t:String(t)}function Kxt(e,t){if(P8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(P8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hxt(e,t){return Xxt(e)||Zxt(e,t)||qxt(e,t)||Gxt()}function Gxt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxt(e,t){if(e){if(typeof e=="string")return Gse(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gse(e,t)}}function Gse(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zxt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,c,p=[],o=!0,g=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(o=(n=s.call(r)).done)&&(p.push(n.value),p.length!==t);o=!0);}catch(y){g=!0,i=y}finally{try{if(!o&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw i}}return p}}function Xxt(e){if(Array.isArray(e))return e}function yV(){return yV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yV.apply(this,arguments)}var Yxt=function(t,r){var n;return Ke.isValidElement(t)?n=Ke.cloneElement(t,r):hi(t)?n=t(r):n=Ke.createElement("line",yV({},r,{className:"recharts-reference-line-line"})),n},Jxt=function(t,r,n,i,s,c,p,o,g){var y=s.x,x=s.y,E=s.width,A=s.height;if(n){var M=g.y,R=t.y.apply(M,{position:c});if(yf(g,"discard")&&!t.y.isInRange(R))return null;var k=[{x:y+E,y:R},{x:y,y:R}];return o==="left"?k.reverse():k}if(r){var D=g.x,$=t.x.apply(D,{position:c});if(yf(g,"discard")&&!t.x.isInRange($))return null;var B=[{x:$,y:x+A},{x:$,y:x}];return p==="top"?B.reverse():B}if(i){var V=g.segment,U=V.map(function(Z){return t.apply(Z,{position:c})});return yf(g,"discard")&&Pbt(U,function(Z){return!t.isInRange(Z)})?null:U}return null};function YH(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,c=e.shape,p=e.className,o=e.alwaysShow,g=zxt(),y=r2e(i),x=n2e(s),E=jxt();if(!g||!E)return null;Yp(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=HH({x:y.scale,y:x.scale}),M=Bo(t),R=Bo(r),k=n&&n.length===2,D=Jxt(A,M,R,k,E,e.position,y.orientation,x.orientation,e);if(!D)return null;var $=Hxt(D,2),B=$[0],V=B.x,U=B.y,Z=$[1],ne=Z.x,j=Z.y,fe=yf(e,"hidden")?"url(#".concat(g,")"):void 0,be=Hse(Hse({clipPath:fe},Ei(e,!0)),{},{x1:V,y1:U,x2:ne,y2:j});return Ke.createElement(lo,{className:bi("recharts-reference-line",p)},Yxt(c,be),Ls.renderCallByParent(e,mxt({x1:V,y1:U,x2:ne,y2:j})))}YH.displayName="ReferenceLine";YH.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function C8(e){"@babel/helpers - typeof";return C8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C8(e)}function vV(){return vV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vV.apply(this,arguments)}function qse(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qse(Object(r),!0).forEach(function(n){Qxt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qse(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qxt(e,t,r){return t=e4t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e4t(e){var t=t4t(e,"string");return C8(t)=="symbol"?t:String(t)}function t4t(e,t){if(C8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r4t=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,c=HH({x:i.scale,y:s.scale}),p=c.apply({x:r,y:n},{bandAware:!0});return yf(t,"discard")&&!c.isInRange(p)?null:p};function V9(e){var t=e.x,r=e.y,n=e.r,i=e.alwaysShow,s=e.clipPathId,c=Bo(t),p=Bo(r);if(Yp(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!p)return null;var o=r4t(e);if(!o)return null;var g=o.x,y=o.y,x=e.shape,E=e.className,A=yf(e,"hidden")?"url(#".concat(s,")"):void 0,M=Zse(Zse({clipPath:A},Ei(e,!0)),{},{cx:g,cy:y});return Ke.createElement(lo,{className:bi("recharts-reference-dot",E)},V9.renderDot(x,M),Ls.renderCallByParent(e,{x:g-n,y:y-n,width:2*n,height:2*n}))}V9.displayName="ReferenceDot";V9.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};V9.renderDot=function(e,t){var r;return Ke.isValidElement(e)?r=Ke.cloneElement(e,t):hi(e)?r=e(t):r=Ke.createElement(KH,vV({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r};function I8(e){"@babel/helpers - typeof";return I8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I8(e)}function _V(){return _V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_V.apply(this,arguments)}function Xse(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xse(Object(r),!0).forEach(function(n){n4t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xse(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n4t(e,t,r){return t=i4t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i4t(e){var t=a4t(e,"string");return I8(t)=="symbol"?t:String(t)}function a4t(e,t){if(I8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(I8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o4t=function(t,r,n,i,s){var c=s.x1,p=s.x2,o=s.y1,g=s.y2,y=s.xAxis,x=s.yAxis;if(!y||!x)return null;var E=HH({x:y.scale,y:x.scale}),A={x:t?E.x.apply(c,{position:"start"}):E.x.rangeMin,y:n?E.y.apply(o,{position:"start"}):E.y.rangeMin},M={x:r?E.x.apply(p,{position:"end"}):E.x.rangeMax,y:i?E.y.apply(g,{position:"end"}):E.y.rangeMax};return yf(s,"discard")&&(!E.isInRange(A)||!E.isInRange(M))?null:Zwe(A,M)};function U9(e){var t=e.x1,r=e.x2,n=e.y1,i=e.y2,s=e.className,c=e.alwaysShow,p=e.clipPathId;Yp(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var o=Bo(t),g=Bo(r),y=Bo(n),x=Bo(i),E=e.shape;if(!o&&!g&&!y&&!x&&!E)return null;var A=o4t(o,g,y,x,e);if(!A&&!E)return null;var M=yf(e,"hidden")?"url(#".concat(p,")"):void 0;return Ke.createElement(lo,{className:bi("recharts-reference-area",s)},U9.renderRect(E,Yse(Yse({clipPath:M},Ei(e,!0)),A)),Ls.renderCallByParent(e,A))}U9.displayName="ReferenceArea";U9.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};U9.renderRect=function(e,t){var r;return Ke.isValidElement(e)?r=Ke.cloneElement(e,t):hi(e)?r=e(t):r=Ke.createElement(WH,_V({},t,{className:"recharts-reference-area-rect"})),r};function i2e(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function s4t(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return yxt(n,r)}function l4t(e,t,r){var n=r==="width",i=e.x,s=e.y,c=e.width,p=e.height;return t===1?{start:n?i:s,end:n?i+c:s+p}:{start:n?i+c:s+p,end:n?i:s}}function OC(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function u4t(e,t){return i2e(e,t+1)}function c4t(e,t,r,n,i){for(var s=(n||[]).slice(),c=t.start,p=t.end,o=0,g=1,y=c,x=function(){var M=n==null?void 0:n[o];if(M===void 0)return{v:i2e(n,g)};var R=o,k,D=function(){return k===void 0&&(k=r(M,R)),k},$=M.coordinate,B=o===0||OC(e,$,D,y,p);B||(o=0,y=c,g+=1),B&&(y=$+e*(D()/2+i),o+=g)},E;g<=s.length;)if(E=x(),E)return E.v;return[]}function M8(e){"@babel/helpers - typeof";return M8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M8(e)}function Jse(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jse(Object(r),!0).forEach(function(n){d4t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jse(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d4t(e,t,r){return t=f4t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f4t(e){var t=p4t(e,"string");return M8(t)=="symbol"?t:String(t)}function p4t(e,t){if(M8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(M8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h4t(e,t,r,n,i){for(var s=(n||[]).slice(),c=s.length,p=t.start,o=t.end,g=function(E){var A=s[E],M,R=function(){return M===void 0&&(M=r(A,E)),M};if(E===c-1){var k=e*(A.coordinate+e*R()/2-o);s[E]=A=Rs(Rs({},A),{},{tickCoord:k>0?A.coordinate-k*e:A.coordinate})}else s[E]=A=Rs(Rs({},A),{},{tickCoord:A.coordinate});var D=OC(e,A.tickCoord,R,p,o);D&&(o=A.tickCoord-e*(R()/2+i),s[E]=Rs(Rs({},A),{},{isShow:!0}))},y=c-1;y>=0;y--)g(y);return s}function m4t(e,t,r,n,i,s){var c=(n||[]).slice(),p=c.length,o=t.start,g=t.end;if(s){var y=n[p-1],x=r(y,p-1),E=e*(y.coordinate+e*x/2-g);c[p-1]=y=Rs(Rs({},y),{},{tickCoord:E>0?y.coordinate-E*e:y.coordinate});var A=OC(e,y.tickCoord,function(){return x},o,g);A&&(g=y.tickCoord-e*(x/2+i),c[p-1]=Rs(Rs({},y),{},{isShow:!0}))}for(var M=s?p-1:p,R=function($){var B=c[$],V,U=function(){return V===void 0&&(V=r(B,$)),V};if($===0){var Z=e*(B.coordinate-e*U()/2-o);c[$]=B=Rs(Rs({},B),{},{tickCoord:Z<0?B.coordinate-Z*e:B.coordinate})}else c[$]=B=Rs(Rs({},B),{},{tickCoord:B.coordinate});var ne=OC(e,B.tickCoord,U,o,g);ne&&(o=B.tickCoord+e*(U()/2+i),c[$]=Rs(Rs({},B),{},{isShow:!0}))},k=0;k<M;k++)R(k);return c}function JH(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,c=e.minTickGap,p=e.orientation,o=e.interval,g=e.tickFormatter,y=e.unit,x=e.angle;if(!i||!i.length||!n)return[];if(Lr(o)||Jp.isSsr)return u4t(i,typeof o=="number"&&Lr(o)?o:0);var E=[],A=p==="top"||p==="bottom"?"width":"height",M=y&&A==="width"?a5(y,{fontSize:t,letterSpacing:r}):{width:0,height:0},R=function(B,V){var U=hi(g)?g(B.value,V):B.value;return A==="width"?s4t(a5(U,{fontSize:t,letterSpacing:r}),M,x):a5(U,{fontSize:t,letterSpacing:r})[A]},k=i.length>=2?cd(i[1].coordinate-i[0].coordinate):1,D=l4t(s,k,A);return o==="equidistantPreserveStart"?c4t(k,D,R,i,c):(o==="preserveStart"||o==="preserveStartEnd"?E=m4t(k,D,R,i,c,o==="preserveStartEnd"):E=h4t(k,D,R,i,c),E.filter(function($){return $.isShow}))}var g4t=["viewBox"],y4t=["viewBox"],v4t=["ticks"];function Jx(e){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jx(e)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vb.apply(this,arguments)}function Qse(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qse(Object(r),!0).forEach(function(n){QH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qse(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RL(e,t){if(e==null)return{};var r=_4t(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _4t(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function b4t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ele(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o2e(n.key),n)}}function x4t(e,t,r){return t&&ele(e.prototype,t),r&&ele(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w4t(e,t,r){return t=DC(t),S4t(e,a2e()?Reflect.construct(t,r||[],DC(e).constructor):t.apply(e,r))}function S4t(e,t){if(t&&(Jx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E4t(e)}function E4t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a2e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a2e=function(){return!!e})()}function DC(e){return DC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},DC(e)}function A4t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bV(e,t)}function bV(e,t){return bV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bV(e,t)}function QH(e,t,r){return t=o2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o2e(e){var t=T4t(e,"string");return Jx(t)=="symbol"?t:String(t)}function T4t(e,t){if(Jx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c3=function(e){A4t(t,e);function t(r){var n;return b4t(this,t),n=w4t(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return x4t(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,c=RL(n,g4t),p=this.props,o=p.viewBox,g=RL(p,y4t);return!lx(s,o)||!lx(c,g)||!lx(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,c=i.y,p=i.width,o=i.height,g=i.orientation,y=i.tickSize,x=i.mirror,E=i.tickMargin,A,M,R,k,D,$,B=x?-1:1,V=n.tickSize||y,U=Lr(n.tickCoord)?n.tickCoord:n.coordinate;switch(g){case"top":A=M=n.coordinate,k=c+ +!x*o,R=k-B*V,$=R-B*E,D=U;break;case"left":R=k=n.coordinate,M=s+ +!x*p,A=M-B*V,D=A-B*E,$=U;break;case"right":R=k=n.coordinate,M=s+ +x*p,A=M+B*V,D=A+B*E,$=U;break;default:A=M=n.coordinate,k=c+ +x*o,R=k+B*V,$=R+B*E,D=U;break}return{line:{x1:A,y1:R,x2:M,y2:k},tick:{x:D,y:$}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,c;switch(i){case"left":c=s?"start":"end";break;case"right":c=s?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,c="end";switch(i){case"left":case"right":c="middle";break;case"top":c=s?"start":"end";break;default:c=s?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,c=n.width,p=n.height,o=n.orientation,g=n.mirror,y=n.axisLine,x=il(il(il({},Ei(this.props,!1)),Ei(y,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var E=+(o==="top"&&!g||o==="bottom"&&g);x=il(il({},x),{},{x1:i,y1:s+E*p,x2:i+c,y2:s+E*p})}else{var A=+(o==="left"&&!g||o==="right"&&g);x=il(il({},x),{},{x1:i+A*c,y1:s,x2:i+A*c,y2:s+p})}return Ke.createElement("line",Vb({},x,{className:bi("recharts-cartesian-axis-line",pc(y,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var c=this,p=this.props,o=p.tickLine,g=p.stroke,y=p.tick,x=p.tickFormatter,E=p.unit,A=JH(il(il({},this.props),{},{ticks:n}),i,s),M=this.getTickTextAnchor(),R=this.getTickVerticalAnchor(),k=Ei(this.props,!1),D=Ei(y,!1),$=il(il({},k),{},{fill:"none"},Ei(o,!1)),B=A.map(function(V,U){var Z=c.getTickLineCoord(V),ne=Z.line,j=Z.tick,fe=il(il(il(il({textAnchor:M,verticalAnchor:R},k),{},{stroke:"none",fill:g},D),j),{},{index:U,payload:V,visibleTicksCount:A.length,tickFormatter:x});return Ke.createElement(lo,Vb({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},KP(c.props,V,U)),o&&Ke.createElement("line",Vb({},$,ne,{className:bi("recharts-cartesian-axis-tick-line",pc(o,"className"))})),y&&t.renderTickItem(y,fe,"".concat(hi(x)?x(V.value,U):V.value).concat(E||"")))});return Ke.createElement("g",{className:"recharts-cartesian-axis-ticks"},B)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,c=i.width,p=i.height,o=i.ticksGenerator,g=i.className,y=i.hide;if(y)return null;var x=this.props,E=x.ticks,A=RL(x,v4t),M=E;return hi(o)&&(M=E&&E.length>0?o(this.props):o(A)),c<=0||p<=0||!M||!M.length?null:Ke.createElement(lo,{className:bi("recharts-cartesian-axis",g),ref:function(k){n.layerReference=k}},s&&this.renderAxisLine(),this.renderTicks(M,this.state.fontSize,this.state.letterSpacing),Ls.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var c;return Ke.isValidElement(n)?c=Ke.cloneElement(n,i):hi(n)?c=n(i):c=Ke.createElement(aC,Vb({},i,{className:"recharts-cartesian-axis-tick-value"}),s),c}}]),t}(se.Component);QH(c3,"displayName","CartesianAxis");QH(c3,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var P4t=["x1","y1","x2","y2","key"],C4t=["offset"];function By(e){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},By(e)}function tle(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tle(Object(r),!0).forEach(function(n){I4t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tle(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I4t(e,t,r){return t=M4t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M4t(e){var t=k4t(e,"string");return By(t)=="symbol"?t:String(t)}function k4t(e,t){if(By(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(By(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}function rle(e,t){if(e==null)return{};var r=O4t(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O4t(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var D4t=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,c=t.width,p=t.height;return Ke.createElement("rect",{x:i,y:s,width:c,height:p,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function s2e(e,t){var r;if(Ke.isValidElement(e))r=Ke.cloneElement(e,t);else if(hi(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,c=t.y2,p=t.key,o=rle(t,P4t),g=Ei(o,!1);g.offset;var y=rle(g,C4t);r=Ke.createElement("line",Xg({},y,{x1:n,y1:i,x2:s,y2:c,fill:"none",key:p}))}return r}function R4t(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var c=s.map(function(p,o){var g=Bs(Bs({},e),{},{x1:t,y1:p,x2:t+r,y2:p,key:"line-".concat(o),index:o});return s2e(i,g)});return Ke.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function $4t(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var c=s.map(function(p,o){var g=Bs(Bs({},e),{},{x1:p,y1:t,x2:p,y2:t+r,key:"line-".concat(o),index:o});return s2e(i,g)});return Ke.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function L4t(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,c=e.height,p=e.horizontalPoints,o=e.horizontal,g=o===void 0?!0:o;if(!g||!t||!t.length)return null;var y=p.map(function(E){return Math.round(E+i-i)}).sort(function(E,A){return E-A});i!==y[0]&&y.unshift(0);var x=y.map(function(E,A){var M=!y[A+1],R=M?i+c-E:y[A+1]-E;if(R<=0)return null;var k=A%t.length;return Ke.createElement("rect",{key:"react-".concat(A),y:E,x:n,height:R,width:s,stroke:"none",fill:t[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ke.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},x)}function B4t(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,c=e.y,p=e.width,o=e.height,g=e.verticalPoints;if(!r||!n||!n.length)return null;var y=g.map(function(E){return Math.round(E+s-s)}).sort(function(E,A){return E-A});s!==y[0]&&y.unshift(0);var x=y.map(function(E,A){var M=!y[A+1],R=M?s+p-E:y[A+1]-E;if(R<=0)return null;var k=A%n.length;return Ke.createElement("rect",{key:"react-".concat(A),x:E,y:c,width:R,height:o,stroke:"none",fill:n[k],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Ke.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},x)}var z4t=function(t,r){var n=t.xAxis,i=t.width,s=t.height,c=t.offset;return Awe(JH(Bs(Bs(Bs({},c3.defaultProps),n),{},{ticks:Fp(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),c.left,c.left+c.width,r)},N4t=function(t,r){var n=t.yAxis,i=t.width,s=t.height,c=t.offset;return Awe(JH(Bs(Bs(Bs({},c3.defaultProps),n),{},{ticks:Fp(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),c.top,c.top+c.height,r)},U_={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function l2e(e){var t,r,n,i,s,c,p=ZH(),o=XH(),g=Vxt(),y=Bs(Bs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:U_.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:U_.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:U_.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:U_.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:U_.vertical,verticalFill:(c=e.verticalFill)!==null&&c!==void 0?c:U_.verticalFill,x:Lr(e.x)?e.x:g.left,y:Lr(e.y)?e.y:g.top,width:Lr(e.width)?e.width:g.width,height:Lr(e.height)?e.height:g.height}),x=y.x,E=y.y,A=y.width,M=y.height,R=y.syncWithTicks,k=y.horizontalValues,D=y.verticalValues,$=Nxt(),B=Fxt();if(!Lr(A)||A<=0||!Lr(M)||M<=0||!Lr(x)||x!==+x||!Lr(E)||E!==+E)return null;var V=y.verticalCoordinatesGenerator||z4t,U=y.horizontalCoordinatesGenerator||N4t,Z=y.horizontalPoints,ne=y.verticalPoints;if((!Z||!Z.length)&&hi(U)){var j=k&&k.length,fe=U({yAxis:B?Bs(Bs({},B),{},{ticks:j?k:B.ticks}):void 0,width:p,height:o,offset:g},j?!0:R);Yp(Array.isArray(fe),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(By(fe),"]")),Array.isArray(fe)&&(Z=fe)}if((!ne||!ne.length)&&hi(V)){var be=D&&D.length,pe=V({xAxis:$?Bs(Bs({},$),{},{ticks:be?D:$.ticks}):void 0,width:p,height:o,offset:g},be?!0:R);Yp(Array.isArray(pe),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(By(pe),"]")),Array.isArray(pe)&&(ne=pe)}return Ke.createElement("g",{className:"recharts-cartesian-grid"},Ke.createElement(D4t,{fill:y.fill,fillOpacity:y.fillOpacity,x:y.x,y:y.y,width:y.width,height:y.height}),Ke.createElement(R4t,Xg({},y,{offset:g,horizontalPoints:Z,xAxis:$,yAxis:B})),Ke.createElement($4t,Xg({},y,{offset:g,verticalPoints:ne,xAxis:$,yAxis:B})),Ke.createElement(L4t,Xg({},y,{horizontalPoints:Z})),Ke.createElement(B4t,Xg({},y,{verticalPoints:ne})))}l2e.displayName="CartesianGrid";var F4t=["type","layout","connectNulls","ref"];function Qx(e){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qx(e)}function j4t(e,t){if(e==null)return{};var r=V4t(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V4t(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function u5(){return u5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u5.apply(this,arguments)}function nle(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nle(Object(r),!0).forEach(function(n){ad(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nle(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W_(e){return H4t(e)||K4t(e)||W4t(e)||U4t()}function U4t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W4t(e,t){if(e){if(typeof e=="string")return xV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xV(e,t)}}function K4t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H4t(e){if(Array.isArray(e))return xV(e)}function xV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G4t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ile(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c2e(n.key),n)}}function q4t(e,t,r){return t&&ile(e.prototype,t),r&&ile(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z4t(e,t,r){return t=RC(t),X4t(e,u2e()?Reflect.construct(t,r||[],RC(e).constructor):t.apply(e,r))}function X4t(e,t){if(t&&(Qx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lm(e)}function u2e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u2e=function(){return!!e})()}function RC(e){return RC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},RC(e)}function Lm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y4t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wV(e,t)}function wV(e,t){return wV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wV(e,t)}function ad(e,t,r){return t=c2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c2e(e){var t=J4t(e,"string");return Qx(t)=="symbol"?t:String(t)}function J4t(e,t){if(Qx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W9=function(e){Y4t(t,e);function t(){var r;G4t(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Z4t(this,t,[].concat(i)),ad(Lm(r),"state",{isAnimationFinished:!0,totalLength:0}),ad(Lm(r),"generateSimpleStrokeDasharray",function(c,p){return"".concat(p,"px ").concat(c-p,"px")}),ad(Lm(r),"getStrokeDasharray",function(c,p,o){var g=o.reduce(function(D,$){return D+$});if(!g)return r.generateSimpleStrokeDasharray(p,c);for(var y=Math.floor(c/g),x=c%g,E=p-c,A=[],M=0,R=0;M<o.length;R+=o[M],++M)if(R+o[M]>x){A=[].concat(W_(o.slice(0,M)),[x-R]);break}var k=A.length%2===0?[0,E]:[E];return[].concat(W_(t.repeat(o,y)),W_(A),k).map(function(D){return"".concat(D,"px")}).join(", ")}),ad(Lm(r),"id",R9("recharts-line-")),ad(Lm(r),"pathRef",function(c){r.mainCurve=c}),ad(Lm(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ad(Lm(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return q4t(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.points,p=s.xAxis,o=s.yAxis,g=s.layout,y=s.children,x=hc(y,F9);if(!x)return null;var E=function(R,k){return{x:R.x,y:R.y,value:R.value,errorVal:Su(R.payload,k)}},A={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Ke.createElement(lo,A,x.map(function(M){return Ke.cloneElement(M,{key:"bar-".concat(M.props.dataKey),data:c,xAxis:p,yAxis:o,layout:g,dataPointFormatter:E})}))}},{key:"renderDots",value:function(n,i,s){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var p=this.props,o=p.dot,g=p.points,y=p.dataKey,x=Ei(this.props,!1),E=Ei(o,!0),A=g.map(function(R,k){var D=nu(nu(nu({key:"dot-".concat(k),r:3},x),E),{},{value:R.value,dataKey:y,cx:R.x,cy:R.y,index:k,payload:R.payload});return t.renderDotItem(o,D)}),M={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return Ke.createElement(lo,u5({className:"recharts-line-dots",key:"dots"},M),A)}},{key:"renderCurveStatically",value:function(n,i,s,c){var p=this.props,o=p.type,g=p.layout,y=p.connectNulls;p.ref;var x=j4t(p,F4t),E=nu(nu(nu({},Ei(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},c),{},{type:o,layout:g,connectNulls:y});return Ke.createElement(rV,u5({},E,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,c=this.props,p=c.points,o=c.strokeDasharray,g=c.isAnimationActive,y=c.animationBegin,x=c.animationDuration,E=c.animationEasing,A=c.animationId,M=c.animateNewValues,R=c.width,k=c.height,D=this.state,$=D.prevPoints,B=D.totalLength;return Ke.createElement(yh,{begin:y,duration:x,isActive:g,easing:E,from:{t:0},to:{t:1},key:"line-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(V){var U=V.t;if($){var Z=$.length/p.length,ne=p.map(function(le,G){var N=Math.floor(G*Z);if($[N]){var Y=$[N],te=sd(Y.x,le.x),re=sd(Y.y,le.y);return nu(nu({},le),{},{x:te(U),y:re(U)})}if(M){var he=sd(R*2,le.x),we=sd(k/2,le.y);return nu(nu({},le),{},{x:he(U),y:we(U)})}return nu(nu({},le),{},{x:le.x,y:le.y})});return s.renderCurveStatically(ne,n,i)}var j=sd(0,B),fe=j(U),be;if(o){var pe="".concat(o).split(/[,\s]+/gim).map(function(le){return parseFloat(le)});be=s.getStrokeDasharray(fe,B,pe)}else be=s.generateSimpleStrokeDasharray(B,fe);return s.renderCurveStatically(p,n,i,{strokeDasharray:be})})}},{key:"renderCurve",value:function(n,i){var s=this.props,c=s.points,p=s.isAnimationActive,o=this.state,g=o.prevPoints,y=o.totalLength;return p&&c&&c.length&&(!g&&y>0||!DM(g,c))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(c,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,c=i.dot,p=i.points,o=i.className,g=i.xAxis,y=i.yAxis,x=i.top,E=i.left,A=i.width,M=i.height,R=i.isAnimationActive,k=i.id;if(s||!p||!p.length)return null;var D=this.state.isAnimationFinished,$=p.length===1,B=bi("recharts-line",o),V=g&&g.allowDataOverflow,U=y&&y.allowDataOverflow,Z=V||U,ne=_i(k)?this.id:k,j=(n=Ei(c,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},fe=j.r,be=fe===void 0?3:fe,pe=j.strokeWidth,le=pe===void 0?2:pe,G=tnt(c)?c:{},N=G.clipDot,Y=N===void 0?!0:N,te=be*2+le;return Ke.createElement(lo,{className:B},V||U?Ke.createElement("defs",null,Ke.createElement("clipPath",{id:"clipPath-".concat(ne)},Ke.createElement("rect",{x:V?E:E-A/2,y:U?x:x-M/2,width:V?A:A*2,height:U?M:M*2})),!Y&&Ke.createElement("clipPath",{id:"clipPath-dots-".concat(ne)},Ke.createElement("rect",{x:E-te/2,y:x-te/2,width:A+te,height:M+te}))):null,!$&&this.renderCurve(Z,ne),this.renderErrorBar(Z,ne),($||c)&&this.renderDots(Z,Y,ne),(!R||D)&&b1.renderCallByParent(this.props,p))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(W_(n),[0]):n,c=[],p=0;p<i;++p)c=[].concat(W_(c),W_(s));return c}},{key:"renderDotItem",value:function(n,i){var s;if(Ke.isValidElement(n))s=Ke.cloneElement(n,i);else if(hi(n))s=n(i);else{var c=bi("recharts-line-dot",typeof n!="boolean"?n.className:"");s=Ke.createElement(KH,u5({},i,{className:c}))}return s}}]),t}(se.PureComponent);ad(W9,"displayName","Line");ad(W9,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Jp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ad(W9,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,c=e.dataKey,p=e.bandSize,o=e.displayedData,g=e.offset,y=t.layout,x=o.map(function(E,A){var M=Su(E,c);return y==="horizontal"?{x:Noe({axis:r,ticks:i,bandSize:p,entry:E,index:A}),y:_i(M)?null:n.scale(M),value:M,payload:E}:{x:_i(M)?null:r.scale(M),y:Noe({axis:n,ticks:s,bandSize:p,entry:E,index:A}),value:M,payload:E}});return nu({points:x,layout:y},g)});function SV(){return SV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SV.apply(this,arguments)}var NM=function(t){var r=t.xAxisId,n=ZH(),i=XH(),s=r2e(r);return s==null?null:Ke.createElement(c3,SV({},s,{className:bi("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(p){return Fp(p,!0)}}))};NM.displayName="XAxis";NM.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function EV(){return EV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EV.apply(this,arguments)}var FM=function(t){var r=t.yAxisId,n=ZH(),i=XH(),s=n2e(r);return s==null?null:Ke.createElement(c3,EV({},s,{className:bi("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(p){return Fp(p,!0)}}))};FM.displayName="YAxis";FM.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function ale(e){return r3t(e)||t3t(e)||e3t(e)||Q4t()}function Q4t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e3t(e,t){if(e){if(typeof e=="string")return AV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AV(e,t)}}function t3t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r3t(e){if(Array.isArray(e))return AV(e)}function AV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var TV=function(t,r,n,i,s){var c=hc(t,YH),p=hc(t,V9),o=[].concat(ale(c),ale(p)),g=hc(t,U9),y="".concat(i,"Id"),x=i[0],E=r;if(o.length&&(E=o.reduce(function(R,k){if(k.props[y]===n&&yf(k.props,"extendDomain")&&Lr(k.props[x])){var D=k.props[x];return[Math.min(R[0],D),Math.max(R[1],D)]}return R},E)),g.length){var A="".concat(x,"1"),M="".concat(x,"2");E=g.reduce(function(R,k){if(k.props[y]===n&&yf(k.props,"extendDomain")&&Lr(k.props[A])&&Lr(k.props[M])){var D=k.props[A],$=k.props[M];return[Math.min(R[0],D,$),Math.max(R[1],D,$)]}return R},E)}return s&&s.length&&(E=s.reduce(function(R,k){return Lr(k)?[Math.min(R[0],k),Math.max(R[1],k)]:R},E)),E},$L=new $me,LL="recharts.syncMouseEvents";function k8(e){"@babel/helpers - typeof";return k8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k8(e)}function n3t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i3t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d2e(n.key),n)}}function a3t(e,t,r){return t&&i3t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BL(e,t,r){return t=d2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d2e(e){var t=o3t(e,"string");return k8(t)=="symbol"?t:String(t)}function o3t(e,t){if(k8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(k8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s3t=function(){function e(){n3t(this,e),BL(this,"activeIndex",0),BL(this,"coordinateList",[]),BL(this,"layout","horizontal")}return a3t(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,c=r.container,p=c===void 0?null:c,o=r.layout,g=o===void 0?null:o,y=r.offset,x=y===void 0?null:y,E=r.mouseHandlerCallback,A=E===void 0?null:E;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=p??this.container,this.layout=g??this.layout,this.offset=x??this.offset,this.mouseHandlerCallback=A??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,c=i.y,p=i.height,o=this.coordinateList[this.activeIndex].coordinate,g=((r=window)===null||r===void 0?void 0:r.scrollX)||0,y=((n=window)===null||n===void 0?void 0:n.scrollY)||0,x=s+o+g,E=c+this.offset.top+p/2+y;this.mouseHandlerCallback({pageX:x,pageY:E})}}}]),e}();function l3t(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Lr(n)&&Lr(i))return!0}return!1}function u3t(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function f2e(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,c=vs(t,r,n,i),p=vs(t,r,n,s);return{points:[c,p],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function c3t(e,t,r){var n,i,s,c;if(e==="horizontal")n=t.x,s=n,i=r.top,c=r.top+r.height;else if(e==="vertical")i=t.y,c=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var p=t.cx,o=t.cy,g=t.innerRadius,y=t.outerRadius,x=t.angle,E=vs(p,o,g,x),A=vs(p,o,y,x);n=E.x,i=E.y,s=A.x,c=A.y}else return f2e(t);return[{x:n,y:i},{x:s,y:c}]}function O8(e){"@babel/helpers - typeof";return O8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O8(e)}function ole(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ole(Object(r),!0).forEach(function(n){d3t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ole(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d3t(e,t,r){return t=f3t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f3t(e){var t=p3t(e,"string");return O8(t)=="symbol"?t:String(t)}function p3t(e,t){if(O8(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(O8(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h3t(e){var t=e.element,r=e.tooltipEventType,n=e.isActive,i=e.activeCoordinate,s=e.activePayload,c=e.offset,p=e.activeTooltipIndex,o=e.tooltipAxisBandSize,g=e.layout,y=e.chartName;if(!t||!t.props.cursor||!n||!i||y!=="ScatterChart"&&r!=="axis")return null;var x,E=rV;if(y==="ScatterChart")x=i,E=Jvt;else if(y==="BarChart")x=u3t(g,i,c,o),E=WH;else if(g==="radial"){var A=f2e(i),M=A.cx,R=A.cy,k=A.radius,D=A.startAngle,$=A.endAngle;x={cx:M,cy:R,startAngle:D,endAngle:$,innerRadius:k,outerRadius:k},E=Mwe}else x={points:c3t(g,i,c)},E=rV;var B=wA(wA(wA(wA({stroke:"#ccc",pointerEvents:"none"},c),x),Ei(t.props.cursor,!1)),{},{payload:s,payloadIndex:p,className:bi("recharts-tooltip-cursor",t.props.cursor.className)});return se.isValidElement(t.props.cursor)?se.cloneElement(t.props.cursor,B):se.createElement(E,B)}var m3t=["item"],g3t=["children","className","width","height","style","compact","title","desc"];function e4(e){"@babel/helpers - typeof";return e4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e4(e)}function c5(){return c5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c5.apply(this,arguments)}function sle(e,t){return _3t(e)||v3t(e,t)||h2e(e,t)||y3t()}function y3t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v3t(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,c,p=[],o=!0,g=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(o=(n=s.call(r)).done)&&(p.push(n.value),p.length!==t);o=!0);}catch(y){g=!0,i=y}finally{try{if(!o&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw i}}return p}}function _3t(e){if(Array.isArray(e))return e}function lle(e,t){if(e==null)return{};var r=b3t(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b3t(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function x3t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w3t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m2e(n.key),n)}}function S3t(e,t,r){return t&&w3t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E3t(e,t,r){return t=$C(t),A3t(e,p2e()?Reflect.construct(t,r||[],$C(e).constructor):t.apply(e,r))}function A3t(e,t){if(t&&(e4(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ci(e)}function p2e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p2e=function(){return!!e})()}function $C(e){return $C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$C(e)}function Ci(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T3t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PV(e,t)}function PV(e,t){return PV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PV(e,t)}function t4(e){return I3t(e)||C3t(e)||h2e(e)||P3t()}function P3t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h2e(e,t){if(e){if(typeof e=="string")return CV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CV(e,t)}}function C3t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I3t(e){if(Array.isArray(e))return CV(e)}function CV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ule(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ule(Object(r),!0).forEach(function(n){Bn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ule(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bn(e,t,r){return t=m2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m2e(e){var t=M3t(e,"string");return e4(t)=="symbol"?t:String(t)}function M3t(e,t){if(e4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(e4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k3t={xAxis:["bottom","top"],yAxis:["left","right"]},O3t={width:"100%",height:"100%"},g2e={x:0,y:0};function SA(e){return e}var D3t=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},R3t=function(t,r,n,i){var s=r.find(function(y){return y&&y.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var c=s.coordinate,p=i.radius;return fr(fr(fr({},i),vs(i.cx,i.cy,p,c)),{},{angle:c,radius:p})}var o=s.coordinate,g=i.angle;return fr(fr(fr({},i),vs(i.cx,i.cy,o,g)),{},{angle:g,radius:o})}return g2e},jM=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,c=(n??[]).reduce(function(p,o){var g=o.props.data;return g&&g.length?[].concat(t4(p),t4(g)):p},[]);return c.length>0?c:t&&t.length&&Lr(i)&&Lr(s)?t.slice(i,s+1):[]};function y2e(e){return e==="number"?[0,"auto"]:void 0}var IV=function(t,r,n,i){var s=t.graphicalItems,c=t.tooltipAxis,p=jM(r,t);return n<0||!s||!s.length||n>=p.length?null:s.reduce(function(o,g){var y,x=(y=g.props.data)!==null&&y!==void 0?y:r;x&&t.dataStartIndex+t.dataEndIndex!==0&&(x=x.slice(t.dataStartIndex,t.dataEndIndex+1));var E;if(c.dataKey&&!c.allowDuplicatedCategory){var A=x===void 0?p:x;E=UP(A,c.dataKey,i)}else E=x&&x[n]||p[n];return E?[].concat(t4(o),[Pwe(g,E)]):o},[])},cle=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},c=D3t(s,n),p=t.orderedTooltipTicks,o=t.tooltipAxis,g=t.tooltipTicks,y=Z0t(c,p,g,o);if(y>=0&&g){var x=g[y]&&g[y].value,E=IV(t,r,y,x),A=R3t(n,p,y,s);return{activeTooltipIndex:y,activeLabel:x,activePayload:E,activeCoordinate:A}}return null},$3t=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,c=r.axisIdKey,p=r.stackGroups,o=r.dataStartIndex,g=r.dataEndIndex,y=t.layout,x=t.children,E=t.stackOffset,A=Ewe(y,s);return n.reduce(function(M,R){var k,D=R.props,$=D.type,B=D.dataKey,V=D.allowDataOverflow,U=D.allowDuplicatedCategory,Z=D.scale,ne=D.ticks,j=D.includeHidden,fe=R.props[c];if(M[fe])return M;var be=jM(t.data,{graphicalItems:i.filter(function(J){return J.props[c]===fe}),dataStartIndex:o,dataEndIndex:g}),pe=be.length,le,G,N;l3t(R.props.domain,V,$)&&(le=Yj(R.props.domain,null,V),A&&($==="number"||Z!=="auto")&&(N=s5(be,B,"category")));var Y=y2e($);if(!le||le.length===0){var te,re=(te=R.props.domain)!==null&&te!==void 0?te:Y;if(B){if(le=s5(be,B,$),$==="category"&&A){var he=Hrt(le);U&&he?(G=le,le=PC(0,pe)):U||(le=Uoe(re,le,R).reduce(function(J,de){return J.indexOf(de)>=0?J:[].concat(t4(J),[de])},[]))}else if($==="category")U?le=le.filter(function(J){return J!==""&&!_i(J)}):le=Uoe(re,le,R).reduce(function(J,de){return J.indexOf(de)>=0||de===""||_i(de)?J:[].concat(t4(J),[de])},[]);else if($==="number"){var we=egt(be,i.filter(function(J){return J.props[c]===fe&&(j||!J.props.hide)}),B,s,y);we&&(le=we)}A&&($==="number"||Z!=="auto")&&(N=s5(be,B,"category"))}else A?le=PC(0,pe):p&&p[fe]&&p[fe].hasStack&&$==="number"?le=E==="expand"?[0,1]:Twe(p[fe].stackGroups,o,g):le=Swe(be,i.filter(function(J){return J.props[c]===fe&&(j||!J.props.hide)}),$,y,!0);if($==="number")le=TV(x,le,fe,s,ne),re&&(le=Yj(re,le,V));else if($==="category"&&re){var ye=re,ue=le.every(function(J){return ye.indexOf(J)>=0});ue&&(le=ye)}}return fr(fr({},M),{},Bn({},fe,fr(fr({},R.props),{},{axisType:s,domain:le,categoricalDomain:N,duplicateDomain:G,originalDomain:(k=R.props.domain)!==null&&k!==void 0?k:Y,isCategorical:A,layout:y})))},{})},L3t=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,c=r.axisIdKey,p=r.stackGroups,o=r.dataStartIndex,g=r.dataEndIndex,y=t.layout,x=t.children,E=jM(t.data,{graphicalItems:n,dataStartIndex:o,dataEndIndex:g}),A=E.length,M=Ewe(y,s),R=-1;return n.reduce(function(k,D){var $=D.props[c],B=y2e("number");if(!k[$]){R++;var V;return M?V=PC(0,A):p&&p[$]&&p[$].hasStack?(V=Twe(p[$].stackGroups,o,g),V=TV(x,V,$,s)):(V=Yj(B,Swe(E,n.filter(function(U){return U.props[c]===$&&!U.props.hide}),"number",y),i.defaultProps.allowDataOverflow),V=TV(x,V,$,s)),fr(fr({},k),{},Bn({},$,fr(fr({axisType:s},i.defaultProps),{},{hide:!0,orientation:pc(k3t,"".concat(s,".").concat(R%2),null),domain:V,originalDomain:B,isCategorical:M,layout:y})))}return k},{})},B3t=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,c=r.graphicalItems,p=r.stackGroups,o=r.dataStartIndex,g=r.dataEndIndex,y=t.children,x="".concat(i,"Id"),E=hc(y,s),A={};return E&&E.length?A=$3t(t,{axes:E,graphicalItems:c,axisType:i,axisIdKey:x,stackGroups:p,dataStartIndex:o,dataEndIndex:g}):c&&c.length&&(A=L3t(t,{Axis:s,graphicalItems:c,axisType:i,axisIdKey:x,stackGroups:p,dataStartIndex:o,dataEndIndex:g})),A},z3t=function(t){var r=Zm(t),n=Fp(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:yH(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:vC(r,n)}},dle=function(t){var r=t.children,n=t.defaultShowTooltip,i=su(r,Xx),s=0,c=0;return t.data&&t.data.length!==0&&(c=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(c=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!n}},N3t=function(t){return!t||!t.length?!1:t.some(function(r){var n=Xp(r&&r.type);return n&&n.indexOf("Bar")>=0})},fle=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},F3t=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,c=s===void 0?{}:s,p=t.yAxisMap,o=p===void 0?{}:p,g=n.width,y=n.height,x=n.children,E=n.margin||{},A=su(x,Xx),M=su(x,X5),R=Object.keys(o).reduce(function(U,Z){var ne=o[Z],j=ne.orientation;return!ne.mirror&&!ne.hide?fr(fr({},U),{},Bn({},j,U[j]+ne.width)):U},{left:E.left||0,right:E.right||0}),k=Object.keys(c).reduce(function(U,Z){var ne=c[Z],j=ne.orientation;return!ne.mirror&&!ne.hide?fr(fr({},U),{},Bn({},j,pc(U,"".concat(j))+ne.height)):U},{top:E.top||0,bottom:E.bottom||0}),D=fr(fr({},k),R),$=D.bottom;A&&(D.bottom+=A.props.height||Xx.defaultProps.height),M&&r&&(D=J0t(D,i,n,r));var B=g-D.left-D.right,V=y-D.top-D.bottom;return fr(fr({brushBottom:$},D),{},{width:Math.max(B,0),height:Math.max(V,0)})},j3t=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},V3t=function(t){var r,n=t.chartName,i=t.GraphicalChild,s=t.defaultTooltipEventType,c=s===void 0?"axis":s,p=t.validateTooltipEventTypes,o=p===void 0?["axis"]:p,g=t.axisComponents,y=t.legendContent,x=t.formatAxisMap,E=t.defaultProps,A=function(k,D){var $=D.graphicalItems,B=D.stackGroups,V=D.offset,U=D.updateId,Z=D.dataStartIndex,ne=D.dataEndIndex,j=k.barSize,fe=k.layout,be=k.barGap,pe=k.barCategoryGap,le=k.maxBarSize,G=fle(fe),N=G.numericAxisName,Y=G.cateAxisName,te=N3t($),re=[];return $.forEach(function(he,we){var ye=jM(k.data,{graphicalItems:[he],dataStartIndex:Z,dataEndIndex:ne}),ue=he.props,J=ue.dataKey,de=ue.maxBarSize,ke=he.props["".concat(N,"Id")],Oe=he.props["".concat(Y,"Id")],Se={},We=g.reduce(function(tr,Xt){var xn=D["".concat(Xt.axisType,"Map")],Nr=he.props["".concat(Xt.axisType,"Id")];xn&&xn[Nr]||Xt.axisType==="zAxis"||Ly();var gt=xn[Nr];return fr(fr({},tr),{},Bn(Bn({},Xt.axisType,gt),"".concat(Xt.axisType,"Ticks"),Fp(gt)))},Se),Je=We[Y],$e=We["".concat(Y,"Ticks")],ft=B&&B[ke]&&B[ke].hasStack&&fgt(he,B[ke].stackGroups),Me=Xp(he.type).indexOf("Bar")>=0,Te=vC(Je,$e),Le=[],Ne=te&&X0t({barSize:j,stackGroups:B,totalSize:j3t(We,Y)});if(Me){var At,Ct,Lt=_i(de)?le:de,sr=(At=(Ct=vC(Je,$e,!0))!==null&&Ct!==void 0?Ct:Lt)!==null&&At!==void 0?At:0;Le=Y0t({barGap:be,barCategoryGap:pe,bandSize:sr!==Te?sr:Te,sizeList:Ne[Oe],maxBarSize:Lt}),sr!==Te&&(Le=Le.map(function(tr){return fr(fr({},tr),{},{position:fr(fr({},tr.position),{},{offset:tr.position.offset-sr/2})})}))}var Bt=he&&he.type&&he.type.getComposedData;Bt&&re.push({props:fr(fr({},Bt(fr(fr({},We),{},{displayedData:ye,props:k,dataKey:J,item:he,bandSize:Te,barPosition:Le,offset:V,stackedData:ft,layout:fe,dataStartIndex:Z,dataEndIndex:ne}))),{},Bn(Bn(Bn({key:he.key||"item-".concat(we)},N,We[N]),Y,We[Y]),"animationId",U)),childIndex:int(he,k.children),item:he})}),re},M=function(k,D){var $=k.props,B=k.dataStartIndex,V=k.dataEndIndex,U=k.updateId;if(!Lie({props:$}))return null;var Z=$.children,ne=$.layout,j=$.stackOffset,fe=$.data,be=$.reverseStackOrder,pe=fle(ne),le=pe.numericAxisName,G=pe.cateAxisName,N=hc(Z,i),Y=ugt(fe,N,"".concat(le,"Id"),"".concat(G,"Id"),j,be),te=g.reduce(function(ue,J){var de="".concat(J.axisType,"Map");return fr(fr({},ue),{},Bn({},de,B3t($,fr(fr({},J),{},{graphicalItems:N,stackGroups:J.axisType===le&&Y,dataStartIndex:B,dataEndIndex:V}))))},{}),re=F3t(fr(fr({},te),{},{props:$,graphicalItems:N}),D==null?void 0:D.legendBBox);Object.keys(te).forEach(function(ue){te[ue]=x($,te[ue],re,ue.replace("Map",""),n)});var he=te["".concat(G,"Map")],we=z3t(he),ye=A($,fr(fr({},te),{},{dataStartIndex:B,dataEndIndex:V,updateId:U,graphicalItems:N,stackGroups:Y,offset:re}));return fr(fr({formattedGraphicalItems:ye,graphicalItems:N,offset:re,stackGroups:Y},we),te)};return r=function(R){T3t(k,R);function k(D){var $,B,V;return x3t(this,k),V=E3t(this,k,[D]),Bn(Ci(V),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Bn(Ci(V),"accessibilityManager",new s3t),Bn(Ci(V),"handleLegendBBoxUpdate",function(U){if(U){var Z=V.state,ne=Z.dataStartIndex,j=Z.dataEndIndex,fe=Z.updateId;V.setState(fr({legendBBox:U},M({props:V.props,dataStartIndex:ne,dataEndIndex:j,updateId:fe},fr(fr({},V.state),{},{legendBBox:U}))))}}),Bn(Ci(V),"handleReceiveSyncEvent",function(U,Z,ne){if(V.props.syncId===U){if(ne===V.eventEmitterSymbol&&typeof V.props.syncMethod!="function")return;V.applySyncEvent(Z)}}),Bn(Ci(V),"handleBrushChange",function(U){var Z=U.startIndex,ne=U.endIndex;if(Z!==V.state.dataStartIndex||ne!==V.state.dataEndIndex){var j=V.state.updateId;V.setState(function(){return fr({dataStartIndex:Z,dataEndIndex:ne},M({props:V.props,dataStartIndex:Z,dataEndIndex:ne,updateId:j},V.state))}),V.triggerSyncEvent({dataStartIndex:Z,dataEndIndex:ne})}}),Bn(Ci(V),"handleMouseEnter",function(U){var Z=V.getMouseInfo(U);if(Z){var ne=fr(fr({},Z),{},{isTooltipActive:!0});V.setState(ne),V.triggerSyncEvent(ne);var j=V.props.onMouseEnter;hi(j)&&j(ne,U)}}),Bn(Ci(V),"triggeredAfterMouseMove",function(U){var Z=V.getMouseInfo(U),ne=Z?fr(fr({},Z),{},{isTooltipActive:!0}):{isTooltipActive:!1};V.setState(ne),V.triggerSyncEvent(ne);var j=V.props.onMouseMove;hi(j)&&j(ne,U)}),Bn(Ci(V),"handleItemMouseEnter",function(U){V.setState(function(){return{isTooltipActive:!0,activeItem:U,activePayload:U.tooltipPayload,activeCoordinate:U.tooltipPosition||{x:U.cx,y:U.cy}}})}),Bn(Ci(V),"handleItemMouseLeave",function(){V.setState(function(){return{isTooltipActive:!1}})}),Bn(Ci(V),"handleMouseMove",function(U){U.persist(),V.throttleTriggeredAfterMouseMove(U)}),Bn(Ci(V),"handleMouseLeave",function(U){V.throttleTriggeredAfterMouseMove.cancel();var Z={isTooltipActive:!1};V.setState(Z),V.triggerSyncEvent(Z);var ne=V.props.onMouseLeave;hi(ne)&&ne(Z,U)}),Bn(Ci(V),"handleOuterEvent",function(U){var Z=nnt(U),ne=pc(V.props,"".concat(Z));if(Z&&hi(ne)){var j,fe;/.*touch.*/i.test(Z)?fe=V.getMouseInfo(U.changedTouches[0]):fe=V.getMouseInfo(U),ne((j=fe)!==null&&j!==void 0?j:{},U)}}),Bn(Ci(V),"handleClick",function(U){var Z=V.getMouseInfo(U);if(Z){var ne=fr(fr({},Z),{},{isTooltipActive:!0});V.setState(ne),V.triggerSyncEvent(ne);var j=V.props.onClick;hi(j)&&j(ne,U)}}),Bn(Ci(V),"handleMouseDown",function(U){var Z=V.props.onMouseDown;if(hi(Z)){var ne=V.getMouseInfo(U);Z(ne,U)}}),Bn(Ci(V),"handleMouseUp",function(U){var Z=V.props.onMouseUp;if(hi(Z)){var ne=V.getMouseInfo(U);Z(ne,U)}}),Bn(Ci(V),"handleTouchMove",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&V.throttleTriggeredAfterMouseMove(U.changedTouches[0])}),Bn(Ci(V),"handleTouchStart",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&V.handleMouseDown(U.changedTouches[0])}),Bn(Ci(V),"handleTouchEnd",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&V.handleMouseUp(U.changedTouches[0])}),Bn(Ci(V),"triggerSyncEvent",function(U){V.props.syncId!==void 0&&$L.emit(LL,V.props.syncId,U,V.eventEmitterSymbol)}),Bn(Ci(V),"applySyncEvent",function(U){var Z=V.props,ne=Z.layout,j=Z.syncMethod,fe=V.state.updateId,be=U.dataStartIndex,pe=U.dataEndIndex;if(U.dataStartIndex!==void 0||U.dataEndIndex!==void 0)V.setState(fr({dataStartIndex:be,dataEndIndex:pe},M({props:V.props,dataStartIndex:be,dataEndIndex:pe,updateId:fe},V.state)));else if(U.activeTooltipIndex!==void 0){var le=U.chartX,G=U.chartY,N=U.activeTooltipIndex,Y=V.state,te=Y.offset,re=Y.tooltipTicks;if(!te)return;if(typeof j=="function")N=j(re,U);else if(j==="value"){N=-1;for(var he=0;he<re.length;he++)if(re[he].value===U.activeLabel){N=he;break}}var we=fr(fr({},te),{},{x:te.left,y:te.top}),ye=Math.min(le,we.x+we.width),ue=Math.min(G,we.y+we.height),J=re[N]&&re[N].value,de=IV(V.state,V.props.data,N),ke=re[N]?{x:ne==="horizontal"?re[N].coordinate:ye,y:ne==="horizontal"?ue:re[N].coordinate}:g2e;V.setState(fr(fr({},U),{},{activeLabel:J,activeCoordinate:ke,activePayload:de,activeTooltipIndex:N}))}else V.setState(U)}),Bn(Ci(V),"renderCursor",function(U){var Z,ne=V.state,j=ne.isTooltipActive,fe=ne.activeCoordinate,be=ne.activePayload,pe=ne.offset,le=ne.activeTooltipIndex,G=ne.tooltipAxisBandSize,N=V.getTooltipEventType(),Y=(Z=U.props.active)!==null&&Z!==void 0?Z:j,te=V.props.layout,re=U.key||"_recharts-cursor";return Ke.createElement(h3t,{key:re,activeCoordinate:fe,activePayload:be,activeTooltipIndex:le,chartName:n,element:U,isActive:Y,layout:te,offset:pe,tooltipAxisBandSize:G,tooltipEventType:N})}),Bn(Ci(V),"renderPolarAxis",function(U,Z,ne){var j=pc(U,"type.axisType"),fe=pc(V.state,"".concat(j,"Map")),be=fe&&fe[U.props["".concat(j,"Id")]];return se.cloneElement(U,fr(fr({},be),{},{className:bi(j,be.className),key:U.key||"".concat(Z,"-").concat(ne),ticks:Fp(be,!0)}))}),Bn(Ci(V),"renderPolarGrid",function(U){var Z=U.props,ne=Z.radialLines,j=Z.polarAngles,fe=Z.polarRadius,be=V.state,pe=be.radiusAxisMap,le=be.angleAxisMap,G=Zm(pe),N=Zm(le),Y=N.cx,te=N.cy,re=N.innerRadius,he=N.outerRadius;return se.cloneElement(U,{polarAngles:Array.isArray(j)?j:Fp(N,!0).map(function(we){return we.coordinate}),polarRadius:Array.isArray(fe)?fe:Fp(G,!0).map(function(we){return we.coordinate}),cx:Y,cy:te,innerRadius:re,outerRadius:he,key:U.key||"polar-grid",radialLines:ne})}),Bn(Ci(V),"renderLegend",function(){var U=V.state.formattedGraphicalItems,Z=V.props,ne=Z.children,j=Z.width,fe=Z.height,be=V.props.margin||{},pe=j-(be.left||0)-(be.right||0),le=xwe({children:ne,formattedGraphicalItems:U,legendWidth:pe,legendContent:y});if(!le)return null;var G=le.item,N=lle(le,m3t);return se.cloneElement(G,fr(fr({},N),{},{chartWidth:j,chartHeight:fe,margin:be,onBBoxUpdate:V.handleLegendBBoxUpdate}))}),Bn(Ci(V),"renderTooltip",function(){var U,Z=V.props,ne=Z.children,j=Z.accessibilityLayer,fe=su(ne,_p);if(!fe)return null;var be=V.state,pe=be.isTooltipActive,le=be.activeCoordinate,G=be.activePayload,N=be.activeLabel,Y=be.offset,te=(U=fe.props.active)!==null&&U!==void 0?U:pe;return se.cloneElement(fe,{viewBox:fr(fr({},Y),{},{x:Y.left,y:Y.top}),active:te,label:N,payload:te?G:[],coordinate:le,accessibilityLayer:j})}),Bn(Ci(V),"renderBrush",function(U){var Z=V.props,ne=Z.margin,j=Z.data,fe=V.state,be=fe.offset,pe=fe.dataStartIndex,le=fe.dataEndIndex,G=fe.updateId;return se.cloneElement(U,{key:U.key||"_recharts-brush",onChange:vA(V.handleBrushChange,U.props.onChange),data:j,x:Lr(U.props.x)?U.props.x:be.left,y:Lr(U.props.y)?U.props.y:be.top+be.height+be.brushBottom-(ne.bottom||0),width:Lr(U.props.width)?U.props.width:be.width,startIndex:pe,endIndex:le,updateId:"brush-".concat(G)})}),Bn(Ci(V),"renderReferenceElement",function(U,Z,ne){if(!U)return null;var j=Ci(V),fe=j.clipPathId,be=V.state,pe=be.xAxisMap,le=be.yAxisMap,G=be.offset,N=U.props,Y=N.xAxisId,te=N.yAxisId;return se.cloneElement(U,{key:U.key||"".concat(Z,"-").concat(ne),xAxis:pe[Y],yAxis:le[te],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:fe})}),Bn(Ci(V),"renderActivePoints",function(U){var Z=U.item,ne=U.activePoint,j=U.basePoint,fe=U.childIndex,be=U.isRange,pe=[],le=Z.props.key,G=Z.item.props,N=G.activeDot,Y=G.dataKey,te=fr(fr({index:fe,dataKey:Y,cx:ne.x,cy:ne.y,r:4,fill:UH(Z.item),strokeWidth:2,stroke:"#fff",payload:ne.payload,value:ne.value,key:"".concat(le,"-activePoint-").concat(fe)},Ei(N,!1)),WP(N));return pe.push(k.renderActiveDot(N,te)),j?pe.push(k.renderActiveDot(N,fr(fr({},te),{},{cx:j.x,cy:j.y,key:"".concat(le,"-basePoint-").concat(fe)}))):be&&pe.push(null),pe}),Bn(Ci(V),"renderGraphicChild",function(U,Z,ne){var j=V.filterFormatItem(U,Z,ne);if(!j)return null;var fe=V.getTooltipEventType(),be=V.state,pe=be.isTooltipActive,le=be.tooltipAxis,G=be.activeTooltipIndex,N=be.activeLabel,Y=V.props.children,te=su(Y,_p),re=j.props,he=re.points,we=re.isRange,ye=re.baseLine,ue=j.item.props,J=ue.activeDot,de=ue.hide,ke=ue.activeBar,Oe=ue.activeShape,Se=!!(!de&&pe&&te&&(J||ke||Oe)),We={};fe!=="axis"&&te&&te.props.trigger==="click"?We={onClick:vA(V.handleItemMouseEnter,U.props.onClick)}:fe!=="axis"&&(We={onMouseLeave:vA(V.handleItemMouseLeave,U.props.onMouseLeave),onMouseEnter:vA(V.handleItemMouseEnter,U.props.onMouseEnter)});var Je=se.cloneElement(U,fr(fr({},j.props),We));function $e(Xt){return typeof le.dataKey=="function"?le.dataKey(Xt.payload):null}if(Se)if(G>=0){var ft,Me;if(le.dataKey&&!le.allowDuplicatedCategory){var Te=typeof le.dataKey=="function"?$e:"payload.".concat(le.dataKey.toString());ft=UP(he,Te,N),Me=we&&ye&&UP(ye,Te,N)}else ft=he==null?void 0:he[G],Me=we&&ye&&ye[G];if(Oe||ke){var Le=U.props.activeIndex!==void 0?U.props.activeIndex:G;return[se.cloneElement(U,fr(fr(fr({},j.props),We),{},{activeIndex:Le})),null,null]}if(!_i(ft))return[Je].concat(t4(V.renderActivePoints({item:j,activePoint:ft,basePoint:Me,childIndex:G,isRange:we})))}else{var Ne,At=(Ne=V.getItemByXY(V.state.activeCoordinate))!==null&&Ne!==void 0?Ne:{graphicalItem:Je},Ct=At.graphicalItem,Lt=Ct.item,sr=Lt===void 0?U:Lt,Bt=Ct.childIndex,tr=fr(fr(fr({},j.props),We),{},{activeIndex:Bt});return[se.cloneElement(sr,tr),null,null]}return we?[Je,null,null]:[Je,null]}),Bn(Ci(V),"renderCustomized",function(U,Z,ne){return se.cloneElement(U,fr(fr({key:"recharts-customized-".concat(ne)},V.props),V.state))}),Bn(Ci(V),"renderMap",{CartesianGrid:{handler:SA,once:!0},ReferenceArea:{handler:V.renderReferenceElement},ReferenceLine:{handler:SA},ReferenceDot:{handler:V.renderReferenceElement},XAxis:{handler:SA},YAxis:{handler:SA},Brush:{handler:V.renderBrush,once:!0},Bar:{handler:V.renderGraphicChild},Line:{handler:V.renderGraphicChild},Area:{handler:V.renderGraphicChild},Radar:{handler:V.renderGraphicChild},RadialBar:{handler:V.renderGraphicChild},Scatter:{handler:V.renderGraphicChild},Pie:{handler:V.renderGraphicChild},Funnel:{handler:V.renderGraphicChild},Tooltip:{handler:V.renderCursor,once:!0},PolarGrid:{handler:V.renderPolarGrid,once:!0},PolarAngleAxis:{handler:V.renderPolarAxis},PolarRadiusAxis:{handler:V.renderPolarAxis},Customized:{handler:V.renderCustomized}}),V.clipPathId="".concat(($=D.id)!==null&&$!==void 0?$:R9("recharts"),"-clip"),V.throttleTriggeredAfterMouseMove=S3e(V.triggeredAfterMouseMove,(B=D.throttleDelay)!==null&&B!==void 0?B:1e3/60),V.state={},V}return S3t(k,[{key:"componentDidMount",value:function(){var $,B;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:($=this.props.margin.left)!==null&&$!==void 0?$:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var $=this.props,B=$.children,V=$.data,U=$.height,Z=$.layout,ne=su(B,_p);if(ne){var j=ne.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length)){var fe=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,be=IV(this.state,V,j,fe),pe=this.state.tooltipTicks[j].coordinate,le=(this.state.offset.top+U)/2,G=Z==="horizontal",N=G?{x:pe,y:le}:{y:pe,x:le},Y=this.state.formattedGraphicalItems.find(function(re){var he=re.item;return he.type.name==="Scatter"});Y&&(N=fr(fr({},N),Y.props.points[j].tooltipPosition),be=Y.props.points[j].tooltipPayload);var te={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:fe,activePayload:be,activeCoordinate:N};this.setState(te),this.renderCursor(ne),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function($,B){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==B.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==$.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==$.margin){var V,U;this.accessibilityManager.setDetails({offset:{left:(V=this.props.margin.left)!==null&&V!==void 0?V:0,top:(U=this.props.margin.top)!==null&&U!==void 0?U:0}})}return null}},{key:"componentDidUpdate",value:function($){fj([su($.children,_p)],[su(this.props.children,_p)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var $=su(this.props.children,_p);if($&&typeof $.props.shared=="boolean"){var B=$.props.shared?"axis":"item";return o.indexOf(B)>=0?B:c}return c}},{key:"getMouseInfo",value:function($){if(!this.container)return null;var B=this.container,V=B.getBoundingClientRect(),U=Ipt(V),Z={chartX:Math.round($.pageX-U.left),chartY:Math.round($.pageY-U.top)},ne=V.width/B.offsetWidth||1,j=this.inRange(Z.chartX,Z.chartY,ne);if(!j)return null;var fe=this.state,be=fe.xAxisMap,pe=fe.yAxisMap,le=this.getTooltipEventType();if(le!=="axis"&&be&&pe){var G=Zm(be).scale,N=Zm(pe).scale,Y=G&&G.invert?G.invert(Z.chartX):null,te=N&&N.invert?N.invert(Z.chartY):null;return fr(fr({},Z),{},{xValue:Y,yValue:te})}var re=cle(this.state,this.props.data,this.props.layout,j);return re?fr(fr({},Z),re):null}},{key:"inRange",value:function($,B){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,U=this.props.layout,Z=$/V,ne=B/V;if(U==="horizontal"||U==="vertical"){var j=this.state.offset,fe=Z>=j.left&&Z<=j.left+j.width&&ne>=j.top&&ne<=j.top+j.height;return fe?{x:Z,y:ne}:null}var be=this.state,pe=be.angleAxisMap,le=be.radiusAxisMap;if(pe&&le){var G=Zm(pe);return Hoe({x:Z,y:ne},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var $=this.props.children,B=this.getTooltipEventType(),V=su($,_p),U={};V&&B==="axis"&&(V.props.trigger==="click"?U={onClick:this.handleClick}:U={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var Z=WP(this.props,this.handleOuterEvent);return fr(fr({},Z),U)}},{key:"addListener",value:function(){$L.on(LL,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$L.removeListener(LL,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function($,B,V){for(var U=this.state.formattedGraphicalItems,Z=0,ne=U.length;Z<ne;Z++){var j=U[Z];if(j.item===$||j.props.key===$.key||B===Xp(j.item.type)&&V===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var $=this.clipPathId,B=this.state.offset,V=B.left,U=B.top,Z=B.height,ne=B.width;return Ke.createElement("defs",null,Ke.createElement("clipPath",{id:$},Ke.createElement("rect",{x:V,y:U,height:Z,width:ne})))}},{key:"getXScales",value:function(){var $=this.state.xAxisMap;return $?Object.entries($).reduce(function(B,V){var U=sle(V,2),Z=U[0],ne=U[1];return fr(fr({},B),{},Bn({},Z,ne.scale))},{}):null}},{key:"getYScales",value:function(){var $=this.state.yAxisMap;return $?Object.entries($).reduce(function(B,V){var U=sle(V,2),Z=U[0],ne=U[1];return fr(fr({},B),{},Bn({},Z,ne.scale))},{}):null}},{key:"getXScaleByAxisId",value:function($){var B;return(B=this.state.xAxisMap)===null||B===void 0||(B=B[$])===null||B===void 0?void 0:B.scale}},{key:"getYScaleByAxisId",value:function($){var B;return(B=this.state.yAxisMap)===null||B===void 0||(B=B[$])===null||B===void 0?void 0:B.scale}},{key:"getItemByXY",value:function($){var B=this.state,V=B.formattedGraphicalItems,U=B.activeItem;if(V&&V.length)for(var Z=0,ne=V.length;Z<ne;Z++){var j=V[Z],fe=j.props,be=j.item,pe=Xp(be.type);if(pe==="Bar"){var le=(fe.data||[]).find(function(te){return Vvt($,te)});if(le)return{graphicalItem:j,payload:le}}else if(pe==="RadialBar"){var G=(fe.data||[]).find(function(te){return Hoe($,te)});if(G)return{graphicalItem:j,payload:G}}else if(LM(j,U)||BM(j,U)||S8(j,U)){var N=K_t({graphicalItem:j,activeTooltipItem:U,itemData:be.props.data}),Y=be.props.activeIndex===void 0?N:be.props.activeIndex;return{graphicalItem:fr(fr({},j),{},{childIndex:Y}),payload:S8(j,U)?be.props.data[N]:j.props.data[N]}}}return null}},{key:"render",value:function(){var $=this;if(!Lie(this))return null;var B=this.props,V=B.children,U=B.className,Z=B.width,ne=B.height,j=B.style,fe=B.compact,be=B.title,pe=B.desc,le=lle(B,g3t),G=Ei(le,!1);if(fe)return Ke.createElement(Wse,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ke.createElement(hj,c5({},G,{width:Z,height:ne,title:be,desc:pe}),this.renderClipPath(),zie(V,this.renderMap)));if(this.props.accessibilityLayer){var N,Y;G.tabIndex=(N=this.props.tabIndex)!==null&&N!==void 0?N:0,G.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",G.onKeyDown=function(re){$.accessibilityManager.keyboardEvent(re)},G.onFocus=function(){$.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return Ke.createElement(Wse,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ke.createElement("div",c5({className:bi("recharts-wrapper",U),style:fr({position:"relative",cursor:"default",width:Z,height:ne},j)},te,{ref:function(he){$.container=he}}),Ke.createElement(hj,c5({},G,{width:Z,height:ne,title:be,desc:pe,style:O3t}),this.renderClipPath(),zie(V,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),k}(se.Component),Bn(r,"displayName",n),Bn(r,"defaultProps",fr({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},E)),Bn(r,"getDerivedStateFromProps",function(R,k){var D=R.dataKey,$=R.data,B=R.children,V=R.width,U=R.height,Z=R.layout,ne=R.stackOffset,j=R.margin,fe=k.dataStartIndex,be=k.dataEndIndex;if(k.updateId===void 0){var pe=dle(R);return fr(fr(fr({},pe),{},{updateId:0},M(fr(fr({props:R},pe),{},{updateId:0}),k)),{},{prevDataKey:D,prevData:$,prevWidth:V,prevHeight:U,prevLayout:Z,prevStackOffset:ne,prevMargin:j,prevChildren:B})}if(D!==k.prevDataKey||$!==k.prevData||V!==k.prevWidth||U!==k.prevHeight||Z!==k.prevLayout||ne!==k.prevStackOffset||!lx(j,k.prevMargin)){var le=dle(R),G={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},N=fr(fr({},cle(k,$,Z)),{},{updateId:k.updateId+1}),Y=fr(fr(fr({},le),G),N);return fr(fr(fr({},Y),M(fr({props:R},Y),k)),{},{prevDataKey:D,prevData:$,prevWidth:V,prevHeight:U,prevLayout:Z,prevStackOffset:ne,prevMargin:j,prevChildren:B})}if(!fj(B,k.prevChildren)){var te,re,he,we,ye=su(B,Xx),ue=ye&&(te=(re=ye.props)===null||re===void 0?void 0:re.startIndex)!==null&&te!==void 0?te:fe,J=ye&&(he=(we=ye.props)===null||we===void 0?void 0:we.endIndex)!==null&&he!==void 0?he:be,de=ue!==fe||J!==be,ke=!_i($),Oe=ke&&!de?k.updateId:k.updateId+1;return fr(fr({updateId:Oe},M(fr(fr({props:R},k),{},{updateId:Oe,dataStartIndex:ue,dataEndIndex:J}),k)),{},{prevChildren:B,dataStartIndex:ue,dataEndIndex:J})}return null}),Bn(r,"renderActiveDot",function(R,k){var D;return se.isValidElement(R)?D=se.cloneElement(R,k):hi(R)?D=R(k):D=Ke.createElement(KH,k),Ke.createElement(lo,{className:"recharts-active-dot",key:k.key},D)}),r},U3t=V3t({chartName:"LineChart",GraphicalChild:W9,axisComponents:[{axisType:"xAxis",AxisComp:NM},{axisType:"yAxis",AxisComp:FM}],formatAxisMap:hxt});const W3t=({isWordMode:e,word:t,index:r,offset:n,delay:i,duration:s,className:c})=>e?t:H.jsx(H.Fragment,{children:t.split("").map((p,o)=>H.jsx("span",{className:ph({[c]:!e}),style:{animationDuration:`${s}`,animationDelay:v2e({index:o,offset:n,delay:i})},children:p},`${p}_${o}_${r}`))}),v2e=({offset:e,index:t,delay:r})=>r+(t+e)*50+"ms",K3t=(e,t,r)=>{const{nodes:n,offset:i,wordsLength:s,textLength:c,mode:p,direction:o,duration:g,delay:y,blur:x}=e,E=p==="word",A=o==="up",M=E?s:c,R=r===M-1,k=ph("inline-block opacity-0 transition-all ease-in-out fill-mode-forwards",{"animate-[reveal-down]":!A&&!x,"animate-[reveal-up]":A&&!x,"animate-[reveal-down,content-blur]":!A&&x,"animate-[reveal-up,content-blur]":A&&x},e.className),D=H.jsxs("span",{className:ph("contents",{[k]:E}),style:E?{animationDuration:`${g}`,animationDelay:v2e({index:r,offset:i,delay:y})}:void 0,children:[H.jsx(W3t,{isWordMode:E,word:t,index:r,offset:i,duration:g,className:k,length:M,delay:y}),!R&&" "]},`word_${r}`);return{...e,nodes:[...n,D],offset:i+(E?1:t.length+1)}};function H3t({text:e,direction:t="down",mode:r="letter",className:n,duration:i="2000ms",delay:s=0,blur:c=!0,letterClassName:p}){if(!e)return null;const o=e.trim().split(/\s/),{nodes:g}=o.reduce(K3t,{nodes:[],offset:0,wordsLength:o.length,textLength:e.length,direction:t,mode:r,duration:i??60,delay:s??0,blur:c,className:p});return H.jsxs("div",{className:ph("relative flex flex-wrap justify-center whitespace-pre px-2 text-4xl font-black md:px-6 md:text-7xl",n),children:[g,H.jsx("div",{className:"sr-only",children:e})]})}const G3t=({item:e,className:t,index:r,activeItem:n,...i})=>H.jsxs("div",{className:ph("relative flex h-full w-20 min-w-10 cursor-pointer overflow-hidden rounded-md transition-all delay-0 duration-300 ease-in-out",{"flex-grow":r===n},t),...i,children:[H.jsx("img",{src:e.image,alt:e.title,className:ph("h-full w-full object-cover",{"blur-[2px]":r!==n})}),r===n&&H.jsx("div",{className:"absolute text-white bottom-4 left-4 min-w-fit md:bottom-8 md:left-8",children:H.jsx(H3t,{duration:"1000ms",className:"items-start justify-start text-xl sm:text-2xl md:text-6xl",text:e.title,direction:"up"})})]}),q3t=[{image:"https://images.unsplash.com/photo-1541753236788-b0ac1fc5009d?q=80&w=1000&auto=format&fit=crop&ixlib=rb-4.0.3",title:"Mountains"},{image:"https://images.unsplash.com/photo-1718027808460-7069cf0ca9ae?q=80&w=1000&auto=format&fit=crop&ixlib=rb-4.0.3",title:"Great Wall of China"},{image:"https://images.unsplash.com/photo-1584968173934-bc0b588eb806?q=80&w=1000&auto=format&fit=crop&ixlib=rb-4.0.3",title:"Texture & Patterns"}];function Z3t({list:e=q3t,autoPlay:t=!0,className:r}){const[n,i]=se.useState(0),[s,c]=se.useState(!1);return se.useEffect(()=>{if(!t)return;const p=setInterval(()=>{s||i(o=>(o+1)%e.length)},5e3);return()=>clearInterval(p)},[t,e.length,s]),H.jsx("div",{className:ph("flex h-96 w-full gap-1",r),children:e.map((p,o)=>H.jsx(G3t,{item:p,index:o,activeItem:n,onMouseEnter:()=>{i(o),c(!0)},onMouseLeave:()=>{c(!1)}},p.title))})}const X3t=[{name:"Jan",value:2e3},{name:"Feb",value:2200},{name:"Mar",value:2100},{name:"Apr",value:2800},{name:"May",value:2600},{name:"Jun",value:2700}],Y3t=()=>H.jsxs("div",{className:"flex flex-col w-full bg-white px-60 md:flex-row",children:[H.jsxs("div",{className:"w-full p-6 overflow-y-auto md:w-[60rem] text-left",children:[H.jsx("h1",{className:"mb-1 text-6xl font-bold",children:"Palmshore Apartments"}),H.jsxs("div",{className:"flex flex-row items-center my-3 mb-2 gap-x-2",children:[H.jsx("div",{className:"px-4 py-2 mr-2 text-sm font-bold text-white bg-green-500 rounded-full",children:"Residential"}),H.jsxs("p",{className:"flex flex-row items-center text-lg text-black",children:[H.jsx("svg",{className:"w-5 h-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:H.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),H.jsx("p",{className:"text-lg",children:"Bengaluru, India"})]})]}),H.jsx("p",{className:"mt-6 mb-6 text-lg leading-tight text-black",children:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id"}),H.jsx("h2",{className:"mb-0 text-xl font-bold",children:"Property Price"}),H.jsx("div",{className:"pt-3 pb-4 my-0 divider before:bg-black/10 after:bg-black/10"}),H.jsx("div",{className:"p-4 mb-6 bg-gray-100 rounded-lg",children:H.jsx(wpt,{width:"100%",height:200,children:H.jsxs(U3t,{data:X3t,children:[H.jsx(l2e,{strokeDasharray:"3 3"}),H.jsx(NM,{dataKey:"name"}),H.jsx(FM,{}),H.jsx(W9,{type:"monotone",dataKey:"value",stroke:"#8884d8"})]})})}),H.jsx("h2",{className:"mb-0 text-xl font-bold",children:"Highlights"}),H.jsx("div",{className:"pt-3 pb-4 my-0 divider before:bg-black/10 after:bg-black/10"}),H.jsx("div",{className:"grid grid-cols-2 mb-6 gap-x-4 gap-y-6",children:[1,2,3,4].map(e=>H.jsx("div",{className:"p-6 bg-gray-100 rounded-xl",children:H.jsx("p",{className:"text-lg text-black",children:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum"})},e))}),H.jsx("h2",{className:"mb-0 text-xl font-bold",children:"Image Gallery"}),H.jsx("div",{className:"pt-3 pb-4 my-0 divider before:bg-black/10 after:bg-black/10"}),H.jsx("div",{className:"h-40 mb-6 bg-gray-200 rounded-lg",children:H.jsx(Z3t,{className:"w-min-72 storybook-fix"})}),H.jsx("h2",{className:"mb-0 text-xl font-bold",children:"Location"}),H.jsx("div",{className:"pt-3 pb-4 my-0 divider before:bg-black/10 after:bg-black/10"}),H.jsx("div",{className:"p-4 mb-6 bg-gray-100 rounded-xl",children:H.jsx("p",{className:"p-2 text-xl text-black",children:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi."})}),H.jsx("h2",{className:"mb-0 text-xl font-bold",children:"Documents"}),H.jsx("div",{className:"pt-3 pb-4 my-0 divider before:bg-black/10 after:bg-black/10"}),H.jsx("div",{className:"grid w-1/2 grid-cols-1 mb-24 gap-y-2",children:["Doc 1","Doc 1","Doc 1","Doc 1"].map((e,t)=>H.jsxs("div",{className:"flex items-center justify-start p-2 px-6 text-lg text-center bg-gray-200 rounded-lg",children:[H.jsx("svg",{className:"w-5 h-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:H.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),e]},t))})]}),H.jsx("div",{className:"w-full p-6 md:w-[40rem] md:sticky md:top-0 md:h-screen",children:H.jsxs("div",{className:"p-8 bg-white rounded-3xl invest-shadow",children:[H.jsxs("div",{className:"flex justify-between mb-4",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-lg text-left text-black",children:"Current Value"}),H.jsxs("p",{className:"text-4xl font-bold",children:["$ 220,000"," ",H.jsx("span",{className:"text-sm font-normal text-black",children:"USD"})]})]}),H.jsxs("div",{className:"text-right",children:[H.jsx("p",{className:"text-lg text-black",children:"Original Value"}),H.jsxs("p",{className:"text-4xl font-bold",children:["$ 220,000"," ",H.jsx("span",{className:"text-sm font-normal text-black",children:"USD"})]})]})]}),H.jsxs("div",{className:"items-center justify-center px-6 py-4 pb-6 my-5 mb-4 gap-y-4 rounded-2xl bg-black/10",children:[H.jsxs("div",{className:"flex flex-row items-center justify-between text-lg",children:[H.jsx("p",{className:"",children:"Invested"}),H.jsxs("p",{className:"",children:["$ 450,000",H.jsx("span",{children:" USD"})]})]}),H.jsx("div",{className:"h-2 mt-2 mb-2 bg-gray-200 rounded-full",children:H.jsx(yZe,{"aria-label":"Loading...",value:60,className:"max-w-md",classNames:{base:"",track:"h-[10px] bg-white",indicator:"bg-black"}})})]}),H.jsxs("div",{className:"flex justify-between mb-4",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-lg text-black",children:"Share Price"}),H.jsxs("p",{className:"text-3xl font-semibold text-left",children:["$ 35 ",H.jsx("span",{className:"text-sm font-normal text-black",children:"USD"})]})]}),H.jsxs("div",{className:"text-right",children:[H.jsx("p",{className:"text-lg text-black",children:"Available Shares"}),H.jsxs("p",{className:"text-3xl font-semibold",children:["2477 ",H.jsx("span",{className:"text-sm font-normal text-black",children:"USD"})]})]})]}),H.jsxs("div",{className:"mb-4",children:[H.jsx("p",{className:"mb-1 text-lg text-black",children:"Your Balance: 32,850L"}),H.jsx("input",{type:"text",placeholder:"Enter amount of shares to buy",className:"w-full px-4 py-2 my-1 text-lg border rounded-lg outline-none bg-black/10"})]}),H.jsx("button",{className:"w-full py-2 mb-4 text-lg font-normal text-white bg-black border-2 border-black rounded-xl hover:bg-white hover:text-black",children:"Invest Now"}),H.jsxs("div",{className:"flex justify-between mt-1 text-xl",children:[H.jsxs("div",{children:[H.jsx("p",{className:"font-semibold",children:"Owners"}),H.jsx("p",{children:"125"})]}),H.jsxs("div",{children:[H.jsx("p",{className:"font-semibold",children:"IRR"}),H.jsx("p",{children:"23.6%"})]}),H.jsxs("div",{children:[H.jsx("p",{className:"font-semibold",children:"ARR"}),H.jsx("p",{children:"9.8%"})]})]})]})})]}),eG=e=>({__option:"Some",value:e}),LC=()=>({__option:"None"}),tG=e=>e&&typeof e=="object"&&"__option"in e&&(e.__option==="Some"&&"value"in e||e.__option==="None"),x1=e=>e.__option==="Some",J3t=e=>e.__option==="None";function Q3t(e,t){return x1(e)?e.value:t?t():null}const _2e=e=>e!==null?eG(e):LC(),ewt=e=>x1(e)?e.value:null,twt=(e,t)=>x1(e)?e.value:t();function MV(e,t){if(!e||ArrayBuffer.isView(e))return e;const r=n=>t?MV(n,t):MV(n);return tG(e)?x1(e)?r(e.value):t?t():null:Array.isArray(e)?e.map(r):typeof e=="object"?Object.fromEntries(Object.entries(e).map(([n,i])=>[n,r(i)])):e}let VM=class extends Error{constructor(r,n,i){const s=`Expected a string of base ${n}, got [${r}].`;super(s);Zn(this,"name","InvalidBaseStringError");this.cause=i}};const UM=e=>{const t=e.length,r=BigInt(t);return{description:`base${t}`,fixedSize:null,maxSize:null,serialize(n){if(!n.match(new RegExp(`^[${e}]*$`)))throw new VM(n,t);if(n==="")return new Uint8Array;const i=[...n];let s=i.findIndex(x=>x!==e[0]);s=s===-1?i.length:s;const c=Array(s).fill(0);if(s===i.length)return Uint8Array.from(c);const p=i.slice(s);let o=0n,g=1n;for(let x=p.length-1;x>=0;x-=1)o+=g*BigInt(e.indexOf(p[x])),g*=r;const y=[];for(;o>0n;)y.unshift(Number(o%256n)),o/=256n;return Uint8Array.from(c.concat(y))},deserialize(n,i=0){if(n.length===0)return["",0];const s=n.slice(i);let c=s.findIndex(y=>y!==0);c=c===-1?s.length:c;const p=e[0].repeat(c);if(c===s.length)return[p,n.length];let o=s.slice(c).reduce((y,x)=>y*256n+BigInt(x),0n);const g=[];for(;o>0n;)g.unshift(e[Number(o%r)]),o/=r;return[p+g.join(""),n.length]}}},rG=UM("0123456789"),b2e={description:"base16",fixedSize:null,maxSize:null,serialize(e){const t=e.toLowerCase();if(!t.match(/^[0123456789abcdef]*$/))throw new VM(e,16);const r=t.match(/.{1,2}/g);return Uint8Array.from(r?r.map(n=>parseInt(n,16)):[])},deserialize(e,t=0){return[e.slice(t).reduce((n,i)=>n+i.toString(16).padStart(2,"0"),""),e.length]}},K9=UM("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Ws=e=>{const t=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(t);let n=0;return e.forEach(i=>{r.set(i,n),n+=i.length}),r},nG=(e,t)=>{if(e.length>=t)return e;const r=new Uint8Array(t).fill(0);return r.set(e),r},BC=(e,t)=>nG(e.slice(0,t),t);class n0 extends Error{constructor(r){super(`Serializer [${r}] cannot deserialize empty buffers.`);Zn(this,"name","DeserializingEmptyBufferError")}}class cv extends Error{constructor(r,n,i){super(`Serializer [${r}] expected ${n} bytes, got ${i}.`);Zn(this,"name","NotEnoughBytesError")}}class H9 extends Error{constructor(r){r??(r="Expected a fixed-size serializer, got a variable-size one.");super(r);Zn(this,"name","ExpectedFixedSizeSerializerError")}}function WM(e,t,r){return{description:r??`fixed(${t}, ${e.description})`,fixedSize:t,maxSize:t,serialize:n=>BC(e.serialize(n),t),deserialize:(n,i=0)=>{if(n=n.slice(i,i+t),n.length<t)throw new cv("fixSerializer",t,n.length);e.fixedSize!==null&&(n=BC(n,e.fixedSize));const[s]=e.deserialize(n,0);return[s,i+t]}}}function G9(e,t,r){return{description:e.description,fixedSize:e.fixedSize,maxSize:e.maxSize,serialize:n=>e.serialize(t(n)),deserialize:(n,i=0)=>{const[s,c]=e.deserialize(n,i);return r?[r(s,n,i),c]:[s,c]}}}function x2e(e){if(e.fixedSize===null)throw new H9("Cannot reverse a serializer of variable size.");return{...e,serialize:t=>e.serialize(t).reverse(),deserialize:(t,r=0)=>{const n=e.fixedSize,i=Ws([t.slice(0,r),t.slice(r,r+n).reverse(),t.slice(r+n)]);return e.deserialize(i,r)}}}const w2e=(e,t)=>{const r=e.length,n=(i,s,c,p)=>{const o=[];let g=0,y=0;const x=(1<<c)-1;for(const E of i)for(g=g<<s|E,y+=s;y>=c;)y-=c,o.push(g>>y&x);return p&&y>0&&o.push(g<<c-y&x),o};return{description:`base${r}`,fixedSize:null,maxSize:null,serialize(i){if(!i.match(new RegExp(`^[${e}]*$`)))throw new VM(i,r);if(i==="")return new Uint8Array;const s=[...i].map(p=>e.indexOf(p)),c=n(s,t,8,!1);return Uint8Array.from(c)},deserialize(i,s=0){if(i.length===0)return["",0];const c=[...i.slice(s)];return[n(c,8,t,!0).map(o=>e[o]).join(""),i.length]}}},iG=G9(w2e("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",6),e=>e.replace(/=/g,""),e=>e.padEnd(Math.ceil(e.length/4)*4,"=")),aG=e=>e.replace(/\u0000/g,""),S2e=(e,t)=>e.padEnd(t,"\0"),KM={description:"utf8",fixedSize:null,maxSize:null,serialize(e){return new TextEncoder().encode(e)},deserialize(e,t=0){const r=new TextDecoder().decode(e.slice(t));return[aG(r),e.length]}};class d5 extends Error{constructor(r,n){n=n?`. ${n}`:"";super(`The provided public key is invalid: ${r}${n}`);Zn(this,"name","InvalidPublicKeyError");this.invalidPublicKey=r}}const D8=32;function xf(e,t=!0){const r=typeof e=="string"?e:typeof e=="object"&&"publicKey"in e?e.publicKey:typeof e=="object"&&"toBase58"in e?e.toBase58():Array.isArray(e)?e[0]:K9.deserialize(e)[0];return t&&oG(r),r}const rwt=()=>"11111111111111111111111111111111",dx=e=>{try{return oG(e),!0}catch{return!1}},nwt=e=>Array.isArray(e)&&e.length===2&&typeof e[1]=="number"&&dx(e[0]);function oG(e){if(typeof e!="string")throw new d5(e,"Public keys must be strings.");HM(e)}const iwt=e=>[...new Set(e)],HM=e=>{if(e.length<32||e.length>44)throw new d5(e,"Public keys must be between 32 and 44 characters.");let t;try{t=K9.serialize(e)}catch{throw new d5(e,"Public keys must be base58 encoded.")}if(t.length!==D8)throw new d5(e,`Public keys must be ${D8} bytes.`);return t},awt=e=>xf(e),owt=(e,t)=>xf(e)===xf(t);let R8;(function(e){e.Little="le",e.Big="be"})(R8||(R8={}));class E2e extends RangeError{constructor(r,n,i,s){super(`Serializer [${r}] expected number to be between ${n} and ${i}, got ${s}.`);Zn(this,"name","NumberOutOfRangeError")}}function Ec(e){let t,r=e.name;return e.size>1&&(t=!("endian"in e.options)||e.options.endian===R8.Little,r+=t?"(le)":"(be)"),{description:e.options.description??r,fixedSize:e.size,maxSize:e.size,serialize(n){e.range&&A2e(e.name,e.range[0],e.range[1],n);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),n,t),new Uint8Array(i)},deserialize(n,i=0){const s=n.slice(i,i+e.size);uwt("i8",s,e.size);const c=lwt(s);return[e.get(c,t),i+e.size]}}}const swt=e=>e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset),lwt=e=>new DataView(swt(e)),A2e=(e,t,r,n)=>{if(n<t||n>r)throw new E2e(e,t,r,n)},uwt=(e,t,r)=>{if(t.length===0)throw new n0(e);if(t.length<r)throw new cv(e,r,t.length)},cwt=(e={})=>Ec({name:"f32",size:4,set:(t,r,n)=>t.setFloat32(0,Number(r),n),get:(t,r)=>t.getFloat32(0,r),options:e}),dwt=(e={})=>Ec({name:"f64",size:8,set:(t,r,n)=>t.setFloat64(0,Number(r),n),get:(t,r)=>t.getFloat64(0,r),options:e}),fwt=(e={})=>Ec({name:"i8",size:1,range:[-+"0x7f"-1,+"0x7f"],set:(t,r)=>t.setInt8(0,Number(r)),get:t=>t.getInt8(0),options:e}),pwt=(e={})=>Ec({name:"i16",size:2,range:[-+"0x7fff"-1,+"0x7fff"],set:(t,r,n)=>t.setInt16(0,Number(r),n),get:(t,r)=>t.getInt16(0,r),options:e}),hwt=(e={})=>Ec({name:"i32",size:4,range:[-+"0x7fffffff"-1,+"0x7fffffff"],set:(t,r,n)=>t.setInt32(0,Number(r),n),get:(t,r)=>t.getInt32(0,r),options:e}),mwt=(e={})=>Ec({name:"i64",size:8,range:[-BigInt("0x7fffffffffffffff")-1n,BigInt("0x7fffffffffffffff")],set:(t,r,n)=>t.setBigInt64(0,BigInt(r),n),get:(t,r)=>t.getBigInt64(0,r),options:e}),gwt=(e={})=>Ec({name:"i128",size:16,range:[-BigInt("0x7fffffffffffffffffffffffffffffff")-1n,BigInt("0x7fffffffffffffffffffffffffffffff")],set:(t,r,n)=>{const i=n?8:0,s=n?0:8,c=0xffffffffffffffffn;t.setBigInt64(i,BigInt(r)>>64n,n),t.setBigUint64(s,BigInt(r)&c,n)},get:(t,r)=>{const n=r?8:0,i=r?0:8,s=t.getBigInt64(n,r),c=t.getBigUint64(i,r);return(s<<64n)+c},options:e}),d3=(e={})=>Ec({name:"u8",size:1,range:[0,+"0xff"],set:(t,r)=>t.setUint8(0,Number(r)),get:t=>t.getUint8(0),options:e}),ywt=(e={})=>Ec({name:"u16",size:2,range:[0,+"0xffff"],set:(t,r,n)=>t.setUint16(0,Number(r),n),get:(t,r)=>t.getUint16(0,r),options:e}),q9=(e={})=>Ec({name:"u32",size:4,range:[0,+"0xffffffff"],set:(t,r,n)=>t.setUint32(0,Number(r),n),get:(t,r)=>t.getUint32(0,r),options:e}),vwt=(e={})=>Ec({name:"u64",size:8,range:[0,BigInt("0xffffffffffffffff")],set:(t,r,n)=>t.setBigUint64(0,BigInt(r),n),get:(t,r)=>t.getBigUint64(0,r),options:e}),_wt=(e={})=>Ec({name:"u128",size:16,range:[0,BigInt("0xffffffffffffffffffffffffffffffff")],set:(t,r,n)=>{const i=n?8:0,s=n?0:8,c=0xffffffffffffffffn;t.setBigUint64(i,BigInt(r)>>64n,n),t.setBigUint64(s,BigInt(r)&c,n)},get:(t,r)=>{const n=r?8:0,i=r?0:8,s=t.getBigUint64(n,r),c=t.getBigUint64(i,r);return(s<<64n)+c},options:e}),bwt=(e={})=>({description:e.description??"shortU16",fixedSize:null,maxSize:3,serialize:t=>{A2e("shortU16",0,65535,t);const r=[0];for(let n=0;;n+=1){const i=t>>n*7;if(i===0)break;const s=127&i;r[n]=s,n>0&&(r[n-1]|=128)}return new Uint8Array(r)},deserialize:(t,r=0)=>{let n=0,i=0;for(;++i;){const s=i-1,c=t[r+s],p=127&c;if(n|=p<<s*7,!(c&128))break}return[n,r+i]}});class Z9 extends Error{constructor(r,n,i){super(`Expected [${r}] to have ${n} items, got ${i}.`);Zn(this,"name","InvalidNumberOfItemsError")}}class xwt extends Error{constructor(r,n){super(`The remainder of the buffer (${r} bytes) cannot be split into chunks of ${n} bytes. Serializers of "remainder" size must have a remainder that is a multiple of its item size. In other words, ${r} modulo ${n} should be equal to zero.`);Zn(this,"name","InvalidArrayLikeRemainderSizeError")}}class T2e extends Error{constructor(r){super(`Unrecognized array-like serializer size: ${JSON.stringify(r)}`);Zn(this,"name","UnrecognizedArrayLikeSerializerSizeError")}}class P2e extends Error{constructor(r,n){super(`Invalid data enum variant. Expected one of [${n.join(", ")}], got "${r}".`);Zn(this,"name","InvalidDataEnumVariantError")}}class C2e extends Error{constructor(r,n,i,s){super(`Invalid scalar enum variant. Expected one of [${n.join(", ")}] or a number between ${i} and ${s}, got "${r}".`);Zn(this,"name","InvalidScalarEnumVariantError")}}class sG extends RangeError{constructor(r,n,i){super(`Enum discriminator out of range. Expected a number between ${n} and ${i}, got ${r}.`);Zn(this,"name","EnumDiscriminatorOutOfRangeError")}}function wf(e){return e.reduce((t,r)=>t===null||r===null?null:t+r,0)}function lG(e,t,r){if(typeof e=="number")return[e,r];if(typeof e=="object")return e.deserialize(t,r);throw new T2e(e)}function dv(e){return typeof e=="object"?e.description:`${e}`}function r4(e,t){if(typeof e!="number")return null;if(e===0)return 0;const r=wf(t);return r===null?null:r*e}function uG(e,t){return typeof e=="object"?e.serialize(t):new Uint8Array}function wwt(e,t={}){const r=t.size??q9();return{description:t.description??`array(${e.description}; ${dv(r)})`,fixedSize:r4(r,[e.fixedSize]),maxSize:r4(r,[e.maxSize]),serialize:n=>{if(typeof r=="number"&&n.length!==r)throw new Z9("array",r,n.length);return Ws([uG(r,n.length),...n.map(i=>e.serialize(i))])},deserialize:(n,i=0)=>{const s=[];if(typeof r=="object"&&n.slice(i).length===0)return[s,i];if(r==="remainder"){for(;i<n.length;){const[o,g]=e.deserialize(n,i);s.push(o),i=g}return[s,i]}const[c,p]=lG(r,n,i);i=p;for(let o=0;o<c;o+=1){const[g,y]=e.deserialize(n,i);s.push(g),i=y}return[s,i]}}}const I2e=(e,t={})=>{const r=typeof t=="boolean"?{backward:t}:t,n=r.backward??!1,i=n?"; backward":"";return{description:r.description??`bitArray(${e}${i})`,fixedSize:e,maxSize:e,serialize(s){const c=[];for(let p=0;p<e;p+=1){let o=0;for(let g=0;g<8;g+=1){const y=Number(s[p*8+g]??0);o|=y<<(n?g:7-g)}n?c.unshift(o):c.push(o)}return new Uint8Array(c)},deserialize(s,c=0){const p=[];let o=s.slice(c,c+e);if(o=n?o.reverse():o,o.length!==e)throw new cv("bitArray",e,o.length);return o.forEach(g=>{for(let y=0;y<8;y+=1)n?(p.push(!!(g&1)),g>>=1):(p.push(!!(g&128)),g<<=1)}),[p,c+e]}}};function Swt(e={}){const t=e.size??d3();if(t.fixedSize===null)throw new H9("Serializer [bool] requires a fixed size.");return{description:e.description??`bool(${t.description})`,fixedSize:t.fixedSize,maxSize:t.fixedSize,serialize:r=>t.serialize(r?1:0),deserialize:(r,n=0)=>{if(r.slice(n).length===0)throw new n0("bool");const[i,s]=t.deserialize(r,n);return[i===1,s]}}}function Ewt(e={}){const t=e.size??"variable",r=e.description??`bytes(${dv(t)})`,n={description:r,fixedSize:null,maxSize:null,serialize:i=>new Uint8Array(i),deserialize:(i,s=0)=>{const c=i.slice(s);return[c,s+c.length]}};return t==="variable"?n:typeof t=="number"?WM(n,t,r):{description:r,fixedSize:null,maxSize:null,serialize:i=>{const s=n.serialize(i),c=t.serialize(s.length);return Ws([c,s])},deserialize:(i,s=0)=>{if(i.slice(s).length===0)throw new n0("bytes");const[c,p]=t.deserialize(i,s),o=Number(c);s=p;const g=i.slice(s,s+o);if(g.length<o)throw new cv("bytes",o,g.length);const[y,x]=n.deserialize(g);return s+=x,[y,s]}}}function M2e(e){return e.reduce((t,r)=>t===null||r===null?null:Math.max(t,r),0)}function Awt(e,t={}){const r=t.size??d3(),n=e.map(([p,o])=>`${String(p)}${o?`: ${o.description}`:""}`).join(", "),s=e.every((p,o,g)=>p[1].fixedSize===g[0][1].fixedSize)?e[0][1].fixedSize:null,c=M2e(e.map(([,p])=>p.maxSize));return{description:t.description??`dataEnum(${n}; ${r.description})`,fixedSize:e.length===0?r.fixedSize:wf([r.fixedSize,s]),maxSize:e.length===0?r.maxSize:wf([r.maxSize,c]),serialize:p=>{const o=e.findIndex(([E])=>p.__kind===E);if(o<0)throw new P2e(p.__kind,e.map(([E])=>E));const g=r.serialize(o),x=e[o][1].serialize(p);return Ws([g,x])},deserialize:(p,o=0)=>{if(p.slice(o).length===0)throw new n0("dataEnum");const[g,y]=r.deserialize(p,o);o=y;const x=e[Number(g)]??null;if(!x)throw new sG(g,0,e.length-1);const[E,A]=x[1].deserialize(p,o);return o=A,[{__kind:x[0],...E??{}},o]}}}function Twt(e,t,r={}){const n=r.size??q9();return{description:r.description??`map(${e.description}, ${t.description}; ${dv(n)})`,fixedSize:r4(n,[e.fixedSize,t.fixedSize]),maxSize:r4(n,[e.maxSize,t.maxSize]),serialize:i=>{if(typeof n=="number"&&i.size!==n)throw new Z9("map",n,i.size);const s=Array.from(i,([c,p])=>Ws([e.serialize(c),t.serialize(p)]));return Ws([uG(n,i.size),...s])},deserialize:(i,s=0)=>{const c=new Map;if(typeof n=="object"&&i.slice(s).length===0)return[c,s];if(n==="remainder"){for(;s<i.length;){const[g,y]=e.deserialize(i,s);s=y;const[x,E]=t.deserialize(i,s);s=E,c.set(g,x)}return[c,s]}const[p,o]=lG(n,i,s);s=o;for(let g=0;g<p;g+=1){const[y,x]=e.deserialize(i,s);s=x;const[E,A]=t.deserialize(i,s);s=A,c.set(y,E)}return[c,s]}}}function Pwt(e,t={}){const r=t.prefix??d3(),n=t.fixed??!1;let i=`; ${dv(r)}`,s=e.fixedSize===0?r.fixedSize:null;if(n){if(e.fixedSize===null||r.fixedSize===null)throw new H9("Fixed nullables can only be used with fixed-size serializers");i+="; fixed",s=r.fixedSize+e.fixedSize}return{description:t.description??`nullable(${e.description+i})`,fixedSize:s,maxSize:wf([r.maxSize,e.maxSize]),serialize:c=>{const p=r.serialize(+(c!==null));if(n){const g=e.fixedSize,y=c!==null?e.serialize(c).slice(0,g):new Uint8Array(g).fill(0);return Ws([p,y])}const o=c!==null?e.serialize(c):new Uint8Array;return Ws([p,o])},deserialize:(c,p=0)=>{if(c.slice(p).length===0)return[null,p];const o=p+(r.fixedSize??0)+(e.fixedSize??0),[g,y]=r.deserialize(c,p);if(p=y,g===0)return[null,n?o:p];const[x,E]=e.deserialize(c,p);return p=E,[x,n?o:p]}}}function Cwt(e,t={}){const r=t.prefix??d3(),n=t.fixed??!1;let i=`; ${dv(r)}`,s=e.fixedSize===0?r.fixedSize:null;if(n){if(e.fixedSize===null||r.fixedSize===null)throw new H9("Fixed options can only be used with fixed-size serializers");i+="; fixed",s=r.fixedSize+e.fixedSize}return{description:t.description??`option(${e.description+i})`,fixedSize:s,maxSize:wf([r.maxSize,e.maxSize]),serialize:c=>{const p=tG(c)?c:_2e(c),o=r.serialize(Number(x1(p)));if(n){const y=e.fixedSize,x=x1(p)?e.serialize(p.value).slice(0,y):new Uint8Array(y).fill(0);return Ws([o,x])}const g=x1(p)?e.serialize(p.value):new Uint8Array;return Ws([o,g])},deserialize:(c,p=0)=>{if(c.slice(p).length===0)return[LC(),p];const o=p+(r.fixedSize??0)+(e.fixedSize??0),[g,y]=r.deserialize(c,p);if(p=y,g===0)return[LC(),n?o:p];const[x,E]=e.deserialize(c,p);return p=E,[eG(x),n?o:p]}}}function Iwt(e={}){return{description:e.description??"publicKey",fixedSize:32,maxSize:32,serialize:t=>HM(xf(t)),deserialize:(t,r=0)=>{const n=t.slice(r,r+32);if(n.length===0)throw new n0("publicKey");if(n.length<D8)throw new cv("publicKey",D8,n.length);return[xf(n),r+32]}}}function Mwt(e,t={}){const r=t.size??d3(),n=Object.keys(e),i=Object.values(e),s=i.some(x=>typeof x=="number"),c=i.filter(x=>typeof x=="string").join(", "),p=0,o=s?i.length/2-1:i.length-1,g=s?[...n]:[...new Set([...n,...i])];function y(x){const E=typeof x=="number"&&(x<p||x>o),A=typeof x=="string"&&!g.includes(x);if(E||A)throw new C2e(x,g,p,o)}return{description:t.description??`enum(${c}; ${r.description})`,fixedSize:r.fixedSize,maxSize:r.maxSize,serialize:x=>{if(y(x),typeof x=="number")return r.serialize(x);const E=i.indexOf(x);return E>=0?r.serialize(E):r.serialize(n.indexOf(x))},deserialize:(x,E=0)=>{if(x.slice(E).length===0)throw new n0("enum");const[A,M]=r.deserialize(x,E),R=Number(A);if(E=M,R<p||R>o)throw new sG(R,p,o);return[s?R:i[R],E]}}}function kwt(e,t={}){const r=t.size??q9();return{description:t.description??`set(${e.description}; ${dv(r)})`,fixedSize:r4(r,[e.fixedSize]),maxSize:r4(r,[e.maxSize]),serialize:n=>{if(typeof r=="number"&&n.size!==r)throw new Z9("set",r,n.size);const i=Array.from(n,s=>e.serialize(s));return Ws([uG(r,n.size),...i])},deserialize:(n,i=0)=>{const s=new Set;if(typeof r=="object"&&n.slice(i).length===0)return[s,i];if(r==="remainder"){for(;i<n.length;){const[o,g]=e.deserialize(n,i);s.add(o),i=g}return[s,i]}const[c,p]=lG(r,n,i);i=p;for(let o=0;o<c;o+=1){const[g,y]=e.deserialize(n,i);s.add(g),i=y}return[s,i]}}}function Owt(e={}){const t=e.size??q9(),r=e.encoding??KM,n=e.description??`string(${r.description}; ${dv(t)})`;return t==="variable"?{...r,description:n}:typeof t=="number"?WM(r,t,n):{description:n,fixedSize:null,maxSize:null,serialize:i=>{const s=r.serialize(i),c=t.serialize(s.length);return Ws([c,s])},deserialize:(i,s=0)=>{if(i.slice(s).length===0)throw new n0("string");const[c,p]=t.deserialize(i,s),o=Number(c);s=p;const g=i.slice(s,s+o);if(g.length<o)throw new cv("string",o,g.length);const[y,x]=r.deserialize(g);return s+=x,[y,s]}}}function Dwt(e,t={}){const r=e.map(([n,i])=>`${String(n)}: ${i.description}`).join(", ");return{description:t.description??`struct(${r})`,fixedSize:wf(e.map(([,n])=>n.fixedSize)),maxSize:wf(e.map(([,n])=>n.maxSize)),serialize:n=>{const i=e.map(([s,c])=>c.serialize(n[s]));return Ws(i)},deserialize:(n,i=0)=>{const s={};return e.forEach(([c,p])=>{const[o,g]=p.deserialize(n,i);i=g,s[c]=o}),[s,i]}}}function Rwt(e,t={}){const r=e.map(n=>n.description).join(", ");return{description:t.description??`tuple(${r})`,fixedSize:wf(e.map(n=>n.fixedSize)),maxSize:wf(e.map(n=>n.maxSize)),serialize:n=>{if(n.length!==e.length)throw new Z9("tuple",e.length,n.length);return Ws(e.map((i,s)=>i.serialize(n[s])))},deserialize:(n,i=0)=>{const s=[];return e.forEach(c=>{const[p,o]=c.deserialize(n,i);s.push(p),i=o}),[s,i]}}}function $wt(e={}){return{description:e.description??"unit",fixedSize:0,maxSize:0,serialize:()=>new Uint8Array,deserialize:(t,r=0)=>[void 0,r]}}const Lwt=Object.freeze(Object.defineProperty({__proto__:null,DeserializingEmptyBufferError:n0,get Endian(){return R8},EnumDiscriminatorOutOfRangeError:sG,ExpectedFixedSizeSerializerError:H9,InvalidArrayLikeRemainderSizeError:xwt,InvalidBaseStringError:VM,InvalidDataEnumVariantError:P2e,InvalidNumberOfItemsError:Z9,InvalidScalarEnumVariantError:C2e,NotEnoughBytesError:cv,NumberOutOfRangeError:E2e,UnrecognizedArrayLikeSerializerSizeError:T2e,array:wwt,base10:rG,base16:b2e,base58:K9,base64:iG,baseX:UM,baseXReslice:w2e,bitArray:I2e,bool:Swt,bytes:Ewt,dataEnum:Awt,f32:cwt,f64:dwt,fixBytes:BC,fixSerializer:WM,i128:gwt,i16:pwt,i32:hwt,i64:mwt,i8:fwt,map:Twt,mapSerializer:G9,maxSerializerSizes:M2e,mergeBytes:Ws,nullable:Pwt,option:Cwt,padBytes:nG,padNullCharacters:S2e,publicKey:Iwt,removeNullCharacters:aG,reverseSerializer:x2e,scalarEnum:Mwt,set:kwt,shortU16:bwt,string:Owt,struct:Dwt,sumSerializerSizes:wf,tuple:Rwt,u128:_wt,u16:ywt,u32:q9,u64:vwt,u8:d3,unit:$wt,utf8:KM},Symbol.toStringTag,{value:"Module"})),Bwt=G9,zwt=WM,Nwt=x2e,Fwt=Ws,jwt=nG,Vwt=BC,Uwt=KM,Wwt=UM,Kwt=rG,k2e=K9,Hwt=iG,Gwt=b2e,qwt=I2e,Zwt=aG,Xwt=S2e,Ywt=R8;class GM extends Error{constructor(r,n,i,s){super(r);Zn(this,"name","UmiError");this.source=n,this.sourceDetails=i,this.cause=s,this.message=`${this.message}

Source: ${this.getFullSource()}${this.cause?`

Caused By: ${this.cause}`:""}
`}getCapitalizedSource(){return this.source==="sdk"||this.source==="rpc"?this.source.toUpperCase():this.source[0].toUpperCase()+this.source.slice(1)}getFullSource(){const r=this.getCapitalizedSource(),n=this.sourceDetails?` > ${this.sourceDetails}`:"";return r+n}toString(){return`[${this.name}] ${this.message}`}}class pl extends GM{constructor(r,n){super(r,"sdk",void 0,n);Zn(this,"name","SdkError")}}class O2e extends pl{constructor(r,n,i){const s=`The account at the provided address [${r}] is not of the expected type [${n}].`;super(s,i);Zn(this,"name","UnexpectedAccountError")}}class D2e extends pl{constructor(r,n,i){const s=`${n?`The account of type [${n}] was not found`:"No account was found"} at the provided address [${r}].${i?` ${i}`:""}`;super(s);Zn(this,"name","AccountNotFoundError")}}const R2e=128;function Jwt(e,t){const{data:r,publicKey:n,...i}=e;try{const[s]=t.deserialize(r);return{publicKey:n,header:i,...s}}catch(s){throw new O2e(n,t.description,s)}}function Qwt(e,t,r){if(!e.exists)throw new D2e(e.publicKey,t,r)}const zC=e=>(e=typeof e=="object"?e.toString():e,BigInt(e));class $2e extends pl{constructor(r,n,i){const s=`Expected amount of type [${n} with ${i} decimals] but got [${r.identifier} with ${r.decimals} decimals]. Ensure the provided Amount is of the expected type.`;super(s);Zn(this,"name","UnexpectedAmountError");this.amount=r,this.expectedIdentifier=n,this.expectedDecimals=i}}class L2e extends pl{constructor(r,n,i){const c=`The SDK tried to execute an operation${i?` [${i}]`:""} on two amounts of different types: [${r.identifier} with ${r.decimals} decimals] and [${n.identifier} with ${n.decimals} decimals]. Provide both amounts in the same type to perform this operation.`;super(c);Zn(this,"name","AmountMismatchError");this.left=r,this.right=n,this.operation=i}}const f3=(e,t,r)=>({basisPoints:zC(e),identifier:t,decimals:r}),X9=(e,t,r)=>{const n=f3(BigInt(10)**BigInt(r??0),t,r);return F2e(n,e)},e2t=(e,t=2)=>X9(e,"%",t),t2t=(e,t,r)=>X9(e,t??"splToken",r??0),Wm=e=>f3(e,"SOL",9),r2t=e=>X9(e,"SOL",9),n2t=e=>X9(e,"USD",2),qM=(e,t,r)=>e.identifier===t&&e.decimals===r,i2t=e=>qM(e,"SOL",9),B2e=(e,t)=>qM(e,t.identifier,t.decimals);function z2e(e,t,r){if(!qM(e,t,r))throw new $2e(e,t,r)}function a2t(e){z2e(e,"SOL",9)}function n4(e,t,r){if(!B2e(e,t))throw new L2e(e,t,r)}const o2t=(e,t)=>(n4(e,t,"add"),{...e,basisPoints:e.basisPoints+t.basisPoints}),N2e=(e,t)=>(n4(e,t,"subtract"),{...e,basisPoints:e.basisPoints-t.basisPoints}),F2e=(e,t)=>{if(typeof t=="bigint")return{...e,basisPoints:e.basisPoints*t};const[r,n]=t.toString().split("."),i=BigInt(r+(n??"")),s=BigInt(10)**BigInt((n==null?void 0:n.length)??0);return{...e,basisPoints:e.basisPoints*i/s}},s2t=(e,t)=>{if(typeof t=="bigint")return{...e,basisPoints:e.basisPoints/t};const[r,n]=t.toString().split("."),i=BigInt(r+(n??"")),s=BigInt(10)**BigInt((n==null?void 0:n.length)??0);return{...e,basisPoints:e.basisPoints*s/i}},j2e=e=>{const t=e.basisPoints;return{...e,basisPoints:t<0?-t:t}},Y9=(e,t)=>(n4(e,t,"compare"),e.basisPoints>t.basisPoints?1:e.basisPoints<t.basisPoints?-1:0),l2t=(e,t,r)=>{r=r??f3(0,e.identifier,e.decimals),n4(e,t,"isEqualToAmount"),n4(e,r,"isEqualToAmount");const n=j2e(N2e(e,t));return V2e(n,r)},u2t=(e,t)=>Y9(e,t)<0,V2e=(e,t)=>Y9(e,t)<=0,c2t=(e,t)=>Y9(e,t)>0,d2t=(e,t)=>Y9(e,t)>=0,U2e=e=>e.basisPoints===BigInt(0),f2t=e=>e.basisPoints>=BigInt(0),p2t=e=>e.basisPoints<BigInt(0),cG=(e,t)=>{let r=e.basisPoints.toString();if(e.decimals===0)return r;const n=r.startsWith("-")?"-":"";r=r.replace("-",""),r=r.padStart(e.decimals+1,"0");const i=r.slice(0,-e.decimals);let s=r.slice(-e.decimals);return t!==void 0&&(s=s.slice(0,t)),`${n+i}.${s}`},h2t=e=>parseFloat(cG(e)),m2t=(e,t)=>{const r=cG(e,t);switch(e.identifier){case"%":return`${r}%`;case"splToken":return/^1(\.0+)?$/.test(r)?`${r} Token`:`${r} Tokens`;default:if(e.identifier.startsWith("splToken.")){const[,n]=e.identifier.split(".");return`${n} ${r}`}return`${e.identifier} ${r}`}},g2t=(e,t,r)=>G9(e,n=>n.basisPoints>Number.MAX_SAFE_INTEGER?n.basisPoints:Number(n.basisPoints),n=>f3(n,t,r)),y2t=["api.mainnet-beta.solana.com","ssc-dao.genesysgo.net"],v2t=["api.devnet.solana.com","psytrbhymqlkfrhudd.dev.genesysgo.net"],_2t=["api.testnet.solana.com"],b2t=["localhost","127.0.0.1"],W2e=e=>{const t=new URL(e).hostname;return y2t.includes(t)?"mainnet-beta":v2t.includes(t)?"devnet":_2t.includes(t)?"testnet":b2t.includes(t)?"localnet":e.includes("mainnet")?"mainnet-beta":e.includes("devnet")?"devnet":e.includes("testnet")?"testnet":e.includes("local")?"localnet":"custom"};class Ih extends pl{constructor(r,n){const i=r.replace(/Interface$/,""),s=`Tried using ${r} but no implementation of that interface was found. Make sure an implementation is registered, e.g. via "context.${n} = new My${i}();".`;super(s);Zn(this,"name","InterfaceImplementationMissingError")}}function K2e(){const e=()=>{throw new Ih("DownloaderInterface","downloader")};return{download:e,downloadJson:e}}function H2e(){const e=()=>{throw new Ih("EddsaInterface","eddsa")};return{generateKeypair:e,createKeypairFromSecretKey:e,createKeypairFromSeed:e,isOnCurve:e,findPda:e,sign:e,verify:e}}function G2e(){return{send:()=>{throw new Ih("HttpInterface","http")}}}function q2e(){const e=()=>{throw new Ih("ProgramRepositoryInterface","programs")};return{has:e,get:e,getPublicKey:e,all:e,add:e,bind:e,unbind:e,clone:e,resolveError:e}}function Z2e(){const e=()=>{throw new Ih("RpcInterface","rpc")};return{getEndpoint:e,getCluster:e,getAccount:e,getAccounts:e,getProgramAccounts:e,getBlockTime:e,getBalance:e,getRent:e,getSlot:e,getLatestBlockhash:e,getTransaction:e,getSignatureStatuses:e,accountExists:e,airdrop:e,call:e,sendTransaction:e,confirmTransaction:e}}function X2e(){const e=()=>{throw new Ih("SerializerInterface","serializer")};return{tuple:e,array:e,map:e,set:e,option:e,nullable:e,struct:e,enum:e,dataEnum:e,string:e,bool:e,unit:e,u8:e,u16:e,u32:e,u64:e,u128:e,i8:e,i16:e,i32:e,i64:e,i128:e,f32:e,f64:e,bytes:e,publicKey:e}}const Y2e=(e,t)=>e.reduce((r,n,i)=>{const s=Math.floor(i/t);return r[s]||(r[s]=[]),r[s].push(n),r},[]),J2e=(e,t,r)=>e.map((n,i)=>r(n,(t==null?void 0:t[i])??null,i)),Q2e=(e,t)=>e.reduce((r,n)=>(r.some(i=>t(n,i))||r.push(n),r),[]),e6e=async(e,t)=>t.reduce(async(r,n)=>{const i=await r;return n.signTransaction(i)},Promise.resolve(e)),t6e=async e=>{const t=e.map(n=>n.transaction);return e.reduce((n,{signers:i},s)=>(i.forEach(c=>{const p=n.find(o=>o.signer.publicKey===c.publicKey);p?p.indices.push(s):n.push({signer:c,indices:[s]})}),n),[]).reduce(async(n,{signer:i,indices:s})=>{const c=await n;if(s.length===1){const g=c[s[0]];return c[s[0]]=await i.signTransaction(g),c}const p=s.map(g=>c[g]),o=await i.signAllTransactions(p);return s.forEach((g,y)=>{c[g]=o[y]}),c},Promise.resolve(t))},x2t=e=>typeof e=="object"&&"publicKey"in e&&"signMessage"in e,r6e=e=>Q2e(e,(t,r)=>t.publicKey===r.publicKey),w2t=e=>({publicKey:e,async signMessage(t){return t},async signTransaction(t){return t},async signAllTransactions(t){return t}});function kV(){const e=new Error("Trying to use a NullSigner. Did you forget to set a Signer on your Umi instance? See the `signerIdentity` method for more information."),t=()=>{throw e};return{get publicKey(){throw e},signMessage:t,signTransaction:t,signAllTransactions:t}}function n6e(){const e=()=>{throw new Ih("TransactionFactoryInterface","transactions")};return{create:e,serialize:e,deserialize:e,serializeMessage:e,deserializeMessage:e}}function i6e(){const e=()=>{throw new Ih("UploaderInterface","uploader")};return{upload:e,uploadJson:e,getUploadPrice:e}}const a6e=()=>({downloader:K2e(),eddsa:H2e(),http:G2e(),identity:kV(),payer:kV(),programs:q2e(),rpc:Z2e(),serializer:X2e(),transactions:n6e(),uploader:i6e()}),$8=e=>{if(typeof e=="string"||E2t(e)){const t=new Date(e),r=Math.floor(t.getTime()/1e3);return zC(r)}return zC(e)},S2t=()=>$8(new Date(Date.now())),E2t=e=>Object.prototype.toString.call(e)==="[object Date]",A2t=(e,t="en-US",r={month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})=>new Date(Number(e*1000n)).toLocaleDateString(t,r),T2t=e=>G9(e,t=>{const r=$8(t);return r>Number.MAX_SAFE_INTEGER?r:Number(r)},t=>$8(t)),o6e=(e=20,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")=>{let r="";const n=t.length;for(let i=0;i<e;i+=1)r+=t.charAt(Math.floor(Math.random()*n));return r},ZM=(e,t,r={})=>({buffer:typeof e=="string"?KM.serialize(e):e,fileName:t,displayName:r.displayName??t,uniqueName:r.uniqueName??o6e(),contentType:r.contentType??null,extension:r.extension??D2t(t),tags:r.tags??[]}),P2t=async(e,t={})=>ZM(new Uint8Array(await e.arrayBuffer()),e.name,t),C2t=(e,t="inline.json",r={})=>ZM(JSON.stringify(e),t,{contentType:"application/json",...r}),I2t=e=>new File([e.buffer],e.fileName),M2t=e=>JSON.parse(new TextDecoder().decode(e.buffer)),k2t=(...e)=>e.reduce((t,r)=>t+r.buffer.byteLength,0),O2t=e=>e!=null&&typeof e=="object"&&"buffer"in e&&"fileName"in e&&"displayName"in e&&"uniqueName"in e&&"contentType"in e&&"extension"in e&&"tags"in e,D2t=e=>{const t=e.lastIndexOf(".");return t<0?null:e.slice(t+1)};class wp{constructor(t,r,n={}){this.context=t,this.programId=r,this.options=n}reset(){return new wp(this.context,this.programId,{fields:this.options.fields,deserializeCallback:this.options.deserializeCallback})}registerFields(t){return new wp(this.context,this.programId,{...this.options,fields:t})}registerFieldsFromStruct(t){let r=0;const n=t.reduce((i,[s,c])=>(i[s]=[r,c],r=r===null||c.fixedSize===null?null:r+c.fixedSize,i),{});return this.registerFields(n)}deserializeUsing(t){return new wp(this.context,this.programId,{...this.options,deserializeCallback:t})}slice(t,r){return new wp(this.context,this.programId,{...this.options,dataSlice:{offset:t,length:r}})}sliceField(t,r){const[n,i]=this.getField(t,r);if(!i.fixedSize)throw new pl(`Cannot slice field [${t}] because its size is variable.`);return this.slice(n,i.fixedSize)}withoutData(){return this.slice(0,0)}addFilter(...t){return new wp(this.context,this.programId,{...this.options,filters:[...this.options.filters??[],...t]})}where(t,r){let n;return typeof r=="string"?n=K9.serialize(r):typeof r=="number"||typeof r=="bigint"||typeof r=="boolean"?n=rG.serialize(BigInt(r).toString()):n=new Uint8Array(r),this.addFilter({memcmp:{offset:t,bytes:n}})}whereField(t,r,n){const[i,s]=this.getField(t,n);return this.where(i,s.serialize(r))}whereSize(t){return this.addFilter({dataSize:t})}sortUsing(t){return new wp(this.context,this.programId,{...this.options,sortCallback:t})}async get(t={}){const r=await this.context.rpc.getProgramAccounts(this.programId,{...t,dataSlice:t.dataSlice??this.options.dataSlice,filters:[...t.filters??[],...this.options.filters??[]]});return this.options.sortCallback&&r.sort(this.options.sortCallback),r}async getAndMap(t,r={}){return(await this.get(r)).map(t)}async getDeserialized(t={}){const r=await this.get(t);return this.options.deserializeCallback?r.map(this.options.deserializeCallback):r}async getPublicKeys(t={}){return this.getAndMap(r=>r.publicKey,t)}async getDataAsPublicKeys(t={}){return this.getAndMap(r=>{try{return xf(r.data)}catch{const i=`Following a getProgramAccount call, you are trying to use an account's data (or a slice of it) as a public key. However, we encountered an account [${r.publicKey}] whose data [base64=${iG.deserialize(r.data)}] is not a valid public key.`;throw new pl(i)}},t)}getField(t,r){if(!this.options.fields)throw new pl("Fields are not defined in this GpaBuilder.");const n=this.options.fields[t];if(!n)throw new pl(`Field [${t}] is not defined in this GpaBuilder.`);const[i,s]=n;if(r!==void 0)return[r,s];if(i===null)throw new pl(`Field [${t}] does not have a fixed offset. This is likely because it is not in the fixed part of the account's data. In other words, it is located after a field of variable length which means we cannot find a fixed offset for the filter. You may go around this by providing an offset explicitly.`);return[i,s]}}const R2t=(e,t)=>new wp(e,t),OV=()=>new ef({method:"get",data:void 0,headers:{},url:""});class ef{constructor(t){this.request=t}asJson(){return this.contentType("application/json")}asMultipart(){return this.contentType("multipart/form-data")}asForm(){return this.contentType("application/x-www-form-urlencoded")}accept(t){return this.withHeader("accept",t)}contentType(t){return this.withHeader("content-type",t)}userAgent(t){return this.withHeader("user-agent",t)}withToken(t,r="Bearer"){return this.withHeader("authorization",`${r} ${t}`)}withHeader(t,r){return this.withHeaders({[t]:r})}withHeaders(t){return new ef({...this.request,headers:{...this.request.headers,...t}})}dontFollowRedirects(){return this.followRedirects(0)}followRedirects(t){return new ef({...this.request,maxRedirects:t})}withoutTimeout(){return this.withTimeout(0)}withTimeout(t){return new ef({...this.request,timeout:t})}withAbortSignal(t){return new ef({...this.request,signal:t})}withEndpoint(t,r){return new ef({...this.request,method:t,url:r})}withParams(t){const r=new URL(this.request.url),n=new URLSearchParams(t),i=new URLSearchParams(r.searchParams);return[...n.entries()].forEach(([s,c])=>{i.append(s,c)}),r.search=i.toString(),new ef({...this.request,url:r.toString()})}withData(t){return new ef({...this.request,data:t})}get(t){return this.withEndpoint("get",t)}post(t){return this.withEndpoint("post",t)}put(t){return this.withEndpoint("put",t)}patch(t){return this.withEndpoint("patch",t)}delete(t){return this.withEndpoint("delete",t)}get method(){return this.request.method}get url(){return this.request.url}get data(){return this.request.data}get headers(){return this.request.headers}get maxRedirects(){return this.request.maxRedirects}get timeout(){return this.request.timeout}get signal(){return this.request.signal}}const s6e=1232,l6e=(e,t,r)=>{const n=e.message.header.numRequiredSignatures,s=e.message.accounts.slice(0,n).findIndex(p=>p===r);if(s<0)throw new Error("The provided signer is not required to sign this transaction.");const c=[...e.signatures];return c[s]=t,{...e,signatures:c}},fx=e=>XM(e,e.eddsa.generateKeypair()),XM=(e,t)=>({publicKey:t.publicKey,secretKey:t.secretKey,async signMessage(r){return e.eddsa.sign(r,t)},async signTransaction(r){const n=r.serializedMessage,i=e.eddsa.sign(n,t);return l6e(r,i,t.publicKey)},async signAllTransactions(r){return Promise.all(r.map(n=>this.signTransaction(n)))}}),$2t=e=>e.secretKey!==void 0,L2t=e=>e instanceof Error&&"logs"in e,YM=(e,t=!0)=>({install(r){r.identity=e,t&&(r.payer=e)}}),dG=e=>({install(t){t.payer=e}}),B2t=(e=!0)=>({install(t){const r=fx(t);t.use(YM(r,e))}}),z2t=()=>({install(e){const t=fx(e);e.use(dG(t))}}),N2t=(e,t=!0)=>({install(r){const n=XM(r,e);r.use(YM(n,t))}}),F2t=e=>({install(t){const r=XM(t,e);t.use(dG(r))}});class ul{constructor(t=[],r={}){this.items=t,this.options=r}empty(){return new ul([],this.options)}setItems(t){return new ul(this.parseItems(t),this.options)}prepend(t){return new ul([...this.parseItems(t),...this.items],this.options)}append(t){return new ul([...this.items,...this.parseItems(t)],this.options)}add(t){return this.append(t)}mapInstructions(t){return new ul(this.items.map(t),this.options)}addRemainingAccounts(t,r){r=r??this.items.length-1;const n=Array.isArray(t)?t:[t],i=n.map(c=>"pubkey"in c?c:{pubkey:c.signer.publicKey,isSigner:!0,isWritable:c.isWritable}),s=n.flatMap(c=>"pubkey"in c?[]:[c.signer]);return this.mapInstructions((c,p)=>{if(p!==r)return c;const o=[...c.instruction.keys,...i];return{...c,instruction:{...c.instruction,keys:o},signers:[...c.signers,...s]}})}splitByIndex(t){return[new ul(this.items.slice(0,t),this.options),new ul(this.items.slice(t),this.options)]}unsafeSplitByTransactionSize(t){return this.items.reduce((r,n)=>{const i=r.pop(),s=i.add(n);return s.fitsInOneTransaction(t)?r.push(s):(r.push(i),r.push(i.empty().add(n))),r},[this.empty()])}setFeePayer(t){return new ul(this.items,{...this.options,feePayer:t})}getFeePayer(t){return this.options.feePayer??t.payer}setVersion(t){return new ul(this.items,{...this.options,version:t})}useLegacyVersion(){return this.setVersion("legacy")}useV0(){return this.setVersion(0)}setAddressLookupTables(t){return new ul(this.items,{...this.options,addressLookupTables:t})}getBlockhash(){return typeof this.options.blockhash=="object"?this.options.blockhash.blockhash:this.options.blockhash}setBlockhash(t){return new ul(this.items,{...this.options,blockhash:t})}async setLatestBlockhash(t,r={}){return this.setBlockhash(await t.rpc.getLatestBlockhash(r))}getInstructions(){return this.items.map(t=>t.instruction)}getSigners(t){return r6e([this.getFeePayer(t),...this.items.flatMap(r=>r.signers)])}getBytesCreatedOnChain(){return this.items.reduce((t,r)=>t+r.bytesCreatedOnChain,0)}async getRentCreatedOnChain(t){return t.rpc.getRent(this.getBytesCreatedOnChain(),{includesHeaderBytes:!0})}getTransactionSize(t){return t.transactions.serialize(this.setBlockhash("11111111111111111111111111111111").build(t)).length}minimumTransactionsRequired(t){return Math.ceil(this.getTransactionSize(t)/s6e)}fitsInOneTransaction(t){return this.minimumTransactionsRequired(t)===1}build(t){const r=this.getBlockhash();if(!r)throw new pl("Setting a blockhash is required to build a transaction. Please use the `setBlockhash` or `setLatestBlockhash` methods.");const n={version:this.options.version??0,payer:this.getFeePayer(t).publicKey,instructions:this.getInstructions(),blockhash:r};return n.version===0&&this.options.addressLookupTables&&(n.addressLookupTables=this.options.addressLookupTables),t.transactions.create(n)}async buildWithLatestBlockhash(t,r={}){let n=this;return this.options.blockhash||(n=await this.setLatestBlockhash(t,r)),n.build(t)}async buildAndSign(t){return e6e(await this.buildWithLatestBlockhash(t),this.getSigners(t))}async send(t,r={}){const n=await this.buildAndSign(t);return t.rpc.sendTransaction(n,r)}async confirm(t,r,n={}){let i=this;this.options.blockhash||(i=await this.setLatestBlockhash(t));let s;if(n.strategy)s=n.strategy;else{const c=typeof i.options.blockhash=="object"?i.options.blockhash:await t.rpc.getLatestBlockhash();s=n.strategy??{type:"blockhash",...c}}return t.rpc.confirmTransaction(r,{...n,strategy:s})}async sendAndConfirm(t,r={}){let n=this;this.options.blockhash||(n=await this.setLatestBlockhash(t));const i=await n.send(t,r.send),s=await n.confirm(t,i,r.confirm);return{signature:i,result:s}}parseItems(t){return(Array.isArray(t)?t:[t]).flatMap(r=>"items"in r?r.items:[r])}}const u6e=(e=[])=>new ul(e);class Sp{constructor(t=[],r={}){this.builders=t,this.options=r}prepend(t){const r=Array.isArray(t)?t:[t];return new Sp([...r,...this.builders],this.options)}append(t){const r=Array.isArray(t)?t:[t];return new Sp([...this.builders,...r],this.options)}add(t){return this.append(t)}sequential(){return new Sp(this.builders,{...this.options,parallel:!1})}parallel(){return new Sp(this.builders,{...this.options,parallel:!0})}isParallel(){return this.options.parallel??!1}merge(){return this.builders.length===0?new ul:this.builders.reduce((t,r)=>t.add(r),this.builders[0].empty())}build(t){return this.builders.map(r=>r.build(t))}async setLatestBlockhash(t){if(!this.builders.some(i=>!i.options.blockhash))return this;const n=await t.rpc.getLatestBlockhash();return this.map(i=>i.options.blockhash?i:i.setBlockhash(n))}async buildWithLatestBlockhash(t){return(await this.setLatestBlockhash(t)).build(t)}async buildAndSign(t){const r=await this.buildWithLatestBlockhash(t),n=this.builders.map(i=>i.getSigners(t));return t6e(J2e(r,n,(i,s)=>({transaction:i,signers:s??[]})))}async send(t,r={}){return this.runAll(await this.buildAndSign(t),async n=>t.rpc.sendTransaction(n,r))}async sendAndConfirm(t,r={}){var s,c,p;const n=(s=this.builders.find(o=>typeof o.options.blockhash=="object"))==null?void 0:s.options.blockhash;let i;if((c=r.confirm)!=null&&c.strategy)i=r.confirm.strategy;else{const o=n??await t.rpc.getLatestBlockhash();i=((p=r.confirm)==null?void 0:p.strategy)??{type:"blockhash",...o}}return this.runAll(await this.buildAndSign(t),async o=>{const g=await t.rpc.sendTransaction(o,r.send),y=await t.rpc.confirmTransaction(g,{...r.confirm,strategy:i});return{signature:g,result:y}})}map(t){return new Sp(this.builders.map(t))}filter(t){return new Sp(this.builders.filter(t))}async runAll(t,r){return this.isParallel()?Promise.all(t.map(r)):t.reduce(async(n,...i)=>[...await n,await r(...i)],Promise.resolve([]))}}function j2t(e=[]){return new Sp(e)}const c6e=()=>({...a6e(),use(e){return e.install(this),this}});class V2t extends pl{constructor(r,n,i){const s=`Expected a string of base ${n}, got [${r}].`;super(s,i);Zn(this,"name","InvalidBaseStringError")}}class d6e extends GM{constructor(r,n,i){super(r,"program",`${n.name} [${n.publicKey}]`,i);Zn(this,"name","ProgramError");this.program=n,this.logs=i==null?void 0:i.logs,this.logs&&(this.message+=`
Program Logs:
${this.logs.map(s=>`| ${s}`).join(`
`)}
`)}}const U2t=Object.freeze(Object.defineProperty({__proto__:null,ACCOUNT_HEADER_SIZE:R2e,AccountNotFoundError:D2e,AmountMismatchError:L2e,Endian:Ywt,GpaBuilder:wp,HttpRequestBuilder:ef,InterfaceImplementationMissingError:Ih,InvalidBaseStringError:V2t,InvalidPublicKeyError:d5,PUBLIC_KEY_LENGTH:D8,ProgramError:d6e,SdkError:pl,TRANSACTION_SIZE_LIMIT:s6e,TransactionBuilder:ul,TransactionBuilderGroup:Sp,UmiError:GM,UnexpectedAccountError:O2e,UnexpectedAmountError:$2e,absoluteAmount:j2e,addAmounts:o2t,addTransactionSignature:l6e,amountToNumber:h2t,amountToString:cG,assertAccountExists:Qwt,assertAmount:z2e,assertPublicKey:oG,assertSameAmounts:n4,assertSolAmount:a2t,base10:Kwt,base16:Gwt,base58:k2e,base58PublicKey:awt,base64:Hwt,baseX:Wwt,bitArray:qwt,chunk:Y2e,compareAmounts:Y9,createAmount:f3,createAmountFromDecimals:X9,createBigInt:zC,createBrowserFileFromGenericFile:I2t,createGenericFile:ZM,createGenericFileFromBrowserFile:P2t,createGenericFileFromJson:C2t,createNoopSigner:w2t,createNullContext:a6e,createNullDownloader:K2e,createNullEddsa:H2e,createNullHttp:G2e,createNullProgramRepository:q2e,createNullRpc:Z2e,createNullSerializer:X2e,createNullSigner:kV,createNullTransactionFactory:n6e,createNullUploader:i6e,createSignerFromKeypair:XM,createUmi:c6e,dateTime:$8,defaultPublicKey:rwt,deserializeAccount:Jwt,displayAmount:m2t,divideAmount:s2t,fixBytes:Vwt,fixSerializer:zwt,formatDateTime:A2t,generateRandomString:o6e,generateSigner:fx,generatedSignerIdentity:B2t,generatedSignerPayer:z2t,getBytesFromGenericFiles:k2t,gpaBuilder:R2t,isAmount:qM,isEqualToAmount:l2t,isErrorWithLogs:L2t,isGenericFile:O2t,isGreaterThanAmount:c2t,isGreaterThanOrEqualToAmount:d2t,isKeypairSigner:$2t,isLessThanAmount:u2t,isLessThanOrEqualToAmount:V2e,isNegativeAmount:p2t,isNone:J3t,isOption:tG,isPda:nwt,isPositiveAmount:f2t,isPublicKey:dx,isSigner:x2t,isSolAmount:i2t,isSome:x1,isZeroAmount:U2e,keypairIdentity:N2t,keypairPayer:F2t,lamports:Wm,mapAmountSerializer:g2t,mapDateTimeSerializer:T2t,mapSerializer:Bwt,mergeBytes:Fwt,multiplyAmount:F2e,none:LC,now:S2t,padBytes:jwt,padNullCharacters:Xwt,parseJsonFromGenericFile:M2t,percentAmount:e2t,publicKey:xf,publicKeyBytes:HM,removeNullCharacters:Zwt,request:OV,resolveClusterFromEndpoint:W2e,reverseSerializer:Nwt,sameAmounts:B2e,samePublicKey:owt,signAllTransactions:t6e,signTransaction:e6e,signerIdentity:YM,signerPayer:dG,sol:r2t,some:eG,subtractAmounts:N2e,tokenAmount:t2t,transactionBuilder:u6e,transactionBuilderGroup:j2t,uniqueBy:Q2e,uniquePublicKeys:iwt,uniqueSigners:r6e,unwrapOption:Q3t,unwrapOptionRecursively:MV,unwrapSome:ewt,unwrapSomeOrElse:twt,usd:n2t,utf8:Uwt,wrapNullable:_2e,zipMap:J2e},Symbol.toStringTag,{value:"Module"}));function W2t(e){const t=async(i,s={})=>{const c=await e.http.send(OV().get(i).withAbortSignal(s.signal));return ZM(c.body,i)};return{download:async(i,s={})=>Promise.all(i.map(c=>t(c,s))),downloadJson:async(i,s={})=>(await e.http.send(OV().get(i).withAbortSignal(s.signal))).data}}const K2t=()=>({install(e){e.downloader=W2t(e)}});function ff(e){return e.toBase58()}function ys(e){return new gn(e)}function ple(e){return new xN({keys:e.keys.map(t=>({...t,pubkey:ys(t.pubkey)})),programId:ys(e.programId),data:Qn.from(e.data)})}function zL(e){return{publicKey:ff(e.publicKey),secretKey:e.secretKey}}function fG(e){return{version:e.version,header:e.header,accounts:e.staticAccountKeys.map(ff),blockhash:e.recentBlockhash,instructions:e.compiledInstructions.map(t=>({programIndex:t.programIdIndex,accountIndexes:t.accountKeyIndexes,data:new Uint8Array(t.data)})),addressLookupTables:e.addressTableLookups.map(t=>({publicKey:ff(t.accountKey),writableIndexes:t.writableIndexes,readonlyIndexes:t.readonlyIndexes}))}}function H2t(e){return e.version==="legacy"?new vd({header:e.header,accountKeys:e.accounts.map(ys),recentBlockhash:e.blockhash,instructions:e.instructions.map(t=>({programIdIndex:t.programIndex,accounts:t.accountIndexes,data:k2e.deserialize(t.data)[0]}))}):new xy({header:e.header,staticAccountKeys:e.accounts.map(ys),recentBlockhash:e.blockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIndex,accountKeyIndexes:t.accountIndexes,data:t.data})),addressTableLookups:e.addressLookupTables.map(t=>({accountKey:ys(t.publicKey),writableIndexes:t.writableIndexes,readonlyIndexes:t.readonlyIndexes}))})}function G2t(e){var t;return e.version==="legacy"?vd.compile({payerKey:ys(e.payer),instructions:e.instructions.map(ple),recentBlockhash:e.blockhash}):xy.compile({payerKey:ys(e.payer),instructions:e.instructions.map(ple),recentBlockhash:e.blockhash,addressLookupTableAccounts:(t=e.addressLookupTables)==null?void 0:t.map(r=>new wN({key:ys(r.publicKey),state:{addresses:r.addresses.map(ys),authority:void 0,deactivationSlot:BigInt(`0x${"ff".repeat(8)}`),lastExtendedSlot:0,lastExtendedSlotStartIndex:0}}))})}function hle(e){return{message:fG(e.message),serializedMessage:e.message.serialize(),signatures:e.signatures}}function mle(e){return new wy(H2t(e.message),e.signatures)}function q2t(){return{generateKeypair:()=>zL(Wp.generate()),createKeypairFromSecretKey:p=>zL(Wp.fromSecretKey(p)),createKeypairFromSeed:p=>zL(Wp.fromSeed(p)),isOnCurve:p=>gn.isOnCurve(ys(xf(p))),findPda:(p,o)=>{const[g,y]=gn.findProgramAddressSync(o,ys(xf(p)));return[ff(g),y]},sign:(p,o)=>oh.sign(p,o.secretKey.slice(0,32)),verify:(p,o,g)=>oh.verify(o,p,HM(g))}}const Z2t=()=>({install(e){e.eddsa=q2t()}}),f6e=globalThis||void 0||self;var DV={exports:{}};typeof Object.create=="function"?DV.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:DV.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var Mh=DV.exports,p6e=kW.EventEmitter,vh={},h6e={},pG=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,r);if(c.value!==i||c.enumerable!==!0)return!1}return!0},X2t=pG,hG=function(){return X2t()&&!!Symbol.toStringTag},Y2t=Error,J2t=EvalError,Q2t=RangeError,e6t=ReferenceError,m6e=SyntaxError,JM=TypeError,t6t=URIError,gle=typeof Symbol<"u"&&Symbol,r6t=pG,n6t=function(){return typeof gle!="function"||typeof Symbol!="function"||typeof gle("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:r6t()},NL={__proto__:null,foo:{}},i6t=Object,a6t=function(){return{__proto__:NL}.foo===NL.foo&&!(NL instanceof i6t)},o6t="Function.prototype.bind called on incompatible ",s6t=Object.prototype.toString,l6t=Math.max,u6t="[object Function]",yle=function(t,r){for(var n=[],i=0;i<t.length;i+=1)n[i]=t[i];for(var s=0;s<r.length;s+=1)n[s+t.length]=r[s];return n},c6t=function(t,r){for(var n=[],i=r,s=0;i<t.length;i+=1,s+=1)n[s]=t[i];return n},d6t=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},f6t=function(t){var r=this;if(typeof r!="function"||s6t.apply(r)!==u6t)throw new TypeError(o6t+r);for(var n=c6t(arguments,1),i,s=function(){if(this instanceof i){var y=r.apply(this,yle(n,arguments));return Object(y)===y?y:this}return r.apply(t,yle(n,arguments))},c=l6t(0,r.length-n.length),p=[],o=0;o<c;o++)p[o]="$"+o;if(i=Function("binder","return function ("+d6t(p,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var g=function(){};g.prototype=r.prototype,i.prototype=new g,g.prototype=null}return i},p6t=f6t,mG=Function.prototype.bind||p6t,h6t=Function.prototype.call,m6t=Object.prototype.hasOwnProperty,g6t=mG,y6t=g6t.call(h6t,m6t),vi,v6t=Y2t,_6t=J2t,b6t=Q2t,x6t=e6t,i4=m6e,px=JM,w6t=t6t,g6e=Function,FL=function(e){try{return g6e('"use strict"; return ('+e+").constructor;")()}catch{}},dy=Object.getOwnPropertyDescriptor;if(dy)try{dy({},"")}catch{dy=null}var jL=function(){throw new px},S6t=dy?function(){try{return arguments.callee,jL}catch{try{return dy(arguments,"callee").get}catch{return jL}}}():jL,K_=n6t(),E6t=a6t(),Go=Object.getPrototypeOf||(E6t?function(e){return e.__proto__}:null),fb={},A6t=typeof Uint8Array>"u"||!Go?vi:Go(Uint8Array),fy={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?vi:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?vi:ArrayBuffer,"%ArrayIteratorPrototype%":K_&&Go?Go([][Symbol.iterator]()):vi,"%AsyncFromSyncIteratorPrototype%":vi,"%AsyncFunction%":fb,"%AsyncGenerator%":fb,"%AsyncGeneratorFunction%":fb,"%AsyncIteratorPrototype%":fb,"%Atomics%":typeof Atomics>"u"?vi:Atomics,"%BigInt%":typeof BigInt>"u"?vi:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?vi:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?vi:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?vi:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":v6t,"%eval%":eval,"%EvalError%":_6t,"%Float32Array%":typeof Float32Array>"u"?vi:Float32Array,"%Float64Array%":typeof Float64Array>"u"?vi:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?vi:FinalizationRegistry,"%Function%":g6e,"%GeneratorFunction%":fb,"%Int8Array%":typeof Int8Array>"u"?vi:Int8Array,"%Int16Array%":typeof Int16Array>"u"?vi:Int16Array,"%Int32Array%":typeof Int32Array>"u"?vi:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":K_&&Go?Go(Go([][Symbol.iterator]())):vi,"%JSON%":typeof JSON=="object"?JSON:vi,"%Map%":typeof Map>"u"?vi:Map,"%MapIteratorPrototype%":typeof Map>"u"||!K_||!Go?vi:Go(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?vi:Promise,"%Proxy%":typeof Proxy>"u"?vi:Proxy,"%RangeError%":b6t,"%ReferenceError%":x6t,"%Reflect%":typeof Reflect>"u"?vi:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?vi:Set,"%SetIteratorPrototype%":typeof Set>"u"||!K_||!Go?vi:Go(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?vi:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":K_&&Go?Go(""[Symbol.iterator]()):vi,"%Symbol%":K_?Symbol:vi,"%SyntaxError%":i4,"%ThrowTypeError%":S6t,"%TypedArray%":A6t,"%TypeError%":px,"%Uint8Array%":typeof Uint8Array>"u"?vi:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?vi:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?vi:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?vi:Uint32Array,"%URIError%":w6t,"%WeakMap%":typeof WeakMap>"u"?vi:WeakMap,"%WeakRef%":typeof WeakRef>"u"?vi:WeakRef,"%WeakSet%":typeof WeakSet>"u"?vi:WeakSet};if(Go)try{null.error}catch(e){var T6t=Go(Go(e));fy["%Error.prototype%"]=T6t}var P6t=function e(t){var r;if(t==="%AsyncFunction%")r=FL("async function () {}");else if(t==="%GeneratorFunction%")r=FL("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=FL("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&Go&&(r=Go(i.prototype))}return fy[t]=r,r},vle={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},J9=mG,NC=y6t,C6t=J9.call(Function.call,Array.prototype.concat),I6t=J9.call(Function.apply,Array.prototype.splice),_le=J9.call(Function.call,String.prototype.replace),FC=J9.call(Function.call,String.prototype.slice),M6t=J9.call(Function.call,RegExp.prototype.exec),k6t=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O6t=/\\(\\)?/g,D6t=function(t){var r=FC(t,0,1),n=FC(t,-1);if(r==="%"&&n!=="%")throw new i4("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new i4("invalid intrinsic syntax, expected opening `%`");var i=[];return _le(t,k6t,function(s,c,p,o){i[i.length]=p?_le(o,O6t,"$1"):c||s}),i},R6t=function(t,r){var n=t,i;if(NC(vle,n)&&(i=vle[n],n="%"+i[0]+"%"),NC(fy,n)){var s=fy[n];if(s===fb&&(s=P6t(n)),typeof s>"u"&&!r)throw new px("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new i4("intrinsic "+t+" does not exist!")},Q9=function(t,r){if(typeof t!="string"||t.length===0)throw new px("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new px('"allowMissing" argument must be a boolean');if(M6t(/^%?[^%]*%?$/,t)===null)throw new i4("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=D6t(t),i=n.length>0?n[0]:"",s=R6t("%"+i+"%",r),c=s.name,p=s.value,o=!1,g=s.alias;g&&(i=g[0],I6t(n,C6t([0,1],g)));for(var y=1,x=!0;y<n.length;y+=1){var E=n[y],A=FC(E,0,1),M=FC(E,-1);if((A==='"'||A==="'"||A==="`"||M==='"'||M==="'"||M==="`")&&A!==M)throw new i4("property names with quotes must have matching quotes");if((E==="constructor"||!x)&&(o=!0),i+="."+E,c="%"+i+"%",NC(fy,c))p=fy[c];else if(p!=null){if(!(E in p)){if(!r)throw new px("base intrinsic for "+t+" exists, but the property is not available.");return}if(dy&&y+1>=n.length){var R=dy(p,E);x=!!R,x&&"get"in R&&!("originalValue"in R.get)?p=R.get:p=p[E]}else x=NC(p,E),p=p[E];x&&!o&&(fy[c]=p)}}return p},y6e={exports:{}},VL,ble;function gG(){if(ble)return VL;ble=1;var e=Q9,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return VL=t,VL}var $6t=Q9,bT=$6t("%Object.getOwnPropertyDescriptor%",!0);if(bT)try{bT([],"length")}catch{bT=null}var yG=bT,xle=gG(),L6t=m6e,H_=JM,wle=yG,v6e=function(t,r,n){if(!t||typeof t!="object"&&typeof t!="function")throw new H_("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new H_("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new H_("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new H_("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new H_("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new H_("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,p=arguments.length>6?arguments[6]:!1,o=!!wle&&wle(t,r);if(xle)xle(t,r,{configurable:c===null&&o?o.configurable:!c,enumerable:i===null&&o?o.enumerable:!i,value:n,writable:s===null&&o?o.writable:!s});else if(p||!i&&!s&&!c)t[r]=n;else throw new L6t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},RV=gG(),_6e=function(){return!!RV};_6e.hasArrayLengthDefineBug=function(){if(!RV)return null;try{return RV([],"length",{value:1}).length!==1}catch{return!0}};var b6e=_6e,B6t=Q9,Sle=v6e,z6t=b6e(),Ele=yG,Ale=JM,N6t=B6t("%Math.floor%"),F6t=function(t,r){if(typeof t!="function")throw new Ale("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||N6t(r)!==r)throw new Ale("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in t&&Ele){var c=Ele(t,"length");c&&!c.configurable&&(i=!1),c&&!c.writable&&(s=!1)}return(i||s||!n)&&(z6t?Sle(t,"length",r,!0,!0):Sle(t,"length",r)),t};(function(e){var t=mG,r=Q9,n=F6t,i=JM,s=r("%Function.prototype.apply%"),c=r("%Function.prototype.call%"),p=r("%Reflect.apply%",!0)||t.call(c,s),o=gG(),g=r("%Math.max%");e.exports=function(E){if(typeof E!="function")throw new i("a function is required");var A=p(t,c,arguments);return n(A,1+g(0,E.length-(arguments.length-1)),!0)};var y=function(){return p(t,s,arguments)};o?o(e.exports,"apply",{value:y}):e.exports.apply=y})(y6e);var QM=y6e.exports,x6e=Q9,w6e=QM,j6t=w6e(x6e("String.prototype.indexOf")),ek=function(t,r){var n=x6e(t,!!r);return typeof n=="function"&&j6t(t,".prototype.")>-1?w6e(n):n},V6t=hG(),U6t=ek,$V=U6t("Object.prototype.toString"),tk=function(t){return V6t&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:$V(t)==="[object Arguments]"},S6e=function(t){return tk(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&$V(t)!=="[object Array]"&&$V(t.callee)==="[object Function]"},W6t=function(){return tk(arguments)}();tk.isLegacyArguments=S6e;var K6t=W6t?tk:S6e,H6t=Object.prototype.toString,G6t=Function.prototype.toString,q6t=/^\s*(?:function)?\*/,E6e=hG(),UL=Object.getPrototypeOf,Z6t=function(){if(!E6e)return!1;try{return Function("return function*() {}")()}catch{}},WL,X6t=function(t){if(typeof t!="function")return!1;if(q6t.test(G6t.call(t)))return!0;if(!E6e){var r=H6t.call(t);return r==="[object GeneratorFunction]"}if(!UL)return!1;if(typeof WL>"u"){var n=Z6t();WL=n?UL(n):!1}return UL(t)===WL},A6e=Function.prototype.toString,Ub=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,LV,xT;if(typeof Ub=="function"&&typeof Object.defineProperty=="function")try{LV=Object.defineProperty({},"length",{get:function(){throw xT}}),xT={},Ub(function(){throw 42},null,LV)}catch(e){e!==xT&&(Ub=null)}else Ub=null;var Y6t=/^\s*class\b/,BV=function(t){try{var r=A6e.call(t);return Y6t.test(r)}catch{return!1}},KL=function(t){try{return BV(t)?!1:(A6e.call(t),!0)}catch{return!1}},wT=Object.prototype.toString,J6t="[object Object]",Q6t="[object Function]",e5t="[object GeneratorFunction]",t5t="[object HTMLAllCollection]",r5t="[object HTML document.all class]",n5t="[object HTMLCollection]",i5t=typeof Symbol=="function"&&!!Symbol.toStringTag,a5t=!(0 in[,]),zV=function(){return!1};if(typeof document=="object"){var o5t=document.all;wT.call(o5t)===wT.call(document.all)&&(zV=function(t){if((a5t||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=wT.call(t);return(r===t5t||r===r5t||r===n5t||r===J6t)&&t("")==null}catch{}return!1})}var s5t=Ub?function(t){if(zV(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Ub(t,null,LV)}catch(r){if(r!==xT)return!1}return!BV(t)&&KL(t)}:function(t){if(zV(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(i5t)return KL(t);if(BV(t))return!1;var r=wT.call(t);return r!==Q6t&&r!==e5t&&!/^\[object HTML/.test(r)?!1:KL(t)},l5t=s5t,u5t=Object.prototype.toString,T6e=Object.prototype.hasOwnProperty,c5t=function(t,r,n){for(var i=0,s=t.length;i<s;i++)T6e.call(t,i)&&(n==null?r(t[i],i,t):r.call(n,t[i],i,t))},d5t=function(t,r,n){for(var i=0,s=t.length;i<s;i++)n==null?r(t.charAt(i),i,t):r.call(n,t.charAt(i),i,t)},f5t=function(t,r,n){for(var i in t)T6e.call(t,i)&&(n==null?r(t[i],i,t):r.call(n,t[i],i,t))},p5t=function(t,r,n){if(!l5t(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),u5t.call(t)==="[object Array]"?c5t(t,r,i):typeof t=="string"?d5t(t,r,i):f5t(t,r,i)},h5t=p5t,m5t=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],HL=m5t,g5t=typeof globalThis>"u"?Er:globalThis,y5t=function(){for(var t=[],r=0;r<HL.length;r++)typeof g5t[HL[r]]=="function"&&(t[t.length]=HL[r]);return t},jC=h5t,v5t=y5t,Tle=QM,vG=ek,ST=yG,_5t=vG("Object.prototype.toString"),P6e=hG(),Ple=typeof globalThis>"u"?Er:globalThis,NV=v5t(),_G=vG("String.prototype.slice"),GL=Object.getPrototypeOf,b5t=vG("Array.prototype.indexOf",!0)||function(t,r){for(var n=0;n<t.length;n+=1)if(t[n]===r)return n;return-1},VC={__proto__:null};P6e&&ST&&GL?jC(NV,function(e){var t=new Ple[e];if(Symbol.toStringTag in t){var r=GL(t),n=ST(r,Symbol.toStringTag);if(!n){var i=GL(r);n=ST(i,Symbol.toStringTag)}VC["$"+e]=Tle(n.get)}}):jC(NV,function(e){var t=new Ple[e],r=t.slice||t.set;r&&(VC["$"+e]=Tle(r))});var x5t=function(t){var r=!1;return jC(VC,function(n,i){if(!r)try{"$"+n(t)===i&&(r=_G(i,1))}catch{}}),r},w5t=function(t){var r=!1;return jC(VC,function(n,i){if(!r)try{n(t),r=_G(i,1)}catch{}}),r},C6e=function(t){if(!t||typeof t!="object")return!1;if(!P6e){var r=_G(_5t(t),8,-1);return b5t(NV,r)>-1?r:r!=="Object"?!1:w5t(t)}return ST?x5t(t):null},S5t=C6e,E5t=function(t){return!!S5t(t)};(function(e){var t=K6t,r=X6t,n=C6e,i=E5t;function s(Bt){return Bt.call.bind(Bt)}var c=typeof BigInt<"u",p=typeof Symbol<"u",o=s(Object.prototype.toString),g=s(Number.prototype.valueOf),y=s(String.prototype.valueOf),x=s(Boolean.prototype.valueOf);if(c)var E=s(BigInt.prototype.valueOf);if(p)var A=s(Symbol.prototype.valueOf);function M(Bt,tr){if(typeof Bt!="object")return!1;try{return tr(Bt),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function R(Bt){return typeof Promise<"u"&&Bt instanceof Promise||Bt!==null&&typeof Bt=="object"&&typeof Bt.then=="function"&&typeof Bt.catch=="function"}e.isPromise=R;function k(Bt){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Bt):i(Bt)||de(Bt)}e.isArrayBufferView=k;function D(Bt){return n(Bt)==="Uint8Array"}e.isUint8Array=D;function $(Bt){return n(Bt)==="Uint8ClampedArray"}e.isUint8ClampedArray=$;function B(Bt){return n(Bt)==="Uint16Array"}e.isUint16Array=B;function V(Bt){return n(Bt)==="Uint32Array"}e.isUint32Array=V;function U(Bt){return n(Bt)==="Int8Array"}e.isInt8Array=U;function Z(Bt){return n(Bt)==="Int16Array"}e.isInt16Array=Z;function ne(Bt){return n(Bt)==="Int32Array"}e.isInt32Array=ne;function j(Bt){return n(Bt)==="Float32Array"}e.isFloat32Array=j;function fe(Bt){return n(Bt)==="Float64Array"}e.isFloat64Array=fe;function be(Bt){return n(Bt)==="BigInt64Array"}e.isBigInt64Array=be;function pe(Bt){return n(Bt)==="BigUint64Array"}e.isBigUint64Array=pe;function le(Bt){return o(Bt)==="[object Map]"}le.working=typeof Map<"u"&&le(new Map);function G(Bt){return typeof Map>"u"?!1:le.working?le(Bt):Bt instanceof Map}e.isMap=G;function N(Bt){return o(Bt)==="[object Set]"}N.working=typeof Set<"u"&&N(new Set);function Y(Bt){return typeof Set>"u"?!1:N.working?N(Bt):Bt instanceof Set}e.isSet=Y;function te(Bt){return o(Bt)==="[object WeakMap]"}te.working=typeof WeakMap<"u"&&te(new WeakMap);function re(Bt){return typeof WeakMap>"u"?!1:te.working?te(Bt):Bt instanceof WeakMap}e.isWeakMap=re;function he(Bt){return o(Bt)==="[object WeakSet]"}he.working=typeof WeakSet<"u"&&he(new WeakSet);function we(Bt){return he(Bt)}e.isWeakSet=we;function ye(Bt){return o(Bt)==="[object ArrayBuffer]"}ye.working=typeof ArrayBuffer<"u"&&ye(new ArrayBuffer);function ue(Bt){return typeof ArrayBuffer>"u"?!1:ye.working?ye(Bt):Bt instanceof ArrayBuffer}e.isArrayBuffer=ue;function J(Bt){return o(Bt)==="[object DataView]"}J.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&J(new DataView(new ArrayBuffer(1),0,1));function de(Bt){return typeof DataView>"u"?!1:J.working?J(Bt):Bt instanceof DataView}e.isDataView=de;var ke=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Oe(Bt){return o(Bt)==="[object SharedArrayBuffer]"}function Se(Bt){return typeof ke>"u"?!1:(typeof Oe.working>"u"&&(Oe.working=Oe(new ke)),Oe.working?Oe(Bt):Bt instanceof ke)}e.isSharedArrayBuffer=Se;function We(Bt){return o(Bt)==="[object AsyncFunction]"}e.isAsyncFunction=We;function Je(Bt){return o(Bt)==="[object Map Iterator]"}e.isMapIterator=Je;function $e(Bt){return o(Bt)==="[object Set Iterator]"}e.isSetIterator=$e;function ft(Bt){return o(Bt)==="[object Generator]"}e.isGeneratorObject=ft;function Me(Bt){return o(Bt)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=Me;function Te(Bt){return M(Bt,g)}e.isNumberObject=Te;function Le(Bt){return M(Bt,y)}e.isStringObject=Le;function Ne(Bt){return M(Bt,x)}e.isBooleanObject=Ne;function At(Bt){return c&&M(Bt,E)}e.isBigIntObject=At;function Ct(Bt){return p&&M(Bt,A)}e.isSymbolObject=Ct;function Lt(Bt){return Te(Bt)||Le(Bt)||Ne(Bt)||At(Bt)||Ct(Bt)}e.isBoxedPrimitive=Lt;function sr(Bt){return typeof Uint8Array<"u"&&(ue(Bt)||Se(Bt))}e.isAnyArrayBuffer=sr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Bt){Object.defineProperty(e,Bt,{enumerable:!1,value:function(){throw new Error(Bt+" is not supported in userland")}})})})(h6e);var A5t=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"};(function(e){var t={},r=Object.getOwnPropertyDescriptors||function(ke){for(var Oe=Object.keys(ke),Se={},We=0;We<Oe.length;We++)Se[Oe[We]]=Object.getOwnPropertyDescriptor(ke,Oe[We]);return Se},n=/%[sdj%]/g;e.format=function(de){if(!Z(de)){for(var ke=[],Oe=0;Oe<arguments.length;Oe++)ke.push(p(arguments[Oe]));return ke.join(" ")}for(var Oe=1,Se=arguments,We=Se.length,Je=String(de).replace(n,function(ft){if(ft==="%%")return"%";if(Oe>=We)return ft;switch(ft){case"%s":return String(Se[Oe++]);case"%d":return Number(Se[Oe++]);case"%j":try{return JSON.stringify(Se[Oe++])}catch{return"[Circular]"}default:return ft}}),$e=Se[Oe];Oe<We;$e=Se[++Oe])B($e)||!be($e)?Je+=" "+$e:Je+=" "+p($e);return Je},e.deprecate=function(de,ke){if(typeof mn<"u"&&mn.noDeprecation===!0)return de;if(typeof mn>"u")return function(){return e.deprecate(de,ke).apply(this,arguments)};var Oe=!1;function Se(){if(!Oe){if(mn.throwDeprecation)throw new Error(ke);mn.traceDeprecation?console.trace(ke):console.error(ke),Oe=!0}return de.apply(this,arguments)}return Se};var i={},s=/^$/;if(t.NODE_DEBUG){var c=t.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+c+"$","i")}e.debuglog=function(de){if(de=de.toUpperCase(),!i[de])if(s.test(de)){var ke=mn.pid;i[de]=function(){var Oe=e.format.apply(e,arguments);console.error("%s %d: %s",de,ke,Oe)}}else i[de]=function(){};return i[de]};function p(de,ke){var Oe={seen:[],stylize:g};return arguments.length>=3&&(Oe.depth=arguments[2]),arguments.length>=4&&(Oe.colors=arguments[3]),$(ke)?Oe.showHidden=ke:ke&&e._extend(Oe,ke),j(Oe.showHidden)&&(Oe.showHidden=!1),j(Oe.depth)&&(Oe.depth=2),j(Oe.colors)&&(Oe.colors=!1),j(Oe.customInspect)&&(Oe.customInspect=!0),Oe.colors&&(Oe.stylize=o),x(Oe,de,Oe.depth)}e.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(de,ke){var Oe=p.styles[ke];return Oe?"\x1B["+p.colors[Oe][0]+"m"+de+"\x1B["+p.colors[Oe][1]+"m":de}function g(de,ke){return de}function y(de){var ke={};return de.forEach(function(Oe,Se){ke[Oe]=!0}),ke}function x(de,ke,Oe){if(de.customInspect&&ke&&G(ke.inspect)&&ke.inspect!==e.inspect&&!(ke.constructor&&ke.constructor.prototype===ke)){var Se=ke.inspect(Oe,de);return Z(Se)||(Se=x(de,Se,Oe)),Se}var We=E(de,ke);if(We)return We;var Je=Object.keys(ke),$e=y(Je);if(de.showHidden&&(Je=Object.getOwnPropertyNames(ke)),le(ke)&&(Je.indexOf("message")>=0||Je.indexOf("description")>=0))return A(ke);if(Je.length===0){if(G(ke)){var ft=ke.name?": "+ke.name:"";return de.stylize("[Function"+ft+"]","special")}if(fe(ke))return de.stylize(RegExp.prototype.toString.call(ke),"regexp");if(pe(ke))return de.stylize(Date.prototype.toString.call(ke),"date");if(le(ke))return A(ke)}var Me="",Te=!1,Le=["{","}"];if(D(ke)&&(Te=!0,Le=["[","]"]),G(ke)){var Ne=ke.name?": "+ke.name:"";Me=" [Function"+Ne+"]"}if(fe(ke)&&(Me=" "+RegExp.prototype.toString.call(ke)),pe(ke)&&(Me=" "+Date.prototype.toUTCString.call(ke)),le(ke)&&(Me=" "+A(ke)),Je.length===0&&(!Te||ke.length==0))return Le[0]+Me+Le[1];if(Oe<0)return fe(ke)?de.stylize(RegExp.prototype.toString.call(ke),"regexp"):de.stylize("[Object]","special");de.seen.push(ke);var At;return Te?At=M(de,ke,Oe,$e,Je):At=Je.map(function(Ct){return R(de,ke,Oe,$e,Ct,Te)}),de.seen.pop(),k(At,Me,Le)}function E(de,ke){if(j(ke))return de.stylize("undefined","undefined");if(Z(ke)){var Oe="'"+JSON.stringify(ke).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return de.stylize(Oe,"string")}if(U(ke))return de.stylize(""+ke,"number");if($(ke))return de.stylize(""+ke,"boolean");if(B(ke))return de.stylize("null","null")}function A(de){return"["+Error.prototype.toString.call(de)+"]"}function M(de,ke,Oe,Se,We){for(var Je=[],$e=0,ft=ke.length;$e<ft;++$e)we(ke,String($e))?Je.push(R(de,ke,Oe,Se,String($e),!0)):Je.push("");return We.forEach(function(Me){Me.match(/^\d+$/)||Je.push(R(de,ke,Oe,Se,Me,!0))}),Je}function R(de,ke,Oe,Se,We,Je){var $e,ft,Me;if(Me=Object.getOwnPropertyDescriptor(ke,We)||{value:ke[We]},Me.get?Me.set?ft=de.stylize("[Getter/Setter]","special"):ft=de.stylize("[Getter]","special"):Me.set&&(ft=de.stylize("[Setter]","special")),we(Se,We)||($e="["+We+"]"),ft||(de.seen.indexOf(Me.value)<0?(B(Oe)?ft=x(de,Me.value,null):ft=x(de,Me.value,Oe-1),ft.indexOf(`
`)>-1&&(Je?ft=ft.split(`
`).map(function(Te){return"  "+Te}).join(`
`).slice(2):ft=`
`+ft.split(`
`).map(function(Te){return"   "+Te}).join(`
`))):ft=de.stylize("[Circular]","special")),j($e)){if(Je&&We.match(/^\d+$/))return ft;$e=JSON.stringify(""+We),$e.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?($e=$e.slice(1,-1),$e=de.stylize($e,"name")):($e=$e.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),$e=de.stylize($e,"string"))}return $e+": "+ft}function k(de,ke,Oe){var Se=de.reduce(function(We,Je){return Je.indexOf(`
`)>=0,We+Je.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Se>60?Oe[0]+(ke===""?"":ke+`
 `)+" "+de.join(`,
  `)+" "+Oe[1]:Oe[0]+ke+" "+de.join(", ")+" "+Oe[1]}e.types=h6e;function D(de){return Array.isArray(de)}e.isArray=D;function $(de){return typeof de=="boolean"}e.isBoolean=$;function B(de){return de===null}e.isNull=B;function V(de){return de==null}e.isNullOrUndefined=V;function U(de){return typeof de=="number"}e.isNumber=U;function Z(de){return typeof de=="string"}e.isString=Z;function ne(de){return typeof de=="symbol"}e.isSymbol=ne;function j(de){return de===void 0}e.isUndefined=j;function fe(de){return be(de)&&Y(de)==="[object RegExp]"}e.isRegExp=fe,e.types.isRegExp=fe;function be(de){return typeof de=="object"&&de!==null}e.isObject=be;function pe(de){return be(de)&&Y(de)==="[object Date]"}e.isDate=pe,e.types.isDate=pe;function le(de){return be(de)&&(Y(de)==="[object Error]"||de instanceof Error)}e.isError=le,e.types.isNativeError=le;function G(de){return typeof de=="function"}e.isFunction=G;function N(de){return de===null||typeof de=="boolean"||typeof de=="number"||typeof de=="string"||typeof de=="symbol"||typeof de>"u"}e.isPrimitive=N,e.isBuffer=A5t;function Y(de){return Object.prototype.toString.call(de)}function te(de){return de<10?"0"+de.toString(10):de.toString(10)}var re=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function he(){var de=new Date,ke=[te(de.getHours()),te(de.getMinutes()),te(de.getSeconds())].join(":");return[de.getDate(),re[de.getMonth()],ke].join(" ")}e.log=function(){console.log("%s - %s",he(),e.format.apply(e,arguments))},e.inherits=Mh,e._extend=function(de,ke){if(!ke||!be(ke))return de;for(var Oe=Object.keys(ke),Se=Oe.length;Se--;)de[Oe[Se]]=ke[Oe[Se]];return de};function we(de,ke){return Object.prototype.hasOwnProperty.call(de,ke)}var ye=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(ke){if(typeof ke!="function")throw new TypeError('The "original" argument must be of type Function');if(ye&&ke[ye]){var Oe=ke[ye];if(typeof Oe!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Oe,ye,{value:Oe,enumerable:!1,writable:!1,configurable:!0}),Oe}function Oe(){for(var Se,We,Je=new Promise(function(Me,Te){Se=Me,We=Te}),$e=[],ft=0;ft<arguments.length;ft++)$e.push(arguments[ft]);$e.push(function(Me,Te){Me?We(Me):Se(Te)});try{ke.apply(this,$e)}catch(Me){We(Me)}return Je}return Object.setPrototypeOf(Oe,Object.getPrototypeOf(ke)),ye&&Object.defineProperty(Oe,ye,{value:Oe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Oe,r(ke))},e.promisify.custom=ye;function ue(de,ke){if(!de){var Oe=new Error("Promise was rejected with a falsy value");Oe.reason=de,de=Oe}return ke(de)}function J(de){if(typeof de!="function")throw new TypeError('The "original" argument must be of type Function');function ke(){for(var Oe=[],Se=0;Se<arguments.length;Se++)Oe.push(arguments[Se]);var We=Oe.pop();if(typeof We!="function")throw new TypeError("The last argument must be of type Function");var Je=this,$e=function(){return We.apply(Je,arguments)};de.apply(this,Oe).then(function(ft){mn.nextTick($e.bind(null,null,ft))},function(ft){mn.nextTick(ue.bind(null,ft,$e))})}return Object.setPrototypeOf(ke,Object.getPrototypeOf(de)),Object.defineProperties(ke,r(de)),ke}e.callbackify=J})(vh);var qL,Cle;function T5t(){if(Cle)return qL;Cle=1;function e(M,R){var k=Object.keys(M);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(M);R&&(D=D.filter(function($){return Object.getOwnPropertyDescriptor(M,$).enumerable})),k.push.apply(k,D)}return k}function t(M){for(var R=1;R<arguments.length;R++){var k=arguments[R]!=null?arguments[R]:{};R%2?e(Object(k),!0).forEach(function(D){r(M,D,k[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(k)):e(Object(k)).forEach(function(D){Object.defineProperty(M,D,Object.getOwnPropertyDescriptor(k,D))})}return M}function r(M,R,k){return R=c(R),R in M?Object.defineProperty(M,R,{value:k,enumerable:!0,configurable:!0,writable:!0}):M[R]=k,M}function n(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}function i(M,R){for(var k=0;k<R.length;k++){var D=R[k];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(M,c(D.key),D)}}function s(M,R,k){return R&&i(M.prototype,R),Object.defineProperty(M,"prototype",{writable:!1}),M}function c(M){var R=p(M,"string");return typeof R=="symbol"?R:String(R)}function p(M,R){if(typeof M!="object"||M===null)return M;var k=M[Symbol.toPrimitive];if(k!==void 0){var D=k.call(M,R||"default");if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(M)}var o=M1,g=o.Buffer,y=vh,x=y.inspect,E=x&&x.custom||"inspect";function A(M,R,k){g.prototype.copy.call(M,R,k)}return qL=function(){function M(){n(this,M),this.head=null,this.tail=null,this.length=0}return s(M,[{key:"push",value:function(k){var D={data:k,next:null};this.length>0?this.tail.next=D:this.head=D,this.tail=D,++this.length}},{key:"unshift",value:function(k){var D={data:k,next:this.head};this.length===0&&(this.tail=D),this.head=D,++this.length}},{key:"shift",value:function(){if(this.length!==0){var k=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,k}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(k){if(this.length===0)return"";for(var D=this.head,$=""+D.data;D=D.next;)$+=k+D.data;return $}},{key:"concat",value:function(k){if(this.length===0)return g.alloc(0);for(var D=g.allocUnsafe(k>>>0),$=this.head,B=0;$;)A($.data,D,B),B+=$.data.length,$=$.next;return D}},{key:"consume",value:function(k,D){var $;return k<this.head.data.length?($=this.head.data.slice(0,k),this.head.data=this.head.data.slice(k)):k===this.head.data.length?$=this.shift():$=D?this._getString(k):this._getBuffer(k),$}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(k){var D=this.head,$=1,B=D.data;for(k-=B.length;D=D.next;){var V=D.data,U=k>V.length?V.length:k;if(U===V.length?B+=V:B+=V.slice(0,k),k-=U,k===0){U===V.length?(++$,D.next?this.head=D.next:this.head=this.tail=null):(this.head=D,D.data=V.slice(U));break}++$}return this.length-=$,B}},{key:"_getBuffer",value:function(k){var D=g.allocUnsafe(k),$=this.head,B=1;for($.data.copy(D),k-=$.data.length;$=$.next;){var V=$.data,U=k>V.length?V.length:k;if(V.copy(D,D.length-k,0,U),k-=U,k===0){U===V.length?(++B,$.next?this.head=$.next:this.head=this.tail=null):(this.head=$,$.data=V.slice(U));break}++B}return this.length-=B,D}},{key:E,value:function(k,D){return x(this,t(t({},D),{},{depth:0,customInspect:!1}))}}]),M}(),qL}function P5t(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,mn.nextTick(FV,this,e)):mn.nextTick(FV,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?r._writableState?r._writableState.errorEmitted?mn.nextTick(ET,r):(r._writableState.errorEmitted=!0,mn.nextTick(Ile,r,s)):mn.nextTick(Ile,r,s):t?(mn.nextTick(ET,r),t(s)):mn.nextTick(ET,r)}),this)}function Ile(e,t){FV(e,t),ET(e)}function ET(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function C5t(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function FV(e,t){e.emit("error",t)}function I5t(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var I6e={destroy:P5t,undestroy:C5t,errorOrDestroy:I5t},fv={};function M5t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var M6e={};function Ac(e,t,r){r||(r=Error);function n(s,c,p){return typeof t=="string"?t:t(s,c,p)}var i=function(s){M5t(c,s);function c(p,o,g){return s.call(this,n(p,o,g))||this}return c}(r);i.prototype.name=r.name,i.prototype.code=e,M6e[e]=i}function Mle(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function k5t(e,t,r){return e.substr(0,t.length)===t}function O5t(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function D5t(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}Ac("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);Ac("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&k5t(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(O5t(e," argument"))i="The ".concat(e," ").concat(n," ").concat(Mle(t,"type"));else{var s=D5t(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(Mle(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Ac("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ac("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});Ac("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ac("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});Ac("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ac("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ac("ERR_STREAM_WRITE_AFTER_END","write after end");Ac("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ac("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);Ac("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");fv.codes=M6e;var R5t=fv.codes.ERR_INVALID_OPT_VALUE;function $5t(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function L5t(e,t,r,n){var i=$5t(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new R5t(s,i)}return Math.floor(i)}return e.objectMode?16:16*1024}var k6e={getHighWaterMark:L5t},B5t=z5t;function z5t(e,t){if(ZL("noDeprecation"))return e;var r=!1;function n(){if(!r){if(ZL("throwDeprecation"))throw new Error(t);ZL("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function ZL(e){try{if(!Er.localStorage)return!1}catch{return!1}var t=Er.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var XL,kle;function bG(){if(kle)return XL;kle=1,XL=j;function e(Se){var We=this;this.next=null,this.entry=null,this.finish=function(){Oe(We,Se)}}var t;j.WritableState=Z;var r={deprecate:B5t},n=p6e,i=M1.Buffer,s=(typeof Er<"u"?Er:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(Se){return i.from(Se)}function p(Se){return i.isBuffer(Se)||Se instanceof s}var o=I6e,g=k6e,y=g.getHighWaterMark,x=fv.codes,E=x.ERR_INVALID_ARG_TYPE,A=x.ERR_METHOD_NOT_IMPLEMENTED,M=x.ERR_MULTIPLE_CALLBACK,R=x.ERR_STREAM_CANNOT_PIPE,k=x.ERR_STREAM_DESTROYED,D=x.ERR_STREAM_NULL_VALUES,$=x.ERR_STREAM_WRITE_AFTER_END,B=x.ERR_UNKNOWN_ENCODING,V=o.errorOrDestroy;Mh(j,n);function U(){}function Z(Se,We,Je){t=t||zy(),Se=Se||{},typeof Je!="boolean"&&(Je=We instanceof t),this.objectMode=!!Se.objectMode,Je&&(this.objectMode=this.objectMode||!!Se.writableObjectMode),this.highWaterMark=y(this,Se,"writableHighWaterMark",Je),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $e=Se.decodeStrings===!1;this.decodeStrings=!$e,this.defaultEncoding=Se.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ft){te(We,ft)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Se.emitClose!==!1,this.autoDestroy=!!Se.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}Z.prototype.getBuffer=function(){for(var We=this.bufferedRequest,Je=[];We;)Je.push(We),We=We.next;return Je},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ne;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ne=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(We){return ne.call(this,We)?!0:this!==j?!1:We&&We._writableState instanceof Z}})):ne=function(We){return We instanceof this};function j(Se){t=t||zy();var We=this instanceof t;if(!We&&!ne.call(j,this))return new j(Se);this._writableState=new Z(Se,this,We),this.writable=!0,Se&&(typeof Se.write=="function"&&(this._write=Se.write),typeof Se.writev=="function"&&(this._writev=Se.writev),typeof Se.destroy=="function"&&(this._destroy=Se.destroy),typeof Se.final=="function"&&(this._final=Se.final)),n.call(this)}j.prototype.pipe=function(){V(this,new R)};function fe(Se,We){var Je=new $;V(Se,Je),mn.nextTick(We,Je)}function be(Se,We,Je,$e){var ft;return Je===null?ft=new D:typeof Je!="string"&&!We.objectMode&&(ft=new E("chunk",["string","Buffer"],Je)),ft?(V(Se,ft),mn.nextTick($e,ft),!1):!0}j.prototype.write=function(Se,We,Je){var $e=this._writableState,ft=!1,Me=!$e.objectMode&&p(Se);return Me&&!i.isBuffer(Se)&&(Se=c(Se)),typeof We=="function"&&(Je=We,We=null),Me?We="buffer":We||(We=$e.defaultEncoding),typeof Je!="function"&&(Je=U),$e.ending?fe(this,Je):(Me||be(this,$e,Se,Je))&&($e.pendingcb++,ft=le(this,$e,Me,Se,We,Je)),ft},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var Se=this._writableState;Se.corked&&(Se.corked--,!Se.writing&&!Se.corked&&!Se.bufferProcessing&&Se.bufferedRequest&&we(this,Se))},j.prototype.setDefaultEncoding=function(We){if(typeof We=="string"&&(We=We.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((We+"").toLowerCase())>-1))throw new B(We);return this._writableState.defaultEncoding=We,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function pe(Se,We,Je){return!Se.objectMode&&Se.decodeStrings!==!1&&typeof We=="string"&&(We=i.from(We,Je)),We}Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function le(Se,We,Je,$e,ft,Me){if(!Je){var Te=pe(We,$e,ft);$e!==Te&&(Je=!0,ft="buffer",$e=Te)}var Le=We.objectMode?1:$e.length;We.length+=Le;var Ne=We.length<We.highWaterMark;if(Ne||(We.needDrain=!0),We.writing||We.corked){var At=We.lastBufferedRequest;We.lastBufferedRequest={chunk:$e,encoding:ft,isBuf:Je,callback:Me,next:null},At?At.next=We.lastBufferedRequest:We.bufferedRequest=We.lastBufferedRequest,We.bufferedRequestCount+=1}else G(Se,We,!1,Le,$e,ft,Me);return Ne}function G(Se,We,Je,$e,ft,Me,Te){We.writelen=$e,We.writecb=Te,We.writing=!0,We.sync=!0,We.destroyed?We.onwrite(new k("write")):Je?Se._writev(ft,We.onwrite):Se._write(ft,Me,We.onwrite),We.sync=!1}function N(Se,We,Je,$e,ft){--We.pendingcb,Je?(mn.nextTick(ft,$e),mn.nextTick(de,Se,We),Se._writableState.errorEmitted=!0,V(Se,$e)):(ft($e),Se._writableState.errorEmitted=!0,V(Se,$e),de(Se,We))}function Y(Se){Se.writing=!1,Se.writecb=null,Se.length-=Se.writelen,Se.writelen=0}function te(Se,We){var Je=Se._writableState,$e=Je.sync,ft=Je.writecb;if(typeof ft!="function")throw new M;if(Y(Je),We)N(Se,Je,$e,We,ft);else{var Me=ye(Je)||Se.destroyed;!Me&&!Je.corked&&!Je.bufferProcessing&&Je.bufferedRequest&&we(Se,Je),$e?mn.nextTick(re,Se,Je,Me,ft):re(Se,Je,Me,ft)}}function re(Se,We,Je,$e){Je||he(Se,We),We.pendingcb--,$e(),de(Se,We)}function he(Se,We){We.length===0&&We.needDrain&&(We.needDrain=!1,Se.emit("drain"))}function we(Se,We){We.bufferProcessing=!0;var Je=We.bufferedRequest;if(Se._writev&&Je&&Je.next){var $e=We.bufferedRequestCount,ft=new Array($e),Me=We.corkedRequestsFree;Me.entry=Je;for(var Te=0,Le=!0;Je;)ft[Te]=Je,Je.isBuf||(Le=!1),Je=Je.next,Te+=1;ft.allBuffers=Le,G(Se,We,!0,We.length,ft,"",Me.finish),We.pendingcb++,We.lastBufferedRequest=null,Me.next?(We.corkedRequestsFree=Me.next,Me.next=null):We.corkedRequestsFree=new e(We),We.bufferedRequestCount=0}else{for(;Je;){var Ne=Je.chunk,At=Je.encoding,Ct=Je.callback,Lt=We.objectMode?1:Ne.length;if(G(Se,We,!1,Lt,Ne,At,Ct),Je=Je.next,We.bufferedRequestCount--,We.writing)break}Je===null&&(We.lastBufferedRequest=null)}We.bufferedRequest=Je,We.bufferProcessing=!1}j.prototype._write=function(Se,We,Je){Je(new A("_write()"))},j.prototype._writev=null,j.prototype.end=function(Se,We,Je){var $e=this._writableState;return typeof Se=="function"?(Je=Se,Se=null,We=null):typeof We=="function"&&(Je=We,We=null),Se!=null&&this.write(Se,We),$e.corked&&($e.corked=1,this.uncork()),$e.ending||ke(this,$e,Je),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ye(Se){return Se.ending&&Se.length===0&&Se.bufferedRequest===null&&!Se.finished&&!Se.writing}function ue(Se,We){Se._final(function(Je){We.pendingcb--,Je&&V(Se,Je),We.prefinished=!0,Se.emit("prefinish"),de(Se,We)})}function J(Se,We){!We.prefinished&&!We.finalCalled&&(typeof Se._final=="function"&&!We.destroyed?(We.pendingcb++,We.finalCalled=!0,mn.nextTick(ue,Se,We)):(We.prefinished=!0,Se.emit("prefinish")))}function de(Se,We){var Je=ye(We);if(Je&&(J(Se,We),We.pendingcb===0&&(We.finished=!0,Se.emit("finish"),We.autoDestroy))){var $e=Se._readableState;(!$e||$e.autoDestroy&&$e.endEmitted)&&Se.destroy()}return Je}function ke(Se,We,Je){We.ending=!0,de(Se,We),Je&&(We.finished?mn.nextTick(Je):Se.once("finish",Je)),We.ended=!0,Se.writable=!1}function Oe(Se,We,Je){var $e=Se.entry;for(Se.entry=null;$e;){var ft=$e.callback;We.pendingcb--,ft(Je),$e=$e.next}We.corkedRequestsFree.next=Se}return Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(We){this._writableState&&(this._writableState.destroyed=We)}}),j.prototype.destroy=o.destroy,j.prototype._undestroy=o.undestroy,j.prototype._destroy=function(Se,We){We(Se)},XL}var YL,Ole;function zy(){if(Ole)return YL;Ole=1;var e=Object.keys||function(g){var y=[];for(var x in g)y.push(x);return y};YL=c;var t=xG(),r=bG();Mh(c,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var s=n[i];c.prototype[s]||(c.prototype[s]=r.prototype[s])}function c(g){if(!(this instanceof c))return new c(g);t.call(this,g),r.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",p)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function p(){this._writableState.ended||mn.nextTick(o,this)}function o(g){g.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),YL}var JL={},Dle;function Rle(){if(Dle)return JL;Dle=1;var e=yI.Buffer,t=e.isEncoding||function(D){switch(D=""+D,D&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(D){if(!D)return"utf8";for(var $;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if($)return;D=(""+D).toLowerCase(),$=!0}}function n(D){var $=r(D);if(typeof $!="string"&&(e.isEncoding===t||!t(D)))throw new Error("Unknown encoding: "+D);return $||D}JL.StringDecoder=i;function i(D){this.encoding=n(D);var $;switch(this.encoding){case"utf16le":this.text=x,this.end=E,$=4;break;case"utf8":this.fillLast=o,$=4;break;case"base64":this.text=A,this.end=M,$=3;break;default:this.write=R,this.end=k;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe($)}i.prototype.write=function(D){if(D.length===0)return"";var $,B;if(this.lastNeed){if($=this.fillLast(D),$===void 0)return"";B=this.lastNeed,this.lastNeed=0}else B=0;return B<D.length?$?$+this.text(D,B):this.text(D,B):$||""},i.prototype.end=y,i.prototype.text=g,i.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length};function s(D){return D<=127?0:D>>5===6?2:D>>4===14?3:D>>3===30?4:D>>6===2?-1:-2}function c(D,$,B){var V=$.length-1;if(V<B)return 0;var U=s($[V]);return U>=0?(U>0&&(D.lastNeed=U-1),U):--V<B||U===-2?0:(U=s($[V]),U>=0?(U>0&&(D.lastNeed=U-2),U):--V<B||U===-2?0:(U=s($[V]),U>=0?(U>0&&(U===2?U=0:D.lastNeed=U-3),U):0))}function p(D,$,B){if(($[0]&192)!==128)return D.lastNeed=0,"�";if(D.lastNeed>1&&$.length>1){if(($[1]&192)!==128)return D.lastNeed=1,"�";if(D.lastNeed>2&&$.length>2&&($[2]&192)!==128)return D.lastNeed=2,"�"}}function o(D){var $=this.lastTotal-this.lastNeed,B=p(this,D);if(B!==void 0)return B;if(this.lastNeed<=D.length)return D.copy(this.lastChar,$,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,$,0,D.length),this.lastNeed-=D.length}function g(D,$){var B=c(this,D,$);if(!this.lastNeed)return D.toString("utf8",$);this.lastTotal=B;var V=D.length-(B-this.lastNeed);return D.copy(this.lastChar,0,V),D.toString("utf8",$,V)}function y(D){var $=D&&D.length?this.write(D):"";return this.lastNeed?$+"�":$}function x(D,$){if((D.length-$)%2===0){var B=D.toString("utf16le",$);if(B){var V=B.charCodeAt(B.length-1);if(V>=55296&&V<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],B.slice(0,-1)}return B}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",$,D.length-1)}function E(D){var $=D&&D.length?this.write(D):"";if(this.lastNeed){var B=this.lastTotal-this.lastNeed;return $+this.lastChar.toString("utf16le",0,B)}return $}function A(D,$){var B=(D.length-$)%3;return B===0?D.toString("base64",$):(this.lastNeed=3-B,this.lastTotal=3,B===1?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",$,D.length-B))}function M(D){var $=D&&D.length?this.write(D):"";return this.lastNeed?$+this.lastChar.toString("base64",0,3-this.lastNeed):$}function R(D){return D.toString(this.encoding)}function k(D){return D&&D.length?this.write(D):""}return JL}var $le=fv.codes.ERR_STREAM_PREMATURE_CLOSE;function N5t(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function F5t(){}function j5t(e){return e.setHeader&&typeof e.abort=="function"}function O6e(e,t,r){if(typeof t=="function")return O6e(e,null,t);t||(t={}),r=N5t(r||F5t);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,s=function(){e.writable||p()},c=e._writableState&&e._writableState.finished,p=function(){i=!1,c=!0,n||r.call(e)},o=e._readableState&&e._readableState.endEmitted,g=function(){n=!1,o=!0,i||r.call(e)},y=function(M){r.call(e,M)},x=function(){var M;if(n&&!o)return(!e._readableState||!e._readableState.ended)&&(M=new $le),r.call(e,M);if(i&&!c)return(!e._writableState||!e._writableState.ended)&&(M=new $le),r.call(e,M)},E=function(){e.req.on("finish",p)};return j5t(e)?(e.on("complete",p),e.on("abort",x),e.req?E():e.on("request",E)):i&&!e._writableState&&(e.on("end",s),e.on("close",s)),e.on("end",g),e.on("finish",p),t.error!==!1&&e.on("error",y),e.on("close",x),function(){e.removeListener("complete",p),e.removeListener("abort",x),e.removeListener("request",E),e.req&&e.req.removeListener("finish",p),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",p),e.removeListener("end",g),e.removeListener("error",y),e.removeListener("close",x)}}var rk=O6e,QL,Lle;function V5t(){if(Lle)return QL;Lle=1;var e;function t(B,V,U){return V=r(V),V in B?Object.defineProperty(B,V,{value:U,enumerable:!0,configurable:!0,writable:!0}):B[V]=U,B}function r(B){var V=n(B,"string");return typeof V=="symbol"?V:String(V)}function n(B,V){if(typeof B!="object"||B===null)return B;var U=B[Symbol.toPrimitive];if(U!==void 0){var Z=U.call(B,V||"default");if(typeof Z!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(B)}var i=rk,s=Symbol("lastResolve"),c=Symbol("lastReject"),p=Symbol("error"),o=Symbol("ended"),g=Symbol("lastPromise"),y=Symbol("handlePromise"),x=Symbol("stream");function E(B,V){return{value:B,done:V}}function A(B){var V=B[s];if(V!==null){var U=B[x].read();U!==null&&(B[g]=null,B[s]=null,B[c]=null,V(E(U,!1)))}}function M(B){mn.nextTick(A,B)}function R(B,V){return function(U,Z){B.then(function(){if(V[o]){U(E(void 0,!0));return}V[y](U,Z)},Z)}}var k=Object.getPrototypeOf(function(){}),D=Object.setPrototypeOf((e={get stream(){return this[x]},next:function(){var V=this,U=this[p];if(U!==null)return Promise.reject(U);if(this[o])return Promise.resolve(E(void 0,!0));if(this[x].destroyed)return new Promise(function(fe,be){mn.nextTick(function(){V[p]?be(V[p]):fe(E(void 0,!0))})});var Z=this[g],ne;if(Z)ne=new Promise(R(Z,this));else{var j=this[x].read();if(j!==null)return Promise.resolve(E(j,!1));ne=new Promise(this[y])}return this[g]=ne,ne}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var V=this;return new Promise(function(U,Z){V[x].destroy(null,function(ne){if(ne){Z(ne);return}U(E(void 0,!0))})})}),e),k),$=function(V){var U,Z=Object.create(D,(U={},t(U,x,{value:V,writable:!0}),t(U,s,{value:null,writable:!0}),t(U,c,{value:null,writable:!0}),t(U,p,{value:null,writable:!0}),t(U,o,{value:V._readableState.endEmitted,writable:!0}),t(U,y,{value:function(j,fe){var be=Z[x].read();be?(Z[g]=null,Z[s]=null,Z[c]=null,j(E(be,!1))):(Z[s]=j,Z[c]=fe)},writable:!0}),U));return Z[g]=null,i(V,function(ne){if(ne&&ne.code!=="ERR_STREAM_PREMATURE_CLOSE"){var j=Z[c];j!==null&&(Z[g]=null,Z[s]=null,Z[c]=null,j(ne)),Z[p]=ne;return}var fe=Z[s];fe!==null&&(Z[g]=null,Z[s]=null,Z[c]=null,fe(E(void 0,!0))),Z[o]=!0}),V.on("readable",M.bind(null,Z)),Z};return QL=$,QL}var eB,Ble;function U5t(){return Ble||(Ble=1,eB=function(){throw new Error("Readable.from is not available in the browser")}),eB}var tB,zle;function xG(){if(zle)return tB;zle=1,tB=fe;var e;fe.ReadableState=j,kW.EventEmitter;var t=function(Te,Le){return Te.listeners(Le).length},r=p6e,n=M1.Buffer,i=(typeof Er<"u"?Er:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(Me){return n.from(Me)}function c(Me){return n.isBuffer(Me)||Me instanceof i}var p=vh,o;p&&p.debuglog?o=p.debuglog("stream"):o=function(){};var g=T5t(),y=I6e,x=k6e,E=x.getHighWaterMark,A=fv.codes,M=A.ERR_INVALID_ARG_TYPE,R=A.ERR_STREAM_PUSH_AFTER_EOF,k=A.ERR_METHOD_NOT_IMPLEMENTED,D=A.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,$,B,V;Mh(fe,r);var U=y.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function ne(Me,Te,Le){if(typeof Me.prependListener=="function")return Me.prependListener(Te,Le);!Me._events||!Me._events[Te]?Me.on(Te,Le):Array.isArray(Me._events[Te])?Me._events[Te].unshift(Le):Me._events[Te]=[Le,Me._events[Te]]}function j(Me,Te,Le){e=e||zy(),Me=Me||{},typeof Le!="boolean"&&(Le=Te instanceof e),this.objectMode=!!Me.objectMode,Le&&(this.objectMode=this.objectMode||!!Me.readableObjectMode),this.highWaterMark=E(this,Me,"readableHighWaterMark",Le),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Me.emitClose!==!1,this.autoDestroy=!!Me.autoDestroy,this.destroyed=!1,this.defaultEncoding=Me.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Me.encoding&&($||($=Rle().StringDecoder),this.decoder=new $(Me.encoding),this.encoding=Me.encoding)}function fe(Me){if(e=e||zy(),!(this instanceof fe))return new fe(Me);var Te=this instanceof e;this._readableState=new j(Me,this,Te),this.readable=!0,Me&&(typeof Me.read=="function"&&(this._read=Me.read),typeof Me.destroy=="function"&&(this._destroy=Me.destroy)),r.call(this)}Object.defineProperty(fe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Te){this._readableState&&(this._readableState.destroyed=Te)}}),fe.prototype.destroy=y.destroy,fe.prototype._undestroy=y.undestroy,fe.prototype._destroy=function(Me,Te){Te(Me)},fe.prototype.push=function(Me,Te){var Le=this._readableState,Ne;return Le.objectMode?Ne=!0:typeof Me=="string"&&(Te=Te||Le.defaultEncoding,Te!==Le.encoding&&(Me=n.from(Me,Te),Te=""),Ne=!0),be(this,Me,Te,!1,Ne)},fe.prototype.unshift=function(Me){return be(this,Me,null,!0,!1)};function be(Me,Te,Le,Ne,At){o("readableAddChunk",Te);var Ct=Me._readableState;if(Te===null)Ct.reading=!1,te(Me,Ct);else{var Lt;if(At||(Lt=le(Ct,Te)),Lt)U(Me,Lt);else if(Ct.objectMode||Te&&Te.length>0)if(typeof Te!="string"&&!Ct.objectMode&&Object.getPrototypeOf(Te)!==n.prototype&&(Te=s(Te)),Ne)Ct.endEmitted?U(Me,new D):pe(Me,Ct,Te,!0);else if(Ct.ended)U(Me,new R);else{if(Ct.destroyed)return!1;Ct.reading=!1,Ct.decoder&&!Le?(Te=Ct.decoder.write(Te),Ct.objectMode||Te.length!==0?pe(Me,Ct,Te,!1):we(Me,Ct)):pe(Me,Ct,Te,!1)}else Ne||(Ct.reading=!1,we(Me,Ct))}return!Ct.ended&&(Ct.length<Ct.highWaterMark||Ct.length===0)}function pe(Me,Te,Le,Ne){Te.flowing&&Te.length===0&&!Te.sync?(Te.awaitDrain=0,Me.emit("data",Le)):(Te.length+=Te.objectMode?1:Le.length,Ne?Te.buffer.unshift(Le):Te.buffer.push(Le),Te.needReadable&&re(Me)),we(Me,Te)}function le(Me,Te){var Le;return!c(Te)&&typeof Te!="string"&&Te!==void 0&&!Me.objectMode&&(Le=new M("chunk",["string","Buffer","Uint8Array"],Te)),Le}fe.prototype.isPaused=function(){return this._readableState.flowing===!1},fe.prototype.setEncoding=function(Me){$||($=Rle().StringDecoder);var Te=new $(Me);this._readableState.decoder=Te,this._readableState.encoding=this._readableState.decoder.encoding;for(var Le=this._readableState.buffer.head,Ne="";Le!==null;)Ne+=Te.write(Le.data),Le=Le.next;return this._readableState.buffer.clear(),Ne!==""&&this._readableState.buffer.push(Ne),this._readableState.length=Ne.length,this};var G=1073741824;function N(Me){return Me>=G?Me=G:(Me--,Me|=Me>>>1,Me|=Me>>>2,Me|=Me>>>4,Me|=Me>>>8,Me|=Me>>>16,Me++),Me}function Y(Me,Te){return Me<=0||Te.length===0&&Te.ended?0:Te.objectMode?1:Me!==Me?Te.flowing&&Te.length?Te.buffer.head.data.length:Te.length:(Me>Te.highWaterMark&&(Te.highWaterMark=N(Me)),Me<=Te.length?Me:Te.ended?Te.length:(Te.needReadable=!0,0))}fe.prototype.read=function(Me){o("read",Me),Me=parseInt(Me,10);var Te=this._readableState,Le=Me;if(Me!==0&&(Te.emittedReadable=!1),Me===0&&Te.needReadable&&((Te.highWaterMark!==0?Te.length>=Te.highWaterMark:Te.length>0)||Te.ended))return o("read: emitReadable",Te.length,Te.ended),Te.length===0&&Te.ended?Je(this):re(this),null;if(Me=Y(Me,Te),Me===0&&Te.ended)return Te.length===0&&Je(this),null;var Ne=Te.needReadable;o("need readable",Ne),(Te.length===0||Te.length-Me<Te.highWaterMark)&&(Ne=!0,o("length less than watermark",Ne)),Te.ended||Te.reading?(Ne=!1,o("reading or ended",Ne)):Ne&&(o("do read"),Te.reading=!0,Te.sync=!0,Te.length===0&&(Te.needReadable=!0),this._read(Te.highWaterMark),Te.sync=!1,Te.reading||(Me=Y(Le,Te)));var At;return Me>0?At=We(Me,Te):At=null,At===null?(Te.needReadable=Te.length<=Te.highWaterMark,Me=0):(Te.length-=Me,Te.awaitDrain=0),Te.length===0&&(Te.ended||(Te.needReadable=!0),Le!==Me&&Te.ended&&Je(this)),At!==null&&this.emit("data",At),At};function te(Me,Te){if(o("onEofChunk"),!Te.ended){if(Te.decoder){var Le=Te.decoder.end();Le&&Le.length&&(Te.buffer.push(Le),Te.length+=Te.objectMode?1:Le.length)}Te.ended=!0,Te.sync?re(Me):(Te.needReadable=!1,Te.emittedReadable||(Te.emittedReadable=!0,he(Me)))}}function re(Me){var Te=Me._readableState;o("emitReadable",Te.needReadable,Te.emittedReadable),Te.needReadable=!1,Te.emittedReadable||(o("emitReadable",Te.flowing),Te.emittedReadable=!0,mn.nextTick(he,Me))}function he(Me){var Te=Me._readableState;o("emitReadable_",Te.destroyed,Te.length,Te.ended),!Te.destroyed&&(Te.length||Te.ended)&&(Me.emit("readable"),Te.emittedReadable=!1),Te.needReadable=!Te.flowing&&!Te.ended&&Te.length<=Te.highWaterMark,Se(Me)}function we(Me,Te){Te.readingMore||(Te.readingMore=!0,mn.nextTick(ye,Me,Te))}function ye(Me,Te){for(;!Te.reading&&!Te.ended&&(Te.length<Te.highWaterMark||Te.flowing&&Te.length===0);){var Le=Te.length;if(o("maybeReadMore read 0"),Me.read(0),Le===Te.length)break}Te.readingMore=!1}fe.prototype._read=function(Me){U(this,new k("_read()"))},fe.prototype.pipe=function(Me,Te){var Le=this,Ne=this._readableState;switch(Ne.pipesCount){case 0:Ne.pipes=Me;break;case 1:Ne.pipes=[Ne.pipes,Me];break;default:Ne.pipes.push(Me);break}Ne.pipesCount+=1,o("pipe count=%d opts=%j",Ne.pipesCount,Te);var At=(!Te||Te.end!==!1)&&Me!==mn.stdout&&Me!==mn.stderr,Ct=At?sr:Zt;Ne.endEmitted?mn.nextTick(Ct):Le.once("end",Ct),Me.on("unpipe",Lt);function Lt(ur,yr){o("onunpipe"),ur===Le&&yr&&yr.hasUnpiped===!1&&(yr.hasUnpiped=!0,Xt())}function sr(){o("onend"),Me.end()}var Bt=ue(Le);Me.on("drain",Bt);var tr=!1;function Xt(){o("cleanup"),Me.removeListener("close",gt),Me.removeListener("finish",kt),Me.removeListener("drain",Bt),Me.removeListener("error",Nr),Me.removeListener("unpipe",Lt),Le.removeListener("end",sr),Le.removeListener("end",Zt),Le.removeListener("data",xn),tr=!0,Ne.awaitDrain&&(!Me._writableState||Me._writableState.needDrain)&&Bt()}Le.on("data",xn);function xn(ur){o("ondata");var yr=Me.write(ur);o("dest.write",yr),yr===!1&&((Ne.pipesCount===1&&Ne.pipes===Me||Ne.pipesCount>1&&ft(Ne.pipes,Me)!==-1)&&!tr&&(o("false write response, pause",Ne.awaitDrain),Ne.awaitDrain++),Le.pause())}function Nr(ur){o("onerror",ur),Zt(),Me.removeListener("error",Nr),t(Me,"error")===0&&U(Me,ur)}ne(Me,"error",Nr);function gt(){Me.removeListener("finish",kt),Zt()}Me.once("close",gt);function kt(){o("onfinish"),Me.removeListener("close",gt),Zt()}Me.once("finish",kt);function Zt(){o("unpipe"),Le.unpipe(Me)}return Me.emit("pipe",Le),Ne.flowing||(o("pipe resume"),Le.resume()),Me};function ue(Me){return function(){var Le=Me._readableState;o("pipeOnDrain",Le.awaitDrain),Le.awaitDrain&&Le.awaitDrain--,Le.awaitDrain===0&&t(Me,"data")&&(Le.flowing=!0,Se(Me))}}fe.prototype.unpipe=function(Me){var Te=this._readableState,Le={hasUnpiped:!1};if(Te.pipesCount===0)return this;if(Te.pipesCount===1)return Me&&Me!==Te.pipes?this:(Me||(Me=Te.pipes),Te.pipes=null,Te.pipesCount=0,Te.flowing=!1,Me&&Me.emit("unpipe",this,Le),this);if(!Me){var Ne=Te.pipes,At=Te.pipesCount;Te.pipes=null,Te.pipesCount=0,Te.flowing=!1;for(var Ct=0;Ct<At;Ct++)Ne[Ct].emit("unpipe",this,{hasUnpiped:!1});return this}var Lt=ft(Te.pipes,Me);return Lt===-1?this:(Te.pipes.splice(Lt,1),Te.pipesCount-=1,Te.pipesCount===1&&(Te.pipes=Te.pipes[0]),Me.emit("unpipe",this,Le),this)},fe.prototype.on=function(Me,Te){var Le=r.prototype.on.call(this,Me,Te),Ne=this._readableState;return Me==="data"?(Ne.readableListening=this.listenerCount("readable")>0,Ne.flowing!==!1&&this.resume()):Me==="readable"&&!Ne.endEmitted&&!Ne.readableListening&&(Ne.readableListening=Ne.needReadable=!0,Ne.flowing=!1,Ne.emittedReadable=!1,o("on readable",Ne.length,Ne.reading),Ne.length?re(this):Ne.reading||mn.nextTick(de,this)),Le},fe.prototype.addListener=fe.prototype.on,fe.prototype.removeListener=function(Me,Te){var Le=r.prototype.removeListener.call(this,Me,Te);return Me==="readable"&&mn.nextTick(J,this),Le},fe.prototype.removeAllListeners=function(Me){var Te=r.prototype.removeAllListeners.apply(this,arguments);return(Me==="readable"||Me===void 0)&&mn.nextTick(J,this),Te};function J(Me){var Te=Me._readableState;Te.readableListening=Me.listenerCount("readable")>0,Te.resumeScheduled&&!Te.paused?Te.flowing=!0:Me.listenerCount("data")>0&&Me.resume()}function de(Me){o("readable nexttick read 0"),Me.read(0)}fe.prototype.resume=function(){var Me=this._readableState;return Me.flowing||(o("resume"),Me.flowing=!Me.readableListening,ke(this,Me)),Me.paused=!1,this};function ke(Me,Te){Te.resumeScheduled||(Te.resumeScheduled=!0,mn.nextTick(Oe,Me,Te))}function Oe(Me,Te){o("resume",Te.reading),Te.reading||Me.read(0),Te.resumeScheduled=!1,Me.emit("resume"),Se(Me),Te.flowing&&!Te.reading&&Me.read(0)}fe.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Se(Me){var Te=Me._readableState;for(o("flow",Te.flowing);Te.flowing&&Me.read()!==null;);}fe.prototype.wrap=function(Me){var Te=this,Le=this._readableState,Ne=!1;Me.on("end",function(){if(o("wrapped end"),Le.decoder&&!Le.ended){var Lt=Le.decoder.end();Lt&&Lt.length&&Te.push(Lt)}Te.push(null)}),Me.on("data",function(Lt){if(o("wrapped data"),Le.decoder&&(Lt=Le.decoder.write(Lt)),!(Le.objectMode&&Lt==null)&&!(!Le.objectMode&&(!Lt||!Lt.length))){var sr=Te.push(Lt);sr||(Ne=!0,Me.pause())}});for(var At in Me)this[At]===void 0&&typeof Me[At]=="function"&&(this[At]=function(sr){return function(){return Me[sr].apply(Me,arguments)}}(At));for(var Ct=0;Ct<Z.length;Ct++)Me.on(Z[Ct],this.emit.bind(this,Z[Ct]));return this._read=function(Lt){o("wrapped _read",Lt),Ne&&(Ne=!1,Me.resume())},this},typeof Symbol=="function"&&(fe.prototype[Symbol.asyncIterator]=function(){return B===void 0&&(B=V5t()),B(this)}),Object.defineProperty(fe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(fe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(fe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Te){this._readableState&&(this._readableState.flowing=Te)}}),fe._fromList=We,Object.defineProperty(fe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function We(Me,Te){if(Te.length===0)return null;var Le;return Te.objectMode?Le=Te.buffer.shift():!Me||Me>=Te.length?(Te.decoder?Le=Te.buffer.join(""):Te.buffer.length===1?Le=Te.buffer.first():Le=Te.buffer.concat(Te.length),Te.buffer.clear()):Le=Te.buffer.consume(Me,Te.decoder),Le}function Je(Me){var Te=Me._readableState;o("endReadable",Te.endEmitted),Te.endEmitted||(Te.ended=!0,mn.nextTick($e,Te,Me))}function $e(Me,Te){if(o("endReadableNT",Me.endEmitted,Me.length),!Me.endEmitted&&Me.length===0&&(Me.endEmitted=!0,Te.readable=!1,Te.emit("end"),Me.autoDestroy)){var Le=Te._writableState;(!Le||Le.autoDestroy&&Le.finished)&&Te.destroy()}}typeof Symbol=="function"&&(fe.from=function(Me,Te){return V===void 0&&(V=U5t()),V(fe,Me,Te)});function ft(Me,Te){for(var Le=0,Ne=Me.length;Le<Ne;Le++)if(Me[Le]===Te)return Le;return-1}return tB}var wG=_h,nk=fv.codes,W5t=nk.ERR_METHOD_NOT_IMPLEMENTED,K5t=nk.ERR_MULTIPLE_CALLBACK,H5t=nk.ERR_TRANSFORM_ALREADY_TRANSFORMING,G5t=nk.ERR_TRANSFORM_WITH_LENGTH_0,ik=zy();Mh(_h,ik);function q5t(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new K5t);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function _h(e){if(!(this instanceof _h))return new _h(e);ik.call(this,e),this._transformState={afterTransform:q5t.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Z5t)}function Z5t(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Nle(e,t,r)}):Nle(this,null,null)}_h.prototype.push=function(e,t){return this._transformState.needTransform=!1,ik.prototype.push.call(this,e,t)};_h.prototype._transform=function(e,t,r){r(new W5t("_transform()"))};_h.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};_h.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};_h.prototype._destroy=function(e,t){ik.prototype._destroy.call(this,e,function(r){t(r)})};function Nle(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new G5t;if(e._transformState.transforming)throw new H5t;return e.push(null)}var D6e=L8,R6e=wG;Mh(L8,R6e);function L8(e){if(!(this instanceof L8))return new L8(e);R6e.call(this,e)}L8.prototype._transform=function(e,t,r){r(null,e)};var rB;function X5t(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var $6e=fv.codes,Y5t=$6e.ERR_MISSING_ARGS,J5t=$6e.ERR_STREAM_DESTROYED;function Fle(e){if(e)throw e}function Q5t(e){return e.setHeader&&typeof e.abort=="function"}function e8t(e,t,r,n){n=X5t(n);var i=!1;e.on("close",function(){i=!0}),rB===void 0&&(rB=rk),rB(e,{readable:t,writable:r},function(c){if(c)return n(c);i=!0,n()});var s=!1;return function(c){if(!i&&!s){if(s=!0,Q5t(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(c||new J5t("pipe"))}}}function jle(e){e()}function t8t(e,t){return e.pipe(t)}function r8t(e){return!e.length||typeof e[e.length-1]!="function"?Fle:e.pop()}function n8t(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=r8t(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Y5t("streams");var i,s=t.map(function(c,p){var o=p<t.length-1,g=p>0;return e8t(c,o,g,function(y){i||(i=y),y&&s.forEach(jle),!o&&(s.forEach(jle),n(i))})});return t.reduce(t8t)}var L6e=n8t,B6e=xc,SG=kW.EventEmitter,i8t=Mh;i8t(xc,SG);xc.Readable=xG();xc.Writable=bG();xc.Duplex=zy();xc.Transform=wG;xc.PassThrough=D6e;xc.finished=rk;xc.pipeline=L6e;xc.Stream=xc;function xc(){SG.call(this)}xc.prototype.pipe=function(e,t){var r=this;function n(y){e.writable&&e.write(y)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",c),r.on("close",p));var s=!1;function c(){s||(s=!0,e.end())}function p(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function o(y){if(g(),SG.listenerCount(this,"error")===0)throw y}r.on("error",o),e.on("error",o);function g(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",c),r.removeListener("close",p),r.removeListener("error",o),e.removeListener("error",o),r.removeListener("end",g),r.removeListener("close",g),e.removeListener("close",g)}return r.on("end",g),r.on("close",g),e.on("close",g),e.emit("pipe",r),e};const bd=oi(B6e);var EG={},z6e={exports:{}},AG={};(function(e){e.fetch=i(Er.fetch)&&i(Er.ReadableStream),e.writableStream=i(Er.WritableStream),e.abortController=i(Er.AbortController);var t;function r(){if(t!==void 0)return t;if(Er.XMLHttpRequest){t=new Er.XMLHttpRequest;try{t.open("GET",Er.XDomainRequest?"/":"https://example.com")}catch{t=null}}else t=null;return t}function n(s){var c=r();if(!c)return!1;try{return c.responseType=s,c.responseType===s}catch{}return!1}e.arraybuffer=e.fetch||n("arraybuffer"),e.msstream=!e.fetch&&n("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&n("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||(r()?i(r().overrideMimeType):!1);function i(s){return typeof s=="function"}t=null})(AG);var ak={},jV={exports:{}};(function(e,t){t=e.exports=xG(),t.Stream=t,t.Readable=t,t.Writable=bG(),t.Duplex=zy(),t.Transform=wG,t.PassThrough=D6e,t.finished=rk,t.pipeline=L6e})(jV,jV.exports);var N6e=jV.exports,Vle=AG,a8t=Mh,F6e=N6e,EA=ak.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},TG=ak.IncomingMessage=function(e,t,r,n){var i=this;if(F6e.Readable.call(i),i._mode=r,i.headers={},i.rawHeaders=[],i.trailers={},i.rawTrailers=[],i.on("end",function(){mn.nextTick(function(){i.emit("close")})}),r==="fetch"){let x=function(){c.read().then(function(E){if(!i._destroyed){if(n(E.done),E.done){i.push(null);return}i.push(Nn.from(E.value)),x()}}).catch(function(E){n(!0),i._destroyed||i.emit("error",E)})};var y=x;if(i._fetchResponse=t,i.url=t.url,i.statusCode=t.status,i.statusMessage=t.statusText,t.headers.forEach(function(E,A){i.headers[A.toLowerCase()]=E,i.rawHeaders.push(A,E)}),Vle.writableStream){var s=new WritableStream({write:function(E){return n(!1),new Promise(function(A,M){i._destroyed?M():i.push(Nn.from(E))?A():i._resumeFetch=A})},close:function(){n(!0),i._destroyed||i.push(null)},abort:function(E){n(!0),i._destroyed||i.emit("error",E)}});try{t.body.pipeTo(s).catch(function(E){n(!0),i._destroyed||i.emit("error",E)});return}catch{}}var c=t.body.getReader();x()}else{i._xhr=e,i._pos=0,i.url=e.responseURL,i.statusCode=e.status,i.statusMessage=e.statusText;var p=e.getAllResponseHeaders().split(/\r?\n/);if(p.forEach(function(x){var E=x.match(/^([^:]+):\s*(.*)/);if(E){var A=E[1].toLowerCase();A==="set-cookie"?(i.headers[A]===void 0&&(i.headers[A]=[]),i.headers[A].push(E[2])):i.headers[A]!==void 0?i.headers[A]+=", "+E[2]:i.headers[A]=E[2],i.rawHeaders.push(E[1],E[2])}}),i._charset="x-user-defined",!Vle.overrideMimeType){var o=i.rawHeaders["mime-type"];if(o){var g=o.match(/;\s*charset=([^;])(;|$)/);g&&(i._charset=g[1].toLowerCase())}i._charset||(i._charset="utf-8")}}};a8t(TG,F6e.Readable);TG.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())};TG.prototype._onXHRProgress=function(e){var t=this,r=t._xhr,n=null;switch(t._mode){case"text":if(n=r.responseText,n.length>t._pos){var i=n.substr(t._pos);if(t._charset==="x-user-defined"){for(var s=Nn.alloc(i.length),c=0;c<i.length;c++)s[c]=i.charCodeAt(c)&255;t.push(s)}else t.push(i,t._charset);t._pos=n.length}break;case"arraybuffer":if(r.readyState!==EA.DONE||!r.response)break;n=r.response,t.push(Nn.from(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=r.response,r.readyState!==EA.LOADING||!n)break;t.push(Nn.from(new Uint8Array(n)));break;case"ms-stream":if(n=r.response,r.readyState!==EA.LOADING)break;var p=new Er.MSStreamReader;p.onprogress=function(){p.result.byteLength>t._pos&&(t.push(Nn.from(new Uint8Array(p.result.slice(t._pos)))),t._pos=p.result.byteLength)},p.onload=function(){e(!0),t.push(null)},p.readAsArrayBuffer(n);break}t._xhr.readyState===EA.DONE&&t._mode!=="ms-stream"&&(e(!0),t.push(null))};var Yg=AG,o8t=Mh,j6e=ak,PG=N6e,s8t=j6e.IncomingMessage,Ule=j6e.readyStates;function l8t(e,t){return Yg.fetch&&t?"fetch":Yg.mozchunkedarraybuffer?"moz-chunked-arraybuffer":Yg.msstream?"ms-stream":Yg.arraybuffer&&e?"arraybuffer":"text"}var Ks=z6e.exports=function(e){var t=this;PG.Writable.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+Nn.from(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(i){t.setHeader(i,e.headers[i])});var r,n=!0;if(e.mode==="disable-fetch"||"requestTimeout"in e&&!Yg.abortController)n=!1,r=!0;else if(e.mode==="prefer-streaming")r=!1;else if(e.mode==="allow-wrong-content-type")r=!Yg.overrideMimeType;else if(!e.mode||e.mode==="default"||e.mode==="prefer-fast")r=!0;else throw new Error("Invalid value for opts.mode");t._mode=l8t(r,n),t._fetchTimer=null,t._socketTimeout=null,t._socketTimer=null,t.on("finish",function(){t._onFinish()})};o8t(Ks,PG.Writable);Ks.prototype.setHeader=function(e,t){var r=this,n=e.toLowerCase();c8t.indexOf(n)===-1&&(r._headers[n]={name:e,value:t})};Ks.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null};Ks.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]};Ks.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&t.timeout!==0&&e.setTimeout(t.timeout);var r=e._headers,n=null;t.method!=="GET"&&t.method!=="HEAD"&&(n=new Blob(e._body,{type:(r["content-type"]||{}).value||""}));var i=[];if(Object.keys(r).forEach(function(o){var g=r[o].name,y=r[o].value;Array.isArray(y)?y.forEach(function(x){i.push([g,x])}):i.push([g,y])}),e._mode==="fetch"){var s=null;if(Yg.abortController){var c=new AbortController;s=c.signal,e._fetchAbortController=c,"requestTimeout"in t&&t.requestTimeout!==0&&(e._fetchTimer=Er.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout))}Er.fetch(e._opts.url,{method:e._opts.method,headers:i,body:n||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:s}).then(function(o){e._fetchResponse=o,e._resetTimers(!1),e._connect()},function(o){e._resetTimers(!0),e._destroyed||e.emit("error",o)})}else{var p=e._xhr=new Er.XMLHttpRequest;try{p.open(e._opts.method,e._opts.url,!0)}catch(o){mn.nextTick(function(){e.emit("error",o)});return}"responseType"in p&&(p.responseType=e._mode),"withCredentials"in p&&(p.withCredentials=!!t.withCredentials),e._mode==="text"&&"overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(p.timeout=t.requestTimeout,p.ontimeout=function(){e.emit("requestTimeout")}),i.forEach(function(o){p.setRequestHeader(o[0],o[1])}),e._response=null,p.onreadystatechange=function(){switch(p.readyState){case Ule.LOADING:case Ule.DONE:e._onXHRProgress();break}},e._mode==="moz-chunked-arraybuffer"&&(p.onprogress=function(){e._onXHRProgress()}),p.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{p.send(n)}catch(o){mn.nextTick(function(){e.emit("error",o)});return}}}};function u8t(e){try{var t=e.status;return t!==null&&t!==0}catch{return!1}}Ks.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),!(!u8t(e._xhr)||e._destroyed)&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))};Ks.prototype._connect=function(){var e=this;e._destroyed||(e._response=new s8t(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))};Ks.prototype._write=function(e,t,r){var n=this;n._body.push(e),r()};Ks.prototype._resetTimers=function(e){var t=this;Er.clearTimeout(t._socketTimer),t._socketTimer=null,e?(Er.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=Er.setTimeout(function(){t.emit("timeout")},t._socketTimeout))};Ks.prototype.abort=Ks.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)};Ks.prototype.end=function(e,t,r){var n=this;typeof e=="function"&&(r=e,e=void 0),PG.Writable.prototype.end.call(n,e,t,r)};Ks.prototype.setTimeout=function(e,t){var r=this;t&&r.once("timeout",t),r._socketTimeout=e,r._resetTimers(!1)};Ks.prototype.flushHeaders=function(){};Ks.prototype.setNoDelay=function(){};Ks.prototype.setSocketKeepAlive=function(){};var c8t=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],d8t=z6e.exports,f8t=h8t,p8t=Object.prototype.hasOwnProperty;function h8t(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)p8t.call(r,n)&&(e[n]=r[n])}return e}var m8t={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},UC={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */UC.exports;(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,s=typeof Er=="object"&&Er;(s.global===s||s.window===s||s.self===s)&&(r=s);var c,p=2147483647,o=36,g=1,y=26,x=38,E=700,A=72,M=128,R="-",k=/^xn--/,D=/[^\x20-\x7E]/,$=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},V=o-g,U=Math.floor,Z=String.fromCharCode,ne;function j(ye){throw new RangeError(B[ye])}function fe(ye,ue){for(var J=ye.length,de=[];J--;)de[J]=ue(ye[J]);return de}function be(ye,ue){var J=ye.split("@"),de="";J.length>1&&(de=J[0]+"@",ye=J[1]),ye=ye.replace($,".");var ke=ye.split("."),Oe=fe(ke,ue).join(".");return de+Oe}function pe(ye){for(var ue=[],J=0,de=ye.length,ke,Oe;J<de;)ke=ye.charCodeAt(J++),ke>=55296&&ke<=56319&&J<de?(Oe=ye.charCodeAt(J++),(Oe&64512)==56320?ue.push(((ke&1023)<<10)+(Oe&1023)+65536):(ue.push(ke),J--)):ue.push(ke);return ue}function le(ye){return fe(ye,function(ue){var J="";return ue>65535&&(ue-=65536,J+=Z(ue>>>10&1023|55296),ue=56320|ue&1023),J+=Z(ue),J}).join("")}function G(ye){return ye-48<10?ye-22:ye-65<26?ye-65:ye-97<26?ye-97:o}function N(ye,ue){return ye+22+75*(ye<26)-((ue!=0)<<5)}function Y(ye,ue,J){var de=0;for(ye=J?U(ye/E):ye>>1,ye+=U(ye/ue);ye>V*y>>1;de+=o)ye=U(ye/V);return U(de+(V+1)*ye/(ye+x))}function te(ye){var ue=[],J=ye.length,de,ke=0,Oe=M,Se=A,We,Je,$e,ft,Me,Te,Le,Ne,At;for(We=ye.lastIndexOf(R),We<0&&(We=0),Je=0;Je<We;++Je)ye.charCodeAt(Je)>=128&&j("not-basic"),ue.push(ye.charCodeAt(Je));for($e=We>0?We+1:0;$e<J;){for(ft=ke,Me=1,Te=o;$e>=J&&j("invalid-input"),Le=G(ye.charCodeAt($e++)),(Le>=o||Le>U((p-ke)/Me))&&j("overflow"),ke+=Le*Me,Ne=Te<=Se?g:Te>=Se+y?y:Te-Se,!(Le<Ne);Te+=o)At=o-Ne,Me>U(p/At)&&j("overflow"),Me*=At;de=ue.length+1,Se=Y(ke-ft,de,ft==0),U(ke/de)>p-Oe&&j("overflow"),Oe+=U(ke/de),ke%=de,ue.splice(ke++,0,Oe)}return le(ue)}function re(ye){var ue,J,de,ke,Oe,Se,We,Je,$e,ft,Me,Te=[],Le,Ne,At,Ct;for(ye=pe(ye),Le=ye.length,ue=M,J=0,Oe=A,Se=0;Se<Le;++Se)Me=ye[Se],Me<128&&Te.push(Z(Me));for(de=ke=Te.length,ke&&Te.push(R);de<Le;){for(We=p,Se=0;Se<Le;++Se)Me=ye[Se],Me>=ue&&Me<We&&(We=Me);for(Ne=de+1,We-ue>U((p-J)/Ne)&&j("overflow"),J+=(We-ue)*Ne,ue=We,Se=0;Se<Le;++Se)if(Me=ye[Se],Me<ue&&++J>p&&j("overflow"),Me==ue){for(Je=J,$e=o;ft=$e<=Oe?g:$e>=Oe+y?y:$e-Oe,!(Je<ft);$e+=o)Ct=Je-ft,At=o-ft,Te.push(Z(N(ft+Ct%At,0))),Je=U(Ct/At);Te.push(Z(N(Je,0))),Oe=Y(J,Ne,de==ke),J=0,++de}++J,++ue}return Te.join("")}function he(ye){return be(ye,function(ue){return k.test(ue)?te(ue.slice(4).toLowerCase()):ue})}function we(ye){return be(ye,function(ue){return D.test(ue)?"xn--"+re(ue):ue})}if(c={version:"1.4.1",ucs2:{decode:pe,encode:le},decode:te,encode:re,toASCII:we,toUnicode:he},n&&i)if(e.exports==n)i.exports=c;else for(ne in c)c.hasOwnProperty(ne)&&(n[ne]=c[ne]);else r.punycode=c})(Er)})(UC,UC.exports);var CG=UC.exports;const g8t=oi(CG);function y8t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var v8t=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var s=/\+/g;e=e.split(t);var c=1e3;n&&typeof n.maxKeys=="number"&&(c=n.maxKeys);var p=e.length;c>0&&p>c&&(p=c);for(var o=0;o<p;++o){var g=e[o].replace(s,"%20"),y=g.indexOf(r),x,E,A,M;y>=0?(x=g.substr(0,y),E=g.substr(y+1)):(x=g,E=""),A=decodeURIComponent(x),M=decodeURIComponent(E),y8t(i,A)?_8t(i[A])?i[A].push(M):i[A]=[i[A],M]:i[A]=M}return i},_8t=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},j2=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},b8t=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Wle(w8t(e),function(i){var s=encodeURIComponent(j2(i))+r;return x8t(e[i])?Wle(e[i],function(c){return s+encodeURIComponent(j2(c))}).join(t):s+encodeURIComponent(j2(e[i]))}).join(t):n?encodeURIComponent(j2(n))+r+encodeURIComponent(j2(e)):""},x8t=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function Wle(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var w8t=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},V6e,U6e,S8t=U6e=v8t,E8t=V6e=b8t;function A8t(e){return encodeURIComponent(e)}function T8t(e){return decodeURIComponent(e)}var P8t={decode:S8t,encode:E8t,parse:U6e,stringify:V6e,escape:A8t,unescape:T8t},C8t={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},I8t=g8t,rf=C8t,M8t=eS,k8t=U8t,W6e=W8t,O8t=V8t,D8t=mc;function mc(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var R8t=/^([a-z0-9.+-]+:)/i,$8t=/:[0-9]*$/,L8t=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,B8t=["<",">",'"',"`"," ","\r",`
`,"	"],z8t=["{","}","|","\\","^","`"].concat(B8t),VV=["'"].concat(z8t),Kle=["%","/","?",";","#"].concat(VV),Hle=["/","?","#"],N8t=255,Gle=/^[+a-z0-9A-Z_-]{0,63}$/,F8t=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,j8t={javascript:!0,"javascript:":!0},UV={javascript:!0,"javascript:":!0},hx={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},WV=P8t;function eS(e,t,r){if(e&&rf.isObject(e)&&e instanceof mc)return e;var n=new mc;return n.parse(e,t,r),n}mc.prototype.parse=function(e,t,r){if(!rf.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",s=e.split(i),c=/\\/g;s[0]=s[0].replace(c,"/"),e=s.join(i);var p=e;if(p=p.trim(),!r&&e.split("#").length===1){var o=L8t.exec(p);if(o)return this.path=p,this.href=p,this.pathname=o[1],o[2]?(this.search=o[2],t?this.query=WV.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var g=R8t.exec(p);if(g){g=g[0];var y=g.toLowerCase();this.protocol=y,p=p.substr(g.length)}if(r||g||p.match(/^\/\/[^@\/]+@[^@\/]+/)){var x=p.substr(0,2)==="//";x&&!(g&&UV[g])&&(p=p.substr(2),this.slashes=!0)}if(!UV[g]&&(x||g&&!hx[g])){for(var E=-1,A=0;A<Hle.length;A++){var M=p.indexOf(Hle[A]);M!==-1&&(E===-1||M<E)&&(E=M)}var R,k;E===-1?k=p.lastIndexOf("@"):k=p.lastIndexOf("@",E),k!==-1&&(R=p.slice(0,k),p=p.slice(k+1),this.auth=decodeURIComponent(R)),E=-1;for(var A=0;A<Kle.length;A++){var M=p.indexOf(Kle[A]);M!==-1&&(E===-1||M<E)&&(E=M)}E===-1&&(E=p.length),this.host=p.slice(0,E),p=p.slice(E),this.parseHost(),this.hostname=this.hostname||"";var D=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!D)for(var $=this.hostname.split(/\./),A=0,B=$.length;A<B;A++){var V=$[A];if(V&&!V.match(Gle)){for(var U="",Z=0,ne=V.length;Z<ne;Z++)V.charCodeAt(Z)>127?U+="x":U+=V[Z];if(!U.match(Gle)){var j=$.slice(0,A),fe=$.slice(A+1),be=V.match(F8t);be&&(j.push(be[1]),fe.unshift(be[2])),fe.length&&(p="/"+fe.join(".")+p),this.hostname=j.join(".");break}}}this.hostname.length>N8t?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=I8t.toASCII(this.hostname));var pe=this.port?":"+this.port:"",le=this.hostname||"";this.host=le+pe,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),p[0]!=="/"&&(p="/"+p))}if(!j8t[y])for(var A=0,B=VV.length;A<B;A++){var G=VV[A];if(p.indexOf(G)!==-1){var N=encodeURIComponent(G);N===G&&(N=escape(G)),p=p.split(G).join(N)}}var Y=p.indexOf("#");Y!==-1&&(this.hash=p.substr(Y),p=p.slice(0,Y));var te=p.indexOf("?");if(te!==-1?(this.search=p.substr(te),this.query=p.substr(te+1),t&&(this.query=WV.parse(this.query)),p=p.slice(0,te)):t&&(this.search="",this.query={}),p&&(this.pathname=p),hx[y]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var pe=this.pathname||"",re=this.search||"";this.path=pe+re}return this.href=this.format(),this};function V8t(e){return rf.isString(e)&&(e=eS(e)),e instanceof mc?e.format():mc.prototype.format.call(e)}mc.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&rf.isObject(this.query)&&Object.keys(this.query).length&&(s=WV.stringify(this.query));var c=this.search||s&&"?"+s||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||hx[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),c&&c.charAt(0)!=="?"&&(c="?"+c),r=r.replace(/[?#]/g,function(p){return encodeURIComponent(p)}),c=c.replace("#","%23"),t+i+r+c+n};function U8t(e,t){return eS(e,!1,!0).resolve(t)}mc.prototype.resolve=function(e){return this.resolveObject(eS(e,!1,!0)).format()};function W8t(e,t){return e?eS(e,!1,!0).resolveObject(t):t}mc.prototype.resolveObject=function(e){if(rf.isString(e)){var t=new mc;t.parse(e,!1,!0),e=t}for(var r=new mc,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),p=0;p<c.length;p++){var o=c[p];o!=="protocol"&&(r[o]=e[o])}return hx[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!hx[e.protocol]){for(var g=Object.keys(e),y=0;y<g.length;y++){var x=g[y];r[x]=e[x]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!UV[e.protocol]){for(var B=(e.pathname||"").split("/");B.length&&!(e.host=B.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),B[0]!==""&&B.unshift(""),B.length<2&&B.unshift(""),r.pathname=B.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var E=r.pathname||"",A=r.search||"";r.path=E+A}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var M=r.pathname&&r.pathname.charAt(0)==="/",R=e.host||e.pathname&&e.pathname.charAt(0)==="/",k=R||M||r.host&&e.pathname,D=k,$=r.pathname&&r.pathname.split("/")||[],B=e.pathname&&e.pathname.split("/")||[],V=r.protocol&&!hx[r.protocol];if(V&&(r.hostname="",r.port=null,r.host&&($[0]===""?$[0]=r.host:$.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(B[0]===""?B[0]=e.host:B.unshift(e.host)),e.host=null),k=k&&(B[0]===""||$[0]==="")),R)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,$=B;else if(B.length)$||($=[]),$.pop(),$=$.concat(B),r.search=e.search,r.query=e.query;else if(!rf.isNullOrUndefined(e.search)){if(V){r.hostname=r.host=$.shift();var U=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;U&&(r.auth=U.shift(),r.host=r.hostname=U.shift())}return r.search=e.search,r.query=e.query,(!rf.isNull(r.pathname)||!rf.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!$.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var Z=$.slice(-1)[0],ne=(r.host||e.host||$.length>1)&&(Z==="."||Z==="..")||Z==="",j=0,fe=$.length;fe>=0;fe--)Z=$[fe],Z==="."?$.splice(fe,1):Z===".."?($.splice(fe,1),j++):j&&($.splice(fe,1),j--);if(!k&&!D)for(;j--;j)$.unshift("..");k&&$[0]!==""&&(!$[0]||$[0].charAt(0)!=="/")&&$.unshift(""),ne&&$.join("/").substr(-1)!=="/"&&$.push("");var be=$[0]===""||$[0]&&$[0].charAt(0)==="/";if(V){r.hostname=r.host=be?"":$.length?$.shift():"";var U=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;U&&(r.auth=U.shift(),r.host=r.hostname=U.shift())}return k=k||r.host&&$.length,k&&!be&&$.unshift(""),$.length?r.pathname=$.join("/"):(r.pathname=null,r.path=null),(!rf.isNull(r.pathname)||!rf.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};mc.prototype.parseHost=function(){var e=this.host,t=$8t.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};function K8t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];i==="."?e.splice(n,1):i===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function H8t(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:"/";if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)continue;e=n+"/"+e,t=n.charAt(0)==="/"}return e=K8t(G8t(e.split("/"),function(i){return!!i}),!t).join("/"),(t?"/":"")+e||"."}function G8t(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var K6e=function(e){function t(){var n=this||self;return delete e.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return t();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t});var r=__magic__;return r}(Object),q8t=O8t,H6e=M8t,G6e=k8t,q6e=D8t,N1=K6e.URL,Z6e=K6e.URLSearchParams,Z8t=/%/g,X8t=/\\/g,Y8t=/\n/g,J8t=/\r/g,Q8t=/\t/g,e9t=47;function t9t(e){var t=e??null;return!!(t!==null&&(t!=null&&t.href)&&(t!=null&&t.origin))}function r9t(e){if(e.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var t=e.pathname,r=0;r<t.length;r++)if(t[r]==="%"){var n=t.codePointAt(r+2)|32;if(t[r+1]==="2"&&n===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(t)}function n9t(e){return e.includes("%")&&(e=e.replace(Z8t,"%25")),e.includes("\\")&&(e=e.replace(X8t,"%5C")),e.includes(`
`)&&(e=e.replace(Y8t,"%0A")),e.includes("\r")&&(e=e.replace(J8t,"%0D")),e.includes("	")&&(e=e.replace(Q8t,"%09")),e}var X6e=function(t){if(typeof t>"u")throw new TypeError('The "domain" argument must be specified');return new N1("http://"+t).hostname},Y6e=function(t){if(typeof t>"u")throw new TypeError('The "domain" argument must be specified');return new N1("http://"+t).hostname},J6e=function(t){var r=new N1("file://"),n=H8t(t),i=t.charCodeAt(t.length-1);return i===e9t&&n[n.length-1]!=="/"&&(n+="/"),r.pathname=n9t(n),r},Q6e=function(t){if(!t9t(t)&&typeof t!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof t+" ("+t+")");var r=new N1(t);if(r.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return r9t(r)},e5e=function(t,r){var n,i,s;if(r===void 0&&(r={}),!(t instanceof N1))return q8t(t);if(typeof r!="object"||r===null)throw new TypeError('The "options" argument must be of type object.');var c=(n=r.auth)!=null?n:!0,p=(i=r.fragment)!=null?i:!0,o=(s=r.search)!=null?s:!0,g=new N1(t.toString());return c||(g.username="",g.password=""),p||(g.hash=""),o||(g.search=""),g.toString()},tS={format:e5e,parse:H6e,resolve:G6e,resolveObject:W6e,Url:q6e,URL:N1,URLSearchParams:Z6e,domainToASCII:X6e,domainToUnicode:Y6e,pathToFileURL:J6e,fileURLToPath:Q6e};const i9t=Object.freeze(Object.defineProperty({__proto__:null,URL:N1,URLSearchParams:Z6e,Url:q6e,default:tS,domainToASCII:X6e,domainToUnicode:Y6e,fileURLToPath:Q6e,format:e5e,parse:H6e,pathToFileURL:J6e,resolve:G6e,resolveObject:W6e},Symbol.toStringTag,{value:"Module"})),t5e=U1(i9t);(function(e){var t=d8t,r=ak,n=f8t,i=m8t,s=t5e,c=e;c.request=function(p,o){typeof p=="string"?p=s.parse(p):p=n(p);var g=Er.location.protocol.search(/^https?:$/)===-1?"http:":"",y=p.protocol||g,x=p.hostname||p.host,E=p.port,A=p.path||"/";x&&x.indexOf(":")!==-1&&(x="["+x+"]"),p.url=(x?y+"//"+x:"")+(E?":"+E:"")+A,p.method=(p.method||"GET").toUpperCase(),p.headers=p.headers||{};var M=new t(p);return o&&M.on("response",o),M},c.get=function(o,g){var y=c.request(o,g);return y.end(),y},c.ClientRequest=t,c.IncomingMessage=r.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=i,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]})(EG);const r5e=oi(EG);var wd={},n5e={exports:{}},eo={},a9t=eo;function qle(e){return e<0?-1:1}function o9t(e){return e%1===.5&&!(e&1)?Math.floor(e):Math.round(e)}function i0(e,t){t.unsigned||--e;const r=t.unsigned?0:-Math.pow(2,e),n=Math.pow(2,e)-1,i=t.moduloBitLength?Math.pow(2,t.moduloBitLength):Math.pow(2,e),s=t.moduloBitLength?Math.pow(2,t.moduloBitLength-1):Math.pow(2,e-1);return function(c,p){p||(p={});let o=+c;if(p.enforceRange){if(!Number.isFinite(o))throw new TypeError("Argument is not a finite number");if(o=qle(o)*Math.floor(Math.abs(o)),o<r||o>n)throw new TypeError("Argument is not in byte range");return o}if(!isNaN(o)&&p.clamp)return o=o9t(o),o<r&&(o=r),o>n&&(o=n),o;if(!Number.isFinite(o)||o===0)return 0;if(o=qle(o)*Math.floor(Math.abs(o)),o=o%i,!t.unsigned&&o>=s)return o-i;if(t.unsigned){if(o<0)o+=i;else if(o===-0)return 0}return o}}eo.void=function(){};eo.boolean=function(e){return!!e};eo.byte=i0(8,{unsigned:!1});eo.octet=i0(8,{unsigned:!0});eo.short=i0(16,{unsigned:!1});eo["unsigned short"]=i0(16,{unsigned:!0});eo.long=i0(32,{unsigned:!1});eo["unsigned long"]=i0(32,{unsigned:!0});eo["long long"]=i0(32,{unsigned:!1,moduloBitLength:64});eo["unsigned long long"]=i0(32,{unsigned:!0,moduloBitLength:64});eo.double=function(e){const t=+e;if(!Number.isFinite(t))throw new TypeError("Argument is not a finite floating-point value");return t};eo["unrestricted double"]=function(e){const t=+e;if(isNaN(t))throw new TypeError("Argument is NaN");return t};eo.float=eo.double;eo["unrestricted float"]=eo["unrestricted double"];eo.DOMString=function(e,t){return t||(t={}),t.treatNullAsEmptyString&&e===null?"":String(e)};eo.ByteString=function(e,t){const r=String(e);let n;for(let i=0;(n=r.codePointAt(i))!==void 0;++i)if(n>255)throw new TypeError("Argument is not a valid bytestring");return r};eo.USVString=function(e){const t=String(e),r=t.length,n=[];for(let i=0;i<r;++i){const s=t.charCodeAt(i);if(s<55296||s>57343)n.push(String.fromCodePoint(s));else if(56320<=s&&s<=57343)n.push(String.fromCodePoint(65533));else if(i===r-1)n.push(String.fromCodePoint(65533));else{const c=t.charCodeAt(i+1);if(56320<=c&&c<=57343){const p=s&1023,o=c&1023;n.push(String.fromCodePoint(65536+1024*p+o)),++i}else n.push(String.fromCodePoint(65533))}}return n.join("")};eo.Date=function(e,t){if(!(e instanceof Date))throw new TypeError("Argument is not a Date object");if(!isNaN(e))return e};eo.RegExp=function(e,t){return e instanceof RegExp||(e=new RegExp(e)),e};var i5e={exports:{}};(function(e){e.exports.mixin=function(r,n){const i=Object.getOwnPropertyNames(n);for(let s=0;s<i.length;++s)Object.defineProperty(r,i[s],Object.getOwnPropertyDescriptor(n,i[s]))},e.exports.wrapperSymbol=Symbol("wrapper"),e.exports.implSymbol=Symbol("impl"),e.exports.wrapperForImpl=function(t){return t[e.exports.wrapperSymbol]},e.exports.implForWrapper=function(t){return t[e.exports.implSymbol]}})(i5e);var s9t=i5e.exports,a5e={},o5e={exports:{}},ok={};const l9t=[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1e3,1e3],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6e3],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8e3,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8e3]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9e3],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[3e4]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13e3,13e3],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43e3,43e3],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64e3,64e3],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66e3,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[12e4,12e4],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128e3,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23e3]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149e3]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32e3]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195e3,195e3],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[4e4]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918e3,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]];var s5e=CG,Zle=l9t,mx={TRANSITIONAL:0,NONTRANSITIONAL:1};function l5e(e){return e.split("\0").map(function(t){return t.normalize("NFC")}).join("\0")}function u5e(e){for(var t=0,r=Zle.length-1;t<=r;){var n=Math.floor((t+r)/2),i=Zle[n];if(i[0][0]<=e&&i[0][1]>=e)return i;i[0][0]>e?r=n-1:t=n+1}return null}var u9t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function c5e(e){return e.replace(u9t,"_").length}function c9t(e,t,r){for(var n=!1,i="",s=c5e(e),c=0;c<s;++c){var p=e.codePointAt(c),o=u5e(p);switch(o[1]){case"disallowed":n=!0,i+=String.fromCodePoint(p);break;case"ignored":break;case"mapped":i+=String.fromCodePoint.apply(String,o[2]);break;case"deviation":r===mx.TRANSITIONAL?i+=String.fromCodePoint.apply(String,o[2]):i+=String.fromCodePoint(p);break;case"valid":i+=String.fromCodePoint(p);break;case"disallowed_STD3_mapped":t?(n=!0,i+=String.fromCodePoint(p)):i+=String.fromCodePoint.apply(String,o[2]);break;case"disallowed_STD3_valid":t&&(n=!0),i+=String.fromCodePoint(p);break}}return{string:i,error:n}}var d9t=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function f9t(e,t){e.substr(0,4)==="xn--"&&(e=s5e.toUnicode(e),mx.NONTRANSITIONAL);var r=!1;(l5e(e)!==e||e[3]==="-"&&e[4]==="-"||e[0]==="-"||e[e.length-1]==="-"||e.indexOf(".")!==-1||e.search(d9t)===0)&&(r=!0);for(var n=c5e(e),i=0;i<n;++i){var s=u5e(e.codePointAt(i));if(WC===mx.TRANSITIONAL&&s[1]!=="valid"||WC===mx.NONTRANSITIONAL&&s[1]!=="valid"&&s[1]!=="deviation"){r=!0;break}}return{label:e,error:r}}function WC(e,t,r){var n=c9t(e,t,r);n.string=l5e(n.string);for(var i=n.string.split("."),s=0;s<i.length;++s)try{var c=f9t(i[s]);i[s]=c.label,n.error=n.error||c.error}catch{n.error=!0}return{string:i.join("."),error:n.error}}ok.toASCII=function(e,t,r,n){var i=WC(e,t,r),s=i.string.split(".");if(s=s.map(function(o){try{return s5e.toASCII(o)}catch{return i.error=!0,o}}),n){var c=s.slice(0,s.length-1).join(".").length;(c.length>253||c.length===0)&&(i.error=!0);for(var p=0;p<s.length;++p)if(s.length>63||s.length===0){i.error=!0;break}}return i.error?null:s.join(".")};ok.toUnicode=function(e,t){var r=WC(e,t,mx.NONTRANSITIONAL);return{domain:r.string,error:r.error}};ok.PROCESSING_OPTIONS=mx;(function(e){const t=CG,r=ok,n={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},i=Symbol("failure");function s(Le){return t.ucs2.decode(Le).length}function c(Le,Ne){const At=Le[Ne];return isNaN(At)?void 0:String.fromCodePoint(At)}function p(Le){return Le>=48&&Le<=57}function o(Le){return Le>=65&&Le<=90||Le>=97&&Le<=122}function g(Le){return o(Le)||p(Le)}function y(Le){return p(Le)||Le>=65&&Le<=70||Le>=97&&Le<=102}function x(Le){return Le==="."||Le.toLowerCase()==="%2e"}function E(Le){return Le=Le.toLowerCase(),Le===".."||Le==="%2e."||Le===".%2e"||Le==="%2e%2e"}function A(Le,Ne){return o(Le)&&(Ne===58||Ne===124)}function M(Le){return Le.length===2&&o(Le.codePointAt(0))&&(Le[1]===":"||Le[1]==="|")}function R(Le){return Le.length===2&&o(Le.codePointAt(0))&&Le[1]===":"}function k(Le){return Le.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/)!==-1}function D(Le){return Le.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/)!==-1}function $(Le){return n[Le]!==void 0}function B(Le){return $(Le.scheme)}function V(Le){return n[Le]}function U(Le){let Ne=Le.toString(16).toUpperCase();return Ne.length===1&&(Ne="0"+Ne),"%"+Ne}function Z(Le){const Ne=new Nn(Le);let At="";for(let Ct=0;Ct<Ne.length;++Ct)At+=U(Ne[Ct]);return At}function ne(Le){const Ne=new Nn(Le),At=[];for(let Ct=0;Ct<Ne.length;++Ct)Ne[Ct]!==37?At.push(Ne[Ct]):Ne[Ct]===37&&y(Ne[Ct+1])&&y(Ne[Ct+2])?(At.push(parseInt(Ne.slice(Ct+1,Ct+3).toString(),16)),Ct+=2):At.push(Ne[Ct]);return new Nn(At).toString()}function j(Le){return Le<=31||Le>126}const fe=new Set([32,34,35,60,62,63,96,123,125]);function be(Le){return j(Le)||fe.has(Le)}const pe=new Set([47,58,59,61,64,91,92,93,94,124]);function le(Le){return be(Le)||pe.has(Le)}function G(Le,Ne){const At=String.fromCodePoint(Le);return Ne(Le)?Z(At):At}function N(Le){let Ne=10;return Le.length>=2&&Le.charAt(0)==="0"&&Le.charAt(1).toLowerCase()==="x"?(Le=Le.substring(2),Ne=16):Le.length>=2&&Le.charAt(0)==="0"&&(Le=Le.substring(1),Ne=8),Le===""?0:(Ne===10?/[^0-9]/:Ne===16?/[^0-9A-Fa-f]/:/[^0-7]/).test(Le)?i:parseInt(Le,Ne)}function Y(Le){const Ne=Le.split(".");if(Ne[Ne.length-1]===""&&Ne.length>1&&Ne.pop(),Ne.length>4)return Le;const At=[];for(const sr of Ne){if(sr==="")return Le;const Bt=N(sr);if(Bt===i)return Le;At.push(Bt)}for(let sr=0;sr<At.length-1;++sr)if(At[sr]>255)return i;if(At[At.length-1]>=Math.pow(256,5-At.length))return i;let Ct=At.pop(),Lt=0;for(const sr of At)Ct+=sr*Math.pow(256,3-Lt),++Lt;return Ct}function te(Le){let Ne="",At=Le;for(let Ct=1;Ct<=4;++Ct)Ne=String(At%256)+Ne,Ct!==4&&(Ne="."+Ne),At=Math.floor(At/256);return Ne}function re(Le){const Ne=[0,0,0,0,0,0,0,0];let At=0,Ct=null,Lt=0;if(Le=t.ucs2.decode(Le),Le[Lt]===58){if(Le[Lt+1]!==58)return i;Lt+=2,++At,Ct=At}for(;Lt<Le.length;){if(At===8)return i;if(Le[Lt]===58){if(Ct!==null)return i;++Lt,++At,Ct=At;continue}let sr=0,Bt=0;for(;Bt<4&&y(Le[Lt]);)sr=sr*16+parseInt(c(Le,Lt),16),++Lt,++Bt;if(Le[Lt]===46){if(Bt===0||(Lt-=Bt,At>6))return i;let tr=0;for(;Le[Lt]!==void 0;){let Xt=null;if(tr>0)if(Le[Lt]===46&&tr<4)++Lt;else return i;if(!p(Le[Lt]))return i;for(;p(Le[Lt]);){const xn=parseInt(c(Le,Lt));if(Xt===null)Xt=xn;else{if(Xt===0)return i;Xt=Xt*10+xn}if(Xt>255)return i;++Lt}Ne[At]=Ne[At]*256+Xt,++tr,(tr===2||tr===4)&&++At}if(tr!==4)return i;break}else if(Le[Lt]===58){if(++Lt,Le[Lt]===void 0)return i}else if(Le[Lt]!==void 0)return i;Ne[At]=sr,++At}if(Ct!==null){let sr=At-Ct;for(At=7;At!==0&&sr>0;){const Bt=Ne[Ct+sr-1];Ne[Ct+sr-1]=Ne[At],Ne[At]=Bt,--At,--sr}}else if(Ct===null&&At!==8)return i;return Ne}function he(Le){let Ne="";const Ct=ue(Le).idx;let Lt=!1;for(let sr=0;sr<=7;++sr)if(!(Lt&&Le[sr]===0)){if(Lt&&(Lt=!1),Ct===sr){Ne+=sr===0?"::":":",Lt=!0;continue}Ne+=Le[sr].toString(16),sr!==7&&(Ne+=":")}return Ne}function we(Le,Ne){if(Le[0]==="[")return Le[Le.length-1]!=="]"?i:re(Le.substring(1,Le.length-1));if(!Ne)return ye(Le);const At=ne(Le),Ct=r.toASCII(At,!1,r.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(Ct===null||k(Ct))return i;const Lt=Y(Ct);return typeof Lt=="number"||Lt===i?Lt:Ct}function ye(Le){if(D(Le))return i;let Ne="";const At=t.ucs2.decode(Le);for(let Ct=0;Ct<At.length;++Ct)Ne+=G(At[Ct],j);return Ne}function ue(Le){let Ne=null,At=1,Ct=null,Lt=0;for(let sr=0;sr<Le.length;++sr)Le[sr]!==0?(Lt>At&&(Ne=Ct,At=Lt),Ct=null,Lt=0):(Ct===null&&(Ct=sr),++Lt);return Lt>At&&(Ne=Ct,At=Lt),{idx:Ne,len:At}}function J(Le){return typeof Le=="number"?te(Le):Le instanceof Array?"["+he(Le)+"]":Le}function de(Le){return Le.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function ke(Le){return Le.replace(/\u0009|\u000A|\u000D/g,"")}function Oe(Le){const Ne=Le.path;Ne.length!==0&&(Le.scheme==="file"&&Ne.length===1&&Je(Ne[0])||Ne.pop())}function Se(Le){return Le.username!==""||Le.password!==""}function We(Le){return Le.host===null||Le.host===""||Le.cannotBeABaseURL||Le.scheme==="file"}function Je(Le){return/^[A-Za-z]:$/.test(Le)}function $e(Le,Ne,At,Ct,Lt){if(this.pointer=0,this.input=Le,this.base=Ne||null,this.encodingOverride=At||"utf-8",this.stateOverride=Lt,this.url=Ct,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};const Bt=de(this.input);Bt!==this.input&&(this.parseError=!0),this.input=Bt}const sr=ke(this.input);for(sr!==this.input&&(this.parseError=!0),this.input=sr,this.state=Lt||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=t.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){const Bt=this.input[this.pointer],tr=isNaN(Bt)?void 0:String.fromCodePoint(Bt),Xt=this["parse "+this.state](Bt,tr);if(Xt){if(Xt===i){this.failure=!0;break}}else break}}$e.prototype["parse scheme start"]=function(Ne,At){if(o(Ne))this.buffer+=At.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,i;return!0},$e.prototype["parse scheme"]=function(Ne,At){if(g(Ne)||Ne===43||Ne===45||Ne===46)this.buffer+=At.toLowerCase();else if(Ne===58){if(this.stateOverride&&(B(this.url)&&!$(this.buffer)||!B(this.url)&&$(this.buffer)||(Se(this.url)||this.url.port!==null)&&this.buffer==="file"||this.url.scheme==="file"&&(this.url.host===""||this.url.host===null))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;this.url.scheme==="file"?((this.input[this.pointer+1]!==47||this.input[this.pointer+2]!==47)&&(this.parseError=!0),this.state="file"):B(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme?this.state="special relative or authority":B(this.url)?this.state="special authority slashes":this.input[this.pointer+1]===47?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,i;return!0},$e.prototype["parse no scheme"]=function(Ne){return this.base===null||this.base.cannotBeABaseURL&&Ne!==35?i:(this.base.cannotBeABaseURL&&Ne===35?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):this.base.scheme==="file"?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)},$e.prototype["parse special relative or authority"]=function(Ne){return Ne===47&&this.input[this.pointer+1]===47?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},$e.prototype["parse path or authority"]=function(Ne){return Ne===47?this.state="authority":(this.state="path",--this.pointer),!0},$e.prototype["parse relative"]=function(Ne){return this.url.scheme=this.base.scheme,isNaN(Ne)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):Ne===47?this.state="relative slash":Ne===63?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):Ne===35?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):B(this.url)&&Ne===92?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},$e.prototype["parse relative slash"]=function(Ne){return B(this.url)&&(Ne===47||Ne===92)?(Ne===92&&(this.parseError=!0),this.state="special authority ignore slashes"):Ne===47?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0},$e.prototype["parse special authority slashes"]=function(Ne){return Ne===47&&this.input[this.pointer+1]===47?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},$e.prototype["parse special authority ignore slashes"]=function(Ne){return Ne!==47&&Ne!==92?(this.state="authority",--this.pointer):this.parseError=!0,!0},$e.prototype["parse authority"]=function(Ne,At){if(Ne===64){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;const Ct=s(this.buffer);for(let Lt=0;Lt<Ct;++Lt){const sr=this.buffer.codePointAt(Lt);if(sr===58&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}const Bt=G(sr,le);this.passwordTokenSeenFlag?this.url.password+=Bt:this.url.username+=Bt}this.buffer=""}else if(isNaN(Ne)||Ne===47||Ne===63||Ne===35||B(this.url)&&Ne===92){if(this.atFlag&&this.buffer==="")return this.parseError=!0,i;this.pointer-=s(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=At;return!0},$e.prototype["parse hostname"]=$e.prototype["parse host"]=function(Ne,At){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(Ne===58&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,i;const Ct=we(this.buffer,B(this.url));if(Ct===i)return i;if(this.url.host=Ct,this.buffer="",this.state="port",this.stateOverride==="hostname")return!1}else if(isNaN(Ne)||Ne===47||Ne===63||Ne===35||B(this.url)&&Ne===92){if(--this.pointer,B(this.url)&&this.buffer==="")return this.parseError=!0,i;if(this.stateOverride&&this.buffer===""&&(Se(this.url)||this.url.port!==null))return this.parseError=!0,!1;const Ct=we(this.buffer,B(this.url));if(Ct===i)return i;if(this.url.host=Ct,this.buffer="",this.state="path start",this.stateOverride)return!1}else Ne===91?this.arrFlag=!0:Ne===93&&(this.arrFlag=!1),this.buffer+=At;return!0},$e.prototype["parse port"]=function(Ne,At){if(p(Ne))this.buffer+=At;else if(isNaN(Ne)||Ne===47||Ne===63||Ne===35||B(this.url)&&Ne===92||this.stateOverride){if(this.buffer!==""){const Ct=parseInt(this.buffer);if(Ct>Math.pow(2,16)-1)return this.parseError=!0,i;this.url.port=Ct===V(this.url.scheme)?null:Ct,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,i;return!0};const ft=new Set([47,92,63,35]);$e.prototype["parse file"]=function(Ne){return this.url.scheme="file",Ne===47||Ne===92?(Ne===92&&(this.parseError=!0),this.state="file slash"):this.base!==null&&this.base.scheme==="file"?isNaN(Ne)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):Ne===63?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):Ne===35?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(this.input.length-this.pointer-1===0||!A(Ne,this.input[this.pointer+1])||this.input.length-this.pointer-1>=2&&!ft.has(this.input[this.pointer+2])?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),Oe(this.url)):this.parseError=!0,this.state="path",--this.pointer):(this.state="path",--this.pointer),!0},$e.prototype["parse file slash"]=function(Ne){return Ne===47||Ne===92?(Ne===92&&(this.parseError=!0),this.state="file host"):(this.base!==null&&this.base.scheme==="file"&&(R(this.base.path[0])?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0},$e.prototype["parse file host"]=function(Ne,At){if(isNaN(Ne)||Ne===47||Ne===92||Ne===63||Ne===35)if(--this.pointer,!this.stateOverride&&M(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let Ct=we(this.buffer,B(this.url));if(Ct===i)return i;if(Ct==="localhost"&&(Ct=""),this.url.host=Ct,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=At;return!0},$e.prototype["parse path start"]=function(Ne){return B(this.url)?(Ne===92&&(this.parseError=!0),this.state="path",Ne!==47&&Ne!==92&&--this.pointer):!this.stateOverride&&Ne===63?(this.url.query="",this.state="query"):!this.stateOverride&&Ne===35?(this.url.fragment="",this.state="fragment"):Ne!==void 0&&(this.state="path",Ne!==47&&--this.pointer),!0},$e.prototype["parse path"]=function(Ne){if(isNaN(Ne)||Ne===47||B(this.url)&&Ne===92||!this.stateOverride&&(Ne===63||Ne===35)){if(B(this.url)&&Ne===92&&(this.parseError=!0),E(this.buffer)?(Oe(this.url),Ne!==47&&!(B(this.url)&&Ne===92)&&this.url.path.push("")):x(this.buffer)&&Ne!==47&&!(B(this.url)&&Ne===92)?this.url.path.push(""):x(this.buffer)||(this.url.scheme==="file"&&this.url.path.length===0&&M(this.buffer)&&(this.url.host!==""&&this.url.host!==null&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="",this.url.scheme==="file"&&(Ne===void 0||Ne===63||Ne===35))for(;this.url.path.length>1&&this.url.path[0]==="";)this.parseError=!0,this.url.path.shift();Ne===63&&(this.url.query="",this.state="query"),Ne===35&&(this.url.fragment="",this.state="fragment")}else Ne===37&&(!y(this.input[this.pointer+1])||!y(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=G(Ne,be);return!0},$e.prototype["parse cannot-be-a-base-URL path"]=function(Ne){return Ne===63?(this.url.query="",this.state="query"):Ne===35?(this.url.fragment="",this.state="fragment"):(!isNaN(Ne)&&Ne!==37&&(this.parseError=!0),Ne===37&&(!y(this.input[this.pointer+1])||!y(this.input[this.pointer+2]))&&(this.parseError=!0),isNaN(Ne)||(this.url.path[0]=this.url.path[0]+G(Ne,j))),!0},$e.prototype["parse query"]=function(Ne,At){if(isNaN(Ne)||!this.stateOverride&&Ne===35){(!B(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")&&(this.encodingOverride="utf-8");const Ct=new Nn(this.buffer);for(let Lt=0;Lt<Ct.length;++Lt)Ct[Lt]<33||Ct[Lt]>126||Ct[Lt]===34||Ct[Lt]===35||Ct[Lt]===60||Ct[Lt]===62?this.url.query+=U(Ct[Lt]):this.url.query+=String.fromCodePoint(Ct[Lt]);this.buffer="",Ne===35&&(this.url.fragment="",this.state="fragment")}else Ne===37&&(!y(this.input[this.pointer+1])||!y(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=At;return!0},$e.prototype["parse fragment"]=function(Ne){return isNaN(Ne)||(Ne===0?this.parseError=!0:(Ne===37&&(!y(this.input[this.pointer+1])||!y(this.input[this.pointer+2]))&&(this.parseError=!0),this.url.fragment+=G(Ne,j))),!0};function Me(Le,Ne){let At=Le.scheme+":";if(Le.host!==null?(At+="//",(Le.username!==""||Le.password!=="")&&(At+=Le.username,Le.password!==""&&(At+=":"+Le.password),At+="@"),At+=J(Le.host),Le.port!==null&&(At+=":"+Le.port)):Le.host===null&&Le.scheme==="file"&&(At+="//"),Le.cannotBeABaseURL)At+=Le.path[0];else for(const Ct of Le.path)At+="/"+Ct;return Le.query!==null&&(At+="?"+Le.query),!Ne&&Le.fragment!==null&&(At+="#"+Le.fragment),At}function Te(Le){let Ne=Le.scheme+"://";return Ne+=J(Le.host),Le.port!==null&&(Ne+=":"+Le.port),Ne}e.exports.serializeURL=Me,e.exports.serializeURLOrigin=function(Le){switch(Le.scheme){case"blob":try{return e.exports.serializeURLOrigin(e.exports.parseURL(Le.path[0]))}catch{return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return Te({scheme:Le.scheme,host:Le.host,port:Le.port});case"file":return"file://";default:return"null"}},e.exports.basicURLParse=function(Le,Ne){Ne===void 0&&(Ne={});const At=new $e(Le,Ne.baseURL,Ne.encodingOverride,Ne.url,Ne.stateOverride);return At.failure?"failure":At.url},e.exports.setTheUsername=function(Le,Ne){Le.username="";const At=t.ucs2.decode(Ne);for(let Ct=0;Ct<At.length;++Ct)Le.username+=G(At[Ct],le)},e.exports.setThePassword=function(Le,Ne){Le.password="";const At=t.ucs2.decode(Ne);for(let Ct=0;Ct<At.length;++Ct)Le.password+=G(At[Ct],le)},e.exports.serializeHost=J,e.exports.cannotHaveAUsernamePasswordPort=We,e.exports.serializeInteger=function(Le){return String(Le)},e.exports.parseURL=function(Le,Ne){return Ne===void 0&&(Ne={}),e.exports.basicURLParse(Le,{baseURL:Ne.baseURL,encodingOverride:Ne.encodingOverride})}})(o5e);var kh=o5e.exports;const Za=kh;a5e.implementation=class{constructor(t){const r=t[0],n=t[1];let i=null;if(n!==void 0&&(i=Za.basicURLParse(n),i==="failure"))throw new TypeError("Invalid base URL");const s=Za.basicURLParse(r,{baseURL:i});if(s==="failure")throw new TypeError("Invalid URL");this._url=s}get href(){return Za.serializeURL(this._url)}set href(t){const r=Za.basicURLParse(t);if(r==="failure")throw new TypeError("Invalid URL");this._url=r}get origin(){return Za.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(t){Za.basicURLParse(t+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(t){Za.cannotHaveAUsernamePasswordPort(this._url)||Za.setTheUsername(this._url,t)}get password(){return this._url.password}set password(t){Za.cannotHaveAUsernamePasswordPort(this._url)||Za.setThePassword(this._url,t)}get host(){const t=this._url;return t.host===null?"":t.port===null?Za.serializeHost(t.host):Za.serializeHost(t.host)+":"+Za.serializeInteger(t.port)}set host(t){this._url.cannotBeABaseURL||Za.basicURLParse(t,{url:this._url,stateOverride:"host"})}get hostname(){return this._url.host===null?"":Za.serializeHost(this._url.host)}set hostname(t){this._url.cannotBeABaseURL||Za.basicURLParse(t,{url:this._url,stateOverride:"hostname"})}get port(){return this._url.port===null?"":Za.serializeInteger(this._url.port)}set port(t){Za.cannotHaveAUsernamePasswordPort(this._url)||(t===""?this._url.port=null:Za.basicURLParse(t,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:this._url.path.length===0?"":"/"+this._url.path.join("/")}set pathname(t){this._url.cannotBeABaseURL||(this._url.path=[],Za.basicURLParse(t,{url:this._url,stateOverride:"path start"}))}get search(){return this._url.query===null||this._url.query===""?"":"?"+this._url.query}set search(t){const r=this._url;if(t===""){r.query=null;return}const n=t[0]==="?"?t.substring(1):t;r.query="",Za.basicURLParse(n,{url:r,stateOverride:"query"})}get hash(){return this._url.fragment===null||this._url.fragment===""?"":"#"+this._url.fragment}set hash(t){if(t===""){this._url.fragment=null;return}const r=t[0]==="#"?t.substring(1):t;this._url.fragment="",Za.basicURLParse(r,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}};(function(e){const t=a9t,r=s9t,n=a5e,i=r.implSymbol;function s(c){if(!this||this[i]||!(this instanceof s))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");const p=[];for(let o=0;o<arguments.length&&o<2;++o)p[o]=arguments[o];p[0]=t.USVString(p[0]),p[1]!==void 0&&(p[1]=t.USVString(p[1])),e.exports.setup(this,p)}s.prototype.toJSON=function(){if(!this||!e.exports.is(this))throw new TypeError("Illegal invocation");const p=[];for(let o=0;o<arguments.length&&o<0;++o)p[o]=arguments[o];return this[i].toJSON.apply(this[i],p)},Object.defineProperty(s.prototype,"href",{get(){return this[i].href},set(c){c=t.USVString(c),this[i].href=c},enumerable:!0,configurable:!0}),s.prototype.toString=function(){if(!this||!e.exports.is(this))throw new TypeError("Illegal invocation");return this.href},Object.defineProperty(s.prototype,"origin",{get(){return this[i].origin},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"protocol",{get(){return this[i].protocol},set(c){c=t.USVString(c),this[i].protocol=c},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"username",{get(){return this[i].username},set(c){c=t.USVString(c),this[i].username=c},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"password",{get(){return this[i].password},set(c){c=t.USVString(c),this[i].password=c},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"host",{get(){return this[i].host},set(c){c=t.USVString(c),this[i].host=c},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hostname",{get(){return this[i].hostname},set(c){c=t.USVString(c),this[i].hostname=c},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"port",{get(){return this[i].port},set(c){c=t.USVString(c),this[i].port=c},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"pathname",{get(){return this[i].pathname},set(c){c=t.USVString(c),this[i].pathname=c},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"search",{get(){return this[i].search},set(c){c=t.USVString(c),this[i].search=c},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hash",{get(){return this[i].hash},set(c){c=t.USVString(c),this[i].hash=c},enumerable:!0,configurable:!0}),e.exports={is(c){return!!c&&c[i]instanceof n.implementation},create(c,p){let o=Object.create(s.prototype);return this.setup(o,c,p),o},setup(c,p,o){o||(o={}),o.wrapper=c,c[i]=new n.implementation(p,o),c[i][r.wrapperSymbol]=c},interface:s,expose:{Window:{URL:s},Worker:{URL:s}}}})(n5e);var p9t=n5e.exports;wd.URL=p9t.interface;wd.serializeURL=kh.serializeURL;wd.serializeURLOrigin=kh.serializeURLOrigin;wd.basicURLParse=kh.basicURLParse;wd.setTheUsername=kh.setTheUsername;wd.setThePassword=kh.setThePassword;wd.serializeHost=kh.serializeHost;wd.serializeInteger=kh.serializeInteger;wd.parseURL=kh.parseURL;var d5e={exports:{}};(function(e){var t=EG,r=t5e,n=e.exports;for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.request=function(c,p){return c=s(c),t.request.call(this,c,p)},n.get=function(c,p){return c=s(c),t.get.call(this,c,p)};function s(c){if(typeof c=="string"&&(c=r.parse(c)),c.protocol||(c.protocol="https:"),c.protocol!=="https:")throw new Error('Protocol "'+c.protocol+'" not supported. Expected "https:"');return c}})(d5e);var h9t=d5e.exports;const m9t=oi(h9t);var f5e={},p5e={},nB={exports:{}},iB={},Xle;function h5e(){if(Xle)return iB;Xle=1;function e($){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},e($)}function t($,B,V){return Object.defineProperty($,"prototype",{writable:!1}),$}function r($,B){if(!($ instanceof B))throw new TypeError("Cannot call a class as a function")}function n($,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(B&&B.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),B&&i($,B)}function i($,B){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,Z){return U.__proto__=Z,U},i($,B)}function s($){var B=o();return function(){var U=g($),Z;if(B){var ne=g(this).constructor;Z=Reflect.construct(U,arguments,ne)}else Z=U.apply(this,arguments);return c(this,Z)}}function c($,B){if(B&&(e(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p($)}function p($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function o(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g($){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(V){return V.__proto__||Object.getPrototypeOf(V)},g($)}var y={},x,E;function A($,B,V){V||(V=Error);function U(ne,j,fe){return typeof B=="string"?B:B(ne,j,fe)}var Z=function(ne){n(fe,ne);var j=s(fe);function fe(be,pe,le){var G;return r(this,fe),G=j.call(this,U(be,pe,le)),G.code=$,G}return t(fe)}(V);y[$]=Z}function M($,B){if(Array.isArray($)){var V=$.length;return $=$.map(function(U){return String(U)}),V>2?"one of ".concat(B," ").concat($.slice(0,V-1).join(", "),", or ")+$[V-1]:V===2?"one of ".concat(B," ").concat($[0]," or ").concat($[1]):"of ".concat(B," ").concat($[0])}else return"of ".concat(B," ").concat(String($))}function R($,B,V){return $.substr(0,B.length)===B}function k($,B,V){return(V===void 0||V>$.length)&&(V=$.length),$.substring(V-B.length,V)===B}function D($,B,V){return typeof V!="number"&&(V=0),V+B.length>$.length?!1:$.indexOf(B,V)!==-1}return A("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),A("ERR_INVALID_ARG_TYPE",function($,B,V){x===void 0&&(x=KC()),x(typeof $=="string","'name' must be a string");var U;typeof B=="string"&&R(B,"not ")?(U="must not be",B=B.replace(/^not /,"")):U="must be";var Z;if(k($," argument"))Z="The ".concat($," ").concat(U," ").concat(M(B,"type"));else{var ne=D($,".")?"property":"argument";Z='The "'.concat($,'" ').concat(ne," ").concat(U," ").concat(M(B,"type"))}return Z+=". Received type ".concat(e(V)),Z},TypeError),A("ERR_INVALID_ARG_VALUE",function($,B){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";E===void 0&&(E=vh);var U=E.inspect(B);return U.length>128&&(U="".concat(U.slice(0,128),"...")),"The argument '".concat($,"' ").concat(V,". Received ").concat(U)},TypeError),A("ERR_INVALID_RETURN_VALUE",function($,B,V){var U;return V&&V.constructor&&V.constructor.name?U="instance of ".concat(V.constructor.name):U="type ".concat(e(V)),"Expected ".concat($,' to be returned from the "').concat(B,'"')+" function but got ".concat(U,".")},TypeError),A("ERR_MISSING_ARGS",function(){for(var $=arguments.length,B=new Array($),V=0;V<$;V++)B[V]=arguments[V];x===void 0&&(x=KC()),x(B.length>0,"At least one arg needs to be specified");var U="The ",Z=B.length;switch(B=B.map(function(ne){return'"'.concat(ne,'"')}),Z){case 1:U+="".concat(B[0]," argument");break;case 2:U+="".concat(B[0]," and ").concat(B[1]," arguments");break;default:U+=B.slice(0,Z-1).join(", "),U+=", and ".concat(B[Z-1]," arguments");break}return"".concat(U," must be specified")},TypeError),iB.codes=y,iB}var aB,Yle;function g9t(){if(Yle)return aB;Yle=1;function e(we,ye){var ue=Object.keys(we);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(we);ye&&(J=J.filter(function(de){return Object.getOwnPropertyDescriptor(we,de).enumerable})),ue.push.apply(ue,J)}return ue}function t(we){for(var ye=1;ye<arguments.length;ye++){var ue=arguments[ye]!=null?arguments[ye]:{};ye%2?e(Object(ue),!0).forEach(function(J){r(we,J,ue[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(we,Object.getOwnPropertyDescriptors(ue)):e(Object(ue)).forEach(function(J){Object.defineProperty(we,J,Object.getOwnPropertyDescriptor(ue,J))})}return we}function r(we,ye,ue){return ye=c(ye),ye in we?Object.defineProperty(we,ye,{value:ue,enumerable:!0,configurable:!0,writable:!0}):we[ye]=ue,we}function n(we,ye){if(!(we instanceof ye))throw new TypeError("Cannot call a class as a function")}function i(we,ye){for(var ue=0;ue<ye.length;ue++){var J=ye[ue];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(we,c(J.key),J)}}function s(we,ye,ue){return ye&&i(we.prototype,ye),Object.defineProperty(we,"prototype",{writable:!1}),we}function c(we){var ye=p(we,"string");return $(ye)==="symbol"?ye:String(ye)}function p(we,ye){if($(we)!=="object"||we===null)return we;var ue=we[Symbol.toPrimitive];if(ue!==void 0){var J=ue.call(we,ye||"default");if($(J)!=="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ye==="string"?String:Number)(we)}function o(we,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(ye&&ye.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),Object.defineProperty(we,"prototype",{writable:!1}),ye&&k(we,ye)}function g(we){var ye=M();return function(){var J=D(we),de;if(ye){var ke=D(this).constructor;de=Reflect.construct(J,arguments,ke)}else de=J.apply(this,arguments);return y(this,de)}}function y(we,ye){if(ye&&($(ye)==="object"||typeof ye=="function"))return ye;if(ye!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(we)}function x(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}function E(we){var ye=typeof Map=="function"?new Map:void 0;return E=function(J){if(J===null||!R(J))return J;if(typeof J!="function")throw new TypeError("Super expression must either be null or a function");if(typeof ye<"u"){if(ye.has(J))return ye.get(J);ye.set(J,de)}function de(){return A(J,arguments,D(this).constructor)}return de.prototype=Object.create(J.prototype,{constructor:{value:de,enumerable:!1,writable:!0,configurable:!0}}),k(de,J)},E(we)}function A(we,ye,ue){return M()?A=Reflect.construct.bind():A=function(de,ke,Oe){var Se=[null];Se.push.apply(Se,ke);var We=Function.bind.apply(de,Se),Je=new We;return Oe&&k(Je,Oe.prototype),Je},A.apply(null,arguments)}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(we){return Function.toString.call(we).indexOf("[native code]")!==-1}function k(we,ye){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(J,de){return J.__proto__=de,J},k(we,ye)}function D(we){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ue){return ue.__proto__||Object.getPrototypeOf(ue)},D(we)}function $(we){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},$(we)}var B=vh,V=B.inspect,U=h5e(),Z=U.codes.ERR_INVALID_ARG_TYPE;function ne(we,ye,ue){return(ue===void 0||ue>we.length)&&(ue=we.length),we.substring(ue-ye.length,ue)===ye}function j(we,ye){if(ye=Math.floor(ye),we.length==0||ye==0)return"";var ue=we.length*ye;for(ye=Math.floor(Math.log(ye)/Math.log(2));ye;)we+=we,ye--;return we+=we.substring(0,ue-we.length),we}var fe="",be="",pe="",le="",G={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},N=10;function Y(we){var ye=Object.keys(we),ue=Object.create(Object.getPrototypeOf(we));return ye.forEach(function(J){ue[J]=we[J]}),Object.defineProperty(ue,"message",{value:we.message}),ue}function te(we){return V(we,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function re(we,ye,ue){var J="",de="",ke=0,Oe="",Se=!1,We=te(we),Je=We.split(`
`),$e=te(ye).split(`
`),ft=0,Me="";if(ue==="strictEqual"&&$(we)==="object"&&$(ye)==="object"&&we!==null&&ye!==null&&(ue="strictEqualObject"),Je.length===1&&$e.length===1&&Je[0]!==$e[0]){var Te=Je[0].length+$e[0].length;if(Te<=N){if(($(we)!=="object"||we===null)&&($(ye)!=="object"||ye===null)&&(we!==0||ye!==0))return"".concat(G[ue],`

`)+"".concat(Je[0]," !== ").concat($e[0],`
`)}else if(ue!=="strictEqualObject"){var Le=mn.stderr&&mn.stderr.isTTY?mn.stderr.columns:80;if(Te<Le){for(;Je[0][ft]===$e[0][ft];)ft++;ft>2&&(Me=`
  `.concat(j(" ",ft),"^"),ft=0)}}}for(var Ne=Je[Je.length-1],At=$e[$e.length-1];Ne===At&&(ft++<2?Oe=`
  `.concat(Ne).concat(Oe):J=Ne,Je.pop(),$e.pop(),!(Je.length===0||$e.length===0));)Ne=Je[Je.length-1],At=$e[$e.length-1];var Ct=Math.max(Je.length,$e.length);if(Ct===0){var Lt=We.split(`
`);if(Lt.length>30)for(Lt[26]="".concat(fe,"...").concat(le);Lt.length>27;)Lt.pop();return"".concat(G.notIdentical,`

`).concat(Lt.join(`
`),`
`)}ft>3&&(Oe=`
`.concat(fe,"...").concat(le).concat(Oe),Se=!0),J!==""&&(Oe=`
  `.concat(J).concat(Oe),J="");var sr=0,Bt=G[ue]+`
`.concat(be,"+ actual").concat(le," ").concat(pe,"- expected").concat(le),tr=" ".concat(fe,"...").concat(le," Lines skipped");for(ft=0;ft<Ct;ft++){var Xt=ft-ke;if(Je.length<ft+1)Xt>1&&ft>2&&(Xt>4?(de+=`
`.concat(fe,"...").concat(le),Se=!0):Xt>3&&(de+=`
  `.concat($e[ft-2]),sr++),de+=`
  `.concat($e[ft-1]),sr++),ke=ft,J+=`
`.concat(pe,"-").concat(le," ").concat($e[ft]),sr++;else if($e.length<ft+1)Xt>1&&ft>2&&(Xt>4?(de+=`
`.concat(fe,"...").concat(le),Se=!0):Xt>3&&(de+=`
  `.concat(Je[ft-2]),sr++),de+=`
  `.concat(Je[ft-1]),sr++),ke=ft,de+=`
`.concat(be,"+").concat(le," ").concat(Je[ft]),sr++;else{var xn=$e[ft],Nr=Je[ft],gt=Nr!==xn&&(!ne(Nr,",")||Nr.slice(0,-1)!==xn);gt&&ne(xn,",")&&xn.slice(0,-1)===Nr&&(gt=!1,Nr+=","),gt?(Xt>1&&ft>2&&(Xt>4?(de+=`
`.concat(fe,"...").concat(le),Se=!0):Xt>3&&(de+=`
  `.concat(Je[ft-2]),sr++),de+=`
  `.concat(Je[ft-1]),sr++),ke=ft,de+=`
`.concat(be,"+").concat(le," ").concat(Nr),J+=`
`.concat(pe,"-").concat(le," ").concat(xn),sr+=2):(de+=J,J="",(Xt===1||ft===0)&&(de+=`
  `.concat(Nr),sr++))}if(sr>20&&ft<Ct-2)return"".concat(Bt).concat(tr,`
`).concat(de,`
`).concat(fe,"...").concat(le).concat(J,`
`)+"".concat(fe,"...").concat(le)}return"".concat(Bt).concat(Se?tr:"",`
`).concat(de).concat(J).concat(Oe).concat(Me)}var he=function(we,ye){o(J,we);var ue=g(J);function J(de){var ke;if(n(this,J),$(de)!=="object"||de===null)throw new Z("options","Object",de);var Oe=de.message,Se=de.operator,We=de.stackStartFn,Je=de.actual,$e=de.expected,ft=Error.stackTraceLimit;if(Error.stackTraceLimit=0,Oe!=null)ke=ue.call(this,String(Oe));else if(mn.stderr&&mn.stderr.isTTY&&(mn.stderr&&mn.stderr.getColorDepth&&mn.stderr.getColorDepth()!==1?(fe="\x1B[34m",be="\x1B[32m",le="\x1B[39m",pe="\x1B[31m"):(fe="",be="",le="",pe="")),$(Je)==="object"&&Je!==null&&$($e)==="object"&&$e!==null&&"stack"in Je&&Je instanceof Error&&"stack"in $e&&$e instanceof Error&&(Je=Y(Je),$e=Y($e)),Se==="deepStrictEqual"||Se==="strictEqual")ke=ue.call(this,re(Je,$e,Se));else if(Se==="notDeepStrictEqual"||Se==="notStrictEqual"){var Me=G[Se],Te=te(Je).split(`
`);if(Se==="notStrictEqual"&&$(Je)==="object"&&Je!==null&&(Me=G.notStrictEqualObject),Te.length>30)for(Te[26]="".concat(fe,"...").concat(le);Te.length>27;)Te.pop();Te.length===1?ke=ue.call(this,"".concat(Me," ").concat(Te[0])):ke=ue.call(this,"".concat(Me,`

`).concat(Te.join(`
`),`
`))}else{var Le=te(Je),Ne="",At=G[Se];Se==="notDeepEqual"||Se==="notEqual"?(Le="".concat(G[Se],`

`).concat(Le),Le.length>1024&&(Le="".concat(Le.slice(0,1021),"..."))):(Ne="".concat(te($e)),Le.length>512&&(Le="".concat(Le.slice(0,509),"...")),Ne.length>512&&(Ne="".concat(Ne.slice(0,509),"...")),Se==="deepEqual"||Se==="equal"?Le="".concat(At,`

`).concat(Le,`

should equal

`):Ne=" ".concat(Se," ").concat(Ne)),ke=ue.call(this,"".concat(Le).concat(Ne))}return Error.stackTraceLimit=ft,ke.generatedMessage=!Oe,Object.defineProperty(x(ke),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),ke.code="ERR_ASSERTION",ke.actual=Je,ke.expected=$e,ke.operator=Se,Error.captureStackTrace&&Error.captureStackTrace(x(ke),We),ke.stack,ke.name="AssertionError",y(ke)}return s(J,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:ye,value:function(ke,Oe){return V(this,t(t({},Oe),{},{customInspect:!1,depth:0}))}}]),J}(E(Error),V.custom);return aB=he,aB}var Jle=Object.prototype.toString,m5e=function(t){var r=Jle.call(t),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Jle.call(t.callee)==="[object Function]"),n},oB,Qle;function y9t(){if(Qle)return oB;Qle=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=m5e,i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),c=i.call(function(){},"prototype"),p=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=function(E){var A=E.constructor;return A&&A.prototype===E},g={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},y=function(){if(typeof window>"u")return!1;for(var E in window)try{if(!g["$"+E]&&t.call(window,E)&&window[E]!==null&&typeof window[E]=="object")try{o(window[E])}catch{return!0}}catch{return!0}return!1}(),x=function(E){if(typeof window>"u"||!y)return o(E);try{return o(E)}catch{return!1}};e=function(A){var M=A!==null&&typeof A=="object",R=r.call(A)==="[object Function]",k=n(A),D=M&&r.call(A)==="[object String]",$=[];if(!M&&!R&&!k)throw new TypeError("Object.keys called on a non-object");var B=c&&R;if(D&&A.length>0&&!t.call(A,0))for(var V=0;V<A.length;++V)$.push(String(V));if(k&&A.length>0)for(var U=0;U<A.length;++U)$.push(String(U));else for(var Z in A)!(B&&Z==="prototype")&&t.call(A,Z)&&$.push(String(Z));if(s)for(var ne=x(A),j=0;j<p.length;++j)!(ne&&p[j]==="constructor")&&t.call(A,p[j])&&$.push(p[j]);return $}}return oB=e,oB}var v9t=Array.prototype.slice,_9t=m5e,eue=Object.keys,AT=eue?function(t){return eue(t)}:y9t(),tue=Object.keys;AT.shim=function(){if(Object.keys){var t=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);t||(Object.keys=function(n){return _9t(n)?tue(v9t.call(n)):tue(n)})}else Object.keys=AT;return Object.keys||AT};var g5e=AT,b9t=g5e,y5e=pG(),v5e=ek,rue=Object,x9t=v5e("Array.prototype.push"),nue=v5e("Object.prototype.propertyIsEnumerable"),w9t=y5e?Object.getOwnPropertySymbols:null,S9t=function(t,r){if(t==null)throw new TypeError("target must be an object");var n=rue(t);if(arguments.length===1)return n;for(var i=1;i<arguments.length;++i){var s=rue(arguments[i]),c=b9t(s),p=y5e&&(Object.getOwnPropertySymbols||w9t);if(p)for(var o=p(s),g=0;g<o.length;++g){var y=o[g];nue(s,y)&&x9t(c,y)}for(var x=0;x<c.length;++x){var E=c[x];if(nue(s,E)){var A=s[E];n[E]=A}}}return n},sB=S9t,E9t=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var i=Object.assign({},r),s="";for(var c in i)s+=c;return e!==s},A9t=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return e[1]==="y"}return!1},T9t=function(){return!Object.assign||E9t()||A9t()?sB:Object.assign},iue=function(e){return e!==e},_5e=function(t,r){return t===0&&r===0?1/t===1/r:!!(t===r||iue(t)&&iue(r))},P9t=_5e,IG=function(){return typeof Object.is=="function"?Object.is:P9t},lB,aue;function sk(){if(aue)return lB;aue=1;var e=g5e,t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,i=v6e,s=function(g){return typeof g=="function"&&r.call(g)==="[object Function]"},c=b6e(),p=function(g,y,x,E){if(y in g){if(E===!0){if(g[y]===x)return}else if(!s(E)||!E())return}c?i(g,y,x,!0):i(g,y,x)},o=function(g,y){var x=arguments.length>2?arguments[2]:{},E=e(y);t&&(E=n.call(E,Object.getOwnPropertySymbols(y)));for(var A=0;A<E.length;A+=1)p(g,E[A],y[E[A]],x[E[A]])};return o.supportsDescriptors=!!c,lB=o,lB}var uB,oue;function C9t(){if(oue)return uB;oue=1;var e=IG,t=sk();return uB=function(){var n=e();return t(Object,{is:n},{is:function(){return Object.is!==n}}),n},uB}var cB,sue;function I9t(){if(sue)return cB;sue=1;var e=sk(),t=QM,r=_5e,n=IG,i=C9t(),s=t(n(),Object);return e(s,{getPolyfill:n,implementation:r,shim:i}),cB=s,cB}var dB,lue;function b5e(){return lue||(lue=1,dB=function(t){return t!==t}),dB}var fB,uue;function x5e(){if(uue)return fB;uue=1;var e=b5e();return fB=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},fB}var pB,cue;function M9t(){if(cue)return pB;cue=1;var e=sk(),t=x5e();return pB=function(){var n=t();return e(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},pB}var hB,due;function k9t(){if(due)return hB;due=1;var e=QM,t=sk(),r=b5e(),n=x5e(),i=M9t(),s=e(n(),Number);return t(s,{getPolyfill:n,implementation:r,shim:i}),hB=s,hB}var mB,fue;function O9t(){if(fue)return mB;fue=1;function e(gt,kt){return s(gt)||i(gt,kt)||r(gt,kt)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(gt,kt){if(gt){if(typeof gt=="string")return n(gt,kt);var Zt=Object.prototype.toString.call(gt).slice(8,-1);if(Zt==="Object"&&gt.constructor&&(Zt=gt.constructor.name),Zt==="Map"||Zt==="Set")return Array.from(gt);if(Zt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Zt))return n(gt,kt)}}function n(gt,kt){(kt==null||kt>gt.length)&&(kt=gt.length);for(var Zt=0,ur=new Array(kt);Zt<kt;Zt++)ur[Zt]=gt[Zt];return ur}function i(gt,kt){var Zt=gt==null?null:typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(Zt!=null){var ur,yr,kr,Be,ge=[],ve=!0,Qe=!1;try{if(kr=(Zt=Zt.call(gt)).next,kt!==0)for(;!(ve=(ur=kr.call(Zt)).done)&&(ge.push(ur.value),ge.length!==kt);ve=!0);}catch(bt){Qe=!0,yr=bt}finally{try{if(!ve&&Zt.return!=null&&(Be=Zt.return(),Object(Be)!==Be))return}finally{if(Qe)throw yr}}return ge}}function s(gt){if(Array.isArray(gt))return gt}function c(gt){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(kt){return typeof kt}:function(kt){return kt&&typeof Symbol=="function"&&kt.constructor===Symbol&&kt!==Symbol.prototype?"symbol":typeof kt},c(gt)}var p=/a/g.flags!==void 0,o=function(kt){var Zt=[];return kt.forEach(function(ur){return Zt.push(ur)}),Zt},g=function(kt){var Zt=[];return kt.forEach(function(ur,yr){return Zt.push([yr,ur])}),Zt},y=Object.is?Object.is:I9t(),x=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},E=Number.isNaN?Number.isNaN:k9t();function A(gt){return gt.call.bind(gt)}var M=A(Object.prototype.hasOwnProperty),R=A(Object.prototype.propertyIsEnumerable),k=A(Object.prototype.toString),D=vh.types,$=D.isAnyArrayBuffer,B=D.isArrayBufferView,V=D.isDate,U=D.isMap,Z=D.isRegExp,ne=D.isSet,j=D.isNativeError,fe=D.isBoxedPrimitive,be=D.isNumberObject,pe=D.isStringObject,le=D.isBooleanObject,G=D.isBigIntObject,N=D.isSymbolObject,Y=D.isFloat32Array,te=D.isFloat64Array;function re(gt){if(gt.length===0||gt.length>10)return!0;for(var kt=0;kt<gt.length;kt++){var Zt=gt.charCodeAt(kt);if(Zt<48||Zt>57)return!0}return gt.length===10&&gt>=Math.pow(2,32)}function he(gt){return Object.keys(gt).filter(re).concat(x(gt).filter(Object.prototype.propertyIsEnumerable.bind(gt)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function we(gt,kt){if(gt===kt)return 0;for(var Zt=gt.length,ur=kt.length,yr=0,kr=Math.min(Zt,ur);yr<kr;++yr)if(gt[yr]!==kt[yr]){Zt=gt[yr],ur=kt[yr];break}return Zt<ur?-1:ur<Zt?1:0}var ye=!0,ue=!1,J=0,de=1,ke=2,Oe=3;function Se(gt,kt){return p?gt.source===kt.source&&gt.flags===kt.flags:RegExp.prototype.toString.call(gt)===RegExp.prototype.toString.call(kt)}function We(gt,kt){if(gt.byteLength!==kt.byteLength)return!1;for(var Zt=0;Zt<gt.byteLength;Zt++)if(gt[Zt]!==kt[Zt])return!1;return!0}function Je(gt,kt){return gt.byteLength!==kt.byteLength?!1:we(new Uint8Array(gt.buffer,gt.byteOffset,gt.byteLength),new Uint8Array(kt.buffer,kt.byteOffset,kt.byteLength))===0}function $e(gt,kt){return gt.byteLength===kt.byteLength&&we(new Uint8Array(gt),new Uint8Array(kt))===0}function ft(gt,kt){return be(gt)?be(kt)&&y(Number.prototype.valueOf.call(gt),Number.prototype.valueOf.call(kt)):pe(gt)?pe(kt)&&String.prototype.valueOf.call(gt)===String.prototype.valueOf.call(kt):le(gt)?le(kt)&&Boolean.prototype.valueOf.call(gt)===Boolean.prototype.valueOf.call(kt):G(gt)?G(kt)&&BigInt.prototype.valueOf.call(gt)===BigInt.prototype.valueOf.call(kt):N(kt)&&Symbol.prototype.valueOf.call(gt)===Symbol.prototype.valueOf.call(kt)}function Me(gt,kt,Zt,ur){if(gt===kt)return gt!==0?!0:Zt?y(gt,kt):!0;if(Zt){if(c(gt)!=="object")return typeof gt=="number"&&E(gt)&&E(kt);if(c(kt)!=="object"||gt===null||kt===null||Object.getPrototypeOf(gt)!==Object.getPrototypeOf(kt))return!1}else{if(gt===null||c(gt)!=="object")return kt===null||c(kt)!=="object"?gt==kt:!1;if(kt===null||c(kt)!=="object")return!1}var yr=k(gt),kr=k(kt);if(yr!==kr)return!1;if(Array.isArray(gt)){if(gt.length!==kt.length)return!1;var Be=he(gt),ge=he(kt);return Be.length!==ge.length?!1:Le(gt,kt,Zt,ur,de,Be)}if(yr==="[object Object]"&&(!U(gt)&&U(kt)||!ne(gt)&&ne(kt)))return!1;if(V(gt)){if(!V(kt)||Date.prototype.getTime.call(gt)!==Date.prototype.getTime.call(kt))return!1}else if(Z(gt)){if(!Z(kt)||!Se(gt,kt))return!1}else if(j(gt)||gt instanceof Error){if(gt.message!==kt.message||gt.name!==kt.name)return!1}else if(B(gt)){if(!Zt&&(Y(gt)||te(gt))){if(!We(gt,kt))return!1}else if(!Je(gt,kt))return!1;var ve=he(gt),Qe=he(kt);return ve.length!==Qe.length?!1:Le(gt,kt,Zt,ur,J,ve)}else{if(ne(gt))return!ne(kt)||gt.size!==kt.size?!1:Le(gt,kt,Zt,ur,ke);if(U(gt))return!U(kt)||gt.size!==kt.size?!1:Le(gt,kt,Zt,ur,Oe);if($(gt)){if(!$e(gt,kt))return!1}else if(fe(gt)&&!ft(gt,kt))return!1}return Le(gt,kt,Zt,ur,J)}function Te(gt,kt){return kt.filter(function(Zt){return R(gt,Zt)})}function Le(gt,kt,Zt,ur,yr,kr){if(arguments.length===5){kr=Object.keys(gt);var Be=Object.keys(kt);if(kr.length!==Be.length)return!1}for(var ge=0;ge<kr.length;ge++)if(!M(kt,kr[ge]))return!1;if(Zt&&arguments.length===5){var ve=x(gt);if(ve.length!==0){var Qe=0;for(ge=0;ge<ve.length;ge++){var bt=ve[ge];if(R(gt,bt)){if(!R(kt,bt))return!1;kr.push(bt),Qe++}else if(R(kt,bt))return!1}var It=x(kt);if(ve.length!==It.length&&Te(kt,It).length!==Qe)return!1}else{var Tt=x(kt);if(Tt.length!==0&&Te(kt,Tt).length!==0)return!1}}if(kr.length===0&&(yr===J||yr===de&&gt.length===0||gt.size===0))return!0;if(ur===void 0)ur={val1:new Map,val2:new Map,position:0};else{var fn=ur.val1.get(gt);if(fn!==void 0){var Mr=ur.val2.get(kt);if(Mr!==void 0)return fn===Mr}ur.position++}ur.val1.set(gt,ur.position),ur.val2.set(kt,ur.position);var Hr=Xt(gt,kt,Zt,kr,ur,yr);return ur.val1.delete(gt),ur.val2.delete(kt),Hr}function Ne(gt,kt,Zt,ur){for(var yr=o(gt),kr=0;kr<yr.length;kr++){var Be=yr[kr];if(Me(kt,Be,Zt,ur))return gt.delete(Be),!0}return!1}function At(gt){switch(c(gt)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":gt=+gt;case"number":if(E(gt))return!1}return!0}function Ct(gt,kt,Zt){var ur=At(Zt);return ur??(kt.has(ur)&&!gt.has(ur))}function Lt(gt,kt,Zt,ur,yr){var kr=At(Zt);if(kr!=null)return kr;var Be=kt.get(kr);return Be===void 0&&!kt.has(kr)||!Me(ur,Be,!1,yr)?!1:!gt.has(kr)&&Me(ur,Be,!1,yr)}function sr(gt,kt,Zt,ur){for(var yr=null,kr=o(gt),Be=0;Be<kr.length;Be++){var ge=kr[Be];if(c(ge)==="object"&&ge!==null)yr===null&&(yr=new Set),yr.add(ge);else if(!kt.has(ge)){if(Zt||!Ct(gt,kt,ge))return!1;yr===null&&(yr=new Set),yr.add(ge)}}if(yr!==null){for(var ve=o(kt),Qe=0;Qe<ve.length;Qe++){var bt=ve[Qe];if(c(bt)==="object"&&bt!==null){if(!Ne(yr,bt,Zt,ur))return!1}else if(!Zt&&!gt.has(bt)&&!Ne(yr,bt,Zt,ur))return!1}return yr.size===0}return!0}function Bt(gt,kt,Zt,ur,yr,kr){for(var Be=o(gt),ge=0;ge<Be.length;ge++){var ve=Be[ge];if(Me(Zt,ve,yr,kr)&&Me(ur,kt.get(ve),yr,kr))return gt.delete(ve),!0}return!1}function tr(gt,kt,Zt,ur){for(var yr=null,kr=g(gt),Be=0;Be<kr.length;Be++){var ge=e(kr[Be],2),ve=ge[0],Qe=ge[1];if(c(ve)==="object"&&ve!==null)yr===null&&(yr=new Set),yr.add(ve);else{var bt=kt.get(ve);if(bt===void 0&&!kt.has(ve)||!Me(Qe,bt,Zt,ur)){if(Zt||!Lt(gt,kt,ve,Qe,ur))return!1;yr===null&&(yr=new Set),yr.add(ve)}}}if(yr!==null){for(var It=g(kt),Tt=0;Tt<It.length;Tt++){var fn=e(It[Tt],2),Mr=fn[0],Hr=fn[1];if(c(Mr)==="object"&&Mr!==null){if(!Bt(yr,gt,Mr,Hr,Zt,ur))return!1}else if(!Zt&&(!gt.has(Mr)||!Me(gt.get(Mr),Hr,!1,ur))&&!Bt(yr,gt,Mr,Hr,!1,ur))return!1}return yr.size===0}return!0}function Xt(gt,kt,Zt,ur,yr,kr){var Be=0;if(kr===ke){if(!sr(gt,kt,Zt,yr))return!1}else if(kr===Oe){if(!tr(gt,kt,Zt,yr))return!1}else if(kr===de)for(;Be<gt.length;Be++)if(M(gt,Be)){if(!M(kt,Be)||!Me(gt[Be],kt[Be],Zt,yr))return!1}else{if(M(kt,Be))return!1;for(var ge=Object.keys(gt);Be<ge.length;Be++){var ve=ge[Be];if(!M(kt,ve)||!Me(gt[ve],kt[ve],Zt,yr))return!1}return ge.length===Object.keys(kt).length}for(Be=0;Be<ur.length;Be++){var Qe=ur[Be];if(!Me(gt[Qe],kt[Qe],Zt,yr))return!1}return!0}function xn(gt,kt){return Me(gt,kt,ue)}function Nr(gt,kt){return Me(gt,kt,ye)}return mB={isDeepEqual:xn,isDeepStrictEqual:Nr},mB}var pue;function KC(){if(pue)return nB.exports;pue=1;function e(ke){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Oe){return typeof Oe}:function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},e(ke)}function t(ke,Oe,Se){return Object.defineProperty(ke,"prototype",{writable:!1}),ke}function r(ke,Oe){if(!(ke instanceof Oe))throw new TypeError("Cannot call a class as a function")}var n=h5e(),i=n.codes,s=i.ERR_AMBIGUOUS_ARGUMENT,c=i.ERR_INVALID_ARG_TYPE,p=i.ERR_INVALID_ARG_VALUE,o=i.ERR_INVALID_RETURN_VALUE,g=i.ERR_MISSING_ARGS,y=g9t(),x=vh,E=x.inspect,A=vh.types,M=A.isPromise,R=A.isRegExp,k=T9t(),D=IG(),$=ek("RegExp.prototype.test"),B,V;function U(){var ke=O9t();B=ke.isDeepEqual,V=ke.isDeepStrictEqual}var Z=!1,ne=nB.exports=le,j={};function fe(ke){throw ke.message instanceof Error?ke.message:new y(ke)}function be(ke,Oe,Se,We,Je){var $e=arguments.length,ft;if($e===0)ft="Failed";else if($e===1)Se=ke,ke=void 0;else{if(Z===!1){Z=!0;var Me=mn.emitWarning?mn.emitWarning:console.warn.bind(console);Me("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}$e===2&&(We="!=")}if(Se instanceof Error)throw Se;var Te={actual:ke,expected:Oe,operator:We===void 0?"fail":We,stackStartFn:Je||be};Se!==void 0&&(Te.message=Se);var Le=new y(Te);throw ft&&(Le.message=ft,Le.generatedMessage=!0),Le}ne.fail=be,ne.AssertionError=y;function pe(ke,Oe,Se,We){if(!Se){var Je=!1;if(Oe===0)Je=!0,We="No value argument passed to `assert.ok()`";else if(We instanceof Error)throw We;var $e=new y({actual:Se,expected:!0,message:We,operator:"==",stackStartFn:ke});throw $e.generatedMessage=Je,$e}}function le(){for(var ke=arguments.length,Oe=new Array(ke),Se=0;Se<ke;Se++)Oe[Se]=arguments[Se];pe.apply(void 0,[le,Oe.length].concat(Oe))}ne.ok=le,ne.equal=function ke(Oe,Se,We){if(arguments.length<2)throw new g("actual","expected");Oe!=Se&&fe({actual:Oe,expected:Se,message:We,operator:"==",stackStartFn:ke})},ne.notEqual=function ke(Oe,Se,We){if(arguments.length<2)throw new g("actual","expected");Oe==Se&&fe({actual:Oe,expected:Se,message:We,operator:"!=",stackStartFn:ke})},ne.deepEqual=function ke(Oe,Se,We){if(arguments.length<2)throw new g("actual","expected");B===void 0&&U(),B(Oe,Se)||fe({actual:Oe,expected:Se,message:We,operator:"deepEqual",stackStartFn:ke})},ne.notDeepEqual=function ke(Oe,Se,We){if(arguments.length<2)throw new g("actual","expected");B===void 0&&U(),B(Oe,Se)&&fe({actual:Oe,expected:Se,message:We,operator:"notDeepEqual",stackStartFn:ke})},ne.deepStrictEqual=function ke(Oe,Se,We){if(arguments.length<2)throw new g("actual","expected");B===void 0&&U(),V(Oe,Se)||fe({actual:Oe,expected:Se,message:We,operator:"deepStrictEqual",stackStartFn:ke})},ne.notDeepStrictEqual=G;function G(ke,Oe,Se){if(arguments.length<2)throw new g("actual","expected");B===void 0&&U(),V(ke,Oe)&&fe({actual:ke,expected:Oe,message:Se,operator:"notDeepStrictEqual",stackStartFn:G})}ne.strictEqual=function ke(Oe,Se,We){if(arguments.length<2)throw new g("actual","expected");D(Oe,Se)||fe({actual:Oe,expected:Se,message:We,operator:"strictEqual",stackStartFn:ke})},ne.notStrictEqual=function ke(Oe,Se,We){if(arguments.length<2)throw new g("actual","expected");D(Oe,Se)&&fe({actual:Oe,expected:Se,message:We,operator:"notStrictEqual",stackStartFn:ke})};var N=t(function ke(Oe,Se,We){var Je=this;r(this,ke),Se.forEach(function($e){$e in Oe&&(We!==void 0&&typeof We[$e]=="string"&&R(Oe[$e])&&$(Oe[$e],We[$e])?Je[$e]=We[$e]:Je[$e]=Oe[$e])})});function Y(ke,Oe,Se,We,Je,$e){if(!(Se in ke)||!V(ke[Se],Oe[Se])){if(!We){var ft=new N(ke,Je),Me=new N(Oe,Je,ke),Te=new y({actual:ft,expected:Me,operator:"deepStrictEqual",stackStartFn:$e});throw Te.actual=ke,Te.expected=Oe,Te.operator=$e.name,Te}fe({actual:ke,expected:Oe,message:We,operator:$e.name,stackStartFn:$e})}}function te(ke,Oe,Se,We){if(typeof Oe!="function"){if(R(Oe))return $(Oe,ke);if(arguments.length===2)throw new c("expected",["Function","RegExp"],Oe);if(e(ke)!=="object"||ke===null){var Je=new y({actual:ke,expected:Oe,message:Se,operator:"deepStrictEqual",stackStartFn:We});throw Je.operator=We.name,Je}var $e=Object.keys(Oe);if(Oe instanceof Error)$e.push("name","message");else if($e.length===0)throw new p("error",Oe,"may not be an empty object");return B===void 0&&U(),$e.forEach(function(ft){typeof ke[ft]=="string"&&R(Oe[ft])&&$(Oe[ft],ke[ft])||Y(ke,Oe,ft,Se,$e,We)}),!0}return Oe.prototype!==void 0&&ke instanceof Oe?!0:Error.isPrototypeOf(Oe)?!1:Oe.call({},ke)===!0}function re(ke){if(typeof ke!="function")throw new c("fn","Function",ke);try{ke()}catch(Oe){return Oe}return j}function he(ke){return M(ke)||ke!==null&&e(ke)==="object"&&typeof ke.then=="function"&&typeof ke.catch=="function"}function we(ke){return Promise.resolve().then(function(){var Oe;if(typeof ke=="function"){if(Oe=ke(),!he(Oe))throw new o("instance of Promise","promiseFn",Oe)}else if(he(ke))Oe=ke;else throw new c("promiseFn",["Function","Promise"],ke);return Promise.resolve().then(function(){return Oe}).then(function(){return j}).catch(function(Se){return Se})})}function ye(ke,Oe,Se,We){if(typeof Se=="string"){if(arguments.length===4)throw new c("error",["Object","Error","Function","RegExp"],Se);if(e(Oe)==="object"&&Oe!==null){if(Oe.message===Se)throw new s("error/message",'The error message "'.concat(Oe.message,'" is identical to the message.'))}else if(Oe===Se)throw new s("error/message",'The error "'.concat(Oe,'" is identical to the message.'));We=Se,Se=void 0}else if(Se!=null&&e(Se)!=="object"&&typeof Se!="function")throw new c("error",["Object","Error","Function","RegExp"],Se);if(Oe===j){var Je="";Se&&Se.name&&(Je+=" (".concat(Se.name,")")),Je+=We?": ".concat(We):".";var $e=ke.name==="rejects"?"rejection":"exception";fe({actual:void 0,expected:Se,operator:ke.name,message:"Missing expected ".concat($e).concat(Je),stackStartFn:ke})}if(Se&&!te(Oe,Se,We,ke))throw Oe}function ue(ke,Oe,Se,We){if(Oe!==j){if(typeof Se=="string"&&(We=Se,Se=void 0),!Se||te(Oe,Se)){var Je=We?": ".concat(We):".",$e=ke.name==="doesNotReject"?"rejection":"exception";fe({actual:Oe,expected:Se,operator:ke.name,message:"Got unwanted ".concat($e).concat(Je,`
`)+'Actual message: "'.concat(Oe&&Oe.message,'"'),stackStartFn:ke})}throw Oe}}ne.throws=function ke(Oe){for(var Se=arguments.length,We=new Array(Se>1?Se-1:0),Je=1;Je<Se;Je++)We[Je-1]=arguments[Je];ye.apply(void 0,[ke,re(Oe)].concat(We))},ne.rejects=function ke(Oe){for(var Se=arguments.length,We=new Array(Se>1?Se-1:0),Je=1;Je<Se;Je++)We[Je-1]=arguments[Je];return we(Oe).then(function($e){return ye.apply(void 0,[ke,$e].concat(We))})},ne.doesNotThrow=function ke(Oe){for(var Se=arguments.length,We=new Array(Se>1?Se-1:0),Je=1;Je<Se;Je++)We[Je-1]=arguments[Je];ue.apply(void 0,[ke,re(Oe)].concat(We))},ne.doesNotReject=function ke(Oe){for(var Se=arguments.length,We=new Array(Se>1?Se-1:0),Je=1;Je<Se;Je++)We[Je-1]=arguments[Je];return we(Oe).then(function($e){return ue.apply(void 0,[ke,$e].concat(We))})},ne.ifError=function ke(Oe){if(Oe!=null){var Se="ifError got unwanted exception: ";e(Oe)==="object"&&typeof Oe.message=="string"?Oe.message.length===0&&Oe.constructor?Se+=Oe.constructor.name:Se+=Oe.message:Se+=E(Oe);var We=new y({actual:Oe,expected:null,operator:"ifError",message:Se,stackStartFn:ke}),Je=Oe.stack;if(typeof Je=="string"){var $e=Je.split(`
`);$e.shift();for(var ft=We.stack.split(`
`),Me=0;Me<$e.length;Me++){var Te=ft.indexOf($e[Me]);if(Te!==-1){ft=ft.slice(0,Te);break}}We.stack="".concat(ft.join(`
`),`
`).concat($e.join(`
`))}throw We}};function J(ke,Oe,Se,We,Je){if(!R(Oe))throw new c("regexp","RegExp",Oe);var $e=Je==="match";if(typeof ke!="string"||$(Oe,ke)!==$e){if(Se instanceof Error)throw Se;var ft=!Se;Se=Se||(typeof ke!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(ke)," (").concat(E(ke),")"):($e?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(E(Oe),`. Input:

`).concat(E(ke),`
`));var Me=new y({actual:ke,expected:Oe,message:Se,operator:Je,stackStartFn:We});throw Me.generatedMessage=ft,Me}}ne.match=function ke(Oe,Se,We){J(Oe,Se,We,ke,"match")},ne.doesNotMatch=function ke(Oe,Se,We){J(Oe,Se,We,ke,"doesNotMatch")};function de(){for(var ke=arguments.length,Oe=new Array(ke),Se=0;Se<ke;Se++)Oe[Se]=arguments[Se];pe.apply(void 0,[de,Oe.length].concat(Oe))}return ne.strict=k(de,ne,{equal:ne.strictEqual,deepEqual:ne.deepStrictEqual,notEqual:ne.notStrictEqual,notDeepEqual:ne.notDeepStrictEqual}),ne.strict.strict=ne.strict,nB.exports}function D9t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var R9t=D9t,Pf={},rS={};(function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(s,c){return Object.prototype.hasOwnProperty.call(s,c)}e.assign=function(s){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var p=c.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var o in p)r(p,o)&&(s[o]=p[o])}}return s},e.shrinkBuf=function(s,c){return s.length===c?s:s.subarray?s.subarray(0,c):(s.length=c,s)};var n={arraySet:function(s,c,p,o,g){if(c.subarray&&s.subarray){s.set(c.subarray(p,p+o),g);return}for(var y=0;y<o;y++)s[g+y]=c[p+y]},flattenChunks:function(s){var c,p,o,g,y,x;for(o=0,c=0,p=s.length;c<p;c++)o+=s[c].length;for(x=new Uint8Array(o),g=0,c=0,p=s.length;c<p;c++)y=s[c],x.set(y,g),g+=y.length;return x}},i={arraySet:function(s,c,p,o,g){for(var y=0;y<o;y++)s[g+y]=c[p+y]},flattenChunks:function(s){return[].concat.apply([],s)}};e.setTyped=function(s){s?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(t)})(rS);var p3={},$9t=rS,L9t=4,hue=0,mue=1,B9t=2;function h3(e){for(var t=e.length;--t>=0;)e[t]=0}var z9t=0,w5e=1,N9t=2,F9t=3,j9t=258,MG=29,nS=256,B8=nS+1+MG,gx=30,kG=19,S5e=2*B8+1,Jg=15,gB=16,V9t=7,OG=256,E5e=16,A5e=17,T5e=18,KV=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],TT=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U9t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P5e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W9t=512,Ep=new Array((B8+2)*2);h3(Ep);var f5=new Array(gx*2);h3(f5);var z8=new Array(W9t);h3(z8);var N8=new Array(j9t-F9t+1);h3(N8);var DG=new Array(MG);h3(DG);var HC=new Array(gx);h3(HC);function yB(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}var C5e,I5e,M5e;function vB(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function k5e(e){return e<256?z8[e]:z8[256+(e>>>7)]}function F8(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function zl(e,t,r){e.bi_valid>gB-r?(e.bi_buf|=t<<e.bi_valid&65535,F8(e,e.bi_buf),e.bi_buf=t>>gB-e.bi_valid,e.bi_valid+=r-gB):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function sf(e,t,r){zl(e,r[t*2],r[t*2+1])}function O5e(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function K9t(e){e.bi_valid===16?(F8(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function H9t(e,t){var r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,o=t.stat_desc.max_length,g,y,x,E,A,M,R=0;for(E=0;E<=Jg;E++)e.bl_count[E]=0;for(r[e.heap[e.heap_max]*2+1]=0,g=e.heap_max+1;g<S5e;g++)y=e.heap[g],E=r[r[y*2+1]*2+1]+1,E>o&&(E=o,R++),r[y*2+1]=E,!(y>n)&&(e.bl_count[E]++,A=0,y>=p&&(A=c[y-p]),M=r[y*2],e.opt_len+=M*(E+A),s&&(e.static_len+=M*(i[y*2+1]+A)));if(R!==0){do{for(E=o-1;e.bl_count[E]===0;)E--;e.bl_count[E]--,e.bl_count[E+1]+=2,e.bl_count[o]--,R-=2}while(R>0);for(E=o;E!==0;E--)for(y=e.bl_count[E];y!==0;)x=e.heap[--g],!(x>n)&&(r[x*2+1]!==E&&(e.opt_len+=(E-r[x*2+1])*r[x*2],r[x*2+1]=E),y--)}}function D5e(e,t,r){var n=new Array(Jg+1),i=0,s,c;for(s=1;s<=Jg;s++)n[s]=i=i+r[s-1]<<1;for(c=0;c<=t;c++){var p=e[c*2+1];p!==0&&(e[c*2]=O5e(n[p]++,p))}}function G9t(){var e,t,r,n,i,s=new Array(Jg+1);for(r=0,n=0;n<MG-1;n++)for(DG[n]=r,e=0;e<1<<KV[n];e++)N8[r++]=n;for(N8[r-1]=n,i=0,n=0;n<16;n++)for(HC[n]=i,e=0;e<1<<TT[n];e++)z8[i++]=n;for(i>>=7;n<gx;n++)for(HC[n]=i<<7,e=0;e<1<<TT[n]-7;e++)z8[256+i++]=n;for(t=0;t<=Jg;t++)s[t]=0;for(e=0;e<=143;)Ep[e*2+1]=8,e++,s[8]++;for(;e<=255;)Ep[e*2+1]=9,e++,s[9]++;for(;e<=279;)Ep[e*2+1]=7,e++,s[7]++;for(;e<=287;)Ep[e*2+1]=8,e++,s[8]++;for(D5e(Ep,B8+1,s),e=0;e<gx;e++)f5[e*2+1]=5,f5[e*2]=O5e(e,5);C5e=new yB(Ep,KV,nS+1,B8,Jg),I5e=new yB(f5,TT,0,gx,Jg),M5e=new yB(new Array(0),U9t,0,kG,V9t)}function R5e(e){var t;for(t=0;t<B8;t++)e.dyn_ltree[t*2]=0;for(t=0;t<gx;t++)e.dyn_dtree[t*2]=0;for(t=0;t<kG;t++)e.bl_tree[t*2]=0;e.dyn_ltree[OG*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function $5e(e){e.bi_valid>8?F8(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function q9t(e,t,r,n){$5e(e),F8(e,r),F8(e,~r),$9t.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function gue(e,t,r,n){var i=t*2,s=r*2;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function _B(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&gue(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!gue(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function yue(e,t,r){var n,i,s=0,c,p;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+s*2]<<8|e.pending_buf[e.d_buf+s*2+1],i=e.pending_buf[e.l_buf+s],s++,n===0?sf(e,i,t):(c=N8[i],sf(e,c+nS+1,t),p=KV[c],p!==0&&(i-=DG[c],zl(e,i,p)),n--,c=k5e(n),sf(e,c,r),p=TT[c],p!==0&&(n-=HC[c],zl(e,n,p)));while(s<e.last_lit);sf(e,OG,t)}function HV(e,t){var r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems,c,p,o=-1,g;for(e.heap_len=0,e.heap_max=S5e,c=0;c<s;c++)r[c*2]!==0?(e.heap[++e.heap_len]=o=c,e.depth[c]=0):r[c*2+1]=0;for(;e.heap_len<2;)g=e.heap[++e.heap_len]=o<2?++o:0,r[g*2]=1,e.depth[g]=0,e.opt_len--,i&&(e.static_len-=n[g*2+1]);for(t.max_code=o,c=e.heap_len>>1;c>=1;c--)_B(e,r,c);g=s;do c=e.heap[1],e.heap[1]=e.heap[e.heap_len--],_B(e,r,1),p=e.heap[1],e.heap[--e.heap_max]=c,e.heap[--e.heap_max]=p,r[g*2]=r[c*2]+r[p*2],e.depth[g]=(e.depth[c]>=e.depth[p]?e.depth[c]:e.depth[p])+1,r[c*2+1]=r[p*2+1]=g,e.heap[1]=g++,_B(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],H9t(e,t),D5e(r,o,e.bl_count)}function vue(e,t,r){var n,i=-1,s,c=t[0*2+1],p=0,o=7,g=4;for(c===0&&(o=138,g=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)s=c,c=t[(n+1)*2+1],!(++p<o&&s===c)&&(p<g?e.bl_tree[s*2]+=p:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[E5e*2]++):p<=10?e.bl_tree[A5e*2]++:e.bl_tree[T5e*2]++,p=0,i=s,c===0?(o=138,g=3):s===c?(o=6,g=3):(o=7,g=4))}function _ue(e,t,r){var n,i=-1,s,c=t[0*2+1],p=0,o=7,g=4;for(c===0&&(o=138,g=3),n=0;n<=r;n++)if(s=c,c=t[(n+1)*2+1],!(++p<o&&s===c)){if(p<g)do sf(e,s,e.bl_tree);while(--p!==0);else s!==0?(s!==i&&(sf(e,s,e.bl_tree),p--),sf(e,E5e,e.bl_tree),zl(e,p-3,2)):p<=10?(sf(e,A5e,e.bl_tree),zl(e,p-3,3)):(sf(e,T5e,e.bl_tree),zl(e,p-11,7));p=0,i=s,c===0?(o=138,g=3):s===c?(o=6,g=3):(o=7,g=4)}}function Z9t(e){var t;for(vue(e,e.dyn_ltree,e.l_desc.max_code),vue(e,e.dyn_dtree,e.d_desc.max_code),HV(e,e.bl_desc),t=kG-1;t>=3&&e.bl_tree[P5e[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function X9t(e,t,r,n){var i;for(zl(e,t-257,5),zl(e,r-1,5),zl(e,n-4,4),i=0;i<n;i++)zl(e,e.bl_tree[P5e[i]*2+1],3);_ue(e,e.dyn_ltree,t-1),_ue(e,e.dyn_dtree,r-1)}function Y9t(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return hue;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return mue;for(r=32;r<nS;r++)if(e.dyn_ltree[r*2]!==0)return mue;return hue}var bue=!1;function J9t(e){bue||(G9t(),bue=!0),e.l_desc=new vB(e.dyn_ltree,C5e),e.d_desc=new vB(e.dyn_dtree,I5e),e.bl_desc=new vB(e.bl_tree,M5e),e.bi_buf=0,e.bi_valid=0,R5e(e)}function L5e(e,t,r,n){zl(e,(z9t<<1)+(n?1:0),3),q9t(e,t,r)}function Q9t(e){zl(e,w5e<<1,3),sf(e,OG,Ep),K9t(e)}function eSt(e,t,r,n){var i,s,c=0;e.level>0?(e.strm.data_type===B9t&&(e.strm.data_type=Y9t(e)),HV(e,e.l_desc),HV(e,e.d_desc),c=Z9t(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?L5e(e,t,r,n):e.strategy===L9t||s===i?(zl(e,(w5e<<1)+(n?1:0),3),yue(e,Ep,f5)):(zl(e,(N9t<<1)+(n?1:0),3),X9t(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),yue(e,e.dyn_ltree,e.dyn_dtree)),R5e(e),n&&$5e(e)}function tSt(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(N8[r]+nS+1)*2]++,e.dyn_dtree[k5e(t)*2]++),e.last_lit===e.lit_bufsize-1}p3._tr_init=J9t;p3._tr_stored_block=L5e;p3._tr_flush_block=eSt;p3._tr_tally=tSt;p3._tr_align=Q9t;function rSt(e,t,r,n){for(var i=e&65535|0,s=e>>>16&65535|0,c=0;r!==0;){c=r>2e3?2e3:r,r-=c;do i=i+t[n++]|0,s=s+i|0;while(--c);i%=65521,s%=65521}return i|s<<16|0}var B5e=rSt;function nSt(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var iSt=nSt();function aSt(e,t,r,n){var i=iSt,s=n+r;e^=-1;for(var c=n;c<s;c++)e=e>>>8^i[(e^t[c])&255];return e^-1}var z5e=aSt,oSt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},dl=rS,gc=p3,N5e=B5e,Bm=z5e,sSt=oSt,pv=0,lSt=1,uSt=3,w1=4,xue=5,lf=0,wue=1,yc=-2,cSt=-3,bB=-5,dSt=-1,fSt=1,AA=2,pSt=3,hSt=4,mSt=0,gSt=2,lk=8,ySt=9,vSt=15,_St=8,bSt=29,xSt=256,GV=xSt+1+bSt,wSt=30,SSt=19,ESt=2*GV+1,ASt=15,Si=3,s1=258,md=s1+Si+1,TSt=32,uk=42,qV=69,PT=73,CT=91,IT=103,Qg=113,z6=666,$o=1,iS=2,Ny=3,m3=4,PSt=3;function l1(e,t){return e.msg=sSt[t],t}function Sue(e){return(e<<1)-(e>4?9:0)}function Xm(e){for(var t=e.length;--t>=0;)e[t]=0}function zm(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(dl.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function _s(e,t){gc._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,zm(e.strm)}function ki(e,t){e.pending_buf[e.pending++]=t}function V2(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function CSt(e,t,r,n){var i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,dl.arraySet(t,e.input,e.next_in,i,r),e.state.wrap===1?e.adler=N5e(e.adler,t,i,r):e.state.wrap===2&&(e.adler=Bm(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function F5e(e,t){var r=e.max_chain_length,n=e.strstart,i,s,c=e.prev_length,p=e.nice_match,o=e.strstart>e.w_size-md?e.strstart-(e.w_size-md):0,g=e.window,y=e.w_mask,x=e.prev,E=e.strstart+s1,A=g[n+c-1],M=g[n+c];e.prev_length>=e.good_match&&(r>>=2),p>e.lookahead&&(p=e.lookahead);do if(i=t,!(g[i+c]!==M||g[i+c-1]!==A||g[i]!==g[n]||g[++i]!==g[n+1])){n+=2,i++;do;while(g[++n]===g[++i]&&g[++n]===g[++i]&&g[++n]===g[++i]&&g[++n]===g[++i]&&g[++n]===g[++i]&&g[++n]===g[++i]&&g[++n]===g[++i]&&g[++n]===g[++i]&&n<E);if(s=s1-(E-n),n=E-s1,s>c){if(e.match_start=t,c=s,s>=p)break;A=g[n+c-1],M=g[n+c]}}while((t=x[t&y])>o&&--r!==0);return c<=e.lookahead?c:e.lookahead}function Fy(e){var t=e.w_size,r,n,i,s,c;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-md)){dl.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do i=e.head[--r],e.head[r]=i>=t?i-t:0;while(--n);n=t,r=n;do i=e.prev[--r],e.prev[r]=i>=t?i-t:0;while(--n);s+=t}if(e.strm.avail_in===0)break;if(n=CSt(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=n,e.lookahead+e.insert>=Si)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+Si-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<Si)););}while(e.lookahead<md&&e.strm.avail_in!==0)}function ISt(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Fy(e),e.lookahead===0&&t===pv)return $o;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,_s(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-md&&(_s(e,!1),e.strm.avail_out===0))return $o}return e.insert=0,t===w1?(_s(e,!0),e.strm.avail_out===0?Ny:m3):(e.strstart>e.block_start&&(_s(e,!1),e.strm.avail_out===0),$o)}function xB(e,t){for(var r,n;;){if(e.lookahead<md){if(Fy(e),e.lookahead<md&&t===pv)return $o;if(e.lookahead===0)break}if(r=0,e.lookahead>=Si&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Si-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-md&&(e.match_length=F5e(e,r)),e.match_length>=Si)if(n=gc._tr_tally(e,e.strstart-e.match_start,e.match_length-Si),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Si){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Si-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=gc._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(_s(e,!1),e.strm.avail_out===0))return $o}return e.insert=e.strstart<Si-1?e.strstart:Si-1,t===w1?(_s(e,!0),e.strm.avail_out===0?Ny:m3):e.last_lit&&(_s(e,!1),e.strm.avail_out===0)?$o:iS}function G_(e,t){for(var r,n,i;;){if(e.lookahead<md){if(Fy(e),e.lookahead<md&&t===pv)return $o;if(e.lookahead===0)break}if(r=0,e.lookahead>=Si&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Si-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Si-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-md&&(e.match_length=F5e(e,r),e.match_length<=5&&(e.strategy===fSt||e.match_length===Si&&e.strstart-e.match_start>4096)&&(e.match_length=Si-1)),e.prev_length>=Si&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Si,n=gc._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-Si),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Si-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Si-1,e.strstart++,n&&(_s(e,!1),e.strm.avail_out===0))return $o}else if(e.match_available){if(n=gc._tr_tally(e,0,e.window[e.strstart-1]),n&&_s(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return $o}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=gc._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Si-1?e.strstart:Si-1,t===w1?(_s(e,!0),e.strm.avail_out===0?Ny:m3):e.last_lit&&(_s(e,!1),e.strm.avail_out===0)?$o:iS}function MSt(e,t){for(var r,n,i,s,c=e.window;;){if(e.lookahead<=s1){if(Fy(e),e.lookahead<=s1&&t===pv)return $o;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Si&&e.strstart>0&&(i=e.strstart-1,n=c[i],n===c[++i]&&n===c[++i]&&n===c[++i])){s=e.strstart+s1;do;while(n===c[++i]&&n===c[++i]&&n===c[++i]&&n===c[++i]&&n===c[++i]&&n===c[++i]&&n===c[++i]&&n===c[++i]&&i<s);e.match_length=s1-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Si?(r=gc._tr_tally(e,1,e.match_length-Si),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=gc._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(_s(e,!1),e.strm.avail_out===0))return $o}return e.insert=0,t===w1?(_s(e,!0),e.strm.avail_out===0?Ny:m3):e.last_lit&&(_s(e,!1),e.strm.avail_out===0)?$o:iS}function kSt(e,t){for(var r;;){if(e.lookahead===0&&(Fy(e),e.lookahead===0)){if(t===pv)return $o;break}if(e.match_length=0,r=gc._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(_s(e,!1),e.strm.avail_out===0))return $o}return e.insert=0,t===w1?(_s(e,!0),e.strm.avail_out===0?Ny:m3):e.last_lit&&(_s(e,!1),e.strm.avail_out===0)?$o:iS}function Kd(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}var Wb;Wb=[new Kd(0,0,0,0,ISt),new Kd(4,4,8,4,xB),new Kd(4,5,16,8,xB),new Kd(4,6,32,32,xB),new Kd(4,4,16,16,G_),new Kd(8,16,32,32,G_),new Kd(8,16,128,128,G_),new Kd(8,32,128,256,G_),new Kd(32,128,258,1024,G_),new Kd(32,258,258,4096,G_)];function OSt(e){e.window_size=2*e.w_size,Xm(e.head),e.max_lazy_match=Wb[e.level].max_lazy,e.good_match=Wb[e.level].good_length,e.nice_match=Wb[e.level].nice_length,e.max_chain_length=Wb[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Si-1,e.match_available=0,e.ins_h=0}function DSt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=lk,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new dl.Buf16(ESt*2),this.dyn_dtree=new dl.Buf16((2*wSt+1)*2),this.bl_tree=new dl.Buf16((2*SSt+1)*2),Xm(this.dyn_ltree),Xm(this.dyn_dtree),Xm(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new dl.Buf16(ASt+1),this.heap=new dl.Buf16(2*GV+1),Xm(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new dl.Buf16(2*GV+1),Xm(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function j5e(e){var t;return!e||!e.state?l1(e,yc):(e.total_in=e.total_out=0,e.data_type=gSt,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?uk:Qg,e.adler=t.wrap===2?0:1,t.last_flush=pv,gc._tr_init(t),lf)}function V5e(e){var t=j5e(e);return t===lf&&OSt(e.state),t}function RSt(e,t){return!e||!e.state||e.state.wrap!==2?yc:(e.state.gzhead=t,lf)}function U5e(e,t,r,n,i,s){if(!e)return yc;var c=1;if(t===dSt&&(t=6),n<0?(c=0,n=-n):n>15&&(c=2,n-=16),i<1||i>ySt||r!==lk||n<8||n>15||t<0||t>9||s<0||s>hSt)return l1(e,yc);n===8&&(n=9);var p=new DSt;return e.state=p,p.strm=e,p.wrap=c,p.gzhead=null,p.w_bits=n,p.w_size=1<<p.w_bits,p.w_mask=p.w_size-1,p.hash_bits=i+7,p.hash_size=1<<p.hash_bits,p.hash_mask=p.hash_size-1,p.hash_shift=~~((p.hash_bits+Si-1)/Si),p.window=new dl.Buf8(p.w_size*2),p.head=new dl.Buf16(p.hash_size),p.prev=new dl.Buf16(p.w_size),p.lit_bufsize=1<<i+6,p.pending_buf_size=p.lit_bufsize*4,p.pending_buf=new dl.Buf8(p.pending_buf_size),p.d_buf=1*p.lit_bufsize,p.l_buf=3*p.lit_bufsize,p.level=t,p.strategy=s,p.method=r,V5e(e)}function $St(e,t){return U5e(e,t,lk,vSt,_St,mSt)}function LSt(e,t){var r,n,i,s;if(!e||!e.state||t>xue||t<0)return e?l1(e,yc):yc;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===z6&&t!==w1)return l1(e,e.avail_out===0?bB:yc);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===uk)if(n.wrap===2)e.adler=0,ki(n,31),ki(n,139),ki(n,8),n.gzhead?(ki(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ki(n,n.gzhead.time&255),ki(n,n.gzhead.time>>8&255),ki(n,n.gzhead.time>>16&255),ki(n,n.gzhead.time>>24&255),ki(n,n.level===9?2:n.strategy>=AA||n.level<2?4:0),ki(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(ki(n,n.gzhead.extra.length&255),ki(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Bm(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=qV):(ki(n,0),ki(n,0),ki(n,0),ki(n,0),ki(n,0),ki(n,n.level===9?2:n.strategy>=AA||n.level<2?4:0),ki(n,PSt),n.status=Qg);else{var c=lk+(n.w_bits-8<<4)<<8,p=-1;n.strategy>=AA||n.level<2?p=0:n.level<6?p=1:n.level===6?p=2:p=3,c|=p<<6,n.strstart!==0&&(c|=TSt),c+=31-c%31,n.status=Qg,V2(n,c),n.strstart!==0&&(V2(n,e.adler>>>16),V2(n,e.adler&65535)),e.adler=1}if(n.status===qV)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Bm(e.adler,n.pending_buf,n.pending-i,i)),zm(e),i=n.pending,n.pending===n.pending_buf_size));)ki(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=Bm(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=PT)}else n.status=PT;if(n.status===PT)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Bm(e.adler,n.pending_buf,n.pending-i,i)),zm(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,ki(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Bm(e.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.gzindex=0,n.status=CT)}else n.status=CT;if(n.status===CT)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Bm(e.adler,n.pending_buf,n.pending-i,i)),zm(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,ki(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Bm(e.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.status=IT)}else n.status=IT;if(n.status===IT&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&zm(e),n.pending+2<=n.pending_buf_size&&(ki(n,e.adler&255),ki(n,e.adler>>8&255),e.adler=0,n.status=Qg)):n.status=Qg),n.pending!==0){if(zm(e),e.avail_out===0)return n.last_flush=-1,lf}else if(e.avail_in===0&&Sue(t)<=Sue(r)&&t!==w1)return l1(e,bB);if(n.status===z6&&e.avail_in!==0)return l1(e,bB);if(e.avail_in!==0||n.lookahead!==0||t!==pv&&n.status!==z6){var o=n.strategy===AA?kSt(n,t):n.strategy===pSt?MSt(n,t):Wb[n.level].func(n,t);if((o===Ny||o===m3)&&(n.status=z6),o===$o||o===Ny)return e.avail_out===0&&(n.last_flush=-1),lf;if(o===iS&&(t===lSt?gc._tr_align(n):t!==xue&&(gc._tr_stored_block(n,0,0,!1),t===uSt&&(Xm(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),zm(e),e.avail_out===0))return n.last_flush=-1,lf}return t!==w1?lf:n.wrap<=0?wue:(n.wrap===2?(ki(n,e.adler&255),ki(n,e.adler>>8&255),ki(n,e.adler>>16&255),ki(n,e.adler>>24&255),ki(n,e.total_in&255),ki(n,e.total_in>>8&255),ki(n,e.total_in>>16&255),ki(n,e.total_in>>24&255)):(V2(n,e.adler>>>16),V2(n,e.adler&65535)),zm(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?lf:wue)}function BSt(e){var t;return!e||!e.state?yc:(t=e.state.status,t!==uk&&t!==qV&&t!==PT&&t!==CT&&t!==IT&&t!==Qg&&t!==z6?l1(e,yc):(e.state=null,t===Qg?l1(e,cSt):lf))}function zSt(e,t){var r=t.length,n,i,s,c,p,o,g,y;if(!e||!e.state||(n=e.state,c=n.wrap,c===2||c===1&&n.status!==uk||n.lookahead))return yc;for(c===1&&(e.adler=N5e(e.adler,t,r,0)),n.wrap=0,r>=n.w_size&&(c===0&&(Xm(n.head),n.strstart=0,n.block_start=0,n.insert=0),y=new dl.Buf8(n.w_size),dl.arraySet(y,t,r-n.w_size,n.w_size,0),t=y,r=n.w_size),p=e.avail_in,o=e.next_in,g=e.input,e.avail_in=r,e.next_in=0,e.input=t,Fy(n);n.lookahead>=Si;){i=n.strstart,s=n.lookahead-(Si-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+Si-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--s);n.strstart=i,n.lookahead=Si-1,Fy(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Si-1,n.match_available=0,e.next_in=o,e.input=g,e.avail_in=p,n.wrap=c,lf}Pf.deflateInit=$St;Pf.deflateInit2=U5e;Pf.deflateReset=V5e;Pf.deflateResetKeep=j5e;Pf.deflateSetHeader=RSt;Pf.deflate=LSt;Pf.deflateEnd=BSt;Pf.deflateSetDictionary=zSt;Pf.deflateInfo="pako deflate (from Nodeca project)";var Sd={},TA=30,NSt=12,FSt=function(t,r){var n,i,s,c,p,o,g,y,x,E,A,M,R,k,D,$,B,V,U,Z,ne,j,fe,be,pe;n=t.state,i=t.next_in,be=t.input,s=i+(t.avail_in-5),c=t.next_out,pe=t.output,p=c-(r-t.avail_out),o=c+(t.avail_out-257),g=n.dmax,y=n.wsize,x=n.whave,E=n.wnext,A=n.window,M=n.hold,R=n.bits,k=n.lencode,D=n.distcode,$=(1<<n.lenbits)-1,B=(1<<n.distbits)-1;e:do{R<15&&(M+=be[i++]<<R,R+=8,M+=be[i++]<<R,R+=8),V=k[M&$];t:for(;;){if(U=V>>>24,M>>>=U,R-=U,U=V>>>16&255,U===0)pe[c++]=V&65535;else if(U&16){Z=V&65535,U&=15,U&&(R<U&&(M+=be[i++]<<R,R+=8),Z+=M&(1<<U)-1,M>>>=U,R-=U),R<15&&(M+=be[i++]<<R,R+=8,M+=be[i++]<<R,R+=8),V=D[M&B];r:for(;;){if(U=V>>>24,M>>>=U,R-=U,U=V>>>16&255,U&16){if(ne=V&65535,U&=15,R<U&&(M+=be[i++]<<R,R+=8,R<U&&(M+=be[i++]<<R,R+=8)),ne+=M&(1<<U)-1,ne>g){t.msg="invalid distance too far back",n.mode=TA;break e}if(M>>>=U,R-=U,U=c-p,ne>U){if(U=ne-U,U>x&&n.sane){t.msg="invalid distance too far back",n.mode=TA;break e}if(j=0,fe=A,E===0){if(j+=y-U,U<Z){Z-=U;do pe[c++]=A[j++];while(--U);j=c-ne,fe=pe}}else if(E<U){if(j+=y+E-U,U-=E,U<Z){Z-=U;do pe[c++]=A[j++];while(--U);if(j=0,E<Z){U=E,Z-=U;do pe[c++]=A[j++];while(--U);j=c-ne,fe=pe}}}else if(j+=E-U,U<Z){Z-=U;do pe[c++]=A[j++];while(--U);j=c-ne,fe=pe}for(;Z>2;)pe[c++]=fe[j++],pe[c++]=fe[j++],pe[c++]=fe[j++],Z-=3;Z&&(pe[c++]=fe[j++],Z>1&&(pe[c++]=fe[j++]))}else{j=c-ne;do pe[c++]=pe[j++],pe[c++]=pe[j++],pe[c++]=pe[j++],Z-=3;while(Z>2);Z&&(pe[c++]=pe[j++],Z>1&&(pe[c++]=pe[j++]))}}else if(U&64){t.msg="invalid distance code",n.mode=TA;break e}else{V=D[(V&65535)+(M&(1<<U)-1)];continue r}break}}else if(U&64)if(U&32){n.mode=NSt;break e}else{t.msg="invalid literal/length code",n.mode=TA;break e}else{V=k[(V&65535)+(M&(1<<U)-1)];continue t}break}}while(i<s&&c<o);Z=R>>3,i-=Z,R-=Z<<3,M&=(1<<R)-1,t.next_in=i,t.next_out=c,t.avail_in=i<s?5+(s-i):5-(i-s),t.avail_out=c<o?257+(o-c):257-(c-o),n.hold=M,n.bits=R},Eue=rS,q_=15,Aue=852,Tue=592,Pue=0,wB=1,Cue=2,jSt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],VSt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],USt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],WSt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],KSt=function(t,r,n,i,s,c,p,o){var g=o.bits,y=0,x=0,E=0,A=0,M=0,R=0,k=0,D=0,$=0,B=0,V,U,Z,ne,j,fe=null,be=0,pe,le=new Eue.Buf16(q_+1),G=new Eue.Buf16(q_+1),N=null,Y=0,te,re,he;for(y=0;y<=q_;y++)le[y]=0;for(x=0;x<i;x++)le[r[n+x]]++;for(M=g,A=q_;A>=1&&le[A]===0;A--);if(M>A&&(M=A),A===0)return s[c++]=1<<24|64<<16|0,s[c++]=1<<24|64<<16|0,o.bits=1,0;for(E=1;E<A&&le[E]===0;E++);for(M<E&&(M=E),D=1,y=1;y<=q_;y++)if(D<<=1,D-=le[y],D<0)return-1;if(D>0&&(t===Pue||A!==1))return-1;for(G[1]=0,y=1;y<q_;y++)G[y+1]=G[y]+le[y];for(x=0;x<i;x++)r[n+x]!==0&&(p[G[r[n+x]]++]=x);if(t===Pue?(fe=N=p,pe=19):t===wB?(fe=jSt,be-=257,N=VSt,Y-=257,pe=256):(fe=USt,N=WSt,pe=-1),B=0,x=0,y=E,j=c,R=M,k=0,Z=-1,$=1<<M,ne=$-1,t===wB&&$>Aue||t===Cue&&$>Tue)return 1;for(;;){te=y-k,p[x]<pe?(re=0,he=p[x]):p[x]>pe?(re=N[Y+p[x]],he=fe[be+p[x]]):(re=96,he=0),V=1<<y-k,U=1<<R,E=U;do U-=V,s[j+(B>>k)+U]=te<<24|re<<16|he|0;while(U!==0);for(V=1<<y-1;B&V;)V>>=1;if(V!==0?(B&=V-1,B+=V):B=0,x++,--le[y]===0){if(y===A)break;y=r[n+p[x]]}if(y>M&&(B&ne)!==Z){for(k===0&&(k=M),j+=E,R=y-k,D=1<<R;R+k<A&&(D-=le[R+k],!(D<=0));)R++,D<<=1;if($+=1<<R,t===wB&&$>Aue||t===Cue&&$>Tue)return 1;Z=B&ne,s[Z]=M<<24|R<<16|j-c|0}}return B!==0&&(s[j+B]=y-k<<24|64<<16|0),o.bits=M,0},yu=rS,ZV=B5e,Hd=z5e,HSt=FSt,p5=KSt,GSt=0,W5e=1,K5e=2,Iue=4,qSt=5,PA=6,jy=0,ZSt=1,XSt=2,wc=-2,H5e=-3,G5e=-4,YSt=-5,Mue=8,q5e=1,kue=2,Oue=3,Due=4,Rue=5,$ue=6,Lue=7,Bue=8,zue=9,Nue=10,GC=11,ap=12,SB=13,Fue=14,EB=15,jue=16,Vue=17,Uue=18,Wue=19,CA=20,IA=21,Kue=22,Hue=23,Gue=24,que=25,Zue=26,AB=27,Xue=28,Yue=29,Ma=30,Z5e=31,JSt=32,QSt=852,e7t=592,t7t=15,r7t=t7t;function Jue(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function n7t(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new yu.Buf16(320),this.work=new yu.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function X5e(e){var t;return!e||!e.state?wc:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=q5e,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new yu.Buf32(QSt),t.distcode=t.distdyn=new yu.Buf32(e7t),t.sane=1,t.back=-1,jy)}function Y5e(e){var t;return!e||!e.state?wc:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,X5e(e))}function J5e(e,t){var r,n;return!e||!e.state||(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?wc:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Y5e(e))}function Q5e(e,t){var r,n;return e?(n=new n7t,e.state=n,n.window=null,r=J5e(e,t),r!==jy&&(e.state=null),r):wc}function i7t(e){return Q5e(e,r7t)}var Que=!0,TB,PB;function a7t(e){if(Que){var t;for(TB=new yu.Buf32(512),PB=new yu.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(p5(W5e,e.lens,0,288,TB,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;p5(K5e,e.lens,0,32,PB,0,e.work,{bits:5}),Que=!1}e.lencode=TB,e.lenbits=9,e.distcode=PB,e.distbits=5}function e8e(e,t,r,n){var i,s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new yu.Buf8(s.wsize)),n>=s.wsize?(yu.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),yu.arraySet(s.window,t,r-n,i,s.wnext),n-=i,n?(yu.arraySet(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function o7t(e,t){var r,n,i,s,c,p,o,g,y,x,E,A,M,R,k=0,D,$,B,V,U,Z,ne,j,fe=new yu.Buf8(4),be,pe,le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return wc;r=e.state,r.mode===ap&&(r.mode=SB),c=e.next_out,i=e.output,o=e.avail_out,s=e.next_in,n=e.input,p=e.avail_in,g=r.hold,y=r.bits,x=p,E=o,j=jy;e:for(;;)switch(r.mode){case q5e:if(r.wrap===0){r.mode=SB;break}for(;y<16;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}if(r.wrap&2&&g===35615){r.check=0,fe[0]=g&255,fe[1]=g>>>8&255,r.check=Hd(r.check,fe,2,0),g=0,y=0,r.mode=kue;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((g&255)<<8)+(g>>8))%31){e.msg="incorrect header check",r.mode=Ma;break}if((g&15)!==Mue){e.msg="unknown compression method",r.mode=Ma;break}if(g>>>=4,y-=4,ne=(g&15)+8,r.wbits===0)r.wbits=ne;else if(ne>r.wbits){e.msg="invalid window size",r.mode=Ma;break}r.dmax=1<<ne,e.adler=r.check=1,r.mode=g&512?Nue:ap,g=0,y=0;break;case kue:for(;y<16;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}if(r.flags=g,(r.flags&255)!==Mue){e.msg="unknown compression method",r.mode=Ma;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Ma;break}r.head&&(r.head.text=g>>8&1),r.flags&512&&(fe[0]=g&255,fe[1]=g>>>8&255,r.check=Hd(r.check,fe,2,0)),g=0,y=0,r.mode=Oue;case Oue:for(;y<32;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}r.head&&(r.head.time=g),r.flags&512&&(fe[0]=g&255,fe[1]=g>>>8&255,fe[2]=g>>>16&255,fe[3]=g>>>24&255,r.check=Hd(r.check,fe,4,0)),g=0,y=0,r.mode=Due;case Due:for(;y<16;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}r.head&&(r.head.xflags=g&255,r.head.os=g>>8),r.flags&512&&(fe[0]=g&255,fe[1]=g>>>8&255,r.check=Hd(r.check,fe,2,0)),g=0,y=0,r.mode=Rue;case Rue:if(r.flags&1024){for(;y<16;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}r.length=g,r.head&&(r.head.extra_len=g),r.flags&512&&(fe[0]=g&255,fe[1]=g>>>8&255,r.check=Hd(r.check,fe,2,0)),g=0,y=0}else r.head&&(r.head.extra=null);r.mode=$ue;case $ue:if(r.flags&1024&&(A=r.length,A>p&&(A=p),A&&(r.head&&(ne=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),yu.arraySet(r.head.extra,n,s,A,ne)),r.flags&512&&(r.check=Hd(r.check,n,A,s)),p-=A,s+=A,r.length-=A),r.length))break e;r.length=0,r.mode=Lue;case Lue:if(r.flags&2048){if(p===0)break e;A=0;do ne=n[s+A++],r.head&&ne&&r.length<65536&&(r.head.name+=String.fromCharCode(ne));while(ne&&A<p);if(r.flags&512&&(r.check=Hd(r.check,n,A,s)),p-=A,s+=A,ne)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Bue;case Bue:if(r.flags&4096){if(p===0)break e;A=0;do ne=n[s+A++],r.head&&ne&&r.length<65536&&(r.head.comment+=String.fromCharCode(ne));while(ne&&A<p);if(r.flags&512&&(r.check=Hd(r.check,n,A,s)),p-=A,s+=A,ne)break e}else r.head&&(r.head.comment=null);r.mode=zue;case zue:if(r.flags&512){for(;y<16;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}if(g!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Ma;break}g=0,y=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=ap;break;case Nue:for(;y<32;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}e.adler=r.check=Jue(g),g=0,y=0,r.mode=GC;case GC:if(r.havedict===0)return e.next_out=c,e.avail_out=o,e.next_in=s,e.avail_in=p,r.hold=g,r.bits=y,XSt;e.adler=r.check=1,r.mode=ap;case ap:if(t===qSt||t===PA)break e;case SB:if(r.last){g>>>=y&7,y-=y&7,r.mode=AB;break}for(;y<3;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}switch(r.last=g&1,g>>>=1,y-=1,g&3){case 0:r.mode=Fue;break;case 1:if(a7t(r),r.mode=CA,t===PA){g>>>=2,y-=2;break e}break;case 2:r.mode=Vue;break;case 3:e.msg="invalid block type",r.mode=Ma}g>>>=2,y-=2;break;case Fue:for(g>>>=y&7,y-=y&7;y<32;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}if((g&65535)!==(g>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Ma;break}if(r.length=g&65535,g=0,y=0,r.mode=EB,t===PA)break e;case EB:r.mode=jue;case jue:if(A=r.length,A){if(A>p&&(A=p),A>o&&(A=o),A===0)break e;yu.arraySet(i,n,s,A,c),p-=A,s+=A,o-=A,c+=A,r.length-=A;break}r.mode=ap;break;case Vue:for(;y<14;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}if(r.nlen=(g&31)+257,g>>>=5,y-=5,r.ndist=(g&31)+1,g>>>=5,y-=5,r.ncode=(g&15)+4,g>>>=4,y-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Ma;break}r.have=0,r.mode=Uue;case Uue:for(;r.have<r.ncode;){for(;y<3;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}r.lens[le[r.have++]]=g&7,g>>>=3,y-=3}for(;r.have<19;)r.lens[le[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,be={bits:r.lenbits},j=p5(GSt,r.lens,0,19,r.lencode,0,r.work,be),r.lenbits=be.bits,j){e.msg="invalid code lengths set",r.mode=Ma;break}r.have=0,r.mode=Wue;case Wue:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[g&(1<<r.lenbits)-1],D=k>>>24,$=k>>>16&255,B=k&65535,!(D<=y);){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}if(B<16)g>>>=D,y-=D,r.lens[r.have++]=B;else{if(B===16){for(pe=D+2;y<pe;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}if(g>>>=D,y-=D,r.have===0){e.msg="invalid bit length repeat",r.mode=Ma;break}ne=r.lens[r.have-1],A=3+(g&3),g>>>=2,y-=2}else if(B===17){for(pe=D+3;y<pe;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}g>>>=D,y-=D,ne=0,A=3+(g&7),g>>>=3,y-=3}else{for(pe=D+7;y<pe;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}g>>>=D,y-=D,ne=0,A=11+(g&127),g>>>=7,y-=7}if(r.have+A>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Ma;break}for(;A--;)r.lens[r.have++]=ne}}if(r.mode===Ma)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Ma;break}if(r.lenbits=9,be={bits:r.lenbits},j=p5(W5e,r.lens,0,r.nlen,r.lencode,0,r.work,be),r.lenbits=be.bits,j){e.msg="invalid literal/lengths set",r.mode=Ma;break}if(r.distbits=6,r.distcode=r.distdyn,be={bits:r.distbits},j=p5(K5e,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,be),r.distbits=be.bits,j){e.msg="invalid distances set",r.mode=Ma;break}if(r.mode=CA,t===PA)break e;case CA:r.mode=IA;case IA:if(p>=6&&o>=258){e.next_out=c,e.avail_out=o,e.next_in=s,e.avail_in=p,r.hold=g,r.bits=y,HSt(e,E),c=e.next_out,i=e.output,o=e.avail_out,s=e.next_in,n=e.input,p=e.avail_in,g=r.hold,y=r.bits,r.mode===ap&&(r.back=-1);break}for(r.back=0;k=r.lencode[g&(1<<r.lenbits)-1],D=k>>>24,$=k>>>16&255,B=k&65535,!(D<=y);){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}if($&&!($&240)){for(V=D,U=$,Z=B;k=r.lencode[Z+((g&(1<<V+U)-1)>>V)],D=k>>>24,$=k>>>16&255,B=k&65535,!(V+D<=y);){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}g>>>=V,y-=V,r.back+=V}if(g>>>=D,y-=D,r.back+=D,r.length=B,$===0){r.mode=Zue;break}if($&32){r.back=-1,r.mode=ap;break}if($&64){e.msg="invalid literal/length code",r.mode=Ma;break}r.extra=$&15,r.mode=Kue;case Kue:if(r.extra){for(pe=r.extra;y<pe;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}r.length+=g&(1<<r.extra)-1,g>>>=r.extra,y-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Hue;case Hue:for(;k=r.distcode[g&(1<<r.distbits)-1],D=k>>>24,$=k>>>16&255,B=k&65535,!(D<=y);){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}if(!($&240)){for(V=D,U=$,Z=B;k=r.distcode[Z+((g&(1<<V+U)-1)>>V)],D=k>>>24,$=k>>>16&255,B=k&65535,!(V+D<=y);){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}g>>>=V,y-=V,r.back+=V}if(g>>>=D,y-=D,r.back+=D,$&64){e.msg="invalid distance code",r.mode=Ma;break}r.offset=B,r.extra=$&15,r.mode=Gue;case Gue:if(r.extra){for(pe=r.extra;y<pe;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}r.offset+=g&(1<<r.extra)-1,g>>>=r.extra,y-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Ma;break}r.mode=que;case que:if(o===0)break e;if(A=E-o,r.offset>A){if(A=r.offset-A,A>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Ma;break}A>r.wnext?(A-=r.wnext,M=r.wsize-A):M=r.wnext-A,A>r.length&&(A=r.length),R=r.window}else R=i,M=c-r.offset,A=r.length;A>o&&(A=o),o-=A,r.length-=A;do i[c++]=R[M++];while(--A);r.length===0&&(r.mode=IA);break;case Zue:if(o===0)break e;i[c++]=r.length,o--,r.mode=IA;break;case AB:if(r.wrap){for(;y<32;){if(p===0)break e;p--,g|=n[s++]<<y,y+=8}if(E-=o,e.total_out+=E,r.total+=E,E&&(e.adler=r.check=r.flags?Hd(r.check,i,E,c-E):ZV(r.check,i,E,c-E)),E=o,(r.flags?g:Jue(g))!==r.check){e.msg="incorrect data check",r.mode=Ma;break}g=0,y=0}r.mode=Xue;case Xue:if(r.wrap&&r.flags){for(;y<32;){if(p===0)break e;p--,g+=n[s++]<<y,y+=8}if(g!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Ma;break}g=0,y=0}r.mode=Yue;case Yue:j=ZSt;break e;case Ma:j=H5e;break e;case Z5e:return G5e;case JSt:default:return wc}return e.next_out=c,e.avail_out=o,e.next_in=s,e.avail_in=p,r.hold=g,r.bits=y,(r.wsize||E!==e.avail_out&&r.mode<Ma&&(r.mode<AB||t!==Iue))&&e8e(e,e.output,e.next_out,E-e.avail_out),x-=e.avail_in,E-=e.avail_out,e.total_in+=x,e.total_out+=E,r.total+=E,r.wrap&&E&&(e.adler=r.check=r.flags?Hd(r.check,i,E,e.next_out-E):ZV(r.check,i,E,e.next_out-E)),e.data_type=r.bits+(r.last?64:0)+(r.mode===ap?128:0)+(r.mode===CA||r.mode===EB?256:0),(x===0&&E===0||t===Iue)&&j===jy&&(j=YSt),j}function s7t(e){if(!e||!e.state)return wc;var t=e.state;return t.window&&(t.window=null),e.state=null,jy}function l7t(e,t){var r;return!e||!e.state||(r=e.state,!(r.wrap&2))?wc:(r.head=t,t.done=!1,jy)}function u7t(e,t){var r=t.length,n,i,s;return!e||!e.state||(n=e.state,n.wrap!==0&&n.mode!==GC)?wc:n.mode===GC&&(i=1,i=ZV(i,t,r,0),i!==n.check)?H5e:(s=e8e(e,t,r,r),s?(n.mode=Z5e,G5e):(n.havedict=1,jy))}Sd.inflateReset=Y5e;Sd.inflateReset2=J5e;Sd.inflateResetKeep=X5e;Sd.inflateInit=i7t;Sd.inflateInit2=Q5e;Sd.inflate=o7t;Sd.inflateEnd=s7t;Sd.inflateGetHeader=l7t;Sd.inflateSetDictionary=u7t;Sd.inflateInfo="pako inflate (from Nodeca project)";var c7t={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};(function(e){var t=KC(),r=R9t,n=Pf,i=Sd,s=c7t;for(var c in s)e[c]=s[c];e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7;var p=31,o=139;function g(y){if(typeof y!="number"||y<e.DEFLATE||y>e.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=y,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}g.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,t(this.init_done,"close before init"),t(this.mode<=e.UNZIP),this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?n.deflateEnd(this.strm):(this.mode===e.INFLATE||this.mode===e.GUNZIP||this.mode===e.INFLATERAW||this.mode===e.UNZIP)&&i.inflateEnd(this.strm),this.mode=e.NONE,this.dictionary=null},g.prototype.write=function(y,x,E,A,M,R,k){return this._write(!0,y,x,E,A,M,R,k)},g.prototype.writeSync=function(y,x,E,A,M,R,k){return this._write(!1,y,x,E,A,M,R,k)},g.prototype._write=function(y,x,E,A,M,R,k,D){if(t.equal(arguments.length,8),t(this.init_done,"write before init"),t(this.mode!==e.NONE,"already finalized"),t.equal(!1,this.write_in_progress,"write already in progress"),t.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,t.equal(!1,x===void 0,"must provide flush value"),this.write_in_progress=!0,x!==e.Z_NO_FLUSH&&x!==e.Z_PARTIAL_FLUSH&&x!==e.Z_SYNC_FLUSH&&x!==e.Z_FULL_FLUSH&&x!==e.Z_FINISH&&x!==e.Z_BLOCK)throw new Error("Invalid flush value");if(E==null&&(E=Nn.alloc(0),M=0,A=0),this.strm.avail_in=M,this.strm.input=E,this.strm.next_in=A,this.strm.avail_out=D,this.strm.output=R,this.strm.next_out=k,this.flush=x,!y)return this._process(),this._checkError()?this._afterSync():void 0;var $=this;return mn.nextTick(function(){$._process(),$._after()}),this},g.prototype._afterSync=function(){var y=this.strm.avail_out,x=this.strm.avail_in;return this.write_in_progress=!1,[x,y]},g.prototype._process=function(){var y=null;switch(this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=n.deflate(this.strm,this.flush);break;case e.UNZIP:switch(this.strm.avail_in>0&&(y=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(y===null)break;if(this.strm.input[y]===p){if(this.gzip_id_bytes_read=1,y++,this.strm.avail_in===1)break}else{this.mode=e.INFLATE;break}case 1:if(y===null)break;this.strm.input[y]===o?(this.gzip_id_bytes_read=2,this.mode=e.GUNZIP):this.mode=e.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:for(this.err=i.inflate(this.strm,this.flush),this.err===e.Z_NEED_DICT&&this.dictionary&&(this.err=i.inflateSetDictionary(this.strm,this.dictionary),this.err===e.Z_OK?this.err=i.inflate(this.strm,this.flush):this.err===e.Z_DATA_ERROR&&(this.err=e.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===e.GUNZIP&&this.err===e.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=i.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},g.prototype._checkError=function(){switch(this.err){case e.Z_OK:case e.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===e.Z_FINISH)return this._error("unexpected end of file"),!1;break;case e.Z_STREAM_END:break;case e.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},g.prototype._after=function(){if(this._checkError()){var y=this.strm.avail_out,x=this.strm.avail_in;this.write_in_progress=!1,this.callback(x,y),this.pending_close&&this.close()}},g.prototype._error=function(y){this.strm.msg&&(y=this.strm.msg),this.onerror(y,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},g.prototype.init=function(y,x,E,A,M){t(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),t(y>=8&&y<=15,"invalid windowBits"),t(x>=-1&&x<=9,"invalid compression level"),t(E>=1&&E<=9,"invalid memlevel"),t(A===e.Z_FILTERED||A===e.Z_HUFFMAN_ONLY||A===e.Z_RLE||A===e.Z_FIXED||A===e.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(x,y,E,A,M),this._setDictionary()},g.prototype.params=function(){throw new Error("deflateParams Not supported")},g.prototype.reset=function(){this._reset(),this._setDictionary()},g.prototype._init=function(y,x,E,A,M){switch(this.level=y,this.windowBits=x,this.memLevel=E,this.strategy=A,this.flush=e.Z_NO_FLUSH,this.err=e.Z_OK,(this.mode===e.GZIP||this.mode===e.GUNZIP)&&(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),(this.mode===e.DEFLATERAW||this.mode===e.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new r,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=n.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:this.err=i.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==e.Z_OK&&this._error("Init error"),this.dictionary=M,this.write_in_progress=!1,this.init_done=!0},g.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:this.err=n.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==e.Z_OK&&this._error("Failed to set dictionary")}},g.prototype._reset=function(){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:case e.GZIP:this.err=n.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:case e.GUNZIP:this.err=i.inflateReset(this.strm);break}this.err!==e.Z_OK&&this._error("Failed to reset stream")},e.Zlib=g})(p5e);(function(e){var t=M1.Buffer,r=B6e.Transform,n=p5e,i=vh,s=KC().ok,c=M1.kMaxLength,p="Cannot create final Buffer. It would be larger than 0x"+c.toString(16)+" bytes";n.Z_MIN_WINDOWBITS=8,n.Z_MAX_WINDOWBITS=15,n.Z_DEFAULT_WINDOWBITS=15,n.Z_MIN_CHUNK=64,n.Z_MAX_CHUNK=1/0,n.Z_DEFAULT_CHUNK=16*1024,n.Z_MIN_MEMLEVEL=1,n.Z_MAX_MEMLEVEL=9,n.Z_DEFAULT_MEMLEVEL=8,n.Z_MIN_LEVEL=-1,n.Z_MAX_LEVEL=9,n.Z_DEFAULT_LEVEL=n.Z_DEFAULT_COMPRESSION;for(var o=Object.keys(n),g=0;g<o.length;g++){var y=o[g];y.match(/^Z/)&&Object.defineProperty(e,y,{enumerable:!0,value:n[y],writable:!1})}for(var x={Z_OK:n.Z_OK,Z_STREAM_END:n.Z_STREAM_END,Z_NEED_DICT:n.Z_NEED_DICT,Z_ERRNO:n.Z_ERRNO,Z_STREAM_ERROR:n.Z_STREAM_ERROR,Z_DATA_ERROR:n.Z_DATA_ERROR,Z_MEM_ERROR:n.Z_MEM_ERROR,Z_BUF_ERROR:n.Z_BUF_ERROR,Z_VERSION_ERROR:n.Z_VERSION_ERROR},E=Object.keys(x),A=0;A<E.length;A++){var M=E[A];x[x[M]]=M}Object.defineProperty(e,"codes",{enumerable:!0,value:Object.freeze(x),writable:!1}),e.Deflate=D,e.Inflate=$,e.Gzip=B,e.Gunzip=V,e.DeflateRaw=U,e.InflateRaw=Z,e.Unzip=ne,e.createDeflate=function(le){return new D(le)},e.createInflate=function(le){return new $(le)},e.createDeflateRaw=function(le){return new U(le)},e.createInflateRaw=function(le){return new Z(le)},e.createGzip=function(le){return new B(le)},e.createGunzip=function(le){return new V(le)},e.createUnzip=function(le){return new ne(le)},e.deflate=function(le,G,N){return typeof G=="function"&&(N=G,G={}),R(new D(G),le,N)},e.deflateSync=function(le,G){return k(new D(G),le)},e.gzip=function(le,G,N){return typeof G=="function"&&(N=G,G={}),R(new B(G),le,N)},e.gzipSync=function(le,G){return k(new B(G),le)},e.deflateRaw=function(le,G,N){return typeof G=="function"&&(N=G,G={}),R(new U(G),le,N)},e.deflateRawSync=function(le,G){return k(new U(G),le)},e.unzip=function(le,G,N){return typeof G=="function"&&(N=G,G={}),R(new ne(G),le,N)},e.unzipSync=function(le,G){return k(new ne(G),le)},e.inflate=function(le,G,N){return typeof G=="function"&&(N=G,G={}),R(new $(G),le,N)},e.inflateSync=function(le,G){return k(new $(G),le)},e.gunzip=function(le,G,N){return typeof G=="function"&&(N=G,G={}),R(new V(G),le,N)},e.gunzipSync=function(le,G){return k(new V(G),le)},e.inflateRaw=function(le,G,N){return typeof G=="function"&&(N=G,G={}),R(new Z(G),le,N)},e.inflateRawSync=function(le,G){return k(new Z(G),le)};function R(le,G,N){var Y=[],te=0;le.on("error",he),le.on("end",we),le.end(G),re();function re(){for(var ye;(ye=le.read())!==null;)Y.push(ye),te+=ye.length;le.once("readable",re)}function he(ye){le.removeListener("end",we),le.removeListener("readable",re),N(ye)}function we(){var ye,ue=null;te>=c?ue=new RangeError(p):ye=t.concat(Y,te),Y=[],le.close(),N(ue,ye)}}function k(le,G){if(typeof G=="string"&&(G=t.from(G)),!t.isBuffer(G))throw new TypeError("Not a string or buffer");var N=le._finishFlushFlag;return le._processChunk(G,N)}function D(le){if(!(this instanceof D))return new D(le);fe.call(this,le,n.DEFLATE)}function $(le){if(!(this instanceof $))return new $(le);fe.call(this,le,n.INFLATE)}function B(le){if(!(this instanceof B))return new B(le);fe.call(this,le,n.GZIP)}function V(le){if(!(this instanceof V))return new V(le);fe.call(this,le,n.GUNZIP)}function U(le){if(!(this instanceof U))return new U(le);fe.call(this,le,n.DEFLATERAW)}function Z(le){if(!(this instanceof Z))return new Z(le);fe.call(this,le,n.INFLATERAW)}function ne(le){if(!(this instanceof ne))return new ne(le);fe.call(this,le,n.UNZIP)}function j(le){return le===n.Z_NO_FLUSH||le===n.Z_PARTIAL_FLUSH||le===n.Z_SYNC_FLUSH||le===n.Z_FULL_FLUSH||le===n.Z_FINISH||le===n.Z_BLOCK}function fe(le,G){var N=this;if(this._opts=le=le||{},this._chunkSize=le.chunkSize||e.Z_DEFAULT_CHUNK,r.call(this,le),le.flush&&!j(le.flush))throw new Error("Invalid flush flag: "+le.flush);if(le.finishFlush&&!j(le.finishFlush))throw new Error("Invalid flush flag: "+le.finishFlush);if(this._flushFlag=le.flush||n.Z_NO_FLUSH,this._finishFlushFlag=typeof le.finishFlush<"u"?le.finishFlush:n.Z_FINISH,le.chunkSize&&(le.chunkSize<e.Z_MIN_CHUNK||le.chunkSize>e.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+le.chunkSize);if(le.windowBits&&(le.windowBits<e.Z_MIN_WINDOWBITS||le.windowBits>e.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+le.windowBits);if(le.level&&(le.level<e.Z_MIN_LEVEL||le.level>e.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+le.level);if(le.memLevel&&(le.memLevel<e.Z_MIN_MEMLEVEL||le.memLevel>e.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+le.memLevel);if(le.strategy&&le.strategy!=e.Z_FILTERED&&le.strategy!=e.Z_HUFFMAN_ONLY&&le.strategy!=e.Z_RLE&&le.strategy!=e.Z_FIXED&&le.strategy!=e.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+le.strategy);if(le.dictionary&&!t.isBuffer(le.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new n.Zlib(G);var Y=this;this._hadError=!1,this._handle.onerror=function(he,we){be(Y),Y._hadError=!0;var ye=new Error(he);ye.errno=we,ye.code=e.codes[we],Y.emit("error",ye)};var te=e.Z_DEFAULT_COMPRESSION;typeof le.level=="number"&&(te=le.level);var re=e.Z_DEFAULT_STRATEGY;typeof le.strategy=="number"&&(re=le.strategy),this._handle.init(le.windowBits||e.Z_DEFAULT_WINDOWBITS,te,le.memLevel||e.Z_DEFAULT_MEMLEVEL,re,le.dictionary),this._buffer=t.allocUnsafe(this._chunkSize),this._offset=0,this._level=te,this._strategy=re,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!N._handle},configurable:!0,enumerable:!0})}i.inherits(fe,r),fe.prototype.params=function(le,G,N){if(le<e.Z_MIN_LEVEL||le>e.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+le);if(G!=e.Z_FILTERED&&G!=e.Z_HUFFMAN_ONLY&&G!=e.Z_RLE&&G!=e.Z_FIXED&&G!=e.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+G);if(this._level!==le||this._strategy!==G){var Y=this;this.flush(n.Z_SYNC_FLUSH,function(){s(Y._handle,"zlib binding closed"),Y._handle.params(le,G),Y._hadError||(Y._level=le,Y._strategy=G,N&&N())})}else mn.nextTick(N)},fe.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},fe.prototype._flush=function(le){this._transform(t.alloc(0),"",le)},fe.prototype.flush=function(le,G){var N=this,Y=this._writableState;(typeof le=="function"||le===void 0&&!G)&&(G=le,le=n.Z_FULL_FLUSH),Y.ended?G&&mn.nextTick(G):Y.ending?G&&this.once("end",G):Y.needDrain?G&&this.once("drain",function(){return N.flush(le,G)}):(this._flushFlag=le,this.write(t.alloc(0),"",G))},fe.prototype.close=function(le){be(this,le),mn.nextTick(pe,this)};function be(le,G){G&&mn.nextTick(G),le._handle&&(le._handle.close(),le._handle=null)}function pe(le){le.emit("close")}fe.prototype._transform=function(le,G,N){var Y,te=this._writableState,re=te.ending||te.ended,he=re&&(!le||te.length===le.length);if(le!==null&&!t.isBuffer(le))return N(new Error("invalid input"));if(!this._handle)return N(new Error("zlib binding closed"));he?Y=this._finishFlushFlag:(Y=this._flushFlag,le.length>=te.length&&(this._flushFlag=this._opts.flush||n.Z_NO_FLUSH)),this._processChunk(le,Y,N)},fe.prototype._processChunk=function(le,G,N){var Y=le&&le.length,te=this._chunkSize-this._offset,re=0,he=this,we=typeof N=="function";if(!we){var ye=[],ue=0,J;this.on("error",function(We){J=We}),s(this._handle,"zlib binding closed");do var de=this._handle.writeSync(G,le,re,Y,this._buffer,this._offset,te);while(!this._hadError&&Se(de[0],de[1]));if(this._hadError)throw J;if(ue>=c)throw be(this),new RangeError(p);var ke=t.concat(ye,ue);return be(this),ke}s(this._handle,"zlib binding closed");var Oe=this._handle.write(G,le,re,Y,this._buffer,this._offset,te);Oe.buffer=le,Oe.callback=Se;function Se(We,Je){if(this&&(this.buffer=null,this.callback=null),!he._hadError){var $e=te-Je;if(s($e>=0,"have should not go down"),$e>0){var ft=he._buffer.slice(he._offset,he._offset+$e);he._offset+=$e,we?he.push(ft):(ye.push(ft),ue+=ft.length)}if((Je===0||he._offset>=he._chunkSize)&&(te=he._chunkSize,he._offset=0,he._buffer=t.allocUnsafe(he._chunkSize)),Je===0){if(re+=Y-We,Y=We,!we)return!0;var Me=he._handle.write(G,le,re,Y,he._buffer,he._offset,he._chunkSize);Me.callback=Se,Me.buffer=le;return}if(!we)return!1;N()}}},i.inherits(D,fe),i.inherits($,fe),i.inherits(B,fe),i.inherits(V,fe),i.inherits(U,fe),i.inherits(Z,fe),i.inherits(ne,fe)})(f5e);const mg=oi(f5e),d7t=bd.Readable,yp=Symbol("buffer"),CB=Symbol("type");let RG=class XV{constructor(){this[CB]="";const t=arguments[0],r=arguments[1],n=[];let i=0;if(t){const c=t,p=Number(c.length);for(let o=0;o<p;o++){const g=c[o];let y;g instanceof Nn?y=g:ArrayBuffer.isView(g)?y=Nn.from(g.buffer,g.byteOffset,g.byteLength):g instanceof ArrayBuffer?y=Nn.from(g):g instanceof XV?y=g[yp]:y=Nn.from(typeof g=="string"?g:String(g)),i+=y.length,n.push(y)}}this[yp]=Nn.concat(n);let s=r&&r.type!==void 0&&String(r.type).toLowerCase();s&&!/[^\u0020-\u007E]/.test(s)&&(this[CB]=s)}get size(){return this[yp].length}get type(){return this[CB]}text(){return Promise.resolve(this[yp].toString())}arrayBuffer(){const t=this[yp],r=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return Promise.resolve(r)}stream(){const t=new d7t;return t._read=function(){},t.push(this[yp]),t.push(null),t}toString(){return"[object Blob]"}slice(){const t=this.size,r=arguments[0],n=arguments[1];let i,s;r===void 0?i=0:r<0?i=Math.max(t+r,0):i=Math.min(r,t),n===void 0?s=t:n<0?s=Math.max(t+n,0):s=Math.min(n,t);const c=Math.max(s-i,0),o=this[yp].slice(i,i+c),g=new XV([],{type:arguments[2]});return g[yp]=o,g}};Object.defineProperties(RG.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Object.defineProperty(RG.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0});function zs(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}zs.prototype=Object.create(Error.prototype);zs.prototype.constructor=zs;zs.prototype.name="FetchError";let YV;try{YV=require("encoding").convert}catch{}const jp=Symbol("Body internals"),ece=bd.PassThrough;function Jo(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.size;let i=n===void 0?0:n;var s=r.timeout;let c=s===void 0?0:s;e==null?e=null:t8e(e)?e=Nn.from(e.toString()):aS(e)||Nn.isBuffer(e)||(Object.prototype.toString.call(e)==="[object ArrayBuffer]"?e=Nn.from(e):ArrayBuffer.isView(e)?e=Nn.from(e.buffer,e.byteOffset,e.byteLength):e instanceof bd||(e=Nn.from(String(e)))),this[jp]={body:e,disturbed:!1,error:null},this.size=i,this.timeout=c,e instanceof bd&&e.on("error",function(p){const o=p.name==="AbortError"?p:new zs(`Invalid response body while trying to fetch ${t.url}: ${p.message}`,"system",p);t[jp].error=o})}Jo.prototype={get body(){return this[jp].body},get bodyUsed(){return this[jp].disturbed},arrayBuffer(){return Z_.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return Z_.call(this).then(function(t){return Object.assign(new RG([],{type:e.toLowerCase()}),{[yp]:t})})},json(){var e=this;return Z_.call(this).then(function(t){try{return JSON.parse(t.toString())}catch(r){return Jo.Promise.reject(new zs(`invalid json response body at ${e.url} reason: ${r.message}`,"invalid-json"))}})},text(){return Z_.call(this).then(function(e){return e.toString()})},buffer(){return Z_.call(this)},textConverted(){var e=this;return Z_.call(this).then(function(t){return f7t(t,e.headers)})}};Object.defineProperties(Jo.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});Jo.mixIn=function(e){for(const t of Object.getOwnPropertyNames(Jo.prototype))if(!(t in e)){const r=Object.getOwnPropertyDescriptor(Jo.prototype,t);Object.defineProperty(e,t,r)}};function Z_(){var e=this;if(this[jp].disturbed)return Jo.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[jp].disturbed=!0,this[jp].error)return Jo.Promise.reject(this[jp].error);let t=this.body;if(t===null)return Jo.Promise.resolve(Nn.alloc(0));if(aS(t)&&(t=t.stream()),Nn.isBuffer(t))return Jo.Promise.resolve(t);if(!(t instanceof bd))return Jo.Promise.resolve(Nn.alloc(0));let r=[],n=0,i=!1;return new Jo.Promise(function(s,c){let p;e.timeout&&(p=setTimeout(function(){i=!0,c(new zs(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))},e.timeout)),t.on("error",function(o){o.name==="AbortError"?(i=!0,c(o)):c(new zs(`Invalid response body while trying to fetch ${e.url}: ${o.message}`,"system",o))}),t.on("data",function(o){if(!(i||o===null)){if(e.size&&n+o.length>e.size){i=!0,c(new zs(`content size at ${e.url} over limit: ${e.size}`,"max-size"));return}n+=o.length,r.push(o)}}),t.on("end",function(){if(!i){clearTimeout(p);try{s(Nn.concat(r,n))}catch(o){c(new zs(`Could not create Buffer from response body for ${e.url}: ${o.message}`,"system",o))}}})})}function f7t(e,t){if(typeof YV!="function")throw new Error("The package `encoding` must be installed to use the textConverted() function");const r=t.get("content-type");let n="utf-8",i,s;return r&&(i=/charset=([^;]*)/i.exec(r)),s=e.slice(0,1024).toString(),!i&&s&&(i=/<meta.+?charset=(['"])(.+?)\1/i.exec(s)),!i&&s&&(i=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(s),i||(i=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(s),i&&i.pop()),i&&(i=/charset=(.*)/i.exec(i.pop()))),!i&&s&&(i=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(s)),i&&(n=i.pop(),(n==="gb2312"||n==="gbk")&&(n="gb18030")),YV(e,"UTF-8",n).toString()}function t8e(e){return typeof e!="object"||typeof e.append!="function"||typeof e.delete!="function"||typeof e.get!="function"||typeof e.getAll!="function"||typeof e.has!="function"||typeof e.set!="function"?!1:e.constructor.name==="URLSearchParams"||Object.prototype.toString.call(e)==="[object URLSearchParams]"||typeof e.sort=="function"}function aS(e){return typeof e=="object"&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.constructor=="function"&&typeof e.constructor.name=="string"&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function r8e(e){let t,r,n=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof bd&&typeof n.getBoundary!="function"&&(t=new ece,r=new ece,n.pipe(t),n.pipe(r),e[jp].body=t,n=r),n}function n8e(e){return e===null?null:typeof e=="string"?"text/plain;charset=UTF-8":t8e(e)?"application/x-www-form-urlencoded;charset=UTF-8":aS(e)?e.type||null:Nn.isBuffer(e)||Object.prototype.toString.call(e)==="[object ArrayBuffer]"||ArrayBuffer.isView(e)?null:typeof e.getBoundary=="function"?`multipart/form-data;boundary=${e.getBoundary()}`:e instanceof bd?null:"text/plain;charset=UTF-8"}function i8e(e){const t=e.body;return t===null?0:aS(t)?t.size:Nn.isBuffer(t)?t.length:t&&typeof t.getLengthSync=="function"&&(t._lengthRetrievers&&t._lengthRetrievers.length==0||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}function p7t(e,t){const r=t.body;r===null?e.end():aS(r)?r.stream().pipe(e):Nn.isBuffer(r)?(e.write(r),e.end()):r.pipe(e)}Jo.Promise=f6e.Promise;const a8e=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,JV=/[^\t\x20-\x7e\x80-\xff]/;function U2(e){if(e=`${e}`,a8e.test(e)||e==="")throw new TypeError(`${e} is not a legal HTTP header name`)}function tce(e){if(e=`${e}`,JV.test(e))throw new TypeError(`${e} is not a legal HTTP header value`)}function pb(e,t){t=t.toLowerCase();for(const r in e)if(r.toLowerCase()===t)return r}const oo=Symbol("map");let bh=class o8e{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(this[oo]=Object.create(null),t instanceof o8e){const r=t.raw(),n=Object.keys(r);for(const i of n)for(const s of r[i])this.append(i,s);return}if(t!=null)if(typeof t=="object"){const r=t[Symbol.iterator];if(r!=null){if(typeof r!="function")throw new TypeError("Header pairs must be iterable");const n=[];for(const i of t){if(typeof i!="object"||typeof i[Symbol.iterator]!="function")throw new TypeError("Each header pair must be iterable");n.push(Array.from(i))}for(const i of n){if(i.length!==2)throw new TypeError("Each header pair must be a name/value tuple");this.append(i[0],i[1])}}else for(const n of Object.keys(t)){const i=t[n];this.append(n,i)}}else throw new TypeError("Provided initializer must be an object")}get(t){t=`${t}`,U2(t);const r=pb(this[oo],t);return r===void 0?null:this[oo][r].join(", ")}forEach(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=QV(this),i=0;for(;i<n.length;){var s=n[i];const c=s[0],p=s[1];t.call(r,p,c,this),n=QV(this),i++}}set(t,r){t=`${t}`,r=`${r}`,U2(t),tce(r);const n=pb(this[oo],t);this[oo][n!==void 0?n:t]=[r]}append(t,r){t=`${t}`,r=`${r}`,U2(t),tce(r);const n=pb(this[oo],t);n!==void 0?this[oo][n].push(r):this[oo][t]=[r]}has(t){return t=`${t}`,U2(t),pb(this[oo],t)!==void 0}delete(t){t=`${t}`,U2(t);const r=pb(this[oo],t);r!==void 0&&delete this[oo][r]}raw(){return this[oo]}keys(){return IB(this,"key")}values(){return IB(this,"value")}[Symbol.iterator](){return IB(this,"key+value")}};bh.prototype.entries=bh.prototype[Symbol.iterator];Object.defineProperty(bh.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(bh.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});function QV(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key+value";return Object.keys(e[oo]).sort().map(t==="key"?function(n){return n.toLowerCase()}:t==="value"?function(n){return e[oo][n].join(", ")}:function(n){return[n.toLowerCase(),e[oo][n].join(", ")]})}const eU=Symbol("internal");function IB(e,t){const r=Object.create($G);return r[eU]={target:e,kind:t,index:0},r}const $G=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==$G)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[eU];const t=e.target,r=e.kind,n=e.index,i=QV(t,r),s=i.length;return n>=s?{value:void 0,done:!0}:(this[eU].index=n+1,{value:i[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty($G,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});function h7t(e){const t=Object.assign({__proto__:null},e[oo]),r=pb(e[oo],"Host");return r!==void 0&&(t[r]=t[r][0]),t}function m7t(e){const t=new bh;for(const r of Object.keys(e))if(!a8e.test(r))if(Array.isArray(e[r]))for(const n of e[r])JV.test(n)||(t[oo][r]===void 0?t[oo][r]=[n]:t[oo][r].push(n));else JV.test(e[r])||(t[oo][r]=[e[r]]);return t}const km=Symbol("Response internals"),g7t=r5e.STATUS_CODES;let Ap=class s8e{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Jo.call(this,t,r);const n=r.status||200,i=new bh(r.headers);if(t!=null&&!i.has("Content-Type")){const s=n8e(t);s&&i.append("Content-Type",s)}this[km]={url:r.url,status:n,statusText:r.statusText||g7t[n],headers:i,counter:r.counter}}get url(){return this[km].url||""}get status(){return this[km].status}get ok(){return this[km].status>=200&&this[km].status<300}get redirected(){return this[km].counter>0}get statusText(){return this[km].statusText}get headers(){return this[km].headers}clone(){return new s8e(r8e(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}};Jo.mixIn(Ap.prototype);Object.defineProperties(Ap.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});Object.defineProperty(Ap.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const Tp=Symbol("Request internals"),y7t=tS.URL||wd.URL,v7t=tS.parse,_7t=tS.format;function MB(e){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(e)&&(e=new y7t(e).toString()),v7t(e)}const b7t="destroy"in bd.Readable.prototype;function MA(e){return typeof e=="object"&&typeof e[Tp]=="object"}function x7t(e){const t=e&&typeof e=="object"&&Object.getPrototypeOf(e);return!!(t&&t.constructor.name==="AbortSignal")}let j8=class l8e{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;MA(t)?n=MB(t.url):(t&&t.href?n=MB(t.href):n=MB(`${t}`),t={});let i=r.method||t.method||"GET";if(i=i.toUpperCase(),(r.body!=null||MA(t)&&t.body!==null)&&(i==="GET"||i==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let s=r.body!=null?r.body:MA(t)&&t.body!==null?r8e(t):null;Jo.call(this,s,{timeout:r.timeout||t.timeout||0,size:r.size||t.size||0});const c=new bh(r.headers||t.headers||{});if(s!=null&&!c.has("Content-Type")){const o=n8e(s);o&&c.append("Content-Type",o)}let p=MA(t)?t.signal:null;if("signal"in r&&(p=r.signal),p!=null&&!x7t(p))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[Tp]={method:i,redirect:r.redirect||t.redirect||"follow",headers:c,parsedURL:n,signal:p},this.follow=r.follow!==void 0?r.follow:t.follow!==void 0?t.follow:20,this.compress=r.compress!==void 0?r.compress:t.compress!==void 0?t.compress:!0,this.counter=r.counter||t.counter||0,this.agent=r.agent||t.agent}get method(){return this[Tp].method}get url(){return _7t(this[Tp].parsedURL)}get headers(){return this[Tp].headers}get redirect(){return this[Tp].redirect}get signal(){return this[Tp].signal}clone(){return new l8e(this)}};Jo.mixIn(j8.prototype);Object.defineProperty(j8.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(j8.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});function w7t(e){const t=e[Tp].parsedURL,r=new bh(e[Tp].headers);if(r.has("Accept")||r.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof bd.Readable&&!b7t)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let n=null;if(e.body==null&&/^(POST|PUT)$/i.test(e.method)&&(n="0"),e.body!=null){const s=i8e(e);typeof s=="number"&&(n=String(s))}n&&r.set("Content-Length",n),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let i=e.agent;return typeof i=="function"&&(i=i(t)),Object.assign({},t,{method:e.method,headers:h7t(r),agent:i})}function V8(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}V8.prototype=Object.create(Error.prototype);V8.prototype.constructor=V8;V8.prototype.name="AbortError";const U8=tS.URL||wd.URL,rce=bd.PassThrough,S7t=function(t,r){const n=new U8(r).hostname,i=new U8(t).hostname;return n===i||n[n.length-i.length-1]==="."&&n.endsWith(i)},E7t=function(t,r){const n=new U8(r).protocol,i=new U8(t).protocol;return n===i};function Ym(e,t){if(!Ym.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return Jo.Promise=Ym.Promise,new Ym.Promise(function(r,n){const i=new j8(e,t),s=w7t(i),c=(s.protocol==="https:"?m9t:r5e).request,p=i.signal;let o=null;const g=function(){let R=new V8("The user aborted a request.");n(R),i.body&&i.body instanceof bd.Readable&&kB(i.body,R),!(!o||!o.body)&&o.body.emit("error",R)};if(p&&p.aborted){g();return}const y=function(){g(),A()},x=c(s);let E;p&&p.addEventListener("abort",y);function A(){x.abort(),p&&p.removeEventListener("abort",y),clearTimeout(E)}i.timeout&&x.once("socket",function(M){E=setTimeout(function(){n(new zs(`network timeout at: ${i.url}`,"request-timeout")),A()},i.timeout)}),x.on("error",function(M){n(new zs(`request to ${i.url} failed, reason: ${M.message}`,"system",M)),o&&o.body&&kB(o.body,M),A()}),A7t(x,function(M){p&&p.aborted||o&&o.body&&kB(o.body,M)}),parseInt(mn.version.substring(1))<14&&x.on("socket",function(M){M.addListener("close",function(R){const k=M.listenerCount("data")>0;if(o&&k&&!R&&!(p&&p.aborted)){const D=new Error("Premature close");D.code="ERR_STREAM_PREMATURE_CLOSE",o.body.emit("error",D)}})}),x.on("response",function(M){clearTimeout(E);const R=m7t(M.headers);if(Ym.isRedirect(M.statusCode)){const V=R.get("Location");let U=null;try{U=V===null?null:new U8(V,i.url).toString()}catch{if(i.redirect!=="manual"){n(new zs(`uri requested responds with an invalid redirect URL: ${V}`,"invalid-redirect")),A();return}}switch(i.redirect){case"error":n(new zs(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),A();return;case"manual":if(U!==null)try{R.set("Location",U)}catch(ne){n(ne)}break;case"follow":if(U===null)break;if(i.counter>=i.follow){n(new zs(`maximum redirect reached at: ${i.url}`,"max-redirect")),A();return}const Z={headers:new bh(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:i.body,signal:i.signal,timeout:i.timeout,size:i.size};if(!S7t(i.url,U)||!E7t(i.url,U))for(const ne of["authorization","www-authenticate","cookie","cookie2"])Z.headers.delete(ne);if(M.statusCode!==303&&i.body&&i8e(i)===null){n(new zs("Cannot follow redirect with body being a readable stream","unsupported-redirect")),A();return}(M.statusCode===303||(M.statusCode===301||M.statusCode===302)&&i.method==="POST")&&(Z.method="GET",Z.body=void 0,Z.headers.delete("content-length")),r(Ym(new j8(U,Z))),A();return}}M.once("end",function(){p&&p.removeEventListener("abort",y)});let k=M.pipe(new rce);const D={url:i.url,status:M.statusCode,statusText:M.statusMessage,headers:R,size:i.size,timeout:i.timeout,counter:i.counter},$=R.get("Content-Encoding");if(!i.compress||i.method==="HEAD"||$===null||M.statusCode===204||M.statusCode===304){o=new Ap(k,D),r(o);return}const B={flush:mg.Z_SYNC_FLUSH,finishFlush:mg.Z_SYNC_FLUSH};if($=="gzip"||$=="x-gzip"){k=k.pipe(mg.createGunzip(B)),o=new Ap(k,D),r(o);return}if($=="deflate"||$=="x-deflate"){const V=M.pipe(new rce);V.once("data",function(U){(U[0]&15)===8?k=k.pipe(mg.createInflate()):k=k.pipe(mg.createInflateRaw()),o=new Ap(k,D),r(o)}),V.on("end",function(){o||(o=new Ap(k,D),r(o))});return}if($=="br"&&typeof mg.createBrotliDecompress=="function"){k=k.pipe(mg.createBrotliDecompress()),o=new Ap(k,D),r(o);return}o=new Ap(k,D),r(o)}),p7t(x,i)})}function A7t(e,t){let r;e.on("socket",function(n){r=n}),e.on("response",function(n){const i=n.headers;i["transfer-encoding"]==="chunked"&&!i["content-length"]&&n.once("close",function(s){if(r&&r.listenerCount("data")>0&&!s){const p=new Error("Premature close");p.code="ERR_STREAM_PREMATURE_CLOSE",t(p)}})})}function kB(e,t){e.destroy?e.destroy(t):(e.emit("error",t),e.end())}Ym.isRedirect=function(e){return e===301||e===302||e===303||e===307||e===308};Ym.Promise=f6e.Promise;function T7t(){return{send:async e=>{var g,y;const t=e.headers?Object.entries(e.headers).reduce((x,[E,A])=>({...x,[E.toLowerCase()]:(Array.isArray(A)?A.join(", "):A).toLowerCase()}),{}):{},r=((g=t["content-type"])==null?void 0:g.includes("application/json"))??!1;let n;r&&e.data?n=JSON.stringify(e.data):n=e.data;const i={method:e.method,body:n,headers:t,follow:e.maxRedirects,signal:e.signal,timeout:e.timeout},s=await Ym(e.url,i),c=((y=s.headers.get("content-type"))==null?void 0:y.includes("application/json"))??!1,p=await s.text();return{data:(c?JSON.parse(p):void 0)??p,body:p,ok:s.ok,status:s.status,statusText:s.statusText,headers:Object.fromEntries(s.headers.entries())}}}}const P7t=()=>({install(e){e.http=T7t()}});class C7t extends pl{constructor(r,n){const i=!dx(r),s=r,c=n==="*"?"any":`the [${n}]`,p=`The provided program ${i?"name":"address"} [${s}] is not recognized in ${c} cluster. Did you forget to register this program? If so, you may use "context.programs.add(myProgram)" to fix this.`;super(p);Zn(this,"name","ProgramNotRecognizedError");this.identifier=r,this.cluster=n}}class I7t extends d6e{constructor(r,n){const i=n.code?` of code [${n.code}]`:"",s=`The program [${r.name}] at address [${r.publicKey}] raised an error${i} that is not recognized by the programs registered on the SDK. Please check the underlying program error below for more details.`;super(s,r,n);Zn(this,"name","ProgramErrorNotRecognizedError")}}function u8e(e,t=[],r={}){const n=[...t],i={...r},s=(k,D="current")=>{const $=o(D),B=R(k);return dx(B)?$.some(V=>V.publicKey===B):$.some(V=>V.name===B)},c=(k,D="current")=>{const $=M(D),B=o(D),V=R(k),U=dx(V)?B.find(Z=>Z.publicKey===V):B.find(Z=>Z.name===V);if(!U)throw new C7t(V,$);return U},p=(k,D,$)=>{try{return c(k,$).publicKey}catch(B){if(D===void 0)throw B;return xf(D)}},o=(k="current")=>{const D=M(k);return D==="*"?n:n.filter($=>$.isOnCluster(D))},g=(k,D=!0)=>{!D&&s(k.publicKey,"*")||n.unshift(k)},y=(k,D)=>{i[k]=D,R(k)},x=k=>{delete i[k]},E=()=>u8e(e,n,i),A=(k,D)=>{var G,N,Y,te;if(!Array.isArray(k.logs)||k.logs.length===0)return null;const $=k.logs.join(`
`),B=/Error processing Instruction (\d+):/,V=((G=k.message.match(B))==null?void 0:G[1])??null,U=/Custom program error: (0x[a-f0-9]+)/i,Z=((N=$.match(U))==null?void 0:N[1])??null,ne=Z?parseInt(Z,16):null;if(V===null||ne===null)return null;const j=parseInt(V,10),fe=((te=(Y=D.message.instructions)==null?void 0:Y[j])==null?void 0:te.programIndex)??null,be=fe?D.message.accounts[fe]:null;if(!be)return null;let pe;try{pe=c(be)}catch{return null}return pe.getErrorFromCode(ne,k)??new I7t(pe,k)},M=k=>k==="current"?e.rpc.getCluster():k,R=(k,D=[])=>{if(dx(k)||i[k]===void 0)return k;const $=[...D,k];if(D.includes(k))throw new Error(`Circular binding detected: ${$.join(" -> ")}`);return R(i[k],$)};return{has:s,get:c,getPublicKey:p,all:o,add:g,bind:y,unbind:x,clone:E,resolveError:A}}const M7t=()=>({install(e){e.programs=u8e(e)}});var Rt={};const k7t=U1(Lwt);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=k7t;Object.keys(t).forEach(function(r){r!=="default"&&!e.hasOwnProperty(r)&&Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})})})(Rt);function nce(e,t,r){let n=null;const i=()=>n||(typeof t=="string"?n=new Mme(t,r):n=t,n),s=W2e(i().rpcEndpoint),c=async(V,U={})=>{const Z=await i().getAccountInfo(ys(V),U);return ice(Z,V)},p=async(V,U={})=>(await i().getMultipleAccountsInfo(V.map(ys),U)).map((ne,j)=>ice(ne,V[j])),o=async(V,U={})=>{var ne;return(await i().getProgramAccounts(ys(V),{...U,filters:(ne=U.filters)==null?void 0:ne.map(j=>O7t(j))})).map(({pubkey:j,account:fe})=>c8e(fe,ff(j)))},g=async(V,U={})=>{const Z=await i().getBlockTime(V);return Z?$8(Z):null},y=async(V,U={})=>{const Z=await i().getBalance(ys(V),U);return Wm(Z)},x=async(V,U={})=>{const Z=ne=>i().getMinimumBalanceForRentExemption(ne,U.commitment);if(U.includesHeaderBytes??!1){const ne=await Z(0),j=BigInt(ne)/BigInt(R2e);return Wm(j*BigInt(V))}return Wm(await Z(V))},E=async(V={})=>i().getLatestBlockhash(V),A=async(V,U={})=>{var le,G,N;const Z=await i().getTransaction(Rt.base58.deserialize(V)[0],{commitment:U.commitment,maxSupportedTransactionVersion:0});if(!Z)return null;if(!Z.meta)throw new Error("Transaction meta is missing.");const{transaction:ne,meta:j}=Z,fe=fG(ne.message),be=Y=>ff(new gn(Y)),pe=Y=>({accountIndex:Y.accountIndex,amount:f3(Y.uiTokenAmount.amount,"splToken",Y.uiTokenAmount.decimals),mint:be(Y.mint),owner:Y.owner?be(Y.owner):null});return{message:fe,serializedMessage:e.transactions.serializeMessage(fe),signatures:ne.signatures.map(Rt.base58.serialize),meta:{fee:Wm(j.fee),logs:j.logMessages??[],preBalances:j.preBalances.map(Wm),postBalances:j.postBalances.map(Wm),preTokenBalances:(j.preTokenBalances??[]).map(pe),postTokenBalances:(j.postTokenBalances??[]).map(pe),innerInstructions:((le=j.innerInstructions)==null?void 0:le.map(Y=>({index:Y.index,instructions:Y.instructions.map(te=>({programIndex:te.programIdIndex,accountIndexes:te.accounts,data:Rt.base58.serialize(te.data)}))})))??null,loadedAddresses:{writable:(((G=j.loadedAddresses)==null?void 0:G.writable)??[]).map(ff),readonly:(((N=j.loadedAddresses)==null?void 0:N.readonly)??[]).map(ff)},computeUnitsConsumed:j.computeUnitsConsumed?BigInt(j.computeUnitsConsumed):null,err:j.err}}},M=async(V,U={})=>(await i().getSignatureStatuses(V.map(ne=>Rt.base58.deserialize(ne)[0]),{searchTransactionHistory:(U==null?void 0:U.searchTransactionHistory)??!1})).value.map(ne=>ne?{slot:ne.slot,confirmations:ne.confirmations,error:ne.err,commitment:ne.confirmationStatus??null}:null),R=async(V,U={})=>!U2e(await y(V,U)),k=async(V,U,Z={})=>{const ne=await i().requestAirdrop(ys(V),Number(U.basisPoints));if(Z.strategy){await B(Rt.base58.serialize(ne),Z);return}await B(Rt.base58.serialize(ne),{...Z,strategy:{type:"blockhash",...await E()}})},D=async(V,U,Z={})=>{const ne=i()._rpcClient,j=R7t(U?[...U]:[],Z.commitment,Z.extra);return new Promise((fe,be)=>{const pe=(le,G)=>le?be(le):fe(G.result);Z.id?ne.request(V,j,Z.id,pe):ne.request(V,j,pe)})},$=async(V,U={})=>{try{const Z=await i().sendRawTransaction(e.transactions.serialize(V),U);return Rt.base58.serialize(Z)}catch(Z){let ne=null;throw Z instanceof Error&&"logs"in Z&&(ne=e.programs.resolveError(Z,V)),ne||Z}},B=async(V,U)=>i().confirmTransaction(D7t(V,U),U.commitment);return{getEndpoint:()=>i().rpcEndpoint,getCluster:()=>s,getAccount:c,getAccounts:p,getProgramAccounts:o,getBlockTime:g,getBalance:y,getRent:x,getSlot:async(V={})=>i().getSlot(V),getLatestBlockhash:E,getTransaction:A,getSignatureStatuses:M,accountExists:R,airdrop:k,call:D,sendTransaction:$,confirmTransaction:B,get connection(){return i()}}}function c8e(e,t){return{executable:e.executable,owner:ff(e.owner),lamports:Wm(e.lamports),rentEpoch:e.rentEpoch?BigInt(e.rentEpoch):void 0,publicKey:t,data:new Uint8Array(e.data)}}function ice(e,t){return e?{...c8e(e,t),exists:!0}:{exists:!1,publicKey:t}}function O7t(e){if(!("memcmp"in e))return e;const{bytes:t,...r}=e.memcmp;return{memcmp:{...r,bytes:Rt.base58.deserialize(t)[0]}}}function D7t(e,t){return t.strategy.type==="blockhash"?{...t.strategy,signature:Rt.base58.deserialize(e)[0]}:{...t.strategy,signature:Rt.base58.deserialize(e)[0],nonceAccountPubkey:ys(t.strategy.nonceAccountPubkey)}}function R7t(e,t,r){if(!t&&!r)return e;let n={};return t&&(n.commitment=t),r&&(n={...n,...r}),e.push(n),e}function ace(e,t){return{install(r){r.rpc=typeof e=="string"?nce(r,e,t):nce(r,e)}}}const $7t=(e,t=100)=>({...e,getAccounts:async(r,n)=>{const i=Y2e(r,t).map(c=>e.getAccounts(c,n));return(await Promise.all(i)).flat()}}),L7t=(e=100)=>({install(t){t.rpc=$7t(t.rpc,e)}});function B7t(e={}){return{tuple:Rt.tuple,array:Rt.array,map:Rt.map,set:Rt.set,option:Rt.option,nullable:Rt.nullable,struct:Rt.struct,enum:Rt.scalarEnum,dataEnum:Rt.dataEnum,string:Rt.string,bool:Rt.bool,unit:Rt.unit,u8:Rt.u8,u16:Rt.u16,u32:Rt.u32,u64:Rt.u64,u128:Rt.u128,i8:Rt.i8,i16:Rt.i16,i32:Rt.i32,i64:Rt.i64,i128:Rt.i128,f32:Rt.f32,f64:Rt.f64,bytes:Rt.bytes,publicKey:Rt.publicKey}}const z7t=(e={})=>({install(t){t.serializer=B7t(e)}}),oce=128,N7t=127;function F7t(){const e=E=>{const A=G2t(E),M=fG(A),R=new wy(A,E.signatures);return{message:M,serializedMessage:n(M),signatures:R.signatures}},t=E=>s().serialize(E),r=E=>s().deserialize(E)[0],n=E=>c().serialize(E),i=E=>c().deserialize(E)[0],s=()=>({...Rt.mapSerializer(Rt.struct([["signatures",Rt.array(Rt.bytes({size:64}),{size:Rt.shortU16()})],["serializedMessage",Rt.bytes()]]),E=>E,E=>({...E,message:i(E.serializedMessage)})),description:"Transaction"}),c=()=>({description:"TransactionMessage",fixedSize:null,maxSize:null,serialize:E=>p(E.version).serialize(E),deserialize:(E,A=0)=>{const[M]=o().deserialize(E,A);return p(M).deserialize(E,A)}}),p=E=>Rt.struct([["version",o()],["header",g()],["accounts",Rt.array(Rt.publicKey(),{size:Rt.shortU16()})],["blockhash",Rt.string({encoding:Rt.base58,size:32})],["instructions",Rt.array(y(),{size:Rt.shortU16()})],["addressLookupTables",Rt.array(x(),{size:E==="legacy"?0:Rt.shortU16()})]]),o=()=>({description:"TransactionVersion",fixedSize:null,maxSize:1,serialize:E=>E==="legacy"?new Uint8Array([]):new Uint8Array([oce|E]),deserialize:(E,A=0)=>{const M=E.slice(A);if(M.length===0||!(M[0]&oce))return["legacy",A];const R=M[0]&N7t;if(R>0)throw new pl(`Unsupported transaction version: ${R}.`);return[R,A+1]}}),g=()=>Rt.struct([["numRequiredSignatures",Rt.u8()],["numReadonlySignedAccounts",Rt.u8()],["numReadonlyUnsignedAccounts",Rt.u8()]]),y=()=>Rt.struct([["programIndex",Rt.u8()],["accountIndexes",Rt.array(Rt.u8(),{size:Rt.shortU16()})],["data",Rt.bytes({size:Rt.shortU16()})]]),x=()=>Rt.struct([["publicKey",Rt.publicKey()],["writableIndexes",Rt.array(Rt.u8(),{size:Rt.shortU16()})],["readonlyIndexes",Rt.array(Rt.u8(),{size:Rt.shortU16()})]]);return{create:e,serialize:t,deserialize:r,serializeMessage:n,deserializeMessage:i}}const j7t=()=>({install(e){e.transactions=F7t()}});function sce(e,t){return{install(r){r.use(z7t()),r.use(M7t()),r.use(P7t()),r.use(K2t()),r.use(Z2t()),r.use(typeof e=="string"?ace(e,t):ace(e)),r.use(L7t(t==null?void 0:t.getAccountsChunkSize)),r.use(j7t())}}}function V7t(e,t){return c6e().use(sce(e,t))}var Xd={},OB={},DB={},al={};const Rn=U1(U2t);var RB={},W2={},ck={},$B={},dk={};Object.defineProperty(dk,"__esModule",{value:!0});dk.getAddBlockerSerializer=void 0;const U7t=Rt;function W7t(){return(0,U7t.struct)([],{description:"AddBlocker"})}dk.getAddBlockerSerializer=W7t;var fk={};Object.defineProperty(fk,"__esModule",{value:!0});fk.getAttributeSerializer=void 0;const LB=Rt;function K7t(){return(0,LB.struct)([["key",(0,LB.string)()],["value",(0,LB.string)()]],{description:"Attribute"})}fk.getAttributeSerializer=K7t;var K2={},lce;function H7t(){if(lce)return K2;lce=1,Object.defineProperty(K2,"__esModule",{value:!0}),K2.getAttributesSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["attributeList",(0,e.array)((0,t.getAttributeSerializer)())]],{description:"Attributes"})}return K2.getAttributesSerializer=r,K2}var H2={},uce;function G7t(){if(uce)return H2;uce=1,Object.defineProperty(H2,"__esModule",{value:!0}),H2.getAutographSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["signatures",(0,e.array)((0,t.getAutographSignatureSerializer)())]],{description:"Autograph"})}return H2.getAutographSerializer=r,H2}var pk={};Object.defineProperty(pk,"__esModule",{value:!0});pk.getAutographSignatureSerializer=void 0;const BB=Rt;function q7t(){return(0,BB.struct)([["address",(0,BB.publicKey)()],["message",(0,BB.string)()]],{description:"AutographSignature"})}pk.getAutographSignatureSerializer=q7t;var G2={},cce;function Z7t(){if(cce)return G2;cce=1,Object.defineProperty(G2,"__esModule",{value:!0}),G2.getBaseAppDataSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["dataAuthority",(0,t.getBasePluginAuthoritySerializer)()],["schema",(0,t.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseAppData"})}return G2.getBaseAppDataSerializer=r,G2}var q2={},dce;function X7t(){if(dce)return q2;dce=1,Object.defineProperty(q2,"__esModule",{value:!0}),q2.getBaseAppDataInitInfoSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["dataAuthority",(0,t.getBasePluginAuthoritySerializer)()],["initPluginAuthority",(0,e.option)((0,t.getBasePluginAuthoritySerializer)())],["schema",(0,e.option)((0,t.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseAppDataInitInfo"})}return q2.getBaseAppDataInitInfoSerializer=r,q2}var Z2={},fce;function Y7t(){if(fce)return Z2;fce=1,Object.defineProperty(Z2,"__esModule",{value:!0}),Z2.getBaseAppDataUpdateInfoSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["schema",(0,e.option)((0,t.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseAppDataUpdateInfo"})}return Z2.getBaseAppDataUpdateInfoSerializer=r,Z2}var X2={},pce;function J7t(){if(pce)return X2;pce=1,Object.defineProperty(X2,"__esModule",{value:!0}),X2.getBaseDataSectionSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["parentKey",(0,t.getBaseLinkedDataKeySerializer)()],["schema",(0,t.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseDataSection"})}return X2.getBaseDataSectionSerializer=r,X2}var Y2={},hce;function Q7t(){if(hce)return Y2;hce=1,Object.defineProperty(Y2,"__esModule",{value:!0}),Y2.getBaseDataSectionInitInfoSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["parentKey",(0,t.getBaseLinkedDataKeySerializer)()],["schema",(0,t.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseDataSectionInitInfo"})}return Y2.getBaseDataSectionInitInfoSerializer=r,Y2}var hk={};Object.defineProperty(hk,"__esModule",{value:!0});hk.getBaseDataSectionUpdateInfoSerializer=void 0;const eEt=Rt;function tEt(){return(0,eEt.struct)([],{description:"BaseDataSectionUpdateInfo"})}hk.getBaseDataSectionUpdateInfoSerializer=tEt;var op={},mce;function rEt(){if(mce)return op;mce=1,Object.defineProperty(op,"__esModule",{value:!0}),op.isBaseExternalPluginAdapterInitInfo=op.baseExternalPluginAdapterInitInfo=op.getBaseExternalPluginAdapterInitInfoSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.dataEnum)([["LifecycleHook",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseLifecycleHookInitInfoSerializer)()])]])],["Oracle",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseOracleInitInfoSerializer)()])]])],["AppData",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseAppDataInitInfoSerializer)()])]])],["LinkedLifecycleHook",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseLinkedLifecycleHookInitInfoSerializer)()])]])],["LinkedAppData",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseLinkedAppDataInitInfoSerializer)()])]])],["DataSection",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseDataSectionInitInfoSerializer)()])]])]],{description:"BaseExternalPluginAdapterInitInfo"})}op.getBaseExternalPluginAdapterInitInfoSerializer=r;function n(s,c){return Array.isArray(c)?{__kind:s,fields:c}:{__kind:s,...c??{}}}op.baseExternalPluginAdapterInitInfo=n;function i(s,c){return c.__kind===s}return op.isBaseExternalPluginAdapterInitInfo=i,op}var sp={},gce;function nEt(){if(gce)return sp;gce=1,Object.defineProperty(sp,"__esModule",{value:!0}),sp.isBaseExternalPluginAdapterKey=sp.baseExternalPluginAdapterKey=sp.getBaseExternalPluginAdapterKeySerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.dataEnum)([["LifecycleHook",(0,e.struct)([["fields",(0,e.tuple)([(0,e.publicKey)()])]])],["Oracle",(0,e.struct)([["fields",(0,e.tuple)([(0,e.publicKey)()])]])],["AppData",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBasePluginAuthoritySerializer)()])]])],["LinkedLifecycleHook",(0,e.struct)([["fields",(0,e.tuple)([(0,e.publicKey)()])]])],["LinkedAppData",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBasePluginAuthoritySerializer)()])]])],["DataSection",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseLinkedDataKeySerializer)()])]])]],{description:"BaseExternalPluginAdapterKey"})}sp.getBaseExternalPluginAdapterKeySerializer=r;function n(s,c){return Array.isArray(c)?{__kind:s,fields:c}:{__kind:s,...c??{}}}sp.baseExternalPluginAdapterKey=n;function i(s,c){return c.__kind===s}return sp.isBaseExternalPluginAdapterKey=i,sp}var lp={},yce;function iEt(){if(yce)return lp;yce=1,Object.defineProperty(lp,"__esModule",{value:!0}),lp.isBaseExternalPluginAdapterUpdateInfo=lp.baseExternalPluginAdapterUpdateInfo=lp.getBaseExternalPluginAdapterUpdateInfoSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.dataEnum)([["LifecycleHook",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseLifecycleHookUpdateInfoSerializer)()])]])],["Oracle",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseOracleUpdateInfoSerializer)()])]])],["AppData",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseAppDataUpdateInfoSerializer)()])]])],["LinkedLifecycleHook",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseLinkedLifecycleHookUpdateInfoSerializer)()])]])],["LinkedAppData",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseLinkedAppDataUpdateInfoSerializer)()])]])]],{description:"BaseExternalPluginAdapterUpdateInfo"})}lp.getBaseExternalPluginAdapterUpdateInfoSerializer=r;function n(s,c){return Array.isArray(c)?{__kind:s,fields:c}:{__kind:s,...c??{}}}lp.baseExternalPluginAdapterUpdateInfo=n;function i(s,c){return c.__kind===s}return lp.isBaseExternalPluginAdapterUpdateInfo=i,lp}var up={},vce;function aEt(){if(vce)return up;vce=1,Object.defineProperty(up,"__esModule",{value:!0}),up.isBaseExtraAccount=up.baseExtraAccount=up.getBaseExtraAccountSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.dataEnum)([["PreconfiguredProgram",(0,e.struct)([["isSigner",(0,e.bool)()],["isWritable",(0,e.bool)()]])],["PreconfiguredCollection",(0,e.struct)([["isSigner",(0,e.bool)()],["isWritable",(0,e.bool)()]])],["PreconfiguredOwner",(0,e.struct)([["isSigner",(0,e.bool)()],["isWritable",(0,e.bool)()]])],["PreconfiguredRecipient",(0,e.struct)([["isSigner",(0,e.bool)()],["isWritable",(0,e.bool)()]])],["PreconfiguredAsset",(0,e.struct)([["isSigner",(0,e.bool)()],["isWritable",(0,e.bool)()]])],["CustomPda",(0,e.struct)([["seeds",(0,e.array)((0,t.getBaseSeedSerializer)())],["customProgramId",(0,e.option)((0,e.publicKey)())],["isSigner",(0,e.bool)()],["isWritable",(0,e.bool)()]])],["Address",(0,e.struct)([["address",(0,e.publicKey)()],["isSigner",(0,e.bool)()],["isWritable",(0,e.bool)()]])]],{description:"BaseExtraAccount"})}up.getBaseExtraAccountSerializer=r;function n(s,c){return Array.isArray(c)?{__kind:s,fields:c}:{__kind:s,...c??{}}}up.baseExtraAccount=n;function i(s,c){return c.__kind===s}return up.isBaseExtraAccount=i,up}var J2={},_ce;function oEt(){if(_ce)return J2;_ce=1,Object.defineProperty(J2,"__esModule",{value:!0}),J2.getBaseLifecycleHookSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["hookedProgram",(0,e.publicKey)()],["extraAccounts",(0,e.option)((0,e.array)((0,t.getBaseExtraAccountSerializer)()))],["dataAuthority",(0,e.option)((0,t.getBasePluginAuthoritySerializer)())],["schema",(0,t.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseLifecycleHook"})}return J2.getBaseLifecycleHookSerializer=r,J2}var Q2={},bce;function sEt(){if(bce)return Q2;bce=1,Object.defineProperty(Q2,"__esModule",{value:!0}),Q2.getBaseLifecycleHookInitInfoSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["hookedProgram",(0,e.publicKey)()],["initPluginAuthority",(0,e.option)((0,t.getBasePluginAuthoritySerializer)())],["lifecycleChecks",(0,e.array)((0,e.tuple)([(0,t.getHookableLifecycleEventSerializer)(),(0,t.getExternalCheckResultSerializer)()]))],["extraAccounts",(0,e.option)((0,e.array)((0,t.getBaseExtraAccountSerializer)()))],["dataAuthority",(0,e.option)((0,t.getBasePluginAuthoritySerializer)())],["schema",(0,e.option)((0,t.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLifecycleHookInitInfo"})}return Q2.getBaseLifecycleHookInitInfoSerializer=r,Q2}var e6={},xce;function lEt(){if(xce)return e6;xce=1,Object.defineProperty(e6,"__esModule",{value:!0}),e6.getBaseLifecycleHookUpdateInfoSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["lifecycleChecks",(0,e.option)((0,e.array)((0,e.tuple)([(0,t.getHookableLifecycleEventSerializer)(),(0,t.getExternalCheckResultSerializer)()])))],["extraAccounts",(0,e.option)((0,e.array)((0,t.getBaseExtraAccountSerializer)()))],["schema",(0,e.option)((0,t.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLifecycleHookUpdateInfo"})}return e6.getBaseLifecycleHookUpdateInfoSerializer=r,e6}var t6={},wce;function uEt(){if(wce)return t6;wce=1,Object.defineProperty(t6,"__esModule",{value:!0}),t6.getBaseLinkedAppDataSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["dataAuthority",(0,t.getBasePluginAuthoritySerializer)()],["schema",(0,t.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseLinkedAppData"})}return t6.getBaseLinkedAppDataSerializer=r,t6}var r6={},Sce;function cEt(){if(Sce)return r6;Sce=1,Object.defineProperty(r6,"__esModule",{value:!0}),r6.getBaseLinkedAppDataInitInfoSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["dataAuthority",(0,t.getBasePluginAuthoritySerializer)()],["initPluginAuthority",(0,e.option)((0,t.getBasePluginAuthoritySerializer)())],["schema",(0,e.option)((0,t.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLinkedAppDataInitInfo"})}return r6.getBaseLinkedAppDataInitInfoSerializer=r,r6}var n6={},Ece;function dEt(){if(Ece)return n6;Ece=1,Object.defineProperty(n6,"__esModule",{value:!0}),n6.getBaseLinkedAppDataUpdateInfoSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["schema",(0,e.option)((0,t.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLinkedAppDataUpdateInfo"})}return n6.getBaseLinkedAppDataUpdateInfoSerializer=r,n6}var cp={},Ace;function fEt(){if(Ace)return cp;Ace=1,Object.defineProperty(cp,"__esModule",{value:!0}),cp.isBaseLinkedDataKey=cp.baseLinkedDataKey=cp.getBaseLinkedDataKeySerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.dataEnum)([["LinkedLifecycleHook",(0,e.struct)([["fields",(0,e.tuple)([(0,e.publicKey)()])]])],["LinkedAppData",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBasePluginAuthoritySerializer)()])]])]],{description:"BaseLinkedDataKey"})}cp.getBaseLinkedDataKeySerializer=r;function n(s,c){return Array.isArray(c)?{__kind:s,fields:c}:{__kind:s,...c??{}}}cp.baseLinkedDataKey=n;function i(s,c){return c.__kind===s}return cp.isBaseLinkedDataKey=i,cp}var i6={},Tce;function pEt(){if(Tce)return i6;Tce=1,Object.defineProperty(i6,"__esModule",{value:!0}),i6.getBaseLinkedLifecycleHookSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["hookedProgram",(0,e.publicKey)()],["extraAccounts",(0,e.option)((0,e.array)((0,t.getBaseExtraAccountSerializer)()))],["dataAuthority",(0,e.option)((0,t.getBasePluginAuthoritySerializer)())],["schema",(0,t.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseLinkedLifecycleHook"})}return i6.getBaseLinkedLifecycleHookSerializer=r,i6}var a6={},Pce;function hEt(){if(Pce)return a6;Pce=1,Object.defineProperty(a6,"__esModule",{value:!0}),a6.getBaseLinkedLifecycleHookInitInfoSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["hookedProgram",(0,e.publicKey)()],["initPluginAuthority",(0,e.option)((0,t.getBasePluginAuthoritySerializer)())],["lifecycleChecks",(0,e.array)((0,e.tuple)([(0,t.getHookableLifecycleEventSerializer)(),(0,t.getExternalCheckResultSerializer)()]))],["extraAccounts",(0,e.option)((0,e.array)((0,t.getBaseExtraAccountSerializer)()))],["dataAuthority",(0,e.option)((0,t.getBasePluginAuthoritySerializer)())],["schema",(0,e.option)((0,t.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLinkedLifecycleHookInitInfo"})}return a6.getBaseLinkedLifecycleHookInitInfoSerializer=r,a6}var o6={},Cce;function mEt(){if(Cce)return o6;Cce=1,Object.defineProperty(o6,"__esModule",{value:!0}),o6.getBaseLinkedLifecycleHookUpdateInfoSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["lifecycleChecks",(0,e.option)((0,e.array)((0,e.tuple)([(0,t.getHookableLifecycleEventSerializer)(),(0,t.getExternalCheckResultSerializer)()])))],["extraAccounts",(0,e.option)((0,e.array)((0,t.getBaseExtraAccountSerializer)()))],["schema",(0,e.option)((0,t.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLinkedLifecycleHookUpdateInfo"})}return o6.getBaseLinkedLifecycleHookUpdateInfoSerializer=r,o6}var mk={};Object.defineProperty(mk,"__esModule",{value:!0});mk.getBaseMasterEditionSerializer=void 0;const gg=Rt;function gEt(){return(0,gg.struct)([["maxSupply",(0,gg.option)((0,gg.u32)())],["name",(0,gg.option)((0,gg.string)())],["uri",(0,gg.option)((0,gg.string)())]],{description:"BaseMasterEdition"})}mk.getBaseMasterEditionSerializer=gEt;var s6={},Ice;function yEt(){if(Ice)return s6;Ice=1,Object.defineProperty(s6,"__esModule",{value:!0}),s6.getBaseOracleSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["baseAddress",(0,e.publicKey)()],["baseAddressConfig",(0,e.option)((0,t.getBaseExtraAccountSerializer)())],["resultsOffset",(0,t.getBaseValidationResultsOffsetSerializer)()]],{description:"BaseOracle"})}return s6.getBaseOracleSerializer=r,s6}var l6={},Mce;function vEt(){if(Mce)return l6;Mce=1,Object.defineProperty(l6,"__esModule",{value:!0}),l6.getBaseOracleInitInfoSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["baseAddress",(0,e.publicKey)()],["initPluginAuthority",(0,e.option)((0,t.getBasePluginAuthoritySerializer)())],["lifecycleChecks",(0,e.array)((0,e.tuple)([(0,t.getHookableLifecycleEventSerializer)(),(0,t.getExternalCheckResultSerializer)()]))],["baseAddressConfig",(0,e.option)((0,t.getBaseExtraAccountSerializer)())],["resultsOffset",(0,e.option)((0,t.getBaseValidationResultsOffsetSerializer)())]],{description:"BaseOracleInitInfo"})}return l6.getBaseOracleInitInfoSerializer=r,l6}var u6={},kce;function _Et(){if(kce)return u6;kce=1,Object.defineProperty(u6,"__esModule",{value:!0}),u6.getBaseOracleUpdateInfoSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["lifecycleChecks",(0,e.option)((0,e.array)((0,e.tuple)([(0,t.getHookableLifecycleEventSerializer)(),(0,t.getExternalCheckResultSerializer)()])))],["baseAddressConfig",(0,e.option)((0,t.getBaseExtraAccountSerializer)())],["resultsOffset",(0,e.option)((0,t.getBaseValidationResultsOffsetSerializer)())]],{description:"BaseOracleUpdateInfo"})}return u6.getBaseOracleUpdateInfoSerializer=r,u6}var S1={};Object.defineProperty(S1,"__esModule",{value:!0});S1.isBasePluginAuthority=S1.basePluginAuthority=S1.getBasePluginAuthoritySerializer=void 0;const X_=Rt;function bEt(){return(0,X_.dataEnum)([["None",(0,X_.unit)()],["Owner",(0,X_.unit)()],["UpdateAuthority",(0,X_.unit)()],["Address",(0,X_.struct)([["address",(0,X_.publicKey)()]])]],{description:"BasePluginAuthority"})}S1.getBasePluginAuthoritySerializer=bEt;function xEt(e,t){return Array.isArray(t)?{__kind:e,fields:t}:{__kind:e,...t??{}}}S1.basePluginAuthority=xEt;function wEt(e,t){return t.__kind===e}S1.isBasePluginAuthority=wEt;var c6={},Oce;function SEt(){if(Oce)return c6;Oce=1,Object.defineProperty(c6,"__esModule",{value:!0}),c6.getBaseRoyaltiesSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["basisPoints",(0,e.u16)()],["creators",(0,e.array)((0,t.getCreatorSerializer)())],["ruleSet",(0,t.getBaseRuleSetSerializer)()]],{description:"BaseRoyalties"})}return c6.getBaseRoyaltiesSerializer=r,c6}var E1={};Object.defineProperty(E1,"__esModule",{value:!0});E1.isBaseRuleSet=E1.baseRuleSet=E1.getBaseRuleSetSerializer=void 0;const Gd=Rt;function EEt(){return(0,Gd.dataEnum)([["None",(0,Gd.unit)()],["ProgramAllowList",(0,Gd.struct)([["fields",(0,Gd.tuple)([(0,Gd.array)((0,Gd.publicKey)())])]])],["ProgramDenyList",(0,Gd.struct)([["fields",(0,Gd.tuple)([(0,Gd.array)((0,Gd.publicKey)())])]])]],{description:"BaseRuleSet"})}E1.getBaseRuleSetSerializer=EEt;function AEt(e,t){return Array.isArray(t)?{__kind:e,fields:t}:{__kind:e,...t??{}}}E1.baseRuleSet=AEt;function TEt(e,t){return t.__kind===e}E1.isBaseRuleSet=TEt;var A1={};Object.defineProperty(A1,"__esModule",{value:!0});A1.isBaseSeed=A1.baseSeed=A1.getBaseSeedSerializer=void 0;const Zu=Rt;function PEt(){return(0,Zu.dataEnum)([["Collection",(0,Zu.unit)()],["Owner",(0,Zu.unit)()],["Recipient",(0,Zu.unit)()],["Asset",(0,Zu.unit)()],["Address",(0,Zu.struct)([["fields",(0,Zu.tuple)([(0,Zu.publicKey)()])]])],["Bytes",(0,Zu.struct)([["fields",(0,Zu.tuple)([(0,Zu.bytes)({size:(0,Zu.u32)()})])]])]],{description:"BaseSeed"})}A1.getBaseSeedSerializer=PEt;function CEt(e,t){return Array.isArray(t)?{__kind:e,fields:t}:{__kind:e,...t??{}}}A1.baseSeed=CEt;function IEt(e,t){return t.__kind===e}A1.isBaseSeed=IEt;var T1={};Object.defineProperty(T1,"__esModule",{value:!0});T1.isBaseUpdateAuthority=T1.baseUpdateAuthority=T1.getBaseUpdateAuthoritySerializer=void 0;const Om=Rt;function MEt(){return(0,Om.dataEnum)([["None",(0,Om.unit)()],["Address",(0,Om.struct)([["fields",(0,Om.tuple)([(0,Om.publicKey)()])]])],["Collection",(0,Om.struct)([["fields",(0,Om.tuple)([(0,Om.publicKey)()])]])]],{description:"BaseUpdateAuthority"})}T1.getBaseUpdateAuthoritySerializer=MEt;function kEt(e,t){return Array.isArray(t)?{__kind:e,fields:t}:{__kind:e,...t??{}}}T1.baseUpdateAuthority=kEt;function OEt(e,t){return t.__kind===e}T1.isBaseUpdateAuthority=OEt;var P1={};Object.defineProperty(P1,"__esModule",{value:!0});P1.isBaseValidationResultsOffset=P1.baseValidationResultsOffset=P1.getBaseValidationResultsOffsetSerializer=void 0;const Y_=Rt;function DEt(){return(0,Y_.dataEnum)([["NoOffset",(0,Y_.unit)()],["Anchor",(0,Y_.unit)()],["Custom",(0,Y_.struct)([["fields",(0,Y_.tuple)([(0,Y_.u64)()])]])]],{description:"BaseValidationResultsOffset"})}P1.getBaseValidationResultsOffsetSerializer=DEt;function REt(e,t){return Array.isArray(t)?{__kind:e,fields:t}:{__kind:e,...t??{}}}P1.baseValidationResultsOffset=REt;function $Et(e,t){return t.__kind===e}P1.isBaseValidationResultsOffset=$Et;var gk={};Object.defineProperty(gk,"__esModule",{value:!0});gk.getBurnDelegateSerializer=void 0;const LEt=Rt;function BEt(){return(0,LEt.struct)([],{description:"BurnDelegate"})}gk.getBurnDelegateSerializer=BEt;var d6={},Dce;function zEt(){if(Dce)return d6;Dce=1,Object.defineProperty(d6,"__esModule",{value:!0}),d6.getCompressionProofSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["owner",(0,e.publicKey)()],["updateAuthority",(0,t.getBaseUpdateAuthoritySerializer)()],["name",(0,e.string)()],["uri",(0,e.string)()],["seq",(0,e.u64)()],["plugins",(0,e.array)((0,t.getHashablePluginSchemaSerializer)())]],{description:"CompressionProof"})}return d6.getCompressionProofSerializer=r,d6}var yk={};Object.defineProperty(yk,"__esModule",{value:!0});yk.getCreatorSerializer=void 0;const zB=Rt;function NEt(){return(0,zB.struct)([["address",(0,zB.publicKey)()],["percentage",(0,zB.u8)()]],{description:"Creator"})}yk.getCreatorSerializer=NEt;var d8e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDataStateSerializer=e.DataState=void 0;const t=Rt;var r;(function(i){i[i.AccountState=0]="AccountState",i[i.LedgerState=1]="LedgerState"})(r=e.DataState||(e.DataState={}));function n(){return(0,t.scalarEnum)(r,{description:"DataState"})}e.getDataStateSerializer=n})(d8e);var vk={};Object.defineProperty(vk,"__esModule",{value:!0});vk.getEditionSerializer=void 0;const Rce=Rt;function FEt(){return(0,Rce.struct)([["number",(0,Rce.u32)()]],{description:"Edition"})}vk.getEditionSerializer=FEt;var _k={};Object.defineProperty(_k,"__esModule",{value:!0});_k.getExternalCheckResultSerializer=void 0;const $ce=Rt;function jEt(){return(0,$ce.struct)([["flags",(0,$ce.u32)()]],{description:"ExternalCheckResult"})}_k.getExternalCheckResultSerializer=jEt;var dp={},Lce;function VEt(){if(Lce)return dp;Lce=1,Object.defineProperty(dp,"__esModule",{value:!0}),dp.isExternalPluginAdapter=dp.externalPluginAdapter=dp.getExternalPluginAdapterSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.dataEnum)([["LifecycleHook",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseLifecycleHookSerializer)()])]])],["Oracle",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseOracleSerializer)()])]])],["AppData",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseAppDataSerializer)()])]])],["LinkedLifecycleHook",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseLinkedLifecycleHookSerializer)()])]])],["LinkedAppData",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseLinkedAppDataSerializer)()])]])],["DataSection",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseDataSectionSerializer)()])]])]],{description:"ExternalPluginAdapter"})}dp.getExternalPluginAdapterSerializer=r;function n(s,c){return Array.isArray(c)?{__kind:s,fields:c}:{__kind:s,...c??{}}}dp.externalPluginAdapter=n;function i(s,c){return c.__kind===s}return dp.isExternalPluginAdapter=i,dp}var f8e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getExternalPluginAdapterSchemaSerializer=e.ExternalPluginAdapterSchema=void 0;const t=Rt;var r;(function(i){i[i.Binary=0]="Binary",i[i.Json=1]="Json",i[i.MsgPack=2]="MsgPack"})(r=e.ExternalPluginAdapterSchema||(e.ExternalPluginAdapterSchema={}));function n(){return(0,t.scalarEnum)(r,{description:"ExternalPluginAdapterSchema"})}e.getExternalPluginAdapterSchemaSerializer=n})(f8e);var p8e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getExternalPluginAdapterTypeSerializer=e.ExternalPluginAdapterType=void 0;const t=Rt;var r;(function(i){i[i.LifecycleHook=0]="LifecycleHook",i[i.Oracle=1]="Oracle",i[i.AppData=2]="AppData",i[i.LinkedLifecycleHook=3]="LinkedLifecycleHook",i[i.LinkedAppData=4]="LinkedAppData",i[i.DataSection=5]="DataSection"})(r=e.ExternalPluginAdapterType||(e.ExternalPluginAdapterType={}));function n(){return(0,t.scalarEnum)(r,{description:"ExternalPluginAdapterType"})}e.getExternalPluginAdapterTypeSerializer=n})(p8e);var f6={},Bce;function UEt(){if(Bce)return f6;Bce=1,Object.defineProperty(f6,"__esModule",{value:!0}),f6.getExternalRegistryRecordSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["pluginType",(0,t.getExternalPluginAdapterTypeSerializer)()],["authority",(0,t.getBasePluginAuthoritySerializer)()],["lifecycleChecks",(0,e.option)((0,e.array)((0,e.tuple)([(0,t.getHookableLifecycleEventSerializer)(),(0,t.getExternalCheckResultSerializer)()])))],["offset",(0,e.u64)()],["dataOffset",(0,e.option)((0,e.u64)())],["dataLen",(0,e.option)((0,e.u64)())]],{description:"ExternalRegistryRecord"})}return f6.getExternalRegistryRecordSerializer=r,f6}var h8e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getExternalValidationResultSerializer=e.ExternalValidationResult=void 0;const t=Rt;var r;(function(i){i[i.Approved=0]="Approved",i[i.Rejected=1]="Rejected",i[i.Pass=2]="Pass"})(r=e.ExternalValidationResult||(e.ExternalValidationResult={}));function n(){return(0,t.scalarEnum)(r,{description:"ExternalValidationResult"})}e.getExternalValidationResultSerializer=n})(h8e);var bk={};Object.defineProperty(bk,"__esModule",{value:!0});bk.getFreezeDelegateSerializer=void 0;const zce=Rt;function WEt(){return(0,zce.struct)([["frozen",(0,zce.bool)()]],{description:"FreezeDelegate"})}bk.getFreezeDelegateSerializer=WEt;var p6={},Nce;function KEt(){if(Nce)return p6;Nce=1,Object.defineProperty(p6,"__esModule",{value:!0}),p6.getHashablePluginSchemaSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["index",(0,e.u64)()],["authority",(0,t.getBasePluginAuthoritySerializer)()],["plugin",(0,t.getPluginSerializer)()]],{description:"HashablePluginSchema"})}return p6.getHashablePluginSchemaSerializer=r,p6}var xk={};Object.defineProperty(xk,"__esModule",{value:!0});xk.getHashedAssetSchemaSerializer=void 0;const kA=Rt;function HEt(){return(0,kA.struct)([["assetHash",(0,kA.bytes)({size:32})],["pluginHashes",(0,kA.array)((0,kA.bytes)({size:32}))]],{description:"HashedAssetSchema"})}xk.getHashedAssetSchemaSerializer=HEt;var m8e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getHookableLifecycleEventSerializer=e.HookableLifecycleEvent=void 0;const t=Rt;var r;(function(i){i[i.Create=0]="Create",i[i.Transfer=1]="Transfer",i[i.Burn=2]="Burn",i[i.Update=3]="Update"})(r=e.HookableLifecycleEvent||(e.HookableLifecycleEvent={}));function n(){return(0,t.scalarEnum)(r,{description:"HookableLifecycleEvent"})}e.getHookableLifecycleEventSerializer=n})(m8e);var wk={};Object.defineProperty(wk,"__esModule",{value:!0});wk.getImmutableMetadataSerializer=void 0;const GEt=Rt;function qEt(){return(0,GEt.struct)([],{description:"ImmutableMetadata"})}wk.getImmutableMetadataSerializer=qEt;var g8e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getKeySerializer=e.Key=void 0;const t=Rt;var r;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.AssetV1=1]="AssetV1",i[i.HashedAssetV1=2]="HashedAssetV1",i[i.PluginHeaderV1=3]="PluginHeaderV1",i[i.PluginRegistryV1=4]="PluginRegistryV1",i[i.CollectionV1=5]="CollectionV1"})(r=e.Key||(e.Key={}));function n(){return(0,t.scalarEnum)(r,{description:"Key"})}e.getKeySerializer=n})(g8e);var fp={},Fce;function ZEt(){if(Fce)return fp;Fce=1,Object.defineProperty(fp,"__esModule",{value:!0}),fp.isOracleValidation=fp.oracleValidation=fp.getOracleValidationSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.dataEnum)([["Uninitialized",(0,e.unit)()],["V1",(0,e.struct)([["create",(0,t.getExternalValidationResultSerializer)()],["transfer",(0,t.getExternalValidationResultSerializer)()],["burn",(0,t.getExternalValidationResultSerializer)()],["update",(0,t.getExternalValidationResultSerializer)()]])]],{description:"OracleValidation"})}fp.getOracleValidationSerializer=r;function n(s,c){return Array.isArray(c)?{__kind:s,fields:c}:{__kind:s,...c??{}}}fp.oracleValidation=n;function i(s,c){return c.__kind===s}return fp.isOracleValidation=i,fp}var Sk={};Object.defineProperty(Sk,"__esModule",{value:!0});Sk.getPermanentBurnDelegateSerializer=void 0;const XEt=Rt;function YEt(){return(0,XEt.struct)([],{description:"PermanentBurnDelegate"})}Sk.getPermanentBurnDelegateSerializer=YEt;var Ek={};Object.defineProperty(Ek,"__esModule",{value:!0});Ek.getPermanentFreezeDelegateSerializer=void 0;const jce=Rt;function JEt(){return(0,jce.struct)([["frozen",(0,jce.bool)()]],{description:"PermanentFreezeDelegate"})}Ek.getPermanentFreezeDelegateSerializer=JEt;var Ak={};Object.defineProperty(Ak,"__esModule",{value:!0});Ak.getPermanentTransferDelegateSerializer=void 0;const QEt=Rt;function eAt(){return(0,QEt.struct)([],{description:"PermanentTransferDelegate"})}Ak.getPermanentTransferDelegateSerializer=eAt;var pp={},Vce;function tAt(){if(Vce)return pp;Vce=1,Object.defineProperty(pp,"__esModule",{value:!0}),pp.isPlugin=pp.plugin=pp.getPluginSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.dataEnum)([["Royalties",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseRoyaltiesSerializer)()])]])],["FreezeDelegate",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getFreezeDelegateSerializer)()])]])],["BurnDelegate",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBurnDelegateSerializer)()])]])],["TransferDelegate",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getTransferDelegateSerializer)()])]])],["UpdateDelegate",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getUpdateDelegateSerializer)()])]])],["PermanentFreezeDelegate",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getPermanentFreezeDelegateSerializer)()])]])],["Attributes",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getAttributesSerializer)()])]])],["PermanentTransferDelegate",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getPermanentTransferDelegateSerializer)()])]])],["PermanentBurnDelegate",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getPermanentBurnDelegateSerializer)()])]])],["Edition",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getEditionSerializer)()])]])],["MasterEdition",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getBaseMasterEditionSerializer)()])]])],["AddBlocker",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getAddBlockerSerializer)()])]])],["ImmutableMetadata",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getImmutableMetadataSerializer)()])]])],["VerifiedCreators",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getVerifiedCreatorsSerializer)()])]])],["Autograph",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getAutographSerializer)()])]])]],{description:"Plugin"})}pp.getPluginSerializer=r;function n(s,c){return Array.isArray(c)?{__kind:s,fields:c}:{__kind:s,...c??{}}}pp.plugin=n;function i(s,c){return c.__kind===s}return pp.isPlugin=i,pp}var h6={},Uce;function rAt(){if(Uce)return h6;Uce=1,Object.defineProperty(h6,"__esModule",{value:!0}),h6.getPluginAuthorityPairSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["plugin",(0,t.getPluginSerializer)()],["authority",(0,e.option)((0,t.getBasePluginAuthoritySerializer)())]],{description:"PluginAuthorityPair"})}return h6.getPluginAuthorityPairSerializer=r,h6}var y8e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getPluginTypeSerializer=e.PluginType=void 0;const t=Rt;var r;(function(i){i[i.Royalties=0]="Royalties",i[i.FreezeDelegate=1]="FreezeDelegate",i[i.BurnDelegate=2]="BurnDelegate",i[i.TransferDelegate=3]="TransferDelegate",i[i.UpdateDelegate=4]="UpdateDelegate",i[i.PermanentFreezeDelegate=5]="PermanentFreezeDelegate",i[i.Attributes=6]="Attributes",i[i.PermanentTransferDelegate=7]="PermanentTransferDelegate",i[i.PermanentBurnDelegate=8]="PermanentBurnDelegate",i[i.Edition=9]="Edition",i[i.MasterEdition=10]="MasterEdition",i[i.AddBlocker=11]="AddBlocker",i[i.ImmutableMetadata=12]="ImmutableMetadata",i[i.VerifiedCreators=13]="VerifiedCreators",i[i.Autograph=14]="Autograph"})(r=e.PluginType||(e.PluginType={}));function n(){return(0,t.scalarEnum)(r,{description:"PluginType"})}e.getPluginTypeSerializer=n})(y8e);var m6={},Wce;function nAt(){if(Wce)return m6;Wce=1,Object.defineProperty(m6,"__esModule",{value:!0}),m6.getRegistryRecordSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["pluginType",(0,t.getPluginTypeSerializer)()],["authority",(0,t.getBasePluginAuthoritySerializer)()],["offset",(0,e.u64)()]],{description:"RegistryRecord"})}return m6.getRegistryRecordSerializer=r,m6}var Tk={};Object.defineProperty(Tk,"__esModule",{value:!0});Tk.getTransferDelegateSerializer=void 0;const iAt=Rt;function aAt(){return(0,iAt.struct)([],{description:"TransferDelegate"})}Tk.getTransferDelegateSerializer=aAt;var Pk={};Object.defineProperty(Pk,"__esModule",{value:!0});Pk.getUpdateDelegateSerializer=void 0;const NB=Rt;function oAt(){return(0,NB.struct)([["additionalDelegates",(0,NB.array)((0,NB.publicKey)())]],{description:"UpdateDelegate"})}Pk.getUpdateDelegateSerializer=oAt;var v8e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getValidationResultSerializer=e.ValidationResult=void 0;const t=Rt;var r;(function(i){i[i.Approved=0]="Approved",i[i.Rejected=1]="Rejected",i[i.Pass=2]="Pass",i[i.ForceApproved=3]="ForceApproved"})(r=e.ValidationResult||(e.ValidationResult={}));function n(){return(0,t.scalarEnum)(r,{description:"ValidationResult"})}e.getValidationResultSerializer=n})(v8e);var g6={},Kce;function sAt(){if(Kce)return g6;Kce=1,Object.defineProperty(g6,"__esModule",{value:!0}),g6.getVerifiedCreatorsSerializer=void 0;const e=Rt,t=Kr();function r(){return(0,e.struct)([["signatures",(0,e.array)((0,t.getVerifiedCreatorsSignatureSerializer)())]],{description:"VerifiedCreators"})}return g6.getVerifiedCreatorsSerializer=r,g6}var Ck={};Object.defineProperty(Ck,"__esModule",{value:!0});Ck.getVerifiedCreatorsSignatureSerializer=void 0;const FB=Rt;function lAt(){return(0,FB.struct)([["address",(0,FB.publicKey)()],["verified",(0,FB.bool)()]],{description:"VerifiedCreatorsSignature"})}Ck.getVerifiedCreatorsSignatureSerializer=lAt;var Hce;function Kr(){return Hce||(Hce=1,function(e){var t=Er&&Er.__createBinding||(Object.create?function(n,i,s,c){c===void 0&&(c=s);var p=Object.getOwnPropertyDescriptor(i,s);(!p||("get"in p?!i.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,c,p)}:function(n,i,s,c){c===void 0&&(c=s),n[c]=i[s]}),r=Er&&Er.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(dk,e),r(fk,e),r(H7t(),e),r(G7t(),e),r(pk,e),r(Z7t(),e),r(X7t(),e),r(Y7t(),e),r(J7t(),e),r(Q7t(),e),r(hk,e),r(rEt(),e),r(nEt(),e),r(iEt(),e),r(aEt(),e),r(oEt(),e),r(sEt(),e),r(lEt(),e),r(uEt(),e),r(cEt(),e),r(dEt(),e),r(fEt(),e),r(pEt(),e),r(hEt(),e),r(mEt(),e),r(mk,e),r(yEt(),e),r(vEt(),e),r(_Et(),e),r(S1,e),r(SEt(),e),r(E1,e),r(A1,e),r(T1,e),r(P1,e),r(gk,e),r(zEt(),e),r(yk,e),r(d8e,e),r(vk,e),r(_k,e),r(VEt(),e),r(f8e,e),r(p8e,e),r(UEt(),e),r(h8e,e),r(bk,e),r(KEt(),e),r(xk,e),r(m8e,e),r(wk,e),r(g8e,e),r(ZEt(),e),r(Sk,e),r(Ek,e),r(Ak,e),r(tAt(),e),r(rAt(),e),r(y8e,e),r(nAt(),e),r(Tk,e),r(Pk,e),r(v8e,e),r(sAt(),e),r(Ck,e)}($B)),$B}Object.defineProperty(ck,"__esModule",{value:!0});ck.getAssetV1AccountDataSerializer=void 0;const J_=Rt,Gce=Kr();function uAt(){return(0,J_.struct)([["key",(0,Gce.getKeySerializer)()],["owner",(0,J_.publicKey)()],["updateAuthority",(0,Gce.getBaseUpdateAuthoritySerializer)()],["name",(0,J_.string)()],["uri",(0,J_.string)()],["seq",(0,J_.option)((0,J_.u64)())]],{description:"AssetV1AccountData"})}ck.getAssetV1AccountDataSerializer=uAt;var jB={},eh={};Object.defineProperty(eh,"__esModule",{value:!0});eh.royaltiesFromBase=eh.royaltiesToBase=eh.ruleSetToBase=void 0;function _8e(e){if(e.__kind)return e;const r=e;return r.type==="ProgramAllowList"||r.type==="ProgramDenyList"?{__kind:r.type,fields:[r.addresses]}:{__kind:r.type}}eh.ruleSetToBase=_8e;function cAt(e){return{...e,ruleSet:_8e(e.ruleSet)}}eh.royaltiesToBase=cAt;function dAt(e){let t;return e.ruleSet.__kind==="ProgramAllowList"?t={...e.ruleSet,type:"ProgramAllowList",addresses:e.ruleSet.fields[0]}:e.ruleSet.__kind==="ProgramDenyList"?t={...e.ruleSet,type:"ProgramDenyList",addresses:e.ruleSet.fields[0]}:t={...e.ruleSet,type:e.ruleSet.__kind},{...e,ruleSet:t}}eh.royaltiesFromBase=dAt;var Fa={};function fAt(e){for(var t=e.length,r=0,n=0;n<t;){var i=e.charCodeAt(n++);if(i&4294967168)if(!(i&4294965248))r+=2;else{if(i>=55296&&i<=56319&&n<t){var s=e.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?r+=4:r+=3}else{r++;continue}}return r}function pAt(e,t,r){for(var n=e.length,i=r,s=0;s<n;){var c=e.charCodeAt(s++);if(c&4294967168)if(!(c&4294965248))t[i++]=c>>6&31|192;else{if(c>=55296&&c<=56319&&s<n){var p=e.charCodeAt(s);(p&64512)===56320&&(++s,c=((c&1023)<<10)+(p&1023)+65536)}c&4294901760?(t[i++]=c>>18&7|240,t[i++]=c>>12&63|128,t[i++]=c>>6&63|128):(t[i++]=c>>12&15|224,t[i++]=c>>6&63|128)}else{t[i++]=c;continue}t[i++]=c&63|128}}var hAt=new TextEncoder,mAt=50;function gAt(e,t,r){hAt.encodeInto(e,t.subarray(r))}function yAt(e,t,r){e.length>mAt?gAt(e,t,r):pAt(e,t,r)}var vAt=4096;function b8e(e,t,r){for(var n=t,i=n+r,s=[],c="";n<i;){var p=e[n++];if(!(p&128))s.push(p);else if((p&224)===192){var o=e[n++]&63;s.push((p&31)<<6|o)}else if((p&240)===224){var o=e[n++]&63,g=e[n++]&63;s.push((p&31)<<12|o<<6|g)}else if((p&248)===240){var o=e[n++]&63,g=e[n++]&63,y=e[n++]&63,x=(p&7)<<18|o<<12|g<<6|y;x>65535&&(x-=65536,s.push(x>>>10&1023|55296),x=56320|x&1023),s.push(x)}else s.push(p);s.length>=vAt&&(c+=String.fromCharCode.apply(String,s),s.length=0)}return s.length>0&&(c+=String.fromCharCode.apply(String,s)),c}var _At=new TextDecoder,bAt=200;function xAt(e,t,r){var n=e.subarray(t,t+r);return _At.decode(n)}function wAt(e,t,r){return r>bAt?xAt(e,t,r):b8e(e,t,r)}var N6=function(){function e(t,r){this.type=t,this.data=r}return e}(),SAt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jc=function(e){SAt(t,e);function t(r){var n=e.call(this,r)||this,i=Object.create(t.prototype);return Object.setPrototypeOf(n,i),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:t.name}),n}return t}(Error),y6=4294967295;function EAt(e,t,r){var n=r/4294967296,i=r;e.setUint32(t,n),e.setUint32(t+4,i)}function x8e(e,t,r){var n=Math.floor(r/4294967296),i=r;e.setUint32(t,n),e.setUint32(t+4,i)}function w8e(e,t){var r=e.getInt32(t),n=e.getUint32(t+4);return r*4294967296+n}function AAt(e,t){var r=e.getUint32(t),n=e.getUint32(t+4);return r*4294967296+n}var S8e=-1,TAt=4294967296-1,PAt=17179869184-1;function E8e(e){var t=e.sec,r=e.nsec;if(t>=0&&r>=0&&t<=PAt)if(r===0&&t<=TAt){var n=new Uint8Array(4),i=new DataView(n.buffer);return i.setUint32(0,t),n}else{var s=t/4294967296,c=t&4294967295,n=new Uint8Array(8),i=new DataView(n.buffer);return i.setUint32(0,r<<2|s&3),i.setUint32(4,c),n}else{var n=new Uint8Array(12),i=new DataView(n.buffer);return i.setUint32(0,r),x8e(i,4,t),n}}function A8e(e){var t=e.getTime(),r=Math.floor(t/1e3),n=(t-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}function T8e(e){if(e instanceof Date){var t=A8e(e);return E8e(t)}else return null}function P8e(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:{var r=t.getUint32(0),n=0;return{sec:r,nsec:n}}case 8:{var i=t.getUint32(0),s=t.getUint32(4),r=(i&3)*4294967296+s,n=i>>>2;return{sec:r,nsec:n}}case 12:{var r=w8e(t,4),n=t.getUint32(0);return{sec:r,nsec:n}}default:throw new Jc("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}function C8e(e){var t=P8e(e);return new Date(t.sec*1e3+t.nsec/1e6)}var CAt={type:S8e,encode:T8e,decode:C8e},LG=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(CAt)}return e.prototype.register=function(t){var r=t.type,n=t.encode,i=t.decode;if(r>=0)this.encoders[r]=n,this.decoders[r]=i;else{var s=1+r;this.builtInEncoders[s]=n,this.builtInDecoders[s]=i}},e.prototype.tryToEncode=function(t,r){for(var n=0;n<this.builtInEncoders.length;n++){var i=this.builtInEncoders[n];if(i!=null){var s=i(t,r);if(s!=null){var c=-1-n;return new N6(c,s)}}}for(var n=0;n<this.encoders.length;n++){var i=this.encoders[n];if(i!=null){var s=i(t,r);if(s!=null){var c=n;return new N6(c,s)}}}return t instanceof N6?t:null},e.prototype.decode=function(t,r,n){var i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(t,r,n):new N6(r,t)},e.defaultCodec=new e,e}();function qC(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}function IAt(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=qC(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}var MAt=100,kAt=2048,I8e=function(){function e(t){var r,n,i,s,c,p,o,g;this.extensionCodec=(r=t==null?void 0:t.extensionCodec)!==null&&r!==void 0?r:LG.defaultCodec,this.context=t==null?void 0:t.context,this.useBigInt64=(n=t==null?void 0:t.useBigInt64)!==null&&n!==void 0?n:!1,this.maxDepth=(i=t==null?void 0:t.maxDepth)!==null&&i!==void 0?i:MAt,this.initialBufferSize=(s=t==null?void 0:t.initialBufferSize)!==null&&s!==void 0?s:kAt,this.sortKeys=(c=t==null?void 0:t.sortKeys)!==null&&c!==void 0?c:!1,this.forceFloat32=(p=t==null?void 0:t.forceFloat32)!==null&&p!==void 0?p:!1,this.ignoreUndefined=(o=t==null?void 0:t.ignoreUndefined)!==null&&o!==void 0?o:!1,this.forceIntegerToFloat=(g=t==null?void 0:t.forceIntegerToFloat)!==null&&g!==void 0?g:!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(t){return this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(t){return this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(t,r){if(r>this.maxDepth)throw new Error("Too deep objects in depth ".concat(r));t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(t):this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.useBigInt64&&typeof t=="bigint"?this.encodeBigInt64(t):this.encodeObject(t,r)},e.prototype.ensureBufferSizeToWrite=function(t){var r=this.pos+t;this.view.byteLength<r&&this.resizeBuffer(r*2)},e.prototype.resizeBuffer=function(t){var r=new ArrayBuffer(t),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(t){t===!1?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(t){!this.forceIntegerToFloat&&Number.isSafeInteger(t)?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(211),this.writeI64(t)):this.encodeNumberAsFloat(t)},e.prototype.encodeNumberAsFloat=function(t){this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))},e.prototype.encodeBigInt64=function(t){t>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(t)):(this.writeU8(211),this.writeBigInt64(t))},e.prototype.writeStringHeader=function(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error("Too long string: ".concat(t," bytes in UTF-8"))},e.prototype.encodeString=function(t){var r=5,n=fAt(t);this.ensureBufferSizeToWrite(r+n),this.writeStringHeader(n),yAt(t,this.bytes,this.pos),this.pos+=n},e.prototype.encodeObject=function(t,r){var n=this.extensionCodec.tryToEncode(t,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(t))this.encodeArray(t,r);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,r);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(t)))},e.prototype.encodeBinary=function(t){var r=t.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error("Too large binary: ".concat(r));var n=qC(t);this.writeU8a(n)},e.prototype.encodeArray=function(t,r){var n=t.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error("Too large array: ".concat(n));for(var i=0,s=t;i<s.length;i++){var c=s[i];this.doEncode(c,r+1)}},e.prototype.countWithoutUndefined=function(t,r){for(var n=0,i=0,s=r;i<s.length;i++){var c=s[i];t[c]!==void 0&&n++}return n},e.prototype.encodeMap=function(t,r){var n=Object.keys(t);this.sortKeys&&n.sort();var i=this.ignoreUndefined?this.countWithoutUndefined(t,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error("Too large map object: ".concat(i));for(var s=0,c=n;s<c.length;s++){var p=c[s],o=t[p];this.ignoreUndefined&&o===void 0||(this.encodeString(p),this.doEncode(o,r+1))}},e.prototype.encodeExtension=function(t){var r=t.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error("Too large extension object: ".concat(r));this.writeI8(t.type),this.writeU8a(t.data)},e.prototype.writeU8=function(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++},e.prototype.writeU8a=function(t){var r=t.length;this.ensureBufferSizeToWrite(r),this.bytes.set(t,this.pos),this.pos+=r},e.prototype.writeI8=function(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++},e.prototype.writeU16=function(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2},e.prototype.writeI16=function(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2},e.prototype.writeU32=function(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4},e.prototype.writeI32=function(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4},e.prototype.writeF32=function(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4},e.prototype.writeF64=function(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8},e.prototype.writeU64=function(t){this.ensureBufferSizeToWrite(8),EAt(this.view,this.pos,t),this.pos+=8},e.prototype.writeI64=function(t){this.ensureBufferSizeToWrite(8),x8e(this.view,this.pos,t),this.pos+=8},e.prototype.writeBigUint64=function(t){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,t),this.pos+=8},e.prototype.writeBigInt64=function(t){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,t),this.pos+=8},e}();function OAt(e,t){var r=new I8e(t);return r.encodeSharedRef(e)}function VB(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var DAt=16,RAt=16,$At=function(){function e(t,r){t===void 0&&(t=DAt),r===void 0&&(r=RAt),this.maxKeyLength=t,this.maxLengthPerKey=r,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return e.prototype.canBeCached=function(t){return t>0&&t<=this.maxKeyLength},e.prototype.find=function(t,r,n){var i=this.caches[n-1];e:for(var s=0,c=i;s<c.length;s++){for(var p=c[s],o=p.bytes,g=0;g<n;g++)if(o[g]!==t[r+g])continue e;return p.str}return null},e.prototype.store=function(t,r){var n=this.caches[t.length-1],i={bytes:t,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)},e.prototype.decode=function(t,r,n){var i=this.find(t,r,n);if(i!=null)return this.hit++,i;this.miss++;var s=b8e(t,r,n),c=Uint8Array.prototype.slice.call(t,r,r+n);return this.store(c,s),s},e}(),LAt=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function p(y){try{g(n.next(y))}catch(x){c(x)}}function o(y){try{g(n.throw(y))}catch(x){c(x)}}function g(y){y.done?s(y.value):i(y.value).then(p,o)}g((n=n.apply(e,t||[])).next())})},UB=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(g){return function(y){return o([g,y])}}function o(g){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(s=g[0]&2?i.return:g[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,g[1])).done)return s;switch(i=0,s&&(g=[g[0]&2,s.value]),g[0]){case 0:case 1:s=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!s||g[1]>s[0]&&g[1]<s[3])){r.label=g[1];break}if(g[0]===6&&r.label<s[1]){r.label=s[1],s=g;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(g);break}s[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(y){g=[6,y],i=0}finally{n=s=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},qce=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(c){return new Promise(function(p,o){c=e[s](c),i(p,o,c.done,c.value)})}}function i(s,c,p,o){Promise.resolve(o).then(function(g){s({value:g,done:p})},c)}},yx=function(e){return this instanceof yx?(this.v=e,this):new yx(e)},BAt=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(E){n[E]&&(i[E]=function(A){return new Promise(function(M,R){s.push([E,A,M,R])>1||p(E,A)})})}function p(E,A){try{o(n[E](A))}catch(M){x(s[0][3],M)}}function o(E){E.value instanceof yx?Promise.resolve(E.value.v).then(g,y):x(s[0][2],E)}function g(E){p("next",E)}function y(E){p("throw",E)}function x(E,A){E(A),s.shift(),s.length&&p(s[0][0],s[0][1])}},Zce="array",OA="map_key",zAt="map_value",NAt=function(e){return typeof e=="string"||typeof e=="number"},v6=-1,BG=new DataView(new ArrayBuffer(0)),FAt=new Uint8Array(BG.buffer);try{BG.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}var ZC=RangeError,Xce=new ZC("Insufficient data"),jAt=new $At,g3=function(){function e(t){var r,n,i,s,c,p,o;this.totalPos=0,this.pos=0,this.view=BG,this.bytes=FAt,this.headByte=v6,this.stack=[],this.extensionCodec=(r=t==null?void 0:t.extensionCodec)!==null&&r!==void 0?r:LG.defaultCodec,this.context=t==null?void 0:t.context,this.useBigInt64=(n=t==null?void 0:t.useBigInt64)!==null&&n!==void 0?n:!1,this.maxStrLength=(i=t==null?void 0:t.maxStrLength)!==null&&i!==void 0?i:y6,this.maxBinLength=(s=t==null?void 0:t.maxBinLength)!==null&&s!==void 0?s:y6,this.maxArrayLength=(c=t==null?void 0:t.maxArrayLength)!==null&&c!==void 0?c:y6,this.maxMapLength=(p=t==null?void 0:t.maxMapLength)!==null&&p!==void 0?p:y6,this.maxExtLength=(o=t==null?void 0:t.maxExtLength)!==null&&o!==void 0?o:y6,this.keyDecoder=(t==null?void 0:t.keyDecoder)!==void 0?t.keyDecoder:jAt}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=v6,this.stack.length=0},e.prototype.setBuffer=function(t){this.bytes=qC(t),this.view=IAt(this.bytes),this.pos=0},e.prototype.appendBuffer=function(t){if(this.headByte===v6&&!this.hasRemaining(1))this.setBuffer(t);else{var r=this.bytes.subarray(this.pos),n=qC(t),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}},e.prototype.hasRemaining=function(t){return this.view.byteLength-this.pos>=t},e.prototype.createExtraByteError=function(t){var r=this,n=r.view,i=r.pos;return new RangeError("Extra ".concat(n.byteLength-i," of ").concat(n.byteLength," byte(s) found at buffer[").concat(t,"]"))},e.prototype.decode=function(t){this.reinitializeState(),this.setBuffer(t);var r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r},e.prototype.decodeMulti=function(t){return UB(this,function(r){switch(r.label){case 0:this.reinitializeState(),this.setBuffer(t),r.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return r.sent(),[3,1];case 3:return[2]}})},e.prototype.decodeAsync=function(t){var r,n,i,s,c,p,o;return LAt(this,void 0,void 0,function(){var g,y,x,E,A,M,R,k;return UB(this,function(D){switch(D.label){case 0:g=!1,D.label=1;case 1:D.trys.push([1,6,7,12]),r=!0,n=qce(t),D.label=2;case 2:return[4,n.next()];case 3:if(i=D.sent(),s=i.done,!!s)return[3,5];o=i.value,r=!1;try{if(x=o,g)throw this.createExtraByteError(this.totalPos);this.appendBuffer(x);try{y=this.doDecodeSync(),g=!0}catch($){if(!($ instanceof ZC))throw $}this.totalPos+=this.pos}finally{r=!0}D.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return E=D.sent(),c={error:E},[3,12];case 7:return D.trys.push([7,,10,11]),!r&&!s&&(p=n.return)?[4,p.call(n)]:[3,9];case 8:D.sent(),D.label=9;case 9:return[3,11];case 10:if(c)throw c.error;return[7];case 11:return[7];case 12:if(g){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,y]}throw A=this,M=A.headByte,R=A.pos,k=A.totalPos,new RangeError("Insufficient data in parsing ".concat(VB(M)," at ").concat(k," (").concat(R," in the current buffer)"))}})})},e.prototype.decodeArrayStream=function(t){return this.decodeMultiAsync(t,!0)},e.prototype.decodeStream=function(t){return this.decodeMultiAsync(t,!1)},e.prototype.decodeMultiAsync=function(t,r){return BAt(this,arguments,function(){var i,s,c,p,o,g,y,x,E,A,M,R;return UB(this,function(k){switch(k.label){case 0:i=r,s=-1,k.label=1;case 1:k.trys.push([1,15,16,21]),c=!0,p=qce(t),k.label=2;case 2:return[4,yx(p.next())];case 3:if(o=k.sent(),E=o.done,!!E)return[3,14];R=o.value,c=!1,k.label=4;case 4:if(k.trys.push([4,,12,13]),g=R,r&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(g),i&&(s=this.readArraySize(),i=!1,this.complete()),k.label=5;case 5:k.trys.push([5,10,,11]),k.label=6;case 6:return[4,yx(this.doDecodeSync())];case 7:return[4,k.sent()];case 8:return k.sent(),--s===0?[3,9]:[3,6];case 9:return[3,11];case 10:if(y=k.sent(),!(y instanceof ZC))throw y;return[3,11];case 11:return this.totalPos+=this.pos,[3,13];case 12:return c=!0,[7];case 13:return[3,2];case 14:return[3,21];case 15:return x=k.sent(),A={error:x},[3,21];case 16:return k.trys.push([16,,19,20]),!c&&!E&&(M=p.return)?[4,yx(M.call(p))]:[3,18];case 17:k.sent(),k.label=18;case 18:return[3,20];case 19:if(A)throw A.error;return[7];case 20:return[7];case 21:return[2]}})})},e.prototype.doDecodeSync=function(){e:for(;;){var t=this.readHeadByte(),r=void 0;if(t>=224)r=t-256;else if(t<192)if(t<128)r=t;else if(t<144){var n=t-128;if(n!==0){this.pushMapState(n),this.complete();continue e}else r={}}else if(t<160){var n=t-144;if(n!==0){this.pushArrayState(n),this.complete();continue e}else r=[]}else{var i=t-160;r=this.decodeUtf8String(i,0)}else if(t===192)r=null;else if(t===194)r=!1;else if(t===195)r=!0;else if(t===202)r=this.readF32();else if(t===203)r=this.readF64();else if(t===204)r=this.readU8();else if(t===205)r=this.readU16();else if(t===206)r=this.readU32();else if(t===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(t===208)r=this.readI8();else if(t===209)r=this.readI16();else if(t===210)r=this.readI32();else if(t===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(t===217){var i=this.lookU8();r=this.decodeUtf8String(i,1)}else if(t===218){var i=this.lookU16();r=this.decodeUtf8String(i,2)}else if(t===219){var i=this.lookU32();r=this.decodeUtf8String(i,4)}else if(t===220){var n=this.readU16();if(n!==0){this.pushArrayState(n),this.complete();continue e}else r=[]}else if(t===221){var n=this.readU32();if(n!==0){this.pushArrayState(n),this.complete();continue e}else r=[]}else if(t===222){var n=this.readU16();if(n!==0){this.pushMapState(n),this.complete();continue e}else r={}}else if(t===223){var n=this.readU32();if(n!==0){this.pushMapState(n),this.complete();continue e}else r={}}else if(t===196){var n=this.lookU8();r=this.decodeBinary(n,1)}else if(t===197){var n=this.lookU16();r=this.decodeBinary(n,2)}else if(t===198){var n=this.lookU32();r=this.decodeBinary(n,4)}else if(t===212)r=this.decodeExtension(1,0);else if(t===213)r=this.decodeExtension(2,0);else if(t===214)r=this.decodeExtension(4,0);else if(t===215)r=this.decodeExtension(8,0);else if(t===216)r=this.decodeExtension(16,0);else if(t===199){var n=this.lookU8();r=this.decodeExtension(n,1)}else if(t===200){var n=this.lookU16();r=this.decodeExtension(n,2)}else if(t===201){var n=this.lookU32();r=this.decodeExtension(n,4)}else throw new Jc("Unrecognized type byte: ".concat(VB(t)));this.complete();for(var s=this.stack;s.length>0;){var c=s[s.length-1];if(c.type===Zce)if(c.array[c.position]=r,c.position++,c.position===c.size)s.pop(),r=c.array;else continue e;else if(c.type===OA){if(!NAt(r))throw new Jc("The type of key must be string or number but "+typeof r);if(r==="__proto__")throw new Jc("The key __proto__ is not allowed");c.key=r,c.type=zAt;continue e}else if(c.map[c.key]=r,c.readCount++,c.readCount===c.size)s.pop(),r=c.map;else{c.key=null,c.type=OA;continue e}}return r}},e.prototype.readHeadByte=function(){return this.headByte===v6&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=v6},e.prototype.readArraySize=function(){var t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new Jc("Unrecognized array type byte: ".concat(VB(t)))}}},e.prototype.pushMapState=function(t){if(t>this.maxMapLength)throw new Jc("Max length exceeded: map length (".concat(t,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:OA,size:t,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(t){if(t>this.maxArrayLength)throw new Jc("Max length exceeded: array length (".concat(t,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:Zce,size:t,array:new Array(t),position:0})},e.prototype.decodeUtf8String=function(t,r){var n;if(t>this.maxStrLength)throw new Jc("Max length exceeded: UTF-8 byte length (".concat(t,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+r+t)throw Xce;var i=this.pos+r,s;return this.stateIsMapKey()&&(!((n=this.keyDecoder)===null||n===void 0)&&n.canBeCached(t))?s=this.keyDecoder.decode(this.bytes,i,t):s=wAt(this.bytes,i,t),this.pos+=r+t,s},e.prototype.stateIsMapKey=function(){if(this.stack.length>0){var t=this.stack[this.stack.length-1];return t.type===OA}return!1},e.prototype.decodeBinary=function(t,r){if(t>this.maxBinLength)throw new Jc("Max length exceeded: bin length (".concat(t,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(t+r))throw Xce;var n=this.pos+r,i=this.bytes.subarray(n,n+t);return this.pos+=r+t,i},e.prototype.decodeExtension=function(t,r){if(t>this.maxExtLength)throw new Jc("Max length exceeded: ext length (".concat(t,") > maxExtLength (").concat(this.maxExtLength,")"));var n=this.view.getInt8(this.pos+r),i=this.decodeBinary(t,r+1);return this.extensionCodec.decode(i,n,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var t=this.view.getUint8(this.pos);return this.pos++,t},e.prototype.readI8=function(){var t=this.view.getInt8(this.pos);return this.pos++,t},e.prototype.readU16=function(){var t=this.view.getUint16(this.pos);return this.pos+=2,t},e.prototype.readI16=function(){var t=this.view.getInt16(this.pos);return this.pos+=2,t},e.prototype.readU32=function(){var t=this.view.getUint32(this.pos);return this.pos+=4,t},e.prototype.readI32=function(){var t=this.view.getInt32(this.pos);return this.pos+=4,t},e.prototype.readU64=function(){var t=AAt(this.view,this.pos);return this.pos+=8,t},e.prototype.readI64=function(){var t=w8e(this.view,this.pos);return this.pos+=8,t},e.prototype.readU64AsBigInt=function(){var t=this.view.getBigUint64(this.pos);return this.pos+=8,t},e.prototype.readI64AsBigInt=function(){var t=this.view.getBigInt64(this.pos);return this.pos+=8,t},e.prototype.readF32=function(){var t=this.view.getFloat32(this.pos);return this.pos+=4,t},e.prototype.readF64=function(){var t=this.view.getFloat64(this.pos);return this.pos+=8,t},e}();function VAt(e,t){var r=new g3(t);return r.decode(e)}function UAt(e,t){var r=new g3(t);return r.decodeMulti(e)}var WAt=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(g){return function(y){return o([g,y])}}function o(g){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(s=g[0]&2?i.return:g[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,g[1])).done)return s;switch(i=0,s&&(g=[g[0]&2,s.value]),g[0]){case 0:case 1:s=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!s||g[1]>s[0]&&g[1]<s[3])){r.label=g[1];break}if(g[0]===6&&r.label<s[1]){r.label=s[1],s=g;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(g);break}s[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(y){g=[6,y],i=0}finally{n=s=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},vx=function(e){return this instanceof vx?(this.v=e,this):new vx(e)},KAt=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(E){n[E]&&(i[E]=function(A){return new Promise(function(M,R){s.push([E,A,M,R])>1||p(E,A)})})}function p(E,A){try{o(n[E](A))}catch(M){x(s[0][3],M)}}function o(E){E.value instanceof vx?Promise.resolve(E.value.v).then(g,y):x(s[0][2],E)}function g(E){p("next",E)}function y(E){p("throw",E)}function x(E,A){E(A),s.shift(),s.length&&p(s[0][0],s[0][1])}};function HAt(e){return e[Symbol.asyncIterator]!=null}function GAt(e){if(e==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function qAt(e){return KAt(this,arguments,function(){var r,n,i,s;return WAt(this,function(c){switch(c.label){case 0:r=e.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,vx(r.read())];case 3:return n=c.sent(),i=n.done,s=n.value,i?[4,vx(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return GAt(s),[4,vx(s)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function zG(e){return HAt(e)?e:qAt(e)}var ZAt=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function p(y){try{g(n.next(y))}catch(x){c(x)}}function o(y){try{g(n.throw(y))}catch(x){c(x)}}function g(y){y.done?s(y.value):i(y.value).then(p,o)}g((n=n.apply(e,t||[])).next())})},XAt=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(g){return function(y){return o([g,y])}}function o(g){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(s=g[0]&2?i.return:g[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,g[1])).done)return s;switch(i=0,s&&(g=[g[0]&2,s.value]),g[0]){case 0:case 1:s=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!s||g[1]>s[0]&&g[1]<s[3])){r.label=g[1];break}if(g[0]===6&&r.label<s[1]){r.label=s[1],s=g;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(g);break}s[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(y){g=[6,y],i=0}finally{n=s=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}};function YAt(e,t){return ZAt(this,void 0,void 0,function(){var r,n;return XAt(this,function(i){return r=zG(e),n=new g3(t),[2,n.decodeAsync(r)]})})}function JAt(e,t){var r=zG(e),n=new g3(t);return n.decodeArrayStream(r)}function QAt(e,t){var r=zG(e),n=new g3(t);return n.decodeStream(r)}var eTt=void 0;const tTt=Object.freeze(Object.defineProperty({__proto__:null,DataViewIndexOutOfBoundsError:ZC,DecodeError:Jc,Decoder:g3,EXT_TIMESTAMP:S8e,Encoder:I8e,ExtData:N6,ExtensionCodec:LG,decode:VAt,decodeArrayStream:JAt,decodeAsync:YAt,decodeMulti:UAt,decodeMultiStream:QAt,decodeStream:eTt,decodeTimestampExtension:C8e,decodeTimestampToTimeSpec:P8e,encode:OAt,encodeDateToTimeSpec:A8e,encodeTimeSpecToTimestamp:E8e,encodeTimestampExtension:T8e},Symbol.toStringTag,{value:"Module"})),rTt=U1(tTt);var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.unwrapOption=Fs.someOrNone=Fs.lowercaseFirstLetter=Fs.capitalizeFirstLetter=Fs.toWords=void 0;const Yce=Rn;function nTt(e){const t=/([a-z0-9])([A-Z])/g;return e.replace(t,"$1 $2")}Fs.toWords=nTt;function iTt(e){return e.charAt(0).toUpperCase()+e.slice(1)}Fs.capitalizeFirstLetter=iTt;function aTt(e){return e.charAt(0).toLowerCase()+e.slice(1)}Fs.lowercaseFirstLetter=aTt;function oTt(e){return e!==void 0?(0,Yce.some)(e):(0,Yce.none)()}Fs.someOrNone=oTt;function sTt(e){return e.__option==="Some"?e.value:void 0}Fs.unwrapOption=sTt;var xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.comparePluginAuthorities=xs.pluginAuthorityFromBase=xs.pluginAuthorityToBase=void 0;function lTt(e){return e.type==="Address"?{__kind:"Address",address:e.address}:{__kind:e.type}}xs.pluginAuthorityToBase=lTt;function uTt(e){return{type:e.__kind,address:e.address}}xs.pluginAuthorityFromBase=uTt;function cTt(e,t){return e.type!==t.type?!1:e.address===t.address}xs.comparePluginAuthorities=cTt;var Vy={};Object.defineProperty(Vy,"__esModule",{value:!0});Vy.masterEditionFromBase=Vy.masterEditionToBase=void 0;const _x=Fs;function dTt(e){return{maxSupply:(0,_x.someOrNone)(e.maxSupply),name:(0,_x.someOrNone)(e.name),uri:(0,_x.someOrNone)(e.uri)}}Vy.masterEditionToBase=dTt;function fTt(e){return{maxSupply:(0,_x.unwrapOption)(e.maxSupply),name:(0,_x.unwrapOption)(e.name),uri:(0,_x.unwrapOption)(e.uri)}}Vy.masterEditionFromBase=fTt;var Jce;function Ik(){if(Jce)return Fa;Jce=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.parseExternalPluginAdapterData=Fa.pluginKeyToPluginType=Fa.registryRecordsToPluginsList=Fa.mapPlugin=Fa.mapPluginFields=Fa.pluginAuthorityPairV2=Fa.createPluginV2=Fa.pluginAuthorityPair=Fa.createPlugin=Fa.formPluginHeaderV1=void 0;const e=Rn,t=rTt,r=Ti(),n=Fs,i=xs,s=eh,c=Vy;function p(D){return{key:r.Key.PluginHeaderV1,pluginRegistryOffset:D}}Fa.formPluginHeaderV1=p;function o(D){return D.type==="UpdateDelegate"?{__kind:D.type,fields:[D.data||{additionalDelegates:[]}]}:{__kind:D.type,fields:[D.data||{}]}}Fa.createPlugin=o;function g(D){const{type:$,authority:B,data:V}=D;return{plugin:o({type:$,data:V}),authority:B?(0,e.some)(B):(0,e.none)()}}Fa.pluginAuthorityPair=g;function y(D){const{type:$}=D;return $==="UpdateDelegate"?{__kind:$,fields:[D||{additionalDelegates:[]}]}:$==="Royalties"?{__kind:$,fields:[(0,s.royaltiesToBase)(D)]}:$==="MasterEdition"?{__kind:$,fields:[(0,c.masterEditionToBase)(D)]}:{__kind:$,fields:[D||{}]}}Fa.createPluginV2=y;function x({type:D,authority:$,...B}){return{plugin:y({type:D,...B}),authority:$?(0,e.some)((0,i.pluginAuthorityToBase)($)):(0,e.none)()}}Fa.pluginAuthorityPairV2=x;function E(D){return D.reduce(($,B)=>({...$,...B}),{})}Fa.mapPluginFields=E;function A({plugin:D,authority:$,offset:B}){const V=(0,n.toWords)(D.__kind).toLowerCase().split(" ").reduce((U,Z)=>U+(Z.charAt(0).toUpperCase()+Z.slice(1)));return D.__kind==="Royalties"?{[V]:{authority:$,offset:B,...(0,s.royaltiesFromBase)(D.fields[0])}}:D.__kind==="MasterEdition"?{[V]:{authority:$,offset:B,...(0,c.masterEditionFromBase)(D.fields[0])}}:{[V]:{authority:$,offset:B,..."fields"in D?E(D.fields):{}}}}Fa.mapPlugin=A;function M(D,$){return D.reduce((B,V)=>{const U=(0,i.pluginAuthorityFromBase)(V.authority),Z=(0,r.getPluginSerializer)().deserialize($,Number(V.offset))[0];return B={...B,...A({plugin:Z,authority:U,offset:V.offset})},B},{})}Fa.registryRecordsToPluginsList=M;function R(D){return D.charAt(0).toUpperCase()+D.slice(1)}Fa.pluginKeyToPluginType=R;function k(D,$,B){let V;if((0,e.isSome)($.dataOffset)&&(0,e.isSome)($.dataLen)){const U=B.slice(Number($.dataOffset.value),Number($.dataOffset.value)+Number($.dataLen.value));if(D.schema===r.ExternalPluginAdapterSchema.Binary)V=U;else if(D.schema===r.ExternalPluginAdapterSchema.Json){if(U.length!==0)try{V=JSON.parse(new TextDecoder().decode(U))}catch(Z){console.warn("Invalid JSON in external plugin data",Z.message)}}else D.schema===r.ExternalPluginAdapterSchema.MsgPack&&(U.length===0?V=null:V=(0,t.decode)(U));return V}throw new Error("Invalid DataStore, missing dataOffset or dataLen")}return Fa.parseExternalPluginAdapterData=k,Fa}var qc={},Qce;function M8e(){if(Qce)return qc;Qce=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.appDataManifest=qc.appDataFromBase=qc.appDataUpdateInfoArgsToBase=qc.appDataInitInfoArgsToBase=void 0;const e=Ik(),t=xs;function r(s){return{dataAuthority:(0,t.pluginAuthorityToBase)(s.dataAuthority),initPluginAuthority:s.initPluginAuthority?(0,t.pluginAuthorityToBase)(s.initPluginAuthority):null,schema:s.schema??null}}qc.appDataInitInfoArgsToBase=r;function n(s){return{schema:s.schema??null}}qc.appDataUpdateInfoArgsToBase=n;function i(s,c,p){return{...s,dataAuthority:(0,t.pluginAuthorityFromBase)(s.dataAuthority),data:(0,e.parseExternalPluginAdapterData)(s,c,p)}}return qc.appDataFromBase=i,qc.appDataManifest={type:"AppData",fromBase:i,initToBase:r,updateToBase:n},qc}var WB={},ede;function oS(){return ede||(ede=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.lifecycleChecksFromBase=e.lifecycleChecksToBase=e.hookableLifecycleEventToLifecycleCheckKey=e.lifecycleCheckKeyToEnum=e.checkResultsToAdapterCheckResult=e.adapterCheckResultToCheckResults=e.CheckResult=void 0;const t=Ti(),r=Fs;var n;(function(y){y[y.CAN_LISTEN=0]="CAN_LISTEN",y[y.CAN_APPROVE=1]="CAN_APPROVE",y[y.CAN_REJECT=2]="CAN_REJECT"})(n=e.CheckResult||(e.CheckResult={}));const i=y=>{const x=[];return y.flags&1&&x.push(n.CAN_LISTEN),y.flags&2&&x.push(n.CAN_APPROVE),y.flags&4&&x.push(n.CAN_REJECT),x};e.adapterCheckResultToCheckResults=i;const s=y=>{let x=0;return y.forEach(E=>{switch(E){case n.CAN_LISTEN:x|=1;break;case n.CAN_APPROVE:x|=2;break;case n.CAN_REJECT:x|=4;break}}),{flags:x}};e.checkResultsToAdapterCheckResult=s;function c(y){return t.HookableLifecycleEvent[(0,r.capitalizeFirstLetter)(y)]}e.lifecycleCheckKeyToEnum=c;function p(y){return t.HookableLifecycleEvent[y].toLowerCase()}e.hookableLifecycleEventToLifecycleCheckKey=p;function o(y){return Object.keys(y).map(x=>{const E=x,A=y[E];return A?[c(E),(0,e.checkResultsToAdapterCheckResult)(A)]:null}).filter(x=>x!==null)}e.lifecycleChecksToBase=o;function g(y){const x={};return y.forEach(([E,A])=>{x[p(E)]=(0,e.adapterCheckResultToCheckResults)(A)}),x}e.lifecycleChecksFromBase=g}(WB)),WB}var Zc={},y3={},Uy={};Object.defineProperty(Uy,"__esModule",{value:!0});Uy.seedFromBase=Uy.seedToBase=void 0;function pTt(e){return e.type==="Address"?{__kind:"Address",fields:[e.pubkey]}:e.type==="Bytes"?{__kind:"Bytes",fields:[e.bytes]}:{__kind:e.type}}Uy.seedToBase=pTt;function hTt(e){return e.__kind==="Address"?{type:"Address",pubkey:e.fields[0]}:e.__kind==="Bytes"?{type:"Bytes",bytes:e.fields[0]}:{type:e.__kind}}Uy.seedFromBase=hTt;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getExtraAccountRequiredInputs=e.extraAccountFromBase=e.extraAccountToBase=e.extraAccountToAccountMeta=e.findPreconfiguredPda=e.PRECONFIGURED_SEED=void 0;const t=Rt,r=Uy,n=Fs;e.PRECONFIGURED_SEED="mpl-core";const i=(y,x,E)=>y.eddsa.findPda(x,[(0,t.string)({size:"variable"}).serialize(e.PRECONFIGURED_SEED),(0,t.publicKey)().serialize(E)]);e.findPreconfiguredPda=i;function s(y,x,E){const A={isSigner:x.isSigner||!1,isWritable:x.isWritable||!1},M=g(x),R=[];if(M.forEach(k=>{E[k]||R.push(k)}),R.length)throw new Error(`Missing required inputs to derive account address: ${R.join(", ")}`);switch(x.type){case"PreconfiguredProgram":return{...A,pubkey:y.eddsa.findPda(E.program,[(0,t.string)({size:"variable"}).serialize(e.PRECONFIGURED_SEED)])[0]};case"PreconfiguredCollection":return{...A,pubkey:(0,e.findPreconfiguredPda)(y,E.program,E.collection)[0]};case"PreconfiguredOwner":return{...A,pubkey:(0,e.findPreconfiguredPda)(y,E.program,E.owner)[0]};case"PreconfiguredRecipient":return{...A,pubkey:(0,e.findPreconfiguredPda)(y,E.program,E.recipient)[0]};case"PreconfiguredAsset":return{...A,pubkey:(0,e.findPreconfiguredPda)(y,E.program,E.asset)[0]};case"CustomPda":return{pubkey:y.eddsa.findPda(x.customProgramId?x.customProgramId:E.program,x.seeds.map(k=>{switch(k.type){case"Collection":return(0,t.publicKey)().serialize(E.collection);case"Owner":return(0,t.publicKey)().serialize(E.owner);case"Recipient":return(0,t.publicKey)().serialize(E.recipient);case"Asset":return(0,t.publicKey)().serialize(E.asset);case"Address":return(0,t.publicKey)().serialize(k.pubkey);case"Bytes":return k.bytes;default:throw new Error("Unknown seed type")}}))[0],...A};case"Address":return{...A,pubkey:x.address};default:throw new Error("Unknown extra account type")}}e.extraAccountToAccountMeta=s;function c(y){const x={isSigner:y.isSigner||!1,isWritable:y.isWritable||!1};return y.type==="CustomPda"?{__kind:"CustomPda",...x,seeds:y.seeds.map(r.seedToBase),customProgramId:(0,n.someOrNone)(y.customProgramId)}:y.type==="Address"?{__kind:"Address",...x,address:y.address}:{__kind:y.type,...x}}e.extraAccountToBase=c;function p(y){return y.__kind==="CustomPda"?{type:"CustomPda",isSigner:y.isSigner,isWritable:y.isWritable,seeds:y.seeds.map(r.seedFromBase),customProgramId:(0,n.unwrapOption)(y.customProgramId)}:y.__kind==="Address"?{type:"Address",isSigner:y.isSigner,isWritable:y.isWritable,address:y.address}:{type:y.__kind,isSigner:y.isSigner,isWritable:y.isWritable}}e.extraAccountFromBase=p;const o={PreconfiguredOwner:"owner",PreconfiguredRecipient:"recipient",PreconfiguredAsset:"asset",PreconfiguredCollection:"collection",PreconfiguredProgram:"program"};function g(y){const x=o[y.type];return x?[x]:y.type==="CustomPda"?y.seeds.map(E=>{switch(E.type){case"Collection":return"collection";case"Owner":return"owner";case"Recipient":return"recipient";case"Asset":return"asset";default:return null}}).filter(E=>E):[]}e.getExtraAccountRequiredInputs=g})(y3);var tde;function mTt(){if(tde)return Zc;tde=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.lifecycleHookManifest=Zc.lifecycleHookFromBase=Zc.lifecycleHookUpdateInfoArgsToBase=Zc.lifecycleHookInitInfoArgsToBase=void 0;const e=y3,t=oS(),r=xs,n=Ik();function i(p){return{extraAccounts:p.extraAccounts?p.extraAccounts.map(e.extraAccountToBase):null,hookedProgram:p.hookedProgram,initPluginAuthority:p.initPluginAuthority?(0,r.pluginAuthorityToBase)(p.initPluginAuthority):null,lifecycleChecks:(0,t.lifecycleChecksToBase)(p.lifecycleChecks),schema:p.schema??null,dataAuthority:p.dataAuthority?(0,r.pluginAuthorityToBase)(p.dataAuthority):null}}Zc.lifecycleHookInitInfoArgsToBase=i;function s(p){return{lifecycleChecks:p.lifecycleChecks?(0,t.lifecycleChecksToBase)(p.lifecycleChecks):null,extraAccounts:p.extraAccounts?p.extraAccounts.map(e.extraAccountToBase):null,schema:p.schema??null}}Zc.lifecycleHookUpdateInfoArgsToBase=s;function c(p,o,g){return{...p,extraAccounts:p.extraAccounts.__option==="Some"?p.extraAccounts.value.map(e.extraAccountFromBase):void 0,data:(0,n.parseExternalPluginAdapterData)(p,o,g),dataAuthority:p.dataAuthority.__option==="Some"?(0,r.pluginAuthorityFromBase)(p.dataAuthority.value):void 0}}return Zc.lifecycleHookFromBase=c,Zc.lifecycleHookManifest={type:"LifecycleHook",fromBase:c,initToBase:i,updateToBase:s},Zc}var ol={},Wy={};Object.defineProperty(Wy,"__esModule",{value:!0});Wy.validationResultsOffsetFromBase=Wy.validationResultsOffsetToBase=void 0;function gTt(e){return e.type==="Custom"?{__kind:"Custom",fields:[e.offset]}:{__kind:e.type}}Wy.validationResultsOffsetToBase=gTt;function yTt(e){return e.__kind==="Custom"?{type:"Custom",offset:e.fields[0]}:{type:e.__kind}}Wy.validationResultsOffsetFromBase=yTt;var rde;function k8e(){if(rde)return ol;rde=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.oracleManifest=ol.deserializeOracleValidation=ol.findOracleAccount=ol.oracleFromBase=ol.oracleUpdateInfoArgsToBase=ol.oracleInitInfoArgsToBase=void 0;const e=y3,t=Ti(),r=oS(),n=xs,i=Wy;function s(y){return{baseAddress:y.baseAddress,baseAddressConfig:y.baseAddressConfig?(0,e.extraAccountToBase)(y.baseAddressConfig):null,lifecycleChecks:(0,r.lifecycleChecksToBase)(y.lifecycleChecks),initPluginAuthority:y.initPluginAuthority?(0,n.pluginAuthorityToBase)(y.initPluginAuthority):null,resultsOffset:y.resultsOffset?(0,i.validationResultsOffsetToBase)(y.resultsOffset):null}}ol.oracleInitInfoArgsToBase=s;function c(y){return{baseAddressConfig:y.baseAddressConfig?(0,e.extraAccountToBase)(y.baseAddressConfig):null,lifecycleChecks:y.lifecycleChecks?(0,r.lifecycleChecksToBase)(y.lifecycleChecks):null,resultsOffset:y.resultsOffset?(0,i.validationResultsOffsetToBase)(y.resultsOffset):null}}ol.oracleUpdateInfoArgsToBase=c;function p(y,x,E){return{...y,baseAddressConfig:y.baseAddressConfig.__option==="Some"?(0,e.extraAccountFromBase)(y.baseAddressConfig.value):void 0,resultsOffset:(0,i.validationResultsOffsetFromBase)(y.resultsOffset)}}ol.oracleFromBase=p;function o(y,x,E){return x.baseAddressConfig?(0,e.extraAccountToAccountMeta)(y,x.baseAddressConfig,{...E,program:x.baseAddress}).pubkey:x.baseAddress}ol.findOracleAccount=o;function g(y,x){let E=0;return x.type==="Custom"?E=Number(x.offset):x.type==="Anchor"&&(E=8),(0,t.getOracleValidationSerializer)().deserialize(y,E)[0]}return ol.deserializeOracleValidation=g,ol.oracleManifest={type:"Oracle",fromBase:p,initToBase:s,updateToBase:c},ol}var sS={},F1={};Object.defineProperty(F1,"__esModule",{value:!0});F1.linkedDataKeyFromBase=F1.linkedDataKeyToBase=void 0;const O8e=xs;function vTt(e){switch(e.type){case"LinkedLifecycleHook":return{__kind:e.type,fields:[e.hookedProgram]};case"LinkedAppData":return{__kind:e.type,fields:[(0,O8e.pluginAuthorityToBase)(e.dataAuthority)]};default:throw new Error("Unknown LinkedDataKey type")}}F1.linkedDataKeyToBase=vTt;function _Tt(e){switch(e.__kind){case"LinkedLifecycleHook":return{type:e.__kind,hookedProgram:e.fields[0]};case"LinkedAppData":return{type:e.__kind,dataAuthority:(0,O8e.pluginAuthorityFromBase)(e.fields[0])};default:throw new Error("Unknown LinkedDataKey type")}}F1.linkedDataKeyFromBase=_Tt;Object.defineProperty(sS,"__esModule",{value:!0});sS.externalPluginAdapterKeyToBase=void 0;const bTt=xs,xTt=F1;function wTt(e){switch(e.type){case"Oracle":return{__kind:e.type,fields:[e.baseAddress]};case"AppData":case"LinkedAppData":return{__kind:e.type,fields:[(0,bTt.pluginAuthorityToBase)(e.dataAuthority)]};case"LifecycleHook":return{__kind:e.type,fields:[e.hookedProgram]};case"DataSection":return{__kind:e.type,fields:[(0,xTt.linkedDataKeyToBase)(e.parentKey)]};default:throw new Error("Unknown ExternalPluginAdapterKey type")}}sS.externalPluginAdapterKeyToBase=wTt;var D8e={};Object.defineProperty(D8e,"__esModule",{value:!0});var KB={},nde;function STt(){return nde||(nde=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ruleSet=e.updateAuthority=e.pluginAuthority=void 0;const t=Ti();Object.defineProperty(e,"pluginAuthority",{enumerable:!0,get:function(){return t.basePluginAuthority}}),Object.defineProperty(e,"updateAuthority",{enumerable:!0,get:function(){return t.baseUpdateAuthority}}),Object.defineProperty(e,"ruleSet",{enumerable:!0,get:function(){return t.baseRuleSet}})}(KB)),KB}var HB={},dd={};Object.defineProperty(dd,"__esModule",{value:!0});dd.linkedAppDataManifest=dd.linkedAppDataFromBase=dd.linkedAppDataUpdateInfoArgsToBase=dd.linkedAppDataInitInfoArgsToBase=void 0;const tU=xs;function R8e(e){return{dataAuthority:(0,tU.pluginAuthorityToBase)(e.dataAuthority),initPluginAuthority:e.initPluginAuthority?(0,tU.pluginAuthorityToBase)(e.initPluginAuthority):null,schema:e.schema??null}}dd.linkedAppDataInitInfoArgsToBase=R8e;function $8e(e){return{schema:e.schema??null}}dd.linkedAppDataUpdateInfoArgsToBase=$8e;function L8e(e,t,r){return{...e,dataAuthority:(0,tU.pluginAuthorityFromBase)(e.dataAuthority)}}dd.linkedAppDataFromBase=L8e;dd.linkedAppDataManifest={type:"LinkedAppData",fromBase:L8e,initToBase:R8e,updateToBase:$8e};var Xc={},ide;function B8e(){if(ide)return Xc;ide=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.dataSectionManifest=Xc.dataSectionFromBase=Xc.dataSectionUpdateInfoArgsToBase=Xc.dataSectionInitInfoArgsToBase=void 0;const e=Ik(),t=F1,r=xs;function n(c){return{parentKey:(0,t.linkedDataKeyToBase)(c.parentKey),schema:c.schema}}Xc.dataSectionInitInfoArgsToBase=n;function i(c){return{}}Xc.dataSectionUpdateInfoArgsToBase=i;function s(c,p,o){return{...c,parentKey:(0,t.linkedDataKeyFromBase)(c.parentKey),dataAuthority:c.parentKey.__kind!=="LinkedLifecycleHook"?(0,r.pluginAuthorityFromBase)(c.parentKey.fields[0]):void 0,data:(0,e.parseExternalPluginAdapterData)(c,p,o)}}return Xc.dataSectionFromBase=s,Xc.dataSectionManifest={type:"DataSection",fromBase:s,initToBase:n,updateToBase:i},Xc}var Yc={},ade;function z8e(){if(ade)return Yc;ade=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.linkedLifecycleHookManifest=Yc.linkedLifecycleHookFromBase=Yc.linkedLifecycleHookUpdateInfoArgsToBase=Yc.linkedLifecycleHookInitInfoArgsToBase=void 0;const e=y3,t=oS(),r=xs;function n(c){return{extraAccounts:c.extraAccounts?c.extraAccounts.map(e.extraAccountToBase):null,hookedProgram:c.hookedProgram,initPluginAuthority:c.initPluginAuthority?(0,r.pluginAuthorityToBase)(c.initPluginAuthority):null,lifecycleChecks:(0,t.lifecycleChecksToBase)(c.lifecycleChecks),schema:c.schema?c.schema:null,dataAuthority:c.dataAuthority?(0,r.pluginAuthorityToBase)(c.dataAuthority):null}}Yc.linkedLifecycleHookInitInfoArgsToBase=n;function i(c){return{lifecycleChecks:c.lifecycleChecks?(0,t.lifecycleChecksToBase)(c.lifecycleChecks):null,extraAccounts:c.extraAccounts?c.extraAccounts.map(e.extraAccountToBase):null,schema:c.schema??null}}Yc.linkedLifecycleHookUpdateInfoArgsToBase=i;function s(c,p,o){return{...c,extraAccounts:c.extraAccounts.__option==="Some"?c.extraAccounts.value.map(e.extraAccountFromBase):void 0,dataAuthority:c.dataAuthority.__option==="Some"?(0,r.pluginAuthorityFromBase)(c.dataAuthority.value):void 0}}return Yc.linkedLifecycleHookFromBase=s,Yc.linkedLifecycleHookManifest={type:"LinkedLifecycleHook",fromBase:s,initToBase:n,updateToBase:i},Yc}var ode;function v3(){return ode||(ode=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findExtraAccounts=e.createExternalPluginAdapterUpdateInfo=e.createExternalPluginAdapterInitInfo=e.isExternalPluginAdapterType=e.externalRegistryRecordsToExternalPluginAdapterList=e.externalPluginAdapterManifests=void 0;const t=Pa(),r=Ti(),n=M8e(),i=oS(),s=k8e(),c=y3,p=dd,o=B8e(),g=z8e();e.externalPluginAdapterManifests={LifecycleHook:t.lifecycleHookManifest,Oracle:s.oracleManifest,AppData:n.appDataManifest,LinkedLifecycleHook:g.linkedLifecycleHookManifest,LinkedAppData:p.linkedAppDataManifest,DataSection:o.dataSectionManifest};function y(R,k){const D={};return R.forEach($=>{const B=(0,r.getExternalPluginAdapterSerializer)().deserialize(k,Number($.offset))[0],V={lifecycleChecks:$.lifecycleChecks.__option==="Some"?(0,i.lifecycleChecksFromBase)($.lifecycleChecks.value):void 0,authority:(0,t.pluginAuthorityFromBase)($.authority),offset:$.offset};B.__kind==="LifecycleHook"?(D.lifecycleHooks||(D.lifecycleHooks=[]),D.lifecycleHooks.push({type:"LifecycleHook",...V,...(0,t.lifecycleHookFromBase)(B.fields[0],$,k)})):B.__kind==="AppData"?(D.appDatas||(D.appDatas=[]),D.appDatas.push({type:"AppData",...V,...(0,n.appDataFromBase)(B.fields[0],$,k)})):B.__kind==="Oracle"?(D.oracles||(D.oracles=[]),D.oracles.push({type:"Oracle",...V,...(0,s.oracleFromBase)(B.fields[0],$,k)})):B.__kind==="LinkedLifecycleHook"?(D.linkedLifecycleHooks||(D.linkedLifecycleHooks=[]),D.linkedLifecycleHooks.push({type:"LinkedLifecycleHook",...V,...(0,g.linkedLifecycleHookFromBase)(B.fields[0],$,k)})):B.__kind==="LinkedAppData"?(D.linkedAppDatas||(D.linkedAppDatas=[]),D.linkedAppDatas.push({type:"LinkedAppData",...V,...(0,p.linkedAppDataFromBase)(B.fields[0],$,k)})):B.__kind==="DataSection"&&(D.dataSections||(D.dataSections=[]),D.dataSections.push({type:"DataSection",...V,...(0,o.dataSectionFromBase)(B.fields[0],$,k)}))}),D}e.externalRegistryRecordsToExternalPluginAdapterList=y;const x=R=>R.type==="LifecycleHook"||R.type==="Oracle"||R.type==="AppData"||R.type==="LinkedLifecycleHook"||R.type==="DataSection"||R.type==="LinkedAppData";e.isExternalPluginAdapterType=x;function E({type:R,...k}){const D=e.externalPluginAdapterManifests[R];return{__kind:R,fields:[D.initToBase(k)]}}e.createExternalPluginAdapterInitInfo=E;function A({type:R,...k}){const D=e.externalPluginAdapterManifests[R];return{__kind:R,fields:[D.updateToBase(k)]}}e.createExternalPluginAdapterUpdateInfo=A;const M=(R,k,D,$)=>{var V,U,Z;const B=[];return(V=D.oracles)==null||V.forEach(ne=>{var j;(j=ne.lifecycleChecks)!=null&&j[k]&&(ne.baseAddressConfig?B.push((0,c.extraAccountToAccountMeta)(R,ne.baseAddressConfig,{...$,program:ne.baseAddress})):B.push({pubkey:ne.baseAddress,isSigner:!1,isWritable:!1}))}),(U=D.lifecycleHooks)==null||U.forEach(ne=>{var j,fe;(j=ne.lifecycleChecks)!=null&&j[k]&&(B.push({pubkey:ne.hookedProgram,isSigner:!1,isWritable:!1}),(fe=ne.extraAccounts)==null||fe.forEach(be=>{B.push((0,c.extraAccountToAccountMeta)(R,be,{...$,program:ne.hookedProgram}))}))}),(Z=D.linkedLifecycleHooks)==null||Z.forEach(ne=>{var j,fe;(j=ne.lifecycleChecks)!=null&&j[k]&&(B.push({pubkey:ne.hookedProgram,isSigner:!1,isWritable:!1}),(fe=ne.extraAccounts)==null||fe.forEach(be=>{B.push((0,c.extraAccountToAccountMeta)(R,be,{...$,program:ne.hookedProgram}))}))}),B};e.findExtraAccounts=M}(HB)),HB}var Mk={};Object.defineProperty(Mk,"__esModule",{value:!0});Mk.updateAuthorityToBase=void 0;function ETt(e){return e.type==="None"?{__kind:"None"}:{__kind:e.type,fields:[e.address]}}Mk.updateAuthorityToBase=ETt;var sde;function Pa(){return sde||(sde=1,function(e){var t=Er&&Er.__createBinding||(Object.create?function(n,i,s,c){c===void 0&&(c=s);var p=Object.getOwnPropertyDescriptor(i,s);(!p||("get"in p?!i.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,c,p)}:function(n,i,s,c){c===void 0&&(c=s),n[c]=i[s]}),r=Er&&Er.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(eh,e),r(Ik(),e),r(M8e(),e),r(oS(),e),r(mTt(),e),r(k8e(),e),r(sS,e),r(D8e,e),r(xs,e),r(STt(),e),r(v3(),e),r(Mk,e),r(Uy,e),r(y3,e),r(Wy,e),r(z8e(),e),r(dd,e),r(B8e(),e),r(F1,e),r(Vy,e)}(jB)),jB}var hp={},lde;function NG(){if(lde)return hp;lde=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.getPluginRegistryV1AccountDataSerializer=hp.getAdapterRegistryRecordSerializer=hp.getRegistryRecordSerializer=void 0;const e=Rt,t=Ti();function r(){return{description:"RegistryRecordWithUnknown",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(s,c=0)=>{let[p,o,g]=[t.PluginType.Attributes,c+1,!0];try{[p,o]=(0,t.getPluginTypeSerializer)().deserialize(s,c),g=!1}catch{}const[y,x]=(0,t.getBasePluginAuthoritySerializer)().deserialize(s,o),[E,A]=(0,e.u64)().deserialize(s,x);return[{pluginType:p,authority:y,offset:E,isUnknown:g},A]}}}hp.getRegistryRecordSerializer=r;function n(){return{description:"AdapterRegistryRecordWithUnknown",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(s,c=0)=>{let[p,o,g]=[t.ExternalPluginAdapterType.AppData,c+1,!0];try{[p,o]=(0,t.getExternalPluginAdapterTypeSerializer)().deserialize(s,c),g=!1}catch{}const[y,x]=(0,t.getBasePluginAuthoritySerializer)().deserialize(s,o),[E,A]=(0,e.option)((0,e.array)((0,e.tuple)([(0,t.getHookableLifecycleEventSerializer)(),(0,t.getExternalCheckResultSerializer)()]))).deserialize(s,x),[M,R]=(0,e.u64)().deserialize(s,A),[k,D]=(0,e.option)((0,e.u64)()).deserialize(s,R),[$,B]=(0,e.option)((0,e.u64)()).deserialize(s,D);return[{pluginType:p,authority:y,lifecycleChecks:E,offset:M,isUnknown:g,dataOffset:k,dataLen:$},B]}}}hp.getAdapterRegistryRecordSerializer=n;function i(){return{description:"PluginRegistryV1AccountData",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(s,c=0)=>{const[p,o]=(0,t.getKeySerializer)().deserialize(s,c);if(p!==t.Key.PluginRegistryV1)throw new Error(`Expected a PluginRegistryV1 account, got key: ${p}`);const[g,y]=(0,e.array)(r()).deserialize(s,o),[x,E]=(0,e.array)(n()).deserialize(s,y);return[{key:p,registry:g.filter(A=>!A.isUnknown),externalRegistry:x.filter(A=>!A.isUnknown)},E]}}}return hp.getPluginRegistryV1AccountDataSerializer=i,hp}var ude;function ATt(){if(ude)return W2;ude=1,Object.defineProperty(W2,"__esModule",{value:!0}),W2.getAssetV1AccountDataSerializer=void 0;const e=Ti(),t=ck,r=Pa(),n=NG(),i=v3(),s=()=>({description:"AssetAccountData",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(c,p=0)=>{const[o,g]=(0,t.getAssetV1AccountDataSerializer)().deserialize(c,p);if(o.key!==e.Key.AssetV1)throw new Error(`Expected an Asset account, got key: ${o.key}`);let y,x,E,A,M=g;c.length!==g&&([y]=(0,e.getPluginHeaderV1AccountDataSerializer)().deserialize(c,g),[x,M]=(0,n.getPluginRegistryV1AccountDataSerializer)().deserialize(c,Number(y.pluginRegistryOffset)),E=(0,r.registryRecordsToPluginsList)(x.registry,c),A=(0,i.externalRegistryRecordsToExternalPluginAdapterList)(x.externalRegistry,c));const R={type:o.updateAuthority.__kind,address:o.updateAuthority.__kind==="None"?void 0:o.updateAuthority.fields[0]};return[{pluginHeader:y,...E,...A,...o,updateAuthority:R},M]}});return W2.getAssetV1AccountDataSerializer=s,W2}var _6={},kk={};Object.defineProperty(kk,"__esModule",{value:!0});kk.getCollectionV1AccountDataSerializer=void 0;const Q_=Rt,TTt=Kr();function PTt(){return(0,Q_.struct)([["key",(0,TTt.getKeySerializer)()],["updateAuthority",(0,Q_.publicKey)()],["name",(0,Q_.string)()],["uri",(0,Q_.string)()],["numMinted",(0,Q_.u32)()],["currentSize",(0,Q_.u32)()]],{description:"CollectionV1AccountData"})}kk.getCollectionV1AccountDataSerializer=PTt;var cde;function CTt(){if(cde)return _6;cde=1,Object.defineProperty(_6,"__esModule",{value:!0}),_6.getCollectionV1AccountDataSerializer=void 0;const e=Ti(),t=kk,r=Pa(),n=NG(),i=()=>({description:"CollectionAccountData",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(s,c=0)=>{const[p,o]=(0,t.getCollectionV1AccountDataSerializer)().deserialize(s,c);if(p.key!==e.Key.CollectionV1)throw new Error(`Expected an Collection account, got key: ${p.key}`);let g,y,x,E,A=o;return s.length!==o&&([g]=(0,e.getPluginHeaderV1AccountDataSerializer)().deserialize(s,o),[y,A]=(0,n.getPluginRegistryV1AccountDataSerializer)().deserialize(s,Number(g.pluginRegistryOffset)),x=(0,r.registryRecordsToPluginsList)(y.registry,s),E=(0,r.externalRegistryRecordsToExternalPluginAdapterList)(y.externalRegistry,s)),[{pluginHeader:g,...x,...E,...p},A]}});return _6.getCollectionV1AccountDataSerializer=i,_6}var dde;function FG(){return dde||(dde=1,function(e){var t=Er&&Er.__createBinding||(Object.create?function(n,i,s,c){c===void 0&&(c=s);var p=Object.getOwnPropertyDescriptor(i,s);(!p||("get"in p?!i.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,c,p)}:function(n,i,s,c){c===void 0&&(c=s),n[c]=i[s]}),r=Er&&Er.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ATt(),e),r(CTt(),e),r(NG(),e)}(RB)),RB}var fde;function ITt(){if(fde)return al;fde=1,Object.defineProperty(al,"__esModule",{value:!0}),al.getAssetV1GpaBuilder=al.safeFetchAllAssetV1=al.fetchAllAssetV1=al.safeFetchAssetV1=al.fetchAssetV1=al.deserializeAssetV1=void 0;const e=Rn,t=Rt,r=FG(),n=Kr();function i(y){return(0,e.deserializeAccount)(y,(0,r.getAssetV1AccountDataSerializer)())}al.deserializeAssetV1=i;async function s(y,x,E){const A=await y.rpc.getAccount((0,e.publicKey)(x,!1),E);return(0,e.assertAccountExists)(A,"AssetV1"),i(A)}al.fetchAssetV1=s;async function c(y,x,E){const A=await y.rpc.getAccount((0,e.publicKey)(x,!1),E);return A.exists?i(A):null}al.safeFetchAssetV1=c;async function p(y,x,E){return(await y.rpc.getAccounts(x.map(M=>(0,e.publicKey)(M,!1)),E)).map(M=>((0,e.assertAccountExists)(M,"AssetV1"),i(M)))}al.fetchAllAssetV1=p;async function o(y,x,E){return(await y.rpc.getAccounts(x.map(M=>(0,e.publicKey)(M,!1)),E)).filter(M=>M.exists).map(M=>i(M))}al.safeFetchAllAssetV1=o;function g(y){const x=y.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,e.gpaBuilder)(y,x).registerFields({key:[0,(0,n.getKeySerializer)()],owner:[1,(0,t.publicKey)()],updateAuthority:[33,(0,n.getBaseUpdateAuthoritySerializer)()],name:[null,(0,t.string)()],uri:[null,(0,t.string)()],seq:[null,(0,t.option)((0,t.u64)())]}).deserializeUsing(E=>i(E))}return al.getAssetV1GpaBuilder=g,al}var sl={},pde;function MTt(){if(pde)return sl;pde=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.getCollectionV1GpaBuilder=sl.safeFetchAllCollectionV1=sl.fetchAllCollectionV1=sl.safeFetchCollectionV1=sl.fetchCollectionV1=sl.deserializeCollectionV1=void 0;const e=Rn,t=Rt,r=FG(),n=Kr();function i(y){return(0,e.deserializeAccount)(y,(0,r.getCollectionV1AccountDataSerializer)())}sl.deserializeCollectionV1=i;async function s(y,x,E){const A=await y.rpc.getAccount((0,e.publicKey)(x,!1),E);return(0,e.assertAccountExists)(A,"CollectionV1"),i(A)}sl.fetchCollectionV1=s;async function c(y,x,E){const A=await y.rpc.getAccount((0,e.publicKey)(x,!1),E);return A.exists?i(A):null}sl.safeFetchCollectionV1=c;async function p(y,x,E){return(await y.rpc.getAccounts(x.map(M=>(0,e.publicKey)(M,!1)),E)).map(M=>((0,e.assertAccountExists)(M,"CollectionV1"),i(M)))}sl.fetchAllCollectionV1=p;async function o(y,x,E){return(await y.rpc.getAccounts(x.map(M=>(0,e.publicKey)(M,!1)),E)).filter(M=>M.exists).map(M=>i(M))}sl.safeFetchAllCollectionV1=o;function g(y){const x=y.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,e.gpaBuilder)(y,x).registerFields({key:[0,(0,n.getKeySerializer)()],updateAuthority:[1,(0,t.publicKey)()],name:[33,(0,t.string)()],uri:[null,(0,t.string)()],numMinted:[null,(0,t.u32)()],currentSize:[null,(0,t.u32)()]}).deserializeUsing(E=>i(E))}return sl.getCollectionV1GpaBuilder=g,sl}var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.getHashedAssetV1Size=Xo.getHashedAssetV1GpaBuilder=Xo.safeFetchAllHashedAssetV1=Xo.fetchAllHashedAssetV1=Xo.safeFetchHashedAssetV1=Xo.fetchHashedAssetV1=Xo.deserializeHashedAssetV1=Xo.getHashedAssetV1AccountDataSerializer=void 0;const j1=Rn,rU=Rt,N8e=Kr();function F8e(){return(0,rU.struct)([["key",(0,N8e.getKeySerializer)()],["hash",(0,rU.bytes)({size:32})]],{description:"HashedAssetV1AccountData"})}Xo.getHashedAssetV1AccountDataSerializer=F8e;function _3(e){return(0,j1.deserializeAccount)(e,F8e())}Xo.deserializeHashedAssetV1=_3;async function kTt(e,t,r){const n=await e.rpc.getAccount((0,j1.publicKey)(t,!1),r);return(0,j1.assertAccountExists)(n,"HashedAssetV1"),_3(n)}Xo.fetchHashedAssetV1=kTt;async function OTt(e,t,r){const n=await e.rpc.getAccount((0,j1.publicKey)(t,!1),r);return n.exists?_3(n):null}Xo.safeFetchHashedAssetV1=OTt;async function DTt(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,j1.publicKey)(i,!1)),r)).map(i=>((0,j1.assertAccountExists)(i,"HashedAssetV1"),_3(i)))}Xo.fetchAllHashedAssetV1=DTt;async function RTt(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,j1.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>_3(i))}Xo.safeFetchAllHashedAssetV1=RTt;function $Tt(e){const t=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,j1.gpaBuilder)(e,t).registerFields({key:[0,(0,N8e.getKeySerializer)()],hash:[1,(0,rU.bytes)({size:32})]}).deserializeUsing(r=>_3(r))}Xo.getHashedAssetV1GpaBuilder=$Tt;function LTt(){return 33}Xo.getHashedAssetV1Size=LTt;var Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.getPluginHeaderV1Size=Yo.getPluginHeaderV1GpaBuilder=Yo.safeFetchAllPluginHeaderV1=Yo.fetchAllPluginHeaderV1=Yo.safeFetchPluginHeaderV1=Yo.fetchPluginHeaderV1=Yo.deserializePluginHeaderV1=Yo.getPluginHeaderV1AccountDataSerializer=void 0;const V1=Rn,nU=Rt,j8e=Kr();function V8e(){return(0,nU.struct)([["key",(0,j8e.getKeySerializer)()],["pluginRegistryOffset",(0,nU.u64)()]],{description:"PluginHeaderV1AccountData"})}Yo.getPluginHeaderV1AccountDataSerializer=V8e;function b3(e){return(0,V1.deserializeAccount)(e,V8e())}Yo.deserializePluginHeaderV1=b3;async function BTt(e,t,r){const n=await e.rpc.getAccount((0,V1.publicKey)(t,!1),r);return(0,V1.assertAccountExists)(n,"PluginHeaderV1"),b3(n)}Yo.fetchPluginHeaderV1=BTt;async function zTt(e,t,r){const n=await e.rpc.getAccount((0,V1.publicKey)(t,!1),r);return n.exists?b3(n):null}Yo.safeFetchPluginHeaderV1=zTt;async function NTt(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,V1.publicKey)(i,!1)),r)).map(i=>((0,V1.assertAccountExists)(i,"PluginHeaderV1"),b3(i)))}Yo.fetchAllPluginHeaderV1=NTt;async function FTt(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,V1.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>b3(i))}Yo.safeFetchAllPluginHeaderV1=FTt;function jTt(e){const t=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,V1.gpaBuilder)(e,t).registerFields({key:[0,(0,j8e.getKeySerializer)()],pluginRegistryOffset:[1,(0,nU.u64)()]}).deserializeUsing(r=>b3(r))}Yo.getPluginHeaderV1GpaBuilder=jTt;function VTt(){return 9}Yo.getPluginHeaderV1Size=VTt;var ll={},hde;function UTt(){if(hde)return ll;hde=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.getPluginRegistryV1GpaBuilder=ll.safeFetchAllPluginRegistryV1=ll.fetchAllPluginRegistryV1=ll.safeFetchPluginRegistryV1=ll.fetchPluginRegistryV1=ll.deserializePluginRegistryV1=void 0;const e=Rn,t=Rt,r=FG(),n=Kr();function i(y){return(0,e.deserializeAccount)(y,(0,r.getPluginRegistryV1AccountDataSerializer)())}ll.deserializePluginRegistryV1=i;async function s(y,x,E){const A=await y.rpc.getAccount((0,e.publicKey)(x,!1),E);return(0,e.assertAccountExists)(A,"PluginRegistryV1"),i(A)}ll.fetchPluginRegistryV1=s;async function c(y,x,E){const A=await y.rpc.getAccount((0,e.publicKey)(x,!1),E);return A.exists?i(A):null}ll.safeFetchPluginRegistryV1=c;async function p(y,x,E){return(await y.rpc.getAccounts(x.map(M=>(0,e.publicKey)(M,!1)),E)).map(M=>((0,e.assertAccountExists)(M,"PluginRegistryV1"),i(M)))}ll.fetchAllPluginRegistryV1=p;async function o(y,x,E){return(await y.rpc.getAccounts(x.map(M=>(0,e.publicKey)(M,!1)),E)).filter(M=>M.exists).map(M=>i(M))}ll.safeFetchAllPluginRegistryV1=o;function g(y){const x=y.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,e.gpaBuilder)(y,x).registerFields({key:[0,(0,n.getKeySerializer)()],registry:[1,(0,t.array)((0,n.getRegistryRecordSerializer)())],externalRegistry:[null,(0,t.array)((0,n.getExternalRegistryRecordSerializer)())]}).deserializeUsing(E=>i(E))}return ll.getPluginRegistryV1GpaBuilder=g,ll}var mde;function WTt(){return mde||(mde=1,function(e){var t=Er&&Er.__createBinding||(Object.create?function(n,i,s,c){c===void 0&&(c=s);var p=Object.getOwnPropertyDescriptor(i,s);(!p||("get"in p?!i.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,c,p)}:function(n,i,s,c){c===void 0&&(c=s),n[c]=i[s]}),r=Er&&Er.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ITt(),e),r(MTt(),e),r(Xo,e),r(Yo,e),r(UTt(),e)}(DB)),DB}var jG={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.getMplCoreErrorFromName=gr.getMplCoreErrorFromCode=gr.CannotAddDataSectionError=gr.InvalidPluginAdapterTargetError=gr.NoDataSourcesError=gr.UnsupportedOperationError=gr.TwoDataSourcesError=gr.CollectionMustBeEmptyError=gr.InvalidPluginOperationError=gr.MissingSignerError=gr.UninitializedOracleAccountError=gr.InvalidOracleAccountDataError=gr.DuplicateLifecycleChecksError=gr.RequiresLifecycleCheckError=gr.OracleCanRejectOnlyError=gr.MissingExternalPluginAdapterAccountError=gr.MissingAssetError=gr.ExternalPluginAdapterAlreadyExistsError=gr.ExternalPluginAdapterNotFoundError=gr.InvalidLogWrapperProgramError=gr.ConflictingAuthorityError=gr.InvalidPluginSettingError=gr.CannotRedelegateError=gr.NoApprovalsError=gr.MissingCollectionError=gr.InvalidAssetError=gr.NotAvailableError=gr.MissingSystemProgramError=gr.MissingNewOwnerError=gr.MissingUpdateAuthorityError=gr.InvalidCollectionError=gr.AlreadyDecompressedError=gr.AlreadyCompressedError=gr.NumericalOverflowErrorError=gr.PluginAlreadyExistsError=gr.CannotBurnCollectionError=gr.CannotMigratePrintsError=gr.CannotMigrateMasterWithSupplyError=gr.MissingCompressionProofError=gr.AssetIsFrozenError=gr.InvalidAuthorityError=gr.InvalidPluginError=gr.IncorrectAssetHashError=gr.IncorrectAccountError=gr.NumericalOverflowError=gr.PluginNotFoundError=gr.PluginsNotInitializedError=gr.SerializationErrorError=gr.DeserializationErrorError=gr.InvalidSystemProgramError=void 0;const Fn=Rn,$n=new Map,Ln=new Map;class VG extends Fn.ProgramError{constructor(t,r){super("Invalid System Program",t,r),this.name="InvalidSystemProgram",this.code=0}}gr.InvalidSystemProgramError=VG;$n.set(0,VG);Ln.set("InvalidSystemProgram",VG);class UG extends Fn.ProgramError{constructor(t,r){super("Error deserializing account",t,r),this.name="DeserializationError",this.code=1}}gr.DeserializationErrorError=UG;$n.set(1,UG);Ln.set("DeserializationError",UG);class WG extends Fn.ProgramError{constructor(t,r){super("Error serializing account",t,r),this.name="SerializationError",this.code=2}}gr.SerializationErrorError=WG;$n.set(2,WG);Ln.set("SerializationError",WG);class KG extends Fn.ProgramError{constructor(t,r){super("Plugins not initialized",t,r),this.name="PluginsNotInitialized",this.code=3}}gr.PluginsNotInitializedError=KG;$n.set(3,KG);Ln.set("PluginsNotInitialized",KG);class HG extends Fn.ProgramError{constructor(t,r){super("Plugin not found",t,r),this.name="PluginNotFound",this.code=4}}gr.PluginNotFoundError=HG;$n.set(4,HG);Ln.set("PluginNotFound",HG);class GG extends Fn.ProgramError{constructor(t,r){super("Numerical Overflow",t,r),this.name="NumericalOverflow",this.code=5}}gr.NumericalOverflowError=GG;$n.set(5,GG);Ln.set("NumericalOverflow",GG);class qG extends Fn.ProgramError{constructor(t,r){super("Incorrect account",t,r),this.name="IncorrectAccount",this.code=6}}gr.IncorrectAccountError=qG;$n.set(6,qG);Ln.set("IncorrectAccount",qG);class ZG extends Fn.ProgramError{constructor(t,r){super("Incorrect asset hash",t,r),this.name="IncorrectAssetHash",this.code=7}}gr.IncorrectAssetHashError=ZG;$n.set(7,ZG);Ln.set("IncorrectAssetHash",ZG);class XG extends Fn.ProgramError{constructor(t,r){super("Invalid Plugin",t,r),this.name="InvalidPlugin",this.code=8}}gr.InvalidPluginError=XG;$n.set(8,XG);Ln.set("InvalidPlugin",XG);class YG extends Fn.ProgramError{constructor(t,r){super("Invalid Authority",t,r),this.name="InvalidAuthority",this.code=9}}gr.InvalidAuthorityError=YG;$n.set(9,YG);Ln.set("InvalidAuthority",YG);class JG extends Fn.ProgramError{constructor(t,r){super("Cannot transfer a frozen asset",t,r),this.name="AssetIsFrozen",this.code=10}}gr.AssetIsFrozenError=JG;$n.set(10,JG);Ln.set("AssetIsFrozen",JG);class QG extends Fn.ProgramError{constructor(t,r){super("Missing compression proof",t,r),this.name="MissingCompressionProof",this.code=11}}gr.MissingCompressionProofError=QG;$n.set(11,QG);Ln.set("MissingCompressionProof",QG);class eq extends Fn.ProgramError{constructor(t,r){super("Cannot migrate a master edition used for prints",t,r),this.name="CannotMigrateMasterWithSupply",this.code=12}}gr.CannotMigrateMasterWithSupplyError=eq;$n.set(12,eq);Ln.set("CannotMigrateMasterWithSupply",eq);class tq extends Fn.ProgramError{constructor(t,r){super("Cannot migrate a print edition",t,r),this.name="CannotMigratePrints",this.code=13}}gr.CannotMigratePrintsError=tq;$n.set(13,tq);Ln.set("CannotMigratePrints",tq);class rq extends Fn.ProgramError{constructor(t,r){super("Cannot burn a collection NFT",t,r),this.name="CannotBurnCollection",this.code=14}}gr.CannotBurnCollectionError=rq;$n.set(14,rq);Ln.set("CannotBurnCollection",rq);class nq extends Fn.ProgramError{constructor(t,r){super("Plugin already exists",t,r),this.name="PluginAlreadyExists",this.code=15}}gr.PluginAlreadyExistsError=nq;$n.set(15,nq);Ln.set("PluginAlreadyExists",nq);class iq extends Fn.ProgramError{constructor(t,r){super("Numerical overflow",t,r),this.name="NumericalOverflowError",this.code=16}}gr.NumericalOverflowErrorError=iq;$n.set(16,iq);Ln.set("NumericalOverflowError",iq);class aq extends Fn.ProgramError{constructor(t,r){super("Already compressed account",t,r),this.name="AlreadyCompressed",this.code=17}}gr.AlreadyCompressedError=aq;$n.set(17,aq);Ln.set("AlreadyCompressed",aq);class oq extends Fn.ProgramError{constructor(t,r){super("Already decompressed account",t,r),this.name="AlreadyDecompressed",this.code=18}}gr.AlreadyDecompressedError=oq;$n.set(18,oq);Ln.set("AlreadyDecompressed",oq);class sq extends Fn.ProgramError{constructor(t,r){super("Invalid Collection passed in",t,r),this.name="InvalidCollection",this.code=19}}gr.InvalidCollectionError=sq;$n.set(19,sq);Ln.set("InvalidCollection",sq);class lq extends Fn.ProgramError{constructor(t,r){super("Missing update authority",t,r),this.name="MissingUpdateAuthority",this.code=20}}gr.MissingUpdateAuthorityError=lq;$n.set(20,lq);Ln.set("MissingUpdateAuthority",lq);class uq extends Fn.ProgramError{constructor(t,r){super("Missing new owner",t,r),this.name="MissingNewOwner",this.code=21}}gr.MissingNewOwnerError=uq;$n.set(21,uq);Ln.set("MissingNewOwner",uq);class cq extends Fn.ProgramError{constructor(t,r){super("Missing system program",t,r),this.name="MissingSystemProgram",this.code=22}}gr.MissingSystemProgramError=cq;$n.set(22,cq);Ln.set("MissingSystemProgram",cq);class dq extends Fn.ProgramError{constructor(t,r){super("Feature not available",t,r),this.name="NotAvailable",this.code=23}}gr.NotAvailableError=dq;$n.set(23,dq);Ln.set("NotAvailable",dq);class fq extends Fn.ProgramError{constructor(t,r){super("Invalid Asset passed in",t,r),this.name="InvalidAsset",this.code=24}}gr.InvalidAssetError=fq;$n.set(24,fq);Ln.set("InvalidAsset",fq);class pq extends Fn.ProgramError{constructor(t,r){super("Missing collection",t,r),this.name="MissingCollection",this.code=25}}gr.MissingCollectionError=pq;$n.set(25,pq);Ln.set("MissingCollection",pq);class hq extends Fn.ProgramError{constructor(t,r){super("Neither the asset or any plugins have approved this operation",t,r),this.name="NoApprovals",this.code=26}}gr.NoApprovalsError=hq;$n.set(26,hq);Ln.set("NoApprovals",hq);class mq extends Fn.ProgramError{constructor(t,r){super("Plugin Manager cannot redelegate a delegated plugin without revoking first",t,r),this.name="CannotRedelegate",this.code=27}}gr.CannotRedelegateError=mq;$n.set(27,mq);Ln.set("CannotRedelegate",mq);class gq extends Fn.ProgramError{constructor(t,r){super("Invalid setting for plugin",t,r),this.name="InvalidPluginSetting",this.code=28}}gr.InvalidPluginSettingError=gq;$n.set(28,gq);Ln.set("InvalidPluginSetting",gq);class yq extends Fn.ProgramError{constructor(t,r){super("Cannot specify both an update authority and collection on an asset",t,r),this.name="ConflictingAuthority",this.code=29}}gr.ConflictingAuthorityError=yq;$n.set(29,yq);Ln.set("ConflictingAuthority",yq);class vq extends Fn.ProgramError{constructor(t,r){super("Invalid Log Wrapper Program",t,r),this.name="InvalidLogWrapperProgram",this.code=30}}gr.InvalidLogWrapperProgramError=vq;$n.set(30,vq);Ln.set("InvalidLogWrapperProgram",vq);class _q extends Fn.ProgramError{constructor(t,r){super("External Plugin Adapter not found",t,r),this.name="ExternalPluginAdapterNotFound",this.code=31}}gr.ExternalPluginAdapterNotFoundError=_q;$n.set(31,_q);Ln.set("ExternalPluginAdapterNotFound",_q);class bq extends Fn.ProgramError{constructor(t,r){super("External Plugin Adapter already exists",t,r),this.name="ExternalPluginAdapterAlreadyExists",this.code=32}}gr.ExternalPluginAdapterAlreadyExistsError=bq;$n.set(32,bq);Ln.set("ExternalPluginAdapterAlreadyExists",bq);class xq extends Fn.ProgramError{constructor(t,r){super("Missing asset needed for extra account PDA derivation",t,r),this.name="MissingAsset",this.code=33}}gr.MissingAssetError=xq;$n.set(33,xq);Ln.set("MissingAsset",xq);class wq extends Fn.ProgramError{constructor(t,r){super("Missing account needed for external plugin adapter",t,r),this.name="MissingExternalPluginAdapterAccount",this.code=34}}gr.MissingExternalPluginAdapterAccountError=wq;$n.set(34,wq);Ln.set("MissingExternalPluginAdapterAccount",wq);class Sq extends Fn.ProgramError{constructor(t,r){super("Oracle external plugin adapter can only be configured to reject",t,r),this.name="OracleCanRejectOnly",this.code=35}}gr.OracleCanRejectOnlyError=Sq;$n.set(35,Sq);Ln.set("OracleCanRejectOnly",Sq);class Eq extends Fn.ProgramError{constructor(t,r){super("External plugin adapter must have at least one lifecycle check",t,r),this.name="RequiresLifecycleCheck",this.code=36}}gr.RequiresLifecycleCheckError=Eq;$n.set(36,Eq);Ln.set("RequiresLifecycleCheck",Eq);class Aq extends Fn.ProgramError{constructor(t,r){super("Duplicate lifecycle checks were provided for external plugin adapter ",t,r),this.name="DuplicateLifecycleChecks",this.code=37}}gr.DuplicateLifecycleChecksError=Aq;$n.set(37,Aq);Ln.set("DuplicateLifecycleChecks",Aq);class Tq extends Fn.ProgramError{constructor(t,r){super("Could not read from oracle account",t,r),this.name="InvalidOracleAccountData",this.code=38}}gr.InvalidOracleAccountDataError=Tq;$n.set(38,Tq);Ln.set("InvalidOracleAccountData",Tq);class Pq extends Fn.ProgramError{constructor(t,r){super("Oracle account is uninitialized",t,r),this.name="UninitializedOracleAccount",this.code=39}}gr.UninitializedOracleAccountError=Pq;$n.set(39,Pq);Ln.set("UninitializedOracleAccount",Pq);class Cq extends Fn.ProgramError{constructor(t,r){super("Missing required signer for operation",t,r),this.name="MissingSigner",this.code=40}}gr.MissingSignerError=Cq;$n.set(40,Cq);Ln.set("MissingSigner",Cq);class Iq extends Fn.ProgramError{constructor(t,r){super("Invalid plugin operation",t,r),this.name="InvalidPluginOperation",this.code=41}}gr.InvalidPluginOperationError=Iq;$n.set(41,Iq);Ln.set("InvalidPluginOperation",Iq);class Mq extends Fn.ProgramError{constructor(t,r){super("Collection must be empty to be burned",t,r),this.name="CollectionMustBeEmpty",this.code=42}}gr.CollectionMustBeEmptyError=Mq;$n.set(42,Mq);Ln.set("CollectionMustBeEmpty",Mq);class kq extends Fn.ProgramError{constructor(t,r){super("Two data sources provided, only one is allowed",t,r),this.name="TwoDataSources",this.code=43}}gr.TwoDataSourcesError=kq;$n.set(43,kq);Ln.set("TwoDataSources",kq);class Oq extends Fn.ProgramError{constructor(t,r){super("External Plugin does not support this operation",t,r),this.name="UnsupportedOperation",this.code=44}}gr.UnsupportedOperationError=Oq;$n.set(44,Oq);Ln.set("UnsupportedOperation",Oq);class Dq extends Fn.ProgramError{constructor(t,r){super("No data sources provided, one is required",t,r),this.name="NoDataSources",this.code=45}}gr.NoDataSourcesError=Dq;$n.set(45,Dq);Ln.set("NoDataSources",Dq);class Rq extends Fn.ProgramError{constructor(t,r){super("This plugin adapter cannot be added to an Asset",t,r),this.name="InvalidPluginAdapterTarget",this.code=46}}gr.InvalidPluginAdapterTargetError=Rq;$n.set(46,Rq);Ln.set("InvalidPluginAdapterTarget",Rq);class $q extends Fn.ProgramError{constructor(t,r){super("Cannot add a Data Section without a linked external plugin",t,r),this.name="CannotAddDataSection",this.code=47}}gr.CannotAddDataSectionError=$q;$n.set(47,$q);Ln.set("CannotAddDataSection",$q);function KTt(e,t,r){const n=$n.get(e);return n?new n(t,r):null}gr.getMplCoreErrorFromCode=KTt;function HTt(e,t,r){const n=Ln.get(e);return n?new n(t,r):null}gr.getMplCoreErrorFromName=HTt;(function(e){var t=Er&&Er.__createBinding||(Object.create?function(n,i,s,c){c===void 0&&(c=s);var p=Object.getOwnPropertyDescriptor(i,s);(!p||("get"in p?!i.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,c,p)}:function(n,i,s,c){c===void 0&&(c=s),n[c]=i[s]}),r=Er&&Er.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(gr,e)})(jG);var U8e={},a4={},ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.getAccountMetasAndSigners=ri.expectPda=ri.expectPublicKey=ri.expectSome=void 0;const h5=Rn;function GTt(e){if(e==null)throw new Error("Expected a value but received null or undefined.");return e}ri.expectSome=GTt;function qTt(e){if(!e)throw new Error("Expected a PublicKey.");return(0,h5.publicKey)(e,!1)}ri.expectPublicKey=qTt;function ZTt(e){if(!e||!Array.isArray(e)||!(0,h5.isPda)(e))throw new Error("Expected a PDA.");return e}ri.expectPda=ZTt;function XTt(e,t,r){const n=[],i=[];return e.forEach(s=>{if(!s.value){if(t==="omitted")return;n.push({pubkey:r,isSigner:!1,isWritable:!1});return}(0,h5.isSigner)(s.value)&&i.push(s.value),n.push({pubkey:(0,h5.publicKey)(s.value,!1),isSigner:(0,h5.isSigner)(s.value),isWritable:s.isWritable})}),[n,i]}ri.getAccountMetasAndSigners=XTt;Object.defineProperty(a4,"__esModule",{value:!0});a4.addCollectionExternalPluginAdapterV1=a4.getAddCollectionExternalPluginAdapterV1InstructionDataSerializer=void 0;const YTt=Rn,GB=Rt,JTt=ri,QTt=Kr();function W8e(){return(0,GB.mapSerializer)((0,GB.struct)([["discriminator",(0,GB.u8)()],["initInfo",(0,QTt.getBaseExternalPluginAdapterInitInfoSerializer)()]],{description:"AddCollectionExternalPluginAdapterV1InstructionData"}),e=>({...e,discriminator:23}))}a4.getAddCollectionExternalPluginAdapterV1InstructionDataSerializer=W8e;function ePt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:t.collection??null},payer:{index:1,isWritable:!0,value:t.payer??null},authority:{index:2,isWritable:!1,value:t.authority??null},systemProgram:{index:3,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,JTt.getAccountMetasAndSigners)(s,"programId",r),o=W8e().serialize(i);return(0,YTt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}a4.addCollectionExternalPluginAdapterV1=ePt;var o4={};Object.defineProperty(o4,"__esModule",{value:!0});o4.addCollectionPluginV1=o4.getAddCollectionPluginV1InstructionDataSerializer=void 0;const K8e=Rn,DA=Rt,tPt=ri,gde=Kr();function H8e(){return(0,DA.mapSerializer)((0,DA.struct)([["discriminator",(0,DA.u8)()],["plugin",(0,gde.getPluginSerializer)()],["initAuthority",(0,DA.option)((0,gde.getBasePluginAuthoritySerializer)())]],{description:"AddCollectionPluginV1InstructionData"}),e=>({...e,discriminator:3,initAuthority:e.initAuthority??(0,K8e.none)()}))}o4.getAddCollectionPluginV1InstructionDataSerializer=H8e;function rPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:t.collection??null},payer:{index:1,isWritable:!0,value:t.payer??null},authority:{index:2,isWritable:!1,value:t.authority??null},systemProgram:{index:3,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,tPt.getAccountMetasAndSigners)(s,"programId",r),o=H8e().serialize(i);return(0,K8e.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}o4.addCollectionPluginV1=rPt;var s4={};Object.defineProperty(s4,"__esModule",{value:!0});s4.addExternalPluginAdapterV1=s4.getAddExternalPluginAdapterV1InstructionDataSerializer=void 0;const nPt=Rn,qB=Rt,iPt=ri,aPt=Kr();function G8e(){return(0,qB.mapSerializer)((0,qB.struct)([["discriminator",(0,qB.u8)()],["initInfo",(0,aPt.getBaseExternalPluginAdapterInitInfoSerializer)()]],{description:"AddExternalPluginAdapterV1InstructionData"}),e=>({...e,discriminator:22}))}s4.getAddExternalPluginAdapterV1InstructionDataSerializer=G8e;function oPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!0,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,iPt.getAccountMetasAndSigners)(s,"programId",r),o=G8e().serialize(i);return(0,nPt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}s4.addExternalPluginAdapterV1=oPt;var l4={};Object.defineProperty(l4,"__esModule",{value:!0});l4.addPluginV1=l4.getAddPluginV1InstructionDataSerializer=void 0;const q8e=Rn,RA=Rt,sPt=ri,yde=Kr();function Z8e(){return(0,RA.mapSerializer)((0,RA.struct)([["discriminator",(0,RA.u8)()],["plugin",(0,yde.getPluginSerializer)()],["initAuthority",(0,RA.option)((0,yde.getBasePluginAuthoritySerializer)())]],{description:"AddPluginV1InstructionData"}),e=>({...e,discriminator:2,initAuthority:e.initAuthority??(0,q8e.none)()}))}l4.getAddPluginV1InstructionDataSerializer=Z8e;function lPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!0,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,sPt.getAccountMetasAndSigners)(s,"programId",r),o=Z8e().serialize(i);return(0,q8e.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}l4.addPluginV1=lPt;var u4={};Object.defineProperty(u4,"__esModule",{value:!0});u4.approveCollectionPluginAuthorityV1=u4.getApproveCollectionPluginAuthorityV1InstructionDataSerializer=void 0;const uPt=Rn,ZB=Rt,cPt=ri,vde=Kr();function X8e(){return(0,ZB.mapSerializer)((0,ZB.struct)([["discriminator",(0,ZB.u8)()],["pluginType",(0,vde.getPluginTypeSerializer)()],["newAuthority",(0,vde.getBasePluginAuthoritySerializer)()]],{description:"ApproveCollectionPluginAuthorityV1InstructionData"}),e=>({...e,discriminator:9}))}u4.getApproveCollectionPluginAuthorityV1InstructionDataSerializer=X8e;function dPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:t.collection??null},payer:{index:1,isWritable:!0,value:t.payer??null},authority:{index:2,isWritable:!1,value:t.authority??null},systemProgram:{index:3,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,cPt.getAccountMetasAndSigners)(s,"programId",r),o=X8e().serialize(i);return(0,uPt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}u4.approveCollectionPluginAuthorityV1=dPt;var c4={};Object.defineProperty(c4,"__esModule",{value:!0});c4.approvePluginAuthorityV1=c4.getApprovePluginAuthorityV1InstructionDataSerializer=void 0;const fPt=Rn,XB=Rt,pPt=ri,_de=Kr();function Y8e(){return(0,XB.mapSerializer)((0,XB.struct)([["discriminator",(0,XB.u8)()],["pluginType",(0,_de.getPluginTypeSerializer)()],["newAuthority",(0,_de.getBasePluginAuthoritySerializer)()]],{description:"ApprovePluginAuthorityV1InstructionData"}),e=>({...e,discriminator:8}))}c4.getApprovePluginAuthorityV1InstructionDataSerializer=Y8e;function hPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!0,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,pPt.getAccountMetasAndSigners)(s,"programId",r),o=Y8e().serialize(i);return(0,fPt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}c4.approvePluginAuthorityV1=hPt;var d4={};Object.defineProperty(d4,"__esModule",{value:!0});d4.burnCollectionV1=d4.getBurnCollectionV1InstructionDataSerializer=void 0;const mPt=Rn,$A=Rt,gPt=ri,yPt=Kr();function J8e(){return(0,$A.mapSerializer)((0,$A.struct)([["discriminator",(0,$A.u8)()],["compressionProof",(0,$A.option)((0,yPt.getCompressionProofSerializer)())]],{description:"BurnCollectionV1InstructionData"}),e=>({...e,discriminator:13}))}d4.getBurnCollectionV1InstructionDataSerializer=J8e;function vPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:t.collection??null},payer:{index:1,isWritable:!0,value:t.payer??null},authority:{index:2,isWritable:!0,value:t.authority??null},logWrapper:{index:3,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,gPt.getAccountMetasAndSigners)(s,"programId",r),o=J8e().serialize(i);return(0,mPt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}d4.burnCollectionV1=vPt;var f4={};Object.defineProperty(f4,"__esModule",{value:!0});f4.burnV1=f4.getBurnV1InstructionDataSerializer=void 0;const Q8e=Rn,LA=Rt,_Pt=ri,bPt=Kr();function e9e(){return(0,LA.mapSerializer)((0,LA.struct)([["discriminator",(0,LA.u8)()],["compressionProof",(0,LA.option)((0,bPt.getCompressionProofSerializer)())]],{description:"BurnV1InstructionData"}),e=>({...e,discriminator:12,compressionProof:e.compressionProof??(0,Q8e.none)()}))}f4.getBurnV1InstructionDataSerializer=e9e;function xPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!0,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,_Pt.getAccountMetasAndSigners)(s,"programId",r),o=e9e().serialize(i);return(0,Q8e.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}f4.burnV1=xPt;var p4={};Object.defineProperty(p4,"__esModule",{value:!0});p4.collect=p4.getCollectInstructionDataSerializer=void 0;const YB=Rn,JB=Rt,wPt=ri;function t9e(){return(0,JB.mapSerializer)((0,JB.struct)([["discriminator",(0,JB.u8)()]],{description:"CollectInstructionData"}),e=>({...e,discriminator:19}))}p4.getCollectInstructionDataSerializer=t9e;function SPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={recipient1:{index:0,isWritable:!0,value:t.recipient1??null},recipient2:{index:1,isWritable:!0,value:t.recipient2??null}};n.recipient1.value||(n.recipient1.value=(0,YB.publicKey)("8AT6o8Qk5T9QnZvPThMrF9bcCQLTGkyGvVZZzHgCw11v")),n.recipient2.value||(n.recipient2.value=(0,YB.publicKey)("MmHsqX4LxTfifxoH8BVRLUKrwDn1LPCac6YcCZTHhwt"));const i=Object.values(n).sort((g,y)=>g.index-y.index),[s,c]=(0,wPt.getAccountMetasAndSigners)(i,"programId",r),p=t9e().serialize({});return(0,YB.transactionBuilder)([{instruction:{keys:s,programId:r,data:p},signers:c,bytesCreatedOnChain:0}])}p4.collect=SPt;var h4={};Object.defineProperty(h4,"__esModule",{value:!0});h4.compressV1=h4.getCompressV1InstructionDataSerializer=void 0;const EPt=Rn,QB=Rt,APt=ri;function r9e(){return(0,QB.mapSerializer)((0,QB.struct)([["discriminator",(0,QB.u8)()]],{description:"CompressV1InstructionData"}),e=>({...e,discriminator:17}))}h4.getCompressV1InstructionDataSerializer=r9e;function TPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!1,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:t.logWrapper??null}};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const i=Object.values(n).sort((g,y)=>g.index-y.index),[s,c]=(0,APt.getAccountMetasAndSigners)(i,"programId",r),p=r9e().serialize({});return(0,EPt.transactionBuilder)([{instruction:{keys:s,programId:r,data:p},signers:c,bytesCreatedOnChain:0}])}h4.compressV1=TPt;var m4={};Object.defineProperty(m4,"__esModule",{value:!0});m4.createCollectionV1=m4.getCreateCollectionV1InstructionDataSerializer=void 0;const n9e=Rn,yg=Rt,PPt=ri,CPt=Kr();function i9e(){return(0,yg.mapSerializer)((0,yg.struct)([["discriminator",(0,yg.u8)()],["name",(0,yg.string)()],["uri",(0,yg.string)()],["plugins",(0,yg.option)((0,yg.array)((0,CPt.getPluginAuthorityPairSerializer)()))]],{description:"CreateCollectionV1InstructionData"}),e=>({...e,discriminator:1,plugins:e.plugins??(0,n9e.none)()}))}m4.getCreateCollectionV1InstructionDataSerializer=i9e;function IPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:t.collection??null},updateAuthority:{index:1,isWritable:!1,value:t.updateAuthority??null},payer:{index:2,isWritable:!0,value:t.payer??null},systemProgram:{index:3,isWritable:!1,value:t.systemProgram??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,PPt.getAccountMetasAndSigners)(s,"programId",r),o=i9e().serialize(i);return(0,n9e.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}m4.createCollectionV1=IPt;var g4={};Object.defineProperty(g4,"__esModule",{value:!0});g4.createCollectionV2=g4.getCreateCollectionV2InstructionDataSerializer=void 0;const a9e=Rn,mp=Rt,MPt=ri,bde=Kr();function o9e(){return(0,mp.mapSerializer)((0,mp.struct)([["discriminator",(0,mp.u8)()],["name",(0,mp.string)()],["uri",(0,mp.string)()],["plugins",(0,mp.option)((0,mp.array)((0,bde.getPluginAuthorityPairSerializer)()))],["externalPluginAdapters",(0,mp.option)((0,mp.array)((0,bde.getBaseExternalPluginAdapterInitInfoSerializer)()))]],{description:"CreateCollectionV2InstructionData"}),e=>({...e,discriminator:21,plugins:e.plugins??(0,a9e.none)(),externalPluginAdapters:e.externalPluginAdapters??[]}))}g4.getCreateCollectionV2InstructionDataSerializer=o9e;function kPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:t.collection??null},updateAuthority:{index:1,isWritable:!1,value:t.updateAuthority??null},payer:{index:2,isWritable:!0,value:t.payer??null},systemProgram:{index:3,isWritable:!1,value:t.systemProgram??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,MPt.getAccountMetasAndSigners)(s,"programId",r),o=o9e().serialize(i);return(0,a9e.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}g4.createCollectionV2=kPt;var y4={};Object.defineProperty(y4,"__esModule",{value:!0});y4.createV1=y4.getCreateV1InstructionDataSerializer=void 0;const OPt=Rn,vg=Rt,DPt=ri,ez=Kr();function s9e(){return(0,vg.mapSerializer)((0,vg.struct)([["discriminator",(0,vg.u8)()],["dataState",(0,ez.getDataStateSerializer)()],["name",(0,vg.string)()],["uri",(0,vg.string)()],["plugins",(0,vg.option)((0,vg.array)((0,ez.getPluginAuthorityPairSerializer)()))]],{description:"CreateV1InstructionData"}),e=>({...e,discriminator:0,dataState:e.dataState??ez.DataState.AccountState,plugins:e.plugins??[]}))}y4.getCreateV1InstructionDataSerializer=s9e;function RPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!0,value:t.collection??null},authority:{index:2,isWritable:!1,value:t.authority??null},payer:{index:3,isWritable:!0,value:t.payer??null},owner:{index:4,isWritable:!1,value:t.owner??null},updateAuthority:{index:5,isWritable:!1,value:t.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:7,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,DPt.getAccountMetasAndSigners)(s,"programId",r),o=s9e().serialize(i);return(0,OPt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}y4.createV1=RPt;var v4={};Object.defineProperty(v4,"__esModule",{value:!0});v4.createV2=v4.getCreateV2InstructionDataSerializer=void 0;const $Pt=Rn,gp=Rt,LPt=ri,BA=Kr();function l9e(){return(0,gp.mapSerializer)((0,gp.struct)([["discriminator",(0,gp.u8)()],["dataState",(0,BA.getDataStateSerializer)()],["name",(0,gp.string)()],["uri",(0,gp.string)()],["plugins",(0,gp.option)((0,gp.array)((0,BA.getPluginAuthorityPairSerializer)()))],["externalPluginAdapters",(0,gp.option)((0,gp.array)((0,BA.getBaseExternalPluginAdapterInitInfoSerializer)()))]],{description:"CreateV2InstructionData"}),e=>({...e,discriminator:20,dataState:e.dataState??BA.DataState.AccountState,plugins:e.plugins??[],externalPluginAdapters:e.externalPluginAdapters??[]}))}v4.getCreateV2InstructionDataSerializer=l9e;function BPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!0,value:t.collection??null},authority:{index:2,isWritable:!1,value:t.authority??null},payer:{index:3,isWritable:!0,value:t.payer??null},owner:{index:4,isWritable:!1,value:t.owner??null},updateAuthority:{index:5,isWritable:!1,value:t.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:7,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,LPt.getAccountMetasAndSigners)(s,"programId",r),o=l9e().serialize(i);return(0,$Pt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}v4.createV2=BPt;var _4={};Object.defineProperty(_4,"__esModule",{value:!0});_4.decompressV1=_4.getDecompressV1InstructionDataSerializer=void 0;const zPt=Rn,tz=Rt,NPt=ri,FPt=Kr();function u9e(){return(0,tz.mapSerializer)((0,tz.struct)([["discriminator",(0,tz.u8)()],["compressionProof",(0,FPt.getCompressionProofSerializer)()]],{description:"DecompressV1InstructionData"}),e=>({...e,discriminator:18}))}_4.getDecompressV1InstructionDataSerializer=u9e;function jPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!1,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,NPt.getAccountMetasAndSigners)(s,"programId",r),o=u9e().serialize(i);return(0,zPt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}_4.decompressV1=jPt;var b4={};Object.defineProperty(b4,"__esModule",{value:!0});b4.removeCollectionExternalPluginAdapterV1=b4.getRemoveCollectionExternalPluginAdapterV1InstructionDataSerializer=void 0;const VPt=Rn,rz=Rt,UPt=ri,WPt=Kr();function c9e(){return(0,rz.mapSerializer)((0,rz.struct)([["discriminator",(0,rz.u8)()],["key",(0,WPt.getBaseExternalPluginAdapterKeySerializer)()]],{description:"RemoveCollectionExternalPluginAdapterV1InstructionData"}),e=>({...e,discriminator:25}))}b4.getRemoveCollectionExternalPluginAdapterV1InstructionDataSerializer=c9e;function KPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:t.collection??null},payer:{index:1,isWritable:!0,value:t.payer??null},authority:{index:2,isWritable:!1,value:t.authority??null},systemProgram:{index:3,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,UPt.getAccountMetasAndSigners)(s,"programId",r),o=c9e().serialize(i);return(0,VPt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}b4.removeCollectionExternalPluginAdapterV1=KPt;var x4={};Object.defineProperty(x4,"__esModule",{value:!0});x4.removeCollectionPluginV1=x4.getRemoveCollectionPluginV1InstructionDataSerializer=void 0;const HPt=Rn,nz=Rt,GPt=ri,qPt=Kr();function d9e(){return(0,nz.mapSerializer)((0,nz.struct)([["discriminator",(0,nz.u8)()],["pluginType",(0,qPt.getPluginTypeSerializer)()]],{description:"RemoveCollectionPluginV1InstructionData"}),e=>({...e,discriminator:5}))}x4.getRemoveCollectionPluginV1InstructionDataSerializer=d9e;function ZPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:t.collection??null},payer:{index:1,isWritable:!0,value:t.payer??null},authority:{index:2,isWritable:!1,value:t.authority??null},systemProgram:{index:3,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,GPt.getAccountMetasAndSigners)(s,"programId",r),o=d9e().serialize(i);return(0,HPt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}x4.removeCollectionPluginV1=ZPt;var w4={};Object.defineProperty(w4,"__esModule",{value:!0});w4.removeExternalPluginAdapterV1=w4.getRemoveExternalPluginAdapterV1InstructionDataSerializer=void 0;const XPt=Rn,iz=Rt,YPt=ri,JPt=Kr();function f9e(){return(0,iz.mapSerializer)((0,iz.struct)([["discriminator",(0,iz.u8)()],["key",(0,JPt.getBaseExternalPluginAdapterKeySerializer)()]],{description:"RemoveExternalPluginAdapterV1InstructionData"}),e=>({...e,discriminator:24}))}w4.getRemoveExternalPluginAdapterV1InstructionDataSerializer=f9e;function QPt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!0,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,YPt.getAccountMetasAndSigners)(s,"programId",r),o=f9e().serialize(i);return(0,XPt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}w4.removeExternalPluginAdapterV1=QPt;var S4={};Object.defineProperty(S4,"__esModule",{value:!0});S4.removePluginV1=S4.getRemovePluginV1InstructionDataSerializer=void 0;const eCt=Rn,az=Rt,tCt=ri,rCt=Kr();function p9e(){return(0,az.mapSerializer)((0,az.struct)([["discriminator",(0,az.u8)()],["pluginType",(0,rCt.getPluginTypeSerializer)()]],{description:"RemovePluginV1InstructionData"}),e=>({...e,discriminator:4}))}S4.getRemovePluginV1InstructionDataSerializer=p9e;function nCt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!0,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,tCt.getAccountMetasAndSigners)(s,"programId",r),o=p9e().serialize(i);return(0,eCt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}S4.removePluginV1=nCt;var E4={};Object.defineProperty(E4,"__esModule",{value:!0});E4.revokeCollectionPluginAuthorityV1=E4.getRevokeCollectionPluginAuthorityV1InstructionDataSerializer=void 0;const iCt=Rn,oz=Rt,aCt=ri,oCt=Kr();function h9e(){return(0,oz.mapSerializer)((0,oz.struct)([["discriminator",(0,oz.u8)()],["pluginType",(0,oCt.getPluginTypeSerializer)()]],{description:"RevokeCollectionPluginAuthorityV1InstructionData"}),e=>({...e,discriminator:11}))}E4.getRevokeCollectionPluginAuthorityV1InstructionDataSerializer=h9e;function sCt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:t.collection??null},payer:{index:1,isWritable:!0,value:t.payer??null},authority:{index:2,isWritable:!1,value:t.authority??null},systemProgram:{index:3,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,aCt.getAccountMetasAndSigners)(s,"programId",r),o=h9e().serialize(i);return(0,iCt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}E4.revokeCollectionPluginAuthorityV1=sCt;var A4={};Object.defineProperty(A4,"__esModule",{value:!0});A4.revokePluginAuthorityV1=A4.getRevokePluginAuthorityV1InstructionDataSerializer=void 0;const lCt=Rn,sz=Rt,uCt=ri,cCt=Kr();function m9e(){return(0,sz.mapSerializer)((0,sz.struct)([["discriminator",(0,sz.u8)()],["pluginType",(0,cCt.getPluginTypeSerializer)()]],{description:"RevokePluginAuthorityV1InstructionData"}),e=>({...e,discriminator:10}))}A4.getRevokePluginAuthorityV1InstructionDataSerializer=m9e;function dCt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!0,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,uCt.getAccountMetasAndSigners)(s,"programId",r),o=m9e().serialize(i);return(0,lCt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}A4.revokePluginAuthorityV1=dCt;var T4={};Object.defineProperty(T4,"__esModule",{value:!0});T4.transferV1=T4.getTransferV1InstructionDataSerializer=void 0;const g9e=Rn,zA=Rt,fCt=ri,pCt=Kr();function y9e(){return(0,zA.mapSerializer)((0,zA.struct)([["discriminator",(0,zA.u8)()],["compressionProof",(0,zA.option)((0,pCt.getCompressionProofSerializer)())]],{description:"TransferV1InstructionData"}),e=>({...e,discriminator:14,compressionProof:e.compressionProof??(0,g9e.none)()}))}T4.getTransferV1InstructionDataSerializer=y9e;function hCt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!1,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},newOwner:{index:4,isWritable:!1,value:t.newOwner??null},systemProgram:{index:5,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:6,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,fCt.getAccountMetasAndSigners)(s,"programId",r),o=y9e().serialize(i);return(0,g9e.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}T4.transferV1=hCt;var P4={};Object.defineProperty(P4,"__esModule",{value:!0});P4.updateCollectionExternalPluginAdapterV1=P4.getUpdateCollectionExternalPluginAdapterV1InstructionDataSerializer=void 0;const mCt=Rn,lz=Rt,gCt=ri,xde=Kr();function v9e(){return(0,lz.mapSerializer)((0,lz.struct)([["discriminator",(0,lz.u8)()],["key",(0,xde.getBaseExternalPluginAdapterKeySerializer)()],["updateInfo",(0,xde.getBaseExternalPluginAdapterUpdateInfoSerializer)()]],{description:"UpdateCollectionExternalPluginAdapterV1InstructionData"}),e=>({...e,discriminator:27}))}P4.getUpdateCollectionExternalPluginAdapterV1InstructionDataSerializer=v9e;function yCt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:t.collection??null},payer:{index:1,isWritable:!0,value:t.payer??null},authority:{index:2,isWritable:!1,value:t.authority??null},systemProgram:{index:3,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,gCt.getAccountMetasAndSigners)(s,"programId",r),o=v9e().serialize(i);return(0,mCt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}P4.updateCollectionExternalPluginAdapterV1=yCt;var C4={};Object.defineProperty(C4,"__esModule",{value:!0});C4.updateCollectionPluginV1=C4.getUpdateCollectionPluginV1InstructionDataSerializer=void 0;const vCt=Rn,uz=Rt,_Ct=ri,bCt=Kr();function _9e(){return(0,uz.mapSerializer)((0,uz.struct)([["discriminator",(0,uz.u8)()],["plugin",(0,bCt.getPluginSerializer)()]],{description:"UpdateCollectionPluginV1InstructionData"}),e=>({...e,discriminator:7}))}C4.getUpdateCollectionPluginV1InstructionDataSerializer=_9e;function xCt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:t.collection??null},payer:{index:1,isWritable:!0,value:t.payer??null},authority:{index:2,isWritable:!1,value:t.authority??null},systemProgram:{index:3,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,_Ct.getAccountMetasAndSigners)(s,"programId",r),o=_9e().serialize(i);return(0,vCt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}C4.updateCollectionPluginV1=xCt;var I4={};Object.defineProperty(I4,"__esModule",{value:!0});I4.updateCollectionV1=I4.getUpdateCollectionV1InstructionDataSerializer=void 0;const iU=Rn,_g=Rt,wCt=ri;function b9e(){return(0,_g.mapSerializer)((0,_g.struct)([["discriminator",(0,_g.u8)()],["newName",(0,_g.option)((0,_g.string)())],["newUri",(0,_g.option)((0,_g.string)())]],{description:"UpdateCollectionV1InstructionData"}),e=>({...e,discriminator:16,newName:e.newName??(0,iU.none)(),newUri:e.newUri??(0,iU.none)()}))}I4.getUpdateCollectionV1InstructionDataSerializer=b9e;function SCt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:t.collection??null},payer:{index:1,isWritable:!0,value:t.payer??null},authority:{index:2,isWritable:!1,value:t.authority??null},newUpdateAuthority:{index:3,isWritable:!1,value:t.newUpdateAuthority??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,wCt.getAccountMetasAndSigners)(s,"programId",r),o=b9e().serialize(i);return(0,iU.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}I4.updateCollectionV1=SCt;var M4={};Object.defineProperty(M4,"__esModule",{value:!0});M4.updateExternalPluginAdapterV1=M4.getUpdateExternalPluginAdapterV1InstructionDataSerializer=void 0;const ECt=Rn,cz=Rt,ACt=ri,wde=Kr();function x9e(){return(0,cz.mapSerializer)((0,cz.struct)([["discriminator",(0,cz.u8)()],["key",(0,wde.getBaseExternalPluginAdapterKeySerializer)()],["updateInfo",(0,wde.getBaseExternalPluginAdapterUpdateInfoSerializer)()]],{description:"UpdateExternalPluginAdapterV1InstructionData"}),e=>({...e,discriminator:26}))}M4.getUpdateExternalPluginAdapterV1InstructionDataSerializer=x9e;function TCt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!0,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,ACt.getAccountMetasAndSigners)(s,"programId",r),o=x9e().serialize(i);return(0,ECt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}M4.updateExternalPluginAdapterV1=TCt;var k4={};Object.defineProperty(k4,"__esModule",{value:!0});k4.updatePluginV1=k4.getUpdatePluginV1InstructionDataSerializer=void 0;const PCt=Rn,dz=Rt,CCt=ri,ICt=Kr();function w9e(){return(0,dz.mapSerializer)((0,dz.struct)([["discriminator",(0,dz.u8)()],["plugin",(0,ICt.getPluginSerializer)()]],{description:"UpdatePluginV1InstructionData"}),e=>({...e,discriminator:6}))}k4.getUpdatePluginV1InstructionDataSerializer=w9e;function MCt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!0,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,CCt.getAccountMetasAndSigners)(s,"programId",r),o=w9e().serialize(i);return(0,PCt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}k4.updatePluginV1=MCt;var O4={};Object.defineProperty(O4,"__esModule",{value:!0});O4.updateV1=O4.getUpdateV1InstructionDataSerializer=void 0;const MT=Rn,Dm=Rt,kCt=ri,OCt=Kr();function S9e(){return(0,Dm.mapSerializer)((0,Dm.struct)([["discriminator",(0,Dm.u8)()],["newName",(0,Dm.option)((0,Dm.string)())],["newUri",(0,Dm.option)((0,Dm.string)())],["newUpdateAuthority",(0,Dm.option)((0,OCt.getBaseUpdateAuthoritySerializer)())]],{description:"UpdateV1InstructionData"}),e=>({...e,discriminator:15,newName:e.newName??(0,MT.none)(),newUri:e.newUri??(0,MT.none)(),newUpdateAuthority:e.newUpdateAuthority??(0,MT.none)()}))}O4.getUpdateV1InstructionDataSerializer=S9e;function DCt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!1,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,kCt.getAccountMetasAndSigners)(s,"programId",r),o=S9e().serialize(i);return(0,MT.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}O4.updateV1=DCt;var D4={};Object.defineProperty(D4,"__esModule",{value:!0});D4.updateV2=D4.getUpdateV2InstructionDataSerializer=void 0;const kT=Rn,Rm=Rt,RCt=ri,$Ct=Kr();function E9e(){return(0,Rm.mapSerializer)((0,Rm.struct)([["discriminator",(0,Rm.u8)()],["newName",(0,Rm.option)((0,Rm.string)())],["newUri",(0,Rm.option)((0,Rm.string)())],["newUpdateAuthority",(0,Rm.option)((0,$Ct.getBaseUpdateAuthoritySerializer)())]],{description:"UpdateV2InstructionData"}),e=>({...e,discriminator:30,newName:e.newName??(0,kT.none)(),newUri:e.newUri??(0,kT.none)(),newUpdateAuthority:e.newUpdateAuthority??(0,kT.none)()}))}D4.getUpdateV2InstructionDataSerializer=E9e;function LCt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!0,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},newCollection:{index:4,isWritable:!0,value:t.newCollection??null},systemProgram:{index:5,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:6,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,RCt.getAccountMetasAndSigners)(s,"programId",r),o=E9e().serialize(i);return(0,kT.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}D4.updateV2=LCt;var R4={};Object.defineProperty(R4,"__esModule",{value:!0});R4.writeCollectionExternalPluginAdapterDataV1=R4.getWriteCollectionExternalPluginAdapterDataV1InstructionDataSerializer=void 0;const BCt=Rn,eb=Rt,zCt=ri,NCt=Kr();function A9e(){return(0,eb.mapSerializer)((0,eb.struct)([["discriminator",(0,eb.u8)()],["key",(0,NCt.getBaseExternalPluginAdapterKeySerializer)()],["data",(0,eb.option)((0,eb.bytes)({size:(0,eb.u32)()}))]],{description:"WriteCollectionExternalPluginAdapterDataV1InstructionData"}),e=>({...e,discriminator:29}))}R4.getWriteCollectionExternalPluginAdapterDataV1InstructionDataSerializer=A9e;function FCt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:t.collection??null},payer:{index:1,isWritable:!0,value:t.payer??null},authority:{index:2,isWritable:!1,value:t.authority??null},buffer:{index:3,isWritable:!1,value:t.buffer??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,zCt.getAccountMetasAndSigners)(s,"programId",r),o=A9e().serialize(i);return(0,BCt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}R4.writeCollectionExternalPluginAdapterDataV1=FCt;var $4={};Object.defineProperty($4,"__esModule",{value:!0});$4.writeExternalPluginAdapterDataV1=$4.getWriteExternalPluginAdapterDataV1InstructionDataSerializer=void 0;const jCt=Rn,tb=Rt,VCt=ri,UCt=Kr();function T9e(){return(0,tb.mapSerializer)((0,tb.struct)([["discriminator",(0,tb.u8)()],["key",(0,UCt.getBaseExternalPluginAdapterKeySerializer)()],["data",(0,tb.option)((0,tb.bytes)({size:(0,tb.u32)()}))]],{description:"WriteExternalPluginAdapterDataV1InstructionData"}),e=>({...e,discriminator:28}))}$4.getWriteExternalPluginAdapterDataV1InstructionDataSerializer=T9e;function WCt(e,t){const r=e.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:t.asset??null},collection:{index:1,isWritable:!0,value:t.collection??null},payer:{index:2,isWritable:!0,value:t.payer??null},authority:{index:3,isWritable:!1,value:t.authority??null},buffer:{index:4,isWritable:!1,value:t.buffer??null},systemProgram:{index:5,isWritable:!1,value:t.systemProgram??null},logWrapper:{index:6,isWritable:!1,value:t.logWrapper??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((y,x)=>y.index-x.index),[c,p]=(0,VCt.getAccountMetasAndSigners)(s,"programId",r),o=T9e().serialize(i);return(0,jCt.transactionBuilder)([{instruction:{keys:c,programId:r,data:o},signers:p,bytesCreatedOnChain:0}])}$4.writeExternalPluginAdapterDataV1=WCt;(function(e){var t=Er&&Er.__createBinding||(Object.create?function(n,i,s,c){c===void 0&&(c=s);var p=Object.getOwnPropertyDescriptor(i,s);(!p||("get"in p?!i.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,c,p)}:function(n,i,s,c){c===void 0&&(c=s),n[c]=i[s]}),r=Er&&Er.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(a4,e),r(o4,e),r(s4,e),r(l4,e),r(u4,e),r(c4,e),r(d4,e),r(f4,e),r(p4,e),r(h4,e),r(m4,e),r(g4,e),r(y4,e),r(v4,e),r(_4,e),r(b4,e),r(x4,e),r(w4,e),r(S4,e),r(E4,e),r(A4,e),r(T4,e),r(P4,e),r(C4,e),r(I4,e),r(M4,e),r(k4,e),r(O4,e),r(D4,e),r(R4,e),r($4,e)})(U8e);var P9e={},C9e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMplCoreProgramId=e.getMplCoreProgram=e.createMplCoreProgram=e.MPL_CORE_PROGRAM_ID=void 0;const t=jG;e.MPL_CORE_PROGRAM_ID="CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d";function r(){return{name:"mplCore",publicKey:e.MPL_CORE_PROGRAM_ID,getErrorFromCode(s,c){return(0,t.getMplCoreErrorFromCode)(s,this,c)},getErrorFromName(s,c){return(0,t.getMplCoreErrorFromName)(s,this,c)},isOnCluster(){return!0}}}e.createMplCoreProgram=r;function n(s,c){return s.programs.get("mplCore",c)}e.getMplCoreProgram=n;function i(s,c){return s.programs.getPublicKey("mplCore",e.MPL_CORE_PROGRAM_ID,c)}e.getMplCoreProgramId=i})(C9e);(function(e){var t=Er&&Er.__createBinding||(Object.create?function(n,i,s,c){c===void 0&&(c=s);var p=Object.getOwnPropertyDescriptor(i,s);(!p||("get"in p?!i.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,c,p)}:function(n,i,s,c){c===void 0&&(c=s),n[c]=i[s]}),r=Er&&Er.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(C9e,e)})(P9e);var Sde;function Ti(){return Sde||(Sde=1,function(e){var t=Er&&Er.__createBinding||(Object.create?function(n,i,s,c){c===void 0&&(c=s);var p=Object.getOwnPropertyDescriptor(i,s);(!p||("get"in p?!i.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,c,p)}:function(n,i,s,c){c===void 0&&(c=s),n[c]=i[s]}),r=Er&&Er.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(WTt(),e),r(jG,e),r(U8e,e),r(P9e,e),r(ri,e),r(Kr(),e)}(OB)),OB}var Ok={};Object.defineProperty(Ok,"__esModule",{value:!0});Ok.mplCore=void 0;const KCt=Ti(),HCt=()=>({install(e){e.programs.add((0,KCt.createMplCoreProgram)(),!1)}});Ok.mplCore=HCt;var Dk={};const GCt=U1(Qke);Object.defineProperty(Dk,"__esModule",{value:!0});Dk.hash=void 0;const qCt=Rt,ZCt=GCt;function XCt(e){return(0,ZCt.keccak_256)(Array.isArray(e)?(0,qCt.mergeBytes)(e):e)}Dk.hash=XCt;var cc={};Object.defineProperty(cc,"__esModule",{value:!0});cc.addressPluginAuthority=cc.updatePluginAuthority=cc.ownerPluginAuthority=cc.nonePluginAuthority=void 0;const Rk=Pa();function YCt(){return(0,Rk.pluginAuthority)("None")}cc.nonePluginAuthority=YCt;function JCt(){return(0,Rk.pluginAuthority)("Owner")}cc.ownerPluginAuthority=JCt;function QCt(){return(0,Rk.pluginAuthority)("UpdateAuthority")}cc.updatePluginAuthority=QCt;function eIt(e){return(0,Rk.pluginAuthority)("Address",{address:e})}cc.addressPluginAuthority=eIt;var hv={},x3={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isAssetOwner=e.isFrozen=e.deriveAssetPlugins=e.deriveExternalPluginAdapters=e.getExternalPluginAdapterKeyAsString=e.collectionAddress=void 0;const t=Rn,r=Pa();function n(y){if(y.updateAuthority.type==="Collection")return y.updateAuthority.address}e.collectionAddress=n;const i=["oracles","appDatas","lifecycleHooks","dataSections","linkedAppDatas"],s=y=>{switch(y.type){case"Oracle":return`${y.type}-${y.baseAddress}`;case"AppData":return`${y.type}-${y.dataAuthority.type}${y.dataAuthority.address?`-${y.dataAuthority.address}`:""}`;case"LifecycleHook":return`${y.type}-${y.hookedProgram}`;case"LinkedAppData":return`${y.type}-${y.dataAuthority.type}${y.dataAuthority.address?`-${y.dataAuthority.address}`:""}`;case"DataSection":return`${y.type}-${(0,e.getExternalPluginAdapterKeyAsString)(y.parentKey)}`;default:throw new Error("Unknown ExternalPluginAdapter type")}};e.getExternalPluginAdapterKeyAsString=s;const c=(y,x)=>{if(!x)return y;const E={};return i.forEach(A=>{var R,k;const M=new Set;(y[A]||x[A])&&(E[A]=[]),(R=y[A])==null||R.forEach(D=>{var $;M.add((0,e.getExternalPluginAdapterKeyAsString)(D)),($=E[A])==null||$.push(D)}),(k=x[A])==null||k.forEach(D=>{var $;M.has((0,e.getExternalPluginAdapterKeyAsString)(D))||($=E[A])==null||$.push(D)})}),E};e.deriveExternalPluginAdapters=c;function p(y,x){var D;if(!x)return y;const E=(0,e.deriveExternalPluginAdapters)(y,x);(D=E.dataSections)==null||D.forEach($=>{var U;let B,V;switch($.parentKey.type){case"LinkedAppData":V=$.parentKey.dataAuthority,B=(U=E.linkedAppDatas)==null?void 0:U.find(Z=>(0,r.comparePluginAuthorities)(V,Z.dataAuthority)),B&&(B.data=$.data);break;case"LinkedLifecycleHook":default:throw new Error("LinkedLifecycleHook currently unsupported")}});const{numMinted:A,currentSize:M,masterEdition:R,...k}=x;return{...k,...y,...E}}e.deriveAssetPlugins=p;function o(y,x){var A,M;const E=p(y,x);return((A=E.freezeDelegate)==null?void 0:A.frozen)||((M=E.permanentFreezeDelegate)==null?void 0:M.frozen)||!1}e.isFrozen=o;function g(y,x){return(0,t.publicKey)(y)===x.owner}e.isAssetOwner=g})(x3);var I9e={},th={},$l={};Object.defineProperty($l,"__esModule",{value:!0});$l.hasCollectionUpdateAuthority=$l.hasAssetUpdateAuthority=$l.hasPluginUpdateAuthority=$l.hasPluginOwnerAuthority=$l.hasPluginAddressAuthority=void 0;const Lq=Rn,M9e=x3;function tIt(e,t){return t.type==="Address"&&t.address===(0,Lq.publicKey)(e)}$l.hasPluginAddressAuthority=tIt;function rIt(e,t,r){return t.type==="Owner"&&(0,M9e.isAssetOwner)(e,r)}$l.hasPluginOwnerAuthority=rIt;function nIt(e,t,r,n){return t.type==="UpdateAuthority"&&k9e(e,r,n)}$l.hasPluginUpdateAuthority=nIt;function k9e(e,t,r){var s,c,p;const n=(0,Lq.publicKey)(e),i=(0,M9e.deriveAssetPlugins)(t,r);if(i.updateAuthority.type==="Collection"&&i.updateAuthority.address!==(r==null?void 0:r.publicKey))throw Error("Collection mismatch");return i.updateAuthority.type==="Address"&&i.updateAuthority.address===n||((s=i.updateDelegate)==null?void 0:s.authority.type)==="Address"&&((c=i.updateDelegate)==null?void 0:c.authority.address)===n||((p=i.updateDelegate)==null?void 0:p.authority.type)==="Owner"&&i.owner===n||i.updateAuthority.type==="Collection"&&(r==null?void 0:r.updateAuthority)===n}$l.hasAssetUpdateAuthority=k9e;function iIt(e,t){var n,i;const r=(0,Lq.publicKey)(e);return t.updateAuthority===r||((n=t.updateDelegate)==null?void 0:n.authority.type)==="Address"&&((i=t.updateDelegate)==null?void 0:i.authority.address)===r}$l.hasCollectionUpdateAuthority=iIt;Object.defineProperty(th,"__esModule",{value:!0});th.checkPluginAuthorities=th.pluginTypeFromAssetPluginKey=th.assetPluginKeyFromType=void 0;const aIt=Rn,O9e=Fs,D9e=Ti(),fz=x3,Ede=$l;function R9e(e){return(0,O9e.lowercaseFirstLetter)(D9e.PluginType[e])}th.assetPluginKeyFromType=R9e;function oIt(e){return D9e.PluginType[(0,O9e.capitalizeFirstLetter)(e)]}th.pluginTypeFromAssetPluginKey=oIt;function sIt({authority:e,pluginTypes:t,asset:r,collection:n}){const i=(0,fz.collectionAddress)(r);if(i&&i!==(n==null?void 0:n.publicKey))throw new Error("Collection mismatch");const s=(0,fz.deriveAssetPlugins)(r,n),c=(0,aIt.publicKey)(e),p=(0,Ede.hasAssetUpdateAuthority)(c,r,n),o=(0,fz.isAssetOwner)(c,r);return t.map(g=>{const y=s[R9e(g)];return!!(y&&((0,Ede.hasPluginAddressAuthority)(c,y.authority)||y.authority.type==="UpdateAuthority"&&p||y.authority.type==="Owner"&&o))})}th.checkPluginAuthorities=sIt;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateUpdate=e.canUpdate=e.validateBurn=e.canBurn=e.validateTransfer=e.canTransfer=e.LifecycleValidationError=void 0;const t=Ti(),r=x3,n=th,i=$l,s=Pa();var c;(function(A){A.OracleValidationFailed="Oracle validation failed.",A.NoAuthority="No authority to perform this action.",A.AssetFrozen="Asset is frozen."})(c=e.LifecycleValidationError||(e.LifecycleValidationError={}));function p(A,M,R){const k=(0,r.deriveAssetPlugins)(M,R);return(0,n.checkPluginAuthorities)({authority:A,pluginTypes:[t.PluginType.PermanentTransferDelegate],asset:k,collection:R}).some(B=>B)?!0:(0,r.isFrozen)(M,R)?!1:k.owner===A?!0:(0,n.checkPluginAuthorities)({authority:A,pluginTypes:[t.PluginType.TransferDelegate],asset:k,collection:R}).some(B=>B)}e.canTransfer=p;async function o(A,{authority:M,asset:R,collection:k,recipient:D}){var U;const $=(0,r.deriveAssetPlugins)(R,k);if((0,n.checkPluginAuthorities)({authority:M,pluginTypes:[t.PluginType.PermanentTransferDelegate],asset:$,collection:k}).some(Z=>Z))return null;if((0,r.isFrozen)(R,k))return c.AssetFrozen;if((U=$.oracles)!=null&&U.length){const Z=$.oracles.filter(ne=>{var j,fe;return(fe=(j=ne.lifecycleChecks)==null?void 0:j.transfer)==null?void 0:fe.includes(s.CheckResult.CAN_REJECT)}).filter(ne=>!!(!ne.baseAddressConfig||D||!(0,s.getExtraAccountRequiredInputs)(ne.baseAddressConfig).includes("recipient")));if(Z.length){const ne=Z.map(be=>({pubkey:(0,s.findOracleAccount)(A,be,{asset:R.publicKey,collection:k==null?void 0:k.publicKey,owner:R.owner,recipient:D}),offset:be.resultsOffset}));if(!(await A.rpc.getAccounts(ne.map(be=>be.pubkey))).map((be,pe)=>be.exists?(0,s.deserializeOracleValidation)(be.data,ne[pe].offset):null).every(be=>(be==null?void 0:be.__kind)==="Uninitialized"?!1:(be==null?void 0:be.transfer)===t.ExternalValidationResult.Pass))return c.OracleValidationFailed}}return $.owner===M||(0,n.checkPluginAuthorities)({authority:M,pluginTypes:[t.PluginType.TransferDelegate],asset:$,collection:k}).some(Z=>Z)?null:c.NoAuthority}e.validateTransfer=o;function g(A,M,R){const k=(0,r.deriveAssetPlugins)(M,R);return(0,n.checkPluginAuthorities)({authority:A,pluginTypes:[t.PluginType.PermanentBurnDelegate],asset:k,collection:R}).some(B=>B)?!0:(0,r.isFrozen)(M,R)?!1:k.owner===A?!0:(0,n.checkPluginAuthorities)({authority:A,pluginTypes:[t.PluginType.BurnDelegate],asset:M,collection:R}).some(B=>B)}e.canBurn=g;async function y(A,{authority:M,asset:R,collection:k}){var V;const D=(0,r.deriveAssetPlugins)(R,k);if((0,n.checkPluginAuthorities)({authority:M,pluginTypes:[t.PluginType.PermanentBurnDelegate],asset:D,collection:k}).some(U=>U))return null;if((0,r.isFrozen)(R,k))return c.AssetFrozen;if((V=D.oracles)!=null&&V.length){const U=D.oracles.filter(Z=>{var ne,j;return(j=(ne=Z.lifecycleChecks)==null?void 0:ne.burn)==null?void 0:j.includes(s.CheckResult.CAN_REJECT)});if(U.length){const Z=U.map(fe=>({pubkey:(0,s.findOracleAccount)(A,fe,{asset:R.publicKey,collection:k==null?void 0:k.publicKey,owner:R.owner}),offset:fe.resultsOffset}));if(!(await A.rpc.getAccounts(Z.map(fe=>fe.pubkey))).map((fe,be)=>fe.exists?(0,s.deserializeOracleValidation)(fe.data,Z[be].offset):null).every(fe=>(fe==null?void 0:fe.__kind)==="Uninitialized"?!1:(fe==null?void 0:fe.burn)===t.ExternalValidationResult.Pass))return c.OracleValidationFailed}}return D.owner===M||(0,n.checkPluginAuthorities)({authority:M,pluginTypes:[t.PluginType.BurnDelegate],asset:R,collection:k}).some(U=>U)?null:c.NoAuthority}e.validateBurn=y;function x(A,M,R){return(0,i.hasAssetUpdateAuthority)(A,M,R)}e.canUpdate=x;async function E(A,{authority:M,asset:R,collection:k}){var D;if((D=R.oracles)!=null&&D.length){const $=R.oracles.filter(B=>{var V,U;return(U=(V=B.lifecycleChecks)==null?void 0:V.update)==null?void 0:U.includes(s.CheckResult.CAN_REJECT)});if($.length){const B=$.map(Z=>({pubkey:(0,s.findOracleAccount)(A,Z,{asset:R.publicKey,collection:k==null?void 0:k.publicKey,owner:R.owner}),offset:Z.resultsOffset}));if(!(await A.rpc.getAccounts(B.map(Z=>Z.pubkey))).map((Z,ne)=>Z.exists?(0,s.deserializeOracleValidation)(Z.data,B[ne].offset):null).every(Z=>(Z==null?void 0:Z.__kind)==="Uninitialized"?!1:(Z==null?void 0:Z.update)===t.ExternalValidationResult.Pass))return c.OracleValidationFailed}}return(0,i.hasAssetUpdateAuthority)(M,R,k)?null:c.NoAuthority}e.validateUpdate=E})(I9e);var $9e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchCollection=e.fetchAsset=e.fetchCollectionsByUpdateAuthority=e.fetchAssetsByCollection=e.fetchAssetsByOwner=e.deriveAssetPluginsWithFetch=void 0;const t=Rn,r=Ti(),n=Pa(),i=x3,s=async(x,E)=>{const A=Array.from(new Set(E.map(k=>(0,i.collectionAddress)(k)))).filter(k=>!!k),R=(await(0,r.fetchAllCollectionV1)(x,A)).reduce((k,D)=>(k[D.publicKey]=D,k),{});return E.map(k=>{const D=(0,i.collectionAddress)(k);return D?(0,i.deriveAssetPlugins)(k,R[D]):k})};e.deriveAssetPluginsWithFetch=s;const c=async(x,E,A={})=>{const M=await(0,r.getAssetV1GpaBuilder)(x).whereField("key",r.Key.AssetV1).whereField("owner",(0,t.publicKey)(E)).getDeserialized();return A.skipDerivePlugins?M:(0,e.deriveAssetPluginsWithFetch)(x,M)};e.fetchAssetsByOwner=c;const p=async(x,E,A={})=>{const M=await(0,r.getAssetV1GpaBuilder)(x).whereField("key",r.Key.AssetV1).whereField("updateAuthority",(0,n.updateAuthority)("Collection",[(0,t.publicKey)(E)])).getDeserialized();return A.skipDerivePlugins?M:(0,e.deriveAssetPluginsWithFetch)(x,M)};e.fetchAssetsByCollection=p;const o=async(x,E)=>(0,r.getCollectionV1GpaBuilder)(x).whereField("key",r.Key.CollectionV1).whereField("updateAuthority",(0,t.publicKey)(E)).getDeserialized();e.fetchCollectionsByUpdateAuthority=o;const g=async(x,E,A={})=>{const M=await(0,r.fetchAssetV1)(x,(0,t.publicKey)(E));if(A.skipDerivePlugins)return M;const R=(0,i.collectionAddress)(M);return R?(0,i.deriveAssetPlugins)(M,await(0,r.fetchCollectionV1)(x,R)):M};e.fetchAsset=g;const y=async(x,E,A)=>(0,r.fetchCollectionV1)(x,(0,t.publicKey)(E),A);e.fetchCollection=y})($9e);(function(e){var t=Er&&Er.__createBinding||(Object.create?function(n,i,s,c){c===void 0&&(c=s);var p=Object.getOwnPropertyDescriptor(i,s);(!p||("get"in p?!i.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,c,p)}:function(n,i,s,c){c===void 0&&(c=s),n[c]=i[s]}),r=Er&&Er.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(x3,e),r(I9e,e),r(th,e),r($l,e),r($9e,e)})(hv);var L9e={},$k={},Ky={};Object.defineProperty(Ky,"__esModule",{value:!0});Ky.ERR_CANNOT_REVOKE=Ky.ERR_CANNOT_DELEGATE=void 0;Ky.ERR_CANNOT_DELEGATE="Cannot delegate. The target delegate is already either a plugin authority or the asset owner";Ky.ERR_CANNOT_REVOKE="Cannot revoke. Either no plugins defined or the plugin authority is already the asset owner";var lS={};Object.defineProperty(lS,"__esModule",{value:!0});lS.approvePluginAuthority=void 0;const Ade=Ti(),lIt=Pa(),uIt=(e,{plugin:t,newAuthority:r,...n})=>(0,Ade.approvePluginAuthorityV1)(e,{...n,pluginType:Ade.PluginType[t.type],newAuthority:(0,lIt.pluginAuthorityToBase)(r)});lS.approvePluginAuthority=uIt;Object.defineProperty($k,"__esModule",{value:!0});$k.legacyDelegate=void 0;const cIt=Rn,dIt=Ky,fIt=Ti(),NA=Pa(),pIt=cc,hIt=lS;function mIt(e,t,r){const n=(({freezeDelegate:g,transferDelegate:y,burnDelegate:x})=>({...g?{freezeDelegate:g}:{},...y?{transferDelegate:y}:{},...x?{burnDelegate:x}:{}}))(t);if(!Object.values(n).every(g=>{const y=t.owner,x=g.authority,E=x.address;return x.type==="Owner"?r!==y:E!==r&&E!==y}))throw new Error(dIt.ERR_CANNOT_DELEGATE);let s=(0,cIt.transactionBuilder)();const c=Object.keys(n);return c.forEach(g=>{const y=(0,NA.pluginKeyToPluginType)(g);s=s.add((0,hIt.approvePluginAuthority)(e,{asset:t.publicKey,plugin:{type:y},newAuthority:{type:"Address",address:r}}))}),["freezeDelegate","transferDelegate","burnDelegate"].filter(g=>!c.includes(g)).forEach(g=>{const y=g==="freezeDelegate"?(0,NA.createPlugin)({type:"FreezeDelegate",data:{frozen:!1}}):g==="transferDelegate"?(0,NA.createPlugin)({type:"TransferDelegate"}):(0,NA.createPlugin)({type:"BurnDelegate"});s=s.add((0,fIt.addPluginV1)(e,{asset:t.publicKey,plugin:y,initAuthority:(0,pIt.addressPluginAuthority)(r)}))}),s}$k.legacyDelegate=mIt;var Lk={};Object.defineProperty(Lk,"__esModule",{value:!0});Lk.legacyRevoke=void 0;const gIt=Rn,Tde=Ti(),yIt=Ky,vIt=Pa();function _It(e,t){const r=(({freezeDelegate:c,transferDelegate:p,burnDelegate:o})=>({...c?{freezeDelegate:c}:{},...p?{transferDelegate:p}:{},...o?{burnDelegate:o}:{}}))(t),n=Object.values(r);if(!(n.length>0&&n.every(c=>{const p=t.owner,o=c.authority;return o.type!=="Owner"&&o.address!==p})))throw new Error(yIt.ERR_CANNOT_REVOKE);let s=(0,gIt.transactionBuilder)();return Object.keys(r).forEach(c=>{const p=(0,vIt.pluginKeyToPluginType)(c);s=s.add((0,Tde.revokePluginAuthorityV1)(e,{asset:t.publicKey,pluginType:Tde.PluginType[p]}))}),s}Lk.legacyRevoke=_It;var L4={};Object.defineProperty(L4,"__esModule",{value:!0});L4.thawAsset=L4.freezeAsset=void 0;const aU=Rn,Jm=Ti(),B9e=hv,z9e=Pa(),bIt=cc;function xIt(e,{asset:t,authority:r,collection:n,delegate:i}){if((0,B9e.isFrozen)(t,n))throw new Error("Cannot freeze: asset is already frozen");if(t.freezeDelegate&&t.freezeDelegate.authority.type==="None")throw new Error("Cannot freeze: owner has made the freeze immutable until transfer");let s=(0,aU.transactionBuilder)();return t.freezeDelegate&&(t.freezeDelegate.authority.type!=="Owner"&&(s=s.add((0,Jm.revokePluginAuthorityV1)(e,{asset:t.publicKey,collection:n==null?void 0:n.publicKey,pluginType:Jm.PluginType.FreezeDelegate,authority:r}))),s=s.add((0,Jm.removePluginV1)(e,{asset:t.publicKey,collection:n==null?void 0:n.publicKey,pluginType:Jm.PluginType.FreezeDelegate,authority:r}))),s=s.add((0,Jm.addPluginV1)(e,{asset:t.publicKey,collection:n==null?void 0:n.publicKey,plugin:(0,z9e.createPlugin)({type:"FreezeDelegate",data:{frozen:!0}}),initAuthority:(0,bIt.addressPluginAuthority)((0,aU.publicKey)(i)),authority:r})),s}L4.freezeAsset=xIt;function wIt(e,{asset:t,delegate:r,collection:n}){if(!(0,B9e.isFrozen)(t,n))throw new Error("Cannot thaw: asset is not frozen");return(0,aU.transactionBuilder)().add((0,Jm.updatePluginV1)(e,{asset:t.publicKey,collection:n==null?void 0:n.publicKey,plugin:(0,z9e.createPlugin)({type:"FreezeDelegate",data:{frozen:!1}}),authority:r})).add((0,Jm.revokePluginAuthorityV1)(e,{asset:t.publicKey,collection:n==null?void 0:n.publicKey,pluginType:Jm.PluginType.FreezeDelegate,authority:r}))}L4.thawAsset=wIt;var Bk={};Object.defineProperty(Bk,"__esModule",{value:!0});Bk.create=void 0;const SIt=Rn,Pde=Ti(),pz=Pa(),EIt=hv,AIt=v3(),TIt=(e,{asset:t,plugins:r,collection:n,...i})=>{const s=i.owner||i.updateAuthority||i.payer,c={oracles:[],lifecycleHooks:[]},p=[],o=[];r==null||r.forEach(x=>{var E,A;if((0,AIt.isExternalPluginAdapterType)(x))switch(p.push(x),x.type){case"Oracle":(E=c.oracles)==null||E.push({...x,resultsOffset:x.resultsOffset||{type:"NoOffset"},baseAddress:x.baseAddress,authority:x.initPluginAuthority||{type:"UpdateAuthority"},type:"Oracle"});break;case"AppData":break;case"LifecycleHook":(A=c.lifecycleHooks)==null||A.push({...x,hookedProgram:x.hookedProgram,authority:x.initPluginAuthority||{type:"UpdateAuthority"},type:"LifecycleHook",schema:x.schema||Pde.ExternalPluginAdapterSchema.Binary});break}else o.push(x)});const g=(0,EIt.deriveExternalPluginAdapters)(c,n),y=(0,pz.findExtraAccounts)(e,"create",g,{asset:t.publicKey,collection:n?n.publicKey:void 0,owner:s?(0,SIt.publicKey)(s):e.identity.publicKey});return(0,Pde.createV2)(e,{...i,plugins:o.map(pz.pluginAuthorityPairV2),externalPluginAdapters:p.map(pz.createExternalPluginAdapterInitInfo),asset:t,collection:n?n.publicKey:void 0}).addRemainingAccounts(y)};Bk.create=TIt;var zk={};Object.defineProperty(zk,"__esModule",{value:!0});zk.update=void 0;const PIt=Ti(),CIt=Pa(),IIt=hv,MIt=(e,{asset:t,collection:r,name:n,uri:i,...s})=>{const c=(0,IIt.deriveExternalPluginAdapters)(t,r),p=(0,CIt.findExtraAccounts)(e,"update",c,{asset:t.publicKey,collection:r==null?void 0:r.publicKey,owner:t.owner});return(0,PIt.updateV2)(e,{...s,asset:t.publicKey,collection:r==null?void 0:r.publicKey,newName:n,newUri:i}).addRemainingAccounts(p)};zk.update=MIt;var Nk={};Object.defineProperty(Nk,"__esModule",{value:!0});Nk.transfer=void 0;const kIt=Rn,OIt=Ti(),DIt=Pa(),RIt=hv,$It=(e,{asset:t,collection:r,...n})=>{const i=(0,RIt.deriveExternalPluginAdapters)(t,r),s=(0,DIt.findExtraAccounts)(e,"transfer",i,{asset:t.publicKey,collection:r==null?void 0:r.publicKey,owner:t.owner,recipient:(0,kIt.publicKey)(n.newOwner)});return(0,OIt.transferV1)(e,{...n,asset:t.publicKey,collection:r==null?void 0:r.publicKey}).addRemainingAccounts(s)};Nk.transfer=$It;var Fk={};Object.defineProperty(Fk,"__esModule",{value:!0});Fk.burn=void 0;const LIt=Ti(),BIt=Pa(),zIt=hv,NIt=(e,{asset:t,collection:r,...n})=>{const i=(0,zIt.deriveExternalPluginAdapters)(t,r),s=(0,BIt.findExtraAccounts)(e,"burn",i,{asset:t.publicKey,collection:r==null?void 0:r.publicKey,owner:t.owner});return(0,LIt.burnV1)(e,{...n,asset:t.publicKey,collection:r==null?void 0:r.publicKey}).addRemainingAccounts(s)};Fk.burn=NIt;var jk={};Object.defineProperty(jk,"__esModule",{value:!0});jk.addPlugin=void 0;const Cde=Ti(),hz=Pa(),FIt=(e,{plugin:t,...r})=>{if((0,hz.isExternalPluginAdapterType)(t))return(0,Cde.addExternalPluginAdapterV1)(e,{...r,initInfo:(0,hz.createExternalPluginAdapterInitInfo)(t)});const n=(0,hz.pluginAuthorityPairV2)(t);return(0,Cde.addPluginV1)(e,{...r,plugin:n.plugin,initAuthority:n.authority})};jk.addPlugin=FIt;var Vk={};Object.defineProperty(Vk,"__esModule",{value:!0});Vk.removePlugin=void 0;const mz=Ti(),jIt=Pa(),VIt=sS,UIt=(e,{plugin:t,...r})=>(0,jIt.isExternalPluginAdapterType)(t)?(0,mz.removeExternalPluginAdapterV1)(e,{...r,key:(0,VIt.externalPluginAdapterKeyToBase)(t)}):(0,mz.removePluginV1)(e,{...r,pluginType:mz.PluginType[t.type]});Vk.removePlugin=UIt;var Uk={};Object.defineProperty(Uk,"__esModule",{value:!0});Uk.updatePlugin=void 0;const Ide=Ti(),FA=Pa(),WIt=(e,{plugin:t,...r})=>{if((0,FA.isExternalPluginAdapterType)(t)){const n=t;return(0,Ide.updateExternalPluginAdapterV1)(e,{...r,updateInfo:(0,FA.createExternalPluginAdapterUpdateInfo)(n),key:(0,FA.externalPluginAdapterKeyToBase)(n.key)})}return(0,Ide.updatePluginV1)(e,{...r,plugin:(0,FA.createPluginV2)(t)})};Uk.updatePlugin=WIt;var Wk={};Object.defineProperty(Wk,"__esModule",{value:!0});Wk.revokePluginAuthority=void 0;const Mde=Ti(),KIt=(e,{plugin:t,...r})=>(0,Mde.revokePluginAuthorityV1)(e,{...r,pluginType:Mde.PluginType[t.type]});Wk.revokePluginAuthority=KIt;var N9e={},Kk={};Object.defineProperty(Kk,"__esModule",{value:!0});Kk.addCollectionPlugin=void 0;const kde=Ti(),HIt=Pa(),Ode=v3(),GIt=(e,{plugin:t,...r})=>{if((0,Ode.isExternalPluginAdapterType)(t))return(0,kde.addCollectionExternalPluginAdapterV1)(e,{...r,initInfo:(0,Ode.createExternalPluginAdapterInitInfo)(t)});const n=(0,HIt.pluginAuthorityPairV2)(t);return(0,kde.addCollectionPluginV1)(e,{...r,plugin:n.plugin,initAuthority:n.authority})};Kk.addCollectionPlugin=GIt;var Hk={};Object.defineProperty(Hk,"__esModule",{value:!0});Hk.approveCollectionPluginAuthority=void 0;const Dde=Ti(),qIt=Pa(),ZIt=(e,{plugin:t,newAuthority:r,...n})=>(0,Dde.approveCollectionPluginAuthorityV1)(e,{...n,pluginType:Dde.PluginType[t.type],newAuthority:(0,qIt.pluginAuthorityToBase)(r)});Hk.approveCollectionPluginAuthority=ZIt;var F9e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.burnCollection=void 0;const t=Ti();Object.defineProperty(e,"burnCollection",{enumerable:!0,get:function(){return t.burnCollectionV1}})})(F9e);var Gk={};Object.defineProperty(Gk,"__esModule",{value:!0});Gk.createCollection=void 0;const XIt=Ti(),Rde=Pa(),YIt=v3(),JIt=(e,{plugins:t,...r})=>{const n=[],i=[];return t==null||t.forEach(s=>{(0,YIt.isExternalPluginAdapterType)(s)?i.push(s):n.push(s)}),(0,XIt.createCollectionV2)(e,{...r,plugins:n.map(Rde.pluginAuthorityPairV2),externalPluginAdapters:i.map(Rde.createExternalPluginAdapterInitInfo)})};Gk.createCollection=JIt;var qk={};Object.defineProperty(qk,"__esModule",{value:!0});qk.removeCollectionPlugin=void 0;const gz=Ti(),QIt=Pa(),eMt=v3(),tMt=(e,{plugin:t,...r})=>(0,eMt.isExternalPluginAdapterType)(t)?(0,gz.removeCollectionExternalPluginAdapterV1)(e,{...r,key:(0,QIt.externalPluginAdapterKeyToBase)(t)}):(0,gz.removeCollectionPluginV1)(e,{...r,pluginType:gz.PluginType[t.type]});qk.removeCollectionPlugin=tMt;var Zk={};Object.defineProperty(Zk,"__esModule",{value:!0});Zk.revokeCollectionPluginAuthority=void 0;const $de=Ti(),rMt=(e,{plugin:t,...r})=>(0,$de.revokeCollectionPluginAuthorityV1)(e,{...r,pluginType:$de.PluginType[t.type]});Zk.revokeCollectionPluginAuthority=rMt;var Xk={};Object.defineProperty(Xk,"__esModule",{value:!0});Xk.updateCollection=void 0;const nMt=Ti(),iMt=(e,{name:t,uri:r,...n})=>(0,nMt.updateCollectionV1)(e,{...n,newName:t,newUri:r});Xk.updateCollection=iMt;var Yk={};Object.defineProperty(Yk,"__esModule",{value:!0});Yk.updateCollectionPlugin=void 0;const Lde=Ti(),jA=Pa(),aMt=(e,{plugin:t,...r})=>{if((0,jA.isExternalPluginAdapterType)(t)){const n=t;return(0,Lde.updateCollectionExternalPluginAdapterV1)(e,{...r,updateInfo:(0,jA.createExternalPluginAdapterUpdateInfo)(n),key:(0,jA.externalPluginAdapterKeyToBase)(n.key)})}return(0,Lde.updateCollectionPluginV1)(e,{...r,plugin:(0,jA.createPluginV2)(t)})};Yk.updateCollectionPlugin=aMt;(function(e){var t=Er&&Er.__createBinding||(Object.create?function(n,i,s,c){c===void 0&&(c=s);var p=Object.getOwnPropertyDescriptor(i,s);(!p||("get"in p?!i.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,c,p)}:function(n,i,s,c){c===void 0&&(c=s),n[c]=i[s]}),r=Er&&Er.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Kk,e),r(Hk,e),r(F9e,e),r(Gk,e),r(qk,e),r(Zk,e),r(Xk,e),r(Yk,e)})(N9e);var Jk={};Object.defineProperty(Jk,"__esModule",{value:!0});Jk.writeData=void 0;const oMt=Ti(),sMt=Pa(),lMt=(e,t)=>{const{key:r,...n}=t;return(0,oMt.writeExternalPluginAdapterDataV1)(e,{...n,key:(0,sMt.externalPluginAdapterKeyToBase)(r)})};Jk.writeData=lMt;(function(e){var t=Er&&Er.__createBinding||(Object.create?function(n,i,s,c){c===void 0&&(c=s);var p=Object.getOwnPropertyDescriptor(i,s);(!p||("get"in p?!i.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,c,p)}:function(n,i,s,c){c===void 0&&(c=s),n[c]=i[s]}),r=Er&&Er.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r($k,e),r(Lk,e),r(L4,e),r(Bk,e),r(zk,e),r(Nk,e),r(Fk,e),r(jk,e),r(Vk,e),r(Uk,e),r(lS,e),r(Wk,e),r(N9e,e),r(Jk,e)})(L9e);(function(e){var t=Er&&Er.__createBinding||(Object.create?function(n,i,s,c){c===void 0&&(c=s);var p=Object.getOwnPropertyDescriptor(i,s);(!p||("get"in p?!i.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,c,p)}:function(n,i,s,c){c===void 0&&(c=s),n[c]=i[s]}),r=Er&&Er.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ti(),e),r(Ok,e),r(Dk,e),r(cc,e),r(Pa(),e),r(hv,e),r(L9e,e)})(Xd);class j9e extends GM{constructor(r,n){super(r,"plugin","Wallet Adapters",n);Zn(this,"name","WalletAdaptersError")}}class uMt extends j9e{constructor(){super('The current wallet adapter is not initialized. You likely have selected a wallet adapter but forgot to initialize it. You may do this by running the following asynchronous method: "wallet.connect();".');Zn(this,"name","UninitializedWalletAdapterError")}}class yz extends j9e{constructor(r){const n=`The current wallet adapter does not support the following operation: [${r}]. Ensure your wallet is connected using a compatible wallet adapter.`;super(n);Zn(this,"name","OperationNotSupportedByWalletAdapterError")}}const cMt=e=>({get publicKey(){if(!e.publicKey)throw new uMt;return ff(e.publicKey)},async signMessage(t){if(e.signMessage===void 0)throw new yz("signMessage");return e.signMessage(t)},async signTransaction(t){if(e.signTransaction===void 0)throw new yz("signTransaction");return hle(await e.signTransaction(mle(t)))},async signAllTransactions(t){if(e.signAllTransactions===void 0)throw new yz("signAllTransactions");const r=t.map(mle);return(await e.signAllTransactions(r)).map(hle)}}),dMt=(e,t=!0)=>({install(r){const n=cMt(e);r.use(YM(n,t))}});function fMt(e){const[t,r]=se.useState(""),[n,i]=se.useState(""),[s,c]=se.useState(""),[p,o]=se.useState(""),[g,y]=se.useState(""),[x,E]=se.useState(""),[A,M]=se.useState("");se.useState(""),se.useState("");const[R,k]=se.useState(""),[D,$]=se.useState(""),[B,V]=se.useState([]),[U,Z]=se.useState(""),ne=s9(),{connection:j}=PI(),fe=V7t(j).use(dMt(ne)).use(Xd.mplCore()),be=async()=>{console.log("Creating test collection...");const te=fx(fe);console.log("Collection Update Authority: ",te);const re=fx(fe);console.log("Collection Address: ",re);const he=await Xd.createCollection(fe,{name:t,uri:n,collection:re,plugins:[{type:"MasterEdition",maxSupply:100,name:t,uri:n},{type:"Royalties",basisPoints:500,creators:[{address:fe.identity.publicKey,percentage:100}],ruleSet:Xd.ruleSet("None")}]}).sendAndConfirm(fe);console.log("Create Collection Response: ",he)},pe=async()=>{console.log("Getting collection...");const te=await Xd.fetchCollectionV1(fe,s);console.log("Collection: ",te)},le=async()=>{console.log("Creating asset...");const te=fx(fe);console.log("Asset Address: ",te),console.log("Asset Collection Address: ",x),console.log("Asset Authority Public Key: ",A);const re=await Xd.fetchCollection(fe,x);console.log("Collection Fetch: ",re);const he=await Xd.create(fe,{name:p,uri:g,asset:te,collection:re}).sendAndConfirm(fe);console.log("Create Asset Response: ",he)},G=async()=>{console.log("Sending asset..."),console.log("Asset Address: ",B),console.log("Recipient Address: ",R);const te=await Xd.fetchCollectionV1(fe,D);console.log("Collection: ",te);let re=u6e();console.log("Builder Setup: ",re);for(const we of B){const ye=Xd.transferV1(fe,{asset:we,newOwner:R,collection:te});re=re.add(ye)}console.log("Builder with multiple assets: ",re);const he=await re.sendAndConfirm(fe);console.log("Send Asset Response: ",he)},N=async()=>{console.log("Fetching assets..."),console.log("Owner Address: ",U);const te=await Xd.fetchAssetsByOwner(fe,U,{skipDerivePlugins:!1});console.log("Assets by Owner: ",te)},Y=()=>{var te;console.log("Wallet Object: ",ne),console.log("Public Key: ",(te=ne.publicKey)==null?void 0:te.toString()),console.log("UMI Public Key: ",fe.identity.publicKey.toString())};return H.jsxs("div",{className:"flex flex-col items-start justify-start my-20 text-2xl px-28 gap-y-4",children:["This is dummy page",H.jsx("button",{className:"btn",onClick:Y,children:"Show Wallet Object"}),H.jsxs("div",{className:"flex flex-row items-center gap-x-4",children:[H.jsx("button",{className:"btn btn-primary",onClick:be,children:"Create Master Collection NFT"}),H.jsx("input",{type:"text",placeholder:"Master Collection Name",className:"input input-bordered",value:t,onChange:te=>r(te.target.value)}),H.jsx("input",{type:"text",placeholder:"Master Collection URI",className:"input input-bordered",value:n,onChange:te=>i(te.target.value)})]}),H.jsxs("div",{className:"flex flex-row items-center gap-x-4",children:[H.jsx("button",{className:"btn btn-primary",onClick:pe,children:"Get ME Coll. Details"}),H.jsx("input",{type:"text",placeholder:"collectionAddress.publicKey",className:"input input-bordered",value:s,onChange:te=>c(te.target.value)})]}),H.jsxs("div",{className:"flex flex-row items-center gap-x-4",children:[H.jsx("button",{className:"btn btn-primary",onClick:le,children:"Create One Edition NFT under ME Coll."}),H.jsxs("div",{className:"grid grid-cols-3 gap-x-3 gap-y-3",children:[H.jsx("input",{type:"text",placeholder:"M.Coll Address",className:"input input-bordered",value:x,onChange:te=>E(te.target.value)}),H.jsx("input",{type:"text",placeholder:"Asset Name",className:"input input-bordered",value:p,onChange:te=>o(te.target.value)}),H.jsx("input",{type:"text",placeholder:"Asset URI",className:"input input-bordered",value:g,onChange:te=>y(te.target.value)})]})]}),H.jsxs("div",{className:"flex flex-row items-center gap-x-4",children:[H.jsx("button",{className:"btn btn-primary",onClick:G,children:"Send Asset(NFT)"}),H.jsx("input",{type:"text",placeholder:"M.Coll Address",className:"input input-bordered",value:D,onChange:te=>$(te.target.value)}),H.jsx("input",{type:"text",placeholder:"Receiver Address",className:"input input-bordered",value:R,onChange:te=>k(te.target.value)}),H.jsx("input",{type:"text",placeholder:"Multiple Assets",className:"input input-bordered",value:B,onChange:te=>{const re=te.target.value.split(",");V(re)}})]}),H.jsxs("div",{className:"flex flex-row items-center gap-x-4",children:[H.jsx("button",{className:"btn btn-primary",onClick:N,children:"Fetch Assets(Balance)"}),H.jsx("input",{type:"text",placeholder:"Owner Address",className:"input input-bordered",value:U,onChange:te=>Z(te.target.value)})]})]})}function pMt(){const e=TN.Devnet,t=J8(),r=se.useMemo(()=>nRe(e),[e]),n=se.useMemo(()=>[new W$e],[e]);return H.jsx(iRe,{endpoint:r,children:H.jsx(L$e,{wallets:n,autoConnect:!0,children:H.jsxs(X$e,{children:[H.jsx(jLe,{}),t.pathname.includes("/dashboard")?null:H.jsx(hWe,{}),H.jsx("div",{className:"",children:H.jsxs(ICe,{children:[H.jsx(qd,{path:"/",element:H.jsx(pWe,{})}),H.jsx(qd,{path:"/about-us",element:H.jsx(mWe,{})}),H.jsx(qd,{path:"/dashboard",element:H.jsx(E2,{children:H.jsx(b2,{children:H.jsx(LJe,{})})})}),H.jsx(qd,{path:"/dashboard/launchpad",element:H.jsx(E2,{children:H.jsx(b2,{children:H.jsx(VJe,{})})})}),H.jsx(qd,{path:"/dashboard/trade",element:H.jsx(E2,{children:H.jsx(b2,{children:H.jsx(qJe,{})})})}),H.jsx(qd,{path:"/dashboard/portfolio",element:H.jsx(E2,{children:H.jsx(b2,{children:H.jsx(nQe,{})})})}),H.jsx(qd,{path:"/dashboard/history",element:H.jsx(E2,{children:H.jsx(b2,{children:H.jsx(lQe,{})})})}),H.jsx(qd,{path:"/property/view/:id",element:H.jsx(Y3t,{})}),H.jsx(qd,{path:"/dummy",element:H.jsx(fMt,{})})]})})]})})})}Zpe(document.getElementById("root")).render(H.jsx(se.StrictMode,{children:H.jsx(KHe,{children:H.jsx(OCe,{children:H.jsx(pMt,{})})})}));
